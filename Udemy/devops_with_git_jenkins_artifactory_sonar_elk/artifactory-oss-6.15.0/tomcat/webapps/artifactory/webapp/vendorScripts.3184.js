function uiCodemirrorDirective($timeout,uiCodemirrorConfig){function postLink(scope,iElement,iAttrs,ngModel){var codemirrorOptions=angular.extend({value:iElement.text()},uiCodemirrorConfig.codemirror||{},scope.$eval(iAttrs.uiCodemirror),scope.$eval(iAttrs.uiCodemirrorOpts)),codemirror=newCodemirrorEditor(iElement,codemirrorOptions);configOptionsWatcher(codemirror,iAttrs.uiCodemirror||iAttrs.uiCodemirrorOpts,scope),configNgModelLink(codemirror,ngModel,scope),configUiRefreshAttribute(codemirror,iAttrs.uiRefresh,scope),scope.$on("CodeMirror",function(event,callback){if(!angular.isFunction(callback))throw new Error("the CodeMirror event requires a callback function");callback(codemirror)}),angular.isFunction(codemirrorOptions.onLoad)&&codemirrorOptions.onLoad(codemirror)}function newCodemirrorEditor(iElement,codemirrorOptions){var codemirrot;return"TEXTAREA"===iElement[0].tagName?codemirrot=window.CodeMirror.fromTextArea(iElement[0],codemirrorOptions):(iElement.html(""),codemirrot=new window.CodeMirror(function(cm_el){iElement.append(cm_el)},codemirrorOptions)),codemirrot}function configOptionsWatcher(codemirrot,uiCodemirrorAttr,scope){function updateOptions(newValues,oldValue){angular.isObject(newValues)&&codemirrorDefaultsKeys.forEach(function(key){if(newValues.hasOwnProperty(key)){if(oldValue&&newValues[key]===oldValue[key])return;codemirrot.setOption(key,newValues[key])}})}if(uiCodemirrorAttr){var codemirrorDefaultsKeys=Object.keys(window.CodeMirror.defaults);scope.$watch(uiCodemirrorAttr,updateOptions,!0)}}function configNgModelLink(codemirror,ngModel,scope){ngModel&&(ngModel.$formatters.push(function(value){if(angular.isUndefined(value)||null===value)return"";if(angular.isObject(value)||angular.isArray(value))throw new Error("ui-codemirror cannot use an object or an array as a model");return value}),ngModel.$render=function(){var safeViewValue=ngModel.$viewValue||"";codemirror.setValue(safeViewValue)},codemirror.on("change",function(instance){var newValue=instance.getValue();newValue!==ngModel.$viewValue&&scope.$evalAsync(function(){ngModel.$setViewValue(newValue)})}))}function configUiRefreshAttribute(codeMirror,uiRefreshAttr,scope){uiRefreshAttr&&scope.$watch(uiRefreshAttr,function(newVal,oldVal){newVal!==oldVal&&$timeout(function(){codeMirror.refresh()})})}return{restrict:"EA",require:"?ngModel",compile:function(){if(angular.isUndefined(window.CodeMirror))throw new Error("ui-codemirror need CodeMirror to work... (o rly?)");return postLink}}}function uiUploader($log){"use strict";function addFiles(files){for(var i=0;i<files.length;i++)self.files.push(files[i])}function getFiles(){return self.files}function startUpload(options){self.options=options;for(var i=0;i<self.files.length&&self.activeUploads!=self.options.concurrency;i++)self.files[i].active||ajaxUpload(self.files[i],self.options.url,self.options.data)}function removeFile(file){self.files.splice(self.files.indexOf(file),1)}function removeAll(){self.files.splice(0,self.files.length)}function getHumanSize(bytes){var sizes=["n/a","bytes","KiB","MiB","GiB","TB","PB","EiB","ZiB","YiB"],i=+Math.floor(Math.log(bytes)/Math.log(1024));return(bytes/Math.pow(1024,i)).toFixed(i?1:0)+" "+sizes[isNaN(bytes)?0:i+1]}function ajaxUpload(file,url,data){var xhr,formData,prop,key="file";if(data=data||{},self.activeUploads+=1,file.active=!0,xhr=new window.XMLHttpRequest,formData=new window.FormData,xhr.open("POST",url),xhr.upload.onloadstart=function(){},xhr.upload.onprogress=function(event){event.lengthComputable&&(file.loaded=event.loaded,file.humanSize=getHumanSize(event.loaded),self.options.onProgress(file))},xhr.onload=function(){self.activeUploads-=1,self.uploadedFiles+=1,startUpload(self.options),self.options.onCompleted(file,xhr.responseText),self.uploadedFiles===self.files.length&&(self.uploadedFiles=0,self.options.onCompletedAll(self.files))},xhr.onerror=function(){},data)for(prop in data)data.hasOwnProperty(prop)&&formData.append(prop,data[prop]);return formData.append(key,file,file.name),xhr.send(formData),xhr}var self=this;return self.files=[],self.options={},self.activeUploads=0,self.uploadedFiles=0,$log.info("uiUploader loaded"),{addFiles:addFiles,getFiles:getFiles,files:self.files,startUpload:startUpload,removeFile:removeFile,removeAll:removeAll}}!function(global,factory){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=global.document?factory(global,!0):function(w){if(!w.document)throw new Error("jQuery requires a window with a document");return factory(w)}:factory(global)}("undefined"!=typeof window?window:this,function(window,noGlobal){"use strict";function DOMEval(code,doc){doc=doc||document;var script=doc.createElement("script");script.text=code,doc.head.appendChild(script).parentNode.removeChild(script)}function isArrayLike(obj){var length=!!obj&&"length"in obj&&obj.length,type=jQuery.type(obj);return"function"!==type&&!jQuery.isWindow(obj)&&("array"===type||0===length||"number"==typeof length&&length>0&&length-1 in obj)}function nodeName(elem,name){return elem.nodeName&&elem.nodeName.toLowerCase()===name.toLowerCase()}function winnow(elements,qualifier,not){return jQuery.isFunction(qualifier)?jQuery.grep(elements,function(elem,i){return!!qualifier.call(elem,i,elem)!==not}):qualifier.nodeType?jQuery.grep(elements,function(elem){return elem===qualifier!==not}):"string"!=typeof qualifier?jQuery.grep(elements,function(elem){return indexOf.call(qualifier,elem)>-1!==not}):risSimple.test(qualifier)?jQuery.filter(qualifier,elements,not):(qualifier=jQuery.filter(qualifier,elements),jQuery.grep(elements,function(elem){return indexOf.call(qualifier,elem)>-1!==not&&1===elem.nodeType}))}function sibling(cur,dir){for(;(cur=cur[dir])&&1!==cur.nodeType;);return cur}function createOptions(options){var object={};return jQuery.each(options.match(rnothtmlwhite)||[],function(_,flag){object[flag]=!0}),object}function Identity(v){return v}function Thrower(ex){throw ex}function adoptValue(value,resolve,reject,noValue){var method;try{value&&jQuery.isFunction(method=value.promise)?method.call(value).done(resolve).fail(reject):value&&jQuery.isFunction(method=value.then)?method.call(value,resolve,reject):resolve.apply(void 0,[value].slice(noValue))}catch(value){reject.apply(void 0,[value])}}function completed(){document.removeEventListener("DOMContentLoaded",completed),window.removeEventListener("load",completed),jQuery.ready()}function Data(){this.expando=jQuery.expando+Data.uid++}function getData(data){return"true"===data||"false"!==data&&("null"===data?null:data===+data+""?+data:rbrace.test(data)?JSON.parse(data):data)}function dataAttr(elem,key,data){var name;if(void 0===data&&1===elem.nodeType)if(name="data-"+key.replace(rmultiDash,"-$&").toLowerCase(),data=elem.getAttribute(name),"string"==typeof data){try{data=getData(data)}catch(e){}dataUser.set(elem,key,data)}else data=void 0;return data}function adjustCSS(elem,prop,valueParts,tween){var adjusted,scale=1,maxIterations=20,currentValue=tween?function(){return tween.cur()}:function(){return jQuery.css(elem,prop,"")},initial=currentValue(),unit=valueParts&&valueParts[3]||(jQuery.cssNumber[prop]?"":"px"),initialInUnit=(jQuery.cssNumber[prop]||"px"!==unit&&+initial)&&rcssNum.exec(jQuery.css(elem,prop));if(initialInUnit&&initialInUnit[3]!==unit){unit=unit||initialInUnit[3],valueParts=valueParts||[],initialInUnit=+initial||1;do scale=scale||".5",initialInUnit/=scale,jQuery.style(elem,prop,initialInUnit+unit);while(scale!==(scale=currentValue()/initial)&&1!==scale&&--maxIterations)}return valueParts&&(initialInUnit=+initialInUnit||+initial||0,adjusted=valueParts[1]?initialInUnit+(valueParts[1]+1)*valueParts[2]:+valueParts[2],tween&&(tween.unit=unit,tween.start=initialInUnit,tween.end=adjusted)),adjusted}function getDefaultDisplay(elem){var temp,doc=elem.ownerDocument,nodeName=elem.nodeName,display=defaultDisplayMap[nodeName];return display?display:(temp=doc.body.appendChild(doc.createElement(nodeName)),display=jQuery.css(temp,"display"),temp.parentNode.removeChild(temp),"none"===display&&(display="block"),defaultDisplayMap[nodeName]=display,display)}function showHide(elements,show){for(var display,elem,values=[],index=0,length=elements.length;index<length;index++)elem=elements[index],elem.style&&(display=elem.style.display,show?("none"===display&&(values[index]=dataPriv.get(elem,"display")||null,values[index]||(elem.style.display="")),""===elem.style.display&&isHiddenWithinTree(elem)&&(values[index]=getDefaultDisplay(elem))):"none"!==display&&(values[index]="none",dataPriv.set(elem,"display",display)));for(index=0;index<length;index++)null!=values[index]&&(elements[index].style.display=values[index]);return elements}function getAll(context,tag){var ret;return ret="undefined"!=typeof context.getElementsByTagName?context.getElementsByTagName(tag||"*"):"undefined"!=typeof context.querySelectorAll?context.querySelectorAll(tag||"*"):[],void 0===tag||tag&&nodeName(context,tag)?jQuery.merge([context],ret):ret}function setGlobalEval(elems,refElements){for(var i=0,l=elems.length;i<l;i++)dataPriv.set(elems[i],"globalEval",!refElements||dataPriv.get(refElements[i],"globalEval"))}function buildFragment(elems,context,scripts,selection,ignored){for(var elem,tmp,tag,wrap,contains,j,fragment=context.createDocumentFragment(),nodes=[],i=0,l=elems.length;i<l;i++)if(elem=elems[i],elem||0===elem)if("object"===jQuery.type(elem))jQuery.merge(nodes,elem.nodeType?[elem]:elem);else if(rhtml.test(elem)){for(tmp=tmp||fragment.appendChild(context.createElement("div")),tag=(rtagName.exec(elem)||["",""])[1].toLowerCase(),wrap=wrapMap[tag]||wrapMap._default,tmp.innerHTML=wrap[1]+jQuery.htmlPrefilter(elem)+wrap[2],j=wrap[0];j--;)tmp=tmp.lastChild;jQuery.merge(nodes,tmp.childNodes),tmp=fragment.firstChild,tmp.textContent=""}else nodes.push(context.createTextNode(elem));for(fragment.textContent="",i=0;elem=nodes[i++];)if(selection&&jQuery.inArray(elem,selection)>-1)ignored&&ignored.push(elem);else if(contains=jQuery.contains(elem.ownerDocument,elem),tmp=getAll(fragment.appendChild(elem),"script"),contains&&setGlobalEval(tmp),scripts)for(j=0;elem=tmp[j++];)rscriptType.test(elem.type||"")&&scripts.push(elem);return fragment}function returnTrue(){return!0}function returnFalse(){return!1}function safeActiveElement(){try{return document.activeElement}catch(err){}}function on(elem,types,selector,data,fn,one){var origFn,type;if("object"==typeof types){"string"!=typeof selector&&(data=data||selector,selector=void 0);for(type in types)on(elem,type,selector,data,types[type],one);return elem}if(null==data&&null==fn?(fn=selector,data=selector=void 0):null==fn&&("string"==typeof selector?(fn=data,data=void 0):(fn=data,data=selector,selector=void 0)),fn===!1)fn=returnFalse;else if(!fn)return elem;return 1===one&&(origFn=fn,fn=function(event){return jQuery().off(event),origFn.apply(this,arguments)},fn.guid=origFn.guid||(origFn.guid=jQuery.guid++)),elem.each(function(){jQuery.event.add(this,types,fn,data,selector)})}function manipulationTarget(elem,content){return nodeName(elem,"table")&&nodeName(11!==content.nodeType?content:content.firstChild,"tr")?jQuery(">tbody",elem)[0]||elem:elem}function disableScript(elem){return elem.type=(null!==elem.getAttribute("type"))+"/"+elem.type,elem}function restoreScript(elem){var match=rscriptTypeMasked.exec(elem.type);return match?elem.type=match[1]:elem.removeAttribute("type"),elem}function cloneCopyEvent(src,dest){var i,l,type,pdataOld,pdataCur,udataOld,udataCur,events;if(1===dest.nodeType){if(dataPriv.hasData(src)&&(pdataOld=dataPriv.access(src),pdataCur=dataPriv.set(dest,pdataOld),events=pdataOld.events)){delete pdataCur.handle,pdataCur.events={};for(type in events)for(i=0,l=events[type].length;i<l;i++)jQuery.event.add(dest,type,events[type][i])}dataUser.hasData(src)&&(udataOld=dataUser.access(src),udataCur=jQuery.extend({},udataOld),dataUser.set(dest,udataCur))}}function fixInput(src,dest){var nodeName=dest.nodeName.toLowerCase();"input"===nodeName&&rcheckableType.test(src.type)?dest.checked=src.checked:"input"!==nodeName&&"textarea"!==nodeName||(dest.defaultValue=src.defaultValue)}function domManip(collection,args,callback,ignored){args=concat.apply([],args);var fragment,first,scripts,hasScripts,node,doc,i=0,l=collection.length,iNoClone=l-1,value=args[0],isFunction=jQuery.isFunction(value);if(isFunction||l>1&&"string"==typeof value&&!support.checkClone&&rchecked.test(value))return collection.each(function(index){var self=collection.eq(index);isFunction&&(args[0]=value.call(this,index,self.html())),domManip(self,args,callback,ignored)});if(l&&(fragment=buildFragment(args,collection[0].ownerDocument,!1,collection,ignored),first=fragment.firstChild,1===fragment.childNodes.length&&(fragment=first),first||ignored)){for(scripts=jQuery.map(getAll(fragment,"script"),disableScript),hasScripts=scripts.length;i<l;i++)node=fragment,i!==iNoClone&&(node=jQuery.clone(node,!0,!0),hasScripts&&jQuery.merge(scripts,getAll(node,"script"))),callback.call(collection[i],node,i);if(hasScripts)for(doc=scripts[scripts.length-1].ownerDocument,jQuery.map(scripts,restoreScript),i=0;i<hasScripts;i++)node=scripts[i],rscriptType.test(node.type||"")&&!dataPriv.access(node,"globalEval")&&jQuery.contains(doc,node)&&(node.src?jQuery._evalUrl&&jQuery._evalUrl(node.src):DOMEval(node.textContent.replace(rcleanScript,""),doc))}return collection}function remove(elem,selector,keepData){for(var node,nodes=selector?jQuery.filter(selector,elem):elem,i=0;null!=(node=nodes[i]);i++)keepData||1!==node.nodeType||jQuery.cleanData(getAll(node)),node.parentNode&&(keepData&&jQuery.contains(node.ownerDocument,node)&&setGlobalEval(getAll(node,"script")),node.parentNode.removeChild(node));return elem}function curCSS(elem,name,computed){var width,minWidth,maxWidth,ret,style=elem.style;return computed=computed||getStyles(elem),computed&&(ret=computed.getPropertyValue(name)||computed[name],""!==ret||jQuery.contains(elem.ownerDocument,elem)||(ret=jQuery.style(elem,name)),!support.pixelMarginRight()&&rnumnonpx.test(ret)&&rmargin.test(name)&&(width=style.width,minWidth=style.minWidth,maxWidth=style.maxWidth,style.minWidth=style.maxWidth=style.width=ret,ret=computed.width,style.width=width,style.minWidth=minWidth,style.maxWidth=maxWidth)),void 0!==ret?ret+"":ret}function addGetHookIf(conditionFn,hookFn){return{get:function(){return conditionFn()?void delete this.get:(this.get=hookFn).apply(this,arguments)}}}function vendorPropName(name){if(name in emptyStyle)return name;for(var capName=name[0].toUpperCase()+name.slice(1),i=cssPrefixes.length;i--;)if(name=cssPrefixes[i]+capName,name in emptyStyle)return name}function finalPropName(name){var ret=jQuery.cssProps[name];return ret||(ret=jQuery.cssProps[name]=vendorPropName(name)||name),ret}function setPositiveNumber(elem,value,subtract){var matches=rcssNum.exec(value);return matches?Math.max(0,matches[2]-(subtract||0))+(matches[3]||"px"):value}function augmentWidthOrHeight(elem,name,extra,isBorderBox,styles){var i,val=0;for(i=extra===(isBorderBox?"border":"content")?4:"width"===name?1:0;i<4;i+=2)"margin"===extra&&(val+=jQuery.css(elem,extra+cssExpand[i],!0,styles)),isBorderBox?("content"===extra&&(val-=jQuery.css(elem,"padding"+cssExpand[i],!0,styles)),"margin"!==extra&&(val-=jQuery.css(elem,"border"+cssExpand[i]+"Width",!0,styles))):(val+=jQuery.css(elem,"padding"+cssExpand[i],!0,styles),"padding"!==extra&&(val+=jQuery.css(elem,"border"+cssExpand[i]+"Width",!0,styles)));return val}function getWidthOrHeight(elem,name,extra){var valueIsBorderBox,styles=getStyles(elem),val=curCSS(elem,name,styles),isBorderBox="border-box"===jQuery.css(elem,"boxSizing",!1,styles);return rnumnonpx.test(val)?val:(valueIsBorderBox=isBorderBox&&(support.boxSizingReliable()||val===elem.style[name]),"auto"===val&&(val=elem["offset"+name[0].toUpperCase()+name.slice(1)]),val=parseFloat(val)||0,val+augmentWidthOrHeight(elem,name,extra||(isBorderBox?"border":"content"),valueIsBorderBox,styles)+"px")}function Tween(elem,options,prop,end,easing){return new Tween.prototype.init(elem,options,prop,end,easing)}function schedule(){inProgress&&(document.hidden===!1&&window.requestAnimationFrame?window.requestAnimationFrame(schedule):window.setTimeout(schedule,jQuery.fx.interval),jQuery.fx.tick())}function createFxNow(){return window.setTimeout(function(){fxNow=void 0}),fxNow=jQuery.now()}function genFx(type,includeWidth){var which,i=0,attrs={height:type};for(includeWidth=includeWidth?1:0;i<4;i+=2-includeWidth)which=cssExpand[i],attrs["margin"+which]=attrs["padding"+which]=type;return includeWidth&&(attrs.opacity=attrs.width=type),attrs}function createTween(value,prop,animation){for(var tween,collection=(Animation.tweeners[prop]||[]).concat(Animation.tweeners["*"]),index=0,length=collection.length;index<length;index++)if(tween=collection[index].call(animation,prop,value))return tween}function defaultPrefilter(elem,props,opts){var prop,value,toggle,hooks,oldfire,propTween,restoreDisplay,display,isBox="width"in props||"height"in props,anim=this,orig={},style=elem.style,hidden=elem.nodeType&&isHiddenWithinTree(elem),dataShow=dataPriv.get(elem,"fxshow");opts.queue||(hooks=jQuery._queueHooks(elem,"fx"),null==hooks.unqueued&&(hooks.unqueued=0,oldfire=hooks.empty.fire,hooks.empty.fire=function(){hooks.unqueued||oldfire()}),hooks.unqueued++,anim.always(function(){anim.always(function(){hooks.unqueued--,jQuery.queue(elem,"fx").length||hooks.empty.fire()})}));for(prop in props)if(value=props[prop],rfxtypes.test(value)){if(delete props[prop],toggle=toggle||"toggle"===value,value===(hidden?"hide":"show")){if("show"!==value||!dataShow||void 0===dataShow[prop])continue;hidden=!0}orig[prop]=dataShow&&dataShow[prop]||jQuery.style(elem,prop)}if(propTween=!jQuery.isEmptyObject(props),propTween||!jQuery.isEmptyObject(orig)){isBox&&1===elem.nodeType&&(opts.overflow=[style.overflow,style.overflowX,style.overflowY],restoreDisplay=dataShow&&dataShow.display,null==restoreDisplay&&(restoreDisplay=dataPriv.get(elem,"display")),display=jQuery.css(elem,"display"),"none"===display&&(restoreDisplay?display=restoreDisplay:(showHide([elem],!0),restoreDisplay=elem.style.display||restoreDisplay,display=jQuery.css(elem,"display"),showHide([elem]))),("inline"===display||"inline-block"===display&&null!=restoreDisplay)&&"none"===jQuery.css(elem,"float")&&(propTween||(anim.done(function(){style.display=restoreDisplay}),null==restoreDisplay&&(display=style.display,restoreDisplay="none"===display?"":display)),style.display="inline-block")),opts.overflow&&(style.overflow="hidden",anim.always(function(){style.overflow=opts.overflow[0],style.overflowX=opts.overflow[1],style.overflowY=opts.overflow[2]})),propTween=!1;for(prop in orig)propTween||(dataShow?"hidden"in dataShow&&(hidden=dataShow.hidden):dataShow=dataPriv.access(elem,"fxshow",{display:restoreDisplay}),toggle&&(dataShow.hidden=!hidden),hidden&&showHide([elem],!0),anim.done(function(){hidden||showHide([elem]),dataPriv.remove(elem,"fxshow");for(prop in orig)jQuery.style(elem,prop,orig[prop])})),propTween=createTween(hidden?dataShow[prop]:0,prop,anim),prop in dataShow||(dataShow[prop]=propTween.start,hidden&&(propTween.end=propTween.start,propTween.start=0))}}function propFilter(props,specialEasing){var index,name,easing,value,hooks;for(index in props)if(name=jQuery.camelCase(index),easing=specialEasing[name],value=props[index],Array.isArray(value)&&(easing=value[1],value=props[index]=value[0]),index!==name&&(props[name]=value,delete props[index]),hooks=jQuery.cssHooks[name],hooks&&"expand"in hooks){value=hooks.expand(value),delete props[name];for(index in value)index in props||(props[index]=value[index],specialEasing[index]=easing)}else specialEasing[name]=easing}function Animation(elem,properties,options){var result,stopped,index=0,length=Animation.prefilters.length,deferred=jQuery.Deferred().always(function(){delete tick.elem}),tick=function(){if(stopped)return!1;for(var currentTime=fxNow||createFxNow(),remaining=Math.max(0,animation.startTime+animation.duration-currentTime),temp=remaining/animation.duration||0,percent=1-temp,index=0,length=animation.tweens.length;index<length;index++)animation.tweens[index].run(percent);return deferred.notifyWith(elem,[animation,percent,remaining]),percent<1&&length?remaining:(length||deferred.notifyWith(elem,[animation,1,0]),deferred.resolveWith(elem,[animation]),!1)},animation=deferred.promise({elem:elem,props:jQuery.extend({},properties),opts:jQuery.extend(!0,{specialEasing:{},easing:jQuery.easing._default},options),originalProperties:properties,originalOptions:options,startTime:fxNow||createFxNow(),duration:options.duration,tweens:[],createTween:function(prop,end){var tween=jQuery.Tween(elem,animation.opts,prop,end,animation.opts.specialEasing[prop]||animation.opts.easing);return animation.tweens.push(tween),tween},stop:function(gotoEnd){var index=0,length=gotoEnd?animation.tweens.length:0;if(stopped)return this;for(stopped=!0;index<length;index++)animation.tweens[index].run(1);return gotoEnd?(deferred.notifyWith(elem,[animation,1,0]),deferred.resolveWith(elem,[animation,gotoEnd])):deferred.rejectWith(elem,[animation,gotoEnd]),this}}),props=animation.props;for(propFilter(props,animation.opts.specialEasing);index<length;index++)if(result=Animation.prefilters[index].call(animation,elem,props,animation.opts))return jQuery.isFunction(result.stop)&&(jQuery._queueHooks(animation.elem,animation.opts.queue).stop=jQuery.proxy(result.stop,result)),result;return jQuery.map(props,createTween,animation),jQuery.isFunction(animation.opts.start)&&animation.opts.start.call(elem,animation),animation.progress(animation.opts.progress).done(animation.opts.done,animation.opts.complete).fail(animation.opts.fail).always(animation.opts.always),jQuery.fx.timer(jQuery.extend(tick,{elem:elem,anim:animation,queue:animation.opts.queue})),animation}function stripAndCollapse(value){var tokens=value.match(rnothtmlwhite)||[];return tokens.join(" ")}function getClass(elem){return elem.getAttribute&&elem.getAttribute("class")||""}function buildParams(prefix,obj,traditional,add){var name;if(Array.isArray(obj))jQuery.each(obj,function(i,v){traditional||rbracket.test(prefix)?add(prefix,v):buildParams(prefix+"["+("object"==typeof v&&null!=v?i:"")+"]",v,traditional,add)});else if(traditional||"object"!==jQuery.type(obj))add(prefix,obj);else for(name in obj)buildParams(prefix+"["+name+"]",obj[name],traditional,add)}function addToPrefiltersOrTransports(structure){return function(dataTypeExpression,func){"string"!=typeof dataTypeExpression&&(func=dataTypeExpression,dataTypeExpression="*");var dataType,i=0,dataTypes=dataTypeExpression.toLowerCase().match(rnothtmlwhite)||[];if(jQuery.isFunction(func))for(;dataType=dataTypes[i++];)"+"===dataType[0]?(dataType=dataType.slice(1)||"*",(structure[dataType]=structure[dataType]||[]).unshift(func)):(structure[dataType]=structure[dataType]||[]).push(func)}}function inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR){function inspect(dataType){var selected;return inspected[dataType]=!0,jQuery.each(structure[dataType]||[],function(_,prefilterOrFactory){var dataTypeOrTransport=prefilterOrFactory(options,originalOptions,jqXHR);return"string"!=typeof dataTypeOrTransport||seekingTransport||inspected[dataTypeOrTransport]?seekingTransport?!(selected=dataTypeOrTransport):void 0:(options.dataTypes.unshift(dataTypeOrTransport),inspect(dataTypeOrTransport),!1)}),selected}var inspected={},seekingTransport=structure===transports;return inspect(options.dataTypes[0])||!inspected["*"]&&inspect("*")}function ajaxExtend(target,src){var key,deep,flatOptions=jQuery.ajaxSettings.flatOptions||{};for(key in src)void 0!==src[key]&&((flatOptions[key]?target:deep||(deep={}))[key]=src[key]);return deep&&jQuery.extend(!0,target,deep),target}function ajaxHandleResponses(s,jqXHR,responses){for(var ct,type,finalDataType,firstDataType,contents=s.contents,dataTypes=s.dataTypes;"*"===dataTypes[0];)dataTypes.shift(),void 0===ct&&(ct=s.mimeType||jqXHR.getResponseHeader("Content-Type"));if(ct)for(type in contents)if(contents[type]&&contents[type].test(ct)){dataTypes.unshift(type);break}if(dataTypes[0]in responses)finalDataType=dataTypes[0];else{for(type in responses){if(!dataTypes[0]||s.converters[type+" "+dataTypes[0]]){finalDataType=type;break}firstDataType||(firstDataType=type)}finalDataType=finalDataType||firstDataType}if(finalDataType)return finalDataType!==dataTypes[0]&&dataTypes.unshift(finalDataType),responses[finalDataType]}function ajaxConvert(s,response,jqXHR,isSuccess){var conv2,current,conv,tmp,prev,converters={},dataTypes=s.dataTypes.slice();if(dataTypes[1])for(conv in s.converters)converters[conv.toLowerCase()]=s.converters[conv];for(current=dataTypes.shift();current;)if(s.responseFields[current]&&(jqXHR[s.responseFields[current]]=response),!prev&&isSuccess&&s.dataFilter&&(response=s.dataFilter(response,s.dataType)),prev=current,current=dataTypes.shift())if("*"===current)current=prev;else if("*"!==prev&&prev!==current){if(conv=converters[prev+" "+current]||converters["* "+current],!conv)for(conv2 in converters)if(tmp=conv2.split(" "),tmp[1]===current&&(conv=converters[prev+" "+tmp[0]]||converters["* "+tmp[0]])){conv===!0?conv=converters[conv2]:converters[conv2]!==!0&&(current=tmp[0],dataTypes.unshift(tmp[1]));break}if(conv!==!0)if(conv&&s["throws"])response=conv(response);else try{response=conv(response)}catch(e){return{state:"parsererror",error:conv?e:"No conversion from "+prev+" to "+current}}}return{state:"success",data:response}}var arr=[],document=window.document,getProto=Object.getPrototypeOf,slice=arr.slice,concat=arr.concat,push=arr.push,indexOf=arr.indexOf,class2type={},toString=class2type.toString,hasOwn=class2type.hasOwnProperty,fnToString=hasOwn.toString,ObjectFunctionString=fnToString.call(Object),support={},version="3.2.1",jQuery=function(selector,context){return new jQuery.fn.init(selector,context)},rtrim=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rmsPrefix=/^-ms-/,rdashAlpha=/-([a-z])/g,fcamelCase=function(all,letter){return letter.toUpperCase()};jQuery.fn=jQuery.prototype={jquery:version,constructor:jQuery,length:0,toArray:function(){return slice.call(this)},get:function(num){return null==num?slice.call(this):num<0?this[num+this.length]:this[num]},pushStack:function(elems){var ret=jQuery.merge(this.constructor(),elems);return ret.prevObject=this,ret},each:function(callback){return jQuery.each(this,callback)},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem)}))},slice:function(){return this.pushStack(slice.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(i){var len=this.length,j=+i+(i<0?len:0);return this.pushStack(j>=0&&j<len?[this[j]]:[])},end:function(){return this.prevObject||this.constructor()},push:push,sort:arr.sort,splice:arr.splice},jQuery.extend=jQuery.fn.extend=function(){var options,name,src,copy,copyIsArray,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=!1;for("boolean"==typeof target&&(deep=target,target=arguments[i]||{},i++),"object"==typeof target||jQuery.isFunction(target)||(target={}),i===length&&(target=this,i--);i<length;i++)if(null!=(options=arguments[i]))for(name in options)src=target[name],copy=options[name],target!==copy&&(deep&&copy&&(jQuery.isPlainObject(copy)||(copyIsArray=Array.isArray(copy)))?(copyIsArray?(copyIsArray=!1,clone=src&&Array.isArray(src)?src:[]):clone=src&&jQuery.isPlainObject(src)?src:{},target[name]=jQuery.extend(deep,clone,copy)):void 0!==copy&&(target[name]=copy));return target},jQuery.extend({expando:"jQuery"+(version+Math.random()).replace(/\D/g,""),isReady:!0,error:function(msg){throw new Error(msg)},noop:function(){},isFunction:function(obj){return"function"===jQuery.type(obj)},isWindow:function(obj){return null!=obj&&obj===obj.window},isNumeric:function(obj){var type=jQuery.type(obj);return("number"===type||"string"===type)&&!isNaN(obj-parseFloat(obj))},isPlainObject:function(obj){var proto,Ctor;return!(!obj||"[object Object]"!==toString.call(obj))&&(!(proto=getProto(obj))||(Ctor=hasOwn.call(proto,"constructor")&&proto.constructor,"function"==typeof Ctor&&fnToString.call(Ctor)===ObjectFunctionString))},isEmptyObject:function(obj){var name;for(name in obj)return!1;return!0},type:function(obj){return null==obj?obj+"":"object"==typeof obj||"function"==typeof obj?class2type[toString.call(obj)]||"object":typeof obj},globalEval:function(code){DOMEval(code)},camelCase:function(string){return string.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase)},each:function(obj,callback){var length,i=0;if(isArrayLike(obj))for(length=obj.length;i<length&&callback.call(obj[i],i,obj[i])!==!1;i++);else for(i in obj)if(callback.call(obj[i],i,obj[i])===!1)break;return obj},trim:function(text){return null==text?"":(text+"").replace(rtrim,"")},makeArray:function(arr,results){var ret=results||[];return null!=arr&&(isArrayLike(Object(arr))?jQuery.merge(ret,"string"==typeof arr?[arr]:arr):push.call(ret,arr)),ret},inArray:function(elem,arr,i){return null==arr?-1:indexOf.call(arr,elem,i)},merge:function(first,second){for(var len=+second.length,j=0,i=first.length;j<len;j++)first[i++]=second[j];return first.length=i,first},grep:function(elems,callback,invert){for(var callbackInverse,matches=[],i=0,length=elems.length,callbackExpect=!invert;i<length;i++)callbackInverse=!callback(elems[i],i),callbackInverse!==callbackExpect&&matches.push(elems[i]);return matches},map:function(elems,callback,arg){var length,value,i=0,ret=[];if(isArrayLike(elems))for(length=elems.length;i<length;i++)value=callback(elems[i],i,arg),null!=value&&ret.push(value);else for(i in elems)value=callback(elems[i],i,arg),null!=value&&ret.push(value);return concat.apply([],ret)},guid:1,proxy:function(fn,context){var tmp,args,proxy;if("string"==typeof context&&(tmp=fn[context],context=fn,fn=tmp),jQuery.isFunction(fn))return args=slice.call(arguments,2),proxy=function(){return fn.apply(context||this,args.concat(slice.call(arguments)))},proxy.guid=fn.guid=fn.guid||jQuery.guid++,proxy},now:Date.now,support:support}),"function"==typeof Symbol&&(jQuery.fn[Symbol.iterator]=arr[Symbol.iterator]),jQuery.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(i,name){class2type["[object "+name+"]"]=name.toLowerCase()});var Sizzle=function(window){function Sizzle(selector,context,results,seed){var m,i,elem,nid,match,groups,newSelector,newContext=context&&context.ownerDocument,nodeType=context?context.nodeType:9;if(results=results||[],"string"!=typeof selector||!selector||1!==nodeType&&9!==nodeType&&11!==nodeType)return results;if(!seed&&((context?context.ownerDocument||context:preferredDoc)!==document&&setDocument(context),context=context||document,documentIsHTML)){if(11!==nodeType&&(match=rquickExpr.exec(selector)))if(m=match[1]){if(9===nodeType){if(!(elem=context.getElementById(m)))return results;if(elem.id===m)return results.push(elem),results}else if(newContext&&(elem=newContext.getElementById(m))&&contains(context,elem)&&elem.id===m)return results.push(elem),results}else{if(match[2])return push.apply(results,context.getElementsByTagName(selector)),results;if((m=match[3])&&support.getElementsByClassName&&context.getElementsByClassName)return push.apply(results,context.getElementsByClassName(m)),results}if(support.qsa&&!compilerCache[selector+" "]&&(!rbuggyQSA||!rbuggyQSA.test(selector))){if(1!==nodeType)newContext=context,newSelector=selector;else if("object"!==context.nodeName.toLowerCase()){for((nid=context.getAttribute("id"))?nid=nid.replace(rcssescape,fcssescape):context.setAttribute("id",nid=expando),groups=tokenize(selector),i=groups.length;i--;)groups[i]="#"+nid+" "+toSelector(groups[i]);newSelector=groups.join(","),newContext=rsibling.test(selector)&&testContext(context.parentNode)||context}if(newSelector)try{return push.apply(results,newContext.querySelectorAll(newSelector)),results}catch(qsaError){}finally{
nid===expando&&context.removeAttribute("id")}}}return select(selector.replace(rtrim,"$1"),context,results,seed)}function createCache(){function cache(key,value){return keys.push(key+" ")>Expr.cacheLength&&delete cache[keys.shift()],cache[key+" "]=value}var keys=[];return cache}function markFunction(fn){return fn[expando]=!0,fn}function assert(fn){var el=document.createElement("fieldset");try{return!!fn(el)}catch(e){return!1}finally{el.parentNode&&el.parentNode.removeChild(el),el=null}}function addHandle(attrs,handler){for(var arr=attrs.split("|"),i=arr.length;i--;)Expr.attrHandle[arr[i]]=handler}function siblingCheck(a,b){var cur=b&&a,diff=cur&&1===a.nodeType&&1===b.nodeType&&a.sourceIndex-b.sourceIndex;if(diff)return diff;if(cur)for(;cur=cur.nextSibling;)if(cur===b)return-1;return a?1:-1}function createInputPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return"input"===name&&elem.type===type}}function createButtonPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return("input"===name||"button"===name)&&elem.type===type}}function createDisabledPseudo(disabled){return function(elem){return"form"in elem?elem.parentNode&&elem.disabled===!1?"label"in elem?"label"in elem.parentNode?elem.parentNode.disabled===disabled:elem.disabled===disabled:elem.isDisabled===disabled||elem.isDisabled!==!disabled&&disabledAncestor(elem)===disabled:elem.disabled===disabled:"label"in elem&&elem.disabled===disabled}}function createPositionalPseudo(fn){return markFunction(function(argument){return argument=+argument,markFunction(function(seed,matches){for(var j,matchIndexes=fn([],seed.length,argument),i=matchIndexes.length;i--;)seed[j=matchIndexes[i]]&&(seed[j]=!(matches[j]=seed[j]))})})}function testContext(context){return context&&"undefined"!=typeof context.getElementsByTagName&&context}function setFilters(){}function toSelector(tokens){for(var i=0,len=tokens.length,selector="";i<len;i++)selector+=tokens[i].value;return selector}function addCombinator(matcher,combinator,base){var dir=combinator.dir,skip=combinator.next,key=skip||dir,checkNonElements=base&&"parentNode"===key,doneName=done++;return combinator.first?function(elem,context,xml){for(;elem=elem[dir];)if(1===elem.nodeType||checkNonElements)return matcher(elem,context,xml);return!1}:function(elem,context,xml){var oldCache,uniqueCache,outerCache,newCache=[dirruns,doneName];if(xml){for(;elem=elem[dir];)if((1===elem.nodeType||checkNonElements)&&matcher(elem,context,xml))return!0}else for(;elem=elem[dir];)if(1===elem.nodeType||checkNonElements)if(outerCache=elem[expando]||(elem[expando]={}),uniqueCache=outerCache[elem.uniqueID]||(outerCache[elem.uniqueID]={}),skip&&skip===elem.nodeName.toLowerCase())elem=elem[dir]||elem;else{if((oldCache=uniqueCache[key])&&oldCache[0]===dirruns&&oldCache[1]===doneName)return newCache[2]=oldCache[2];if(uniqueCache[key]=newCache,newCache[2]=matcher(elem,context,xml))return!0}return!1}}function elementMatcher(matchers){return matchers.length>1?function(elem,context,xml){for(var i=matchers.length;i--;)if(!matchers[i](elem,context,xml))return!1;return!0}:matchers[0]}function multipleContexts(selector,contexts,results){for(var i=0,len=contexts.length;i<len;i++)Sizzle(selector,contexts[i],results);return results}function condense(unmatched,map,filter,context,xml){for(var elem,newUnmatched=[],i=0,len=unmatched.length,mapped=null!=map;i<len;i++)(elem=unmatched[i])&&(filter&&!filter(elem,context,xml)||(newUnmatched.push(elem),mapped&&map.push(i)));return newUnmatched}function setMatcher(preFilter,selector,matcher,postFilter,postFinder,postSelector){return postFilter&&!postFilter[expando]&&(postFilter=setMatcher(postFilter)),postFinder&&!postFinder[expando]&&(postFinder=setMatcher(postFinder,postSelector)),markFunction(function(seed,results,context,xml){var temp,i,elem,preMap=[],postMap=[],preexisting=results.length,elems=seed||multipleContexts(selector||"*",context.nodeType?[context]:context,[]),matcherIn=!preFilter||!seed&&selector?elems:condense(elems,preMap,preFilter,context,xml),matcherOut=matcher?postFinder||(seed?preFilter:preexisting||postFilter)?[]:results:matcherIn;if(matcher&&matcher(matcherIn,matcherOut,context,xml),postFilter)for(temp=condense(matcherOut,postMap),postFilter(temp,[],context,xml),i=temp.length;i--;)(elem=temp[i])&&(matcherOut[postMap[i]]=!(matcherIn[postMap[i]]=elem));if(seed){if(postFinder||preFilter){if(postFinder){for(temp=[],i=matcherOut.length;i--;)(elem=matcherOut[i])&&temp.push(matcherIn[i]=elem);postFinder(null,matcherOut=[],temp,xml)}for(i=matcherOut.length;i--;)(elem=matcherOut[i])&&(temp=postFinder?indexOf(seed,elem):preMap[i])>-1&&(seed[temp]=!(results[temp]=elem))}}else matcherOut=condense(matcherOut===results?matcherOut.splice(preexisting,matcherOut.length):matcherOut),postFinder?postFinder(null,results,matcherOut,xml):push.apply(results,matcherOut)})}function matcherFromTokens(tokens){for(var checkContext,matcher,j,len=tokens.length,leadingRelative=Expr.relative[tokens[0].type],implicitRelative=leadingRelative||Expr.relative[" "],i=leadingRelative?1:0,matchContext=addCombinator(function(elem){return elem===checkContext},implicitRelative,!0),matchAnyContext=addCombinator(function(elem){return indexOf(checkContext,elem)>-1},implicitRelative,!0),matchers=[function(elem,context,xml){var ret=!leadingRelative&&(xml||context!==outermostContext)||((checkContext=context).nodeType?matchContext(elem,context,xml):matchAnyContext(elem,context,xml));return checkContext=null,ret}];i<len;i++)if(matcher=Expr.relative[tokens[i].type])matchers=[addCombinator(elementMatcher(matchers),matcher)];else{if(matcher=Expr.filter[tokens[i].type].apply(null,tokens[i].matches),matcher[expando]){for(j=++i;j<len&&!Expr.relative[tokens[j].type];j++);return setMatcher(i>1&&elementMatcher(matchers),i>1&&toSelector(tokens.slice(0,i-1).concat({value:" "===tokens[i-2].type?"*":""})).replace(rtrim,"$1"),matcher,i<j&&matcherFromTokens(tokens.slice(i,j)),j<len&&matcherFromTokens(tokens=tokens.slice(j)),j<len&&toSelector(tokens))}matchers.push(matcher)}return elementMatcher(matchers)}function matcherFromGroupMatchers(elementMatchers,setMatchers){var bySet=setMatchers.length>0,byElement=elementMatchers.length>0,superMatcher=function(seed,context,xml,results,outermost){var elem,j,matcher,matchedCount=0,i="0",unmatched=seed&&[],setMatched=[],contextBackup=outermostContext,elems=seed||byElement&&Expr.find.TAG("*",outermost),dirrunsUnique=dirruns+=null==contextBackup?1:Math.random()||.1,len=elems.length;for(outermost&&(outermostContext=context===document||context||outermost);i!==len&&null!=(elem=elems[i]);i++){if(byElement&&elem){for(j=0,context||elem.ownerDocument===document||(setDocument(elem),xml=!documentIsHTML);matcher=elementMatchers[j++];)if(matcher(elem,context||document,xml)){results.push(elem);break}outermost&&(dirruns=dirrunsUnique)}bySet&&((elem=!matcher&&elem)&&matchedCount--,seed&&unmatched.push(elem))}if(matchedCount+=i,bySet&&i!==matchedCount){for(j=0;matcher=setMatchers[j++];)matcher(unmatched,setMatched,context,xml);if(seed){if(matchedCount>0)for(;i--;)unmatched[i]||setMatched[i]||(setMatched[i]=pop.call(results));setMatched=condense(setMatched)}push.apply(results,setMatched),outermost&&!seed&&setMatched.length>0&&matchedCount+setMatchers.length>1&&Sizzle.uniqueSort(results)}return outermost&&(dirruns=dirrunsUnique,outermostContext=contextBackup),unmatched};return bySet?markFunction(superMatcher):superMatcher}var i,support,Expr,getText,isXML,tokenize,compile,select,outermostContext,sortInput,hasDuplicate,setDocument,document,docElem,documentIsHTML,rbuggyQSA,rbuggyMatches,matches,contains,expando="sizzle"+1*new Date,preferredDoc=window.document,dirruns=0,done=0,classCache=createCache(),tokenCache=createCache(),compilerCache=createCache(),sortOrder=function(a,b){return a===b&&(hasDuplicate=!0),0},hasOwn={}.hasOwnProperty,arr=[],pop=arr.pop,push_native=arr.push,push=arr.push,slice=arr.slice,indexOf=function(list,elem){for(var i=0,len=list.length;i<len;i++)if(list[i]===elem)return i;return-1},booleans="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",whitespace="[\\x20\\t\\r\\n\\f]",identifier="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",attributes="\\["+whitespace+"*("+identifier+")(?:"+whitespace+"*([*^$|!~]?=)"+whitespace+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+identifier+"))|)"+whitespace+"*\\]",pseudos=":("+identifier+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+attributes+")*)|.*)\\)|)",rwhitespace=new RegExp(whitespace+"+","g"),rtrim=new RegExp("^"+whitespace+"+|((?:^|[^\\\\])(?:\\\\.)*)"+whitespace+"+$","g"),rcomma=new RegExp("^"+whitespace+"*,"+whitespace+"*"),rcombinators=new RegExp("^"+whitespace+"*([>+~]|"+whitespace+")"+whitespace+"*"),rattributeQuotes=new RegExp("="+whitespace+"*([^\\]'\"]*?)"+whitespace+"*\\]","g"),rpseudo=new RegExp(pseudos),ridentifier=new RegExp("^"+identifier+"$"),matchExpr={ID:new RegExp("^#("+identifier+")"),CLASS:new RegExp("^\\.("+identifier+")"),TAG:new RegExp("^("+identifier+"|[*])"),ATTR:new RegExp("^"+attributes),PSEUDO:new RegExp("^"+pseudos),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+whitespace+"*(even|odd|(([+-]|)(\\d*)n|)"+whitespace+"*(?:([+-]|)"+whitespace+"*(\\d+)|))"+whitespace+"*\\)|)","i"),bool:new RegExp("^(?:"+booleans+")$","i"),needsContext:new RegExp("^"+whitespace+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+whitespace+"*((?:-\\d)?\\d*)"+whitespace+"*\\)|)(?=[^-]|$)","i")},rinputs=/^(?:input|select|textarea|button)$/i,rheader=/^h\d$/i,rnative=/^[^{]+\{\s*\[native \w/,rquickExpr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,rsibling=/[+~]/,runescape=new RegExp("\\\\([\\da-f]{1,6}"+whitespace+"?|("+whitespace+")|.)","ig"),funescape=function(_,escaped,escapedWhitespace){var high="0x"+escaped-65536;return high!==high||escapedWhitespace?escaped:high<0?String.fromCharCode(high+65536):String.fromCharCode(high>>10|55296,1023&high|56320)},rcssescape=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,fcssescape=function(ch,asCodePoint){return asCodePoint?"\0"===ch?"�":ch.slice(0,-1)+"\\"+ch.charCodeAt(ch.length-1).toString(16)+" ":"\\"+ch},unloadHandler=function(){setDocument()},disabledAncestor=addCombinator(function(elem){return elem.disabled===!0&&("form"in elem||"label"in elem)},{dir:"parentNode",next:"legend"});try{push.apply(arr=slice.call(preferredDoc.childNodes),preferredDoc.childNodes),arr[preferredDoc.childNodes.length].nodeType}catch(e){push={apply:arr.length?function(target,els){push_native.apply(target,slice.call(els))}:function(target,els){for(var j=target.length,i=0;target[j++]=els[i++];);target.length=j-1}}}support=Sizzle.support={},isXML=Sizzle.isXML=function(elem){var documentElement=elem&&(elem.ownerDocument||elem).documentElement;return!!documentElement&&"HTML"!==documentElement.nodeName},setDocument=Sizzle.setDocument=function(node){var hasCompare,subWindow,doc=node?node.ownerDocument||node:preferredDoc;return doc!==document&&9===doc.nodeType&&doc.documentElement?(document=doc,docElem=document.documentElement,documentIsHTML=!isXML(document),preferredDoc!==document&&(subWindow=document.defaultView)&&subWindow.top!==subWindow&&(subWindow.addEventListener?subWindow.addEventListener("unload",unloadHandler,!1):subWindow.attachEvent&&subWindow.attachEvent("onunload",unloadHandler)),support.attributes=assert(function(el){return el.className="i",!el.getAttribute("className")}),support.getElementsByTagName=assert(function(el){return el.appendChild(document.createComment("")),!el.getElementsByTagName("*").length}),support.getElementsByClassName=rnative.test(document.getElementsByClassName),support.getById=assert(function(el){return docElem.appendChild(el).id=expando,!document.getElementsByName||!document.getElementsByName(expando).length}),support.getById?(Expr.filter.ID=function(id){var attrId=id.replace(runescape,funescape);return function(elem){return elem.getAttribute("id")===attrId}},Expr.find.ID=function(id,context){if("undefined"!=typeof context.getElementById&&documentIsHTML){var elem=context.getElementById(id);return elem?[elem]:[]}}):(Expr.filter.ID=function(id){var attrId=id.replace(runescape,funescape);return function(elem){var node="undefined"!=typeof elem.getAttributeNode&&elem.getAttributeNode("id");return node&&node.value===attrId}},Expr.find.ID=function(id,context){if("undefined"!=typeof context.getElementById&&documentIsHTML){var node,i,elems,elem=context.getElementById(id);if(elem){if(node=elem.getAttributeNode("id"),node&&node.value===id)return[elem];for(elems=context.getElementsByName(id),i=0;elem=elems[i++];)if(node=elem.getAttributeNode("id"),node&&node.value===id)return[elem]}return[]}}),Expr.find.TAG=support.getElementsByTagName?function(tag,context){return"undefined"!=typeof context.getElementsByTagName?context.getElementsByTagName(tag):support.qsa?context.querySelectorAll(tag):void 0}:function(tag,context){var elem,tmp=[],i=0,results=context.getElementsByTagName(tag);if("*"===tag){for(;elem=results[i++];)1===elem.nodeType&&tmp.push(elem);return tmp}return results},Expr.find.CLASS=support.getElementsByClassName&&function(className,context){if("undefined"!=typeof context.getElementsByClassName&&documentIsHTML)return context.getElementsByClassName(className)},rbuggyMatches=[],rbuggyQSA=[],(support.qsa=rnative.test(document.querySelectorAll))&&(assert(function(el){docElem.appendChild(el).innerHTML="<a id='"+expando+"'></a><select id='"+expando+"-\r\\' msallowcapture=''><option selected=''></option></select>",el.querySelectorAll("[msallowcapture^='']").length&&rbuggyQSA.push("[*^$]="+whitespace+"*(?:''|\"\")"),el.querySelectorAll("[selected]").length||rbuggyQSA.push("\\["+whitespace+"*(?:value|"+booleans+")"),el.querySelectorAll("[id~="+expando+"-]").length||rbuggyQSA.push("~="),el.querySelectorAll(":checked").length||rbuggyQSA.push(":checked"),el.querySelectorAll("a#"+expando+"+*").length||rbuggyQSA.push(".#.+[+~]")}),assert(function(el){el.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var input=document.createElement("input");input.setAttribute("type","hidden"),el.appendChild(input).setAttribute("name","D"),el.querySelectorAll("[name=d]").length&&rbuggyQSA.push("name"+whitespace+"*[*^$|!~]?="),2!==el.querySelectorAll(":enabled").length&&rbuggyQSA.push(":enabled",":disabled"),docElem.appendChild(el).disabled=!0,2!==el.querySelectorAll(":disabled").length&&rbuggyQSA.push(":enabled",":disabled"),el.querySelectorAll("*,:x"),rbuggyQSA.push(",.*:")})),(support.matchesSelector=rnative.test(matches=docElem.matches||docElem.webkitMatchesSelector||docElem.mozMatchesSelector||docElem.oMatchesSelector||docElem.msMatchesSelector))&&assert(function(el){support.disconnectedMatch=matches.call(el,"*"),matches.call(el,"[s!='']:x"),rbuggyMatches.push("!=",pseudos)}),rbuggyQSA=rbuggyQSA.length&&new RegExp(rbuggyQSA.join("|")),rbuggyMatches=rbuggyMatches.length&&new RegExp(rbuggyMatches.join("|")),hasCompare=rnative.test(docElem.compareDocumentPosition),contains=hasCompare||rnative.test(docElem.contains)?function(a,b){var adown=9===a.nodeType?a.documentElement:a,bup=b&&b.parentNode;return a===bup||!(!bup||1!==bup.nodeType||!(adown.contains?adown.contains(bup):a.compareDocumentPosition&&16&a.compareDocumentPosition(bup)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},sortOrder=hasCompare?function(a,b){if(a===b)return hasDuplicate=!0,0;var compare=!a.compareDocumentPosition-!b.compareDocumentPosition;return compare?compare:(compare=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&compare||!support.sortDetached&&b.compareDocumentPosition(a)===compare?a===document||a.ownerDocument===preferredDoc&&contains(preferredDoc,a)?-1:b===document||b.ownerDocument===preferredDoc&&contains(preferredDoc,b)?1:sortInput?indexOf(sortInput,a)-indexOf(sortInput,b):0:4&compare?-1:1)}:function(a,b){if(a===b)return hasDuplicate=!0,0;var cur,i=0,aup=a.parentNode,bup=b.parentNode,ap=[a],bp=[b];if(!aup||!bup)return a===document?-1:b===document?1:aup?-1:bup?1:sortInput?indexOf(sortInput,a)-indexOf(sortInput,b):0;if(aup===bup)return siblingCheck(a,b);for(cur=a;cur=cur.parentNode;)ap.unshift(cur);for(cur=b;cur=cur.parentNode;)bp.unshift(cur);for(;ap[i]===bp[i];)i++;return i?siblingCheck(ap[i],bp[i]):ap[i]===preferredDoc?-1:bp[i]===preferredDoc?1:0},document):document},Sizzle.matches=function(expr,elements){return Sizzle(expr,null,null,elements)},Sizzle.matchesSelector=function(elem,expr){if((elem.ownerDocument||elem)!==document&&setDocument(elem),expr=expr.replace(rattributeQuotes,"='$1']"),support.matchesSelector&&documentIsHTML&&!compilerCache[expr+" "]&&(!rbuggyMatches||!rbuggyMatches.test(expr))&&(!rbuggyQSA||!rbuggyQSA.test(expr)))try{var ret=matches.call(elem,expr);if(ret||support.disconnectedMatch||elem.document&&11!==elem.document.nodeType)return ret}catch(e){}return Sizzle(expr,document,null,[elem]).length>0},Sizzle.contains=function(context,elem){return(context.ownerDocument||context)!==document&&setDocument(context),contains(context,elem)},Sizzle.attr=function(elem,name){(elem.ownerDocument||elem)!==document&&setDocument(elem);var fn=Expr.attrHandle[name.toLowerCase()],val=fn&&hasOwn.call(Expr.attrHandle,name.toLowerCase())?fn(elem,name,!documentIsHTML):void 0;return void 0!==val?val:support.attributes||!documentIsHTML?elem.getAttribute(name):(val=elem.getAttributeNode(name))&&val.specified?val.value:null},Sizzle.escape=function(sel){return(sel+"").replace(rcssescape,fcssescape)},Sizzle.error=function(msg){throw new Error("Syntax error, unrecognized expression: "+msg)},Sizzle.uniqueSort=function(results){var elem,duplicates=[],j=0,i=0;if(hasDuplicate=!support.detectDuplicates,sortInput=!support.sortStable&&results.slice(0),results.sort(sortOrder),hasDuplicate){for(;elem=results[i++];)elem===results[i]&&(j=duplicates.push(i));for(;j--;)results.splice(duplicates[j],1)}return sortInput=null,results},getText=Sizzle.getText=function(elem){var node,ret="",i=0,nodeType=elem.nodeType;if(nodeType){if(1===nodeType||9===nodeType||11===nodeType){if("string"==typeof elem.textContent)return elem.textContent;for(elem=elem.firstChild;elem;elem=elem.nextSibling)ret+=getText(elem)}else if(3===nodeType||4===nodeType)return elem.nodeValue}else for(;node=elem[i++];)ret+=getText(node);return ret},Expr=Sizzle.selectors={cacheLength:50,createPseudo:markFunction,match:matchExpr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(match){return match[1]=match[1].replace(runescape,funescape),match[3]=(match[3]||match[4]||match[5]||"").replace(runescape,funescape),"~="===match[2]&&(match[3]=" "+match[3]+" "),match.slice(0,4)},CHILD:function(match){return match[1]=match[1].toLowerCase(),"nth"===match[1].slice(0,3)?(match[3]||Sizzle.error(match[0]),match[4]=+(match[4]?match[5]+(match[6]||1):2*("even"===match[3]||"odd"===match[3])),match[5]=+(match[7]+match[8]||"odd"===match[3])):match[3]&&Sizzle.error(match[0]),match},PSEUDO:function(match){var excess,unquoted=!match[6]&&match[2];return matchExpr.CHILD.test(match[0])?null:(match[3]?match[2]=match[4]||match[5]||"":unquoted&&rpseudo.test(unquoted)&&(excess=tokenize(unquoted,!0))&&(excess=unquoted.indexOf(")",unquoted.length-excess)-unquoted.length)&&(match[0]=match[0].slice(0,excess),match[2]=unquoted.slice(0,excess)),match.slice(0,3))}},filter:{TAG:function(nodeNameSelector){var nodeName=nodeNameSelector.replace(runescape,funescape).toLowerCase();return"*"===nodeNameSelector?function(){return!0}:function(elem){return elem.nodeName&&elem.nodeName.toLowerCase()===nodeName}},CLASS:function(className){var pattern=classCache[className+" "];return pattern||(pattern=new RegExp("(^|"+whitespace+")"+className+"("+whitespace+"|$)"))&&classCache(className,function(elem){return pattern.test("string"==typeof elem.className&&elem.className||"undefined"!=typeof elem.getAttribute&&elem.getAttribute("class")||"")})},ATTR:function(name,operator,check){return function(elem){var result=Sizzle.attr(elem,name);return null==result?"!="===operator:!operator||(result+="","="===operator?result===check:"!="===operator?result!==check:"^="===operator?check&&0===result.indexOf(check):"*="===operator?check&&result.indexOf(check)>-1:"$="===operator?check&&result.slice(-check.length)===check:"~="===operator?(" "+result.replace(rwhitespace," ")+" ").indexOf(check)>-1:"|="===operator&&(result===check||result.slice(0,check.length+1)===check+"-"))}},CHILD:function(type,what,argument,first,last){var simple="nth"!==type.slice(0,3),forward="last"!==type.slice(-4),ofType="of-type"===what;return 1===first&&0===last?function(elem){return!!elem.parentNode}:function(elem,context,xml){var cache,uniqueCache,outerCache,node,nodeIndex,start,dir=simple!==forward?"nextSibling":"previousSibling",parent=elem.parentNode,name=ofType&&elem.nodeName.toLowerCase(),useCache=!xml&&!ofType,diff=!1;if(parent){if(simple){for(;dir;){for(node=elem;node=node[dir];)if(ofType?node.nodeName.toLowerCase()===name:1===node.nodeType)return!1;start=dir="only"===type&&!start&&"nextSibling"}return!0}if(start=[forward?parent.firstChild:parent.lastChild],forward&&useCache){for(node=parent,outerCache=node[expando]||(node[expando]={}),uniqueCache=outerCache[node.uniqueID]||(outerCache[node.uniqueID]={}),cache=uniqueCache[type]||[],nodeIndex=cache[0]===dirruns&&cache[1],diff=nodeIndex&&cache[2],node=nodeIndex&&parent.childNodes[nodeIndex];node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop();)if(1===node.nodeType&&++diff&&node===elem){uniqueCache[type]=[dirruns,nodeIndex,diff];break}}else if(useCache&&(node=elem,outerCache=node[expando]||(node[expando]={}),uniqueCache=outerCache[node.uniqueID]||(outerCache[node.uniqueID]={}),cache=uniqueCache[type]||[],nodeIndex=cache[0]===dirruns&&cache[1],diff=nodeIndex),diff===!1)for(;(node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop())&&((ofType?node.nodeName.toLowerCase()!==name:1!==node.nodeType)||!++diff||(useCache&&(outerCache=node[expando]||(node[expando]={}),uniqueCache=outerCache[node.uniqueID]||(outerCache[node.uniqueID]={}),uniqueCache[type]=[dirruns,diff]),node!==elem)););return diff-=last,diff===first||diff%first===0&&diff/first>=0}}},PSEUDO:function(pseudo,argument){var args,fn=Expr.pseudos[pseudo]||Expr.setFilters[pseudo.toLowerCase()]||Sizzle.error("unsupported pseudo: "+pseudo);return fn[expando]?fn(argument):fn.length>1?(args=[pseudo,pseudo,"",argument],Expr.setFilters.hasOwnProperty(pseudo.toLowerCase())?markFunction(function(seed,matches){for(var idx,matched=fn(seed,argument),i=matched.length;i--;)idx=indexOf(seed,matched[i]),seed[idx]=!(matches[idx]=matched[i])}):function(elem){return fn(elem,0,args)}):fn}},pseudos:{not:markFunction(function(selector){var input=[],results=[],matcher=compile(selector.replace(rtrim,"$1"));return matcher[expando]?markFunction(function(seed,matches,context,xml){for(var elem,unmatched=matcher(seed,null,xml,[]),i=seed.length;i--;)(elem=unmatched[i])&&(seed[i]=!(matches[i]=elem))}):function(elem,context,xml){return input[0]=elem,matcher(input,null,xml,results),input[0]=null,!results.pop()}}),has:markFunction(function(selector){return function(elem){return Sizzle(selector,elem).length>0}}),contains:markFunction(function(text){return text=text.replace(runescape,funescape),function(elem){return(elem.textContent||elem.innerText||getText(elem)).indexOf(text)>-1}}),lang:markFunction(function(lang){return ridentifier.test(lang||"")||Sizzle.error("unsupported lang: "+lang),lang=lang.replace(runescape,funescape).toLowerCase(),function(elem){var elemLang;do if(elemLang=documentIsHTML?elem.lang:elem.getAttribute("xml:lang")||elem.getAttribute("lang"))return elemLang=elemLang.toLowerCase(),elemLang===lang||0===elemLang.indexOf(lang+"-");while((elem=elem.parentNode)&&1===elem.nodeType);return!1}}),target:function(elem){var hash=window.location&&window.location.hash;return hash&&hash.slice(1)===elem.id},root:function(elem){return elem===docElem},focus:function(elem){return elem===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(elem.type||elem.href||~elem.tabIndex)},enabled:createDisabledPseudo(!1),disabled:createDisabledPseudo(!0),checked:function(elem){var nodeName=elem.nodeName.toLowerCase();return"input"===nodeName&&!!elem.checked||"option"===nodeName&&!!elem.selected},selected:function(elem){return elem.parentNode&&elem.parentNode.selectedIndex,elem.selected===!0},empty:function(elem){for(elem=elem.firstChild;elem;elem=elem.nextSibling)if(elem.nodeType<6)return!1;return!0},parent:function(elem){return!Expr.pseudos.empty(elem)},header:function(elem){return rheader.test(elem.nodeName)},input:function(elem){return rinputs.test(elem.nodeName)},button:function(elem){var name=elem.nodeName.toLowerCase();return"input"===name&&"button"===elem.type||"button"===name},text:function(elem){var attr;return"input"===elem.nodeName.toLowerCase()&&"text"===elem.type&&(null==(attr=elem.getAttribute("type"))||"text"===attr.toLowerCase())},first:createPositionalPseudo(function(){return[0]}),last:createPositionalPseudo(function(matchIndexes,length){return[length-1]}),eq:createPositionalPseudo(function(matchIndexes,length,argument){return[argument<0?argument+length:argument]}),even:createPositionalPseudo(function(matchIndexes,length){for(var i=0;i<length;i+=2)matchIndexes.push(i);return matchIndexes}),odd:createPositionalPseudo(function(matchIndexes,length){for(var i=1;i<length;i+=2)matchIndexes.push(i);return matchIndexes}),lt:createPositionalPseudo(function(matchIndexes,length,argument){for(var i=argument<0?argument+length:argument;--i>=0;)matchIndexes.push(i);return matchIndexes}),gt:createPositionalPseudo(function(matchIndexes,length,argument){for(var i=argument<0?argument+length:argument;++i<length;)matchIndexes.push(i);return matchIndexes})}},Expr.pseudos.nth=Expr.pseudos.eq;for(i in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Expr.pseudos[i]=createInputPseudo(i);for(i in{submit:!0,reset:!0})Expr.pseudos[i]=createButtonPseudo(i);return setFilters.prototype=Expr.filters=Expr.pseudos,Expr.setFilters=new setFilters,tokenize=Sizzle.tokenize=function(selector,parseOnly){var matched,match,tokens,type,soFar,groups,preFilters,cached=tokenCache[selector+" "];if(cached)return parseOnly?0:cached.slice(0);for(soFar=selector,groups=[],preFilters=Expr.preFilter;soFar;){matched&&!(match=rcomma.exec(soFar))||(match&&(soFar=soFar.slice(match[0].length)||soFar),groups.push(tokens=[])),matched=!1,(match=rcombinators.exec(soFar))&&(matched=match.shift(),tokens.push({value:matched,type:match[0].replace(rtrim," ")}),soFar=soFar.slice(matched.length));for(type in Expr.filter)!(match=matchExpr[type].exec(soFar))||preFilters[type]&&!(match=preFilters[type](match))||(matched=match.shift(),tokens.push({value:matched,type:type,matches:match}),soFar=soFar.slice(matched.length));if(!matched)break}return parseOnly?soFar.length:soFar?Sizzle.error(selector):tokenCache(selector,groups).slice(0)},compile=Sizzle.compile=function(selector,match){var i,setMatchers=[],elementMatchers=[],cached=compilerCache[selector+" "];if(!cached){for(match||(match=tokenize(selector)),i=match.length;i--;)cached=matcherFromTokens(match[i]),cached[expando]?setMatchers.push(cached):elementMatchers.push(cached);cached=compilerCache(selector,matcherFromGroupMatchers(elementMatchers,setMatchers)),cached.selector=selector}return cached},select=Sizzle.select=function(selector,context,results,seed){var i,tokens,token,type,find,compiled="function"==typeof selector&&selector,match=!seed&&tokenize(selector=compiled.selector||selector);if(results=results||[],1===match.length){if(tokens=match[0]=match[0].slice(0),tokens.length>2&&"ID"===(token=tokens[0]).type&&9===context.nodeType&&documentIsHTML&&Expr.relative[tokens[1].type]){if(context=(Expr.find.ID(token.matches[0].replace(runescape,funescape),context)||[])[0],!context)return results;compiled&&(context=context.parentNode),selector=selector.slice(tokens.shift().value.length)}for(i=matchExpr.needsContext.test(selector)?0:tokens.length;i--&&(token=tokens[i],!Expr.relative[type=token.type]);)if((find=Expr.find[type])&&(seed=find(token.matches[0].replace(runescape,funescape),rsibling.test(tokens[0].type)&&testContext(context.parentNode)||context))){if(tokens.splice(i,1),selector=seed.length&&toSelector(tokens),!selector)return push.apply(results,seed),results;break}}return(compiled||compile(selector,match))(seed,context,!documentIsHTML,results,!context||rsibling.test(selector)&&testContext(context.parentNode)||context),results},support.sortStable=expando.split("").sort(sortOrder).join("")===expando,support.detectDuplicates=!!hasDuplicate,setDocument(),support.sortDetached=assert(function(el){return 1&el.compareDocumentPosition(document.createElement("fieldset"))}),assert(function(el){return el.innerHTML="<a href='#'></a>","#"===el.firstChild.getAttribute("href")})||addHandle("type|href|height|width",function(elem,name,isXML){if(!isXML)return elem.getAttribute(name,"type"===name.toLowerCase()?1:2)}),support.attributes&&assert(function(el){return el.innerHTML="<input/>",el.firstChild.setAttribute("value",""),""===el.firstChild.getAttribute("value")})||addHandle("value",function(elem,name,isXML){if(!isXML&&"input"===elem.nodeName.toLowerCase())return elem.defaultValue}),assert(function(el){return null==el.getAttribute("disabled")})||addHandle(booleans,function(elem,name,isXML){var val;if(!isXML)return elem[name]===!0?name.toLowerCase():(val=elem.getAttributeNode(name))&&val.specified?val.value:null}),Sizzle}(window);jQuery.find=Sizzle,jQuery.expr=Sizzle.selectors,jQuery.expr[":"]=jQuery.expr.pseudos,jQuery.uniqueSort=jQuery.unique=Sizzle.uniqueSort,jQuery.text=Sizzle.getText,jQuery.isXMLDoc=Sizzle.isXML,jQuery.contains=Sizzle.contains,jQuery.escapeSelector=Sizzle.escape;var dir=function(elem,dir,until){for(var matched=[],truncate=void 0!==until;(elem=elem[dir])&&9!==elem.nodeType;)if(1===elem.nodeType){if(truncate&&jQuery(elem).is(until))break;matched.push(elem)}return matched},siblings=function(n,elem){for(var matched=[];n;n=n.nextSibling)1===n.nodeType&&n!==elem&&matched.push(n);return matched},rneedsContext=jQuery.expr.match.needsContext,rsingleTag=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,risSimple=/^.[^:#\[\.,]*$/;jQuery.filter=function(expr,elems,not){var elem=elems[0];return not&&(expr=":not("+expr+")"),1===elems.length&&1===elem.nodeType?jQuery.find.matchesSelector(elem,expr)?[elem]:[]:jQuery.find.matches(expr,jQuery.grep(elems,function(elem){return 1===elem.nodeType}))},jQuery.fn.extend({find:function(selector){var i,ret,len=this.length,self=this;if("string"!=typeof selector)return this.pushStack(jQuery(selector).filter(function(){for(i=0;i<len;i++)if(jQuery.contains(self[i],this))return!0}));for(ret=this.pushStack([]),i=0;i<len;i++)jQuery.find(selector,self[i],ret);return len>1?jQuery.uniqueSort(ret):ret},filter:function(selector){return this.pushStack(winnow(this,selector||[],!1))},not:function(selector){return this.pushStack(winnow(this,selector||[],!0))},is:function(selector){return!!winnow(this,"string"==typeof selector&&rneedsContext.test(selector)?jQuery(selector):selector||[],!1).length}});var rootjQuery,rquickExpr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,init=jQuery.fn.init=function(selector,context,root){var match,elem;if(!selector)return this;if(root=root||rootjQuery,"string"==typeof selector){if(match="<"===selector[0]&&">"===selector[selector.length-1]&&selector.length>=3?[null,selector,null]:rquickExpr.exec(selector),!match||!match[1]&&context)return!context||context.jquery?(context||root).find(selector):this.constructor(context).find(selector);if(match[1]){if(context=context instanceof jQuery?context[0]:context,jQuery.merge(this,jQuery.parseHTML(match[1],context&&context.nodeType?context.ownerDocument||context:document,!0)),
rsingleTag.test(match[1])&&jQuery.isPlainObject(context))for(match in context)jQuery.isFunction(this[match])?this[match](context[match]):this.attr(match,context[match]);return this}return elem=document.getElementById(match[2]),elem&&(this[0]=elem,this.length=1),this}return selector.nodeType?(this[0]=selector,this.length=1,this):jQuery.isFunction(selector)?void 0!==root.ready?root.ready(selector):selector(jQuery):jQuery.makeArray(selector,this)};init.prototype=jQuery.fn,rootjQuery=jQuery(document);var rparentsprev=/^(?:parents|prev(?:Until|All))/,guaranteedUnique={children:!0,contents:!0,next:!0,prev:!0};jQuery.fn.extend({has:function(target){var targets=jQuery(target,this),l=targets.length;return this.filter(function(){for(var i=0;i<l;i++)if(jQuery.contains(this,targets[i]))return!0})},closest:function(selectors,context){var cur,i=0,l=this.length,matched=[],targets="string"!=typeof selectors&&jQuery(selectors);if(!rneedsContext.test(selectors))for(;i<l;i++)for(cur=this[i];cur&&cur!==context;cur=cur.parentNode)if(cur.nodeType<11&&(targets?targets.index(cur)>-1:1===cur.nodeType&&jQuery.find.matchesSelector(cur,selectors))){matched.push(cur);break}return this.pushStack(matched.length>1?jQuery.uniqueSort(matched):matched)},index:function(elem){return elem?"string"==typeof elem?indexOf.call(jQuery(elem),this[0]):indexOf.call(this,elem.jquery?elem[0]:elem):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(selector,context){return this.pushStack(jQuery.uniqueSort(jQuery.merge(this.get(),jQuery(selector,context))))},addBack:function(selector){return this.add(null==selector?this.prevObject:this.prevObject.filter(selector))}}),jQuery.each({parent:function(elem){var parent=elem.parentNode;return parent&&11!==parent.nodeType?parent:null},parents:function(elem){return dir(elem,"parentNode")},parentsUntil:function(elem,i,until){return dir(elem,"parentNode",until)},next:function(elem){return sibling(elem,"nextSibling")},prev:function(elem){return sibling(elem,"previousSibling")},nextAll:function(elem){return dir(elem,"nextSibling")},prevAll:function(elem){return dir(elem,"previousSibling")},nextUntil:function(elem,i,until){return dir(elem,"nextSibling",until)},prevUntil:function(elem,i,until){return dir(elem,"previousSibling",until)},siblings:function(elem){return siblings((elem.parentNode||{}).firstChild,elem)},children:function(elem){return siblings(elem.firstChild)},contents:function(elem){return nodeName(elem,"iframe")?elem.contentDocument:(nodeName(elem,"template")&&(elem=elem.content||elem),jQuery.merge([],elem.childNodes))}},function(name,fn){jQuery.fn[name]=function(until,selector){var matched=jQuery.map(this,fn,until);return"Until"!==name.slice(-5)&&(selector=until),selector&&"string"==typeof selector&&(matched=jQuery.filter(selector,matched)),this.length>1&&(guaranteedUnique[name]||jQuery.uniqueSort(matched),rparentsprev.test(name)&&matched.reverse()),this.pushStack(matched)}});var rnothtmlwhite=/[^\x20\t\r\n\f]+/g;jQuery.Callbacks=function(options){options="string"==typeof options?createOptions(options):jQuery.extend({},options);var firing,memory,fired,locked,list=[],queue=[],firingIndex=-1,fire=function(){for(locked=locked||options.once,fired=firing=!0;queue.length;firingIndex=-1)for(memory=queue.shift();++firingIndex<list.length;)list[firingIndex].apply(memory[0],memory[1])===!1&&options.stopOnFalse&&(firingIndex=list.length,memory=!1);options.memory||(memory=!1),firing=!1,locked&&(list=memory?[]:"")},self={add:function(){return list&&(memory&&!firing&&(firingIndex=list.length-1,queue.push(memory)),function add(args){jQuery.each(args,function(_,arg){jQuery.isFunction(arg)?options.unique&&self.has(arg)||list.push(arg):arg&&arg.length&&"string"!==jQuery.type(arg)&&add(arg)})}(arguments),memory&&!firing&&fire()),this},remove:function(){return jQuery.each(arguments,function(_,arg){for(var index;(index=jQuery.inArray(arg,list,index))>-1;)list.splice(index,1),index<=firingIndex&&firingIndex--}),this},has:function(fn){return fn?jQuery.inArray(fn,list)>-1:list.length>0},empty:function(){return list&&(list=[]),this},disable:function(){return locked=queue=[],list=memory="",this},disabled:function(){return!list},lock:function(){return locked=queue=[],memory||firing||(list=memory=""),this},locked:function(){return!!locked},fireWith:function(context,args){return locked||(args=args||[],args=[context,args.slice?args.slice():args],queue.push(args),firing||fire()),this},fire:function(){return self.fireWith(this,arguments),this},fired:function(){return!!fired}};return self},jQuery.extend({Deferred:function(func){var tuples=[["notify","progress",jQuery.Callbacks("memory"),jQuery.Callbacks("memory"),2],["resolve","done",jQuery.Callbacks("once memory"),jQuery.Callbacks("once memory"),0,"resolved"],["reject","fail",jQuery.Callbacks("once memory"),jQuery.Callbacks("once memory"),1,"rejected"]],state="pending",promise={state:function(){return state},always:function(){return deferred.done(arguments).fail(arguments),this},"catch":function(fn){return promise.then(null,fn)},pipe:function(){var fns=arguments;return jQuery.Deferred(function(newDefer){jQuery.each(tuples,function(i,tuple){var fn=jQuery.isFunction(fns[tuple[4]])&&fns[tuple[4]];deferred[tuple[1]](function(){var returned=fn&&fn.apply(this,arguments);returned&&jQuery.isFunction(returned.promise)?returned.promise().progress(newDefer.notify).done(newDefer.resolve).fail(newDefer.reject):newDefer[tuple[0]+"With"](this,fn?[returned]:arguments)})}),fns=null}).promise()},then:function(onFulfilled,onRejected,onProgress){function resolve(depth,deferred,handler,special){return function(){var that=this,args=arguments,mightThrow=function(){var returned,then;if(!(depth<maxDepth)){if(returned=handler.apply(that,args),returned===deferred.promise())throw new TypeError("Thenable self-resolution");then=returned&&("object"==typeof returned||"function"==typeof returned)&&returned.then,jQuery.isFunction(then)?special?then.call(returned,resolve(maxDepth,deferred,Identity,special),resolve(maxDepth,deferred,Thrower,special)):(maxDepth++,then.call(returned,resolve(maxDepth,deferred,Identity,special),resolve(maxDepth,deferred,Thrower,special),resolve(maxDepth,deferred,Identity,deferred.notifyWith))):(handler!==Identity&&(that=void 0,args=[returned]),(special||deferred.resolveWith)(that,args))}},process=special?mightThrow:function(){try{mightThrow()}catch(e){jQuery.Deferred.exceptionHook&&jQuery.Deferred.exceptionHook(e,process.stackTrace),depth+1>=maxDepth&&(handler!==Thrower&&(that=void 0,args=[e]),deferred.rejectWith(that,args))}};depth?process():(jQuery.Deferred.getStackHook&&(process.stackTrace=jQuery.Deferred.getStackHook()),window.setTimeout(process))}}var maxDepth=0;return jQuery.Deferred(function(newDefer){tuples[0][3].add(resolve(0,newDefer,jQuery.isFunction(onProgress)?onProgress:Identity,newDefer.notifyWith)),tuples[1][3].add(resolve(0,newDefer,jQuery.isFunction(onFulfilled)?onFulfilled:Identity)),tuples[2][3].add(resolve(0,newDefer,jQuery.isFunction(onRejected)?onRejected:Thrower))}).promise()},promise:function(obj){return null!=obj?jQuery.extend(obj,promise):promise}},deferred={};return jQuery.each(tuples,function(i,tuple){var list=tuple[2],stateString=tuple[5];promise[tuple[1]]=list.add,stateString&&list.add(function(){state=stateString},tuples[3-i][2].disable,tuples[0][2].lock),list.add(tuple[3].fire),deferred[tuple[0]]=function(){return deferred[tuple[0]+"With"](this===deferred?void 0:this,arguments),this},deferred[tuple[0]+"With"]=list.fireWith}),promise.promise(deferred),func&&func.call(deferred,deferred),deferred},when:function(singleValue){var remaining=arguments.length,i=remaining,resolveContexts=Array(i),resolveValues=slice.call(arguments),master=jQuery.Deferred(),updateFunc=function(i){return function(value){resolveContexts[i]=this,resolveValues[i]=arguments.length>1?slice.call(arguments):value,--remaining||master.resolveWith(resolveContexts,resolveValues)}};if(remaining<=1&&(adoptValue(singleValue,master.done(updateFunc(i)).resolve,master.reject,!remaining),"pending"===master.state()||jQuery.isFunction(resolveValues[i]&&resolveValues[i].then)))return master.then();for(;i--;)adoptValue(resolveValues[i],updateFunc(i),master.reject);return master.promise()}});var rerrorNames=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;jQuery.Deferred.exceptionHook=function(error,stack){window.console&&window.console.warn&&error&&rerrorNames.test(error.name)&&window.console.warn("jQuery.Deferred exception: "+error.message,error.stack,stack)},jQuery.readyException=function(error){window.setTimeout(function(){throw error})};var readyList=jQuery.Deferred();jQuery.fn.ready=function(fn){return readyList.then(fn)["catch"](function(error){jQuery.readyException(error)}),this},jQuery.extend({isReady:!1,readyWait:1,ready:function(wait){(wait===!0?--jQuery.readyWait:jQuery.isReady)||(jQuery.isReady=!0,wait!==!0&&--jQuery.readyWait>0||readyList.resolveWith(document,[jQuery]))}}),jQuery.ready.then=readyList.then,"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(jQuery.ready):(document.addEventListener("DOMContentLoaded",completed),window.addEventListener("load",completed));var access=function(elems,fn,key,value,chainable,emptyGet,raw){var i=0,len=elems.length,bulk=null==key;if("object"===jQuery.type(key)){chainable=!0;for(i in key)access(elems,fn,i,key[i],!0,emptyGet,raw)}else if(void 0!==value&&(chainable=!0,jQuery.isFunction(value)||(raw=!0),bulk&&(raw?(fn.call(elems,value),fn=null):(bulk=fn,fn=function(elem,key,value){return bulk.call(jQuery(elem),value)})),fn))for(;i<len;i++)fn(elems[i],key,raw?value:value.call(elems[i],i,fn(elems[i],key)));return chainable?elems:bulk?fn.call(elems):len?fn(elems[0],key):emptyGet},acceptData=function(owner){return 1===owner.nodeType||9===owner.nodeType||!+owner.nodeType};Data.uid=1,Data.prototype={cache:function(owner){var value=owner[this.expando];return value||(value={},acceptData(owner)&&(owner.nodeType?owner[this.expando]=value:Object.defineProperty(owner,this.expando,{value:value,configurable:!0}))),value},set:function(owner,data,value){var prop,cache=this.cache(owner);if("string"==typeof data)cache[jQuery.camelCase(data)]=value;else for(prop in data)cache[jQuery.camelCase(prop)]=data[prop];return cache},get:function(owner,key){return void 0===key?this.cache(owner):owner[this.expando]&&owner[this.expando][jQuery.camelCase(key)]},access:function(owner,key,value){return void 0===key||key&&"string"==typeof key&&void 0===value?this.get(owner,key):(this.set(owner,key,value),void 0!==value?value:key)},remove:function(owner,key){var i,cache=owner[this.expando];if(void 0!==cache){if(void 0!==key){Array.isArray(key)?key=key.map(jQuery.camelCase):(key=jQuery.camelCase(key),key=key in cache?[key]:key.match(rnothtmlwhite)||[]),i=key.length;for(;i--;)delete cache[key[i]]}(void 0===key||jQuery.isEmptyObject(cache))&&(owner.nodeType?owner[this.expando]=void 0:delete owner[this.expando])}},hasData:function(owner){var cache=owner[this.expando];return void 0!==cache&&!jQuery.isEmptyObject(cache)}};var dataPriv=new Data,dataUser=new Data,rbrace=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,rmultiDash=/[A-Z]/g;jQuery.extend({hasData:function(elem){return dataUser.hasData(elem)||dataPriv.hasData(elem)},data:function(elem,name,data){return dataUser.access(elem,name,data)},removeData:function(elem,name){dataUser.remove(elem,name)},_data:function(elem,name,data){return dataPriv.access(elem,name,data)},_removeData:function(elem,name){dataPriv.remove(elem,name)}}),jQuery.fn.extend({data:function(key,value){var i,name,data,elem=this[0],attrs=elem&&elem.attributes;if(void 0===key){if(this.length&&(data=dataUser.get(elem),1===elem.nodeType&&!dataPriv.get(elem,"hasDataAttrs"))){for(i=attrs.length;i--;)attrs[i]&&(name=attrs[i].name,0===name.indexOf("data-")&&(name=jQuery.camelCase(name.slice(5)),dataAttr(elem,name,data[name])));dataPriv.set(elem,"hasDataAttrs",!0)}return data}return"object"==typeof key?this.each(function(){dataUser.set(this,key)}):access(this,function(value){var data;if(elem&&void 0===value){if(data=dataUser.get(elem,key),void 0!==data)return data;if(data=dataAttr(elem,key),void 0!==data)return data}else this.each(function(){dataUser.set(this,key,value)})},null,value,arguments.length>1,null,!0)},removeData:function(key){return this.each(function(){dataUser.remove(this,key)})}}),jQuery.extend({queue:function(elem,type,data){var queue;if(elem)return type=(type||"fx")+"queue",queue=dataPriv.get(elem,type),data&&(!queue||Array.isArray(data)?queue=dataPriv.access(elem,type,jQuery.makeArray(data)):queue.push(data)),queue||[]},dequeue:function(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),startLength=queue.length,fn=queue.shift(),hooks=jQuery._queueHooks(elem,type),next=function(){jQuery.dequeue(elem,type)};"inprogress"===fn&&(fn=queue.shift(),startLength--),fn&&("fx"===type&&queue.unshift("inprogress"),delete hooks.stop,fn.call(elem,next,hooks)),!startLength&&hooks&&hooks.empty.fire()},_queueHooks:function(elem,type){var key=type+"queueHooks";return dataPriv.get(elem,key)||dataPriv.access(elem,key,{empty:jQuery.Callbacks("once memory").add(function(){dataPriv.remove(elem,[type+"queue",key])})})}}),jQuery.fn.extend({queue:function(type,data){var setter=2;return"string"!=typeof type&&(data=type,type="fx",setter--),arguments.length<setter?jQuery.queue(this[0],type):void 0===data?this:this.each(function(){var queue=jQuery.queue(this,type,data);jQuery._queueHooks(this,type),"fx"===type&&"inprogress"!==queue[0]&&jQuery.dequeue(this,type)})},dequeue:function(type){return this.each(function(){jQuery.dequeue(this,type)})},clearQueue:function(type){return this.queue(type||"fx",[])},promise:function(type,obj){var tmp,count=1,defer=jQuery.Deferred(),elements=this,i=this.length,resolve=function(){--count||defer.resolveWith(elements,[elements])};for("string"!=typeof type&&(obj=type,type=void 0),type=type||"fx";i--;)tmp=dataPriv.get(elements[i],type+"queueHooks"),tmp&&tmp.empty&&(count++,tmp.empty.add(resolve));return resolve(),defer.promise(obj)}});var pnum=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,rcssNum=new RegExp("^(?:([+-])=|)("+pnum+")([a-z%]*)$","i"),cssExpand=["Top","Right","Bottom","Left"],isHiddenWithinTree=function(elem,el){return elem=el||elem,"none"===elem.style.display||""===elem.style.display&&jQuery.contains(elem.ownerDocument,elem)&&"none"===jQuery.css(elem,"display")},swap=function(elem,options,callback,args){var ret,name,old={};for(name in options)old[name]=elem.style[name],elem.style[name]=options[name];ret=callback.apply(elem,args||[]);for(name in options)elem.style[name]=old[name];return ret},defaultDisplayMap={};jQuery.fn.extend({show:function(){return showHide(this,!0)},hide:function(){return showHide(this)},toggle:function(state){return"boolean"==typeof state?state?this.show():this.hide():this.each(function(){isHiddenWithinTree(this)?jQuery(this).show():jQuery(this).hide()})}});var rcheckableType=/^(?:checkbox|radio)$/i,rtagName=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,rscriptType=/^$|\/(?:java|ecma)script/i,wrapMap={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};wrapMap.optgroup=wrapMap.option,wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead,wrapMap.th=wrapMap.td;var rhtml=/<|&#?\w+;/;!function(){var fragment=document.createDocumentFragment(),div=fragment.appendChild(document.createElement("div")),input=document.createElement("input");input.setAttribute("type","radio"),input.setAttribute("checked","checked"),input.setAttribute("name","t"),div.appendChild(input),support.checkClone=div.cloneNode(!0).cloneNode(!0).lastChild.checked,div.innerHTML="<textarea>x</textarea>",support.noCloneChecked=!!div.cloneNode(!0).lastChild.defaultValue}();var documentElement=document.documentElement,rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,rtypenamespace=/^([^.]*)(?:\.(.+)|)/;jQuery.event={global:{},add:function(elem,types,handler,data,selector){var handleObjIn,eventHandle,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=dataPriv.get(elem);if(elemData)for(handler.handler&&(handleObjIn=handler,handler=handleObjIn.handler,selector=handleObjIn.selector),selector&&jQuery.find.matchesSelector(documentElement,selector),handler.guid||(handler.guid=jQuery.guid++),(events=elemData.events)||(events=elemData.events={}),(eventHandle=elemData.handle)||(eventHandle=elemData.handle=function(e){return"undefined"!=typeof jQuery&&jQuery.event.triggered!==e.type?jQuery.event.dispatch.apply(elem,arguments):void 0}),types=(types||"").match(rnothtmlwhite)||[""],t=types.length;t--;)tmp=rtypenamespace.exec(types[t])||[],type=origType=tmp[1],namespaces=(tmp[2]||"").split(".").sort(),type&&(special=jQuery.event.special[type]||{},type=(selector?special.delegateType:special.bindType)||type,special=jQuery.event.special[type]||{},handleObj=jQuery.extend({type:type,origType:origType,data:data,handler:handler,guid:handler.guid,selector:selector,needsContext:selector&&jQuery.expr.match.needsContext.test(selector),namespace:namespaces.join(".")},handleObjIn),(handlers=events[type])||(handlers=events[type]=[],handlers.delegateCount=0,special.setup&&special.setup.call(elem,data,namespaces,eventHandle)!==!1||elem.addEventListener&&elem.addEventListener(type,eventHandle)),special.add&&(special.add.call(elem,handleObj),handleObj.handler.guid||(handleObj.handler.guid=handler.guid)),selector?handlers.splice(handlers.delegateCount++,0,handleObj):handlers.push(handleObj),jQuery.event.global[type]=!0)},remove:function(elem,types,handler,selector,mappedTypes){var j,origCount,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=dataPriv.hasData(elem)&&dataPriv.get(elem);if(elemData&&(events=elemData.events)){for(types=(types||"").match(rnothtmlwhite)||[""],t=types.length;t--;)if(tmp=rtypenamespace.exec(types[t])||[],type=origType=tmp[1],namespaces=(tmp[2]||"").split(".").sort(),type){for(special=jQuery.event.special[type]||{},type=(selector?special.delegateType:special.bindType)||type,handlers=events[type]||[],tmp=tmp[2]&&new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"),origCount=j=handlers.length;j--;)handleObj=handlers[j],!mappedTypes&&origType!==handleObj.origType||handler&&handler.guid!==handleObj.guid||tmp&&!tmp.test(handleObj.namespace)||selector&&selector!==handleObj.selector&&("**"!==selector||!handleObj.selector)||(handlers.splice(j,1),handleObj.selector&&handlers.delegateCount--,special.remove&&special.remove.call(elem,handleObj));origCount&&!handlers.length&&(special.teardown&&special.teardown.call(elem,namespaces,elemData.handle)!==!1||jQuery.removeEvent(elem,type,elemData.handle),delete events[type])}else for(type in events)jQuery.event.remove(elem,type+types[t],handler,selector,!0);jQuery.isEmptyObject(events)&&dataPriv.remove(elem,"handle events")}},dispatch:function(nativeEvent){var i,j,ret,matched,handleObj,handlerQueue,event=jQuery.event.fix(nativeEvent),args=new Array(arguments.length),handlers=(dataPriv.get(this,"events")||{})[event.type]||[],special=jQuery.event.special[event.type]||{};for(args[0]=event,i=1;i<arguments.length;i++)args[i]=arguments[i];if(event.delegateTarget=this,!special.preDispatch||special.preDispatch.call(this,event)!==!1){for(handlerQueue=jQuery.event.handlers.call(this,event,handlers),i=0;(matched=handlerQueue[i++])&&!event.isPropagationStopped();)for(event.currentTarget=matched.elem,j=0;(handleObj=matched.handlers[j++])&&!event.isImmediatePropagationStopped();)event.rnamespace&&!event.rnamespace.test(handleObj.namespace)||(event.handleObj=handleObj,event.data=handleObj.data,ret=((jQuery.event.special[handleObj.origType]||{}).handle||handleObj.handler).apply(matched.elem,args),void 0!==ret&&(event.result=ret)===!1&&(event.preventDefault(),event.stopPropagation()));return special.postDispatch&&special.postDispatch.call(this,event),event.result}},handlers:function(event,handlers){var i,handleObj,sel,matchedHandlers,matchedSelectors,handlerQueue=[],delegateCount=handlers.delegateCount,cur=event.target;if(delegateCount&&cur.nodeType&&!("click"===event.type&&event.button>=1))for(;cur!==this;cur=cur.parentNode||this)if(1===cur.nodeType&&("click"!==event.type||cur.disabled!==!0)){for(matchedHandlers=[],matchedSelectors={},i=0;i<delegateCount;i++)handleObj=handlers[i],sel=handleObj.selector+" ",void 0===matchedSelectors[sel]&&(matchedSelectors[sel]=handleObj.needsContext?jQuery(sel,this).index(cur)>-1:jQuery.find(sel,this,null,[cur]).length),matchedSelectors[sel]&&matchedHandlers.push(handleObj);matchedHandlers.length&&handlerQueue.push({elem:cur,handlers:matchedHandlers})}return cur=this,delegateCount<handlers.length&&handlerQueue.push({elem:cur,handlers:handlers.slice(delegateCount)}),handlerQueue},addProp:function(name,hook){Object.defineProperty(jQuery.Event.prototype,name,{enumerable:!0,configurable:!0,get:jQuery.isFunction(hook)?function(){if(this.originalEvent)return hook(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[name]},set:function(value){Object.defineProperty(this,name,{enumerable:!0,configurable:!0,writable:!0,value:value})}})},fix:function(originalEvent){return originalEvent[jQuery.expando]?originalEvent:new jQuery.Event(originalEvent)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==safeActiveElement()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===safeActiveElement()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&nodeName(this,"input"))return this.click(),!1},_default:function(event){return nodeName(event.target,"a")}},beforeunload:{postDispatch:function(event){void 0!==event.result&&event.originalEvent&&(event.originalEvent.returnValue=event.result)}}}},jQuery.removeEvent=function(elem,type,handle){elem.removeEventListener&&elem.removeEventListener(type,handle)},jQuery.Event=function(src,props){return this instanceof jQuery.Event?(src&&src.type?(this.originalEvent=src,this.type=src.type,this.isDefaultPrevented=src.defaultPrevented||void 0===src.defaultPrevented&&src.returnValue===!1?returnTrue:returnFalse,this.target=src.target&&3===src.target.nodeType?src.target.parentNode:src.target,this.currentTarget=src.currentTarget,this.relatedTarget=src.relatedTarget):this.type=src,props&&jQuery.extend(this,props),this.timeStamp=src&&src.timeStamp||jQuery.now(),void(this[jQuery.expando]=!0)):new jQuery.Event(src,props)},jQuery.Event.prototype={constructor:jQuery.Event,isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=returnTrue,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=returnTrue,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=returnTrue,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},jQuery.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(event){var button=event.button;return null==event.which&&rkeyEvent.test(event.type)?null!=event.charCode?event.charCode:event.keyCode:!event.which&&void 0!==button&&rmouseEvent.test(event.type)?1&button?1:2&button?3:4&button?2:0:event.which}},jQuery.event.addProp),jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(orig,fix){jQuery.event.special[orig]={delegateType:fix,bindType:fix,handle:function(event){var ret,target=this,related=event.relatedTarget,handleObj=event.handleObj;return related&&(related===target||jQuery.contains(target,related))||(event.type=handleObj.origType,ret=handleObj.handler.apply(this,arguments),event.type=fix),ret}}}),jQuery.fn.extend({on:function(types,selector,data,fn){return on(this,types,selector,data,fn)},one:function(types,selector,data,fn){return on(this,types,selector,data,fn,1)},off:function(types,selector,fn){var handleObj,type;if(types&&types.preventDefault&&types.handleObj)return handleObj=types.handleObj,jQuery(types.delegateTarget).off(handleObj.namespace?handleObj.origType+"."+handleObj.namespace:handleObj.origType,handleObj.selector,handleObj.handler),this;if("object"==typeof types){for(type in types)this.off(type,selector,types[type]);return this}return selector!==!1&&"function"!=typeof selector||(fn=selector,selector=void 0),fn===!1&&(fn=returnFalse),this.each(function(){jQuery.event.remove(this,types,fn,selector)})}});var rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,rnoInnerhtml=/<script|<style|<link/i,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptTypeMasked=/^true\/(.*)/,rcleanScript=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;jQuery.extend({htmlPrefilter:function(html){return html.replace(rxhtmlTag,"<$1></$2>")},clone:function(elem,dataAndEvents,deepDataAndEvents){var i,l,srcElements,destElements,clone=elem.cloneNode(!0),inPage=jQuery.contains(elem.ownerDocument,elem);if(!(support.noCloneChecked||1!==elem.nodeType&&11!==elem.nodeType||jQuery.isXMLDoc(elem)))for(destElements=getAll(clone),srcElements=getAll(elem),i=0,l=srcElements.length;i<l;i++)fixInput(srcElements[i],destElements[i]);if(dataAndEvents)if(deepDataAndEvents)for(srcElements=srcElements||getAll(elem),destElements=destElements||getAll(clone),i=0,l=srcElements.length;i<l;i++)cloneCopyEvent(srcElements[i],destElements[i]);else cloneCopyEvent(elem,clone);return destElements=getAll(clone,"script"),destElements.length>0&&setGlobalEval(destElements,!inPage&&getAll(elem,"script")),clone},cleanData:function(elems){for(var data,elem,type,special=jQuery.event.special,i=0;void 0!==(elem=elems[i]);i++)if(acceptData(elem)){if(data=elem[dataPriv.expando]){if(data.events)for(type in data.events)special[type]?jQuery.event.remove(elem,type):jQuery.removeEvent(elem,type,data.handle);elem[dataPriv.expando]=void 0}elem[dataUser.expando]&&(elem[dataUser.expando]=void 0)}}}),jQuery.fn.extend({detach:function(selector){return remove(this,selector,!0)},remove:function(selector){return remove(this,selector)},text:function(value){return access(this,function(value){return void 0===value?jQuery.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=value)})},null,value,arguments.length)},append:function(){return domManip(this,arguments,function(elem){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var target=manipulationTarget(this,elem);target.appendChild(elem)}})},prepend:function(){return domManip(this,arguments,function(elem){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var target=manipulationTarget(this,elem);target.insertBefore(elem,target.firstChild)}})},before:function(){return domManip(this,arguments,function(elem){this.parentNode&&this.parentNode.insertBefore(elem,this)})},after:function(){return domManip(this,arguments,function(elem){this.parentNode&&this.parentNode.insertBefore(elem,this.nextSibling)})},empty:function(){for(var elem,i=0;null!=(elem=this[i]);i++)1===elem.nodeType&&(jQuery.cleanData(getAll(elem,!1)),elem.textContent="");return this},clone:function(dataAndEvents,deepDataAndEvents){return dataAndEvents=null!=dataAndEvents&&dataAndEvents,deepDataAndEvents=null==deepDataAndEvents?dataAndEvents:deepDataAndEvents,this.map(function(){return jQuery.clone(this,dataAndEvents,deepDataAndEvents)})},html:function(value){return access(this,function(value){var elem=this[0]||{},i=0,l=this.length;if(void 0===value&&1===elem.nodeType)return elem.innerHTML;if("string"==typeof value&&!rnoInnerhtml.test(value)&&!wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()]){value=jQuery.htmlPrefilter(value);try{for(;i<l;i++)elem=this[i]||{},1===elem.nodeType&&(jQuery.cleanData(getAll(elem,!1)),elem.innerHTML=value);elem=0}catch(e){}}elem&&this.empty().append(value)},null,value,arguments.length)},replaceWith:function(){var ignored=[];return domManip(this,arguments,function(elem){var parent=this.parentNode;jQuery.inArray(this,ignored)<0&&(jQuery.cleanData(getAll(this)),parent&&parent.replaceChild(elem,this))},ignored)}}),jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){for(var elems,ret=[],insert=jQuery(selector),last=insert.length-1,i=0;i<=last;i++)elems=i===last?this:this.clone(!0),jQuery(insert[i])[original](elems),push.apply(ret,elems.get());return this.pushStack(ret)}});var rmargin=/^margin/,rnumnonpx=new RegExp("^("+pnum+")(?!px)[a-z%]+$","i"),getStyles=function(elem){var view=elem.ownerDocument.defaultView;return view&&view.opener||(view=window),view.getComputedStyle(elem)};!function(){function computeStyleTests(){if(div){div.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",div.innerHTML="",documentElement.appendChild(container);var divStyle=window.getComputedStyle(div);pixelPositionVal="1%"!==divStyle.top,reliableMarginLeftVal="2px"===divStyle.marginLeft,boxSizingReliableVal="4px"===divStyle.width,div.style.marginRight="50%",pixelMarginRightVal="4px"===divStyle.marginRight,documentElement.removeChild(container),div=null}}var pixelPositionVal,boxSizingReliableVal,pixelMarginRightVal,reliableMarginLeftVal,container=document.createElement("div"),div=document.createElement("div");div.style&&(div.style.backgroundClip="content-box",div.cloneNode(!0).style.backgroundClip="",support.clearCloneStyle="content-box"===div.style.backgroundClip,container.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",container.appendChild(div),jQuery.extend(support,{pixelPosition:function(){return computeStyleTests(),pixelPositionVal},boxSizingReliable:function(){return computeStyleTests(),boxSizingReliableVal},pixelMarginRight:function(){return computeStyleTests(),pixelMarginRightVal},reliableMarginLeft:function(){return computeStyleTests(),reliableMarginLeftVal}}))}();var rdisplayswap=/^(none|table(?!-c[ea]).+)/,rcustomProp=/^--/,cssShow={position:"absolute",visibility:"hidden",display:"block"},cssNormalTransform={letterSpacing:"0",fontWeight:"400"},cssPrefixes=["Webkit","Moz","ms"],emptyStyle=document.createElement("div").style;jQuery.extend({cssHooks:{opacity:{get:function(elem,computed){if(computed){var ret=curCSS(elem,"opacity");return""===ret?"1":ret}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(elem,name,value,extra){if(elem&&3!==elem.nodeType&&8!==elem.nodeType&&elem.style){var ret,type,hooks,origName=jQuery.camelCase(name),isCustomProp=rcustomProp.test(name),style=elem.style;return isCustomProp||(name=finalPropName(origName)),hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName],void 0===value?hooks&&"get"in hooks&&void 0!==(ret=hooks.get(elem,!1,extra))?ret:style[name]:(type=typeof value,"string"===type&&(ret=rcssNum.exec(value))&&ret[1]&&(value=adjustCSS(elem,name,ret),type="number"),null!=value&&value===value&&("number"===type&&(value+=ret&&ret[3]||(jQuery.cssNumber[origName]?"":"px")),
support.clearCloneStyle||""!==value||0!==name.indexOf("background")||(style[name]="inherit"),hooks&&"set"in hooks&&void 0===(value=hooks.set(elem,value,extra))||(isCustomProp?style.setProperty(name,value):style[name]=value)),void 0)}},css:function(elem,name,extra,styles){var val,num,hooks,origName=jQuery.camelCase(name),isCustomProp=rcustomProp.test(name);return isCustomProp||(name=finalPropName(origName)),hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName],hooks&&"get"in hooks&&(val=hooks.get(elem,!0,extra)),void 0===val&&(val=curCSS(elem,name,styles)),"normal"===val&&name in cssNormalTransform&&(val=cssNormalTransform[name]),""===extra||extra?(num=parseFloat(val),extra===!0||isFinite(num)?num||0:val):val}}),jQuery.each(["height","width"],function(i,name){jQuery.cssHooks[name]={get:function(elem,computed,extra){if(computed)return!rdisplayswap.test(jQuery.css(elem,"display"))||elem.getClientRects().length&&elem.getBoundingClientRect().width?getWidthOrHeight(elem,name,extra):swap(elem,cssShow,function(){return getWidthOrHeight(elem,name,extra)})},set:function(elem,value,extra){var matches,styles=extra&&getStyles(elem),subtract=extra&&augmentWidthOrHeight(elem,name,extra,"border-box"===jQuery.css(elem,"boxSizing",!1,styles),styles);return subtract&&(matches=rcssNum.exec(value))&&"px"!==(matches[3]||"px")&&(elem.style[name]=value,value=jQuery.css(elem,name)),setPositiveNumber(elem,value,subtract)}}}),jQuery.cssHooks.marginLeft=addGetHookIf(support.reliableMarginLeft,function(elem,computed){if(computed)return(parseFloat(curCSS(elem,"marginLeft"))||elem.getBoundingClientRect().left-swap(elem,{marginLeft:0},function(){return elem.getBoundingClientRect().left}))+"px"}),jQuery.each({margin:"",padding:"",border:"Width"},function(prefix,suffix){jQuery.cssHooks[prefix+suffix]={expand:function(value){for(var i=0,expanded={},parts="string"==typeof value?value.split(" "):[value];i<4;i++)expanded[prefix+cssExpand[i]+suffix]=parts[i]||parts[i-2]||parts[0];return expanded}},rmargin.test(prefix)||(jQuery.cssHooks[prefix+suffix].set=setPositiveNumber)}),jQuery.fn.extend({css:function(name,value){return access(this,function(elem,name,value){var styles,len,map={},i=0;if(Array.isArray(name)){for(styles=getStyles(elem),len=name.length;i<len;i++)map[name[i]]=jQuery.css(elem,name[i],!1,styles);return map}return void 0!==value?jQuery.style(elem,name,value):jQuery.css(elem,name)},name,value,arguments.length>1)}}),jQuery.Tween=Tween,Tween.prototype={constructor:Tween,init:function(elem,options,prop,end,easing,unit){this.elem=elem,this.prop=prop,this.easing=easing||jQuery.easing._default,this.options=options,this.start=this.now=this.cur(),this.end=end,this.unit=unit||(jQuery.cssNumber[prop]?"":"px")},cur:function(){var hooks=Tween.propHooks[this.prop];return hooks&&hooks.get?hooks.get(this):Tween.propHooks._default.get(this)},run:function(percent){var eased,hooks=Tween.propHooks[this.prop];return this.options.duration?this.pos=eased=jQuery.easing[this.easing](percent,this.options.duration*percent,0,1,this.options.duration):this.pos=eased=percent,this.now=(this.end-this.start)*eased+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),hooks&&hooks.set?hooks.set(this):Tween.propHooks._default.set(this),this}},Tween.prototype.init.prototype=Tween.prototype,Tween.propHooks={_default:{get:function(tween){var result;return 1!==tween.elem.nodeType||null!=tween.elem[tween.prop]&&null==tween.elem.style[tween.prop]?tween.elem[tween.prop]:(result=jQuery.css(tween.elem,tween.prop,""),result&&"auto"!==result?result:0)},set:function(tween){jQuery.fx.step[tween.prop]?jQuery.fx.step[tween.prop](tween):1!==tween.elem.nodeType||null==tween.elem.style[jQuery.cssProps[tween.prop]]&&!jQuery.cssHooks[tween.prop]?tween.elem[tween.prop]=tween.now:jQuery.style(tween.elem,tween.prop,tween.now+tween.unit)}}},Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(tween){tween.elem.nodeType&&tween.elem.parentNode&&(tween.elem[tween.prop]=tween.now)}},jQuery.easing={linear:function(p){return p},swing:function(p){return.5-Math.cos(p*Math.PI)/2},_default:"swing"},jQuery.fx=Tween.prototype.init,jQuery.fx.step={};var fxNow,inProgress,rfxtypes=/^(?:toggle|show|hide)$/,rrun=/queueHooks$/;jQuery.Animation=jQuery.extend(Animation,{tweeners:{"*":[function(prop,value){var tween=this.createTween(prop,value);return adjustCSS(tween.elem,prop,rcssNum.exec(value),tween),tween}]},tweener:function(props,callback){jQuery.isFunction(props)?(callback=props,props=["*"]):props=props.match(rnothtmlwhite);for(var prop,index=0,length=props.length;index<length;index++)prop=props[index],Animation.tweeners[prop]=Animation.tweeners[prop]||[],Animation.tweeners[prop].unshift(callback)},prefilters:[defaultPrefilter],prefilter:function(callback,prepend){prepend?Animation.prefilters.unshift(callback):Animation.prefilters.push(callback)}}),jQuery.speed=function(speed,easing,fn){var opt=speed&&"object"==typeof speed?jQuery.extend({},speed):{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!jQuery.isFunction(easing)&&easing};return jQuery.fx.off?opt.duration=0:"number"!=typeof opt.duration&&(opt.duration in jQuery.fx.speeds?opt.duration=jQuery.fx.speeds[opt.duration]:opt.duration=jQuery.fx.speeds._default),null!=opt.queue&&opt.queue!==!0||(opt.queue="fx"),opt.old=opt.complete,opt.complete=function(){jQuery.isFunction(opt.old)&&opt.old.call(this),opt.queue&&jQuery.dequeue(this,opt.queue)},opt},jQuery.fn.extend({fadeTo:function(speed,to,easing,callback){return this.filter(isHiddenWithinTree).css("opacity",0).show().end().animate({opacity:to},speed,easing,callback)},animate:function(prop,speed,easing,callback){var empty=jQuery.isEmptyObject(prop),optall=jQuery.speed(speed,easing,callback),doAnimation=function(){var anim=Animation(this,jQuery.extend({},prop),optall);(empty||dataPriv.get(this,"finish"))&&anim.stop(!0)};return doAnimation.finish=doAnimation,empty||optall.queue===!1?this.each(doAnimation):this.queue(optall.queue,doAnimation)},stop:function(type,clearQueue,gotoEnd){var stopQueue=function(hooks){var stop=hooks.stop;delete hooks.stop,stop(gotoEnd)};return"string"!=typeof type&&(gotoEnd=clearQueue,clearQueue=type,type=void 0),clearQueue&&type!==!1&&this.queue(type||"fx",[]),this.each(function(){var dequeue=!0,index=null!=type&&type+"queueHooks",timers=jQuery.timers,data=dataPriv.get(this);if(index)data[index]&&data[index].stop&&stopQueue(data[index]);else for(index in data)data[index]&&data[index].stop&&rrun.test(index)&&stopQueue(data[index]);for(index=timers.length;index--;)timers[index].elem!==this||null!=type&&timers[index].queue!==type||(timers[index].anim.stop(gotoEnd),dequeue=!1,timers.splice(index,1));!dequeue&&gotoEnd||jQuery.dequeue(this,type)})},finish:function(type){return type!==!1&&(type=type||"fx"),this.each(function(){var index,data=dataPriv.get(this),queue=data[type+"queue"],hooks=data[type+"queueHooks"],timers=jQuery.timers,length=queue?queue.length:0;for(data.finish=!0,jQuery.queue(this,type,[]),hooks&&hooks.stop&&hooks.stop.call(this,!0),index=timers.length;index--;)timers[index].elem===this&&timers[index].queue===type&&(timers[index].anim.stop(!0),timers.splice(index,1));for(index=0;index<length;index++)queue[index]&&queue[index].finish&&queue[index].finish.call(this);delete data.finish})}}),jQuery.each(["toggle","show","hide"],function(i,name){var cssFn=jQuery.fn[name];jQuery.fn[name]=function(speed,easing,callback){return null==speed||"boolean"==typeof speed?cssFn.apply(this,arguments):this.animate(genFx(name,!0),speed,easing,callback)}}),jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(name,props){jQuery.fn[name]=function(speed,easing,callback){return this.animate(props,speed,easing,callback)}}),jQuery.timers=[],jQuery.fx.tick=function(){var timer,i=0,timers=jQuery.timers;for(fxNow=jQuery.now();i<timers.length;i++)timer=timers[i],timer()||timers[i]!==timer||timers.splice(i--,1);timers.length||jQuery.fx.stop(),fxNow=void 0},jQuery.fx.timer=function(timer){jQuery.timers.push(timer),jQuery.fx.start()},jQuery.fx.interval=13,jQuery.fx.start=function(){inProgress||(inProgress=!0,schedule())},jQuery.fx.stop=function(){inProgress=null},jQuery.fx.speeds={slow:600,fast:200,_default:400},jQuery.fn.delay=function(time,type){return time=jQuery.fx?jQuery.fx.speeds[time]||time:time,type=type||"fx",this.queue(type,function(next,hooks){var timeout=window.setTimeout(next,time);hooks.stop=function(){window.clearTimeout(timeout)}})},function(){var input=document.createElement("input"),select=document.createElement("select"),opt=select.appendChild(document.createElement("option"));input.type="checkbox",support.checkOn=""!==input.value,support.optSelected=opt.selected,input=document.createElement("input"),input.value="t",input.type="radio",support.radioValue="t"===input.value}();var boolHook,attrHandle=jQuery.expr.attrHandle;jQuery.fn.extend({attr:function(name,value){return access(this,jQuery.attr,name,value,arguments.length>1)},removeAttr:function(name){return this.each(function(){jQuery.removeAttr(this,name)})}}),jQuery.extend({attr:function(elem,name,value){var ret,hooks,nType=elem.nodeType;if(3!==nType&&8!==nType&&2!==nType)return"undefined"==typeof elem.getAttribute?jQuery.prop(elem,name,value):(1===nType&&jQuery.isXMLDoc(elem)||(hooks=jQuery.attrHooks[name.toLowerCase()]||(jQuery.expr.match.bool.test(name)?boolHook:void 0)),void 0!==value?null===value?void jQuery.removeAttr(elem,name):hooks&&"set"in hooks&&void 0!==(ret=hooks.set(elem,value,name))?ret:(elem.setAttribute(name,value+""),value):hooks&&"get"in hooks&&null!==(ret=hooks.get(elem,name))?ret:(ret=jQuery.find.attr(elem,name),null==ret?void 0:ret))},attrHooks:{type:{set:function(elem,value){if(!support.radioValue&&"radio"===value&&nodeName(elem,"input")){var val=elem.value;return elem.setAttribute("type",value),val&&(elem.value=val),value}}}},removeAttr:function(elem,value){var name,i=0,attrNames=value&&value.match(rnothtmlwhite);if(attrNames&&1===elem.nodeType)for(;name=attrNames[i++];)elem.removeAttribute(name)}}),boolHook={set:function(elem,value,name){return value===!1?jQuery.removeAttr(elem,name):elem.setAttribute(name,name),name}},jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g),function(i,name){var getter=attrHandle[name]||jQuery.find.attr;attrHandle[name]=function(elem,name,isXML){var ret,handle,lowercaseName=name.toLowerCase();return isXML||(handle=attrHandle[lowercaseName],attrHandle[lowercaseName]=ret,ret=null!=getter(elem,name,isXML)?lowercaseName:null,attrHandle[lowercaseName]=handle),ret}});var rfocusable=/^(?:input|select|textarea|button)$/i,rclickable=/^(?:a|area)$/i;jQuery.fn.extend({prop:function(name,value){return access(this,jQuery.prop,name,value,arguments.length>1)},removeProp:function(name){return this.each(function(){delete this[jQuery.propFix[name]||name]})}}),jQuery.extend({prop:function(elem,name,value){var ret,hooks,nType=elem.nodeType;if(3!==nType&&8!==nType&&2!==nType)return 1===nType&&jQuery.isXMLDoc(elem)||(name=jQuery.propFix[name]||name,hooks=jQuery.propHooks[name]),void 0!==value?hooks&&"set"in hooks&&void 0!==(ret=hooks.set(elem,value,name))?ret:elem[name]=value:hooks&&"get"in hooks&&null!==(ret=hooks.get(elem,name))?ret:elem[name]},propHooks:{tabIndex:{get:function(elem){var tabindex=jQuery.find.attr(elem,"tabindex");return tabindex?parseInt(tabindex,10):rfocusable.test(elem.nodeName)||rclickable.test(elem.nodeName)&&elem.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),support.optSelected||(jQuery.propHooks.selected={get:function(elem){var parent=elem.parentNode;return parent&&parent.parentNode&&parent.parentNode.selectedIndex,null},set:function(elem){var parent=elem.parentNode;parent&&(parent.selectedIndex,parent.parentNode&&parent.parentNode.selectedIndex)}}),jQuery.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){jQuery.propFix[this.toLowerCase()]=this}),jQuery.fn.extend({addClass:function(value){var classes,elem,cur,curValue,clazz,j,finalValue,i=0;if(jQuery.isFunction(value))return this.each(function(j){jQuery(this).addClass(value.call(this,j,getClass(this)))});if("string"==typeof value&&value)for(classes=value.match(rnothtmlwhite)||[];elem=this[i++];)if(curValue=getClass(elem),cur=1===elem.nodeType&&" "+stripAndCollapse(curValue)+" "){for(j=0;clazz=classes[j++];)cur.indexOf(" "+clazz+" ")<0&&(cur+=clazz+" ");finalValue=stripAndCollapse(cur),curValue!==finalValue&&elem.setAttribute("class",finalValue)}return this},removeClass:function(value){var classes,elem,cur,curValue,clazz,j,finalValue,i=0;if(jQuery.isFunction(value))return this.each(function(j){jQuery(this).removeClass(value.call(this,j,getClass(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof value&&value)for(classes=value.match(rnothtmlwhite)||[];elem=this[i++];)if(curValue=getClass(elem),cur=1===elem.nodeType&&" "+stripAndCollapse(curValue)+" "){for(j=0;clazz=classes[j++];)for(;cur.indexOf(" "+clazz+" ")>-1;)cur=cur.replace(" "+clazz+" "," ");finalValue=stripAndCollapse(cur),curValue!==finalValue&&elem.setAttribute("class",finalValue)}return this},toggleClass:function(value,stateVal){var type=typeof value;return"boolean"==typeof stateVal&&"string"===type?stateVal?this.addClass(value):this.removeClass(value):jQuery.isFunction(value)?this.each(function(i){jQuery(this).toggleClass(value.call(this,i,getClass(this),stateVal),stateVal)}):this.each(function(){var className,i,self,classNames;if("string"===type)for(i=0,self=jQuery(this),classNames=value.match(rnothtmlwhite)||[];className=classNames[i++];)self.hasClass(className)?self.removeClass(className):self.addClass(className);else void 0!==value&&"boolean"!==type||(className=getClass(this),className&&dataPriv.set(this,"__className__",className),this.setAttribute&&this.setAttribute("class",className||value===!1?"":dataPriv.get(this,"__className__")||""))})},hasClass:function(selector){var className,elem,i=0;for(className=" "+selector+" ";elem=this[i++];)if(1===elem.nodeType&&(" "+stripAndCollapse(getClass(elem))+" ").indexOf(className)>-1)return!0;return!1}});var rreturn=/\r/g;jQuery.fn.extend({val:function(value){var hooks,ret,isFunction,elem=this[0];{if(arguments.length)return isFunction=jQuery.isFunction(value),this.each(function(i){var val;1===this.nodeType&&(val=isFunction?value.call(this,i,jQuery(this).val()):value,null==val?val="":"number"==typeof val?val+="":Array.isArray(val)&&(val=jQuery.map(val,function(value){return null==value?"":value+""})),hooks=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()],hooks&&"set"in hooks&&void 0!==hooks.set(this,val,"value")||(this.value=val))});if(elem)return hooks=jQuery.valHooks[elem.type]||jQuery.valHooks[elem.nodeName.toLowerCase()],hooks&&"get"in hooks&&void 0!==(ret=hooks.get(elem,"value"))?ret:(ret=elem.value,"string"==typeof ret?ret.replace(rreturn,""):null==ret?"":ret)}}}),jQuery.extend({valHooks:{option:{get:function(elem){var val=jQuery.find.attr(elem,"value");return null!=val?val:stripAndCollapse(jQuery.text(elem))}},select:{get:function(elem){var value,option,i,options=elem.options,index=elem.selectedIndex,one="select-one"===elem.type,values=one?null:[],max=one?index+1:options.length;for(i=index<0?max:one?index:0;i<max;i++)if(option=options[i],(option.selected||i===index)&&!option.disabled&&(!option.parentNode.disabled||!nodeName(option.parentNode,"optgroup"))){if(value=jQuery(option).val(),one)return value;values.push(value)}return values},set:function(elem,value){for(var optionSet,option,options=elem.options,values=jQuery.makeArray(value),i=options.length;i--;)option=options[i],(option.selected=jQuery.inArray(jQuery.valHooks.option.get(option),values)>-1)&&(optionSet=!0);return optionSet||(elem.selectedIndex=-1),values}}}}),jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={set:function(elem,value){if(Array.isArray(value))return elem.checked=jQuery.inArray(jQuery(elem).val(),value)>-1}},support.checkOn||(jQuery.valHooks[this].get=function(elem){return null===elem.getAttribute("value")?"on":elem.value})});var rfocusMorph=/^(?:focusinfocus|focusoutblur)$/;jQuery.extend(jQuery.event,{trigger:function(event,data,elem,onlyHandlers){var i,cur,tmp,bubbleType,ontype,handle,special,eventPath=[elem||document],type=hasOwn.call(event,"type")?event.type:event,namespaces=hasOwn.call(event,"namespace")?event.namespace.split("."):[];if(cur=tmp=elem=elem||document,3!==elem.nodeType&&8!==elem.nodeType&&!rfocusMorph.test(type+jQuery.event.triggered)&&(type.indexOf(".")>-1&&(namespaces=type.split("."),type=namespaces.shift(),namespaces.sort()),ontype=type.indexOf(":")<0&&"on"+type,event=event[jQuery.expando]?event:new jQuery.Event(type,"object"==typeof event&&event),event.isTrigger=onlyHandlers?2:3,event.namespace=namespaces.join("."),event.rnamespace=event.namespace?new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,event.result=void 0,event.target||(event.target=elem),data=null==data?[event]:jQuery.makeArray(data,[event]),special=jQuery.event.special[type]||{},onlyHandlers||!special.trigger||special.trigger.apply(elem,data)!==!1)){if(!onlyHandlers&&!special.noBubble&&!jQuery.isWindow(elem)){for(bubbleType=special.delegateType||type,rfocusMorph.test(bubbleType+type)||(cur=cur.parentNode);cur;cur=cur.parentNode)eventPath.push(cur),tmp=cur;tmp===(elem.ownerDocument||document)&&eventPath.push(tmp.defaultView||tmp.parentWindow||window)}for(i=0;(cur=eventPath[i++])&&!event.isPropagationStopped();)event.type=i>1?bubbleType:special.bindType||type,handle=(dataPriv.get(cur,"events")||{})[event.type]&&dataPriv.get(cur,"handle"),handle&&handle.apply(cur,data),handle=ontype&&cur[ontype],handle&&handle.apply&&acceptData(cur)&&(event.result=handle.apply(cur,data),event.result===!1&&event.preventDefault());return event.type=type,onlyHandlers||event.isDefaultPrevented()||special._default&&special._default.apply(eventPath.pop(),data)!==!1||!acceptData(elem)||ontype&&jQuery.isFunction(elem[type])&&!jQuery.isWindow(elem)&&(tmp=elem[ontype],tmp&&(elem[ontype]=null),jQuery.event.triggered=type,elem[type](),jQuery.event.triggered=void 0,tmp&&(elem[ontype]=tmp)),event.result}},simulate:function(type,elem,event){var e=jQuery.extend(new jQuery.Event,event,{type:type,isSimulated:!0});jQuery.event.trigger(e,null,elem)}}),jQuery.fn.extend({trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this)})},triggerHandler:function(type,data){var elem=this[0];if(elem)return jQuery.event.trigger(type,data,elem,!0)}}),jQuery.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(i,name){jQuery.fn[name]=function(data,fn){return arguments.length>0?this.on(name,null,data,fn):this.trigger(name)}}),jQuery.fn.extend({hover:function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver)}}),support.focusin="onfocusin"in window,support.focusin||jQuery.each({focus:"focusin",blur:"focusout"},function(orig,fix){var handler=function(event){jQuery.event.simulate(fix,event.target,jQuery.event.fix(event))};jQuery.event.special[fix]={setup:function(){var doc=this.ownerDocument||this,attaches=dataPriv.access(doc,fix);attaches||doc.addEventListener(orig,handler,!0),dataPriv.access(doc,fix,(attaches||0)+1)},teardown:function(){var doc=this.ownerDocument||this,attaches=dataPriv.access(doc,fix)-1;attaches?dataPriv.access(doc,fix,attaches):(doc.removeEventListener(orig,handler,!0),dataPriv.remove(doc,fix))}}});var location=window.location,nonce=jQuery.now(),rquery=/\?/;jQuery.parseXML=function(data){var xml;if(!data||"string"!=typeof data)return null;try{xml=(new window.DOMParser).parseFromString(data,"text/xml")}catch(e){xml=void 0}return xml&&!xml.getElementsByTagName("parsererror").length||jQuery.error("Invalid XML: "+data),xml};var rbracket=/\[\]$/,rCRLF=/\r?\n/g,rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i;jQuery.param=function(a,traditional){var prefix,s=[],add=function(key,valueOrFunction){var value=jQuery.isFunction(valueOrFunction)?valueOrFunction():valueOrFunction;s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(null==value?"":value)};if(Array.isArray(a)||a.jquery&&!jQuery.isPlainObject(a))jQuery.each(a,function(){add(this.name,this.value)});else for(prefix in a)buildParams(prefix,a[prefix],traditional,add);return s.join("&")},jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var elements=jQuery.prop(this,"elements");return elements?jQuery.makeArray(elements):this}).filter(function(){var type=this.type;return this.name&&!jQuery(this).is(":disabled")&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(type)&&(this.checked||!rcheckableType.test(type))}).map(function(i,elem){var val=jQuery(this).val();return null==val?null:Array.isArray(val)?jQuery.map(val,function(val){return{name:elem.name,value:val.replace(rCRLF,"\r\n")}}):{name:elem.name,value:val.replace(rCRLF,"\r\n")}}).get()}});var r20=/%20/g,rhash=/#.*$/,rantiCache=/([?&])_=[^&]*/,rheaders=/^(.*?):[ \t]*([^\r\n]*)$/gm,rlocalProtocol=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,prefilters={},transports={},allTypes="*/".concat("*"),originAnchor=document.createElement("a");originAnchor.href=location.href,jQuery.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:location.href,type:"GET",isLocal:rlocalProtocol.test(location.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":allTypes,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":jQuery.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(target,settings){return settings?ajaxExtend(ajaxExtend(target,jQuery.ajaxSettings),settings):ajaxExtend(jQuery.ajaxSettings,target)},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(url,options){function done(status,nativeStatusText,responses,headers){var isSuccess,success,error,response,modified,statusText=nativeStatusText;completed||(completed=!0,timeoutTimer&&window.clearTimeout(timeoutTimer),transport=void 0,responseHeadersString=headers||"",jqXHR.readyState=status>0?4:0,isSuccess=status>=200&&status<300||304===status,responses&&(response=ajaxHandleResponses(s,jqXHR,responses)),response=ajaxConvert(s,response,jqXHR,isSuccess),isSuccess?(s.ifModified&&(modified=jqXHR.getResponseHeader("Last-Modified"),modified&&(jQuery.lastModified[cacheURL]=modified),modified=jqXHR.getResponseHeader("etag"),modified&&(jQuery.etag[cacheURL]=modified)),204===status||"HEAD"===s.type?statusText="nocontent":304===status?statusText="notmodified":(statusText=response.state,success=response.data,error=response.error,isSuccess=!error)):(error=statusText,!status&&statusText||(statusText="error",status<0&&(status=0))),jqXHR.status=status,jqXHR.statusText=(nativeStatusText||statusText)+"",isSuccess?deferred.resolveWith(callbackContext,[success,statusText,jqXHR]):deferred.rejectWith(callbackContext,[jqXHR,statusText,error]),jqXHR.statusCode(statusCode),statusCode=void 0,fireGlobals&&globalEventContext.trigger(isSuccess?"ajaxSuccess":"ajaxError",[jqXHR,s,isSuccess?success:error]),completeDeferred.fireWith(callbackContext,[jqXHR,statusText]),fireGlobals&&(globalEventContext.trigger("ajaxComplete",[jqXHR,s]),--jQuery.active||jQuery.event.trigger("ajaxStop")))}"object"==typeof url&&(options=url,url=void 0),options=options||{};var transport,cacheURL,responseHeadersString,responseHeaders,timeoutTimer,urlAnchor,completed,fireGlobals,i,uncached,s=jQuery.ajaxSetup({},options),callbackContext=s.context||s,globalEventContext=s.context&&(callbackContext.nodeType||callbackContext.jquery)?jQuery(callbackContext):jQuery.event,deferred=jQuery.Deferred(),completeDeferred=jQuery.Callbacks("once memory"),statusCode=s.statusCode||{},requestHeaders={},requestHeadersNames={},strAbort="canceled",jqXHR={readyState:0,getResponseHeader:function(key){var match;if(completed){if(!responseHeaders)for(responseHeaders={};match=rheaders.exec(responseHeadersString);)responseHeaders[match[1].toLowerCase()]=match[2];match=responseHeaders[key.toLowerCase()]}return null==match?null:match},getAllResponseHeaders:function(){return completed?responseHeadersString:null},setRequestHeader:function(name,value){return null==completed&&(name=requestHeadersNames[name.toLowerCase()]=requestHeadersNames[name.toLowerCase()]||name,requestHeaders[name]=value),this},overrideMimeType:function(type){return null==completed&&(s.mimeType=type),this},statusCode:function(map){var code;if(map)if(completed)jqXHR.always(map[jqXHR.status]);else for(code in map)statusCode[code]=[statusCode[code],map[code]];return this},abort:function(statusText){var finalText=statusText||strAbort;return transport&&transport.abort(finalText),done(0,finalText),this}};if(deferred.promise(jqXHR),s.url=((url||s.url||location.href)+"").replace(rprotocol,location.protocol+"//"),s.type=options.method||options.type||s.method||s.type,s.dataTypes=(s.dataType||"*").toLowerCase().match(rnothtmlwhite)||[""],null==s.crossDomain){urlAnchor=document.createElement("a");try{urlAnchor.href=s.url,urlAnchor.href=urlAnchor.href,s.crossDomain=originAnchor.protocol+"//"+originAnchor.host!=urlAnchor.protocol+"//"+urlAnchor.host}catch(e){s.crossDomain=!0}}if(s.data&&s.processData&&"string"!=typeof s.data&&(s.data=jQuery.param(s.data,s.traditional)),inspectPrefiltersOrTransports(prefilters,s,options,jqXHR),completed)return jqXHR;fireGlobals=jQuery.event&&s.global,fireGlobals&&0===jQuery.active++&&jQuery.event.trigger("ajaxStart"),s.type=s.type.toUpperCase(),s.hasContent=!rnoContent.test(s.type),cacheURL=s.url.replace(rhash,""),s.hasContent?s.data&&s.processData&&0===(s.contentType||"").indexOf("application/x-www-form-urlencoded")&&(s.data=s.data.replace(r20,"+")):(uncached=s.url.slice(cacheURL.length),s.data&&(cacheURL+=(rquery.test(cacheURL)?"&":"?")+s.data,delete s.data),s.cache===!1&&(cacheURL=cacheURL.replace(rantiCache,"$1"),uncached=(rquery.test(cacheURL)?"&":"?")+"_="+nonce++ +uncached),s.url=cacheURL+uncached),s.ifModified&&(jQuery.lastModified[cacheURL]&&jqXHR.setRequestHeader("If-Modified-Since",jQuery.lastModified[cacheURL]),jQuery.etag[cacheURL]&&jqXHR.setRequestHeader("If-None-Match",jQuery.etag[cacheURL])),(s.data&&s.hasContent&&s.contentType!==!1||options.contentType)&&jqXHR.setRequestHeader("Content-Type",s.contentType),jqXHR.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+("*"!==s.dataTypes[0]?", "+allTypes+"; q=0.01":""):s.accepts["*"]);for(i in s.headers)jqXHR.setRequestHeader(i,s.headers[i]);if(s.beforeSend&&(s.beforeSend.call(callbackContext,jqXHR,s)===!1||completed))return jqXHR.abort();if(strAbort="abort",completeDeferred.add(s.complete),jqXHR.done(s.success),jqXHR.fail(s.error),transport=inspectPrefiltersOrTransports(transports,s,options,jqXHR)){if(jqXHR.readyState=1,fireGlobals&&globalEventContext.trigger("ajaxSend",[jqXHR,s]),completed)return jqXHR;s.async&&s.timeout>0&&(timeoutTimer=window.setTimeout(function(){jqXHR.abort("timeout")},s.timeout));try{completed=!1,transport.send(requestHeaders,done)}catch(e){if(completed)throw e;done(-1,e)}}else done(-1,"No Transport");return jqXHR},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json")},getScript:function(url,callback){return jQuery.get(url,void 0,callback,"script")}}),jQuery.each(["get","post"],function(i,method){jQuery[method]=function(url,data,callback,type){return jQuery.isFunction(data)&&(type=type||callback,callback=data,data=void 0),jQuery.ajax(jQuery.extend({url:url,type:method,dataType:type,data:data,success:callback},jQuery.isPlainObject(url)&&url))}}),jQuery._evalUrl=function(url){return jQuery.ajax({url:url,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},jQuery.fn.extend({wrapAll:function(html){var wrap;return this[0]&&(jQuery.isFunction(html)&&(html=html.call(this[0])),wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&wrap.insertBefore(this[0]),wrap.map(function(){for(var elem=this;elem.firstElementChild;)elem=elem.firstElementChild;return elem}).append(this)),this},wrapInner:function(html){return jQuery.isFunction(html)?this.each(function(i){jQuery(this).wrapInner(html.call(this,i))}):this.each(function(){var self=jQuery(this),contents=self.contents();contents.length?contents.wrapAll(html):self.append(html)})},wrap:function(html){var isFunction=jQuery.isFunction(html);return this.each(function(i){jQuery(this).wrapAll(isFunction?html.call(this,i):html)})},unwrap:function(selector){return this.parent(selector).not("body").each(function(){jQuery(this).replaceWith(this.childNodes)}),this}}),jQuery.expr.pseudos.hidden=function(elem){return!jQuery.expr.pseudos.visible(elem)},jQuery.expr.pseudos.visible=function(elem){return!!(elem.offsetWidth||elem.offsetHeight||elem.getClientRects().length)},jQuery.ajaxSettings.xhr=function(){try{return new window.XMLHttpRequest}catch(e){}};var xhrSuccessStatus={0:200,1223:204},xhrSupported=jQuery.ajaxSettings.xhr();support.cors=!!xhrSupported&&"withCredentials"in xhrSupported,support.ajax=xhrSupported=!!xhrSupported,jQuery.ajaxTransport(function(options){var callback,errorCallback;if(support.cors||xhrSupported&&!options.crossDomain)return{send:function(headers,complete){var i,xhr=options.xhr();if(xhr.open(options.type,options.url,options.async,options.username,options.password),options.xhrFields)for(i in options.xhrFields)xhr[i]=options.xhrFields[i];options.mimeType&&xhr.overrideMimeType&&xhr.overrideMimeType(options.mimeType),options.crossDomain||headers["X-Requested-With"]||(headers["X-Requested-With"]="XMLHttpRequest");for(i in headers)xhr.setRequestHeader(i,headers[i]);callback=function(type){return function(){callback&&(callback=errorCallback=xhr.onload=xhr.onerror=xhr.onabort=xhr.onreadystatechange=null,"abort"===type?xhr.abort():"error"===type?"number"!=typeof xhr.status?complete(0,"error"):complete(xhr.status,xhr.statusText):complete(xhrSuccessStatus[xhr.status]||xhr.status,xhr.statusText,"text"!==(xhr.responseType||"text")||"string"!=typeof xhr.responseText?{binary:xhr.response}:{text:xhr.responseText},xhr.getAllResponseHeaders()))}},xhr.onload=callback(),errorCallback=xhr.onerror=callback("error"),void 0!==xhr.onabort?xhr.onabort=errorCallback:xhr.onreadystatechange=function(){4===xhr.readyState&&window.setTimeout(function(){callback&&errorCallback()})},callback=callback("abort");try{xhr.send(options.hasContent&&options.data||null)}catch(e){if(callback)throw e}},abort:function(){callback&&callback()}}}),jQuery.ajaxPrefilter(function(s){s.crossDomain&&(s.contents.script=!1)}),jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(text){return jQuery.globalEval(text),text}}}),jQuery.ajaxPrefilter("script",function(s){void 0===s.cache&&(s.cache=!1),s.crossDomain&&(s.type="GET")}),jQuery.ajaxTransport("script",function(s){if(s.crossDomain){var script,callback;return{send:function(_,complete){script=jQuery("<script>").prop({charset:s.scriptCharset,src:s.url}).on("load error",callback=function(evt){script.remove(),callback=null,evt&&complete("error"===evt.type?404:200,evt.type);
}),document.head.appendChild(script[0])},abort:function(){callback&&callback()}}}});var oldCallbacks=[],rjsonp=/(=)\?(?=&|$)|\?\?/;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var callback=oldCallbacks.pop()||jQuery.expando+"_"+nonce++;return this[callback]=!0,callback}}),jQuery.ajaxPrefilter("json jsonp",function(s,originalSettings,jqXHR){var callbackName,overwritten,responseContainer,jsonProp=s.jsonp!==!1&&(rjsonp.test(s.url)?"url":"string"==typeof s.data&&0===(s.contentType||"").indexOf("application/x-www-form-urlencoded")&&rjsonp.test(s.data)&&"data");if(jsonProp||"jsonp"===s.dataTypes[0])return callbackName=s.jsonpCallback=jQuery.isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback,jsonProp?s[jsonProp]=s[jsonProp].replace(rjsonp,"$1"+callbackName):s.jsonp!==!1&&(s.url+=(rquery.test(s.url)?"&":"?")+s.jsonp+"="+callbackName),s.converters["script json"]=function(){return responseContainer||jQuery.error(callbackName+" was not called"),responseContainer[0]},s.dataTypes[0]="json",overwritten=window[callbackName],window[callbackName]=function(){responseContainer=arguments},jqXHR.always(function(){void 0===overwritten?jQuery(window).removeProp(callbackName):window[callbackName]=overwritten,s[callbackName]&&(s.jsonpCallback=originalSettings.jsonpCallback,oldCallbacks.push(callbackName)),responseContainer&&jQuery.isFunction(overwritten)&&overwritten(responseContainer[0]),responseContainer=overwritten=void 0}),"script"}),support.createHTMLDocument=function(){var body=document.implementation.createHTMLDocument("").body;return body.innerHTML="<form></form><form></form>",2===body.childNodes.length}(),jQuery.parseHTML=function(data,context,keepScripts){if("string"!=typeof data)return[];"boolean"==typeof context&&(keepScripts=context,context=!1);var base,parsed,scripts;return context||(support.createHTMLDocument?(context=document.implementation.createHTMLDocument(""),base=context.createElement("base"),base.href=document.location.href,context.head.appendChild(base)):context=document),parsed=rsingleTag.exec(data),scripts=!keepScripts&&[],parsed?[context.createElement(parsed[1])]:(parsed=buildFragment([data],context,scripts),scripts&&scripts.length&&jQuery(scripts).remove(),jQuery.merge([],parsed.childNodes))},jQuery.fn.load=function(url,params,callback){var selector,type,response,self=this,off=url.indexOf(" ");return off>-1&&(selector=stripAndCollapse(url.slice(off)),url=url.slice(0,off)),jQuery.isFunction(params)?(callback=params,params=void 0):params&&"object"==typeof params&&(type="POST"),self.length>0&&jQuery.ajax({url:url,type:type||"GET",dataType:"html",data:params}).done(function(responseText){response=arguments,self.html(selector?jQuery("<div>").append(jQuery.parseHTML(responseText)).find(selector):responseText)}).always(callback&&function(jqXHR,status){self.each(function(){callback.apply(this,response||[jqXHR.responseText,status,jqXHR])})}),this},jQuery.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(i,type){jQuery.fn[type]=function(fn){return this.on(type,fn)}}),jQuery.expr.pseudos.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem}).length},jQuery.offset={setOffset:function(elem,options,i){var curPosition,curLeft,curCSSTop,curTop,curOffset,curCSSLeft,calculatePosition,position=jQuery.css(elem,"position"),curElem=jQuery(elem),props={};"static"===position&&(elem.style.position="relative"),curOffset=curElem.offset(),curCSSTop=jQuery.css(elem,"top"),curCSSLeft=jQuery.css(elem,"left"),calculatePosition=("absolute"===position||"fixed"===position)&&(curCSSTop+curCSSLeft).indexOf("auto")>-1,calculatePosition?(curPosition=curElem.position(),curTop=curPosition.top,curLeft=curPosition.left):(curTop=parseFloat(curCSSTop)||0,curLeft=parseFloat(curCSSLeft)||0),jQuery.isFunction(options)&&(options=options.call(elem,i,jQuery.extend({},curOffset))),null!=options.top&&(props.top=options.top-curOffset.top+curTop),null!=options.left&&(props.left=options.left-curOffset.left+curLeft),"using"in options?options.using.call(elem,props):curElem.css(props)}},jQuery.fn.extend({offset:function(options){if(arguments.length)return void 0===options?this:this.each(function(i){jQuery.offset.setOffset(this,options,i)});var doc,docElem,rect,win,elem=this[0];if(elem)return elem.getClientRects().length?(rect=elem.getBoundingClientRect(),doc=elem.ownerDocument,docElem=doc.documentElement,win=doc.defaultView,{top:rect.top+win.pageYOffset-docElem.clientTop,left:rect.left+win.pageXOffset-docElem.clientLeft}):{top:0,left:0}},position:function(){if(this[0]){var offsetParent,offset,elem=this[0],parentOffset={top:0,left:0};return"fixed"===jQuery.css(elem,"position")?offset=elem.getBoundingClientRect():(offsetParent=this.offsetParent(),offset=this.offset(),nodeName(offsetParent[0],"html")||(parentOffset=offsetParent.offset()),parentOffset={top:parentOffset.top+jQuery.css(offsetParent[0],"borderTopWidth",!0),left:parentOffset.left+jQuery.css(offsetParent[0],"borderLeftWidth",!0)}),{top:offset.top-parentOffset.top-jQuery.css(elem,"marginTop",!0),left:offset.left-parentOffset.left-jQuery.css(elem,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var offsetParent=this.offsetParent;offsetParent&&"static"===jQuery.css(offsetParent,"position");)offsetParent=offsetParent.offsetParent;return offsetParent||documentElement})}}),jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(method,prop){var top="pageYOffset"===prop;jQuery.fn[method]=function(val){return access(this,function(elem,method,val){var win;return jQuery.isWindow(elem)?win=elem:9===elem.nodeType&&(win=elem.defaultView),void 0===val?win?win[prop]:elem[method]:void(win?win.scrollTo(top?win.pageXOffset:val,top?val:win.pageYOffset):elem[method]=val)},method,val,arguments.length)}}),jQuery.each(["top","left"],function(i,prop){jQuery.cssHooks[prop]=addGetHookIf(support.pixelPosition,function(elem,computed){if(computed)return computed=curCSS(elem,prop),rnumnonpx.test(computed)?jQuery(elem).position()[prop]+"px":computed})}),jQuery.each({Height:"height",Width:"width"},function(name,type){jQuery.each({padding:"inner"+name,content:type,"":"outer"+name},function(defaultExtra,funcName){jQuery.fn[funcName]=function(margin,value){var chainable=arguments.length&&(defaultExtra||"boolean"!=typeof margin),extra=defaultExtra||(margin===!0||value===!0?"margin":"border");return access(this,function(elem,type,value){var doc;return jQuery.isWindow(elem)?0===funcName.indexOf("outer")?elem["inner"+name]:elem.document.documentElement["client"+name]:9===elem.nodeType?(doc=elem.documentElement,Math.max(elem.body["scroll"+name],doc["scroll"+name],elem.body["offset"+name],doc["offset"+name],doc["client"+name])):void 0===value?jQuery.css(elem,type,extra):jQuery.style(elem,type,value,extra)},type,chainable?margin:void 0,chainable)}})}),jQuery.fn.extend({bind:function(types,data,fn){return this.on(types,null,data,fn)},unbind:function(types,fn){return this.off(types,null,fn)},delegate:function(selector,types,data,fn){return this.on(types,selector,data,fn)},undelegate:function(selector,types,fn){return 1===arguments.length?this.off(selector,"**"):this.off(types,selector||"**",fn)}}),jQuery.holdReady=function(hold){hold?jQuery.readyWait++:jQuery.ready(!0)},jQuery.isArray=Array.isArray,jQuery.parseJSON=JSON.parse,jQuery.nodeName=nodeName,"function"==typeof define&&define.amd&&define("jquery",[],function(){return jQuery});var _jQuery=window.jQuery,_$=window.$;return jQuery.noConflict=function(deep){return window.$===jQuery&&(window.$=_$),deep&&window.jQuery===jQuery&&(window.jQuery=_jQuery),jQuery},noGlobal||(window.jQuery=window.$=jQuery),jQuery}),function(window){"use strict";function errorHandlingConfig(config){return isObject(config)?(isDefined(config.objectMaxDepth)&&(minErrConfig.objectMaxDepth=isValidObjectMaxDepth(config.objectMaxDepth)?config.objectMaxDepth:NaN),void(isDefined(config.urlErrorParamsEnabled)&&isBoolean(config.urlErrorParamsEnabled)&&(minErrConfig.urlErrorParamsEnabled=config.urlErrorParamsEnabled))):minErrConfig}function isValidObjectMaxDepth(maxDepth){return isNumber(maxDepth)&&maxDepth>0}function minErr(module,ErrorConstructor){ErrorConstructor=ErrorConstructor||Error;var url="https://errors.angularjs.org/1.7.2/",regex=url.replace(".","\\.")+"[\\s\\S]*",errRegExp=new RegExp(regex,"g");return function(){var paramPrefix,i,code=arguments[0],template=arguments[1],message="["+(module?module+":":"")+code+"] ",templateArgs=sliceArgs(arguments,2).map(function(arg){return toDebugString(arg,minErrConfig.objectMaxDepth)});if(message+=template.replace(/\{\d+\}/g,function(match){var index=+match.slice(1,-1);return index<templateArgs.length?templateArgs[index].replace(errRegExp,""):match}),message+="\n"+url+(module?module+"/":"")+code,minErrConfig.urlErrorParamsEnabled)for(i=0,paramPrefix="?";i<templateArgs.length;i++,paramPrefix="&")message+=paramPrefix+"p"+i+"="+encodeURIComponent(templateArgs[i]);return new ErrorConstructor(message)}}function isArrayLike(obj){if(null==obj||isWindow(obj))return!1;if(isArray(obj)||isString(obj)||jqLite&&obj instanceof jqLite)return!0;var length="length"in Object(obj)&&obj.length;return isNumber(length)&&(length>=0&&length-1 in obj||"function"==typeof obj.item)}function forEach(obj,iterator,context){var key,length;if(obj)if(isFunction(obj))for(key in obj)"prototype"!==key&&"length"!==key&&"name"!==key&&obj.hasOwnProperty(key)&&iterator.call(context,obj[key],key,obj);else if(isArray(obj)||isArrayLike(obj)){var isPrimitive="object"!=typeof obj;for(key=0,length=obj.length;key<length;key++)(isPrimitive||key in obj)&&iterator.call(context,obj[key],key,obj)}else if(obj.forEach&&obj.forEach!==forEach)obj.forEach(iterator,context,obj);else if(isBlankObject(obj))for(key in obj)iterator.call(context,obj[key],key,obj);else if("function"==typeof obj.hasOwnProperty)for(key in obj)obj.hasOwnProperty(key)&&iterator.call(context,obj[key],key,obj);else for(key in obj)hasOwnProperty.call(obj,key)&&iterator.call(context,obj[key],key,obj);return obj}function forEachSorted(obj,iterator,context){for(var keys=Object.keys(obj).sort(),i=0;i<keys.length;i++)iterator.call(context,obj[keys[i]],keys[i]);return keys}function reverseParams(iteratorFn){return function(value,key){iteratorFn(key,value)}}function nextUid(){return++uid}function setHashKey(obj,h){h?obj.$$hashKey=h:delete obj.$$hashKey}function baseExtend(dst,objs,deep){for(var h=dst.$$hashKey,i=0,ii=objs.length;i<ii;++i){var obj=objs[i];if(isObject(obj)||isFunction(obj))for(var keys=Object.keys(obj),j=0,jj=keys.length;j<jj;j++){var key=keys[j],src=obj[key];deep&&isObject(src)?isDate(src)?dst[key]=new Date(src.valueOf()):isRegExp(src)?dst[key]=new RegExp(src):src.nodeName?dst[key]=src.cloneNode(!0):isElement(src)?dst[key]=src.clone():(isObject(dst[key])||(dst[key]=isArray(src)?[]:{}),baseExtend(dst[key],[src],!0)):dst[key]=src}}return setHashKey(dst,h),dst}function extend(dst){return baseExtend(dst,slice.call(arguments,1),!1)}function merge(dst){return baseExtend(dst,slice.call(arguments,1),!0)}function toInt(str){return parseInt(str,10)}function inherit(parent,extra){return extend(Object.create(parent),extra)}function noop(){}function identity($){return $}function valueFn(value){return function(){return value}}function hasCustomToString(obj){return isFunction(obj.toString)&&obj.toString!==toString}function isUndefined(value){return"undefined"==typeof value}function isDefined(value){return"undefined"!=typeof value}function isObject(value){return null!==value&&"object"==typeof value}function isBlankObject(value){return null!==value&&"object"==typeof value&&!getPrototypeOf(value)}function isString(value){return"string"==typeof value}function isNumber(value){return"number"==typeof value}function isDate(value){return"[object Date]"===toString.call(value)}function isArray(arr){return Array.isArray(arr)||arr instanceof Array}function isError(value){var tag=toString.call(value);switch(tag){case"[object Error]":return!0;case"[object Exception]":return!0;case"[object DOMException]":return!0;default:return value instanceof Error}}function isFunction(value){return"function"==typeof value}function isRegExp(value){return"[object RegExp]"===toString.call(value)}function isWindow(obj){return obj&&obj.window===obj}function isScope(obj){return obj&&obj.$evalAsync&&obj.$watch}function isFile(obj){return"[object File]"===toString.call(obj)}function isFormData(obj){return"[object FormData]"===toString.call(obj)}function isBlob(obj){return"[object Blob]"===toString.call(obj)}function isBoolean(value){return"boolean"==typeof value}function isPromiseLike(obj){return obj&&isFunction(obj.then)}function isTypedArray(value){return value&&isNumber(value.length)&&TYPED_ARRAY_REGEXP.test(toString.call(value))}function isArrayBuffer(obj){return"[object ArrayBuffer]"===toString.call(obj)}function isElement(node){return!(!node||!(node.nodeName||node.prop&&node.attr&&node.find))}function makeMap(str){var i,obj={},items=str.split(",");for(i=0;i<items.length;i++)obj[items[i]]=!0;return obj}function nodeName_(element){return lowercase(element.nodeName||element[0]&&element[0].nodeName)}function includes(array,obj){return Array.prototype.indexOf.call(array,obj)!==-1}function arrayRemove(array,value){var index=array.indexOf(value);return index>=0&&array.splice(index,1),index}function copy(source,destination,maxDepth){function copyRecurse(source,destination,maxDepth){if(maxDepth--,maxDepth<0)return"...";var key,h=destination.$$hashKey;if(isArray(source))for(var i=0,ii=source.length;i<ii;i++)destination.push(copyElement(source[i],maxDepth));else if(isBlankObject(source))for(key in source)destination[key]=copyElement(source[key],maxDepth);else if(source&&"function"==typeof source.hasOwnProperty)for(key in source)source.hasOwnProperty(key)&&(destination[key]=copyElement(source[key],maxDepth));else for(key in source)hasOwnProperty.call(source,key)&&(destination[key]=copyElement(source[key],maxDepth));return setHashKey(destination,h),destination}function copyElement(source,maxDepth){if(!isObject(source))return source;var index=stackSource.indexOf(source);if(index!==-1)return stackDest[index];if(isWindow(source)||isScope(source))throw ngMinErr("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var needsRecurse=!1,destination=copyType(source);return void 0===destination&&(destination=isArray(source)?[]:Object.create(getPrototypeOf(source)),needsRecurse=!0),stackSource.push(source),stackDest.push(destination),needsRecurse?copyRecurse(source,destination,maxDepth):destination}function copyType(source){switch(toString.call(source)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new source.constructor(copyElement(source.buffer),source.byteOffset,source.length);case"[object ArrayBuffer]":if(!source.slice){var copied=new ArrayBuffer(source.byteLength);return new Uint8Array(copied).set(new Uint8Array(source)),copied}return source.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new source.constructor(source.valueOf());case"[object RegExp]":var re=new RegExp(source.source,source.toString().match(/[^\/]*$/)[0]);return re.lastIndex=source.lastIndex,re;case"[object Blob]":return new source.constructor([source],{type:source.type})}if(isFunction(source.cloneNode))return source.cloneNode(!0)}var stackSource=[],stackDest=[];if(maxDepth=isValidObjectMaxDepth(maxDepth)?maxDepth:NaN,destination){if(isTypedArray(destination)||isArrayBuffer(destination))throw ngMinErr("cpta","Can't copy! TypedArray destination cannot be mutated.");if(source===destination)throw ngMinErr("cpi","Can't copy! Source and destination are identical.");return isArray(destination)?destination.length=0:forEach(destination,function(value,key){"$$hashKey"!==key&&delete destination[key]}),stackSource.push(source),stackDest.push(destination),copyRecurse(source,destination,maxDepth)}return copyElement(source,maxDepth)}function simpleCompare(a,b){return a===b||a!==a&&b!==b}function equals(o1,o2){if(o1===o2)return!0;if(null===o1||null===o2)return!1;if(o1!==o1&&o2!==o2)return!0;var length,key,keySet,t1=typeof o1,t2=typeof o2;if(t1===t2&&"object"===t1){if(!isArray(o1)){if(isDate(o1))return!!isDate(o2)&&simpleCompare(o1.getTime(),o2.getTime());if(isRegExp(o1))return!!isRegExp(o2)&&o1.toString()===o2.toString();if(isScope(o1)||isScope(o2)||isWindow(o1)||isWindow(o2)||isArray(o2)||isDate(o2)||isRegExp(o2))return!1;keySet=createMap();for(key in o1)if("$"!==key.charAt(0)&&!isFunction(o1[key])){if(!equals(o1[key],o2[key]))return!1;keySet[key]=!0}for(key in o2)if(!(key in keySet)&&"$"!==key.charAt(0)&&isDefined(o2[key])&&!isFunction(o2[key]))return!1;return!0}if(!isArray(o2))return!1;if((length=o1.length)===o2.length){for(key=0;key<length;key++)if(!equals(o1[key],o2[key]))return!1;return!0}}return!1}function concat(array1,array2,index){return array1.concat(slice.call(array2,index))}function sliceArgs(args,startIndex){return slice.call(args,startIndex||0)}function bind(self,fn){var curryArgs=arguments.length>2?sliceArgs(arguments,2):[];return!isFunction(fn)||fn instanceof RegExp?fn:curryArgs.length?function(){return arguments.length?fn.apply(self,concat(curryArgs,arguments,0)):fn.apply(self,curryArgs)}:function(){return arguments.length?fn.apply(self,arguments):fn.call(self)}}function toJsonReplacer(key,value){var val=value;return"string"==typeof key&&"$"===key.charAt(0)&&"$"===key.charAt(1)?val=void 0:isWindow(value)?val="$WINDOW":value&&window.document===value?val="$DOCUMENT":isScope(value)&&(val="$SCOPE"),val}function toJson(obj,pretty){if(!isUndefined(obj))return isNumber(pretty)||(pretty=pretty?2:null),JSON.stringify(obj,toJsonReplacer,pretty)}function fromJson(json){return isString(json)?JSON.parse(json):json}function timezoneToOffset(timezone,fallback){timezone=timezone.replace(ALL_COLONS,"");var requestedTimezoneOffset=Date.parse("Jan 01, 1970 00:00:00 "+timezone)/6e4;return isNumberNaN(requestedTimezoneOffset)?fallback:requestedTimezoneOffset}function addDateMinutes(date,minutes){return date=new Date(date.getTime()),date.setMinutes(date.getMinutes()+minutes),date}function convertTimezoneToLocal(date,timezone,reverse){reverse=reverse?-1:1;var dateTimezoneOffset=date.getTimezoneOffset(),timezoneOffset=timezoneToOffset(timezone,dateTimezoneOffset);return addDateMinutes(date,reverse*(timezoneOffset-dateTimezoneOffset))}function startingTag(element){element=jqLite(element).clone().empty();var elemHtml=jqLite("<div></div>").append(element).html();try{return element[0].nodeType===NODE_TYPE_TEXT?lowercase(elemHtml):elemHtml.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(match,nodeName){return"<"+lowercase(nodeName)})}catch(e){return lowercase(elemHtml)}}function tryDecodeURIComponent(value){try{return decodeURIComponent(value)}catch(e){}}function parseKeyValue(keyValue){var obj={};return forEach((keyValue||"").split("&"),function(keyValue){var splitPoint,key,val;keyValue&&(key=keyValue=keyValue.replace(/\+/g,"%20"),splitPoint=keyValue.indexOf("="),splitPoint!==-1&&(key=keyValue.substring(0,splitPoint),val=keyValue.substring(splitPoint+1)),key=tryDecodeURIComponent(key),isDefined(key)&&(val=!isDefined(val)||tryDecodeURIComponent(val),hasOwnProperty.call(obj,key)?isArray(obj[key])?obj[key].push(val):obj[key]=[obj[key],val]:obj[key]=val))}),obj}function toKeyValue(obj){var parts=[];return forEach(obj,function(value,key){isArray(value)?forEach(value,function(arrayValue){parts.push(encodeUriQuery(key,!0)+(arrayValue===!0?"":"="+encodeUriQuery(arrayValue,!0)))}):parts.push(encodeUriQuery(key,!0)+(value===!0?"":"="+encodeUriQuery(value,!0)))}),parts.length?parts.join("&"):""}function encodeUriSegment(val){return encodeUriQuery(val,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function encodeUriQuery(val,pctEncodeSpaces){return encodeURIComponent(val).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,pctEncodeSpaces?"%20":"+")}function getNgAttribute(element,ngAttr){var attr,i,ii=ngAttrPrefixes.length;for(i=0;i<ii;++i)if(attr=ngAttrPrefixes[i]+ngAttr,isString(attr=element.getAttribute(attr)))return attr;return null}function allowAutoBootstrap(document){var script=document.currentScript;if(!script)return!0;if(!(script instanceof window.HTMLScriptElement||script instanceof window.SVGScriptElement))return!1;var attributes=script.attributes,srcs=[attributes.getNamedItem("src"),attributes.getNamedItem("href"),attributes.getNamedItem("xlink:href")];return srcs.every(function(src){if(!src)return!0;if(!src.value)return!1;var link=document.createElement("a");if(link.href=src.value,document.location.origin===link.origin)return!0;switch(link.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}})}function angularInit(element,bootstrap){var appElement,module,config={};if(forEach(ngAttrPrefixes,function(prefix){var name=prefix+"app";!appElement&&element.hasAttribute&&element.hasAttribute(name)&&(appElement=element,module=element.getAttribute(name))}),forEach(ngAttrPrefixes,function(prefix){var candidate,name=prefix+"app";!appElement&&(candidate=element.querySelector("["+name.replace(":","\\:")+"]"))&&(appElement=candidate,module=candidate.getAttribute(name))}),appElement){if(!isAutoBootstrapAllowed)return void window.console.error("AngularJS: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");config.strictDi=null!==getNgAttribute(appElement,"strict-di"),bootstrap(appElement,module?[module]:[],config)}}function bootstrap(element,modules,config){isObject(config)||(config={});var defaultConfig={strictDi:!1};config=extend(defaultConfig,config);var doBootstrap=function(){if(element=jqLite(element),element.injector()){var tag=element[0]===window.document?"document":startingTag(element);throw ngMinErr("btstrpd","App already bootstrapped with this element '{0}'",tag.replace(/</,"&lt;").replace(/>/,"&gt;"))}modules=modules||[],modules.unshift(["$provide",function($provide){$provide.value("$rootElement",element)}]),config.debugInfoEnabled&&modules.push(["$compileProvider",function($compileProvider){$compileProvider.debugInfoEnabled(!0)}]),modules.unshift("ng");var injector=createInjector(modules,config.strictDi);return injector.invoke(["$rootScope","$rootElement","$compile","$injector",function(scope,element,compile,injector){scope.$apply(function(){element.data("$injector",injector),compile(element)(scope)})}]),injector},NG_ENABLE_DEBUG_INFO=/^NG_ENABLE_DEBUG_INFO!/,NG_DEFER_BOOTSTRAP=/^NG_DEFER_BOOTSTRAP!/;return window&&NG_ENABLE_DEBUG_INFO.test(window.name)&&(config.debugInfoEnabled=!0,window.name=window.name.replace(NG_ENABLE_DEBUG_INFO,"")),window&&!NG_DEFER_BOOTSTRAP.test(window.name)?doBootstrap():(window.name=window.name.replace(NG_DEFER_BOOTSTRAP,""),angular.resumeBootstrap=function(extraModules){return forEach(extraModules,function(module){modules.push(module)}),doBootstrap()},void(isFunction(angular.resumeDeferredBootstrap)&&angular.resumeDeferredBootstrap()))}function reloadWithDebugInfo(){window.name="NG_ENABLE_DEBUG_INFO!"+window.name,window.location.reload()}function getTestability(rootElement){var injector=angular.element(rootElement).injector();if(!injector)throw ngMinErr("test","no injector found for element argument to getTestability");return injector.get("$$testability")}function snake_case(name,separator){return separator=separator||"_",name.replace(SNAKE_CASE_REGEXP,function(letter,pos){return(pos?separator:"")+letter.toLowerCase()})}function bindJQuery(){var originalCleanData;if(!bindJQueryFired){var jqName=jq();jQuery=isUndefined(jqName)?window.jQuery:jqName?window[jqName]:void 0,jQuery&&jQuery.fn.on?(jqLite=jQuery,extend(jQuery.fn,{scope:JQLitePrototype.scope,isolateScope:JQLitePrototype.isolateScope,controller:JQLitePrototype.controller,injector:JQLitePrototype.injector,inheritedData:JQLitePrototype.inheritedData})):jqLite=JQLite,originalCleanData=jqLite.cleanData,jqLite.cleanData=function(elems){for(var events,elem,i=0;null!=(elem=elems[i]);i++)events=jqLite._data(elem).events,events&&events.$destroy&&jqLite(elem).triggerHandler("$destroy");originalCleanData(elems)},angular.element=jqLite,bindJQueryFired=!0}}function assertArg(arg,name,reason){if(!arg)throw ngMinErr("areq","Argument '{0}' is {1}",name||"?",reason||"required");return arg}function assertArgFn(arg,name,acceptArrayAnnotation){return acceptArrayAnnotation&&isArray(arg)&&(arg=arg[arg.length-1]),assertArg(isFunction(arg),name,"not a function, got "+(arg&&"object"==typeof arg?arg.constructor.name||"Object":typeof arg)),arg}function assertNotHasOwnProperty(name,context){if("hasOwnProperty"===name)throw ngMinErr("badname","hasOwnProperty is not a valid {0} name",context)}function getter(obj,path,bindFnToScope){if(!path)return obj;for(var key,keys=path.split("."),lastInstance=obj,len=keys.length,i=0;i<len;i++)key=keys[i],obj&&(obj=(lastInstance=obj)[key]);return!bindFnToScope&&isFunction(obj)?bind(lastInstance,obj):obj}function getBlockNodes(nodes){for(var blockNodes,node=nodes[0],endNode=nodes[nodes.length-1],i=1;node!==endNode&&(node=node.nextSibling);i++)(blockNodes||nodes[i]!==node)&&(blockNodes||(blockNodes=jqLite(slice.call(nodes,0,i))),blockNodes.push(node));return blockNodes||nodes}function createMap(){return Object.create(null)}function stringify(value){if(null==value)return"";switch(typeof value){case"string":break;case"number":value=""+value;break;default:value=!hasCustomToString(value)||isArray(value)||isDate(value)?toJson(value):value.toString()}return value}function setupModuleLoader(window){function ensure(obj,name,factory){return obj[name]||(obj[name]=factory())}var $injectorMinErr=minErr("$injector"),ngMinErr=minErr("ng"),angular=ensure(window,"angular",Object);return angular.$$minErr=angular.$$minErr||minErr,ensure(angular,"module",function(){var modules={};return function(name,requires,configFn){var info={},assertNotHasOwnProperty=function(name,context){if("hasOwnProperty"===name)throw ngMinErr("badname","hasOwnProperty is not a valid {0} name",context)};return assertNotHasOwnProperty(name,"module"),requires&&modules.hasOwnProperty(name)&&(modules[name]=null),ensure(modules,name,function(){function invokeLater(provider,method,insertMethod,queue){return queue||(queue=invokeQueue),function(){return queue[insertMethod||"push"]([provider,method,arguments]),moduleInstance}}function invokeLaterAndSetModuleName(provider,method,queue){return queue||(queue=invokeQueue),function(recipeName,factoryFunction){return factoryFunction&&isFunction(factoryFunction)&&(factoryFunction.$$moduleName=name),queue.push([provider,method,arguments]),moduleInstance}}if(!requires)throw $injectorMinErr("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",name);var invokeQueue=[],configBlocks=[],runBlocks=[],config=invokeLater("$injector","invoke","push",configBlocks),moduleInstance={_invokeQueue:invokeQueue,_configBlocks:configBlocks,_runBlocks:runBlocks,info:function(value){if(isDefined(value)){if(!isObject(value))throw ngMinErr("aobj","Argument '{0}' must be an object","value");return info=value,this}return info},requires:requires,name:name,provider:invokeLaterAndSetModuleName("$provide","provider"),factory:invokeLaterAndSetModuleName("$provide","factory"),service:invokeLaterAndSetModuleName("$provide","service"),value:invokeLater("$provide","value"),constant:invokeLater("$provide","constant","unshift"),decorator:invokeLaterAndSetModuleName("$provide","decorator",configBlocks),animation:invokeLaterAndSetModuleName("$animateProvider","register"),filter:invokeLaterAndSetModuleName("$filterProvider","register"),controller:invokeLaterAndSetModuleName("$controllerProvider","register"),directive:invokeLaterAndSetModuleName("$compileProvider","directive"),component:invokeLaterAndSetModuleName("$compileProvider","component"),config:config,run:function(block){return runBlocks.push(block),this}};return configFn&&config(configFn),moduleInstance})}})}function shallowCopy(src,dst){if(isArray(src)){dst=dst||[];for(var i=0,ii=src.length;i<ii;i++)dst[i]=src[i]}else if(isObject(src)){dst=dst||{};for(var key in src)"$"===key.charAt(0)&&"$"===key.charAt(1)||(dst[key]=src[key])}return dst||src}function serializeObject(obj,maxDepth){var seen=[];return isValidObjectMaxDepth(maxDepth)&&(obj=angular.copy(obj,null,maxDepth)),JSON.stringify(obj,function(key,val){if(val=toJsonReplacer(key,val),isObject(val)){if(seen.indexOf(val)>=0)return"...";seen.push(val)}return val})}function toDebugString(obj,maxDepth){return"function"==typeof obj?obj.toString().replace(/ \{[\s\S]*$/,""):isUndefined(obj)?"undefined":"string"!=typeof obj?serializeObject(obj,maxDepth):obj}function publishExternalAPI(angular){extend(angular,{errorHandlingConfig:errorHandlingConfig,bootstrap:bootstrap,copy:copy,extend:extend,merge:merge,equals:equals,element:jqLite,forEach:forEach,injector:createInjector,noop:noop,bind:bind,toJson:toJson,fromJson:fromJson,identity:identity,isUndefined:isUndefined,isDefined:isDefined,isString:isString,isFunction:isFunction,isObject:isObject,isNumber:isNumber,isElement:isElement,isArray:isArray,version:version,isDate:isDate,callbacks:{$$counter:0},getTestability:getTestability,reloadWithDebugInfo:reloadWithDebugInfo,$$minErr:minErr,$$csp:csp,$$encodeUriSegment:encodeUriSegment,$$encodeUriQuery:encodeUriQuery,$$lowercase:lowercase,$$stringify:stringify,$$uppercase:uppercase}),angularModule=setupModuleLoader(window),angularModule("ng",["ngLocale"],["$provide",function($provide){$provide.provider({$$sanitizeUri:$$SanitizeUriProvider}),$provide.provider("$compile",$CompileProvider).directive({a:htmlAnchorDirective,input:inputDirective,textarea:inputDirective,form:formDirective,script:scriptDirective,select:selectDirective,option:optionDirective,ngBind:ngBindDirective,ngBindHtml:ngBindHtmlDirective,ngBindTemplate:ngBindTemplateDirective,ngClass:ngClassDirective,ngClassEven:ngClassEvenDirective,ngClassOdd:ngClassOddDirective,ngCloak:ngCloakDirective,ngController:ngControllerDirective,ngForm:ngFormDirective,ngHide:ngHideDirective,ngIf:ngIfDirective,ngInclude:ngIncludeDirective,ngInit:ngInitDirective,ngNonBindable:ngNonBindableDirective,ngPluralize:ngPluralizeDirective,ngRef:ngRefDirective,ngRepeat:ngRepeatDirective,ngShow:ngShowDirective,ngStyle:ngStyleDirective,ngSwitch:ngSwitchDirective,ngSwitchWhen:ngSwitchWhenDirective,ngSwitchDefault:ngSwitchDefaultDirective,ngOptions:ngOptionsDirective,ngTransclude:ngTranscludeDirective,ngModel:ngModelDirective,ngList:ngListDirective,ngChange:ngChangeDirective,pattern:patternDirective,ngPattern:patternDirective,required:requiredDirective,ngRequired:requiredDirective,minlength:minlengthDirective,ngMinlength:minlengthDirective,maxlength:maxlengthDirective,ngMaxlength:maxlengthDirective,ngValue:ngValueDirective,ngModelOptions:ngModelOptionsDirective}).directive({ngInclude:ngIncludeFillContentDirective}).directive(ngAttributeAliasDirectives).directive(ngEventDirectives),$provide.provider({$anchorScroll:$AnchorScrollProvider,$animate:$AnimateProvider,$animateCss:$CoreAnimateCssProvider,$$animateJs:$$CoreAnimateJsProvider,$$animateQueue:$$CoreAnimateQueueProvider,$$AnimateRunner:$$AnimateRunnerFactoryProvider,$$animateAsyncRun:$$AnimateAsyncRunFactoryProvider,$browser:$BrowserProvider,$cacheFactory:$CacheFactoryProvider,$controller:$ControllerProvider,$document:$DocumentProvider,$$isDocumentHidden:$$IsDocumentHiddenProvider,$exceptionHandler:$ExceptionHandlerProvider,$filter:$FilterProvider,$$forceReflow:$$ForceReflowProvider,
$interpolate:$InterpolateProvider,$interval:$IntervalProvider,$http:$HttpProvider,$httpParamSerializer:$HttpParamSerializerProvider,$httpParamSerializerJQLike:$HttpParamSerializerJQLikeProvider,$httpBackend:$HttpBackendProvider,$xhrFactory:$xhrFactoryProvider,$jsonpCallbacks:$jsonpCallbacksProvider,$location:$LocationProvider,$log:$LogProvider,$parse:$ParseProvider,$rootScope:$RootScopeProvider,$q:$QProvider,$$q:$$QProvider,$sce:$SceProvider,$sceDelegate:$SceDelegateProvider,$sniffer:$SnifferProvider,$templateCache:$TemplateCacheProvider,$templateRequest:$TemplateRequestProvider,$$testability:$$TestabilityProvider,$timeout:$TimeoutProvider,$window:$WindowProvider,$$rAF:$$RAFProvider,$$jqLite:$$jqLiteProvider,$$Map:$$MapProvider,$$cookieReader:$$CookieReaderProvider})}]).info({angularVersion:"1.7.2"})}function jqNextId(){return++jqId}function cssKebabToCamel(name){return kebabToCamel(name.replace(MS_HACK_REGEXP,"ms-"))}function fnCamelCaseReplace(all,letter){return letter.toUpperCase()}function kebabToCamel(name){return name.replace(DASH_LOWERCASE_REGEXP,fnCamelCaseReplace)}function jqLiteIsTextNode(html){return!HTML_REGEXP.test(html)}function jqLiteAcceptsData(node){var nodeType=node.nodeType;return nodeType===NODE_TYPE_ELEMENT||!nodeType||nodeType===NODE_TYPE_DOCUMENT}function jqLiteHasData(node){for(var key in jqCache[node.ng339])return!0;return!1}function jqLiteBuildFragment(html,context){var tmp,tag,wrap,i,fragment=context.createDocumentFragment(),nodes=[];if(jqLiteIsTextNode(html))nodes.push(context.createTextNode(html));else{for(tmp=fragment.appendChild(context.createElement("div")),tag=(TAG_NAME_REGEXP.exec(html)||["",""])[1].toLowerCase(),wrap=wrapMap[tag]||wrapMap._default,tmp.innerHTML=wrap[1]+html.replace(XHTML_TAG_REGEXP,"<$1></$2>")+wrap[2],i=wrap[0];i--;)tmp=tmp.lastChild;nodes=concat(nodes,tmp.childNodes),tmp=fragment.firstChild,tmp.textContent=""}return fragment.textContent="",fragment.innerHTML="",forEach(nodes,function(node){fragment.appendChild(node)}),fragment}function jqLiteParseHTML(html,context){context=context||window.document;var parsed;return(parsed=SINGLE_TAG_REGEXP.exec(html))?[context.createElement(parsed[1])]:(parsed=jqLiteBuildFragment(html,context))?parsed.childNodes:[]}function jqLiteWrapNode(node,wrapper){var parent=node.parentNode;parent&&parent.replaceChild(wrapper,node),wrapper.appendChild(node)}function JQLite(element){if(element instanceof JQLite)return element;var argIsString;if(isString(element)&&(element=trim(element),argIsString=!0),!(this instanceof JQLite)){if(argIsString&&"<"!==element.charAt(0))throw jqLiteMinErr("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new JQLite(element)}argIsString?jqLiteAddNodes(this,jqLiteParseHTML(element)):isFunction(element)?jqLiteReady(element):jqLiteAddNodes(this,element)}function jqLiteClone(element){return element.cloneNode(!0)}function jqLiteDealoc(element,onlyDescendants){!onlyDescendants&&jqLiteAcceptsData(element)&&jqLite.cleanData([element]),element.querySelectorAll&&jqLite.cleanData(element.querySelectorAll("*"))}function isEmptyObject(obj){var name;for(name in obj)return!1;return!0}function removeIfEmptyData(element){var expandoId=element.ng339,expandoStore=expandoId&&jqCache[expandoId],events=expandoStore&&expandoStore.events,data=expandoStore&&expandoStore.data;data&&!isEmptyObject(data)||events&&!isEmptyObject(events)||(delete jqCache[expandoId],element.ng339=void 0)}function jqLiteOff(element,type,fn,unsupported){if(isDefined(unsupported))throw jqLiteMinErr("offargs","jqLite#off() does not support the `selector` argument");var expandoStore=jqLiteExpandoStore(element),events=expandoStore&&expandoStore.events,handle=expandoStore&&expandoStore.handle;if(handle){if(type){var removeHandler=function(type){var listenerFns=events[type];isDefined(fn)&&arrayRemove(listenerFns||[],fn),isDefined(fn)&&listenerFns&&listenerFns.length>0||(element.removeEventListener(type,handle),delete events[type])};forEach(type.split(" "),function(type){removeHandler(type),MOUSE_EVENT_MAP[type]&&removeHandler(MOUSE_EVENT_MAP[type])})}else for(type in events)"$destroy"!==type&&element.removeEventListener(type,handle),delete events[type];removeIfEmptyData(element)}}function jqLiteRemoveData(element,name){var expandoId=element.ng339,expandoStore=expandoId&&jqCache[expandoId];expandoStore&&(name?delete expandoStore.data[name]:expandoStore.data={},removeIfEmptyData(element))}function jqLiteExpandoStore(element,createIfNecessary){var expandoId=element.ng339,expandoStore=expandoId&&jqCache[expandoId];return createIfNecessary&&!expandoStore&&(element.ng339=expandoId=jqNextId(),expandoStore=jqCache[expandoId]={events:{},data:{},handle:void 0}),expandoStore}function jqLiteData(element,key,value){if(jqLiteAcceptsData(element)){var prop,isSimpleSetter=isDefined(value),isSimpleGetter=!isSimpleSetter&&key&&!isObject(key),massGetter=!key,expandoStore=jqLiteExpandoStore(element,!isSimpleGetter),data=expandoStore&&expandoStore.data;if(isSimpleSetter)data[kebabToCamel(key)]=value;else{if(massGetter)return data;if(isSimpleGetter)return data&&data[kebabToCamel(key)];for(prop in key)data[kebabToCamel(prop)]=key[prop]}}}function jqLiteHasClass(element,selector){return!!element.getAttribute&&(" "+(element.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+selector+" ")>-1}function jqLiteRemoveClass(element,cssClasses){if(cssClasses&&element.setAttribute){var existingClasses=(" "+(element.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),newClasses=existingClasses;forEach(cssClasses.split(" "),function(cssClass){cssClass=trim(cssClass),newClasses=newClasses.replace(" "+cssClass+" "," ")}),newClasses!==existingClasses&&element.setAttribute("class",trim(newClasses))}}function jqLiteAddClass(element,cssClasses){if(cssClasses&&element.setAttribute){var existingClasses=(" "+(element.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),newClasses=existingClasses;forEach(cssClasses.split(" "),function(cssClass){cssClass=trim(cssClass),newClasses.indexOf(" "+cssClass+" ")===-1&&(newClasses+=cssClass+" ")}),newClasses!==existingClasses&&element.setAttribute("class",trim(newClasses))}}function jqLiteAddNodes(root,elements){if(elements)if(elements.nodeType)root[root.length++]=elements;else{var length=elements.length;if("number"==typeof length&&elements.window!==elements){if(length)for(var i=0;i<length;i++)root[root.length++]=elements[i]}else root[root.length++]=elements}}function jqLiteController(element,name){return jqLiteInheritedData(element,"$"+(name||"ngController")+"Controller")}function jqLiteInheritedData(element,name,value){element.nodeType===NODE_TYPE_DOCUMENT&&(element=element.documentElement);for(var names=isArray(name)?name:[name];element;){for(var i=0,ii=names.length;i<ii;i++)if(isDefined(value=jqLite.data(element,names[i])))return value;element=element.parentNode||element.nodeType===NODE_TYPE_DOCUMENT_FRAGMENT&&element.host}}function jqLiteEmpty(element){for(jqLiteDealoc(element,!0);element.firstChild;)element.removeChild(element.firstChild)}function jqLiteRemove(element,keepData){keepData||jqLiteDealoc(element);var parent=element.parentNode;parent&&parent.removeChild(element)}function jqLiteDocumentLoaded(action,win){win=win||window,"complete"===win.document.readyState?win.setTimeout(action):jqLite(win).on("load",action)}function jqLiteReady(fn){function trigger(){window.document.removeEventListener("DOMContentLoaded",trigger),window.removeEventListener("load",trigger),fn()}"complete"===window.document.readyState?window.setTimeout(fn):(window.document.addEventListener("DOMContentLoaded",trigger),window.addEventListener("load",trigger))}function getBooleanAttrName(element,name){var booleanAttr=BOOLEAN_ATTR[name.toLowerCase()];return booleanAttr&&BOOLEAN_ELEMENTS[nodeName_(element)]&&booleanAttr}function getAliasedAttrName(name){return ALIASED_ATTR[name]}function createEventHandler(element,events){var eventHandler=function(event,type){event.isDefaultPrevented=function(){return event.defaultPrevented};var eventFns=events[type||event.type],eventFnsLength=eventFns?eventFns.length:0;if(eventFnsLength){if(isUndefined(event.immediatePropagationStopped)){var originalStopImmediatePropagation=event.stopImmediatePropagation;event.stopImmediatePropagation=function(){event.immediatePropagationStopped=!0,event.stopPropagation&&event.stopPropagation(),originalStopImmediatePropagation&&originalStopImmediatePropagation.call(event)}}event.isImmediatePropagationStopped=function(){return event.immediatePropagationStopped===!0};var handlerWrapper=eventFns.specialHandlerWrapper||defaultHandlerWrapper;eventFnsLength>1&&(eventFns=shallowCopy(eventFns));for(var i=0;i<eventFnsLength;i++)event.isImmediatePropagationStopped()||handlerWrapper(element,event,eventFns[i])}};return eventHandler.elem=element,eventHandler}function defaultHandlerWrapper(element,event,handler){handler.call(element,event)}function specialMouseHandlerWrapper(target,event,handler){var related=event.relatedTarget;related&&(related===target||jqLiteContains.call(target,related))||handler.call(target,event)}function $$jqLiteProvider(){this.$get=function(){return extend(JQLite,{hasClass:function(node,classes){return node.attr&&(node=node[0]),jqLiteHasClass(node,classes)},addClass:function(node,classes){return node.attr&&(node=node[0]),jqLiteAddClass(node,classes)},removeClass:function(node,classes){return node.attr&&(node=node[0]),jqLiteRemoveClass(node,classes)}})}}function hashKey(obj,nextUidFn){var key=obj&&obj.$$hashKey;if(key)return"function"==typeof key&&(key=obj.$$hashKey()),key;var objType=typeof obj;return key="function"===objType||"object"===objType&&null!==obj?obj.$$hashKey=objType+":"+(nextUidFn||nextUid)():objType+":"+obj}function NgMapShim(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}function stringifyFn(fn){return Function.prototype.toString.call(fn)}function extractArgs(fn){var fnText=stringifyFn(fn).replace(STRIP_COMMENTS,""),args=fnText.match(ARROW_ARG)||fnText.match(FN_ARGS);return args}function anonFn(fn){var args=extractArgs(fn);return args?"function("+(args[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function annotate(fn,strictDi,name){var $inject,argDecl,last;if("function"==typeof fn){if(!($inject=fn.$inject)){if($inject=[],fn.length){if(strictDi)throw isString(name)&&name||(name=fn.name||anonFn(fn)),$injectorMinErr("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",name);argDecl=extractArgs(fn),forEach(argDecl[1].split(FN_ARG_SPLIT),function(arg){arg.replace(FN_ARG,function(all,underscore,name){$inject.push(name)})})}fn.$inject=$inject}}else isArray(fn)?(last=fn.length-1,assertArgFn(fn[last],"fn"),$inject=fn.slice(0,last)):assertArgFn(fn,"fn",!0);return $inject}function createInjector(modulesToLoad,strictDi){function supportObject(delegate){return function(key,value){return isObject(key)?void forEach(key,reverseParams(delegate)):delegate(key,value)}}function provider(name,provider_){if(assertNotHasOwnProperty(name,"service"),(isFunction(provider_)||isArray(provider_))&&(provider_=providerInjector.instantiate(provider_)),!provider_.$get)throw $injectorMinErr("pget","Provider '{0}' must define $get factory method.",name);return providerCache[name+providerSuffix]=provider_}function enforceReturnValue(name,factory){return function(){var result=instanceInjector.invoke(factory,this);if(isUndefined(result))throw $injectorMinErr("undef","Provider '{0}' must return a value from $get factory method.",name);return result}}function factory(name,factoryFn,enforce){return provider(name,{$get:enforce!==!1?enforceReturnValue(name,factoryFn):factoryFn})}function service(name,constructor){return factory(name,["$injector",function($injector){return $injector.instantiate(constructor)}])}function value(name,val){return factory(name,valueFn(val),!1)}function constant(name,value){assertNotHasOwnProperty(name,"constant"),providerCache[name]=value,instanceCache[name]=value}function decorator(serviceName,decorFn){var origProvider=providerInjector.get(serviceName+providerSuffix),orig$get=origProvider.$get;origProvider.$get=function(){var origInstance=instanceInjector.invoke(orig$get,origProvider);return instanceInjector.invoke(decorFn,null,{$delegate:origInstance})}}function loadModules(modulesToLoad){assertArg(isUndefined(modulesToLoad)||isArray(modulesToLoad),"modulesToLoad","not an array");var moduleFn,runBlocks=[];return forEach(modulesToLoad,function(module){function runInvokeQueue(queue){var i,ii;for(i=0,ii=queue.length;i<ii;i++){var invokeArgs=queue[i],provider=providerInjector.get(invokeArgs[0]);provider[invokeArgs[1]].apply(provider,invokeArgs[2])}}if(!loadedModules.get(module)){loadedModules.set(module,!0);try{isString(module)?(moduleFn=angularModule(module),instanceInjector.modules[module]=moduleFn,runBlocks=runBlocks.concat(loadModules(moduleFn.requires)).concat(moduleFn._runBlocks),runInvokeQueue(moduleFn._invokeQueue),runInvokeQueue(moduleFn._configBlocks)):isFunction(module)?runBlocks.push(providerInjector.invoke(module)):isArray(module)?runBlocks.push(providerInjector.invoke(module)):assertArgFn(module,"module")}catch(e){throw isArray(module)&&(module=module[module.length-1]),e.message&&e.stack&&e.stack.indexOf(e.message)===-1&&(e=e.message+"\n"+e.stack),$injectorMinErr("modulerr","Failed to instantiate module {0} due to:\n{1}",module,e.stack||e.message||e)}}}),runBlocks}function createInternalInjector(cache,factory){function getService(serviceName,caller){if(cache.hasOwnProperty(serviceName)){if(cache[serviceName]===INSTANTIATING)throw $injectorMinErr("cdep","Circular dependency found: {0}",serviceName+" <- "+path.join(" <- "));return cache[serviceName]}try{return path.unshift(serviceName),cache[serviceName]=INSTANTIATING,cache[serviceName]=factory(serviceName,caller),cache[serviceName]}catch(err){throw cache[serviceName]===INSTANTIATING&&delete cache[serviceName],err}finally{path.shift()}}function injectionArgs(fn,locals,serviceName){for(var args=[],$inject=createInjector.$$annotate(fn,strictDi,serviceName),i=0,length=$inject.length;i<length;i++){var key=$inject[i];if("string"!=typeof key)throw $injectorMinErr("itkn","Incorrect injection token! Expected service name as string, got {0}",key);args.push(locals&&locals.hasOwnProperty(key)?locals[key]:getService(key,serviceName))}return args}function isClass(func){if(msie||"function"!=typeof func)return!1;var result=func.$$ngIsClass;return isBoolean(result)||(result=func.$$ngIsClass=/^class\b/.test(stringifyFn(func))),result}function invoke(fn,self,locals,serviceName){"string"==typeof locals&&(serviceName=locals,locals=null);var args=injectionArgs(fn,locals,serviceName);return isArray(fn)&&(fn=fn[fn.length-1]),isClass(fn)?(args.unshift(null),new(Function.prototype.bind.apply(fn,args))):fn.apply(self,args)}function instantiate(Type,locals,serviceName){var ctor=isArray(Type)?Type[Type.length-1]:Type,args=injectionArgs(Type,locals,serviceName);return args.unshift(null),new(Function.prototype.bind.apply(ctor,args))}return{invoke:invoke,instantiate:instantiate,get:getService,annotate:createInjector.$$annotate,has:function(name){return providerCache.hasOwnProperty(name+providerSuffix)||cache.hasOwnProperty(name)}}}strictDi=strictDi===!0;var INSTANTIATING={},providerSuffix="Provider",path=[],loadedModules=new NgMap,providerCache={$provide:{provider:supportObject(provider),factory:supportObject(factory),service:supportObject(service),value:supportObject(value),constant:supportObject(constant),decorator:decorator}},providerInjector=providerCache.$injector=createInternalInjector(providerCache,function(serviceName,caller){throw angular.isString(caller)&&path.push(caller),$injectorMinErr("unpr","Unknown provider: {0}",path.join(" <- "))}),instanceCache={},protoInstanceInjector=createInternalInjector(instanceCache,function(serviceName,caller){var provider=providerInjector.get(serviceName+providerSuffix,caller);return instanceInjector.invoke(provider.$get,provider,void 0,serviceName)}),instanceInjector=protoInstanceInjector;providerCache["$injector"+providerSuffix]={$get:valueFn(protoInstanceInjector)},instanceInjector.modules=providerInjector.modules=createMap();var runBlocks=loadModules(modulesToLoad);return instanceInjector=protoInstanceInjector.get("$injector"),instanceInjector.strictDi=strictDi,forEach(runBlocks,function(fn){fn&&instanceInjector.invoke(fn)}),instanceInjector.loadNewModules=function(mods){forEach(loadModules(mods),function(fn){fn&&instanceInjector.invoke(fn)})},instanceInjector}function $AnchorScrollProvider(){var autoScrollingEnabled=!0;this.disableAutoScrolling=function(){autoScrollingEnabled=!1},this.$get=["$window","$location","$rootScope",function($window,$location,$rootScope){function getFirstAnchor(list){var result=null;return Array.prototype.some.call(list,function(element){if("a"===nodeName_(element))return result=element,!0}),result}function getYOffset(){var offset=scroll.yOffset;if(isFunction(offset))offset=offset();else if(isElement(offset)){var elem=offset[0],style=$window.getComputedStyle(elem);offset="fixed"!==style.position?0:elem.getBoundingClientRect().bottom}else isNumber(offset)||(offset=0);return offset}function scrollTo(elem){if(elem){elem.scrollIntoView();var offset=getYOffset();if(offset){var elemTop=elem.getBoundingClientRect().top;$window.scrollBy(0,elemTop-offset)}}else $window.scrollTo(0,0)}function scroll(hash){hash=isString(hash)?hash:isNumber(hash)?hash.toString():$location.hash();var elm;hash?(elm=document.getElementById(hash))?scrollTo(elm):(elm=getFirstAnchor(document.getElementsByName(hash)))?scrollTo(elm):"top"===hash&&scrollTo(null):scrollTo(null)}var document=$window.document;return autoScrollingEnabled&&$rootScope.$watch(function(){return $location.hash()},function(newVal,oldVal){newVal===oldVal&&""===newVal||jqLiteDocumentLoaded(function(){$rootScope.$evalAsync(scroll)})}),scroll}]}function mergeClasses(a,b){return a||b?a?b?(isArray(a)&&(a=a.join(" ")),isArray(b)&&(b=b.join(" ")),a+" "+b):a:b:""}function extractElementNode(element){for(var i=0;i<element.length;i++){var elm=element[i];if(elm.nodeType===ELEMENT_NODE)return elm}}function splitClasses(classes){isString(classes)&&(classes=classes.split(" "));var obj=createMap();return forEach(classes,function(klass){klass.length&&(obj[klass]=!0)}),obj}function prepareAnimateOptions(options){return isObject(options)?options:{}}function Browser(window,document,$log,$sniffer){function completeOutstandingRequest(fn){try{fn.apply(null,sliceArgs(arguments,1))}finally{if(outstandingRequestCount--,0===outstandingRequestCount)for(;outstandingRequestCallbacks.length;)try{outstandingRequestCallbacks.pop()()}catch(e){$log.error(e)}}}function getHash(url){var index=url.indexOf("#");return index===-1?"":url.substr(index)}function cacheStateAndFireUrlChange(){pendingLocation=null,fireStateOrUrlChange()}function cacheState(){cachedState=getCurrentState(),cachedState=isUndefined(cachedState)?null:cachedState,equals(cachedState,lastCachedState)&&(cachedState=lastCachedState),lastCachedState=cachedState,lastHistoryState=cachedState}function fireStateOrUrlChange(){var prevLastHistoryState=lastHistoryState;cacheState(),lastBrowserUrl===self.url()&&prevLastHistoryState===cachedState||(lastBrowserUrl=self.url(),lastHistoryState=cachedState,forEach(urlChangeListeners,function(listener){listener(self.url(),cachedState)}))}var self=this,location=window.location,history=window.history,setTimeout=window.setTimeout,clearTimeout=window.clearTimeout,pendingDeferIds={};self.isMock=!1;var outstandingRequestCount=0,outstandingRequestCallbacks=[];self.$$completeOutstandingRequest=completeOutstandingRequest,self.$$incOutstandingRequestCount=function(){outstandingRequestCount++},self.notifyWhenNoOutstandingRequests=function(callback){0===outstandingRequestCount?callback():outstandingRequestCallbacks.push(callback)};var cachedState,lastHistoryState,lastBrowserUrl=location.href,baseElement=document.find("base"),pendingLocation=null,getCurrentState=$sniffer.history?function(){try{return history.state}catch(e){}}:noop;cacheState(),self.url=function(url,replace,state){if(isUndefined(state)&&(state=null),location!==window.location&&(location=window.location),history!==window.history&&(history=window.history),url){var sameState=lastHistoryState===state;if(lastBrowserUrl===url&&(!$sniffer.history||sameState))return self;var sameBase=lastBrowserUrl&&stripHash(lastBrowserUrl)===stripHash(url);return lastBrowserUrl=url,lastHistoryState=state,!$sniffer.history||sameBase&&sameState?(sameBase||(pendingLocation=url),replace?location.replace(url):sameBase?location.hash=getHash(url):location.href=url,location.href!==url&&(pendingLocation=url)):(history[replace?"replaceState":"pushState"](state,"",url),cacheState()),pendingLocation&&(pendingLocation=url),self}return pendingLocation||location.href},self.state=function(){return cachedState};var urlChangeListeners=[],urlChangeInit=!1,lastCachedState=null;self.onUrlChange=function(callback){return urlChangeInit||($sniffer.history&&jqLite(window).on("popstate",cacheStateAndFireUrlChange),jqLite(window).on("hashchange",cacheStateAndFireUrlChange),urlChangeInit=!0),urlChangeListeners.push(callback),callback},self.$$applicationDestroyed=function(){jqLite(window).off("hashchange popstate",cacheStateAndFireUrlChange)},self.$$checkUrlChange=fireStateOrUrlChange,self.baseHref=function(){var href=baseElement.attr("href");return href?href.replace(/^(https?:)?\/\/[^\/]*/,""):""},self.defer=function(fn,delay){var timeoutId;return outstandingRequestCount++,timeoutId=setTimeout(function(){delete pendingDeferIds[timeoutId],completeOutstandingRequest(fn)},delay||0),pendingDeferIds[timeoutId]=!0,timeoutId},self.defer.cancel=function(deferId){return!!pendingDeferIds[deferId]&&(delete pendingDeferIds[deferId],clearTimeout(deferId),completeOutstandingRequest(noop),!0)}}function $BrowserProvider(){this.$get=["$window","$log","$sniffer","$document",function($window,$log,$sniffer,$document){return new Browser($window,$document,$log,$sniffer)}]}function $CacheFactoryProvider(){this.$get=function(){function cacheFactory(cacheId,options){function refresh(entry){entry!==freshEnd&&(staleEnd?staleEnd===entry&&(staleEnd=entry.n):staleEnd=entry,link(entry.n,entry.p),link(entry,freshEnd),freshEnd=entry,freshEnd.n=null)}function link(nextEntry,prevEntry){nextEntry!==prevEntry&&(nextEntry&&(nextEntry.p=prevEntry),prevEntry&&(prevEntry.n=nextEntry))}if(cacheId in caches)throw minErr("$cacheFactory")("iid","CacheId '{0}' is already taken!",cacheId);var size=0,stats=extend({},options,{id:cacheId}),data=createMap(),capacity=options&&options.capacity||Number.MAX_VALUE,lruHash=createMap(),freshEnd=null,staleEnd=null;return caches[cacheId]={put:function(key,value){if(!isUndefined(value)){if(capacity<Number.MAX_VALUE){var lruEntry=lruHash[key]||(lruHash[key]={key:key});refresh(lruEntry)}return key in data||size++,data[key]=value,size>capacity&&this.remove(staleEnd.key),value}},get:function(key){if(capacity<Number.MAX_VALUE){var lruEntry=lruHash[key];if(!lruEntry)return;refresh(lruEntry)}return data[key]},remove:function(key){if(capacity<Number.MAX_VALUE){var lruEntry=lruHash[key];if(!lruEntry)return;lruEntry===freshEnd&&(freshEnd=lruEntry.p),lruEntry===staleEnd&&(staleEnd=lruEntry.n),link(lruEntry.n,lruEntry.p),delete lruHash[key]}key in data&&(delete data[key],size--)},removeAll:function(){data=createMap(),size=0,lruHash=createMap(),freshEnd=staleEnd=null},destroy:function(){data=null,stats=null,lruHash=null,delete caches[cacheId]},info:function(){return extend({},stats,{size:size})}}}var caches={};return cacheFactory.info=function(){var info={};return forEach(caches,function(cache,cacheId){info[cacheId]=cache.info()}),info},cacheFactory.get=function(cacheId){return caches[cacheId]},cacheFactory}}function $TemplateCacheProvider(){this.$get=["$cacheFactory",function($cacheFactory){return $cacheFactory("templates.3184")}]}function UNINITIALIZED_VALUE(){}function $CompileProvider($provide,$$sanitizeUriProvider){function parseIsolateBindings(scope,directiveName,isController){var LOCAL_REGEXP=/^([@&]|[=<](\*?))(\??)\s*([\w$]*)$/,bindings=createMap();return forEach(scope,function(definition,scopeName){if(definition=definition.trim(),definition in bindingCache)return void(bindings[scopeName]=bindingCache[definition]);var match=definition.match(LOCAL_REGEXP);if(!match)throw $compileMinErr("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",directiveName,scopeName,definition,isController?"controller bindings definition":"isolate scope definition");bindings[scopeName]={mode:match[1][0],collection:"*"===match[2],optional:"?"===match[3],attrName:match[4]||scopeName},match[4]&&(bindingCache[definition]=bindings[scopeName])}),bindings}function parseDirectiveBindings(directive,directiveName){var bindings={isolateScope:null,bindToController:null};if(isObject(directive.scope)&&(directive.bindToController===!0?(bindings.bindToController=parseIsolateBindings(directive.scope,directiveName,!0),bindings.isolateScope={}):bindings.isolateScope=parseIsolateBindings(directive.scope,directiveName,!1)),isObject(directive.bindToController)&&(bindings.bindToController=parseIsolateBindings(directive.bindToController,directiveName,!0)),bindings.bindToController&&!directive.controller)throw $compileMinErr("noctrl","Cannot bind to controller without directive '{0}'s controller.",directiveName);return bindings}function assertValidDirectiveName(name){var letter=name.charAt(0);if(!letter||letter!==lowercase(letter))throw $compileMinErr("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",name);if(name!==name.trim())throw $compileMinErr("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",name)}function getDirectiveRequire(directive){var require=directive.require||directive.controller&&directive.name;return!isArray(require)&&isObject(require)&&forEach(require,function(value,key){var match=value.match(REQUIRE_PREFIX_REGEXP),name=value.substring(match[0].length);name||(require[key]=match[0]+key)}),require}function getDirectiveRestrict(restrict,name){if(restrict&&(!isString(restrict)||!/[EACM]/.test(restrict)))throw $compileMinErr("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",restrict,name);return restrict||"EA"}var hasDirectives={},Suffix="Directive",COMMENT_DIRECTIVE_REGEXP=/^\s*directive:\s*([\w-]+)\s+(.*)$/,CLASS_DIRECTIVE_REGEXP=/(([\w-]+)(?::([^;]+))?;?)/,ALL_OR_NOTHING_ATTRS=makeMap("ngSrc,ngSrcset,src,srcset"),REQUIRE_PREFIX_REGEXP=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,EVENT_HANDLER_ATTR_REGEXP=/^(on[a-z]+|formaction)$/,bindingCache=createMap();this.directive=function registerDirective(name,directiveFactory){return assertArg(name,"name"),assertNotHasOwnProperty(name,"directive"),isString(name)?(assertValidDirectiveName(name),assertArg(directiveFactory,"directiveFactory"),hasDirectives.hasOwnProperty(name)||(hasDirectives[name]=[],$provide.factory(name+Suffix,["$injector","$exceptionHandler",function($injector,$exceptionHandler){var directives=[];return forEach(hasDirectives[name],function(directiveFactory,index){try{var directive=$injector.invoke(directiveFactory);isFunction(directive)?directive={compile:valueFn(directive)}:!directive.compile&&directive.link&&(directive.compile=valueFn(directive.link)),directive.priority=directive.priority||0,directive.index=index,directive.name=directive.name||name,directive.require=getDirectiveRequire(directive),directive.restrict=getDirectiveRestrict(directive.restrict,name),directive.$$moduleName=directiveFactory.$$moduleName,directives.push(directive)}catch(e){$exceptionHandler(e)}}),directives}])),hasDirectives[name].push(directiveFactory)):forEach(name,reverseParams(registerDirective)),this},this.component=function registerComponent(name,options){function factory($injector){function makeInjectable(fn){return isFunction(fn)||isArray(fn)?function(tElement,tAttrs){return $injector.invoke(fn,this,{$element:tElement,$attrs:tAttrs})}:fn}var template=options.template||options.templateUrl?options.template:"",ddo={controller:controller,controllerAs:identifierForController(options.controller)||options.controllerAs||"$ctrl",template:makeInjectable(template),templateUrl:makeInjectable(options.templateUrl),transclude:options.transclude,scope:{},bindToController:options.bindings||{},restrict:"E",require:options.require};return forEach(options,function(val,key){"$"===key.charAt(0)&&(ddo[key]=val)}),ddo}if(!isString(name))return forEach(name,reverseParams(bind(this,registerComponent))),this;var controller=options.controller||function(){};return forEach(options,function(val,key){"$"===key.charAt(0)&&(factory[key]=val,isFunction(controller)&&(controller[key]=val))}),factory.$inject=["$injector"],this.directive(name,factory)},this.aHrefSanitizationWhitelist=function(regexp){return isDefined(regexp)?($$sanitizeUriProvider.aHrefSanitizationWhitelist(regexp),this):$$sanitizeUriProvider.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(regexp){return isDefined(regexp)?($$sanitizeUriProvider.imgSrcSanitizationWhitelist(regexp),this):$$sanitizeUriProvider.imgSrcSanitizationWhitelist()};var debugInfoEnabled=!0;this.debugInfoEnabled=function(enabled){return isDefined(enabled)?(debugInfoEnabled=enabled,this):debugInfoEnabled};var strictComponentBindingsEnabled=!1;this.strictComponentBindingsEnabled=function(enabled){return isDefined(enabled)?(strictComponentBindingsEnabled=enabled,this):strictComponentBindingsEnabled};var TTL=10;this.onChangesTtl=function(value){return arguments.length?(TTL=value,this):TTL};var commentDirectivesEnabledConfig=!0;this.commentDirectivesEnabled=function(value){return arguments.length?(commentDirectivesEnabledConfig=value,this):commentDirectivesEnabledConfig};var cssClassDirectivesEnabledConfig=!0;this.cssClassDirectivesEnabled=function(value){return arguments.length?(cssClassDirectivesEnabledConfig=value,this):cssClassDirectivesEnabledConfig},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate",function($injector,$interpolate,$exceptionHandler,$templateRequest,$parse,$controller,$rootScope,$sce,$animate){function flushOnChangesQueue(){try{if(!--onChangesTtl)throw onChangesQueue=void 0,$compileMinErr("infchng","{0} $onChanges() iterations reached. Aborting!\n",TTL);$rootScope.$apply(function(){for(var i=0,ii=onChangesQueue.length;i<ii;++i)try{onChangesQueue[i]()}catch(e){$exceptionHandler(e)}onChangesQueue=void 0})}finally{onChangesTtl++}}function Attributes(element,attributesToCopy){if(attributesToCopy){var i,l,key,keys=Object.keys(attributesToCopy);for(i=0,l=keys.length;i<l;i++)key=keys[i],this[key]=attributesToCopy[key]}else this.$attr={};this.$$element=element}function setSpecialAttr(element,attrName,value){specialAttrHolder.innerHTML="<span "+attrName+">";var attributes=specialAttrHolder.firstChild.attributes,attribute=attributes[0];attributes.removeNamedItem(attribute.name),attribute.value=value,element.attributes.setNamedItem(attribute)}function safeAddClass($element,className){try{$element.addClass(className)}catch(e){}}function compile($compileNodes,transcludeFn,maxPriority,ignoreDirective,previousCompileContext){$compileNodes instanceof jqLite||($compileNodes=jqLite($compileNodes));var compositeLinkFn=compileNodes($compileNodes,transcludeFn,$compileNodes,maxPriority,ignoreDirective,previousCompileContext);compile.$$addScopeClass($compileNodes);var namespace=null;return function(scope,cloneConnectFn,options){if(!$compileNodes)throw $compileMinErr("multilink","This element has already been linked.");assertArg(scope,"scope"),previousCompileContext&&previousCompileContext.needsNewScope&&(scope=scope.$parent.$new()),options=options||{};var parentBoundTranscludeFn=options.parentBoundTranscludeFn,transcludeControllers=options.transcludeControllers,futureParentElement=options.futureParentElement;
parentBoundTranscludeFn&&parentBoundTranscludeFn.$$boundTransclude&&(parentBoundTranscludeFn=parentBoundTranscludeFn.$$boundTransclude),namespace||(namespace=detectNamespaceForChildElements(futureParentElement));var $linkNode;if($linkNode="html"!==namespace?jqLite(wrapTemplate(namespace,jqLite("<div></div>").append($compileNodes).html())):cloneConnectFn?JQLitePrototype.clone.call($compileNodes):$compileNodes,transcludeControllers)for(var controllerName in transcludeControllers)$linkNode.data("$"+controllerName+"Controller",transcludeControllers[controllerName].instance);return compile.$$addScopeInfo($linkNode,scope),cloneConnectFn&&cloneConnectFn($linkNode,scope),compositeLinkFn&&compositeLinkFn(scope,$linkNode,$linkNode,parentBoundTranscludeFn),cloneConnectFn||($compileNodes=compositeLinkFn=null),$linkNode}}function detectNamespaceForChildElements(parentElement){var node=parentElement&&parentElement[0];return node&&"foreignobject"!==nodeName_(node)&&toString.call(node).match(/SVG/)?"svg":"html"}function compileNodes(nodeList,transcludeFn,$rootElement,maxPriority,ignoreDirective,previousCompileContext){function compositeLinkFn(scope,nodeList,$rootElement,parentBoundTranscludeFn){var nodeLinkFn,childLinkFn,node,childScope,i,ii,idx,childBoundTranscludeFn,stableNodeList;if(nodeLinkFnFound){var nodeListLength=nodeList.length;for(stableNodeList=new Array(nodeListLength),i=0;i<linkFns.length;i+=3)idx=linkFns[i],stableNodeList[idx]=nodeList[idx]}else stableNodeList=nodeList;for(i=0,ii=linkFns.length;i<ii;)node=stableNodeList[linkFns[i++]],nodeLinkFn=linkFns[i++],childLinkFn=linkFns[i++],nodeLinkFn?(nodeLinkFn.scope?(childScope=scope.$new(),compile.$$addScopeInfo(jqLite(node),childScope)):childScope=scope,childBoundTranscludeFn=nodeLinkFn.transcludeOnThisElement?createBoundTranscludeFn(scope,nodeLinkFn.transclude,parentBoundTranscludeFn):!nodeLinkFn.templateOnThisElement&&parentBoundTranscludeFn?parentBoundTranscludeFn:!parentBoundTranscludeFn&&transcludeFn?createBoundTranscludeFn(scope,transcludeFn):null,nodeLinkFn(childLinkFn,childScope,node,$rootElement,childBoundTranscludeFn)):childLinkFn&&childLinkFn(scope,node.childNodes,void 0,parentBoundTranscludeFn)}for(var attrs,directives,nodeLinkFn,childNodes,childLinkFn,linkFnFound,nodeLinkFnFound,linkFns=[],notLiveList=isArray(nodeList)||nodeList instanceof jqLite,i=0;i<nodeList.length;i++)attrs=new Attributes,11===msie&&mergeConsecutiveTextNodes(nodeList,i,notLiveList),directives=collectDirectives(nodeList[i],[],attrs,0===i?maxPriority:void 0,ignoreDirective),nodeLinkFn=directives.length?applyDirectivesToNode(directives,nodeList[i],attrs,transcludeFn,$rootElement,null,[],[],previousCompileContext):null,nodeLinkFn&&nodeLinkFn.scope&&compile.$$addScopeClass(attrs.$$element),childLinkFn=nodeLinkFn&&nodeLinkFn.terminal||!(childNodes=nodeList[i].childNodes)||!childNodes.length?null:compileNodes(childNodes,nodeLinkFn?(nodeLinkFn.transcludeOnThisElement||!nodeLinkFn.templateOnThisElement)&&nodeLinkFn.transclude:transcludeFn),(nodeLinkFn||childLinkFn)&&(linkFns.push(i,nodeLinkFn,childLinkFn),linkFnFound=!0,nodeLinkFnFound=nodeLinkFnFound||nodeLinkFn),previousCompileContext=null;return linkFnFound?compositeLinkFn:null}function mergeConsecutiveTextNodes(nodeList,idx,notLiveList){var sibling,node=nodeList[idx],parent=node.parentNode;if(node.nodeType===NODE_TYPE_TEXT)for(;;){if(sibling=parent?node.nextSibling:nodeList[idx+1],!sibling||sibling.nodeType!==NODE_TYPE_TEXT)break;node.nodeValue=node.nodeValue+sibling.nodeValue,sibling.parentNode&&sibling.parentNode.removeChild(sibling),notLiveList&&sibling===nodeList[idx+1]&&nodeList.splice(idx+1,1)}}function createBoundTranscludeFn(scope,transcludeFn,previousBoundTranscludeFn){function boundTranscludeFn(transcludedScope,cloneFn,controllers,futureParentElement,containingScope){return transcludedScope||(transcludedScope=scope.$new(!1,containingScope),transcludedScope.$$transcluded=!0),transcludeFn(transcludedScope,cloneFn,{parentBoundTranscludeFn:previousBoundTranscludeFn,transcludeControllers:controllers,futureParentElement:futureParentElement})}var boundSlots=boundTranscludeFn.$$slots=createMap();for(var slotName in transcludeFn.$$slots)transcludeFn.$$slots[slotName]?boundSlots[slotName]=createBoundTranscludeFn(scope,transcludeFn.$$slots[slotName],previousBoundTranscludeFn):boundSlots[slotName]=null;return boundTranscludeFn}function collectDirectives(node,directives,attrs,maxPriority,ignoreDirective){var match,nodeName,className,nodeType=node.nodeType,attrsMap=attrs.$attr;switch(nodeType){case NODE_TYPE_ELEMENT:nodeName=nodeName_(node),addDirective(directives,directiveNormalize(nodeName),"E",maxPriority,ignoreDirective);for(var attr,name,nName,ngAttrName,value,isNgAttr,nAttrs=node.attributes,j=0,jj=nAttrs&&nAttrs.length;j<jj;j++){var attrStartName=!1,attrEndName=!1;attr=nAttrs[j],name=attr.name,value=attr.value,ngAttrName=directiveNormalize(name),isNgAttr=NG_ATTR_BINDING.test(ngAttrName),isNgAttr&&(name=name.replace(PREFIX_REGEXP,"").substr(8).replace(/_(.)/g,function(match,letter){return letter.toUpperCase()}));var multiElementMatch=ngAttrName.match(MULTI_ELEMENT_DIR_RE);multiElementMatch&&directiveIsMultiElement(multiElementMatch[1])&&(attrStartName=name,attrEndName=name.substr(0,name.length-5)+"end",name=name.substr(0,name.length-6)),nName=directiveNormalize(name.toLowerCase()),attrsMap[nName]=name,!isNgAttr&&attrs.hasOwnProperty(nName)||(attrs[nName]=value,getBooleanAttrName(node,nName)&&(attrs[nName]=!0)),addAttrInterpolateDirective(node,directives,value,nName,isNgAttr),addDirective(directives,nName,"A",maxPriority,ignoreDirective,attrStartName,attrEndName)}if("input"===nodeName&&"hidden"===node.getAttribute("type")&&node.setAttribute("autocomplete","off"),!cssClassDirectivesEnabled)break;if(className=node.className,isObject(className)&&(className=className.animVal),isString(className)&&""!==className)for(;match=CLASS_DIRECTIVE_REGEXP.exec(className);)nName=directiveNormalize(match[2]),addDirective(directives,nName,"C",maxPriority,ignoreDirective)&&(attrs[nName]=trim(match[3])),className=className.substr(match.index+match[0].length);break;case NODE_TYPE_TEXT:addTextInterpolateDirective(directives,node.nodeValue);break;case NODE_TYPE_COMMENT:if(!commentDirectivesEnabled)break;collectCommentDirectives(node,directives,attrs,maxPriority,ignoreDirective)}return directives.sort(byPriority),directives}function collectCommentDirectives(node,directives,attrs,maxPriority,ignoreDirective){try{var match=COMMENT_DIRECTIVE_REGEXP.exec(node.nodeValue);if(match){var nName=directiveNormalize(match[1]);addDirective(directives,nName,"M",maxPriority,ignoreDirective)&&(attrs[nName]=trim(match[2]))}}catch(e){}}function groupScan(node,attrStart,attrEnd){var nodes=[],depth=0;if(attrStart&&node.hasAttribute&&node.hasAttribute(attrStart)){do{if(!node)throw $compileMinErr("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",attrStart,attrEnd);node.nodeType===NODE_TYPE_ELEMENT&&(node.hasAttribute(attrStart)&&depth++,node.hasAttribute(attrEnd)&&depth--),nodes.push(node),node=node.nextSibling}while(depth>0)}else nodes.push(node);return jqLite(nodes)}function groupElementsLinkFnWrapper(linkFn,attrStart,attrEnd){return function(scope,element,attrs,controllers,transcludeFn){return element=groupScan(element[0],attrStart,attrEnd),linkFn(scope,element,attrs,controllers,transcludeFn)}}function compilationGenerator(eager,$compileNodes,transcludeFn,maxPriority,ignoreDirective,previousCompileContext){var compiled;return eager?compile($compileNodes,transcludeFn,maxPriority,ignoreDirective,previousCompileContext):function(){return compiled||(compiled=compile($compileNodes,transcludeFn,maxPriority,ignoreDirective,previousCompileContext),$compileNodes=transcludeFn=previousCompileContext=null),compiled.apply(this,arguments)}}function applyDirectivesToNode(directives,compileNode,templateAttrs,transcludeFn,jqCollection,originalReplaceDirective,preLinkFns,postLinkFns,previousCompileContext){function addLinkFns(pre,post,attrStart,attrEnd){pre&&(attrStart&&(pre=groupElementsLinkFnWrapper(pre,attrStart,attrEnd)),pre.require=directive.require,pre.directiveName=directiveName,(newIsolateScopeDirective===directive||directive.$$isolateScope)&&(pre=cloneAndAnnotateFn(pre,{isolateScope:!0})),preLinkFns.push(pre)),post&&(attrStart&&(post=groupElementsLinkFnWrapper(post,attrStart,attrEnd)),post.require=directive.require,post.directiveName=directiveName,(newIsolateScopeDirective===directive||directive.$$isolateScope)&&(post=cloneAndAnnotateFn(post,{isolateScope:!0})),postLinkFns.push(post))}function nodeLinkFn(childLinkFn,scope,linkNode,$rootElement,boundTranscludeFn){function controllersBoundTransclude(scope,cloneAttachFn,futureParentElement,slotName){var transcludeControllers;if(isScope(scope)||(slotName=futureParentElement,futureParentElement=cloneAttachFn,cloneAttachFn=scope,scope=void 0),hasElementTranscludeDirective&&(transcludeControllers=elementControllers),futureParentElement||(futureParentElement=hasElementTranscludeDirective?$element.parent():$element),!slotName)return boundTranscludeFn(scope,cloneAttachFn,transcludeControllers,futureParentElement,scopeToChild);var slotTranscludeFn=boundTranscludeFn.$$slots[slotName];if(slotTranscludeFn)return slotTranscludeFn(scope,cloneAttachFn,transcludeControllers,futureParentElement,scopeToChild);if(isUndefined(slotTranscludeFn))throw $compileMinErr("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',slotName,startingTag($element))}var i,ii,linkFn,isolateScope,controllerScope,elementControllers,transcludeFn,$element,attrs,scopeBindingInfo;compileNode===linkNode?(attrs=templateAttrs,$element=templateAttrs.$$element):($element=jqLite(linkNode),attrs=new Attributes($element,templateAttrs)),controllerScope=scope,newIsolateScopeDirective?isolateScope=scope.$new(!0):newScopeDirective&&(controllerScope=scope.$parent),boundTranscludeFn&&(transcludeFn=controllersBoundTransclude,transcludeFn.$$boundTransclude=boundTranscludeFn,transcludeFn.isSlotFilled=function(slotName){return!!boundTranscludeFn.$$slots[slotName]}),controllerDirectives&&(elementControllers=setupControllers($element,attrs,transcludeFn,controllerDirectives,isolateScope,scope,newIsolateScopeDirective)),newIsolateScopeDirective&&(compile.$$addScopeInfo($element,isolateScope,!0,!(templateDirective&&(templateDirective===newIsolateScopeDirective||templateDirective===newIsolateScopeDirective.$$originalDirective))),compile.$$addScopeClass($element,!0),isolateScope.$$isolateBindings=newIsolateScopeDirective.$$isolateBindings,scopeBindingInfo=initializeDirectiveBindings(scope,attrs,isolateScope,isolateScope.$$isolateBindings,newIsolateScopeDirective),scopeBindingInfo.removeWatches&&isolateScope.$on("$destroy",scopeBindingInfo.removeWatches));for(var name in elementControllers){var controllerDirective=controllerDirectives[name],controller=elementControllers[name],bindings=controllerDirective.$$bindings.bindToController;controller.instance=controller(),$element.data("$"+controllerDirective.name+"Controller",controller.instance),controller.bindingInfo=initializeDirectiveBindings(controllerScope,attrs,controller.instance,bindings,controllerDirective)}for(forEach(controllerDirectives,function(controllerDirective,name){var require=controllerDirective.require;controllerDirective.bindToController&&!isArray(require)&&isObject(require)&&extend(elementControllers[name].instance,getControllers(name,require,$element,elementControllers))}),forEach(elementControllers,function(controller){var controllerInstance=controller.instance;if(isFunction(controllerInstance.$onChanges))try{controllerInstance.$onChanges(controller.bindingInfo.initialChanges)}catch(e){$exceptionHandler(e)}if(isFunction(controllerInstance.$onInit))try{controllerInstance.$onInit()}catch(e){$exceptionHandler(e)}isFunction(controllerInstance.$doCheck)&&(controllerScope.$watch(function(){controllerInstance.$doCheck()}),controllerInstance.$doCheck()),isFunction(controllerInstance.$onDestroy)&&controllerScope.$on("$destroy",function(){controllerInstance.$onDestroy()})}),i=0,ii=preLinkFns.length;i<ii;i++)linkFn=preLinkFns[i],invokeLinkFn(linkFn,linkFn.isolateScope?isolateScope:scope,$element,attrs,linkFn.require&&getControllers(linkFn.directiveName,linkFn.require,$element,elementControllers),transcludeFn);var scopeToChild=scope;for(newIsolateScopeDirective&&(newIsolateScopeDirective.template||null===newIsolateScopeDirective.templateUrl)&&(scopeToChild=isolateScope),childLinkFn&&childLinkFn(scopeToChild,linkNode.childNodes,void 0,boundTranscludeFn),i=postLinkFns.length-1;i>=0;i--)linkFn=postLinkFns[i],invokeLinkFn(linkFn,linkFn.isolateScope?isolateScope:scope,$element,attrs,linkFn.require&&getControllers(linkFn.directiveName,linkFn.require,$element,elementControllers),transcludeFn);forEach(elementControllers,function(controller){var controllerInstance=controller.instance;isFunction(controllerInstance.$postLink)&&controllerInstance.$postLink()})}previousCompileContext=previousCompileContext||{};for(var directive,directiveName,$template,linkFn,directiveValue,terminalPriority=-Number.MAX_VALUE,newScopeDirective=previousCompileContext.newScopeDirective,controllerDirectives=previousCompileContext.controllerDirectives,newIsolateScopeDirective=previousCompileContext.newIsolateScopeDirective,templateDirective=previousCompileContext.templateDirective,nonTlbTranscludeDirective=previousCompileContext.nonTlbTranscludeDirective,hasTranscludeDirective=!1,hasTemplate=!1,hasElementTranscludeDirective=previousCompileContext.hasElementTranscludeDirective,$compileNode=templateAttrs.$$element=jqLite(compileNode),replaceDirective=originalReplaceDirective,childTranscludeFn=transcludeFn,didScanForMultipleTransclusion=!1,mightHaveMultipleTransclusionError=!1,i=0,ii=directives.length;i<ii;i++){directive=directives[i];var attrStart=directive.$$start,attrEnd=directive.$$end;if(attrStart&&($compileNode=groupScan(compileNode,attrStart,attrEnd)),$template=void 0,terminalPriority>directive.priority)break;if(directiveValue=directive.scope,directiveValue&&(directive.templateUrl||(isObject(directiveValue)?(assertNoDuplicate("new/isolated scope",newIsolateScopeDirective||newScopeDirective,directive,$compileNode),newIsolateScopeDirective=directive):assertNoDuplicate("new/isolated scope",newIsolateScopeDirective,directive,$compileNode)),newScopeDirective=newScopeDirective||directive),directiveName=directive.name,!didScanForMultipleTransclusion&&(directive.replace&&(directive.templateUrl||directive.template)||directive.transclude&&!directive.$$tlb)){for(var candidateDirective,scanningIndex=i+1;candidateDirective=directives[scanningIndex++];)if(candidateDirective.transclude&&!candidateDirective.$$tlb||candidateDirective.replace&&(candidateDirective.templateUrl||candidateDirective.template)){mightHaveMultipleTransclusionError=!0;break}didScanForMultipleTransclusion=!0}if(!directive.templateUrl&&directive.controller&&(controllerDirectives=controllerDirectives||createMap(),assertNoDuplicate("'"+directiveName+"' controller",controllerDirectives[directiveName],directive,$compileNode),controllerDirectives[directiveName]=directive),directiveValue=directive.transclude)if(hasTranscludeDirective=!0,directive.$$tlb||(assertNoDuplicate("transclusion",nonTlbTranscludeDirective,directive,$compileNode),nonTlbTranscludeDirective=directive),"element"===directiveValue)hasElementTranscludeDirective=!0,terminalPriority=directive.priority,$template=$compileNode,$compileNode=templateAttrs.$$element=jqLite(compile.$$createComment(directiveName,templateAttrs[directiveName])),compileNode=$compileNode[0],replaceWith(jqCollection,sliceArgs($template),compileNode),childTranscludeFn=compilationGenerator(mightHaveMultipleTransclusionError,$template,transcludeFn,terminalPriority,replaceDirective&&replaceDirective.name,{nonTlbTranscludeDirective:nonTlbTranscludeDirective});else{var slots=createMap();if(isObject(directiveValue)){$template=window.document.createDocumentFragment();var slotMap=createMap(),filledSlots=createMap();forEach(directiveValue,function(elementSelector,slotName){var optional="?"===elementSelector.charAt(0);elementSelector=optional?elementSelector.substring(1):elementSelector,slotMap[elementSelector]=slotName,slots[slotName]=null,filledSlots[slotName]=optional}),forEach($compileNode.contents(),function(node){var slotName=slotMap[directiveNormalize(nodeName_(node))];slotName?(filledSlots[slotName]=!0,slots[slotName]=slots[slotName]||window.document.createDocumentFragment(),slots[slotName].appendChild(node)):$template.appendChild(node)}),forEach(filledSlots,function(filled,slotName){if(!filled)throw $compileMinErr("reqslot","Required transclusion slot `{0}` was not filled.",slotName)});for(var slotName in slots)slots[slotName]&&(slots[slotName]=compilationGenerator(mightHaveMultipleTransclusionError,slots[slotName].childNodes,transcludeFn));$template=$template.childNodes}else $template=jqLite(jqLiteClone(compileNode)).contents();$compileNode.empty(),childTranscludeFn=compilationGenerator(mightHaveMultipleTransclusionError,$template,transcludeFn,void 0,void 0,{needsNewScope:directive.$$isolateScope||directive.$$newScope}),childTranscludeFn.$$slots=slots}if(directive.template)if(hasTemplate=!0,assertNoDuplicate("template",templateDirective,directive,$compileNode),templateDirective=directive,directiveValue=isFunction(directive.template)?directive.template($compileNode,templateAttrs):directive.template,directiveValue=denormalizeTemplate(directiveValue),directive.replace){if(replaceDirective=directive,$template=jqLiteIsTextNode(directiveValue)?[]:removeComments(wrapTemplate(directive.templateNamespace,trim(directiveValue))),compileNode=$template[0],1!==$template.length||compileNode.nodeType!==NODE_TYPE_ELEMENT)throw $compileMinErr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",directiveName,"");replaceWith(jqCollection,$compileNode,compileNode);var newTemplateAttrs={$attr:{}},templateDirectives=collectDirectives(compileNode,[],newTemplateAttrs),unprocessedDirectives=directives.splice(i+1,directives.length-(i+1));(newIsolateScopeDirective||newScopeDirective)&&markDirectiveScope(templateDirectives,newIsolateScopeDirective,newScopeDirective),directives=directives.concat(templateDirectives).concat(unprocessedDirectives),mergeTemplateAttributes(templateAttrs,newTemplateAttrs),ii=directives.length}else $compileNode.html(directiveValue);if(directive.templateUrl)hasTemplate=!0,assertNoDuplicate("template",templateDirective,directive,$compileNode),templateDirective=directive,directive.replace&&(replaceDirective=directive),nodeLinkFn=compileTemplateUrl(directives.splice(i,directives.length-i),$compileNode,templateAttrs,jqCollection,hasTranscludeDirective&&childTranscludeFn,preLinkFns,postLinkFns,{controllerDirectives:controllerDirectives,newScopeDirective:newScopeDirective!==directive&&newScopeDirective,newIsolateScopeDirective:newIsolateScopeDirective,templateDirective:templateDirective,nonTlbTranscludeDirective:nonTlbTranscludeDirective}),ii=directives.length;else if(directive.compile)try{linkFn=directive.compile($compileNode,templateAttrs,childTranscludeFn);var context=directive.$$originalDirective||directive;isFunction(linkFn)?addLinkFns(null,bind(context,linkFn),attrStart,attrEnd):linkFn&&addLinkFns(bind(context,linkFn.pre),bind(context,linkFn.post),attrStart,attrEnd)}catch(e){$exceptionHandler(e,startingTag($compileNode))}directive.terminal&&(nodeLinkFn.terminal=!0,terminalPriority=Math.max(terminalPriority,directive.priority))}return nodeLinkFn.scope=newScopeDirective&&newScopeDirective.scope===!0,nodeLinkFn.transcludeOnThisElement=hasTranscludeDirective,nodeLinkFn.templateOnThisElement=hasTemplate,nodeLinkFn.transclude=childTranscludeFn,previousCompileContext.hasElementTranscludeDirective=hasElementTranscludeDirective,nodeLinkFn}function getControllers(directiveName,require,$element,elementControllers){var value;if(isString(require)){var match=require.match(REQUIRE_PREFIX_REGEXP),name=require.substring(match[0].length),inheritType=match[1]||match[3],optional="?"===match[2];if("^^"===inheritType?$element=$element.parent():(value=elementControllers&&elementControllers[name],value=value&&value.instance),!value){var dataName="$"+name+"Controller";value=inheritType?$element.inheritedData(dataName):$element.data(dataName)}if(!value&&!optional)throw $compileMinErr("ctreq","Controller '{0}', required by directive '{1}', can't be found!",name,directiveName)}else if(isArray(require)){value=[];for(var i=0,ii=require.length;i<ii;i++)value[i]=getControllers(directiveName,require[i],$element,elementControllers)}else isObject(require)&&(value={},forEach(require,function(controller,property){value[property]=getControllers(directiveName,controller,$element,elementControllers)}));return value||null}function setupControllers($element,attrs,transcludeFn,controllerDirectives,isolateScope,scope,newIsolateScopeDirective){var elementControllers=createMap();for(var controllerKey in controllerDirectives){var directive=controllerDirectives[controllerKey],locals={$scope:directive===newIsolateScopeDirective||directive.$$isolateScope?isolateScope:scope,$element:$element,$attrs:attrs,$transclude:transcludeFn},controller=directive.controller;"@"===controller&&(controller=attrs[directive.name]);var controllerInstance=$controller(controller,locals,!0,directive.controllerAs);elementControllers[directive.name]=controllerInstance,$element.data("$"+directive.name+"Controller",controllerInstance.instance)}return elementControllers}function markDirectiveScope(directives,isolateScope,newScope){for(var j=0,jj=directives.length;j<jj;j++)directives[j]=inherit(directives[j],{$$isolateScope:isolateScope,$$newScope:newScope})}function addDirective(tDirectives,name,location,maxPriority,ignoreDirective,startAttrName,endAttrName){if(name===ignoreDirective)return null;var match=null;if(hasDirectives.hasOwnProperty(name))for(var directive,directives=$injector.get(name+Suffix),i=0,ii=directives.length;i<ii;i++)if(directive=directives[i],(isUndefined(maxPriority)||maxPriority>directive.priority)&&directive.restrict.indexOf(location)!==-1){if(startAttrName&&(directive=inherit(directive,{$$start:startAttrName,$$end:endAttrName})),!directive.$$bindings){var bindings=directive.$$bindings=parseDirectiveBindings(directive,directive.name);isObject(bindings.isolateScope)&&(directive.$$isolateBindings=bindings.isolateScope)}tDirectives.push(directive),match=directive}return match}function directiveIsMultiElement(name){if(hasDirectives.hasOwnProperty(name))for(var directive,directives=$injector.get(name+Suffix),i=0,ii=directives.length;i<ii;i++)if(directive=directives[i],directive.multiElement)return!0;return!1}function mergeTemplateAttributes(dst,src){var srcAttr=src.$attr,dstAttr=dst.$attr;forEach(dst,function(value,key){"$"!==key.charAt(0)&&(src[key]&&src[key]!==value&&(value.length?value+=("style"===key?";":" ")+src[key]:value=src[key]),dst.$set(key,value,!0,srcAttr[key]))}),forEach(src,function(value,key){dst.hasOwnProperty(key)||"$"===key.charAt(0)||(dst[key]=value,"class"!==key&&"style"!==key&&(dstAttr[key]=srcAttr[key]))})}function compileTemplateUrl(directives,$compileNode,tAttrs,$rootElement,childTranscludeFn,preLinkFns,postLinkFns,previousCompileContext){var afterTemplateNodeLinkFn,afterTemplateChildLinkFn,linkQueue=[],beforeTemplateCompileNode=$compileNode[0],origAsyncDirective=directives.shift(),derivedSyncDirective=inherit(origAsyncDirective,{templateUrl:null,transclude:null,replace:null,$$originalDirective:origAsyncDirective}),templateUrl=isFunction(origAsyncDirective.templateUrl)?origAsyncDirective.templateUrl($compileNode,tAttrs):origAsyncDirective.templateUrl,templateNamespace=origAsyncDirective.templateNamespace;return $compileNode.empty(),$templateRequest(templateUrl).then(function(content){var compileNode,tempTemplateAttrs,$template,childBoundTranscludeFn;if(content=denormalizeTemplate(content),origAsyncDirective.replace){if($template=jqLiteIsTextNode(content)?[]:removeComments(wrapTemplate(templateNamespace,trim(content))),compileNode=$template[0],1!==$template.length||compileNode.nodeType!==NODE_TYPE_ELEMENT)throw $compileMinErr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",origAsyncDirective.name,templateUrl);tempTemplateAttrs={$attr:{}},replaceWith($rootElement,$compileNode,compileNode);var templateDirectives=collectDirectives(compileNode,[],tempTemplateAttrs);isObject(origAsyncDirective.scope)&&markDirectiveScope(templateDirectives,!0),directives=templateDirectives.concat(directives),mergeTemplateAttributes(tAttrs,tempTemplateAttrs)}else compileNode=beforeTemplateCompileNode,$compileNode.html(content);for(directives.unshift(derivedSyncDirective),afterTemplateNodeLinkFn=applyDirectivesToNode(directives,compileNode,tAttrs,childTranscludeFn,$compileNode,origAsyncDirective,preLinkFns,postLinkFns,previousCompileContext),forEach($rootElement,function(node,i){node===compileNode&&($rootElement[i]=$compileNode[0])}),afterTemplateChildLinkFn=compileNodes($compileNode[0].childNodes,childTranscludeFn);linkQueue.length;){var scope=linkQueue.shift(),beforeTemplateLinkNode=linkQueue.shift(),linkRootElement=linkQueue.shift(),boundTranscludeFn=linkQueue.shift(),linkNode=$compileNode[0];if(!scope.$$destroyed){if(beforeTemplateLinkNode!==beforeTemplateCompileNode){var oldClasses=beforeTemplateLinkNode.className;previousCompileContext.hasElementTranscludeDirective&&origAsyncDirective.replace||(linkNode=jqLiteClone(compileNode)),replaceWith(linkRootElement,jqLite(beforeTemplateLinkNode),linkNode),safeAddClass(jqLite(linkNode),oldClasses)}childBoundTranscludeFn=afterTemplateNodeLinkFn.transcludeOnThisElement?createBoundTranscludeFn(scope,afterTemplateNodeLinkFn.transclude,boundTranscludeFn):boundTranscludeFn,afterTemplateNodeLinkFn(afterTemplateChildLinkFn,scope,linkNode,$rootElement,childBoundTranscludeFn)}}linkQueue=null})["catch"](function(error){isError(error)&&$exceptionHandler(error)}),function(ignoreChildLinkFn,scope,node,rootElement,boundTranscludeFn){var childBoundTranscludeFn=boundTranscludeFn;scope.$$destroyed||(linkQueue?linkQueue.push(scope,node,rootElement,childBoundTranscludeFn):(afterTemplateNodeLinkFn.transcludeOnThisElement&&(childBoundTranscludeFn=createBoundTranscludeFn(scope,afterTemplateNodeLinkFn.transclude,boundTranscludeFn)),afterTemplateNodeLinkFn(afterTemplateChildLinkFn,scope,node,rootElement,childBoundTranscludeFn)))}}function byPriority(a,b){var diff=b.priority-a.priority;return 0!==diff?diff:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function assertNoDuplicate(what,previousDirective,directive,element){function wrapModuleNameIfDefined(moduleName){return moduleName?" (module: "+moduleName+")":""}if(previousDirective)throw $compileMinErr("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",previousDirective.name,wrapModuleNameIfDefined(previousDirective.$$moduleName),directive.name,wrapModuleNameIfDefined(directive.$$moduleName),what,startingTag(element))}function addTextInterpolateDirective(directives,text){var interpolateFn=$interpolate(text,!0);interpolateFn&&directives.push({priority:0,compile:function(templateNode){var templateNodeParent=templateNode.parent(),hasCompileParent=!!templateNodeParent.length;return hasCompileParent&&compile.$$addBindingClass(templateNodeParent),function(scope,node){var parent=node.parent();hasCompileParent||compile.$$addBindingClass(parent),compile.$$addBindingInfo(parent,interpolateFn.expressions),scope.$watch(interpolateFn,function(value){node[0].nodeValue=value})}}})}function wrapTemplate(type,template){switch(type=lowercase(type||"html")){case"svg":case"math":var wrapper=window.document.createElement("div");return wrapper.innerHTML="<"+type+">"+template+"</"+type+">",wrapper.childNodes[0].childNodes;default:return template}}function getTrustedContext(node,attrNormalizedName){if("srcdoc"===attrNormalizedName)return $sce.HTML;var tag=nodeName_(node);return"src"===attrNormalizedName||"ngSrc"===attrNormalizedName?["img","video","audio","source","track"].indexOf(tag)===-1?$sce.RESOURCE_URL:$sce.MEDIA_URL:"xlinkHref"===attrNormalizedName?"image"===tag?$sce.MEDIA_URL:"a"===tag?$sce.URL:$sce.RESOURCE_URL:"form"===tag&&"action"===attrNormalizedName||"base"===tag&&"href"===attrNormalizedName||"link"===tag&&"href"===attrNormalizedName?$sce.RESOURCE_URL:"a"!==tag||"href"!==attrNormalizedName&&"ngHref"!==attrNormalizedName?void 0:$sce.URL}function addAttrInterpolateDirective(node,directives,value,name,isNgAttr){var trustedContext=getTrustedContext(node,name),mustHaveExpression=!isNgAttr,allOrNothing=ALL_OR_NOTHING_ATTRS[name]||isNgAttr,interpolateFn=$interpolate(value,mustHaveExpression,trustedContext,allOrNothing);if(interpolateFn){if("multiple"===name&&"select"===nodeName_(node))throw $compileMinErr("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",startingTag(node));if(EVENT_HANDLER_ATTR_REGEXP.test(name))throw $compileMinErr("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");directives.push({priority:100,compile:function(){return{pre:function(scope,element,attr){var $$observers=attr.$$observers||(attr.$$observers=createMap()),newValue=attr[name];newValue!==value&&(interpolateFn=newValue&&$interpolate(newValue,!0,trustedContext,allOrNothing),value=newValue),interpolateFn&&(attr[name]=interpolateFn(scope),($$observers[name]||($$observers[name]=[])).$$inter=!0,(attr.$$observers&&attr.$$observers[name].$$scope||scope).$watch(interpolateFn,function(newValue,oldValue){"class"===name&&newValue!==oldValue?attr.$updateClass(newValue,oldValue):attr.$set(name,newValue)}))}}}})}}function replaceWith($rootElement,elementsToRemove,newNode){var i,ii,firstElementToRemove=elementsToRemove[0],removeCount=elementsToRemove.length,parent=firstElementToRemove.parentNode;if($rootElement)for(i=0,ii=$rootElement.length;i<ii;i++)if($rootElement[i]===firstElementToRemove){$rootElement[i++]=newNode;for(var j=i,j2=j+removeCount-1,jj=$rootElement.length;j<jj;j++,j2++)j2<jj?$rootElement[j]=$rootElement[j2]:delete $rootElement[j];$rootElement.length-=removeCount-1,$rootElement.context===firstElementToRemove&&($rootElement.context=newNode);break}parent&&parent.replaceChild(newNode,firstElementToRemove);var fragment=window.document.createDocumentFragment();for(i=0;i<removeCount;i++)fragment.appendChild(elementsToRemove[i]);for(jqLite.hasData(firstElementToRemove)&&(jqLite.data(newNode,jqLite.data(firstElementToRemove)),jqLite(firstElementToRemove).off("$destroy")),jqLite.cleanData(fragment.querySelectorAll("*")),i=1;i<removeCount;i++)delete elementsToRemove[i];elementsToRemove[0]=newNode,elementsToRemove.length=1}function cloneAndAnnotateFn(fn,annotation){return extend(function(){return fn.apply(null,arguments)},fn,annotation)}function invokeLinkFn(linkFn,scope,$element,attrs,controllers,transcludeFn){try{linkFn(scope,$element,attrs,controllers,transcludeFn)}catch(e){$exceptionHandler(e,startingTag($element))}}function strictBindingsCheck(attrName,directiveName){if(strictComponentBindingsEnabled)throw $compileMinErr("missingattr","Attribute '{0}' of '{1}' is non-optional and must be set!",attrName,directiveName)}function initializeDirectiveBindings(scope,attrs,destination,bindings,directive){function recordChanges(key,currentValue,previousValue){isFunction(destination.$onChanges)&&!simpleCompare(currentValue,previousValue)&&(onChangesQueue||(scope.$$postDigest(flushOnChangesQueue),onChangesQueue=[]),changes||(changes={},onChangesQueue.push(triggerOnChangesHook)),changes[key]&&(previousValue=changes[key].previousValue),changes[key]=new SimpleChange(previousValue,currentValue))}function triggerOnChangesHook(){destination.$onChanges(changes),changes=void 0}var changes,removeWatchCollection=[],initialChanges={};return forEach(bindings,function(definition,scopeName){
var lastValue,parentGet,parentSet,compare,removeWatch,attrName=definition.attrName,optional=definition.optional,mode=definition.mode;switch(mode){case"@":optional||hasOwnProperty.call(attrs,attrName)||(strictBindingsCheck(attrName,directive.name),destination[scopeName]=attrs[attrName]=void 0),removeWatch=attrs.$observe(attrName,function(value){if(isString(value)||isBoolean(value)){var oldValue=destination[scopeName];recordChanges(scopeName,value,oldValue),destination[scopeName]=value}}),attrs.$$observers[attrName].$$scope=scope,lastValue=attrs[attrName],isString(lastValue)?destination[scopeName]=$interpolate(lastValue)(scope):isBoolean(lastValue)&&(destination[scopeName]=lastValue),initialChanges[scopeName]=new SimpleChange(_UNINITIALIZED_VALUE,destination[scopeName]),removeWatchCollection.push(removeWatch);break;case"=":if(!hasOwnProperty.call(attrs,attrName)){if(optional)break;strictBindingsCheck(attrName,directive.name),attrs[attrName]=void 0}if(optional&&!attrs[attrName])break;parentGet=$parse(attrs[attrName]),compare=parentGet.literal?equals:simpleCompare,parentSet=parentGet.assign||function(){throw lastValue=destination[scopeName]=parentGet(scope),$compileMinErr("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",attrs[attrName],attrName,directive.name)},lastValue=destination[scopeName]=parentGet(scope);var parentValueWatch=function(parentValue){return compare(parentValue,destination[scopeName])||(compare(parentValue,lastValue)?parentSet(scope,parentValue=destination[scopeName]):destination[scopeName]=parentValue),lastValue=parentValue};parentValueWatch.$stateful=!0,removeWatch=definition.collection?scope.$watchCollection(attrs[attrName],parentValueWatch):scope.$watch($parse(attrs[attrName],parentValueWatch),null,parentGet.literal),removeWatchCollection.push(removeWatch);break;case"<":if(!hasOwnProperty.call(attrs,attrName)){if(optional)break;strictBindingsCheck(attrName,directive.name),attrs[attrName]=void 0}if(optional&&!attrs[attrName])break;parentGet=$parse(attrs[attrName]);var isLiteral=parentGet.literal,initialValue=destination[scopeName]=parentGet(scope);initialChanges[scopeName]=new SimpleChange(_UNINITIALIZED_VALUE,destination[scopeName]),removeWatch=scope[definition.collection?"$watchCollection":"$watch"](parentGet,function(newValue,oldValue){if(oldValue===newValue){if(oldValue===initialValue||isLiteral&&equals(oldValue,initialValue))return;oldValue=initialValue}recordChanges(scopeName,newValue,oldValue),destination[scopeName]=newValue}),removeWatchCollection.push(removeWatch);break;case"&":if(optional||hasOwnProperty.call(attrs,attrName)||strictBindingsCheck(attrName,directive.name),parentGet=attrs.hasOwnProperty(attrName)?$parse(attrs[attrName]):noop,parentGet===noop&&optional)break;destination[scopeName]=function(locals){return parentGet(scope,locals)}}}),{initialChanges:initialChanges,removeWatches:removeWatchCollection.length&&function(){for(var i=0,ii=removeWatchCollection.length;i<ii;++i)removeWatchCollection[i]()}}}var onChangesQueue,SIMPLE_ATTR_NAME=/^\w/,specialAttrHolder=window.document.createElement("div"),commentDirectivesEnabled=commentDirectivesEnabledConfig,cssClassDirectivesEnabled=cssClassDirectivesEnabledConfig,onChangesTtl=TTL;Attributes.prototype={$normalize:directiveNormalize,$addClass:function(classVal){classVal&&classVal.length>0&&$animate.addClass(this.$$element,classVal)},$removeClass:function(classVal){classVal&&classVal.length>0&&$animate.removeClass(this.$$element,classVal)},$updateClass:function(newClasses,oldClasses){var toAdd=tokenDifference(newClasses,oldClasses);toAdd&&toAdd.length&&$animate.addClass(this.$$element,toAdd);var toRemove=tokenDifference(oldClasses,newClasses);toRemove&&toRemove.length&&$animate.removeClass(this.$$element,toRemove)},$set:function(key,value,writeAttr,attrName){var nodeName,node=this.$$element[0],booleanKey=getBooleanAttrName(node,key),aliasedKey=getAliasedAttrName(key),observer=key;if(booleanKey?(this.$$element.prop(key,value),attrName=booleanKey):aliasedKey&&(this[aliasedKey]=value,observer=aliasedKey),this[key]=value,attrName?this.$attr[key]=attrName:(attrName=this.$attr[key],attrName||(this.$attr[key]=attrName=snake_case(key,"-"))),nodeName=nodeName_(this.$$element),"img"===nodeName&&"srcset"===key&&value){if(!isString(value))throw $compileMinErr("srcset","Can't pass trusted values to `$set('srcset', value)`: \"{0}\"",value.toString());for(var result="",trimmedSrcset=trim(value),srcPattern=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,pattern=/\s/.test(trimmedSrcset)?srcPattern:/(,)/,rawUris=trimmedSrcset.split(pattern),nbrUrisWith2parts=Math.floor(rawUris.length/2),i=0;i<nbrUrisWith2parts;i++){var innerIdx=2*i;result+=$sce.getTrustedMediaUrl(trim(rawUris[innerIdx])),result+=" "+trim(rawUris[innerIdx+1])}var lastTuple=trim(rawUris[2*i]).split(/\s/);result+=$sce.getTrustedMediaUrl(trim(lastTuple[0])),2===lastTuple.length&&(result+=" "+trim(lastTuple[1])),this[key]=value=result}writeAttr!==!1&&(null===value||isUndefined(value)?this.$$element.removeAttr(attrName):SIMPLE_ATTR_NAME.test(attrName)?this.$$element.attr(attrName,value):setSpecialAttr(this.$$element[0],attrName,value));var $$observers=this.$$observers;$$observers&&forEach($$observers[observer],function(fn){try{fn(value)}catch(e){$exceptionHandler(e)}})},$observe:function(key,fn){var attrs=this,$$observers=attrs.$$observers||(attrs.$$observers=createMap()),listeners=$$observers[key]||($$observers[key]=[]);return listeners.push(fn),$rootScope.$evalAsync(function(){listeners.$$inter||!attrs.hasOwnProperty(key)||isUndefined(attrs[key])||fn(attrs[key])}),function(){arrayRemove(listeners,fn)}}};var startSymbol=$interpolate.startSymbol(),endSymbol=$interpolate.endSymbol(),denormalizeTemplate="{{"===startSymbol&&"}}"===endSymbol?identity:function(template){return template.replace(/\{\{/g,startSymbol).replace(/}}/g,endSymbol)},NG_ATTR_BINDING=/^ngAttr[A-Z]/,MULTI_ELEMENT_DIR_RE=/^(.+)Start$/;return compile.$$addBindingInfo=debugInfoEnabled?function($element,binding){var bindings=$element.data("$binding")||[];isArray(binding)?bindings=bindings.concat(binding):bindings.push(binding),$element.data("$binding",bindings)}:noop,compile.$$addBindingClass=debugInfoEnabled?function($element){safeAddClass($element,"ng-binding")}:noop,compile.$$addScopeInfo=debugInfoEnabled?function($element,scope,isolated,noTemplate){var dataName=isolated?noTemplate?"$isolateScopeNoTemplate":"$isolateScope":"$scope";$element.data(dataName,scope)}:noop,compile.$$addScopeClass=debugInfoEnabled?function($element,isolated){safeAddClass($element,isolated?"ng-isolate-scope":"ng-scope")}:noop,compile.$$createComment=function(directiveName,comment){var content="";return debugInfoEnabled&&(content=" "+(directiveName||"")+": ",comment&&(content+=comment+" ")),window.document.createComment(content)},compile}]}function SimpleChange(previous,current){this.previousValue=previous,this.currentValue=current}function directiveNormalize(name){return name.replace(PREFIX_REGEXP,"").replace(SPECIAL_CHARS_REGEXP,function(_,letter,offset){return offset?letter.toUpperCase():letter})}function tokenDifference(str1,str2){var values="",tokens1=str1.split(/\s+/),tokens2=str2.split(/\s+/);outer:for(var i=0;i<tokens1.length;i++){for(var token=tokens1[i],j=0;j<tokens2.length;j++)if(token===tokens2[j])continue outer;values+=(values.length>0?" ":"")+token}return values}function removeComments(jqNodes){jqNodes=jqLite(jqNodes);var i=jqNodes.length;if(i<=1)return jqNodes;for(;i--;){var node=jqNodes[i];(node.nodeType===NODE_TYPE_COMMENT||node.nodeType===NODE_TYPE_TEXT&&""===node.nodeValue.trim())&&splice.call(jqNodes,i,1)}return jqNodes}function identifierForController(controller,ident){if(ident&&isString(ident))return ident;if(isString(controller)){var match=CNTRL_REG.exec(controller);if(match)return match[3]}}function $ControllerProvider(){var controllers={};this.has=function(name){return controllers.hasOwnProperty(name)},this.register=function(name,constructor){assertNotHasOwnProperty(name,"controller"),isObject(name)?extend(controllers,name):controllers[name]=constructor},this.$get=["$injector",function($injector){function addIdentifier(locals,identifier,instance,name){if(!locals||!isObject(locals.$scope))throw minErr("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",name,identifier);locals.$scope[identifier]=instance}return function(expression,locals,later,ident){var instance,match,constructor,identifier;if(later=later===!0,ident&&isString(ident)&&(identifier=ident),isString(expression)){if(match=expression.match(CNTRL_REG),!match)throw $controllerMinErr("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",expression);if(constructor=match[1],identifier=identifier||match[3],expression=controllers.hasOwnProperty(constructor)?controllers[constructor]:getter(locals.$scope,constructor,!0),!expression)throw $controllerMinErr("ctrlreg","The controller with the name '{0}' is not registered.",constructor);assertArgFn(expression,constructor,!0)}if(later){var controllerPrototype=(isArray(expression)?expression[expression.length-1]:expression).prototype;return instance=Object.create(controllerPrototype||null),identifier&&addIdentifier(locals,identifier,instance,constructor||expression.name),extend(function(){var result=$injector.invoke(expression,instance,locals,constructor);return result!==instance&&(isObject(result)||isFunction(result))&&(instance=result,identifier&&addIdentifier(locals,identifier,instance,constructor||expression.name)),instance},{instance:instance,identifier:identifier})}return instance=$injector.instantiate(expression,locals,constructor),identifier&&addIdentifier(locals,identifier,instance,constructor||expression.name),instance}}]}function $DocumentProvider(){this.$get=["$window",function(window){return jqLite(window.document)}]}function $$IsDocumentHiddenProvider(){this.$get=["$document","$rootScope",function($document,$rootScope){function changeListener(){hidden=doc.hidden}var doc=$document[0],hidden=doc&&doc.hidden;return $document.on("visibilitychange",changeListener),$rootScope.$on("$destroy",function(){$document.off("visibilitychange",changeListener)}),function(){return hidden}}]}function $ExceptionHandlerProvider(){this.$get=["$log",function($log){return function(exception,cause){$log.error.apply($log,arguments)}}]}function serializeValue(v){return isObject(v)?isDate(v)?v.toISOString():toJson(v):v}function $HttpParamSerializerProvider(){this.$get=function(){return function(params){if(!params)return"";var parts=[];return forEachSorted(params,function(value,key){null===value||isUndefined(value)||isFunction(value)||(isArray(value)?forEach(value,function(v){parts.push(encodeUriQuery(key)+"="+encodeUriQuery(serializeValue(v)))}):parts.push(encodeUriQuery(key)+"="+encodeUriQuery(serializeValue(value))))}),parts.join("&")}}}function $HttpParamSerializerJQLikeProvider(){this.$get=function(){return function(params){function serialize(toSerialize,prefix,topLevel){isArray(toSerialize)?forEach(toSerialize,function(value,index){serialize(value,prefix+"["+(isObject(value)?index:"")+"]")}):isObject(toSerialize)&&!isDate(toSerialize)?forEachSorted(toSerialize,function(value,key){serialize(value,prefix+(topLevel?"":"[")+key+(topLevel?"":"]"))}):(isFunction(toSerialize)&&(toSerialize=toSerialize()),parts.push(encodeUriQuery(prefix)+"="+(null==toSerialize?"":encodeUriQuery(serializeValue(toSerialize)))))}if(!params)return"";var parts=[];return serialize(params,"",!0),parts.join("&")}}}function defaultHttpResponseTransform(data,headers){if(isString(data)){var tempData=data.replace(JSON_PROTECTION_PREFIX,"").trim();if(tempData){var contentType=headers("Content-Type"),hasJsonContentType=contentType&&0===contentType.indexOf(APPLICATION_JSON);if(hasJsonContentType||isJsonLike(tempData))try{data=fromJson(tempData)}catch(e){if(!hasJsonContentType)return data;throw $httpMinErr("baddata",'Data must be a valid JSON object. Received: "{0}". Parse error: "{1}"',data,e)}}}return data}function isJsonLike(str){var jsonStart=str.match(JSON_START);return jsonStart&&JSON_ENDS[jsonStart[0]].test(str)}function parseHeaders(headers){function fillInParsed(key,val){key&&(parsed[key]=parsed[key]?parsed[key]+", "+val:val)}var i,parsed=createMap();return isString(headers)?forEach(headers.split("\n"),function(line){i=line.indexOf(":"),fillInParsed(lowercase(trim(line.substr(0,i))),trim(line.substr(i+1)))}):isObject(headers)&&forEach(headers,function(headerVal,headerKey){fillInParsed(lowercase(headerKey),trim(headerVal))}),parsed}function headersGetter(headers){var headersObj;return function(name){if(headersObj||(headersObj=parseHeaders(headers)),name){var value=headersObj[lowercase(name)];return void 0===value&&(value=null),value}return headersObj}}function transformData(data,headers,status,fns){return isFunction(fns)?fns(data,headers,status):(forEach(fns,function(fn){data=fn(data,headers,status)}),data)}function isSuccess(status){return 200<=status&&status<300}function $HttpProvider(){var defaults=this.defaults={transformResponse:[defaultHttpResponseTransform],transformRequest:[function(d){return!isObject(d)||isFile(d)||isBlob(d)||isFormData(d)?d:toJson(d)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:shallowCopy(CONTENT_TYPE_APPLICATION_JSON),put:shallowCopy(CONTENT_TYPE_APPLICATION_JSON),patch:shallowCopy(CONTENT_TYPE_APPLICATION_JSON)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},useApplyAsync=!1;this.useApplyAsync=function(value){return isDefined(value)?(useApplyAsync=!!value,this):useApplyAsync};var interceptorFactories=this.interceptors=[],xsrfWhitelistedOrigins=this.xsrfWhitelistedOrigins=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function($browser,$httpBackend,$$cookieReader,$cacheFactory,$rootScope,$q,$injector,$sce){function $http(requestConfig){function chainInterceptors(promise,interceptors){for(var i=0,ii=interceptors.length;i<ii;){var thenFn=interceptors[i++],rejectFn=interceptors[i++];promise=promise.then(thenFn,rejectFn)}return interceptors.length=0,promise}function completeOutstandingRequest(){$browser.$$completeOutstandingRequest(noop)}function executeHeaderFns(headers,config){var headerContent,processedHeaders={};return forEach(headers,function(headerFn,header){isFunction(headerFn)?(headerContent=headerFn(config),null!=headerContent&&(processedHeaders[header]=headerContent)):processedHeaders[header]=headerFn}),processedHeaders}function mergeHeaders(config){var defHeaderName,lowercaseDefHeaderName,reqHeaderName,defHeaders=defaults.headers,reqHeaders=extend({},config.headers);defHeaders=extend({},defHeaders.common,defHeaders[lowercase(config.method)]);defaultHeadersIteration:for(defHeaderName in defHeaders){lowercaseDefHeaderName=lowercase(defHeaderName);for(reqHeaderName in reqHeaders)if(lowercase(reqHeaderName)===lowercaseDefHeaderName)continue defaultHeadersIteration;reqHeaders[defHeaderName]=defHeaders[defHeaderName]}return executeHeaderFns(reqHeaders,shallowCopy(config))}function serverRequest(config){var headers=config.headers,reqData=transformData(config.data,headersGetter(headers),void 0,config.transformRequest);return isUndefined(reqData)&&forEach(headers,function(value,header){"content-type"===lowercase(header)&&delete headers[header]}),isUndefined(config.withCredentials)&&!isUndefined(defaults.withCredentials)&&(config.withCredentials=defaults.withCredentials),sendReq(config,reqData).then(transformResponse,transformResponse)}function transformResponse(response){var resp=extend({},response);return resp.data=transformData(response.data,response.headers,response.status,config.transformResponse),isSuccess(response.status)?resp:$q.reject(resp)}if(!isObject(requestConfig))throw minErr("$http")("badreq","Http request configuration must be an object.  Received: {0}",requestConfig);if(!isString($sce.valueOf(requestConfig.url)))throw minErr("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",requestConfig.url);var config=extend({method:"get",transformRequest:defaults.transformRequest,transformResponse:defaults.transformResponse,paramSerializer:defaults.paramSerializer,jsonpCallbackParam:defaults.jsonpCallbackParam},requestConfig);config.headers=mergeHeaders(requestConfig),config.method=uppercase(config.method),config.paramSerializer=isString(config.paramSerializer)?$injector.get(config.paramSerializer):config.paramSerializer,$browser.$$incOutstandingRequestCount();var requestInterceptors=[],responseInterceptors=[],promise=$q.resolve(config);return forEach(reversedInterceptors,function(interceptor){(interceptor.request||interceptor.requestError)&&requestInterceptors.unshift(interceptor.request,interceptor.requestError),(interceptor.response||interceptor.responseError)&&responseInterceptors.push(interceptor.response,interceptor.responseError)}),promise=chainInterceptors(promise,requestInterceptors),promise=promise.then(serverRequest),promise=chainInterceptors(promise,responseInterceptors),promise=promise["finally"](completeOutstandingRequest)}function createShortMethods(names){forEach(arguments,function(name){$http[name]=function(url,config){return $http(extend({},config||{},{method:name,url:url}))}})}function createShortMethodsWithData(name){forEach(arguments,function(name){$http[name]=function(url,data,config){return $http(extend({},config||{},{method:name,url:url,data:data}))}})}function sendReq(config,reqData){function createApplyHandlers(eventHandlers){if(eventHandlers){var applyHandlers={};return forEach(eventHandlers,function(eventHandler,key){applyHandlers[key]=function(event){function callEventHandler(){eventHandler(event)}useApplyAsync?$rootScope.$applyAsync(callEventHandler):$rootScope.$$phase?callEventHandler():$rootScope.$apply(callEventHandler)}}),applyHandlers}}function done(status,response,headersString,statusText,xhrStatus){function resolveHttpPromise(){resolvePromise(response,status,headersString,statusText,xhrStatus)}cache&&(isSuccess(status)?cache.put(url,[status,response,parseHeaders(headersString),statusText,xhrStatus]):cache.remove(url)),useApplyAsync?$rootScope.$applyAsync(resolveHttpPromise):(resolveHttpPromise(),$rootScope.$$phase||$rootScope.$apply())}function resolvePromise(response,status,headers,statusText,xhrStatus){status=status>=-1?status:0,(isSuccess(status)?deferred.resolve:deferred.reject)({data:response,status:status,headers:headersGetter(headers),config:config,statusText:statusText,xhrStatus:xhrStatus})}function resolvePromiseWithResult(result){resolvePromise(result.data,result.status,shallowCopy(result.headers()),result.statusText,result.xhrStatus)}function removePendingReq(){var idx=$http.pendingRequests.indexOf(config);idx!==-1&&$http.pendingRequests.splice(idx,1)}var cache,cachedResp,deferred=$q.defer(),promise=deferred.promise,reqHeaders=config.headers,isJsonp="jsonp"===lowercase(config.method),url=config.url;if(isJsonp?url=$sce.getTrustedResourceUrl(url):isString(url)||(url=$sce.valueOf(url)),url=buildUrl(url,config.paramSerializer(config.params)),isJsonp&&(url=sanitizeJsonpCallbackParam(url,config.jsonpCallbackParam)),$http.pendingRequests.push(config),promise.then(removePendingReq,removePendingReq),!config.cache&&!defaults.cache||config.cache===!1||"GET"!==config.method&&"JSONP"!==config.method||(cache=isObject(config.cache)?config.cache:isObject(defaults.cache)?defaults.cache:defaultCache),cache&&(cachedResp=cache.get(url),isDefined(cachedResp)?isPromiseLike(cachedResp)?cachedResp.then(resolvePromiseWithResult,resolvePromiseWithResult):isArray(cachedResp)?resolvePromise(cachedResp[1],cachedResp[0],shallowCopy(cachedResp[2]),cachedResp[3],cachedResp[4]):resolvePromise(cachedResp,200,{},"OK","complete"):cache.put(url,promise)),isUndefined(cachedResp)){var xsrfValue=urlIsAllowedOrigin(config.url)?$$cookieReader()[config.xsrfCookieName||defaults.xsrfCookieName]:void 0;xsrfValue&&(reqHeaders[config.xsrfHeaderName||defaults.xsrfHeaderName]=xsrfValue),$httpBackend(config.method,url,reqData,done,reqHeaders,config.timeout,config.withCredentials,config.responseType,createApplyHandlers(config.eventHandlers),createApplyHandlers(config.uploadEventHandlers))}return promise}function buildUrl(url,serializedParams){return serializedParams.length>0&&(url+=(url.indexOf("?")===-1?"?":"&")+serializedParams),url}function sanitizeJsonpCallbackParam(url,cbKey){var parts=url.split("?");if(parts.length>2)throw $httpMinErr("badjsonp",'Illegal use more than one "?", in url, "{1}"',url);var params=parseKeyValue(parts[1]);return forEach(params,function(value,key){if("JSON_CALLBACK"===value)throw $httpMinErr("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',url);if(key===cbKey)throw $httpMinErr("badjsonp",'Illegal use of callback param, "{0}", in url, "{1}"',cbKey,url)}),url+=(url.indexOf("?")===-1?"?":"&")+cbKey+"=JSON_CALLBACK"}var defaultCache=$cacheFactory("$http");defaults.paramSerializer=isString(defaults.paramSerializer)?$injector.get(defaults.paramSerializer):defaults.paramSerializer;var reversedInterceptors=[];forEach(interceptorFactories,function(interceptorFactory){reversedInterceptors.unshift(isString(interceptorFactory)?$injector.get(interceptorFactory):$injector.invoke(interceptorFactory))});var urlIsAllowedOrigin=urlIsAllowedOriginFactory(xsrfWhitelistedOrigins);return $http.pendingRequests=[],createShortMethods("get","delete","head","jsonp"),createShortMethodsWithData("post","put","patch"),$http.defaults=defaults,$http}]}function $xhrFactoryProvider(){this.$get=function(){return function(){return new window.XMLHttpRequest}}}function $HttpBackendProvider(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function($browser,$jsonpCallbacks,$document,$xhrFactory){return createHttpBackend($browser,$xhrFactory,$browser.defer,$jsonpCallbacks,$document[0])}]}function createHttpBackend($browser,createXhr,$browserDefer,callbacks,rawDocument){function jsonpReq(url,callbackPath,done){url=url.replace("JSON_CALLBACK",callbackPath);var script=rawDocument.createElement("script"),callback=null;return script.type="text/javascript",script.src=url,script.async=!0,callback=function(event){script.removeEventListener("load",callback),script.removeEventListener("error",callback),rawDocument.body.removeChild(script),script=null;var status=-1,text="unknown";event&&("load"!==event.type||callbacks.wasCalled(callbackPath)||(event={type:"error"}),text=event.type,status="error"===event.type?404:200),done&&done(status,text)},script.addEventListener("load",callback),script.addEventListener("error",callback),rawDocument.body.appendChild(script),callback}return function(method,url,post,callback,headers,timeout,withCredentials,responseType,eventHandlers,uploadEventHandlers){function timeoutRequest(reason){abortedByTimeout="timeout"===reason,jsonpDone&&jsonpDone(),xhr&&xhr.abort()}function completeRequest(callback,status,response,headersString,statusText,xhrStatus){isDefined(timeoutId)&&$browserDefer.cancel(timeoutId),jsonpDone=xhr=null,callback(status,response,headersString,statusText,xhrStatus)}if(url=url||$browser.url(),"jsonp"===lowercase(method))var callbackPath=callbacks.createCallback(url),jsonpDone=jsonpReq(url,callbackPath,function(status,text){var response=200===status&&callbacks.getResponse(callbackPath);completeRequest(callback,status,response,"",text,"complete"),callbacks.removeCallback(callbackPath)});else{var xhr=createXhr(method,url),abortedByTimeout=!1;xhr.open(method,url,!0),forEach(headers,function(value,key){isDefined(value)&&xhr.setRequestHeader(key,value)}),xhr.onload=function(){var statusText=xhr.statusText||"",response="response"in xhr?xhr.response:xhr.responseText,status=1223===xhr.status?204:xhr.status;0===status&&(status=response?200:"file"===urlResolve(url).protocol?404:0),completeRequest(callback,status,response,xhr.getAllResponseHeaders(),statusText,"complete")};var requestError=function(){completeRequest(callback,-1,null,null,"","error")},requestAborted=function(){completeRequest(callback,-1,null,null,"",abortedByTimeout?"timeout":"abort")},requestTimeout=function(){completeRequest(callback,-1,null,null,"","timeout")};if(xhr.onerror=requestError,xhr.ontimeout=requestTimeout,xhr.onabort=requestAborted,forEach(eventHandlers,function(value,key){xhr.addEventListener(key,value)}),forEach(uploadEventHandlers,function(value,key){xhr.upload.addEventListener(key,value)}),withCredentials&&(xhr.withCredentials=!0),responseType)try{xhr.responseType=responseType}catch(e){if("json"!==responseType)throw e}xhr.send(isUndefined(post)?null:post)}if(timeout>0)var timeoutId=$browserDefer(function(){timeoutRequest("timeout")},timeout);else isPromiseLike(timeout)&&timeout.then(function(){timeoutRequest(isDefined(timeout.$$timeoutId)?"timeout":"abort")})}}function $InterpolateProvider(){var startSymbol="{{",endSymbol="}}";this.startSymbol=function(value){return value?(startSymbol=value,this):startSymbol},this.endSymbol=function(value){return value?(endSymbol=value,this):endSymbol},this.$get=["$parse","$exceptionHandler","$sce",function($parse,$exceptionHandler,$sce){function escape(ch){return"\\\\\\"+ch}function unescapeText(text){return text.replace(escapedStartRegexp,startSymbol).replace(escapedEndRegexp,endSymbol)}function constantWatchDelegate(scope,listener,objectEquality,constantInterp){var unwatch=scope.$watch(function(scope){return unwatch(),constantInterp(scope)},listener,objectEquality);return unwatch}function $interpolate(text,mustHaveExpression,trustedContext,allOrNothing){function parseStringifyInterceptor(value){try{return value=trustedContext&&!contextAllowsConcatenation?$sce.getTrusted(trustedContext,value):$sce.valueOf(value),allOrNothing&&!isDefined(value)?value:stringify(value)}catch(err){$exceptionHandler($interpolateMinErr.interr(text,err))}}var contextAllowsConcatenation=trustedContext===$sce.URL||trustedContext===$sce.MEDIA_URL;if(!text.length||text.indexOf(startSymbol)===-1){if(mustHaveExpression&&!contextAllowsConcatenation)return;var unescapedText=unescapeText(text);contextAllowsConcatenation&&(unescapedText=$sce.getTrusted(trustedContext,unescapedText));var constantInterp=valueFn(unescapedText);return constantInterp.exp=text,constantInterp.expressions=[],constantInterp.$$watchDelegate=constantWatchDelegate,constantInterp}allOrNothing=!!allOrNothing;for(var startIndex,endIndex,parseFns,exp,singleExpression,index=0,expressions=[],textLength=text.length,concat=[],expressionPositions=[];index<textLength;){if((startIndex=text.indexOf(startSymbol,index))===-1||(endIndex=text.indexOf(endSymbol,startIndex+startSymbolLength))===-1){index!==textLength&&concat.push(unescapeText(text.substring(index)));break}index!==startIndex&&concat.push(unescapeText(text.substring(index,startIndex))),exp=text.substring(startIndex+startSymbolLength,endIndex),expressions.push(exp),index=endIndex+endSymbolLength,expressionPositions.push(concat.length),concat.push("")}singleExpression=1===concat.length&&1===expressionPositions.length;var interceptor=contextAllowsConcatenation&&singleExpression?void 0:parseStringifyInterceptor;if(parseFns=expressions.map(function(exp){return $parse(exp,interceptor)}),!mustHaveExpression||expressions.length){var compute=function(values){for(var i=0,ii=expressions.length;i<ii;i++){if(allOrNothing&&isUndefined(values[i]))return;concat[expressionPositions[i]]=values[i]}return contextAllowsConcatenation?$sce.getTrusted(trustedContext,singleExpression?concat[0]:concat.join("")):(trustedContext&&concat.length>1&&$interpolateMinErr.throwNoconcat(text),concat.join(""))};return extend(function(context){var i=0,ii=expressions.length,values=new Array(ii);try{for(;i<ii;i++)values[i]=parseFns[i](context);return compute(values)}catch(err){$exceptionHandler($interpolateMinErr.interr(text,err))}},{exp:text,expressions:expressions,$$watchDelegate:function(scope,listener){var lastValue;return scope.$watchGroup(parseFns,function(values,oldValues){var currValue=compute(values);listener.call(this,currValue,values!==oldValues?lastValue:currValue,scope),lastValue=currValue})}})}}var startSymbolLength=startSymbol.length,endSymbolLength=endSymbol.length,escapedStartRegexp=new RegExp(startSymbol.replace(/./g,escape),"g"),escapedEndRegexp=new RegExp(endSymbol.replace(/./g,escape),"g");return $interpolate.startSymbol=function(){return startSymbol},$interpolate.endSymbol=function(){return endSymbol},$interpolate}]}function $IntervalProvider(){this.$get=["$rootScope","$window","$q","$$q","$browser",function($rootScope,$window,$q,$$q,$browser){function interval(fn,delay,count,invokeApply){function callback(){hasParams?fn.apply(null,args):fn(iteration)}var hasParams=arguments.length>4,args=hasParams?sliceArgs(arguments,4):[],setInterval=$window.setInterval,clearInterval=$window.clearInterval,iteration=0,skipApply=isDefined(invokeApply)&&!invokeApply,deferred=(skipApply?$$q:$q).defer(),promise=deferred.promise;return count=isDefined(count)?count:0,promise.$$intervalId=setInterval(function(){skipApply?$browser.defer(callback):$rootScope.$evalAsync(callback),deferred.notify(iteration++),count>0&&iteration>=count&&(deferred.resolve(iteration),clearInterval(promise.$$intervalId),delete intervals[promise.$$intervalId]),skipApply||$rootScope.$apply()},delay),intervals[promise.$$intervalId]=deferred,promise}var intervals={};return interval.cancel=function(promise){if(!promise)return!1;if(!promise.hasOwnProperty("$$intervalId"))throw $intervalMinErr("badprom","`$interval.cancel()` called with a promise that was not generated by `$interval()`.");if(!intervals.hasOwnProperty(promise.$$intervalId))return!1;var id=promise.$$intervalId,deferred=intervals[id];return markQExceptionHandled(deferred.promise),deferred.reject("canceled"),$window.clearInterval(id),delete intervals[id],!0},interval}]}function encodePath(path){for(var segments=path.split("/"),i=segments.length;i--;)segments[i]=encodeUriSegment(segments[i].replace(/%2F/g,"/"));return segments.join("/")}function decodePath(path,html5Mode){for(var segments=path.split("/"),i=segments.length;i--;)segments[i]=decodeURIComponent(segments[i]),html5Mode&&(segments[i]=segments[i].replace(/\//g,"%2F"));return segments.join("/")}function parseAbsoluteUrl(absoluteUrl,locationObj){var parsedUrl=urlResolve(absoluteUrl);locationObj.$$protocol=parsedUrl.protocol,locationObj.$$host=parsedUrl.hostname,locationObj.$$port=toInt(parsedUrl.port)||DEFAULT_PORTS[parsedUrl.protocol]||null}function parseAppUrl(url,locationObj,html5Mode){if(DOUBLE_SLASH_REGEX.test(url))throw $locationMinErr("badpath",'Invalid url "{0}".',url);var prefixed="/"!==url.charAt(0);prefixed&&(url="/"+url);var match=urlResolve(url),path=prefixed&&"/"===match.pathname.charAt(0)?match.pathname.substring(1):match.pathname;locationObj.$$path=decodePath(path,html5Mode),locationObj.$$search=parseKeyValue(match.search),locationObj.$$hash=decodeURIComponent(match.hash),locationObj.$$path&&"/"!==locationObj.$$path.charAt(0)&&(locationObj.$$path="/"+locationObj.$$path)}function startsWith(str,search){return str.slice(0,search.length)===search}function stripBaseUrl(base,url){if(startsWith(url,base))return url.substr(base.length)}function stripHash(url){var index=url.indexOf("#");return index===-1?url:url.substr(0,index)}function trimEmptyHash(url){return url.replace(/(#.+)|#$/,"$1")}function stripFile(url){return url.substr(0,stripHash(url).lastIndexOf("/")+1)}function serverBase(url){return url.substring(0,url.indexOf("/",url.indexOf("//")+2))}function LocationHtml5Url(appBase,appBaseNoFile,basePrefix){this.$$html5=!0,basePrefix=basePrefix||"",parseAbsoluteUrl(appBase,this),this.$$parse=function(url){var pathUrl=stripBaseUrl(appBaseNoFile,url);if(!isString(pathUrl))throw $locationMinErr("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',url,appBaseNoFile);
parseAppUrl(pathUrl,this,!0),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var search=toKeyValue(this.$$search),hash=this.$$hash?"#"+encodeUriSegment(this.$$hash):"";this.$$url=encodePath(this.$$path)+(search?"?"+search:"")+hash,this.$$absUrl=appBaseNoFile+this.$$url.substr(1),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(url,relHref){if(relHref&&"#"===relHref[0])return this.hash(relHref.slice(1)),!0;var appUrl,prevAppUrl,rewrittenUrl;return isDefined(appUrl=stripBaseUrl(appBase,url))?(prevAppUrl=appUrl,rewrittenUrl=basePrefix&&isDefined(appUrl=stripBaseUrl(basePrefix,appUrl))?appBaseNoFile+(stripBaseUrl("/",appUrl)||appUrl):appBase+prevAppUrl):isDefined(appUrl=stripBaseUrl(appBaseNoFile,url))?rewrittenUrl=appBaseNoFile+appUrl:appBaseNoFile===url+"/"&&(rewrittenUrl=appBaseNoFile),rewrittenUrl&&this.$$parse(rewrittenUrl),!!rewrittenUrl}}function LocationHashbangUrl(appBase,appBaseNoFile,hashPrefix){parseAbsoluteUrl(appBase,this),this.$$parse=function(url){function removeWindowsDriveName(path,url,base){var firstPathSegmentMatch,windowsFilePathExp=/^\/[A-Z]:(\/.*)/;return startsWith(url,base)&&(url=url.replace(base,"")),windowsFilePathExp.exec(url)?path:(firstPathSegmentMatch=windowsFilePathExp.exec(path),firstPathSegmentMatch?firstPathSegmentMatch[1]:path)}var withoutHashUrl,withoutBaseUrl=stripBaseUrl(appBase,url)||stripBaseUrl(appBaseNoFile,url);isUndefined(withoutBaseUrl)||"#"!==withoutBaseUrl.charAt(0)?this.$$html5?withoutHashUrl=withoutBaseUrl:(withoutHashUrl="",isUndefined(withoutBaseUrl)&&(appBase=url,this.replace())):(withoutHashUrl=stripBaseUrl(hashPrefix,withoutBaseUrl),isUndefined(withoutHashUrl)&&(withoutHashUrl=withoutBaseUrl)),parseAppUrl(withoutHashUrl,this,!1),this.$$path=removeWindowsDriveName(this.$$path,withoutHashUrl,appBase),this.$$compose()},this.$$compose=function(){var search=toKeyValue(this.$$search),hash=this.$$hash?"#"+encodeUriSegment(this.$$hash):"";this.$$url=encodePath(this.$$path)+(search?"?"+search:"")+hash,this.$$absUrl=appBase+(this.$$url?hashPrefix+this.$$url:""),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(url,relHref){return stripHash(appBase)===stripHash(url)&&(this.$$parse(url),!0)}}function LocationHashbangInHtml5Url(appBase,appBaseNoFile,hashPrefix){this.$$html5=!0,LocationHashbangUrl.apply(this,arguments),this.$$parseLinkUrl=function(url,relHref){if(relHref&&"#"===relHref[0])return this.hash(relHref.slice(1)),!0;var rewrittenUrl,appUrl;return appBase===stripHash(url)?rewrittenUrl=url:(appUrl=stripBaseUrl(appBaseNoFile,url))?rewrittenUrl=appBase+hashPrefix+appUrl:appBaseNoFile===url+"/"&&(rewrittenUrl=appBaseNoFile),rewrittenUrl&&this.$$parse(rewrittenUrl),!!rewrittenUrl},this.$$compose=function(){var search=toKeyValue(this.$$search),hash=this.$$hash?"#"+encodeUriSegment(this.$$hash):"";this.$$url=encodePath(this.$$path)+(search?"?"+search:"")+hash,this.$$absUrl=appBase+hashPrefix+this.$$url,this.$$urlUpdatedByLocation=!0}}function locationGetter(property){return function(){return this[property]}}function locationGetterSetter(property,preprocess){return function(value){return isUndefined(value)?this[property]:(this[property]=preprocess(value),this.$$compose(),this)}}function $LocationProvider(){var hashPrefix="!",html5Mode={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(prefix){return isDefined(prefix)?(hashPrefix=prefix,this):hashPrefix},this.html5Mode=function(mode){return isBoolean(mode)?(html5Mode.enabled=mode,this):isObject(mode)?(isBoolean(mode.enabled)&&(html5Mode.enabled=mode.enabled),isBoolean(mode.requireBase)&&(html5Mode.requireBase=mode.requireBase),(isBoolean(mode.rewriteLinks)||isString(mode.rewriteLinks))&&(html5Mode.rewriteLinks=mode.rewriteLinks),this):html5Mode},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function($rootScope,$browser,$sniffer,$rootElement,$window){function setBrowserUrlWithFallback(url,replace,state){var oldUrl=$location.url(),oldState=$location.$$state;try{$browser.url(url,replace,state),$location.$$state=$browser.state()}catch(e){throw $location.url(oldUrl),$location.$$state=oldState,e}}function afterLocationChange(oldUrl,oldState){$rootScope.$broadcast("$locationChangeSuccess",$location.absUrl(),oldUrl,$location.$$state,oldState)}var $location,LocationMode,appBase,baseHref=$browser.baseHref(),initialUrl=$browser.url();if(html5Mode.enabled){if(!baseHref&&html5Mode.requireBase)throw $locationMinErr("nobase","$location in HTML5 mode requires a <base> tag to be present!");appBase=serverBase(initialUrl)+(baseHref||"/"),LocationMode=$sniffer.history?LocationHtml5Url:LocationHashbangInHtml5Url}else appBase=stripHash(initialUrl),LocationMode=LocationHashbangUrl;var appBaseNoFile=stripFile(appBase);$location=new LocationMode(appBase,appBaseNoFile,"#"+hashPrefix),$location.$$parseLinkUrl(initialUrl,initialUrl),$location.$$state=$browser.state();var IGNORE_URI_REGEXP=/^\s*(javascript|mailto):/i;$rootElement.on("click",function(event){var rewriteLinks=html5Mode.rewriteLinks;if(rewriteLinks&&!event.ctrlKey&&!event.metaKey&&!event.shiftKey&&2!==event.which&&2!==event.button){for(var elm=jqLite(event.target);"a"!==nodeName_(elm[0]);)if(elm[0]===$rootElement[0]||!(elm=elm.parent())[0])return;if(!isString(rewriteLinks)||!isUndefined(elm.attr(rewriteLinks))){var absHref=elm.prop("href"),relHref=elm.attr("href")||elm.attr("xlink:href");isObject(absHref)&&"[object SVGAnimatedString]"===absHref.toString()&&(absHref=urlResolve(absHref.animVal).href),IGNORE_URI_REGEXP.test(absHref)||!absHref||elm.attr("target")||event.isDefaultPrevented()||$location.$$parseLinkUrl(absHref,relHref)&&(event.preventDefault(),$location.absUrl()!==$browser.url()&&$rootScope.$apply())}}}),trimEmptyHash($location.absUrl())!==trimEmptyHash(initialUrl)&&$browser.url($location.absUrl(),!0);var initializing=!0;return $browser.onUrlChange(function(newUrl,newState){return startsWith(newUrl,appBaseNoFile)?($rootScope.$evalAsync(function(){var defaultPrevented,oldUrl=$location.absUrl(),oldState=$location.$$state;newUrl=trimEmptyHash(newUrl),$location.$$parse(newUrl),$location.$$state=newState,defaultPrevented=$rootScope.$broadcast("$locationChangeStart",newUrl,oldUrl,newState,oldState).defaultPrevented,$location.absUrl()===newUrl&&(defaultPrevented?($location.$$parse(oldUrl),$location.$$state=oldState,setBrowserUrlWithFallback(oldUrl,!1,oldState)):(initializing=!1,afterLocationChange(oldUrl,oldState)))}),void($rootScope.$$phase||$rootScope.$digest())):void($window.location.href=newUrl)}),$rootScope.$watch(function(){if(initializing||$location.$$urlUpdatedByLocation){$location.$$urlUpdatedByLocation=!1;var oldUrl=trimEmptyHash($browser.url()),newUrl=trimEmptyHash($location.absUrl()),oldState=$browser.state(),currentReplace=$location.$$replace,urlOrStateChanged=oldUrl!==newUrl||$location.$$html5&&$sniffer.history&&oldState!==$location.$$state;(initializing||urlOrStateChanged)&&(initializing=!1,$rootScope.$evalAsync(function(){var newUrl=$location.absUrl(),defaultPrevented=$rootScope.$broadcast("$locationChangeStart",newUrl,oldUrl,$location.$$state,oldState).defaultPrevented;$location.absUrl()===newUrl&&(defaultPrevented?($location.$$parse(oldUrl),$location.$$state=oldState):(urlOrStateChanged&&setBrowserUrlWithFallback(newUrl,currentReplace,oldState===$location.$$state?null:$location.$$state),afterLocationChange(oldUrl,oldState)))}))}$location.$$replace=!1}),$location}]}function $LogProvider(){var debug=!0,self=this;this.debugEnabled=function(flag){return isDefined(flag)?(debug=flag,this):debug},this.$get=["$window",function($window){function formatError(arg){return isError(arg)&&(arg.stack&&formatStackTrace?arg=arg.message&&arg.stack.indexOf(arg.message)===-1?"Error: "+arg.message+"\n"+arg.stack:arg.stack:arg.sourceURL&&(arg=arg.message+"\n"+arg.sourceURL+":"+arg.line)),arg}function consoleLog(type){var console=$window.console||{},logFn=console[type]||console.log||noop;return function(){var args=[];return forEach(arguments,function(arg){args.push(formatError(arg))}),Function.prototype.apply.call(logFn,console,args)}}var formatStackTrace=msie||/\bEdge\//.test($window.navigator&&$window.navigator.userAgent);return{log:consoleLog("log"),info:consoleLog("info"),warn:consoleLog("warn"),error:consoleLog("error"),debug:function(){var fn=consoleLog("debug");return function(){debug&&fn.apply(self,arguments)}}()}}]}function getStringValue(name){return name+""}function ifDefined(v,d){return"undefined"!=typeof v?v:d}function plusFn(l,r){return"undefined"==typeof l?r:"undefined"==typeof r?l:l+r}function isStateless($filter,filterName){var fn=$filter(filterName);return!fn.$stateful}function isPure(node,parentIsPure){switch(node.type){case AST.MemberExpression:if(node.computed)return!1;break;case AST.UnaryExpression:return PURITY_ABSOLUTE;case AST.BinaryExpression:return"+"!==node.operator&&PURITY_ABSOLUTE;case AST.CallExpression:return!1}return void 0===parentIsPure?PURITY_RELATIVE:parentIsPure}function findConstantAndWatchExpressions(ast,$filter,parentIsPure){var allConstants,argsToWatch,isStatelessFilter,astIsPure=ast.isPure=isPure(ast,parentIsPure);switch(ast.type){case AST.Program:allConstants=!0,forEach(ast.body,function(expr){findConstantAndWatchExpressions(expr.expression,$filter,astIsPure),allConstants=allConstants&&expr.expression.constant}),ast.constant=allConstants;break;case AST.Literal:ast.constant=!0,ast.toWatch=[];break;case AST.UnaryExpression:findConstantAndWatchExpressions(ast.argument,$filter,astIsPure),ast.constant=ast.argument.constant,ast.toWatch=ast.argument.toWatch;break;case AST.BinaryExpression:findConstantAndWatchExpressions(ast.left,$filter,astIsPure),findConstantAndWatchExpressions(ast.right,$filter,astIsPure),ast.constant=ast.left.constant&&ast.right.constant,ast.toWatch=ast.left.toWatch.concat(ast.right.toWatch);break;case AST.LogicalExpression:findConstantAndWatchExpressions(ast.left,$filter,astIsPure),findConstantAndWatchExpressions(ast.right,$filter,astIsPure),ast.constant=ast.left.constant&&ast.right.constant,ast.toWatch=ast.constant?[]:[ast];break;case AST.ConditionalExpression:findConstantAndWatchExpressions(ast.test,$filter,astIsPure),findConstantAndWatchExpressions(ast.alternate,$filter,astIsPure),findConstantAndWatchExpressions(ast.consequent,$filter,astIsPure),ast.constant=ast.test.constant&&ast.alternate.constant&&ast.consequent.constant,ast.toWatch=ast.constant?[]:[ast];break;case AST.Identifier:ast.constant=!1,ast.toWatch=[ast];break;case AST.MemberExpression:findConstantAndWatchExpressions(ast.object,$filter,astIsPure),ast.computed&&findConstantAndWatchExpressions(ast.property,$filter,astIsPure),ast.constant=ast.object.constant&&(!ast.computed||ast.property.constant),ast.toWatch=ast.constant?[]:[ast];break;case AST.CallExpression:isStatelessFilter=!!ast.filter&&isStateless($filter,ast.callee.name),allConstants=isStatelessFilter,argsToWatch=[],forEach(ast.arguments,function(expr){findConstantAndWatchExpressions(expr,$filter,astIsPure),allConstants=allConstants&&expr.constant,argsToWatch.push.apply(argsToWatch,expr.toWatch)}),ast.constant=allConstants,ast.toWatch=isStatelessFilter?argsToWatch:[ast];break;case AST.AssignmentExpression:findConstantAndWatchExpressions(ast.left,$filter,astIsPure),findConstantAndWatchExpressions(ast.right,$filter,astIsPure),ast.constant=ast.left.constant&&ast.right.constant,ast.toWatch=[ast];break;case AST.ArrayExpression:allConstants=!0,argsToWatch=[],forEach(ast.elements,function(expr){findConstantAndWatchExpressions(expr,$filter,astIsPure),allConstants=allConstants&&expr.constant,argsToWatch.push.apply(argsToWatch,expr.toWatch)}),ast.constant=allConstants,ast.toWatch=argsToWatch;break;case AST.ObjectExpression:allConstants=!0,argsToWatch=[],forEach(ast.properties,function(property){findConstantAndWatchExpressions(property.value,$filter,astIsPure),allConstants=allConstants&&property.value.constant,argsToWatch.push.apply(argsToWatch,property.value.toWatch),property.computed&&(findConstantAndWatchExpressions(property.key,$filter,!1),allConstants=allConstants&&property.key.constant,argsToWatch.push.apply(argsToWatch,property.key.toWatch))}),ast.constant=allConstants,ast.toWatch=argsToWatch;break;case AST.ThisExpression:ast.constant=!1,ast.toWatch=[];break;case AST.LocalsExpression:ast.constant=!1,ast.toWatch=[]}}function getInputs(body){if(1===body.length){var lastExpression=body[0].expression,candidate=lastExpression.toWatch;return 1!==candidate.length?candidate:candidate[0]!==lastExpression?candidate:void 0}}function isAssignable(ast){return ast.type===AST.Identifier||ast.type===AST.MemberExpression}function assignableAST(ast){if(1===ast.body.length&&isAssignable(ast.body[0].expression))return{type:AST.AssignmentExpression,left:ast.body[0].expression,right:{type:AST.NGValueParameter},operator:"="}}function isLiteral(ast){return 0===ast.body.length||1===ast.body.length&&(ast.body[0].expression.type===AST.Literal||ast.body[0].expression.type===AST.ArrayExpression||ast.body[0].expression.type===AST.ObjectExpression)}function isConstant(ast){return ast.constant}function ASTCompiler($filter){this.$filter=$filter}function ASTInterpreter($filter){this.$filter=$filter}function Parser(lexer,$filter,options){this.ast=new AST(lexer,options),this.astCompiler=options.csp?new ASTInterpreter($filter):new ASTCompiler($filter)}function getValueOf(value){return isFunction(value.valueOf)?value.valueOf():objectValueOf.call(value)}function $ParseProvider(){var identStart,identContinue,cache=createMap(),literals={"true":!0,"false":!1,"null":null,undefined:void 0};this.addLiteral=function(literalName,literalValue){literals[literalName]=literalValue},this.setIdentifierFns=function(identifierStart,identifierContinue){return identStart=identifierStart,identContinue=identifierContinue,this},this.$get=["$filter",function($filter){function $parse(exp,interceptorFn){var parsedExpression,cacheKey;switch(typeof exp){case"string":if(exp=exp.trim(),cacheKey=exp,parsedExpression=cache[cacheKey],!parsedExpression){var lexer=new Lexer($parseOptions),parser=new Parser(lexer,$filter,$parseOptions);parsedExpression=parser.parse(exp),cache[cacheKey]=addWatchDelegate(parsedExpression)}return addInterceptor(parsedExpression,interceptorFn);case"function":return addInterceptor(exp,interceptorFn);default:return addInterceptor(noop,interceptorFn)}}function $$getAst(exp){var lexer=new Lexer($parseOptions),parser=new Parser(lexer,$filter,$parseOptions);return parser.getAst(exp).ast}function expressionInputDirtyCheck(newValue,oldValueOfValue,compareObjectIdentity){return null==newValue||null==oldValueOfValue?newValue===oldValueOfValue:!("object"==typeof newValue&&(newValue=getValueOf(newValue),"object"==typeof newValue&&!compareObjectIdentity))&&(newValue===oldValueOfValue||newValue!==newValue&&oldValueOfValue!==oldValueOfValue)}function inputsWatchDelegate(scope,listener,objectEquality,parsedExpression,prettyPrintExpression){var lastResult,inputExpressions=parsedExpression.inputs;if(1===inputExpressions.length){var oldInputValueOf=expressionInputDirtyCheck;return inputExpressions=inputExpressions[0],scope.$watch(function(scope){var newInputValue=inputExpressions(scope);return expressionInputDirtyCheck(newInputValue,oldInputValueOf,inputExpressions.isPure)||(lastResult=parsedExpression(scope,void 0,void 0,[newInputValue]),oldInputValueOf=newInputValue&&getValueOf(newInputValue)),lastResult},listener,objectEquality,prettyPrintExpression)}for(var oldInputValueOfValues=[],oldInputValues=[],i=0,ii=inputExpressions.length;i<ii;i++)oldInputValueOfValues[i]=expressionInputDirtyCheck,oldInputValues[i]=null;return scope.$watch(function(scope){for(var changed=!1,i=0,ii=inputExpressions.length;i<ii;i++){var newInputValue=inputExpressions[i](scope);(changed||(changed=!expressionInputDirtyCheck(newInputValue,oldInputValueOfValues[i],inputExpressions[i].isPure)))&&(oldInputValues[i]=newInputValue,oldInputValueOfValues[i]=newInputValue&&getValueOf(newInputValue))}return changed&&(lastResult=parsedExpression(scope,void 0,void 0,oldInputValues)),lastResult},listener,objectEquality,prettyPrintExpression)}function oneTimeWatchDelegate(scope,listener,objectEquality,parsedExpression,prettyPrintExpression){function unwatchIfDone(){isDone(lastValue)&&unwatch()}function oneTimeWatch(scope,locals,assign,inputs){return lastValue=useInputs&&inputs?inputs[0]:exp(scope,locals,assign,inputs),isDone(lastValue)&&scope.$$postDigest(unwatchIfDone),post(lastValue)}var unwatch,lastValue,isDone=parsedExpression.literal?isAllDefined:isDefined,exp=parsedExpression.$$intercepted||parsedExpression,post=parsedExpression.$$interceptor||identity,useInputs=parsedExpression.inputs&&!exp.inputs;return oneTimeWatch.literal=parsedExpression.literal,oneTimeWatch.constant=parsedExpression.constant,oneTimeWatch.inputs=parsedExpression.inputs,addWatchDelegate(oneTimeWatch),unwatch=scope.$watch(oneTimeWatch,listener,objectEquality,prettyPrintExpression)}function isAllDefined(value){var allDefined=!0;return forEach(value,function(val){isDefined(val)||(allDefined=!1)}),allDefined}function constantWatchDelegate(scope,listener,objectEquality,parsedExpression){var unwatch=scope.$watch(function(scope){return unwatch(),parsedExpression(scope)},listener,objectEquality);return unwatch}function addWatchDelegate(parsedExpression){return parsedExpression.constant?parsedExpression.$$watchDelegate=constantWatchDelegate:parsedExpression.oneTime?parsedExpression.$$watchDelegate=oneTimeWatchDelegate:parsedExpression.inputs&&(parsedExpression.$$watchDelegate=inputsWatchDelegate),parsedExpression}function chainInterceptors(first,second){function chainedInterceptor(value){return second(first(value))}return chainedInterceptor.$stateful=first.$stateful||second.$stateful,chainedInterceptor.$$pure=first.$$pure&&second.$$pure,chainedInterceptor}function addInterceptor(parsedExpression,interceptorFn){if(!interceptorFn)return parsedExpression;parsedExpression.$$interceptor&&(interceptorFn=chainInterceptors(parsedExpression.$$interceptor,interceptorFn),parsedExpression=parsedExpression.$$intercepted);var useInputs=!1,fn=function(scope,locals,assign,inputs){var value=useInputs&&inputs?inputs[0]:parsedExpression(scope,locals,assign,inputs);return interceptorFn(value)};return fn.$$intercepted=parsedExpression,fn.$$interceptor=interceptorFn,fn.literal=parsedExpression.literal,fn.oneTime=parsedExpression.oneTime,fn.constant=parsedExpression.constant,interceptorFn.$stateful||(useInputs=!parsedExpression.inputs,fn.inputs=parsedExpression.inputs?parsedExpression.inputs:[parsedExpression],interceptorFn.$$pure||(fn.inputs=fn.inputs.map(function(e){return e.isPure===PURITY_RELATIVE?function(s){return e(s)}:e}))),addWatchDelegate(fn)}var noUnsafeEval=csp().noUnsafeEval,$parseOptions={csp:noUnsafeEval,literals:copy(literals),isIdentifierStart:isFunction(identStart)&&identStart,isIdentifierContinue:isFunction(identContinue)&&identContinue};return $parse.$$getAst=$$getAst,$parse}]}function $QProvider(){var errorOnUnhandledRejections=!0;this.$get=["$rootScope","$exceptionHandler",function($rootScope,$exceptionHandler){return qFactory(function(callback){$rootScope.$evalAsync(callback)},$exceptionHandler,errorOnUnhandledRejections)}],this.errorOnUnhandledRejections=function(value){return isDefined(value)?(errorOnUnhandledRejections=value,this):errorOnUnhandledRejections}}function $$QProvider(){var errorOnUnhandledRejections=!0;this.$get=["$browser","$exceptionHandler",function($browser,$exceptionHandler){return qFactory(function(callback){$browser.defer(callback)},$exceptionHandler,errorOnUnhandledRejections)}],this.errorOnUnhandledRejections=function(value){return isDefined(value)?(errorOnUnhandledRejections=value,this):errorOnUnhandledRejections}}function qFactory(nextTick,exceptionHandler,errorOnUnhandledRejections){function defer(){return new Deferred}function Deferred(){var promise=this.promise=new Promise;this.resolve=function(val){resolvePromise(promise,val)},this.reject=function(reason){rejectPromise(promise,reason)},this.notify=function(progress){notifyPromise(promise,progress)}}function Promise(){this.$$state={status:0}}function processQueue(state){var fn,promise,pending;pending=state.pending,state.processScheduled=!1,state.pending=void 0;try{for(var i=0,ii=pending.length;i<ii;++i){markQStateExceptionHandled(state),promise=pending[i][0],fn=pending[i][state.status];try{isFunction(fn)?resolvePromise(promise,fn(state.value)):1===state.status?resolvePromise(promise,state.value):rejectPromise(promise,state.value)}catch(e){rejectPromise(promise,e),e&&e.$$passToExceptionHandler===!0&&exceptionHandler(e)}}}finally{--queueSize,errorOnUnhandledRejections&&0===queueSize&&nextTick(processChecks)}}function processChecks(){for(;!queueSize&&checkQueue.length;){var toCheck=checkQueue.shift();if(!isStateExceptionHandled(toCheck)){markQStateExceptionHandled(toCheck);var errorMessage="Possibly unhandled rejection: "+toDebugString(toCheck.value);isError(toCheck.value)?exceptionHandler(toCheck.value,errorMessage):exceptionHandler(errorMessage)}}}function scheduleProcessQueue(state){!errorOnUnhandledRejections||state.pending||2!==state.status||isStateExceptionHandled(state)||(0===queueSize&&0===checkQueue.length&&nextTick(processChecks),checkQueue.push(state)),!state.processScheduled&&state.pending&&(state.processScheduled=!0,++queueSize,nextTick(function(){processQueue(state)}))}function resolvePromise(promise,val){promise.$$state.status||(val===promise?$$reject(promise,$qMinErr("qcycle","Expected promise to be resolved with value other than itself '{0}'",val)):$$resolve(promise,val))}function $$resolve(promise,val){function doResolve(val){done||(done=!0,$$resolve(promise,val))}function doReject(val){done||(done=!0,$$reject(promise,val))}function doNotify(progress){notifyPromise(promise,progress)}var then,done=!1;try{(isObject(val)||isFunction(val))&&(then=val.then),isFunction(then)?(promise.$$state.status=-1,then.call(val,doResolve,doReject,doNotify)):(promise.$$state.value=val,promise.$$state.status=1,scheduleProcessQueue(promise.$$state))}catch(e){doReject(e)}}function rejectPromise(promise,reason){promise.$$state.status||$$reject(promise,reason)}function $$reject(promise,reason){promise.$$state.value=reason,promise.$$state.status=2,scheduleProcessQueue(promise.$$state)}function notifyPromise(promise,progress){var callbacks=promise.$$state.pending;promise.$$state.status<=0&&callbacks&&callbacks.length&&nextTick(function(){for(var callback,result,i=0,ii=callbacks.length;i<ii;i++){result=callbacks[i][0],callback=callbacks[i][3];try{notifyPromise(result,isFunction(callback)?callback(progress):progress)}catch(e){exceptionHandler(e)}}})}function reject(reason){var result=new Promise;return rejectPromise(result,reason),result}function handleCallback(value,resolver,callback){var callbackOutput=null;try{isFunction(callback)&&(callbackOutput=callback())}catch(e){return reject(e)}return isPromiseLike(callbackOutput)?callbackOutput.then(function(){return resolver(value)},reject):resolver(value)}function when(value,callback,errback,progressBack){var result=new Promise;return resolvePromise(result,value),result.then(callback,errback,progressBack)}function all(promises){var result=new Promise,counter=0,results=isArray(promises)?[]:{};return forEach(promises,function(promise,key){counter++,when(promise).then(function(value){results[key]=value,--counter||resolvePromise(result,results)},function(reason){rejectPromise(result,reason)})}),0===counter&&resolvePromise(result,results),result}function race(promises){var deferred=defer();return forEach(promises,function(promise){when(promise).then(deferred.resolve,deferred.reject)}),deferred.promise}function $Q(resolver){function resolveFn(value){resolvePromise(promise,value)}function rejectFn(reason){rejectPromise(promise,reason)}if(!isFunction(resolver))throw $qMinErr("norslvr","Expected resolverFn, got '{0}'",resolver);var promise=new Promise;return resolver(resolveFn,rejectFn),promise}var $qMinErr=minErr("$q",TypeError),queueSize=0,checkQueue=[];extend(Promise.prototype,{then:function(onFulfilled,onRejected,progressBack){if(isUndefined(onFulfilled)&&isUndefined(onRejected)&&isUndefined(progressBack))return this;var result=new Promise;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([result,onFulfilled,onRejected,progressBack]),this.$$state.status>0&&scheduleProcessQueue(this.$$state),result},"catch":function(callback){return this.then(null,callback)},"finally":function(callback,progressBack){return this.then(function(value){return handleCallback(value,resolve,callback)},function(error){return handleCallback(error,reject,callback)},progressBack)}});var resolve=when;return $Q.prototype=Promise.prototype,$Q.defer=defer,$Q.reject=reject,$Q.when=when,$Q.resolve=resolve,$Q.all=all,$Q.race=race,$Q}function isStateExceptionHandled(state){return!!state.pur}function markQStateExceptionHandled(state){state.pur=!0}function markQExceptionHandled(q){markQStateExceptionHandled(q.$$state)}function $$RAFProvider(){this.$get=["$window","$timeout",function($window,$timeout){var requestAnimationFrame=$window.requestAnimationFrame||$window.webkitRequestAnimationFrame,cancelAnimationFrame=$window.cancelAnimationFrame||$window.webkitCancelAnimationFrame||$window.webkitCancelRequestAnimationFrame,rafSupported=!!requestAnimationFrame,raf=rafSupported?function(fn){var id=requestAnimationFrame(fn);return function(){cancelAnimationFrame(id)}}:function(fn){var timer=$timeout(fn,16.66,!1);return function(){$timeout.cancel(timer)}};return raf.supported=rafSupported,raf}]}function $RootScopeProvider(){function createChildScopeClass(parent){function ChildScope(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=nextUid(),this.$$ChildScope=null,this.$$suspended=!1}return ChildScope.prototype=parent,ChildScope}var TTL=10,$rootScopeMinErr=minErr("$rootScope"),lastDirtyWatch=null,applyAsyncId=null;this.digestTtl=function(value){return arguments.length&&(TTL=value),TTL},this.$get=["$exceptionHandler","$parse","$browser",function($exceptionHandler,$parse,$browser){function destroyChildScope($event){$event.currentScope.$$destroyed=!0}function cleanUpScope($scope){9===msie&&($scope.$$childHead&&cleanUpScope($scope.$$childHead),$scope.$$nextSibling&&cleanUpScope($scope.$$nextSibling)),$scope.$parent=$scope.$$nextSibling=$scope.$$prevSibling=$scope.$$childHead=$scope.$$childTail=$scope.$root=$scope.$$watchers=null}function Scope(){this.$id=nextUid(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$suspended=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function beginPhase(phase){if($rootScope.$$phase)throw $rootScopeMinErr("inprog","{0} already in progress",$rootScope.$$phase);$rootScope.$$phase=phase}function clearPhase(){$rootScope.$$phase=null}function incrementWatchersCount(current,count){do current.$$watchersCount+=count;while(current=current.$parent)}function decrementListenerCount(current,count,name){do current.$$listenerCount[name]-=count,0===current.$$listenerCount[name]&&delete current.$$listenerCount[name];while(current=current.$parent)}function initWatchVal(){}function flushApplyAsync(){for(;applyAsyncQueue.length;)try{applyAsyncQueue.shift()()}catch(e){$exceptionHandler(e)}applyAsyncId=null}function scheduleApplyAsync(){null===applyAsyncId&&(applyAsyncId=$browser.defer(function(){$rootScope.$apply(flushApplyAsync)}))}Scope.prototype={constructor:Scope,$new:function(isolate,parent){var child;return parent=parent||this,isolate?(child=new Scope,child.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=createChildScopeClass(this)),child=new this.$$ChildScope),child.$parent=parent,child.$$prevSibling=parent.$$childTail,parent.$$childHead?(parent.$$childTail.$$nextSibling=child,parent.$$childTail=child):parent.$$childHead=parent.$$childTail=child,(isolate||parent!==this)&&child.$on("$destroy",destroyChildScope),child},$watch:function(watchExp,listener,objectEquality,prettyPrintExpression){var get=$parse(watchExp),fn=isFunction(listener)?listener:noop;if(get.$$watchDelegate)return get.$$watchDelegate(this,fn,objectEquality,get,watchExp);var scope=this,array=scope.$$watchers,watcher={fn:fn,last:initWatchVal,get:get,exp:prettyPrintExpression||watchExp,eq:!!objectEquality};return lastDirtyWatch=null,array||(array=scope.$$watchers=[],array.$$digestWatchIndex=-1),array.unshift(watcher),array.$$digestWatchIndex++,incrementWatchersCount(this,1),function(){var index=arrayRemove(array,watcher);index>=0&&(incrementWatchersCount(scope,-1),index<array.$$digestWatchIndex&&array.$$digestWatchIndex--),lastDirtyWatch=null}},$watchGroup:function(watchExpressions,listener){function watchGroupAction(){changeReactionScheduled=!1;try{firstRun?(firstRun=!1,listener(newValues,newValues,self)):listener(newValues,oldValues,self)}finally{for(var i=0;i<watchExpressions.length;i++)oldValues[i]=newValues[i]}}var oldValues=new Array(watchExpressions.length),newValues=new Array(watchExpressions.length),deregisterFns=[],self=this,changeReactionScheduled=!1,firstRun=!0;if(!watchExpressions.length){var shouldCall=!0;return self.$evalAsync(function(){shouldCall&&listener(newValues,newValues,self)}),function(){shouldCall=!1}}return 1===watchExpressions.length?this.$watch(watchExpressions[0],function(value,oldValue,scope){newValues[0]=value,oldValues[0]=oldValue,listener(newValues,value===oldValue?newValues:oldValues,scope)}):(forEach(watchExpressions,function(expr,i){var unwatchFn=self.$watch(expr,function(value){newValues[i]=value,changeReactionScheduled||(changeReactionScheduled=!0,self.$evalAsync(watchGroupAction))});deregisterFns.push(unwatchFn)}),function(){for(;deregisterFns.length;)deregisterFns.shift()()})},$watchCollection:function(obj,listener){function $watchCollectionInterceptor(_value){newValue=_value;var newLength,key,bothNaN,newItem,oldItem;if(!isUndefined(newValue)){if(isObject(newValue))if(isArrayLike(newValue)){oldValue!==internalArray&&(oldValue=internalArray,oldLength=oldValue.length=0,changeDetected++),newLength=newValue.length,oldLength!==newLength&&(changeDetected++,oldValue.length=oldLength=newLength);for(var i=0;i<newLength;i++)oldItem=oldValue[i],newItem=newValue[i],bothNaN=oldItem!==oldItem&&newItem!==newItem,bothNaN||oldItem===newItem||(changeDetected++,oldValue[i]=newItem)}else{oldValue!==internalObject&&(oldValue=internalObject={},oldLength=0,changeDetected++),newLength=0;for(key in newValue)hasOwnProperty.call(newValue,key)&&(newLength++,newItem=newValue[key],oldItem=oldValue[key],key in oldValue?(bothNaN=oldItem!==oldItem&&newItem!==newItem,bothNaN||oldItem===newItem||(changeDetected++,oldValue[key]=newItem)):(oldLength++,oldValue[key]=newItem,changeDetected++));if(oldLength>newLength){changeDetected++;for(key in oldValue)hasOwnProperty.call(newValue,key)||(oldLength--,delete oldValue[key])}}else oldValue!==newValue&&(oldValue=newValue,changeDetected++);return changeDetected}}function $watchCollectionAction(){if(initRun?(initRun=!1,listener(newValue,newValue,self)):listener(newValue,veryOldValue,self),trackVeryOldValue)if(isObject(newValue))if(isArrayLike(newValue)){veryOldValue=new Array(newValue.length);for(var i=0;i<newValue.length;i++)veryOldValue[i]=newValue[i]}else{veryOldValue={};for(var key in newValue)hasOwnProperty.call(newValue,key)&&(veryOldValue[key]=newValue[key])}else veryOldValue=newValue}$watchCollectionInterceptor.$$pure=$parse(obj).literal,$watchCollectionInterceptor.$stateful=!$watchCollectionInterceptor.$$pure;var newValue,oldValue,veryOldValue,self=this,trackVeryOldValue=listener.length>1,changeDetected=0,changeDetector=$parse(obj,$watchCollectionInterceptor),internalArray=[],internalObject={},initRun=!0,oldLength=0;return this.$watch(changeDetector,$watchCollectionAction);
},$digest:function(){var watch,value,last,fn,get,watchers,dirty,next,current,logIdx,asyncTask,ttl=TTL,target=asyncQueue.length?$rootScope:this,watchLog=[];beginPhase("$digest"),$browser.$$checkUrlChange(),this===$rootScope&&null!==applyAsyncId&&($browser.defer.cancel(applyAsyncId),flushApplyAsync()),lastDirtyWatch=null;do{dirty=!1,current=target;for(var asyncQueuePosition=0;asyncQueuePosition<asyncQueue.length;asyncQueuePosition++){try{asyncTask=asyncQueue[asyncQueuePosition],fn=asyncTask.fn,fn(asyncTask.scope,asyncTask.locals)}catch(e){$exceptionHandler(e)}lastDirtyWatch=null}asyncQueue.length=0;traverseScopesLoop:do{if(watchers=!current.$$suspended&&current.$$watchers)for(watchers.$$digestWatchIndex=watchers.length;watchers.$$digestWatchIndex--;)try{if(watch=watchers[watchers.$$digestWatchIndex])if(get=watch.get,(value=get(current))===(last=watch.last)||(watch.eq?equals(value,last):isNumberNaN(value)&&isNumberNaN(last))){if(watch===lastDirtyWatch){dirty=!1;break traverseScopesLoop}}else dirty=!0,lastDirtyWatch=watch,watch.last=watch.eq?copy(value,null):value,fn=watch.fn,fn(value,last===initWatchVal?value:last,current),ttl<5&&(logIdx=4-ttl,watchLog[logIdx]||(watchLog[logIdx]=[]),watchLog[logIdx].push({msg:isFunction(watch.exp)?"fn: "+(watch.exp.name||watch.exp.toString()):watch.exp,newVal:value,oldVal:last}))}catch(e){$exceptionHandler(e)}if(!(next=!current.$$suspended&&current.$$watchersCount&&current.$$childHead||current!==target&&current.$$nextSibling))for(;current!==target&&!(next=current.$$nextSibling);)current=current.$parent}while(current=next);if((dirty||asyncQueue.length)&&!ttl--)throw clearPhase(),$rootScopeMinErr("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",TTL,watchLog)}while(dirty||asyncQueue.length);for(clearPhase();postDigestQueuePosition<postDigestQueue.length;)try{postDigestQueue[postDigestQueuePosition++]()}catch(e){$exceptionHandler(e)}postDigestQueue.length=postDigestQueuePosition=0,$browser.$$checkUrlChange()},$suspend:function(){this.$$suspended=!0},$isSuspended:function(){return this.$$suspended},$resume:function(){this.$$suspended=!1},$destroy:function(){if(!this.$$destroyed){var parent=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===$rootScope&&$browser.$$applicationDestroyed(),incrementWatchersCount(this,-this.$$watchersCount);for(var eventName in this.$$listenerCount)decrementListenerCount(this,this.$$listenerCount[eventName],eventName);parent&&parent.$$childHead===this&&(parent.$$childHead=this.$$nextSibling),parent&&parent.$$childTail===this&&(parent.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=noop,this.$on=this.$watch=this.$watchGroup=function(){return noop},this.$$listeners={},this.$$nextSibling=null,cleanUpScope(this)}},$eval:function(expr,locals){return $parse(expr)(this,locals)},$evalAsync:function(expr,locals){$rootScope.$$phase||asyncQueue.length||$browser.defer(function(){asyncQueue.length&&$rootScope.$digest()}),asyncQueue.push({scope:this,fn:$parse(expr),locals:locals})},$$postDigest:function(fn){postDigestQueue.push(fn)},$apply:function(expr){try{beginPhase("$apply");try{return this.$eval(expr)}finally{clearPhase()}}catch(e){$exceptionHandler(e)}finally{try{$rootScope.$digest()}catch(e){throw $exceptionHandler(e),e}}},$applyAsync:function(expr){function $applyAsyncExpression(){scope.$eval(expr)}var scope=this;expr&&applyAsyncQueue.push($applyAsyncExpression),expr=$parse(expr),scheduleApplyAsync()},$on:function(name,listener){var namedListeners=this.$$listeners[name];namedListeners||(this.$$listeners[name]=namedListeners=[]),namedListeners.push(listener);var current=this;do current.$$listenerCount[name]||(current.$$listenerCount[name]=0),current.$$listenerCount[name]++;while(current=current.$parent);var self=this;return function(){var indexOfListener=namedListeners.indexOf(listener);indexOfListener!==-1&&(delete namedListeners[indexOfListener],decrementListenerCount(self,1,name))}},$emit:function(name,args){var namedListeners,i,length,empty=[],scope=this,stopPropagation=!1,event={name:name,targetScope:scope,stopPropagation:function(){stopPropagation=!0},preventDefault:function(){event.defaultPrevented=!0},defaultPrevented:!1},listenerArgs=concat([event],arguments,1);do{for(namedListeners=scope.$$listeners[name]||empty,event.currentScope=scope,i=0,length=namedListeners.length;i<length;i++)if(namedListeners[i])try{namedListeners[i].apply(null,listenerArgs)}catch(e){$exceptionHandler(e)}else namedListeners.splice(i,1),i--,length--;if(stopPropagation)break;scope=scope.$parent}while(scope);return event.currentScope=null,event},$broadcast:function(name,args){var target=this,current=target,next=target,event={name:name,targetScope:target,preventDefault:function(){event.defaultPrevented=!0},defaultPrevented:!1};if(!target.$$listenerCount[name])return event;for(var listeners,i,length,listenerArgs=concat([event],arguments,1);current=next;){for(event.currentScope=current,listeners=current.$$listeners[name]||[],i=0,length=listeners.length;i<length;i++)if(listeners[i])try{listeners[i].apply(null,listenerArgs)}catch(e){$exceptionHandler(e)}else listeners.splice(i,1),i--,length--;if(!(next=current.$$listenerCount[name]&&current.$$childHead||current!==target&&current.$$nextSibling))for(;current!==target&&!(next=current.$$nextSibling);)current=current.$parent}return event.currentScope=null,event}};var $rootScope=new Scope,asyncQueue=$rootScope.$$asyncQueue=[],postDigestQueue=$rootScope.$$postDigestQueue=[],applyAsyncQueue=$rootScope.$$applyAsyncQueue=[],postDigestQueuePosition=0;return $rootScope}]}function $$SanitizeUriProvider(){var aHrefSanitizationWhitelist=/^\s*(https?|s?ftp|mailto|tel|file):/,imgSrcSanitizationWhitelist=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(regexp){return isDefined(regexp)?(aHrefSanitizationWhitelist=regexp,this):aHrefSanitizationWhitelist},this.imgSrcSanitizationWhitelist=function(regexp){return isDefined(regexp)?(imgSrcSanitizationWhitelist=regexp,this):imgSrcSanitizationWhitelist},this.$get=function(){return function(uri,isMediaUrl){var regex=isMediaUrl?imgSrcSanitizationWhitelist:aHrefSanitizationWhitelist,normalizedVal=urlResolve(uri&&uri.trim()).href;return""===normalizedVal||normalizedVal.match(regex)?uri:"unsafe:"+normalizedVal}}}function snakeToCamel(name){return name.replace(UNDERSCORE_LOWERCASE_REGEXP,fnCamelCaseReplace)}function adjustMatcher(matcher){if("self"===matcher)return matcher;if(isString(matcher)){if(matcher.indexOf("***")>-1)throw $sceMinErr("iwcard","Illegal sequence *** in string matcher.  String: {0}",matcher);return matcher=escapeForRegexp(matcher).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+matcher+"$")}if(isRegExp(matcher))return new RegExp("^"+matcher.source+"$");throw $sceMinErr("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function adjustMatchers(matchers){var adjustedMatchers=[];return isDefined(matchers)&&forEach(matchers,function(matcher){adjustedMatchers.push(adjustMatcher(matcher))}),adjustedMatchers}function $SceDelegateProvider(){this.SCE_CONTEXTS=SCE_CONTEXTS;var resourceUrlWhitelist=["self"],resourceUrlBlacklist=[];this.resourceUrlWhitelist=function(value){return arguments.length&&(resourceUrlWhitelist=adjustMatchers(value)),resourceUrlWhitelist},this.resourceUrlBlacklist=function(value){return arguments.length&&(resourceUrlBlacklist=adjustMatchers(value)),resourceUrlBlacklist},this.$get=["$injector","$$sanitizeUri",function($injector,$$sanitizeUri){function matchUrl(matcher,parsedUrl){return"self"===matcher?urlIsSameOrigin(parsedUrl)||urlIsSameOriginAsBaseUrl(parsedUrl):!!matcher.exec(parsedUrl.href)}function isResourceUrlAllowedByPolicy(url){var i,n,parsedUrl=urlResolve(url.toString()),allowed=!1;for(i=0,n=resourceUrlWhitelist.length;i<n;i++)if(matchUrl(resourceUrlWhitelist[i],parsedUrl)){allowed=!0;break}if(allowed)for(i=0,n=resourceUrlBlacklist.length;i<n;i++)if(matchUrl(resourceUrlBlacklist[i],parsedUrl)){allowed=!1;break}return allowed}function generateHolderType(Base){var holderType=function(trustedValue){this.$$unwrapTrustedValue=function(){return trustedValue}};return Base&&(holderType.prototype=new Base),holderType.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},holderType.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},holderType}function trustAs(type,trustedValue){var Constructor=byType.hasOwnProperty(type)?byType[type]:null;if(!Constructor)throw $sceMinErr("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",type,trustedValue);if(null===trustedValue||isUndefined(trustedValue)||""===trustedValue)return trustedValue;if("string"!=typeof trustedValue)throw $sceMinErr("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",type);return new Constructor(trustedValue)}function valueOf(maybeTrusted){return maybeTrusted instanceof trustedValueHolderBase?maybeTrusted.$$unwrapTrustedValue():maybeTrusted}function getTrusted(type,maybeTrusted){if(null===maybeTrusted||isUndefined(maybeTrusted)||""===maybeTrusted)return maybeTrusted;var constructor=byType.hasOwnProperty(type)?byType[type]:null;if(constructor&&maybeTrusted instanceof constructor)return maybeTrusted.$$unwrapTrustedValue();if(isFunction(maybeTrusted.$$unwrapTrustedValue)&&(maybeTrusted=maybeTrusted.$$unwrapTrustedValue()),type===SCE_CONTEXTS.MEDIA_URL||type===SCE_CONTEXTS.URL)return $$sanitizeUri(maybeTrusted,type===SCE_CONTEXTS.MEDIA_URL);if(type===SCE_CONTEXTS.RESOURCE_URL){if(isResourceUrlAllowedByPolicy(maybeTrusted))return maybeTrusted;throw $sceMinErr("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",maybeTrusted.toString())}if(type===SCE_CONTEXTS.HTML)return htmlSanitizer(maybeTrusted);throw $sceMinErr("unsafe","Attempting to use an unsafe value in a safe context.")}var htmlSanitizer=function(html){throw $sceMinErr("unsafe","Attempting to use an unsafe value in a safe context.")};$injector.has("$sanitize")&&(htmlSanitizer=$injector.get("$sanitize"));var trustedValueHolderBase=generateHolderType(),byType={};return byType[SCE_CONTEXTS.HTML]=generateHolderType(trustedValueHolderBase),byType[SCE_CONTEXTS.CSS]=generateHolderType(trustedValueHolderBase),byType[SCE_CONTEXTS.MEDIA_URL]=generateHolderType(trustedValueHolderBase),byType[SCE_CONTEXTS.URL]=generateHolderType(byType[SCE_CONTEXTS.MEDIA_URL]),byType[SCE_CONTEXTS.JS]=generateHolderType(trustedValueHolderBase),byType[SCE_CONTEXTS.RESOURCE_URL]=generateHolderType(byType[SCE_CONTEXTS.URL]),{trustAs:trustAs,getTrusted:getTrusted,valueOf:valueOf}}]}function $SceProvider(){var enabled=!0;this.enabled=function(value){return arguments.length&&(enabled=!!value),enabled},this.$get=["$parse","$sceDelegate",function($parse,$sceDelegate){if(enabled&&msie<8)throw $sceMinErr("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var sce=shallowCopy(SCE_CONTEXTS);sce.isEnabled=function(){return enabled},sce.trustAs=$sceDelegate.trustAs,sce.getTrusted=$sceDelegate.getTrusted,sce.valueOf=$sceDelegate.valueOf,enabled||(sce.trustAs=sce.getTrusted=function(type,value){return value},sce.valueOf=identity),sce.parseAs=function(type,expr){var parsed=$parse(expr);return parsed.literal&&parsed.constant?parsed:$parse(expr,function(value){return sce.getTrusted(type,value)})};var parse=sce.parseAs,getTrusted=sce.getTrusted,trustAs=sce.trustAs;return forEach(SCE_CONTEXTS,function(enumValue,name){var lName=lowercase(name);sce[snakeToCamel("parse_as_"+lName)]=function(expr){return parse(enumValue,expr)},sce[snakeToCamel("get_trusted_"+lName)]=function(value){return getTrusted(enumValue,value)},sce[snakeToCamel("trust_as_"+lName)]=function(value){return trustAs(enumValue,value)}}),sce}]}function $SnifferProvider(){this.$get=["$window","$document",function($window,$document){var eventSupport={},isNw=$window.nw&&$window.nw.process,isChromePackagedApp=!isNw&&$window.chrome&&($window.chrome.app&&$window.chrome.app.runtime||!$window.chrome.app&&$window.chrome.runtime&&$window.chrome.runtime.id),hasHistoryPushState=!isChromePackagedApp&&$window.history&&$window.history.pushState,android=toInt((/android (\d+)/.exec(lowercase(($window.navigator||{}).userAgent))||[])[1]),boxee=/Boxee/i.test(($window.navigator||{}).userAgent),document=$document[0]||{},bodyStyle=document.body&&document.body.style,transitions=!1,animations=!1;return bodyStyle&&(transitions=!!("transition"in bodyStyle||"webkitTransition"in bodyStyle),animations=!!("animation"in bodyStyle||"webkitAnimation"in bodyStyle)),{history:!(!hasHistoryPushState||android<4||boxee),hasEvent:function(event){if("input"===event&&msie)return!1;if(isUndefined(eventSupport[event])){var divElm=document.createElement("div");eventSupport[event]="on"+event in divElm}return eventSupport[event]},csp:csp(),transitions:transitions,animations:animations,android:android}}]}function $TemplateRequestProvider(){var httpOptions;this.httpOptions=function(val){return val?(httpOptions=val,this):httpOptions},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function($exceptionHandler,$templateCache,$http,$q,$sce){function handleRequestFn(tpl,ignoreRequestError){function handleError(resp){return ignoreRequestError||(resp=$templateRequestMinErr("tpload","Failed to load template: {0} (HTTP status: {1} {2})",tpl,resp.status,resp.statusText),$exceptionHandler(resp)),$q.reject(resp)}handleRequestFn.totalPendingRequests++,isString(tpl)&&!isUndefined($templateCache.get(tpl))||(tpl=$sce.getTrustedResourceUrl(tpl));var transformResponse=$http.defaults&&$http.defaults.transformResponse;return isArray(transformResponse)?transformResponse=transformResponse.filter(function(transformer){return transformer!==defaultHttpResponseTransform}):transformResponse===defaultHttpResponseTransform&&(transformResponse=null),$http.get(tpl,extend({cache:$templateCache,transformResponse:transformResponse},httpOptions))["finally"](function(){handleRequestFn.totalPendingRequests--}).then(function(response){return $templateCache.put(tpl,response.data)},handleError)}return handleRequestFn.totalPendingRequests=0,handleRequestFn}]}function $$TestabilityProvider(){this.$get=["$rootScope","$browser","$location",function($rootScope,$browser,$location){var testability={};return testability.findBindings=function(element,expression,opt_exactMatch){var bindings=element.getElementsByClassName("ng-binding"),matches=[];return forEach(bindings,function(binding){var dataBinding=angular.element(binding).data("$binding");dataBinding&&forEach(dataBinding,function(bindingName){if(opt_exactMatch){var matcher=new RegExp("(^|\\s)"+escapeForRegexp(expression)+"(\\s|\\||$)");matcher.test(bindingName)&&matches.push(binding)}else bindingName.indexOf(expression)!==-1&&matches.push(binding)})}),matches},testability.findModels=function(element,expression,opt_exactMatch){for(var prefixes=["ng-","data-ng-","ng\\:"],p=0;p<prefixes.length;++p){var attributeEquals=opt_exactMatch?"=":"*=",selector="["+prefixes[p]+"model"+attributeEquals+'"'+expression+'"]',elements=element.querySelectorAll(selector);if(elements.length)return elements}},testability.getLocation=function(){return $location.url()},testability.setLocation=function(url){url!==$location.url()&&($location.url(url),$rootScope.$digest())},testability.whenStable=function(callback){$browser.notifyWhenNoOutstandingRequests(callback)},testability}]}function $TimeoutProvider(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function($rootScope,$browser,$q,$$q,$exceptionHandler){function timeout(fn,delay,invokeApply){isFunction(fn)||(invokeApply=delay,delay=fn,fn=noop);var timeoutId,args=sliceArgs(arguments,3),skipApply=isDefined(invokeApply)&&!invokeApply,deferred=(skipApply?$$q:$q).defer(),promise=deferred.promise;return timeoutId=$browser.defer(function(){try{deferred.resolve(fn.apply(null,args))}catch(e){deferred.reject(e),$exceptionHandler(e)}finally{delete deferreds[promise.$$timeoutId]}skipApply||$rootScope.$apply()},delay),promise.$$timeoutId=timeoutId,deferreds[timeoutId]=deferred,promise}var deferreds={};return timeout.cancel=function(promise){if(!promise)return!1;if(!promise.hasOwnProperty("$$timeoutId"))throw $timeoutMinErr("badprom","`$timeout.cancel()` called with a promise that was not generated by `$timeout()`.");if(!deferreds.hasOwnProperty(promise.$$timeoutId))return!1;var id=promise.$$timeoutId,deferred=deferreds[id];return markQExceptionHandled(deferred.promise),deferred.reject("canceled"),delete deferreds[id],$browser.defer.cancel(id)},timeout}]}function urlResolve(url){if(!isString(url))return url;var href=url;return msie&&(urlParsingNode.setAttribute("href",href),href=urlParsingNode.href),urlParsingNode.setAttribute("href",href),{href:urlParsingNode.href,protocol:urlParsingNode.protocol?urlParsingNode.protocol.replace(/:$/,""):"",host:urlParsingNode.host,search:urlParsingNode.search?urlParsingNode.search.replace(/^\?/,""):"",hash:urlParsingNode.hash?urlParsingNode.hash.replace(/^#/,""):"",hostname:urlParsingNode.hostname,port:urlParsingNode.port,pathname:"/"===urlParsingNode.pathname.charAt(0)?urlParsingNode.pathname:"/"+urlParsingNode.pathname}}function urlIsSameOrigin(requestUrl){return urlsAreSameOrigin(requestUrl,originUrl)}function urlIsSameOriginAsBaseUrl(requestUrl){return urlsAreSameOrigin(requestUrl,getBaseUrl())}function urlIsAllowedOriginFactory(whitelistedOriginUrls){var parsedAllowedOriginUrls=[originUrl].concat(whitelistedOriginUrls.map(urlResolve));return function(requestUrl){var parsedUrl=urlResolve(requestUrl);return parsedAllowedOriginUrls.some(urlsAreSameOrigin.bind(null,parsedUrl))}}function urlsAreSameOrigin(url1,url2){return url1=urlResolve(url1),url2=urlResolve(url2),url1.protocol===url2.protocol&&url1.host===url2.host}function getBaseUrl(){return window.document.baseURI?window.document.baseURI:(baseUrlParsingNode||(baseUrlParsingNode=window.document.createElement("a"),baseUrlParsingNode.href=".",baseUrlParsingNode=baseUrlParsingNode.cloneNode(!1)),baseUrlParsingNode.href)}function $WindowProvider(){this.$get=valueFn(window)}function $$CookieReader($document){function safeGetCookie(rawDocument){try{return rawDocument.cookie||""}catch(e){return""}}function safeDecodeURIComponent(str){try{return decodeURIComponent(str)}catch(e){return str}}var rawDocument=$document[0]||{},lastCookies={},lastCookieString="";return function(){var cookieArray,cookie,i,index,name,currentCookieString=safeGetCookie(rawDocument);if(currentCookieString!==lastCookieString)for(lastCookieString=currentCookieString,cookieArray=lastCookieString.split("; "),lastCookies={},i=0;i<cookieArray.length;i++)cookie=cookieArray[i],index=cookie.indexOf("="),index>0&&(name=safeDecodeURIComponent(cookie.substring(0,index)),isUndefined(lastCookies[name])&&(lastCookies[name]=safeDecodeURIComponent(cookie.substring(index+1))));return lastCookies}}function $$CookieReaderProvider(){this.$get=$$CookieReader}function $FilterProvider($provide){function register(name,factory){if(isObject(name)){var filters={};return forEach(name,function(filter,key){filters[key]=register(key,filter)}),filters}return $provide.factory(name+suffix,factory)}var suffix="Filter";this.register=register,this.$get=["$injector",function($injector){return function(name){return $injector.get(name+suffix)}}],register("currency",currencyFilter),register("date",dateFilter),register("filter",filterFilter),register("json",jsonFilter),register("limitTo",limitToFilter),register("lowercase",lowercaseFilter),register("number",numberFilter),register("orderBy",orderByFilter),register("uppercase",uppercaseFilter)}function filterFilter(){return function(array,expression,comparator,anyPropertyKey){if(!isArrayLike(array)){if(null==array)return array;throw minErr("filter")("notarray","Expected array but received: {0}",array)}anyPropertyKey=anyPropertyKey||"$";var predicateFn,matchAgainstAnyProp,expressionType=getTypeForFilter(expression);switch(expressionType){case"function":predicateFn=expression;break;case"boolean":case"null":case"number":case"string":matchAgainstAnyProp=!0;case"object":predicateFn=createPredicateFn(expression,comparator,anyPropertyKey,matchAgainstAnyProp);break;default:return array}return Array.prototype.filter.call(array,predicateFn)}}function createPredicateFn(expression,comparator,anyPropertyKey,matchAgainstAnyProp){var predicateFn,shouldMatchPrimitives=isObject(expression)&&anyPropertyKey in expression;return comparator===!0?comparator=equals:isFunction(comparator)||(comparator=function(actual,expected){return!isUndefined(actual)&&(null===actual||null===expected?actual===expected:!(isObject(expected)||isObject(actual)&&!hasCustomToString(actual))&&(actual=lowercase(""+actual),expected=lowercase(""+expected),actual.indexOf(expected)!==-1))}),predicateFn=function(item){return shouldMatchPrimitives&&!isObject(item)?deepCompare(item,expression[anyPropertyKey],comparator,anyPropertyKey,!1):deepCompare(item,expression,comparator,anyPropertyKey,matchAgainstAnyProp)}}function deepCompare(actual,expected,comparator,anyPropertyKey,matchAgainstAnyProp,dontMatchWholeObject){var actualType=getTypeForFilter(actual),expectedType=getTypeForFilter(expected);if("string"===expectedType&&"!"===expected.charAt(0))return!deepCompare(actual,expected.substring(1),comparator,anyPropertyKey,matchAgainstAnyProp);if(isArray(actual))return actual.some(function(item){return deepCompare(item,expected,comparator,anyPropertyKey,matchAgainstAnyProp)});switch(actualType){case"object":var key;if(matchAgainstAnyProp){for(key in actual)if(key.charAt&&"$"!==key.charAt(0)&&deepCompare(actual[key],expected,comparator,anyPropertyKey,!0))return!0;return!dontMatchWholeObject&&deepCompare(actual,expected,comparator,anyPropertyKey,!1)}if("object"===expectedType){for(key in expected){var expectedVal=expected[key];if(!isFunction(expectedVal)&&!isUndefined(expectedVal)){var matchAnyProperty=key===anyPropertyKey,actualVal=matchAnyProperty?actual:actual[key];if(!deepCompare(actualVal,expectedVal,comparator,anyPropertyKey,matchAnyProperty,matchAnyProperty))return!1}}return!0}return comparator(actual,expected);case"function":return!1;default:return comparator(actual,expected)}}function getTypeForFilter(val){return null===val?"null":typeof val}function currencyFilter($locale){var formats=$locale.NUMBER_FORMATS;return function(amount,currencySymbol,fractionSize){isUndefined(currencySymbol)&&(currencySymbol=formats.CURRENCY_SYM),isUndefined(fractionSize)&&(fractionSize=formats.PATTERNS[1].maxFrac);var currencySymbolRe=currencySymbol?/\u00A4/g:/\s*\u00A4\s*/g;return null==amount?amount:formatNumber(amount,formats.PATTERNS[1],formats.GROUP_SEP,formats.DECIMAL_SEP,fractionSize).replace(currencySymbolRe,currencySymbol)}}function numberFilter($locale){var formats=$locale.NUMBER_FORMATS;return function(number,fractionSize){return null==number?number:formatNumber(number,formats.PATTERNS[0],formats.GROUP_SEP,formats.DECIMAL_SEP,fractionSize)}}function parse(numStr){var digits,numberOfIntegerDigits,i,j,zeros,exponent=0;for((numberOfIntegerDigits=numStr.indexOf(DECIMAL_SEP))>-1&&(numStr=numStr.replace(DECIMAL_SEP,"")),(i=numStr.search(/e/i))>0?(numberOfIntegerDigits<0&&(numberOfIntegerDigits=i),numberOfIntegerDigits+=+numStr.slice(i+1),numStr=numStr.substring(0,i)):numberOfIntegerDigits<0&&(numberOfIntegerDigits=numStr.length),i=0;numStr.charAt(i)===ZERO_CHAR;i++);if(i===(zeros=numStr.length))digits=[0],numberOfIntegerDigits=1;else{for(zeros--;numStr.charAt(zeros)===ZERO_CHAR;)zeros--;for(numberOfIntegerDigits-=i,digits=[],j=0;i<=zeros;i++,j++)digits[j]=+numStr.charAt(i)}return numberOfIntegerDigits>MAX_DIGITS&&(digits=digits.splice(0,MAX_DIGITS-1),exponent=numberOfIntegerDigits-1,numberOfIntegerDigits=1),{d:digits,e:exponent,i:numberOfIntegerDigits}}function roundNumber(parsedNumber,fractionSize,minFrac,maxFrac){var digits=parsedNumber.d,fractionLen=digits.length-parsedNumber.i;fractionSize=isUndefined(fractionSize)?Math.min(Math.max(minFrac,fractionLen),maxFrac):+fractionSize;var roundAt=fractionSize+parsedNumber.i,digit=digits[roundAt];if(roundAt>0){digits.splice(Math.max(parsedNumber.i,roundAt));for(var j=roundAt;j<digits.length;j++)digits[j]=0}else{fractionLen=Math.max(0,fractionLen),parsedNumber.i=1,digits.length=Math.max(1,roundAt=fractionSize+1),digits[0]=0;for(var i=1;i<roundAt;i++)digits[i]=0}if(digit>=5)if(roundAt-1<0){for(var k=0;k>roundAt;k--)digits.unshift(0),parsedNumber.i++;digits.unshift(1),parsedNumber.i++}else digits[roundAt-1]++;for(;fractionLen<Math.max(0,fractionSize);fractionLen++)digits.push(0);var carry=digits.reduceRight(function(carry,d,i,digits){return d+=carry,digits[i]=d%10,Math.floor(d/10)},0);carry&&(digits.unshift(carry),parsedNumber.i++)}function formatNumber(number,pattern,groupSep,decimalSep,fractionSize){if(!isString(number)&&!isNumber(number)||isNaN(number))return"";var parsedNumber,isInfinity=!isFinite(number),isZero=!1,numStr=Math.abs(number)+"",formattedText="";if(isInfinity)formattedText="∞";else{parsedNumber=parse(numStr),roundNumber(parsedNumber,fractionSize,pattern.minFrac,pattern.maxFrac);var digits=parsedNumber.d,integerLen=parsedNumber.i,exponent=parsedNumber.e,decimals=[];for(isZero=digits.reduce(function(isZero,d){return isZero&&!d},!0);integerLen<0;)digits.unshift(0),integerLen++;integerLen>0?decimals=digits.splice(integerLen,digits.length):(decimals=digits,digits=[0]);var groups=[];for(digits.length>=pattern.lgSize&&groups.unshift(digits.splice(-pattern.lgSize,digits.length).join(""));digits.length>pattern.gSize;)groups.unshift(digits.splice(-pattern.gSize,digits.length).join(""));digits.length&&groups.unshift(digits.join("")),formattedText=groups.join(groupSep),decimals.length&&(formattedText+=decimalSep+decimals.join("")),exponent&&(formattedText+="e+"+exponent)}return number<0&&!isZero?pattern.negPre+formattedText+pattern.negSuf:pattern.posPre+formattedText+pattern.posSuf}function padNumber(num,digits,trim,negWrap){var neg="";for((num<0||negWrap&&num<=0)&&(negWrap?num=-num+1:(num=-num,neg="-")),num=""+num;num.length<digits;)num=ZERO_CHAR+num;return trim&&(num=num.substr(num.length-digits)),neg+num}function dateGetter(name,size,offset,trim,negWrap){return offset=offset||0,function(date){var value=date["get"+name]();return(offset>0||value>-offset)&&(value+=offset),0===value&&offset===-12&&(value=12),padNumber(value,size,trim,negWrap)}}function dateStrGetter(name,shortForm,standAlone){return function(date,formats){var value=date["get"+name](),propPrefix=(standAlone?"STANDALONE":"")+(shortForm?"SHORT":""),get=uppercase(propPrefix+name);return formats[get][value]}}function timeZoneGetter(date,formats,offset){var zone=-1*offset,paddedZone=zone>=0?"+":"";return paddedZone+=padNumber(Math[zone>0?"floor":"ceil"](zone/60),2)+padNumber(Math.abs(zone%60),2)}function getFirstThursdayOfYear(year){var dayOfWeekOnFirst=new Date(year,0,1).getDay();return new Date(year,0,(dayOfWeekOnFirst<=4?5:12)-dayOfWeekOnFirst)}function getThursdayThisWeek(datetime){return new Date(datetime.getFullYear(),datetime.getMonth(),datetime.getDate()+(4-datetime.getDay()))}function weekGetter(size){return function(date){var firstThurs=getFirstThursdayOfYear(date.getFullYear()),thisThurs=getThursdayThisWeek(date),diff=+thisThurs-+firstThurs,result=1+Math.round(diff/6048e5);return padNumber(result,size)}}function ampmGetter(date,formats){return date.getHours()<12?formats.AMPMS[0]:formats.AMPMS[1]}function eraGetter(date,formats){return date.getFullYear()<=0?formats.ERAS[0]:formats.ERAS[1]}function longEraGetter(date,formats){return date.getFullYear()<=0?formats.ERANAMES[0]:formats.ERANAMES[1]}function dateFilter($locale){function jsonStringToDate(string){var match;if(match=string.match(R_ISO8601_STR)){var date=new Date(0),tzHour=0,tzMin=0,dateSetter=match[8]?date.setUTCFullYear:date.setFullYear,timeSetter=match[8]?date.setUTCHours:date.setHours;match[9]&&(tzHour=toInt(match[9]+match[10]),tzMin=toInt(match[9]+match[11])),dateSetter.call(date,toInt(match[1]),toInt(match[2])-1,toInt(match[3]));var h=toInt(match[4]||0)-tzHour,m=toInt(match[5]||0)-tzMin,s=toInt(match[6]||0),ms=Math.round(1e3*parseFloat("0."+(match[7]||0)));return timeSetter.call(date,h,m,s,ms),date}return string}var R_ISO8601_STR=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(date,format,timezone){var fn,match,text="",parts=[];if(format=format||"mediumDate",format=$locale.DATETIME_FORMATS[format]||format,isString(date)&&(date=NUMBER_STRING.test(date)?toInt(date):jsonStringToDate(date)),isNumber(date)&&(date=new Date(date)),!isDate(date)||!isFinite(date.getTime()))return date;for(;format;)match=DATE_FORMATS_SPLIT.exec(format),match?(parts=concat(parts,match,1),format=parts.pop()):(parts.push(format),format=null);var dateTimezoneOffset=date.getTimezoneOffset();return timezone&&(dateTimezoneOffset=timezoneToOffset(timezone,dateTimezoneOffset),date=convertTimezoneToLocal(date,timezone,!0)),forEach(parts,function(value){fn=DATE_FORMATS[value],text+=fn?fn(date,$locale.DATETIME_FORMATS,dateTimezoneOffset):"''"===value?"'":value.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),text}}function jsonFilter(){return function(object,spacing){return isUndefined(spacing)&&(spacing=2),toJson(object,spacing)}}function limitToFilter(){return function(input,limit,begin){return limit=Math.abs(Number(limit))===1/0?Number(limit):toInt(limit),isNumberNaN(limit)?input:(isNumber(input)&&(input=input.toString()),isArrayLike(input)?(begin=!begin||isNaN(begin)?0:toInt(begin),begin=begin<0?Math.max(0,input.length+begin):begin,limit>=0?sliceFn(input,begin,begin+limit):0===begin?sliceFn(input,limit,input.length):sliceFn(input,Math.max(0,begin+limit),begin)):input)}}function sliceFn(input,begin,end){return isString(input)?input.slice(begin,end):slice.call(input,begin,end)}function orderByFilter($parse){function processPredicates(sortPredicates){return sortPredicates.map(function(predicate){var descending=1,get=identity;if(isFunction(predicate))get=predicate;else if(isString(predicate)&&("+"!==predicate.charAt(0)&&"-"!==predicate.charAt(0)||(descending="-"===predicate.charAt(0)?-1:1,predicate=predicate.substring(1)),""!==predicate&&(get=$parse(predicate),get.constant))){var key=get();get=function(value){return value[key]}}return{get:get,descending:descending}})}function isPrimitive(value){switch(typeof value){case"number":case"boolean":case"string":return!0;default:return!1}}function objectValue(value){return isFunction(value.valueOf)&&(value=value.valueOf(),isPrimitive(value))?value:hasCustomToString(value)&&(value=value.toString(),isPrimitive(value))?value:value}function getPredicateValue(value,index){var type=typeof value;return null===value?type="null":"object"===type&&(value=objectValue(value)),{value:value,type:type,index:index}}function defaultCompare(v1,v2){var result=0,type1=v1.type,type2=v2.type;if(type1===type2){var value1=v1.value,value2=v2.value;"string"===type1?(value1=value1.toLowerCase(),value2=value2.toLowerCase()):"object"===type1&&(isObject(value1)&&(value1=v1.index),isObject(value2)&&(value2=v2.index)),value1!==value2&&(result=value1<value2?-1:1)}else result="undefined"===type1?1:"undefined"===type2?-1:"null"===type1?1:"null"===type2?-1:type1<type2?-1:1;return result}return function(array,sortPredicate,reverseOrder,compareFn){function getComparisonObject(value,index){return{value:value,tieBreaker:{value:index,type:"number",index:index},predicateValues:predicates.map(function(predicate){return getPredicateValue(predicate.get(value),index);
})}}function doComparison(v1,v2){for(var i=0,ii=predicates.length;i<ii;i++){var result=compare(v1.predicateValues[i],v2.predicateValues[i]);if(result)return result*predicates[i].descending*descending}return(compare(v1.tieBreaker,v2.tieBreaker)||defaultCompare(v1.tieBreaker,v2.tieBreaker))*descending}if(null==array)return array;if(!isArrayLike(array))throw minErr("orderBy")("notarray","Expected array but received: {0}",array);isArray(sortPredicate)||(sortPredicate=[sortPredicate]),0===sortPredicate.length&&(sortPredicate=["+"]);var predicates=processPredicates(sortPredicate),descending=reverseOrder?-1:1,compare=isFunction(compareFn)?compareFn:defaultCompare,compareValues=Array.prototype.map.call(array,getComparisonObject);return compareValues.sort(doComparison),array=compareValues.map(function(item){return item.value})}}function ngDirective(directive){return isFunction(directive)&&(directive={link:directive}),directive.restrict=directive.restrict||"AC",valueFn(directive)}function nullFormRenameControl(control,name){control.$name=name}function FormController($element,$attrs,$scope,$animate,$interpolate){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=$interpolate($attrs.name||$attrs.ngForm||"")($scope),this.$dirty=!1,this.$pristine=!0,this.$valid=!0,this.$invalid=!1,this.$submitted=!1,this.$$parentForm=nullFormCtrl,this.$$element=$element,this.$$animate=$animate,setupValidity(this)}function setupValidity(instance){instance.$$classCache={},instance.$$classCache[INVALID_CLASS]=!(instance.$$classCache[VALID_CLASS]=instance.$$element.hasClass(VALID_CLASS))}function addSetValidityMethod(context){function createAndSet(ctrl,name,value,controller){ctrl[name]||(ctrl[name]={}),set(ctrl[name],value,controller)}function unsetAndCleanup(ctrl,name,value,controller){ctrl[name]&&unset(ctrl[name],value,controller),isObjectEmpty(ctrl[name])&&(ctrl[name]=void 0)}function cachedToggleClass(ctrl,className,switchValue){switchValue&&!ctrl.$$classCache[className]?(ctrl.$$animate.addClass(ctrl.$$element,className),ctrl.$$classCache[className]=!0):!switchValue&&ctrl.$$classCache[className]&&(ctrl.$$animate.removeClass(ctrl.$$element,className),ctrl.$$classCache[className]=!1)}function toggleValidationCss(ctrl,validationErrorKey,isValid){validationErrorKey=validationErrorKey?"-"+snake_case(validationErrorKey,"-"):"",cachedToggleClass(ctrl,VALID_CLASS+validationErrorKey,isValid===!0),cachedToggleClass(ctrl,INVALID_CLASS+validationErrorKey,isValid===!1)}var clazz=context.clazz,set=context.set,unset=context.unset;clazz.prototype.$setValidity=function(validationErrorKey,state,controller){isUndefined(state)?createAndSet(this,"$pending",validationErrorKey,controller):unsetAndCleanup(this,"$pending",validationErrorKey,controller),isBoolean(state)?state?(unset(this.$error,validationErrorKey,controller),set(this.$$success,validationErrorKey,controller)):(set(this.$error,validationErrorKey,controller),unset(this.$$success,validationErrorKey,controller)):(unset(this.$error,validationErrorKey,controller),unset(this.$$success,validationErrorKey,controller)),this.$pending?(cachedToggleClass(this,PENDING_CLASS,!0),this.$valid=this.$invalid=void 0,toggleValidationCss(this,"",null)):(cachedToggleClass(this,PENDING_CLASS,!1),this.$valid=isObjectEmpty(this.$error),this.$invalid=!this.$valid,toggleValidationCss(this,"",this.$valid));var combinedState;combinedState=this.$pending&&this.$pending[validationErrorKey]?void 0:!this.$error[validationErrorKey]&&(!!this.$$success[validationErrorKey]||null),toggleValidationCss(this,validationErrorKey,combinedState),this.$$parentForm.$setValidity(validationErrorKey,combinedState,this)}}function isObjectEmpty(obj){if(obj)for(var prop in obj)if(obj.hasOwnProperty(prop))return!1;return!0}function stringBasedInputType(ctrl){ctrl.$formatters.push(function(value){return ctrl.$isEmpty(value)?value:value.toString()})}function textInputType(scope,element,attr,ctrl,$sniffer,$browser){baseInputType(scope,element,attr,ctrl,$sniffer,$browser),stringBasedInputType(ctrl)}function baseInputType(scope,element,attr,ctrl,$sniffer,$browser){var type=lowercase(element[0].type);if(!$sniffer.android){var composing=!1;element.on("compositionstart",function(){composing=!0}),element.on("compositionupdate",function(ev){(isUndefined(ev.data)||""===ev.data)&&(composing=!1)}),element.on("compositionend",function(){composing=!1,listener()})}var timeout,listener=function(ev){if(timeout&&($browser.defer.cancel(timeout),timeout=null),!composing){var value=element.val(),event=ev&&ev.type;"password"===type||attr.ngTrim&&"false"===attr.ngTrim||(value=trim(value)),(ctrl.$viewValue!==value||""===value&&ctrl.$$hasNativeValidators)&&ctrl.$setViewValue(value,event)}};if($sniffer.hasEvent("input"))element.on("input",listener);else{var deferListener=function(ev,input,origValue){timeout||(timeout=$browser.defer(function(){timeout=null,input&&input.value===origValue||listener(ev)}))};element.on("keydown",function(event){var key=event.keyCode;91===key||15<key&&key<19||37<=key&&key<=40||deferListener(event,this,this.value)}),$sniffer.hasEvent("paste")&&element.on("paste cut drop",deferListener)}element.on("change",listener),PARTIAL_VALIDATION_TYPES[type]&&ctrl.$$hasNativeValidators&&type===attr.type&&element.on(PARTIAL_VALIDATION_EVENTS,function(ev){if(!timeout){var validity=this[VALIDITY_STATE_PROPERTY],origBadInput=validity.badInput,origTypeMismatch=validity.typeMismatch;timeout=$browser.defer(function(){timeout=null,validity.badInput===origBadInput&&validity.typeMismatch===origTypeMismatch||listener(ev)})}}),ctrl.$render=function(){var value=ctrl.$isEmpty(ctrl.$viewValue)?"":ctrl.$viewValue;element.val()!==value&&element.val(value)}}function weekParser(isoWeek,existingDate){if(isDate(isoWeek))return isoWeek;if(isString(isoWeek)){WEEK_REGEXP.lastIndex=0;var parts=WEEK_REGEXP.exec(isoWeek);if(parts){var year=+parts[1],week=+parts[2],hours=0,minutes=0,seconds=0,milliseconds=0,firstThurs=getFirstThursdayOfYear(year),addDays=7*(week-1);return existingDate&&(hours=existingDate.getHours(),minutes=existingDate.getMinutes(),seconds=existingDate.getSeconds(),milliseconds=existingDate.getMilliseconds()),new Date(year,0,firstThurs.getDate()+addDays,hours,minutes,seconds,milliseconds)}}return NaN}function createDateParser(regexp,mapping){return function(iso,previousDate){var parts,map;if(isDate(iso))return iso;if(isString(iso)){if('"'===iso.charAt(0)&&'"'===iso.charAt(iso.length-1)&&(iso=iso.substring(1,iso.length-1)),ISO_DATE_REGEXP.test(iso))return new Date(iso);if(regexp.lastIndex=0,parts=regexp.exec(iso)){parts.shift(),map=previousDate?{yyyy:previousDate.getFullYear(),MM:previousDate.getMonth()+1,dd:previousDate.getDate(),HH:previousDate.getHours(),mm:previousDate.getMinutes(),ss:previousDate.getSeconds(),sss:previousDate.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},forEach(parts,function(part,index){index<mapping.length&&(map[mapping[index]]=+part)});var date=new Date(map.yyyy,map.MM-1,map.dd,map.HH,map.mm,map.ss||0,1e3*map.sss||0);return map.yyyy<100&&date.setFullYear(map.yyyy),date}}return NaN}}function createDateInputType(type,regexp,parseDate,format){return function(scope,element,attr,ctrl,$sniffer,$browser,$filter){function isValidDate(value){return value&&!(value.getTime&&value.getTime()!==value.getTime())}function parseObservedDateValue(val){return isDefined(val)&&!isDate(val)?parseDateAndConvertTimeZoneToLocal(val)||void 0:val}function parseDateAndConvertTimeZoneToLocal(value,previousDate){var timezone=ctrl.$options.getOption("timezone");previousTimezone&&previousTimezone!==timezone&&(previousDate=addDateMinutes(previousDate,timezoneToOffset(previousTimezone)));var parsedDate=parseDate(value,previousDate);return!isNaN(parsedDate)&&timezone&&(parsedDate=convertTimezoneToLocal(parsedDate,timezone)),parsedDate}badInputChecker(scope,element,attr,ctrl,type),baseInputType(scope,element,attr,ctrl,$sniffer,$browser);var previousDate,previousTimezone;if(ctrl.$parsers.push(function(value){return ctrl.$isEmpty(value)?null:regexp.test(value)?parseDateAndConvertTimeZoneToLocal(value,previousDate):void(ctrl.$$parserName=type)}),ctrl.$formatters.push(function(value){if(value&&!isDate(value))throw ngModelMinErr("datefmt","Expected `{0}` to be a date",value);if(isValidDate(value)){previousDate=value;var timezone=ctrl.$options.getOption("timezone");return timezone&&(previousTimezone=timezone,previousDate=convertTimezoneToLocal(previousDate,timezone,!0)),$filter("date")(value,format,timezone)}return previousDate=null,previousTimezone=null,""}),isDefined(attr.min)||attr.ngMin){var minVal;ctrl.$validators.min=function(value){return!isValidDate(value)||isUndefined(minVal)||parseDate(value)>=minVal},attr.$observe("min",function(val){minVal=parseObservedDateValue(val),ctrl.$validate()})}if(isDefined(attr.max)||attr.ngMax){var maxVal;ctrl.$validators.max=function(value){return!isValidDate(value)||isUndefined(maxVal)||parseDate(value)<=maxVal},attr.$observe("max",function(val){maxVal=parseObservedDateValue(val),ctrl.$validate()})}}}function badInputChecker(scope,element,attr,ctrl,parserName){var node=element[0],nativeValidation=ctrl.$$hasNativeValidators=isObject(node.validity);nativeValidation&&ctrl.$parsers.push(function(value){var validity=element.prop(VALIDITY_STATE_PROPERTY)||{};return validity.badInput||validity.typeMismatch?void(ctrl.$$parserName=parserName):value})}function numberFormatterParser(ctrl){ctrl.$parsers.push(function(value){return ctrl.$isEmpty(value)?null:NUMBER_REGEXP.test(value)?parseFloat(value):void(ctrl.$$parserName="number")}),ctrl.$formatters.push(function(value){if(!ctrl.$isEmpty(value)){if(!isNumber(value))throw ngModelMinErr("numfmt","Expected `{0}` to be a number",value);value=value.toString()}return value})}function parseNumberAttrVal(val){return isDefined(val)&&!isNumber(val)&&(val=parseFloat(val)),isNumberNaN(val)?void 0:val}function isNumberInteger(num){return(0|num)===num}function countDecimals(num){var numString=num.toString(),decimalSymbolIndex=numString.indexOf(".");if(decimalSymbolIndex===-1){if(-1<num&&num<1){var match=/e-(\d+)$/.exec(numString);if(match)return Number(match[1])}return 0}return numString.length-decimalSymbolIndex-1}function isValidForStep(viewValue,stepBase,step){var value=Number(viewValue),isNonIntegerValue=!isNumberInteger(value),isNonIntegerStepBase=!isNumberInteger(stepBase),isNonIntegerStep=!isNumberInteger(step);if(isNonIntegerValue||isNonIntegerStepBase||isNonIntegerStep){var valueDecimals=isNonIntegerValue?countDecimals(value):0,stepBaseDecimals=isNonIntegerStepBase?countDecimals(stepBase):0,stepDecimals=isNonIntegerStep?countDecimals(step):0,decimalCount=Math.max(valueDecimals,stepBaseDecimals,stepDecimals),multiplier=Math.pow(10,decimalCount);value*=multiplier,stepBase*=multiplier,step*=multiplier,isNonIntegerValue&&(value=Math.round(value)),isNonIntegerStepBase&&(stepBase=Math.round(stepBase)),isNonIntegerStep&&(step=Math.round(step))}return(value-stepBase)%step===0}function numberInputType(scope,element,attr,ctrl,$sniffer,$browser){badInputChecker(scope,element,attr,ctrl,"number"),numberFormatterParser(ctrl),baseInputType(scope,element,attr,ctrl,$sniffer,$browser);var minVal,maxVal;if((isDefined(attr.min)||attr.ngMin)&&(ctrl.$validators.min=function(modelValue,viewValue){return ctrl.$isEmpty(viewValue)||isUndefined(minVal)||viewValue>=minVal},attr.$observe("min",function(val){minVal=parseNumberAttrVal(val),ctrl.$validate()})),(isDefined(attr.max)||attr.ngMax)&&(ctrl.$validators.max=function(modelValue,viewValue){return ctrl.$isEmpty(viewValue)||isUndefined(maxVal)||viewValue<=maxVal},attr.$observe("max",function(val){maxVal=parseNumberAttrVal(val),ctrl.$validate()})),isDefined(attr.step)||attr.ngStep){var stepVal;ctrl.$validators.step=function(modelValue,viewValue){return ctrl.$isEmpty(viewValue)||isUndefined(stepVal)||isValidForStep(viewValue,minVal||0,stepVal)},attr.$observe("step",function(val){stepVal=parseNumberAttrVal(val),ctrl.$validate()})}}function rangeInputType(scope,element,attr,ctrl,$sniffer,$browser){function setInitialValueAndObserver(htmlAttrName,changeFn){element.attr(htmlAttrName,attr[htmlAttrName]),attr.$observe(htmlAttrName,changeFn)}function minChange(val){if(minVal=parseNumberAttrVal(val),!isNumberNaN(ctrl.$modelValue))if(supportsRange){var elVal=element.val();minVal>elVal&&(elVal=minVal,element.val(elVal)),ctrl.$setViewValue(elVal)}else ctrl.$validate()}function maxChange(val){if(maxVal=parseNumberAttrVal(val),!isNumberNaN(ctrl.$modelValue))if(supportsRange){var elVal=element.val();maxVal<elVal&&(element.val(maxVal),elVal=maxVal<minVal?minVal:maxVal),ctrl.$setViewValue(elVal)}else ctrl.$validate()}function stepChange(val){stepVal=parseNumberAttrVal(val),isNumberNaN(ctrl.$modelValue)||(supportsRange&&ctrl.$viewValue!==element.val()?ctrl.$setViewValue(element.val()):ctrl.$validate())}badInputChecker(scope,element,attr,ctrl,"range"),numberFormatterParser(ctrl),baseInputType(scope,element,attr,ctrl,$sniffer,$browser);var supportsRange=ctrl.$$hasNativeValidators&&"range"===element[0].type,minVal=supportsRange?0:void 0,maxVal=supportsRange?100:void 0,stepVal=supportsRange?1:void 0,validity=element[0].validity,hasMinAttr=isDefined(attr.min),hasMaxAttr=isDefined(attr.max),hasStepAttr=isDefined(attr.step),originalRender=ctrl.$render;ctrl.$render=supportsRange&&isDefined(validity.rangeUnderflow)&&isDefined(validity.rangeOverflow)?function(){originalRender(),ctrl.$setViewValue(element.val())}:originalRender,hasMinAttr&&(ctrl.$validators.min=supportsRange?function(){return!0}:function(modelValue,viewValue){return ctrl.$isEmpty(viewValue)||isUndefined(minVal)||viewValue>=minVal},setInitialValueAndObserver("min",minChange)),hasMaxAttr&&(ctrl.$validators.max=supportsRange?function(){return!0}:function(modelValue,viewValue){return ctrl.$isEmpty(viewValue)||isUndefined(maxVal)||viewValue<=maxVal},setInitialValueAndObserver("max",maxChange)),hasStepAttr&&(ctrl.$validators.step=supportsRange?function(){return!validity.stepMismatch}:function(modelValue,viewValue){return ctrl.$isEmpty(viewValue)||isUndefined(stepVal)||isValidForStep(viewValue,minVal||0,stepVal)},setInitialValueAndObserver("step",stepChange))}function urlInputType(scope,element,attr,ctrl,$sniffer,$browser){baseInputType(scope,element,attr,ctrl,$sniffer,$browser),stringBasedInputType(ctrl),ctrl.$validators.url=function(modelValue,viewValue){var value=modelValue||viewValue;return ctrl.$isEmpty(value)||URL_REGEXP.test(value)}}function emailInputType(scope,element,attr,ctrl,$sniffer,$browser){baseInputType(scope,element,attr,ctrl,$sniffer,$browser),stringBasedInputType(ctrl),ctrl.$validators.email=function(modelValue,viewValue){var value=modelValue||viewValue;return ctrl.$isEmpty(value)||EMAIL_REGEXP.test(value)}}function radioInputType(scope,element,attr,ctrl){var doTrim=!attr.ngTrim||"false"!==trim(attr.ngTrim);isUndefined(attr.name)&&element.attr("name",nextUid());var listener=function(ev){var value;element[0].checked&&(value=attr.value,doTrim&&(value=trim(value)),ctrl.$setViewValue(value,ev&&ev.type))};element.on("change",listener),ctrl.$render=function(){var value=attr.value;doTrim&&(value=trim(value)),element[0].checked=value===ctrl.$viewValue},attr.$observe("value",ctrl.$render)}function parseConstantExpr($parse,context,name,expression,fallback){var parseFn;if(isDefined(expression)){if(parseFn=$parse(expression),!parseFn.constant)throw ngModelMinErr("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",name,expression);return parseFn(context)}return fallback}function checkboxInputType(scope,element,attr,ctrl,$sniffer,$browser,$filter,$parse){var trueValue=parseConstantExpr($parse,scope,"ngTrueValue",attr.ngTrueValue,!0),falseValue=parseConstantExpr($parse,scope,"ngFalseValue",attr.ngFalseValue,!1),listener=function(ev){ctrl.$setViewValue(element[0].checked,ev&&ev.type)};element.on("change",listener),ctrl.$render=function(){element[0].checked=ctrl.$viewValue},ctrl.$isEmpty=function(value){return value===!1},ctrl.$formatters.push(function(value){return equals(value,trueValue)}),ctrl.$parsers.push(function(value){return value?trueValue:falseValue})}function classDirective(name,selector){function arrayDifference(tokens1,tokens2){if(!tokens1||!tokens1.length)return[];if(!tokens2||!tokens2.length)return tokens1;var values=[];outer:for(var i=0;i<tokens1.length;i++){for(var token=tokens1[i],j=0;j<tokens2.length;j++)if(token===tokens2[j])continue outer;values.push(token)}return values}function split(classString){return classString&&classString.split(" ")}function toClassString(classValue){var classString=classValue;return isArray(classValue)?classString=classValue.map(toClassString).join(" "):isObject(classValue)&&(classString=Object.keys(classValue).filter(function(key){return classValue[key]}).join(" ")),classString}name="ngClass"+name;var indexWatchExpression;return["$parse",function($parse){return{restrict:"AC",link:function(scope,element,attr){function addClasses(classString){classString=digestClassCounts(split(classString),1),attr.$addClass(classString)}function removeClasses(classString){classString=digestClassCounts(split(classString),-1),attr.$removeClass(classString)}function updateClasses(oldClassString,newClassString){var oldClassArray=split(oldClassString),newClassArray=split(newClassString),toRemoveArray=arrayDifference(oldClassArray,newClassArray),toAddArray=arrayDifference(newClassArray,oldClassArray),toRemoveString=digestClassCounts(toRemoveArray,-1),toAddString=digestClassCounts(toAddArray,1);attr.$addClass(toAddString),attr.$removeClass(toRemoveString)}function digestClassCounts(classArray,count){var classesToUpdate=[];return forEach(classArray,function(className){(count>0||classCounts[className])&&(classCounts[className]=(classCounts[className]||0)+count,classCounts[className]===+(count>0)&&classesToUpdate.push(className))}),classesToUpdate.join(" ")}function ngClassIndexWatchAction(newModulo){newModulo===selector?addClasses(oldClassString):removeClasses(oldClassString),oldModulo=newModulo}function ngClassWatchAction(newClassString){oldModulo===selector&&updateClasses(oldClassString,newClassString),oldClassString=newClassString}var oldClassString,classCounts=element.data("$classCounts"),oldModulo=!0;classCounts||(classCounts=createMap(),element.data("$classCounts",classCounts)),"ngClass"!==name&&(indexWatchExpression||(indexWatchExpression=$parse("$index",function($index){return 1&$index})),scope.$watch(indexWatchExpression,ngClassIndexWatchAction)),scope.$watch($parse(attr[name],toClassString),ngClassWatchAction)}}}]}function NgModelController($scope,$exceptionHandler,$attr,$element,$parse,$animate,$timeout,$q,$interpolate){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=$interpolate($attr.name||"",!1)($scope),this.$$parentForm=nullFormCtrl,this.$options=defaultModelOptions,this.$$updateEvents="",this.$$updateEventHandler=this.$$updateEventHandler.bind(this),this.$$parsedNgModel=$parse($attr.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$parserName="parse",this.$$currentValidationRunId=0,this.$$scope=$scope,this.$$rootScope=$scope.$root,this.$$attr=$attr,this.$$element=$element,this.$$animate=$animate,this.$$timeout=$timeout,this.$$parse=$parse,this.$$q=$q,this.$$exceptionHandler=$exceptionHandler,setupValidity(this),setupModelWatcher(this)}function setupModelWatcher(ctrl){ctrl.$$scope.$watch(function(scope){var modelValue=ctrl.$$ngModelGet(scope);return modelValue===ctrl.$modelValue||ctrl.$modelValue!==ctrl.$modelValue&&modelValue!==modelValue||ctrl.$$setModelValue(modelValue),modelValue})}function ModelOptions(options){this.$$options=options}function defaults(dst,src){forEach(src,function(value,key){isDefined(dst[key])||(dst[key]=value)})}function setOptionSelectedStatus(optionEl,value){optionEl.prop("selected",value),optionEl.attr("selected",value)}var msie,jqLite,jQuery,angularModule,minErrConfig={objectMaxDepth:5,urlErrorParamsEnabled:!0},REGEX_STRING_REGEXP=/^\/(.+)\/([a-z]*)$/,VALIDITY_STATE_PROPERTY="validity",hasOwnProperty=Object.prototype.hasOwnProperty,lowercase=function(string){return isString(string)?string.toLowerCase():string},uppercase=function(string){return isString(string)?string.toUpperCase():string},slice=[].slice,splice=[].splice,push=[].push,toString=Object.prototype.toString,getPrototypeOf=Object.getPrototypeOf,ngMinErr=minErr("ng"),angular=window.angular||(window.angular={}),uid=0;msie=window.document.documentMode;var isNumberNaN=Number.isNaN||function(num){return num!==num};noop.$inject=[],identity.$inject=[];var TYPED_ARRAY_REGEXP=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/,trim=function(value){return isString(value)?value.trim():value},escapeForRegexp=function(s){return s.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},csp=function(){function noUnsafeEval(){try{return new Function(""),!1}catch(e){return!0}}if(!isDefined(csp.rules)){var ngCspElement=window.document.querySelector("[ng-csp]")||window.document.querySelector("[data-ng-csp]");if(ngCspElement){var ngCspAttribute=ngCspElement.getAttribute("ng-csp")||ngCspElement.getAttribute("data-ng-csp");csp.rules={noUnsafeEval:!ngCspAttribute||ngCspAttribute.indexOf("no-unsafe-eval")!==-1,noInlineStyle:!ngCspAttribute||ngCspAttribute.indexOf("no-inline-style")!==-1}}else csp.rules={noUnsafeEval:noUnsafeEval(),noInlineStyle:!1}}return csp.rules},jq=function(){if(isDefined(jq.name_))return jq.name_;var el,i,prefix,name,ii=ngAttrPrefixes.length;for(i=0;i<ii;++i)if(prefix=ngAttrPrefixes[i],el=window.document.querySelector("["+prefix.replace(":","\\:")+"jq]")){name=el.getAttribute(prefix+"jq");break}return jq.name_=name},ALL_COLONS=/:/g,ngAttrPrefixes=["ng-","data-ng-","ng:","x-ng-"],isAutoBootstrapAllowed=allowAutoBootstrap(window.document),SNAKE_CASE_REGEXP=/[A-Z]/g,bindJQueryFired=!1,NODE_TYPE_ELEMENT=1,NODE_TYPE_ATTRIBUTE=2,NODE_TYPE_TEXT=3,NODE_TYPE_COMMENT=8,NODE_TYPE_DOCUMENT=9,NODE_TYPE_DOCUMENT_FRAGMENT=11,version={full:"1.7.2",major:1,minor:7,dot:2,codeName:"extreme-compatiplication"};JQLite.expando="ng339";var jqCache=JQLite.cache={},jqId=1;JQLite._data=function(node){return this.cache[node[this.expando]]||{}};var DASH_LOWERCASE_REGEXP=/-([a-z])/g,MS_HACK_REGEXP=/^-ms-/,MOUSE_EVENT_MAP={mouseleave:"mouseout",mouseenter:"mouseover"},jqLiteMinErr=minErr("jqLite"),SINGLE_TAG_REGEXP=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,HTML_REGEXP=/<|&#?\w+;/,TAG_NAME_REGEXP=/<([\w:-]+)/,XHTML_TAG_REGEXP=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,wrapMap={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};wrapMap.optgroup=wrapMap.option,wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead,wrapMap.th=wrapMap.td;var jqLiteContains=window.Node.prototype.contains||function(arg){return!!(16&this.compareDocumentPosition(arg))},JQLitePrototype=JQLite.prototype={ready:jqLiteReady,toString:function(){var value=[];return forEach(this,function(e){value.push(""+e)}),"["+value.join(", ")+"]"},eq:function(index){return jqLite(index>=0?this[index]:this[this.length+index])},length:0,push:push,sort:[].sort,splice:[].splice},BOOLEAN_ATTR={};forEach("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(value){BOOLEAN_ATTR[lowercase(value)]=value});var BOOLEAN_ELEMENTS={};forEach("input,select,option,textarea,button,form,details".split(","),function(value){BOOLEAN_ELEMENTS[value]=!0});var ALIASED_ATTR={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};forEach({data:jqLiteData,removeData:jqLiteRemoveData,hasData:jqLiteHasData,cleanData:function(nodes){for(var i=0,ii=nodes.length;i<ii;i++)jqLiteRemoveData(nodes[i]),jqLiteOff(nodes[i])}},function(fn,name){JQLite[name]=fn}),forEach({data:jqLiteData,inheritedData:jqLiteInheritedData,scope:function(element){return jqLite.data(element,"$scope")||jqLiteInheritedData(element.parentNode||element,["$isolateScope","$scope"])},isolateScope:function(element){return jqLite.data(element,"$isolateScope")||jqLite.data(element,"$isolateScopeNoTemplate")},controller:jqLiteController,injector:function(element){return jqLiteInheritedData(element,"$injector")},removeAttr:function(element,name){element.removeAttribute(name)},hasClass:jqLiteHasClass,css:function(element,name,value){return name=cssKebabToCamel(name),isDefined(value)?void(element.style[name]=value):element.style[name]},attr:function(element,name,value){var ret,nodeType=element.nodeType;if(nodeType!==NODE_TYPE_TEXT&&nodeType!==NODE_TYPE_ATTRIBUTE&&nodeType!==NODE_TYPE_COMMENT&&element.getAttribute){var lowercasedName=lowercase(name),isBooleanAttr=BOOLEAN_ATTR[lowercasedName];return isDefined(value)?void(null===value||value===!1&&isBooleanAttr?element.removeAttribute(name):element.setAttribute(name,isBooleanAttr?lowercasedName:value)):(ret=element.getAttribute(name),isBooleanAttr&&null!==ret&&(ret=lowercasedName),null===ret?void 0:ret)}},prop:function(element,name,value){return isDefined(value)?void(element[name]=value):element[name]},text:function(){function getText(element,value){if(isUndefined(value)){var nodeType=element.nodeType;return nodeType===NODE_TYPE_ELEMENT||nodeType===NODE_TYPE_TEXT?element.textContent:""}element.textContent=value}return getText.$dv="",getText}(),val:function(element,value){if(isUndefined(value)){if(element.multiple&&"select"===nodeName_(element)){var result=[];return forEach(element.options,function(option){option.selected&&result.push(option.value||option.text)}),result}return element.value}element.value=value},html:function(element,value){return isUndefined(value)?element.innerHTML:(jqLiteDealoc(element,!0),void(element.innerHTML=value))},empty:jqLiteEmpty},function(fn,name){JQLite.prototype[name]=function(arg1,arg2){var i,key,nodeCount=this.length;if(fn!==jqLiteEmpty&&isUndefined(2===fn.length&&fn!==jqLiteHasClass&&fn!==jqLiteController?arg1:arg2)){if(isObject(arg1)){for(i=0;i<nodeCount;i++)if(fn===jqLiteData)fn(this[i],arg1);else for(key in arg1)fn(this[i],key,arg1[key]);return this}for(var value=fn.$dv,jj=isUndefined(value)?Math.min(nodeCount,1):nodeCount,j=0;j<jj;j++){var nodeValue=fn(this[j],arg1,arg2);value=value?value+nodeValue:nodeValue}return value}for(i=0;i<nodeCount;i++)fn(this[i],arg1,arg2);return this}}),forEach({removeData:jqLiteRemoveData,on:function(element,type,fn,unsupported){if(isDefined(unsupported))throw jqLiteMinErr("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(jqLiteAcceptsData(element)){var expandoStore=jqLiteExpandoStore(element,!0),events=expandoStore.events,handle=expandoStore.handle;handle||(handle=expandoStore.handle=createEventHandler(element,events));for(var types=type.indexOf(" ")>=0?type.split(" "):[type],i=types.length,addHandler=function(type,specialHandlerWrapper,noEventListener){var eventFns=events[type];eventFns||(eventFns=events[type]=[],eventFns.specialHandlerWrapper=specialHandlerWrapper,"$destroy"===type||noEventListener||element.addEventListener(type,handle)),eventFns.push(fn)};i--;)type=types[i],MOUSE_EVENT_MAP[type]?(addHandler(MOUSE_EVENT_MAP[type],specialMouseHandlerWrapper),addHandler(type,void 0,!0)):addHandler(type)}},off:jqLiteOff,one:function(element,type,fn){element=jqLite(element),element.on(type,function onFn(){element.off(type,fn),element.off(type,onFn)}),element.on(type,fn)},replaceWith:function(element,replaceNode){var index,parent=element.parentNode;jqLiteDealoc(element),forEach(new JQLite(replaceNode),function(node){index?parent.insertBefore(node,index.nextSibling):parent.replaceChild(node,element),index=node})},children:function(element){var children=[];return forEach(element.childNodes,function(element){element.nodeType===NODE_TYPE_ELEMENT&&children.push(element)}),children},contents:function(element){return element.contentDocument||element.childNodes||[]},append:function(element,node){var nodeType=element.nodeType;if(nodeType===NODE_TYPE_ELEMENT||nodeType===NODE_TYPE_DOCUMENT_FRAGMENT){node=new JQLite(node);for(var i=0,ii=node.length;i<ii;i++){var child=node[i];element.appendChild(child)}}},prepend:function(element,node){if(element.nodeType===NODE_TYPE_ELEMENT){var index=element.firstChild;forEach(new JQLite(node),function(child){element.insertBefore(child,index)})}},wrap:function(element,wrapNode){jqLiteWrapNode(element,jqLite(wrapNode).eq(0).clone()[0])},remove:jqLiteRemove,detach:function(element){jqLiteRemove(element,!0)},after:function(element,newElement){var index=element,parent=element.parentNode;if(parent){newElement=new JQLite(newElement);for(var i=0,ii=newElement.length;i<ii;i++){var node=newElement[i];parent.insertBefore(node,index.nextSibling),index=node}}},addClass:jqLiteAddClass,removeClass:jqLiteRemoveClass,toggleClass:function(element,selector,condition){selector&&forEach(selector.split(" "),function(className){var classCondition=condition;isUndefined(classCondition)&&(classCondition=!jqLiteHasClass(element,className)),(classCondition?jqLiteAddClass:jqLiteRemoveClass)(element,className)})},parent:function(element){var parent=element.parentNode;return parent&&parent.nodeType!==NODE_TYPE_DOCUMENT_FRAGMENT?parent:null},next:function(element){return element.nextElementSibling},find:function(element,selector){return element.getElementsByTagName?element.getElementsByTagName(selector):[]},clone:jqLiteClone,triggerHandler:function(element,event,extraParameters){var dummyEvent,eventFnsCopy,handlerArgs,eventName=event.type||event,expandoStore=jqLiteExpandoStore(element),events=expandoStore&&expandoStore.events,eventFns=events&&events[eventName];eventFns&&(dummyEvent={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:noop,type:eventName,target:element},event.type&&(dummyEvent=extend(dummyEvent,event)),eventFnsCopy=shallowCopy(eventFns),handlerArgs=extraParameters?[dummyEvent].concat(extraParameters):[dummyEvent],forEach(eventFnsCopy,function(fn){dummyEvent.isImmediatePropagationStopped()||fn.apply(element,handlerArgs)}))}},function(fn,name){JQLite.prototype[name]=function(arg1,arg2,arg3){for(var value,i=0,ii=this.length;i<ii;i++)isUndefined(value)?(value=fn(this[i],arg1,arg2,arg3),isDefined(value)&&(value=jqLite(value))):jqLiteAddNodes(value,fn(this[i],arg1,arg2,arg3));return isDefined(value)?value:this}}),JQLite.prototype.bind=JQLite.prototype.on,JQLite.prototype.unbind=JQLite.prototype.off;var nanKey=Object.create(null);NgMapShim.prototype={_idx:function(key){return key===this._lastKey?this._lastIndex:(this._lastKey=key,this._lastIndex=this._keys.indexOf(key),this._lastIndex)},_transformKey:function(key){return isNumberNaN(key)?nanKey:key},get:function(key){key=this._transformKey(key);var idx=this._idx(key);if(idx!==-1)return this._values[idx]},set:function(key,value){key=this._transformKey(key);var idx=this._idx(key);idx===-1&&(idx=this._lastIndex=this._keys.length),this._keys[idx]=key,this._values[idx]=value},"delete":function(key){key=this._transformKey(key);var idx=this._idx(key);return idx!==-1&&(this._keys.splice(idx,1),this._values.splice(idx,1),this._lastKey=NaN,this._lastIndex=-1,
!0)}};var NgMap=NgMapShim,$$MapProvider=[function(){this.$get=[function(){return NgMap}]}],ARROW_ARG=/^([^(]+?)=>/,FN_ARGS=/^[^(]*\(\s*([^)]*)\)/m,FN_ARG_SPLIT=/,/,FN_ARG=/^\s*(_?)(\S+?)\1\s*$/,STRIP_COMMENTS=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,$injectorMinErr=minErr("$injector");createInjector.$$annotate=annotate;var $animateMinErr=minErr("$animate"),ELEMENT_NODE=1,NG_ANIMATE_CLASSNAME="ng-animate",$$CoreAnimateJsProvider=function(){this.$get=noop},$$CoreAnimateQueueProvider=function(){var postDigestQueue=new NgMap,postDigestElements=[];this.$get=["$$AnimateRunner","$rootScope",function($$AnimateRunner,$rootScope){function updateData(data,classes,value){var changed=!1;return classes&&(classes=isString(classes)?classes.split(" "):isArray(classes)?classes:[],forEach(classes,function(className){className&&(changed=!0,data[className]=value)})),changed}function handleCSSClassChanges(){forEach(postDigestElements,function(element){var data=postDigestQueue.get(element);if(data){var existing=splitClasses(element.attr("class")),toAdd="",toRemove="";forEach(data,function(status,className){var hasClass=!!existing[className];status!==hasClass&&(status?toAdd+=(toAdd.length?" ":"")+className:toRemove+=(toRemove.length?" ":"")+className)}),forEach(element,function(elm){toAdd&&jqLiteAddClass(elm,toAdd),toRemove&&jqLiteRemoveClass(elm,toRemove)}),postDigestQueue["delete"](element)}}),postDigestElements.length=0}function addRemoveClassesPostDigest(element,add,remove){var data=postDigestQueue.get(element)||{},classesAdded=updateData(data,add,!0),classesRemoved=updateData(data,remove,!1);(classesAdded||classesRemoved)&&(postDigestQueue.set(element,data),postDigestElements.push(element),1===postDigestElements.length&&$rootScope.$$postDigest(handleCSSClassChanges))}return{enabled:noop,on:noop,off:noop,pin:noop,push:function(element,event,options,domOperation){domOperation&&domOperation(),options=options||{},options.from&&element.css(options.from),options.to&&element.css(options.to),(options.addClass||options.removeClass)&&addRemoveClassesPostDigest(element,options.addClass,options.removeClass);var runner=new $$AnimateRunner;return runner.complete(),runner}}}]},$AnimateProvider=["$provide",function($provide){var provider=this,classNameFilter=null,customFilter=null;this.$$registeredAnimations=Object.create(null),this.register=function(name,factory){if(name&&"."!==name.charAt(0))throw $animateMinErr("notcsel","Expecting class selector starting with '.' got '{0}'.",name);var key=name+"-animation";provider.$$registeredAnimations[name.substr(1)]=key,$provide.factory(key,factory)},this.customFilter=function(filterFn){return 1===arguments.length&&(customFilter=isFunction(filterFn)?filterFn:null),customFilter},this.classNameFilter=function(expression){if(1===arguments.length&&(classNameFilter=expression instanceof RegExp?expression:null)){var reservedRegex=new RegExp("[(\\s|\\/)]"+NG_ANIMATE_CLASSNAME+"[(\\s|\\/)]");if(reservedRegex.test(classNameFilter.toString()))throw classNameFilter=null,$animateMinErr("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',NG_ANIMATE_CLASSNAME)}return classNameFilter},this.$get=["$$animateQueue",function($$animateQueue){function domInsert(element,parentElement,afterElement){if(afterElement){var afterNode=extractElementNode(afterElement);!afterNode||afterNode.parentNode||afterNode.previousElementSibling||(afterElement=null)}afterElement?afterElement.after(element):parentElement.prepend(element)}return{on:$$animateQueue.on,off:$$animateQueue.off,pin:$$animateQueue.pin,enabled:$$animateQueue.enabled,cancel:function(runner){runner.cancel&&runner.cancel()},enter:function(element,parent,after,options){return parent=parent&&jqLite(parent),after=after&&jqLite(after),parent=parent||after.parent(),domInsert(element,parent,after),$$animateQueue.push(element,"enter",prepareAnimateOptions(options))},move:function(element,parent,after,options){return parent=parent&&jqLite(parent),after=after&&jqLite(after),parent=parent||after.parent(),domInsert(element,parent,after),$$animateQueue.push(element,"move",prepareAnimateOptions(options))},leave:function(element,options){return $$animateQueue.push(element,"leave",prepareAnimateOptions(options),function(){element.remove()})},addClass:function(element,className,options){return options=prepareAnimateOptions(options),options.addClass=mergeClasses(options.addclass,className),$$animateQueue.push(element,"addClass",options)},removeClass:function(element,className,options){return options=prepareAnimateOptions(options),options.removeClass=mergeClasses(options.removeClass,className),$$animateQueue.push(element,"removeClass",options)},setClass:function(element,add,remove,options){return options=prepareAnimateOptions(options),options.addClass=mergeClasses(options.addClass,add),options.removeClass=mergeClasses(options.removeClass,remove),$$animateQueue.push(element,"setClass",options)},animate:function(element,from,to,className,options){return options=prepareAnimateOptions(options),options.from=options.from?extend(options.from,from):from,options.to=options.to?extend(options.to,to):to,className=className||"ng-inline-animate",options.tempClasses=mergeClasses(options.tempClasses,className),$$animateQueue.push(element,"animate",options)}}}]}],$$AnimateAsyncRunFactoryProvider=function(){this.$get=["$$rAF",function($$rAF){function waitForTick(fn){waitQueue.push(fn),waitQueue.length>1||$$rAF(function(){for(var i=0;i<waitQueue.length;i++)waitQueue[i]();waitQueue=[]})}var waitQueue=[];return function(){var passed=!1;return waitForTick(function(){passed=!0}),function(callback){passed?callback():waitForTick(callback)}}}]},$$AnimateRunnerFactoryProvider=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function($q,$sniffer,$$animateAsyncRun,$$isDocumentHidden,$timeout){function AnimateRunner(host){this.setHost(host);var rafTick=$$animateAsyncRun(),timeoutTick=function(fn){$timeout(fn,0,!1)};this._doneCallbacks=[],this._tick=function(fn){$$isDocumentHidden()?timeoutTick(fn):rafTick(fn)},this._state=0}var INITIAL_STATE=0,DONE_PENDING_STATE=1,DONE_COMPLETE_STATE=2;return AnimateRunner.chain=function(chain,callback){function next(){return index===chain.length?void callback(!0):void chain[index](function(response){return response===!1?void callback(!1):(index++,void next())})}var index=0;next()},AnimateRunner.all=function(runners,callback){function onProgress(response){status=status&&response,++count===runners.length&&callback(status)}var count=0,status=!0;forEach(runners,function(runner){runner.done(onProgress)})},AnimateRunner.prototype={setHost:function(host){this.host=host||{}},done:function(fn){this._state===DONE_COMPLETE_STATE?fn():this._doneCallbacks.push(fn)},progress:noop,getPromise:function(){if(!this.promise){var self=this;this.promise=$q(function(resolve,reject){self.done(function(status){status===!1?reject():resolve()})})}return this.promise},then:function(resolveHandler,rejectHandler){return this.getPromise().then(resolveHandler,rejectHandler)},"catch":function(handler){return this.getPromise()["catch"](handler)},"finally":function(handler){return this.getPromise()["finally"](handler)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(response){var self=this;self._state===INITIAL_STATE&&(self._state=DONE_PENDING_STATE,self._tick(function(){self._resolve(response)}))},_resolve:function(response){this._state!==DONE_COMPLETE_STATE&&(forEach(this._doneCallbacks,function(fn){fn(response)}),this._doneCallbacks.length=0,this._state=DONE_COMPLETE_STATE)}},AnimateRunner}]},$CoreAnimateCssProvider=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function($$rAF,$q,$$AnimateRunner){return function(element,initialOptions){function run(){return $$rAF(function(){applyAnimationContents(),closed||runner.complete(),closed=!0}),runner}function applyAnimationContents(){options.addClass&&(element.addClass(options.addClass),options.addClass=null),options.removeClass&&(element.removeClass(options.removeClass),options.removeClass=null),options.to&&(element.css(options.to),options.to=null)}var options=initialOptions||{};options.$$prepared||(options=copy(options)),options.cleanupStyles&&(options.from=options.to=null),options.from&&(element.css(options.from),options.from=null);var closed,runner=new $$AnimateRunner;return{start:run,end:run}}}]},$compileMinErr=minErr("$compile"),_UNINITIALIZED_VALUE=new UNINITIALIZED_VALUE;$CompileProvider.$inject=["$provide","$$sanitizeUriProvider"],SimpleChange.prototype.isFirstChange=function(){return this.previousValue===_UNINITIALIZED_VALUE};var PREFIX_REGEXP=/^((?:x|data)[:\-_])/i,SPECIAL_CHARS_REGEXP=/[:\-_]+(.)/g,$controllerMinErr=minErr("$controller"),CNTRL_REG=/^(\S+)(\s+as\s+([\w$]+))?$/,$$ForceReflowProvider=function(){this.$get=["$document",function($document){return function(domNode){return domNode?!domNode.nodeType&&domNode instanceof jqLite&&(domNode=domNode[0]):domNode=$document[0].body,domNode.offsetWidth+1}}]},APPLICATION_JSON="application/json",CONTENT_TYPE_APPLICATION_JSON={"Content-Type":APPLICATION_JSON+";charset=utf-8"},JSON_START=/^\[|^\{(?!\{)/,JSON_ENDS={"[":/]$/,"{":/}$/},JSON_PROTECTION_PREFIX=/^\)]\}',?\n/,$httpMinErr=minErr("$http"),$interpolateMinErr=angular.$interpolateMinErr=minErr("$interpolate");$interpolateMinErr.throwNoconcat=function(text){throw $interpolateMinErr("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",text)},$interpolateMinErr.interr=function(text,err){return $interpolateMinErr("interr","Can't interpolate: {0}\n{1}",text,err.toString())};var $intervalMinErr=minErr("$interval"),$jsonpCallbacksProvider=function(){this.$get=function(){function createCallback(callbackId){var callback=function(data){callback.data=data,callback.called=!0};return callback.id=callbackId,callback}var callbacks=angular.callbacks,callbackMap={};return{createCallback:function(url){var callbackId="_"+(callbacks.$$counter++).toString(36),callbackPath="angular.callbacks."+callbackId,callback=createCallback(callbackId);return callbackMap[callbackPath]=callbacks[callbackId]=callback,callbackPath},wasCalled:function(callbackPath){return callbackMap[callbackPath].called},getResponse:function(callbackPath){return callbackMap[callbackPath].data},removeCallback:function(callbackPath){var callback=callbackMap[callbackPath];delete callbacks[callback.id],delete callbackMap[callbackPath]}}}},PATH_MATCH=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,DEFAULT_PORTS={http:80,https:443,ftp:21},$locationMinErr=minErr("$location"),DOUBLE_SLASH_REGEX=/^\s*[\\\/]{2,}/,locationPrototype={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:locationGetter("$$absUrl"),url:function(url){if(isUndefined(url))return this.$$url;var match=PATH_MATCH.exec(url);return(match[1]||""===url)&&this.path(decodeURIComponent(match[1])),(match[2]||match[1]||""===url)&&this.search(match[3]||""),this.hash(match[5]||""),this},protocol:locationGetter("$$protocol"),host:locationGetter("$$host"),port:locationGetter("$$port"),path:locationGetterSetter("$$path",function(path){return path=null!==path?path.toString():"","/"===path.charAt(0)?path:"/"+path}),search:function(search,paramValue){switch(arguments.length){case 0:return this.$$search;case 1:if(isString(search)||isNumber(search))search=search.toString(),this.$$search=parseKeyValue(search);else{if(!isObject(search))throw $locationMinErr("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");search=copy(search,{}),forEach(search,function(value,key){null==value&&delete search[key]}),this.$$search=search}break;default:isUndefined(paramValue)||null===paramValue?delete this.$$search[search]:this.$$search[search]=paramValue}return this.$$compose(),this},hash:locationGetterSetter("$$hash",function(hash){return null!==hash?hash.toString():""}),replace:function(){return this.$$replace=!0,this}};forEach([LocationHashbangInHtml5Url,LocationHashbangUrl,LocationHtml5Url],function(Location){Location.prototype=Object.create(locationPrototype),Location.prototype.state=function(state){if(!arguments.length)return this.$$state;if(Location!==LocationHtml5Url||!this.$$html5)throw $locationMinErr("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=isUndefined(state)?null:state,this.$$urlUpdatedByLocation=!0,this}});var $parseMinErr=minErr("$parse"),objectValueOf={}.constructor.prototype.valueOf,OPERATORS=createMap();forEach("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(operator){OPERATORS[operator]=!0});var ESCAPE={n:"\n",f:"\f",r:"\r",t:"\t",v:"\x0B","'":"'",'"':'"'},Lexer=function(options){this.options=options};Lexer.prototype={constructor:Lexer,lex:function(text){for(this.text=text,this.index=0,this.tokens=[];this.index<this.text.length;){var ch=this.text.charAt(this.index);if('"'===ch||"'"===ch)this.readString(ch);else if(this.isNumber(ch)||"."===ch&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(ch,"(){}[].,;:?"))this.tokens.push({index:this.index,text:ch}),this.index++;else if(this.isWhitespace(ch))this.index++;else{var ch2=ch+this.peek(),ch3=ch2+this.peek(2),op1=OPERATORS[ch],op2=OPERATORS[ch2],op3=OPERATORS[ch3];if(op1||op2||op3){var token=op3?ch3:op2?ch2:ch;this.tokens.push({index:this.index,text:token,operator:!0}),this.index+=token.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(ch,chars){return chars.indexOf(ch)!==-1},peek:function(i){var num=i||1;return this.index+num<this.text.length&&this.text.charAt(this.index+num)},isNumber:function(ch){return"0"<=ch&&ch<="9"&&"string"==typeof ch},isWhitespace:function(ch){return" "===ch||"\r"===ch||"\t"===ch||"\n"===ch||"\x0B"===ch||" "===ch},isIdentifierStart:function(ch){return this.options.isIdentifierStart?this.options.isIdentifierStart(ch,this.codePointAt(ch)):this.isValidIdentifierStart(ch)},isValidIdentifierStart:function(ch){return"a"<=ch&&ch<="z"||"A"<=ch&&ch<="Z"||"_"===ch||"$"===ch},isIdentifierContinue:function(ch){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(ch,this.codePointAt(ch)):this.isValidIdentifierContinue(ch)},isValidIdentifierContinue:function(ch,cp){return this.isValidIdentifierStart(ch,cp)||this.isNumber(ch)},codePointAt:function(ch){return 1===ch.length?ch.charCodeAt(0):(ch.charCodeAt(0)<<10)+ch.charCodeAt(1)-56613888},peekMultichar:function(){var ch=this.text.charAt(this.index),peek=this.peek();if(!peek)return ch;var cp1=ch.charCodeAt(0),cp2=peek.charCodeAt(0);return cp1>=55296&&cp1<=56319&&cp2>=56320&&cp2<=57343?ch+peek:ch},isExpOperator:function(ch){return"-"===ch||"+"===ch||this.isNumber(ch)},throwError:function(error,start,end){end=end||this.index;var colStr=isDefined(start)?"s "+start+"-"+this.index+" ["+this.text.substring(start,end)+"]":" "+end;throw $parseMinErr("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",error,colStr,this.text)},readNumber:function(){for(var number="",start=this.index;this.index<this.text.length;){var ch=lowercase(this.text.charAt(this.index));if("."===ch||this.isNumber(ch))number+=ch;else{var peekCh=this.peek();if("e"===ch&&this.isExpOperator(peekCh))number+=ch;else if(this.isExpOperator(ch)&&peekCh&&this.isNumber(peekCh)&&"e"===number.charAt(number.length-1))number+=ch;else{if(!this.isExpOperator(ch)||peekCh&&this.isNumber(peekCh)||"e"!==number.charAt(number.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:start,text:number,constant:!0,value:Number(number)})},readIdent:function(){var start=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var ch=this.peekMultichar();if(!this.isIdentifierContinue(ch))break;this.index+=ch.length}this.tokens.push({index:start,text:this.text.slice(start,this.index),identifier:!0})},readString:function(quote){var start=this.index;this.index++;for(var string="",rawString=quote,escape=!1;this.index<this.text.length;){var ch=this.text.charAt(this.index);if(rawString+=ch,escape){if("u"===ch){var hex=this.text.substring(this.index+1,this.index+5);hex.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+hex+"]"),this.index+=4,string+=String.fromCharCode(parseInt(hex,16))}else{var rep=ESCAPE[ch];string+=rep||ch}escape=!1}else if("\\"===ch)escape=!0;else{if(ch===quote)return this.index++,void this.tokens.push({index:start,text:rawString,constant:!0,value:string});string+=ch}this.index++}this.throwError("Unterminated quote",start)}};var AST=function(lexer,options){this.lexer=lexer,this.options=options};AST.Program="Program",AST.ExpressionStatement="ExpressionStatement",AST.AssignmentExpression="AssignmentExpression",AST.ConditionalExpression="ConditionalExpression",AST.LogicalExpression="LogicalExpression",AST.BinaryExpression="BinaryExpression",AST.UnaryExpression="UnaryExpression",AST.CallExpression="CallExpression",AST.MemberExpression="MemberExpression",AST.Identifier="Identifier",AST.Literal="Literal",AST.ArrayExpression="ArrayExpression",AST.Property="Property",AST.ObjectExpression="ObjectExpression",AST.ThisExpression="ThisExpression",AST.LocalsExpression="LocalsExpression",AST.NGValueParameter="NGValueParameter",AST.prototype={ast:function(text){this.text=text,this.tokens=this.lexer.lex(text);var value=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),value},program:function(){for(var body=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&body.push(this.expressionStatement()),!this.expect(";"))return{type:AST.Program,body:body}},expressionStatement:function(){return{type:AST.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var left=this.expression();this.expect("|");)left=this.filter(left);return left},expression:function(){return this.assignment()},assignment:function(){var result=this.ternary();if(this.expect("=")){if(!isAssignable(result))throw $parseMinErr("lval","Trying to assign a value to a non l-value");result={type:AST.AssignmentExpression,left:result,right:this.assignment(),operator:"="}}return result},ternary:function(){var alternate,consequent,test=this.logicalOR();return this.expect("?")&&(alternate=this.expression(),this.consume(":"))?(consequent=this.expression(),{type:AST.ConditionalExpression,test:test,alternate:alternate,consequent:consequent}):test},logicalOR:function(){for(var left=this.logicalAND();this.expect("||");)left={type:AST.LogicalExpression,operator:"||",left:left,right:this.logicalAND()};return left},logicalAND:function(){for(var left=this.equality();this.expect("&&");)left={type:AST.LogicalExpression,operator:"&&",left:left,right:this.equality()};return left},equality:function(){for(var token,left=this.relational();token=this.expect("==","!=","===","!==");)left={type:AST.BinaryExpression,operator:token.text,left:left,right:this.relational()};return left},relational:function(){for(var token,left=this.additive();token=this.expect("<",">","<=",">=");)left={type:AST.BinaryExpression,operator:token.text,left:left,right:this.additive()};return left},additive:function(){for(var token,left=this.multiplicative();token=this.expect("+","-");)left={type:AST.BinaryExpression,operator:token.text,left:left,right:this.multiplicative()};return left},multiplicative:function(){for(var token,left=this.unary();token=this.expect("*","/","%");)left={type:AST.BinaryExpression,operator:token.text,left:left,right:this.unary()};return left},unary:function(){var token;return(token=this.expect("+","-","!"))?{type:AST.UnaryExpression,operator:token.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var primary;this.expect("(")?(primary=this.filterChain(),this.consume(")")):this.expect("[")?primary=this.arrayDeclaration():this.expect("{")?primary=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?primary=copy(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?primary={type:AST.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?primary=this.identifier():this.peek().constant?primary=this.constant():this.throwError("not a primary expression",this.peek());for(var next;next=this.expect("(","[",".");)"("===next.text?(primary={type:AST.CallExpression,callee:primary,arguments:this.parseArguments()},this.consume(")")):"["===next.text?(primary={type:AST.MemberExpression,object:primary,property:this.expression(),computed:!0},this.consume("]")):"."===next.text?primary={type:AST.MemberExpression,object:primary,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return primary},filter:function(baseExpression){for(var args=[baseExpression],result={type:AST.CallExpression,callee:this.identifier(),arguments:args,filter:!0};this.expect(":");)args.push(this.expression());return result},parseArguments:function(){var args=[];if(")"!==this.peekToken().text)do args.push(this.filterChain());while(this.expect(","));return args},identifier:function(){var token=this.consume();return token.identifier||this.throwError("is not a valid identifier",token),{type:AST.Identifier,name:token.text}},constant:function(){return{type:AST.Literal,value:this.consume().value}},arrayDeclaration:function(){var elements=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;elements.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:AST.ArrayExpression,elements:elements}},object:function(){var property,properties=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;property={type:AST.Property,kind:"init"},this.peek().constant?(property.key=this.constant(),property.computed=!1,this.consume(":"),property.value=this.expression()):this.peek().identifier?(property.key=this.identifier(),property.computed=!1,this.peek(":")?(this.consume(":"),property.value=this.expression()):property.value=property.key):this.peek("[")?(this.consume("["),property.key=this.expression(),this.consume("]"),property.computed=!0,this.consume(":"),property.value=this.expression()):this.throwError("invalid key",this.peek()),properties.push(property)}while(this.expect(","));return this.consume("}"),{type:AST.ObjectExpression,properties:properties}},throwError:function(msg,token){throw $parseMinErr("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",token.text,msg,token.index+1,this.text,this.text.substring(token.index))},consume:function(e1){if(0===this.tokens.length)throw $parseMinErr("ueoe","Unexpected end of expression: {0}",this.text);var token=this.expect(e1);return token||this.throwError("is unexpected, expecting ["+e1+"]",this.peek()),token},peekToken:function(){if(0===this.tokens.length)throw $parseMinErr("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e1,e2,e3,e4){return this.peekAhead(0,e1,e2,e3,e4)},peekAhead:function(i,e1,e2,e3,e4){if(this.tokens.length>i){var token=this.tokens[i],t=token.text;if(t===e1||t===e2||t===e3||t===e4||!e1&&!e2&&!e3&&!e4)return token}return!1},expect:function(e1,e2,e3,e4){var token=this.peek(e1,e2,e3,e4);return!!token&&(this.tokens.shift(),token)},selfReferential:{"this":{type:AST.ThisExpression},$locals:{type:AST.LocalsExpression}}};var PURITY_ABSOLUTE=1,PURITY_RELATIVE=2;ASTCompiler.prototype={compile:function(ast){var self=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},findConstantAndWatchExpressions(ast,self.$filter);var assignable,extra="";if(this.stage="assign",assignable=assignableAST(ast)){this.state.computing="assign";var result=this.nextId();this.recurse(assignable,result),this.return_(result),extra="fn.assign="+this.generateFunction("assign","s,v,l")}var toWatch=getInputs(ast.body);self.stage="inputs",forEach(toWatch,function(watch,key){var fnKey="fn"+key;self.state[fnKey]={vars:[],body:[],own:{}},self.state.computing=fnKey;var intoId=self.nextId();self.recurse(watch,intoId),self.return_(intoId),self.state.inputs.push({name:fnKey,isPure:watch.isPure}),watch.watchId=key}),this.state.computing="fn",this.stage="main",this.recurse(ast);var fnString='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+extra+this.watchFns()+"return fn;",fn=new Function("$filter","getStringValue","ifDefined","plus",fnString)(this.$filter,getStringValue,ifDefined,plusFn);return this.state=this.stage=void 0,fn},USE:"use",STRICT:"strict",watchFns:function(){var result=[],inputs=this.state.inputs,self=this;return forEach(inputs,function(input){result.push("var "+input.name+"="+self.generateFunction(input.name,"s")),input.isPure&&result.push(input.name,".isPure="+JSON.stringify(input.isPure)+";")}),inputs.length&&result.push("fn.inputs=["+inputs.map(function(i){return i.name}).join(",")+"];"),result.join("")},generateFunction:function(name,params){return"function("+params+"){"+this.varsPrefix(name)+this.body(name)+"};"},filterPrefix:function(){var parts=[],self=this;return forEach(this.state.filters,function(id,filter){parts.push(id+"=$filter("+self.escape(filter)+")")}),parts.length?"var "+parts.join(",")+";":""},varsPrefix:function(section){return this.state[section].vars.length?"var "+this.state[section].vars.join(",")+";":""},body:function(section){return this.state[section].body.join("")},recurse:function(ast,intoId,nameId,recursionFn,create,skipWatchIdCheck){var left,right,args,expression,computed,self=this;if(recursionFn=recursionFn||noop,!skipWatchIdCheck&&isDefined(ast.watchId))return intoId=intoId||this.nextId(),void this.if_("i",this.lazyAssign(intoId,this.computedMember("i",ast.watchId)),this.lazyRecurse(ast,intoId,nameId,recursionFn,create,!0));switch(ast.type){case AST.Program:forEach(ast.body,function(expression,pos){self.recurse(expression.expression,void 0,void 0,function(expr){right=expr}),pos!==ast.body.length-1?self.current().body.push(right,";"):self.return_(right)});break;case AST.Literal:expression=this.escape(ast.value),this.assign(intoId,expression),recursionFn(intoId||expression);break;case AST.UnaryExpression:this.recurse(ast.argument,void 0,void 0,function(expr){right=expr}),expression=ast.operator+"("+this.ifDefined(right,0)+")",this.assign(intoId,expression),recursionFn(expression);break;case AST.BinaryExpression:this.recurse(ast.left,void 0,void 0,function(expr){left=expr}),this.recurse(ast.right,void 0,void 0,function(expr){right=expr}),expression="+"===ast.operator?this.plus(left,right):"-"===ast.operator?this.ifDefined(left,0)+ast.operator+this.ifDefined(right,0):"("+left+")"+ast.operator+"("+right+")",this.assign(intoId,expression),recursionFn(expression);break;case AST.LogicalExpression:intoId=intoId||this.nextId(),self.recurse(ast.left,intoId),self.if_("&&"===ast.operator?intoId:self.not(intoId),self.lazyRecurse(ast.right,intoId)),recursionFn(intoId);break;case AST.ConditionalExpression:intoId=intoId||this.nextId(),self.recurse(ast.test,intoId),self.if_(intoId,self.lazyRecurse(ast.alternate,intoId),self.lazyRecurse(ast.consequent,intoId)),recursionFn(intoId);break;case AST.Identifier:intoId=intoId||this.nextId(),nameId&&(nameId.context="inputs"===self.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",ast.name)+"?l:s"),nameId.computed=!1,nameId.name=ast.name),self.if_("inputs"===self.stage||self.not(self.getHasOwnProperty("l",ast.name)),function(){self.if_("inputs"===self.stage||"s",function(){create&&1!==create&&self.if_(self.isNull(self.nonComputedMember("s",ast.name)),self.lazyAssign(self.nonComputedMember("s",ast.name),"{}")),self.assign(intoId,self.nonComputedMember("s",ast.name))})},intoId&&self.lazyAssign(intoId,self.nonComputedMember("l",ast.name))),recursionFn(intoId);break;case AST.MemberExpression:left=nameId&&(nameId.context=this.nextId())||this.nextId(),intoId=intoId||this.nextId(),self.recurse(ast.object,left,void 0,function(){self.if_(self.notNull(left),function(){ast.computed?(right=self.nextId(),self.recurse(ast.property,right),self.getStringValue(right),create&&1!==create&&self.if_(self.not(self.computedMember(left,right)),self.lazyAssign(self.computedMember(left,right),"{}")),expression=self.computedMember(left,right),self.assign(intoId,expression),nameId&&(nameId.computed=!0,nameId.name=right)):(create&&1!==create&&self.if_(self.isNull(self.nonComputedMember(left,ast.property.name)),self.lazyAssign(self.nonComputedMember(left,ast.property.name),"{}")),expression=self.nonComputedMember(left,ast.property.name),self.assign(intoId,expression),nameId&&(nameId.computed=!1,nameId.name=ast.property.name))},function(){self.assign(intoId,"undefined")}),recursionFn(intoId)},!!create);break;case AST.CallExpression:intoId=intoId||this.nextId(),ast.filter?(right=self.filter(ast.callee.name),args=[],forEach(ast.arguments,function(expr){var argument=self.nextId();self.recurse(expr,argument),args.push(argument)}),expression=right+"("+args.join(",")+")",self.assign(intoId,expression),recursionFn(intoId)):(right=self.nextId(),left={},args=[],self.recurse(ast.callee,right,left,function(){self.if_(self.notNull(right),function(){forEach(ast.arguments,function(expr){self.recurse(expr,ast.constant?void 0:self.nextId(),void 0,function(argument){args.push(argument)})}),expression=left.name?self.member(left.context,left.name,left.computed)+"("+args.join(",")+")":right+"("+args.join(",")+")",self.assign(intoId,expression)},function(){self.assign(intoId,"undefined")}),recursionFn(intoId)}));break;case AST.AssignmentExpression:right=this.nextId(),left={},this.recurse(ast.left,void 0,left,function(){self.if_(self.notNull(left.context),function(){self.recurse(ast.right,right),expression=self.member(left.context,left.name,left.computed)+ast.operator+right,self.assign(intoId,expression),recursionFn(intoId||expression)})},1);break;case AST.ArrayExpression:args=[],forEach(ast.elements,function(expr){self.recurse(expr,ast.constant?void 0:self.nextId(),void 0,function(argument){args.push(argument)})}),expression="["+args.join(",")+"]",this.assign(intoId,expression),recursionFn(intoId||expression);break;case AST.ObjectExpression:args=[],computed=!1,forEach(ast.properties,function(property){property.computed&&(computed=!0)}),computed?(intoId=intoId||this.nextId(),this.assign(intoId,"{}"),forEach(ast.properties,function(property){property.computed?(left=self.nextId(),self.recurse(property.key,left)):left=property.key.type===AST.Identifier?property.key.name:""+property.key.value,right=self.nextId(),self.recurse(property.value,right),self.assign(self.member(intoId,left,property.computed),right)})):(forEach(ast.properties,function(property){self.recurse(property.value,ast.constant?void 0:self.nextId(),void 0,function(expr){args.push(self.escape(property.key.type===AST.Identifier?property.key.name:""+property.key.value)+":"+expr)})}),expression="{"+args.join(",")+"}",this.assign(intoId,expression)),recursionFn(intoId||expression);break;case AST.ThisExpression:this.assign(intoId,"s"),recursionFn(intoId||"s");break;case AST.LocalsExpression:this.assign(intoId,"l"),recursionFn(intoId||"l");break;case AST.NGValueParameter:this.assign(intoId,"v"),recursionFn(intoId||"v")}},getHasOwnProperty:function(element,property){var key=element+"."+property,own=this.current().own;return own.hasOwnProperty(key)||(own[key]=this.nextId(!1,element+"&&("+this.escape(property)+" in "+element+")")),own[key]},assign:function(id,value){if(id)return this.current().body.push(id,"=",value,";"),id},filter:function(filterName){
return this.state.filters.hasOwnProperty(filterName)||(this.state.filters[filterName]=this.nextId(!0)),this.state.filters[filterName]},ifDefined:function(id,defaultValue){return"ifDefined("+id+","+this.escape(defaultValue)+")"},plus:function(left,right){return"plus("+left+","+right+")"},return_:function(id){this.current().body.push("return ",id,";")},if_:function(test,alternate,consequent){if(test===!0)alternate();else{var body=this.current().body;body.push("if(",test,"){"),alternate(),body.push("}"),consequent&&(body.push("else{"),consequent(),body.push("}"))}},not:function(expression){return"!("+expression+")"},isNull:function(expression){return expression+"==null"},notNull:function(expression){return expression+"!=null"},nonComputedMember:function(left,right){var SAFE_IDENTIFIER=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/,UNSAFE_CHARACTERS=/[^$_a-zA-Z0-9]/g;return SAFE_IDENTIFIER.test(right)?left+"."+right:left+'["'+right.replace(UNSAFE_CHARACTERS,this.stringEscapeFn)+'"]'},computedMember:function(left,right){return left+"["+right+"]"},member:function(left,right,computed){return computed?this.computedMember(left,right):this.nonComputedMember(left,right)},getStringValue:function(item){this.assign(item,"getStringValue("+item+")")},lazyRecurse:function(ast,intoId,nameId,recursionFn,create,skipWatchIdCheck){var self=this;return function(){self.recurse(ast,intoId,nameId,recursionFn,create,skipWatchIdCheck)}},lazyAssign:function(id,value){var self=this;return function(){self.assign(id,value)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(c){return"\\u"+("0000"+c.charCodeAt(0).toString(16)).slice(-4)},escape:function(value){if(isString(value))return"'"+value.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(isNumber(value))return value.toString();if(value===!0)return"true";if(value===!1)return"false";if(null===value)return"null";if("undefined"==typeof value)return"undefined";throw $parseMinErr("esc","IMPOSSIBLE")},nextId:function(skip,init){var id="v"+this.state.nextId++;return skip||this.current().vars.push(id+(init?"="+init:"")),id},current:function(){return this.state[this.state.computing]}},ASTInterpreter.prototype={compile:function(ast){var self=this;findConstantAndWatchExpressions(ast,self.$filter);var assignable,assign;(assignable=assignableAST(ast))&&(assign=this.recurse(assignable));var inputs,toWatch=getInputs(ast.body);toWatch&&(inputs=[],forEach(toWatch,function(watch,key){var input=self.recurse(watch);input.isPure=watch.isPure,watch.input=input,inputs.push(input),watch.watchId=key}));var expressions=[];forEach(ast.body,function(expression){expressions.push(self.recurse(expression.expression))});var fn=0===ast.body.length?noop:1===ast.body.length?expressions[0]:function(scope,locals){var lastValue;return forEach(expressions,function(exp){lastValue=exp(scope,locals)}),lastValue};return assign&&(fn.assign=function(scope,value,locals){return assign(scope,locals,value)}),inputs&&(fn.inputs=inputs),fn},recurse:function(ast,context,create){var left,right,args,self=this;if(ast.input)return this.inputs(ast.input,ast.watchId);switch(ast.type){case AST.Literal:return this.value(ast.value,context);case AST.UnaryExpression:return right=this.recurse(ast.argument),this["unary"+ast.operator](right,context);case AST.BinaryExpression:return left=this.recurse(ast.left),right=this.recurse(ast.right),this["binary"+ast.operator](left,right,context);case AST.LogicalExpression:return left=this.recurse(ast.left),right=this.recurse(ast.right),this["binary"+ast.operator](left,right,context);case AST.ConditionalExpression:return this["ternary?:"](this.recurse(ast.test),this.recurse(ast.alternate),this.recurse(ast.consequent),context);case AST.Identifier:return self.identifier(ast.name,context,create);case AST.MemberExpression:return left=this.recurse(ast.object,!1,!!create),ast.computed||(right=ast.property.name),ast.computed&&(right=this.recurse(ast.property)),ast.computed?this.computedMember(left,right,context,create):this.nonComputedMember(left,right,context,create);case AST.CallExpression:return args=[],forEach(ast.arguments,function(expr){args.push(self.recurse(expr))}),ast.filter&&(right=this.$filter(ast.callee.name)),ast.filter||(right=this.recurse(ast.callee,!0)),ast.filter?function(scope,locals,assign,inputs){for(var values=[],i=0;i<args.length;++i)values.push(args[i](scope,locals,assign,inputs));var value=right.apply(void 0,values,inputs);return context?{context:void 0,name:void 0,value:value}:value}:function(scope,locals,assign,inputs){var value,rhs=right(scope,locals,assign,inputs);if(null!=rhs.value){for(var values=[],i=0;i<args.length;++i)values.push(args[i](scope,locals,assign,inputs));value=rhs.value.apply(rhs.context,values)}return context?{value:value}:value};case AST.AssignmentExpression:return left=this.recurse(ast.left,!0,1),right=this.recurse(ast.right),function(scope,locals,assign,inputs){var lhs=left(scope,locals,assign,inputs),rhs=right(scope,locals,assign,inputs);return lhs.context[lhs.name]=rhs,context?{value:rhs}:rhs};case AST.ArrayExpression:return args=[],forEach(ast.elements,function(expr){args.push(self.recurse(expr))}),function(scope,locals,assign,inputs){for(var value=[],i=0;i<args.length;++i)value.push(args[i](scope,locals,assign,inputs));return context?{value:value}:value};case AST.ObjectExpression:return args=[],forEach(ast.properties,function(property){property.computed?args.push({key:self.recurse(property.key),computed:!0,value:self.recurse(property.value)}):args.push({key:property.key.type===AST.Identifier?property.key.name:""+property.key.value,computed:!1,value:self.recurse(property.value)})}),function(scope,locals,assign,inputs){for(var value={},i=0;i<args.length;++i)args[i].computed?value[args[i].key(scope,locals,assign,inputs)]=args[i].value(scope,locals,assign,inputs):value[args[i].key]=args[i].value(scope,locals,assign,inputs);return context?{value:value}:value};case AST.ThisExpression:return function(scope){return context?{value:scope}:scope};case AST.LocalsExpression:return function(scope,locals){return context?{value:locals}:locals};case AST.NGValueParameter:return function(scope,locals,assign){return context?{value:assign}:assign}}},"unary+":function(argument,context){return function(scope,locals,assign,inputs){var arg=argument(scope,locals,assign,inputs);return arg=isDefined(arg)?+arg:0,context?{value:arg}:arg}},"unary-":function(argument,context){return function(scope,locals,assign,inputs){var arg=argument(scope,locals,assign,inputs);return arg=isDefined(arg)?-arg:-0,context?{value:arg}:arg}},"unary!":function(argument,context){return function(scope,locals,assign,inputs){var arg=!argument(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary+":function(left,right,context){return function(scope,locals,assign,inputs){var lhs=left(scope,locals,assign,inputs),rhs=right(scope,locals,assign,inputs),arg=plusFn(lhs,rhs);return context?{value:arg}:arg}},"binary-":function(left,right,context){return function(scope,locals,assign,inputs){var lhs=left(scope,locals,assign,inputs),rhs=right(scope,locals,assign,inputs),arg=(isDefined(lhs)?lhs:0)-(isDefined(rhs)?rhs:0);return context?{value:arg}:arg}},"binary*":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)*right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary/":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)/right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary%":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)%right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary===":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)===right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary!==":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)!==right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary==":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)==right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary!=":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)!=right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary<":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)<right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary>":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)>right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary<=":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)<=right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary>=":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)>=right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary&&":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)&&right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary||":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)||right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"ternary?:":function(test,alternate,consequent,context){return function(scope,locals,assign,inputs){var arg=test(scope,locals,assign,inputs)?alternate(scope,locals,assign,inputs):consequent(scope,locals,assign,inputs);return context?{value:arg}:arg}},value:function(value,context){return function(){return context?{context:void 0,name:void 0,value:value}:value}},identifier:function(name,context,create){return function(scope,locals,assign,inputs){var base=locals&&name in locals?locals:scope;create&&1!==create&&base&&null==base[name]&&(base[name]={});var value=base?base[name]:void 0;return context?{context:base,name:name,value:value}:value}},computedMember:function(left,right,context,create){return function(scope,locals,assign,inputs){var rhs,value,lhs=left(scope,locals,assign,inputs);return null!=lhs&&(rhs=right(scope,locals,assign,inputs),rhs=getStringValue(rhs),create&&1!==create&&lhs&&!lhs[rhs]&&(lhs[rhs]={}),value=lhs[rhs]),context?{context:lhs,name:rhs,value:value}:value}},nonComputedMember:function(left,right,context,create){return function(scope,locals,assign,inputs){var lhs=left(scope,locals,assign,inputs);create&&1!==create&&lhs&&null==lhs[right]&&(lhs[right]={});var value=null!=lhs?lhs[right]:void 0;return context?{context:lhs,name:right,value:value}:value}},inputs:function(input,watchId){return function(scope,value,locals,inputs){return inputs?inputs[watchId]:input(scope,value,locals)}}},Parser.prototype={constructor:Parser,parse:function(text){var ast=this.getAst(text),fn=this.astCompiler.compile(ast.ast);return fn.literal=isLiteral(ast.ast),fn.constant=isConstant(ast.ast),fn.oneTime=ast.oneTime,fn},getAst:function(exp){var oneTime=!1;return exp=exp.trim(),":"===exp.charAt(0)&&":"===exp.charAt(1)&&(oneTime=!0,exp=exp.substring(2)),{ast:this.ast.ast(exp),oneTime:oneTime}}};var baseUrlParsingNode,$sceMinErr=minErr("$sce"),SCE_CONTEXTS={HTML:"html",CSS:"css",MEDIA_URL:"mediaUrl",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},UNDERSCORE_LOWERCASE_REGEXP=/_([a-z])/g,$templateRequestMinErr=minErr("$templateRequest"),$timeoutMinErr=minErr("$timeout"),urlParsingNode=window.document.createElement("a"),originUrl=urlResolve(window.location.href);$$CookieReader.$inject=["$document"],$FilterProvider.$inject=["$provide"];var MAX_DIGITS=22,DECIMAL_SEP=".",ZERO_CHAR="0";currencyFilter.$inject=["$locale"],numberFilter.$inject=["$locale"];var DATE_FORMATS={yyyy:dateGetter("FullYear",4,0,!1,!0),yy:dateGetter("FullYear",2,0,!0,!0),y:dateGetter("FullYear",1,0,!1,!0),MMMM:dateStrGetter("Month"),MMM:dateStrGetter("Month",!0),MM:dateGetter("Month",2,1),M:dateGetter("Month",1,1),LLLL:dateStrGetter("Month",!1,!0),dd:dateGetter("Date",2),d:dateGetter("Date",1),HH:dateGetter("Hours",2),H:dateGetter("Hours",1),hh:dateGetter("Hours",2,-12),h:dateGetter("Hours",1,-12),mm:dateGetter("Minutes",2),m:dateGetter("Minutes",1),ss:dateGetter("Seconds",2),s:dateGetter("Seconds",1),sss:dateGetter("Milliseconds",3),EEEE:dateStrGetter("Day"),EEE:dateStrGetter("Day",!0),a:ampmGetter,Z:timeZoneGetter,ww:weekGetter(2),w:weekGetter(1),G:eraGetter,GG:eraGetter,GGG:eraGetter,GGGG:longEraGetter},DATE_FORMATS_SPLIT=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,NUMBER_STRING=/^-?\d+$/;dateFilter.$inject=["$locale"];var lowercaseFilter=valueFn(lowercase),uppercaseFilter=valueFn(uppercase);orderByFilter.$inject=["$parse"];var htmlAnchorDirective=valueFn({restrict:"E",compile:function(element,attr){if(!attr.href&&!attr.xlinkHref)return function(scope,element){if("a"===element[0].nodeName.toLowerCase()){var href="[object SVGAnimatedString]"===toString.call(element.prop("href"))?"xlink:href":"href";element.on("click",function(event){element.attr(href)||event.preventDefault()})}}}}),ngAttributeAliasDirectives={};forEach(BOOLEAN_ATTR,function(propName,attrName){function defaultLinkFn(scope,element,attr){scope.$watch(attr[normalized],function(value){attr.$set(attrName,!!value)})}if("multiple"!==propName){var normalized=directiveNormalize("ng-"+attrName),linkFn=defaultLinkFn;"checked"===propName&&(linkFn=function(scope,element,attr){attr.ngModel!==attr[normalized]&&defaultLinkFn(scope,element,attr)}),ngAttributeAliasDirectives[normalized]=function(){return{restrict:"A",priority:100,link:linkFn}}}}),forEach(ALIASED_ATTR,function(htmlAttr,ngAttr){ngAttributeAliasDirectives[ngAttr]=function(){return{priority:100,link:function(scope,element,attr){if("ngPattern"===ngAttr&&"/"===attr.ngPattern.charAt(0)){var match=attr.ngPattern.match(REGEX_STRING_REGEXP);if(match)return void attr.$set("ngPattern",new RegExp(match[1],match[2]))}scope.$watch(attr[ngAttr],function(value){attr.$set(ngAttr,value)})}}}}),forEach(["src","srcset","href"],function(attrName){var normalized=directiveNormalize("ng-"+attrName);ngAttributeAliasDirectives[normalized]=function(){return{priority:99,link:function(scope,element,attr){var propName=attrName,name=attrName;"href"===attrName&&"[object SVGAnimatedString]"===toString.call(element.prop("href"))&&(name="xlinkHref",attr.$attr[name]="xlink:href",propName=null),attr.$observe(normalized,function(value){return value?(attr.$set(name,value),void(msie&&propName&&element.prop(propName,attr[name]))):void("href"===attrName&&attr.$set(name,null))})}}}});var nullFormCtrl={$addControl:noop,$$renameControl:nullFormRenameControl,$removeControl:noop,$setValidity:noop,$setDirty:noop,$setPristine:noop,$setSubmitted:noop,$$setSubmitted:noop},PENDING_CLASS="ng-pending",SUBMITTED_CLASS="ng-submitted";FormController.$inject=["$element","$attrs","$scope","$animate","$interpolate"],FormController.prototype={$rollbackViewValue:function(){forEach(this.$$controls,function(control){control.$rollbackViewValue()})},$commitViewValue:function(){forEach(this.$$controls,function(control){control.$commitViewValue()})},$addControl:function(control){assertNotHasOwnProperty(control.$name,"input"),this.$$controls.push(control),control.$name&&(this[control.$name]=control),control.$$parentForm=this},$$renameControl:function(control,newName){var oldName=control.$name;this[oldName]===control&&delete this[oldName],this[newName]=control,control.$name=newName},$removeControl:function(control){control.$name&&this[control.$name]===control&&delete this[control.$name],forEach(this.$pending,function(value,name){this.$setValidity(name,null,control)},this),forEach(this.$error,function(value,name){this.$setValidity(name,null,control)},this),forEach(this.$$success,function(value,name){this.$setValidity(name,null,control)},this),arrayRemove(this.$$controls,control),control.$$parentForm=nullFormCtrl},$setDirty:function(){this.$$animate.removeClass(this.$$element,PRISTINE_CLASS),this.$$animate.addClass(this.$$element,DIRTY_CLASS),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,PRISTINE_CLASS,DIRTY_CLASS+" "+SUBMITTED_CLASS),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,forEach(this.$$controls,function(control){control.$setPristine()})},$setUntouched:function(){forEach(this.$$controls,function(control){control.$setUntouched()})},$setSubmitted:function(){for(var rootForm=this;rootForm.$$parentForm&&rootForm.$$parentForm!==nullFormCtrl;)rootForm=rootForm.$$parentForm;rootForm.$$setSubmitted()},$$setSubmitted:function(){this.$$animate.addClass(this.$$element,SUBMITTED_CLASS),this.$submitted=!0,forEach(this.$$controls,function(control){control.$$setSubmitted&&control.$$setSubmitted()})}},addSetValidityMethod({clazz:FormController,set:function(object,property,controller){var list=object[property];if(list){var index=list.indexOf(controller);index===-1&&list.push(controller)}else object[property]=[controller]},unset:function(object,property,controller){var list=object[property];list&&(arrayRemove(list,controller),0===list.length&&delete object[property])}});var formDirectiveFactory=function(isNgForm){return["$timeout","$parse",function($timeout,$parse){function getSetter(expression){return""===expression?$parse('this[""]').assign:$parse(expression).assign||noop}var formDirective={name:"form",restrict:isNgForm?"EAC":"E",require:["form","^^?form"],controller:FormController,compile:function(formElement,attr){formElement.addClass(PRISTINE_CLASS).addClass(VALID_CLASS);var nameAttr=attr.name?"name":!(!isNgForm||!attr.ngForm)&&"ngForm";return{pre:function(scope,formElement,attr,ctrls){var controller=ctrls[0];if(!("action"in attr)){var handleFormSubmission=function(event){scope.$apply(function(){controller.$commitViewValue(),controller.$setSubmitted()}),event.preventDefault()};formElement[0].addEventListener("submit",handleFormSubmission),formElement.on("$destroy",function(){$timeout(function(){formElement[0].removeEventListener("submit",handleFormSubmission)},0,!1)})}var parentFormCtrl=ctrls[1]||controller.$$parentForm;parentFormCtrl.$addControl(controller);var setter=nameAttr?getSetter(controller.$name):noop;nameAttr&&(setter(scope,controller),attr.$observe(nameAttr,function(newValue){controller.$name!==newValue&&(setter(scope,void 0),controller.$$parentForm.$$renameControl(controller,newValue),(setter=getSetter(controller.$name))(scope,controller))})),formElement.on("$destroy",function(){controller.$$parentForm.$removeControl(controller),setter(scope,void 0),extend(controller,nullFormCtrl)})}}}};return formDirective}]},formDirective=formDirectiveFactory(),ngFormDirective=formDirectiveFactory(!0),ISO_DATE_REGEXP=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,URL_REGEXP=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,EMAIL_REGEXP=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,NUMBER_REGEXP=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,DATE_REGEXP=/^(\d{4,})-(\d{2})-(\d{2})$/,DATETIMELOCAL_REGEXP=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,WEEK_REGEXP=/^(\d{4,})-W(\d\d)$/,MONTH_REGEXP=/^(\d{4,})-(\d\d)$/,TIME_REGEXP=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,PARTIAL_VALIDATION_EVENTS="keydown wheel mousedown",PARTIAL_VALIDATION_TYPES=createMap();forEach("date,datetime-local,month,time,week".split(","),function(type){PARTIAL_VALIDATION_TYPES[type]=!0});var inputType={text:textInputType,date:createDateInputType("date",DATE_REGEXP,createDateParser(DATE_REGEXP,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":createDateInputType("datetimelocal",DATETIMELOCAL_REGEXP,createDateParser(DATETIMELOCAL_REGEXP,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:createDateInputType("time",TIME_REGEXP,createDateParser(TIME_REGEXP,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:createDateInputType("week",WEEK_REGEXP,weekParser,"yyyy-Www"),month:createDateInputType("month",MONTH_REGEXP,createDateParser(MONTH_REGEXP,["yyyy","MM"]),"yyyy-MM"),number:numberInputType,url:urlInputType,email:emailInputType,radio:radioInputType,range:rangeInputType,checkbox:checkboxInputType,hidden:noop,button:noop,submit:noop,reset:noop,file:noop},inputDirective=["$browser","$sniffer","$filter","$parse",function($browser,$sniffer,$filter,$parse){return{restrict:"E",require:["?ngModel"],link:{pre:function(scope,element,attr,ctrls){ctrls[0]&&(inputType[lowercase(attr.type)]||inputType.text)(scope,element,attr,ctrls[0],$sniffer,$browser,$filter,$parse)}}}}],CONSTANT_VALUE_REGEXP=/^(true|false|\d+)$/,ngValueDirective=function(){function updateElementValue(element,attr,value){var propValue=isDefined(value)?value:9===msie?"":null;element.prop("value",propValue),attr.$set("value",value)}return{restrict:"A",priority:100,compile:function(tpl,tplAttr){return CONSTANT_VALUE_REGEXP.test(tplAttr.ngValue)?function(scope,elm,attr){var value=scope.$eval(attr.ngValue);updateElementValue(elm,attr,value)}:function(scope,elm,attr){scope.$watch(attr.ngValue,function(value){updateElementValue(elm,attr,value)})}}}},ngBindDirective=["$compile",function($compile){return{restrict:"AC",compile:function(templateElement){return $compile.$$addBindingClass(templateElement),function(scope,element,attr){$compile.$$addBindingInfo(element,attr.ngBind),element=element[0],scope.$watch(attr.ngBind,function(value){element.textContent=stringify(value)})}}}}],ngBindTemplateDirective=["$interpolate","$compile",function($interpolate,$compile){return{compile:function(templateElement){return $compile.$$addBindingClass(templateElement),function(scope,element,attr){var interpolateFn=$interpolate(element.attr(attr.$attr.ngBindTemplate));$compile.$$addBindingInfo(element,interpolateFn.expressions),element=element[0],attr.$observe("ngBindTemplate",function(value){element.textContent=isUndefined(value)?"":value})}}}}],ngBindHtmlDirective=["$sce","$parse","$compile",function($sce,$parse,$compile){return{restrict:"A",compile:function(tElement,tAttrs){var ngBindHtmlGetter=$parse(tAttrs.ngBindHtml),ngBindHtmlWatch=$parse(tAttrs.ngBindHtml,function(val){return $sce.valueOf(val)});return $compile.$$addBindingClass(tElement),function(scope,element,attr){$compile.$$addBindingInfo(element,attr.ngBindHtml),scope.$watch(ngBindHtmlWatch,function(){var value=ngBindHtmlGetter(scope);element.html($sce.getTrustedHtml(value)||"")})}}}}],ngChangeDirective=valueFn({restrict:"A",require:"ngModel",link:function(scope,element,attr,ctrl){ctrl.$viewChangeListeners.push(function(){scope.$eval(attr.ngChange)})}}),ngClassDirective=classDirective("",!0),ngClassOddDirective=classDirective("Odd",0),ngClassEvenDirective=classDirective("Even",1),ngCloakDirective=ngDirective({compile:function(element,attr){attr.$set("ngCloak",void 0),element.removeClass("ng-cloak")}}),ngControllerDirective=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],ngEventDirectives={},forceAsyncEvents={blur:!0,focus:!0};forEach("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(eventName){var directiveName=directiveNormalize("ng-"+eventName);ngEventDirectives[directiveName]=["$parse","$rootScope",function($parse,$rootScope){return{restrict:"A",compile:function($element,attr){var fn=$parse(attr[directiveName]);return function(scope,element){element.on(eventName,function(event){var callback=function(){fn(scope,{$event:event})};forceAsyncEvents[eventName]&&$rootScope.$$phase?scope.$evalAsync(callback):scope.$apply(callback)})}}}}]});var ngIfDirective=["$animate","$compile",function($animate,$compile){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function($scope,$element,$attr,ctrl,$transclude){var block,childScope,previousElements;$scope.$watch($attr.ngIf,function(value){value?childScope||$transclude(function(clone,newScope){childScope=newScope,clone[clone.length++]=$compile.$$createComment("end ngIf",$attr.ngIf),block={clone:clone},$animate.enter(clone,$element.parent(),$element)}):(previousElements&&(previousElements.remove(),previousElements=null),childScope&&(childScope.$destroy(),childScope=null),block&&(previousElements=getBlockNodes(block.clone),$animate.leave(previousElements).done(function(response){response!==!1&&(previousElements=null)}),block=null))})}}}],ngIncludeDirective=["$templateRequest","$anchorScroll","$animate",function($templateRequest,$anchorScroll,$animate){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:angular.noop,compile:function(element,attr){var srcExp=attr.ngInclude||attr.src,onloadExp=attr.onload||"",autoScrollExp=attr.autoscroll;return function(scope,$element,$attr,ctrl,$transclude){var currentScope,previousElement,currentElement,changeCounter=0,cleanupLastIncludeContent=function(){previousElement&&(previousElement.remove(),previousElement=null),currentScope&&(currentScope.$destroy(),currentScope=null),currentElement&&($animate.leave(currentElement).done(function(response){response!==!1&&(previousElement=null)}),previousElement=currentElement,currentElement=null)};scope.$watch(srcExp,function(src){var afterAnimation=function(response){response===!1||!isDefined(autoScrollExp)||autoScrollExp&&!scope.$eval(autoScrollExp)||$anchorScroll()},thisChangeId=++changeCounter;src?($templateRequest(src,!0).then(function(response){if(!scope.$$destroyed&&thisChangeId===changeCounter){var newScope=scope.$new();ctrl.template=response;var clone=$transclude(newScope,function(clone){cleanupLastIncludeContent(),$animate.enter(clone,null,$element).done(afterAnimation)});currentScope=newScope,currentElement=clone,currentScope.$emit("$includeContentLoaded",src),scope.$eval(onloadExp)}},function(){scope.$$destroyed||thisChangeId===changeCounter&&(cleanupLastIncludeContent(),scope.$emit("$includeContentError",src))}),scope.$emit("$includeContentRequested",src)):(cleanupLastIncludeContent(),ctrl.template=null)})}}}}],ngIncludeFillContentDirective=["$compile",function($compile){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(scope,$element,$attr,ctrl){return toString.call($element[0]).match(/SVG/)?($element.empty(),void $compile(jqLiteBuildFragment(ctrl.template,window.document).childNodes)(scope,function(clone){$element.append(clone)},{futureParentElement:$element})):($element.html(ctrl.template),void $compile($element.contents())(scope))}}}],ngInitDirective=ngDirective({priority:450,compile:function(){return{pre:function(scope,element,attrs){scope.$eval(attrs.ngInit)}}}}),ngListDirective=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(scope,element,attr,ctrl){var ngList=attr.ngList||", ",trimValues="false"!==attr.ngTrim,separator=trimValues?trim(ngList):ngList,parse=function(viewValue){if(!isUndefined(viewValue)){var list=[];return viewValue&&forEach(viewValue.split(separator),function(value){value&&list.push(trimValues?trim(value):value)}),list}};ctrl.$parsers.push(parse),ctrl.$formatters.push(function(value){if(isArray(value))return value.join(ngList)}),ctrl.$isEmpty=function(value){return!value||!value.length}}}},VALID_CLASS="ng-valid",INVALID_CLASS="ng-invalid",PRISTINE_CLASS="ng-pristine",DIRTY_CLASS="ng-dirty",UNTOUCHED_CLASS="ng-untouched",TOUCHED_CLASS="ng-touched",EMPTY_CLASS="ng-empty",NOT_EMPTY_CLASS="ng-not-empty",ngModelMinErr=minErr("ngModel");NgModelController.$inject=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"],NgModelController.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var invokeModelGetter=this.$$parse(this.$$attr.ngModel+"()"),invokeModelSetter=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function($scope){var modelValue=this.$$parsedNgModel($scope);return isFunction(modelValue)&&(modelValue=invokeModelGetter($scope)),modelValue},this.$$ngModelSet=function($scope,newValue){isFunction(this.$$parsedNgModel($scope))?invokeModelSetter($scope,{$$$p:newValue}):this.$$parsedNgModelAssign($scope,newValue)}}else if(!this.$$parsedNgModel.assign)throw ngModelMinErr("nonassign","Expression '{0}' is non-assignable. Element: {1}",this.$$attr.ngModel,startingTag(this.$$element))},$render:noop,$isEmpty:function(value){return isUndefined(value)||""===value||null===value||value!==value},$$updateEmptyClasses:function(value){this.$isEmpty(value)?(this.$$animate.removeClass(this.$$element,NOT_EMPTY_CLASS),this.$$animate.addClass(this.$$element,EMPTY_CLASS)):(this.$$animate.removeClass(this.$$element,EMPTY_CLASS),this.$$animate.addClass(this.$$element,NOT_EMPTY_CLASS))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,DIRTY_CLASS),this.$$animate.addClass(this.$$element,PRISTINE_CLASS)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,PRISTINE_CLASS),this.$$animate.addClass(this.$$element,DIRTY_CLASS),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,UNTOUCHED_CLASS,TOUCHED_CLASS)},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,TOUCHED_CLASS,UNTOUCHED_CLASS)},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!isNumberNaN(this.$modelValue)){var viewValue=this.$$lastCommittedViewValue,modelValue=this.$$rawModelValue,prevValid=this.$valid,prevModelValue=this.$modelValue,allowInvalid=this.$options.getOption("allowInvalid"),that=this;this.$$runValidators(modelValue,viewValue,function(allValid){allowInvalid||prevValid===allValid||(that.$modelValue=allValid?modelValue:void 0,that.$modelValue!==prevModelValue&&that.$$writeModelToScope())})}},$$runValidators:function(modelValue,viewValue,doneCallback){function processParseErrors(){var errorKey=that.$$parserName;return isUndefined(that.$$parserValid)?(setValidity(errorKey,null),!0):(that.$$parserValid||(forEach(that.$validators,function(v,name){setValidity(name,null)}),forEach(that.$asyncValidators,function(v,name){setValidity(name,null)})),setValidity(errorKey,that.$$parserValid),that.$$parserValid)}function processSyncValidators(){var syncValidatorsValid=!0;return forEach(that.$validators,function(validator,name){var result=Boolean(validator(modelValue,viewValue));syncValidatorsValid=syncValidatorsValid&&result,setValidity(name,result)}),!!syncValidatorsValid||(forEach(that.$asyncValidators,function(v,name){setValidity(name,null)}),!1)}function processAsyncValidators(){var validatorPromises=[],allValid=!0;forEach(that.$asyncValidators,function(validator,name){var promise=validator(modelValue,viewValue);if(!isPromiseLike(promise))throw ngModelMinErr("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",promise);setValidity(name,void 0),validatorPromises.push(promise.then(function(){setValidity(name,!0)},function(){allValid=!1,setValidity(name,!1)}))}),validatorPromises.length?that.$$q.all(validatorPromises).then(function(){validationDone(allValid)},noop):validationDone(!0)}function setValidity(name,isValid){localValidationRunId===that.$$currentValidationRunId&&that.$setValidity(name,isValid)}function validationDone(allValid){localValidationRunId===that.$$currentValidationRunId&&doneCallback(allValid);
}this.$$currentValidationRunId++;var localValidationRunId=this.$$currentValidationRunId,that=this;return processParseErrors()&&processSyncValidators()?void processAsyncValidators():void validationDone(!1)},$commitViewValue:function(){var viewValue=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==viewValue||""===viewValue&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(viewValue),this.$$lastCommittedViewValue=viewValue,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){function writeToModelIfNeeded(){that.$modelValue!==prevModelValue&&that.$$writeModelToScope()}var viewValue=this.$$lastCommittedViewValue,modelValue=viewValue,that=this;if(this.$$parserValid=!isUndefined(modelValue)||void 0,this.$setValidity(this.$$parserName,null),this.$$parserName="parse",this.$$parserValid)for(var i=0;i<this.$parsers.length;i++)if(modelValue=this.$parsers[i](modelValue),isUndefined(modelValue)){this.$$parserValid=!1;break}isNumberNaN(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var prevModelValue=this.$modelValue,allowInvalid=this.$options.getOption("allowInvalid");this.$$rawModelValue=modelValue,allowInvalid&&(this.$modelValue=modelValue,writeToModelIfNeeded()),this.$$runValidators(modelValue,this.$$lastCommittedViewValue,function(allValid){allowInvalid||(that.$modelValue=allValid?modelValue:void 0,writeToModelIfNeeded())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),forEach(this.$viewChangeListeners,function(listener){try{listener()}catch(e){this.$$exceptionHandler(e)}},this)},$setViewValue:function(value,trigger){this.$viewValue=value,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(trigger)},$$debounceViewValueCommit:function(trigger){var debounceDelay=this.$options.getOption("debounce");isNumber(debounceDelay[trigger])?debounceDelay=debounceDelay[trigger]:isNumber(debounceDelay["default"])&&this.$options.getOption("updateOn").indexOf(trigger)===-1?debounceDelay=debounceDelay["default"]:isNumber(debounceDelay["*"])&&(debounceDelay=debounceDelay["*"]),this.$$timeout.cancel(this.$$pendingDebounce);var that=this;debounceDelay>0?this.$$pendingDebounce=this.$$timeout(function(){that.$commitViewValue()},debounceDelay):this.$$rootScope.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){that.$commitViewValue()})},$overrideModelOptions:function(options){this.$options=this.$options.createChild(options),this.$$setUpdateOnEvents()},$processModelValue:function(){var viewValue=this.$$format();this.$viewValue!==viewValue&&(this.$$updateEmptyClasses(viewValue),this.$viewValue=this.$$lastCommittedViewValue=viewValue,this.$render(),this.$$runValidators(this.$modelValue,this.$viewValue,noop))},$$format:function(){for(var formatters=this.$formatters,idx=formatters.length,viewValue=this.$modelValue;idx--;)viewValue=formatters[idx](viewValue);return viewValue},$$setModelValue:function(modelValue){this.$modelValue=this.$$rawModelValue=modelValue,this.$$parserValid=void 0,this.$processModelValue()},$$setUpdateOnEvents:function(){this.$$updateEvents&&this.$$element.off(this.$$updateEvents,this.$$updateEventHandler),this.$$updateEvents=this.$options.getOption("updateOn"),this.$$updateEvents&&this.$$element.on(this.$$updateEvents,this.$$updateEventHandler)},$$updateEventHandler:function(ev){this.$$debounceViewValueCommit(ev&&ev.type)}},addSetValidityMethod({clazz:NgModelController,set:function(object,property){object[property]=!0},unset:function(object,property){delete object[property]}});var defaultModelOptions,ngModelDirective=["$rootScope",function($rootScope){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:NgModelController,priority:1,compile:function(element){return element.addClass(PRISTINE_CLASS).addClass(UNTOUCHED_CLASS).addClass(VALID_CLASS),{pre:function(scope,element,attr,ctrls){var modelCtrl=ctrls[0],formCtrl=ctrls[1]||modelCtrl.$$parentForm,optionsCtrl=ctrls[2];optionsCtrl&&(modelCtrl.$options=optionsCtrl.$options),modelCtrl.$$initGetterSetters(),formCtrl.$addControl(modelCtrl),attr.$observe("name",function(newValue){modelCtrl.$name!==newValue&&modelCtrl.$$parentForm.$$renameControl(modelCtrl,newValue)}),scope.$on("$destroy",function(){modelCtrl.$$parentForm.$removeControl(modelCtrl)})},post:function(scope,element,attr,ctrls){function setTouched(){modelCtrl.$setTouched()}var modelCtrl=ctrls[0];modelCtrl.$$setUpdateOnEvents(),element.on("blur",function(){modelCtrl.$touched||($rootScope.$$phase?scope.$evalAsync(setTouched):scope.$apply(setTouched))})}}}}}],DEFAULT_REGEXP=/(\s+|^)default(\s+|$)/;ModelOptions.prototype={getOption:function(name){return this.$$options[name]},createChild:function(options){var inheritAll=!1;return options=extend({},options),forEach(options,function(option,key){"$inherit"===option?"*"===key?inheritAll=!0:(options[key]=this.$$options[key],"updateOn"===key&&(options.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===key&&(options.updateOnDefault=!1,options[key]=trim(option.replace(DEFAULT_REGEXP,function(){return options.updateOnDefault=!0," "})))},this),inheritAll&&(delete options["*"],defaults(options,this.$$options)),defaults(options,defaultModelOptions.$$options),new ModelOptions(options)}},defaultModelOptions=new ModelOptions({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var ngModelOptionsDirective=function(){function NgModelOptionsController($attrs,$scope){this.$$attrs=$attrs,this.$$scope=$scope}return NgModelOptionsController.$inject=["$attrs","$scope"],NgModelOptionsController.prototype={$onInit:function(){var parentOptions=this.parentCtrl?this.parentCtrl.$options:defaultModelOptions,modelOptionsDefinition=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=parentOptions.createChild(modelOptionsDefinition)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:NgModelOptionsController}},ngNonBindableDirective=ngDirective({terminal:!0,priority:1e3}),ngOptionsMinErr=minErr("ngOptions"),NG_OPTIONS_REGEXP=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,ngOptionsDirective=["$compile","$document","$parse",function($compile,$document,$parse){function parseOptionsExpression(optionsExp,selectElement,scope){function Option(selectValue,viewValue,label,group,disabled){this.selectValue=selectValue,this.viewValue=viewValue,this.label=label,this.group=group,this.disabled=disabled}function getOptionValuesKeys(optionValues){var optionValuesKeys;if(!keyName&&isArrayLike(optionValues))optionValuesKeys=optionValues;else{optionValuesKeys=[];for(var itemKey in optionValues)optionValues.hasOwnProperty(itemKey)&&"$"!==itemKey.charAt(0)&&optionValuesKeys.push(itemKey)}return optionValuesKeys}var match=optionsExp.match(NG_OPTIONS_REGEXP);if(!match)throw ngOptionsMinErr("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",optionsExp,startingTag(selectElement));var valueName=match[5]||match[7],keyName=match[6],selectAs=/ as /.test(match[0])&&match[1],trackBy=match[9],valueFn=$parse(match[2]?match[1]:valueName),selectAsFn=selectAs&&$parse(selectAs),viewValueFn=selectAsFn||valueFn,trackByFn=trackBy&&$parse(trackBy),getTrackByValueFn=trackBy?function(value,locals){return trackByFn(scope,locals)}:function(value){return hashKey(value)},getTrackByValue=function(value,key){return getTrackByValueFn(value,getLocals(value,key))},displayFn=$parse(match[2]||match[1]),groupByFn=$parse(match[3]||""),disableWhenFn=$parse(match[4]||""),valuesFn=$parse(match[8]),locals={},getLocals=keyName?function(value,key){return locals[keyName]=key,locals[valueName]=value,locals}:function(value){return locals[valueName]=value,locals};return{trackBy:trackBy,getTrackByValue:getTrackByValue,getWatchables:$parse(valuesFn,function(optionValues){var watchedArray=[];optionValues=optionValues||[];for(var optionValuesKeys=getOptionValuesKeys(optionValues),optionValuesLength=optionValuesKeys.length,index=0;index<optionValuesLength;index++){var key=optionValues===optionValuesKeys?index:optionValuesKeys[index],value=optionValues[key],locals=getLocals(value,key),selectValue=getTrackByValueFn(value,locals);if(watchedArray.push(selectValue),match[2]||match[1]){var label=displayFn(scope,locals);watchedArray.push(label)}if(match[4]){var disableWhen=disableWhenFn(scope,locals);watchedArray.push(disableWhen)}}return watchedArray}),getOptions:function(){for(var optionItems=[],selectValueMap={},optionValues=valuesFn(scope)||[],optionValuesKeys=getOptionValuesKeys(optionValues),optionValuesLength=optionValuesKeys.length,index=0;index<optionValuesLength;index++){var key=optionValues===optionValuesKeys?index:optionValuesKeys[index],value=optionValues[key],locals=getLocals(value,key),viewValue=viewValueFn(scope,locals),selectValue=getTrackByValueFn(viewValue,locals),label=displayFn(scope,locals),group=groupByFn(scope,locals),disabled=disableWhenFn(scope,locals),optionItem=new Option(selectValue,viewValue,label,group,disabled);optionItems.push(optionItem),selectValueMap[selectValue]=optionItem}return{items:optionItems,selectValueMap:selectValueMap,getOptionFromViewValue:function(value){return selectValueMap[getTrackByValue(value)]},getViewValueFromOption:function(option){return trackBy?copy(option.viewValue):option.viewValue}}}}}function ngOptionsPostLink(scope,selectElement,attr,ctrls){function addOptionElement(option,parent){var optionElement=optionTemplate.cloneNode(!1);parent.appendChild(optionElement),updateOptionElement(option,optionElement)}function getAndUpdateSelectedOption(viewValue){var option=options.getOptionFromViewValue(viewValue),element=option&&option.element;return element&&!element.selected&&(element.selected=!0),option}function updateOptionElement(option,element){option.element=element,element.disabled=option.disabled,option.label!==element.label&&(element.label=option.label,element.textContent=option.label),element.value=option.selectValue}function updateOptions(){var previousValue=options&&selectCtrl.readValue();if(options)for(var i=options.items.length-1;i>=0;i--){var option=options.items[i];jqLiteRemove(isDefined(option.group)?option.element.parentNode:option.element)}options=ngOptions.getOptions();var groupElementMap={};if(options.items.forEach(function(option){var groupElement;isDefined(option.group)?(groupElement=groupElementMap[option.group],groupElement||(groupElement=optGroupTemplate.cloneNode(!1),listFragment.appendChild(groupElement),groupElement.label=null===option.group?"null":option.group,groupElementMap[option.group]=groupElement),addOptionElement(option,groupElement)):addOptionElement(option,listFragment)}),selectElement[0].appendChild(listFragment),ngModelCtrl.$render(),!ngModelCtrl.$isEmpty(previousValue)){var nextValue=selectCtrl.readValue(),isNotPrimitive=ngOptions.trackBy||multiple;(isNotPrimitive?equals(previousValue,nextValue):previousValue===nextValue)||(ngModelCtrl.$setViewValue(nextValue),ngModelCtrl.$render())}}for(var selectCtrl=ctrls[0],ngModelCtrl=ctrls[1],multiple=attr.multiple,i=0,children=selectElement.children(),ii=children.length;i<ii;i++)if(""===children[i].value){selectCtrl.hasEmptyOption=!0,selectCtrl.emptyOption=children.eq(i);break}selectElement.empty();var providedEmptyOption=!!selectCtrl.emptyOption,unknownOption=jqLite(optionTemplate.cloneNode(!1));unknownOption.val("?");var options,ngOptions=parseOptionsExpression(attr.ngOptions,selectElement,scope),listFragment=$document[0].createDocumentFragment();selectCtrl.generateUnknownOptionValue=function(val){return"?"},multiple?(selectCtrl.writeValue=function(values){if(options){var selectedOptions=values&&values.map(getAndUpdateSelectedOption)||[];options.items.forEach(function(option){option.element.selected&&!includes(selectedOptions,option)&&(option.element.selected=!1)})}},selectCtrl.readValue=function(){var selectedValues=selectElement.val()||[],selections=[];return forEach(selectedValues,function(value){var option=options.selectValueMap[value];option&&!option.disabled&&selections.push(options.getViewValueFromOption(option))}),selections},ngOptions.trackBy&&scope.$watchCollection(function(){if(isArray(ngModelCtrl.$viewValue))return ngModelCtrl.$viewValue.map(function(value){return ngOptions.getTrackByValue(value)})},function(){ngModelCtrl.$render()})):(selectCtrl.writeValue=function(value){if(options){var selectedOption=selectElement[0].options[selectElement[0].selectedIndex],option=options.getOptionFromViewValue(value);selectedOption&&selectedOption.removeAttribute("selected"),option?(selectElement[0].value!==option.selectValue&&(selectCtrl.removeUnknownOption(),selectElement[0].value=option.selectValue,option.element.selected=!0),option.element.setAttribute("selected","selected")):selectCtrl.selectUnknownOrEmptyOption(value)}},selectCtrl.readValue=function(){var selectedOption=options.selectValueMap[selectElement.val()];return selectedOption&&!selectedOption.disabled?(selectCtrl.unselectEmptyOption(),selectCtrl.removeUnknownOption(),options.getViewValueFromOption(selectedOption)):null},ngOptions.trackBy&&scope.$watch(function(){return ngOptions.getTrackByValue(ngModelCtrl.$viewValue)},function(){ngModelCtrl.$render()})),providedEmptyOption&&($compile(selectCtrl.emptyOption)(scope),selectElement.prepend(selectCtrl.emptyOption),selectCtrl.emptyOption[0].nodeType===NODE_TYPE_COMMENT?(selectCtrl.hasEmptyOption=!1,selectCtrl.registerOption=function(optionScope,optionEl){""===optionEl.val()&&(selectCtrl.hasEmptyOption=!0,selectCtrl.emptyOption=optionEl,selectCtrl.emptyOption.removeClass("ng-scope"),ngModelCtrl.$render(),optionEl.on("$destroy",function(){var needsRerender=selectCtrl.$isEmptyOptionSelected();selectCtrl.hasEmptyOption=!1,selectCtrl.emptyOption=void 0,needsRerender&&ngModelCtrl.$render()}))}):selectCtrl.emptyOption.removeClass("ng-scope")),scope.$watchCollection(ngOptions.getWatchables,updateOptions)}var optionTemplate=window.document.createElement("option"),optGroupTemplate=window.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(scope,selectElement,attr,ctrls){ctrls[0].registerOption=noop},post:ngOptionsPostLink}}}],ngPluralizeDirective=["$locale","$interpolate","$log",function($locale,$interpolate,$log){var BRACE=/{}/g,IS_WHEN=/^when(Minus)?(.+)$/;return{link:function(scope,element,attr){function updateElementText(newText){element.text(newText||"")}var lastCount,numberExp=attr.count,whenExp=attr.$attr.when&&element.attr(attr.$attr.when),offset=attr.offset||0,whens=scope.$eval(whenExp)||{},whensExpFns={},startSymbol=$interpolate.startSymbol(),endSymbol=$interpolate.endSymbol(),braceReplacement=startSymbol+numberExp+"-"+offset+endSymbol,watchRemover=angular.noop;forEach(attr,function(expression,attributeName){var tmpMatch=IS_WHEN.exec(attributeName);if(tmpMatch){var whenKey=(tmpMatch[1]?"-":"")+lowercase(tmpMatch[2]);whens[whenKey]=element.attr(attr.$attr[attributeName])}}),forEach(whens,function(expression,key){whensExpFns[key]=$interpolate(expression.replace(BRACE,braceReplacement))}),scope.$watch(numberExp,function(newVal){var count=parseFloat(newVal),countIsNaN=isNumberNaN(count);if(countIsNaN||count in whens||(count=$locale.pluralCat(count-offset)),!(count===lastCount||countIsNaN&&isNumberNaN(lastCount))){watchRemover();var whenExpFn=whensExpFns[count];isUndefined(whenExpFn)?(null!=newVal&&$log.debug("ngPluralize: no rule defined for '"+count+"' in "+whenExp),watchRemover=noop,updateElementText()):watchRemover=scope.$watch(whenExpFn,updateElementText),lastCount=count}})}}}],ngRefMinErr=minErr("ngRef"),ngRefDirective=["$parse",function($parse){return{priority:-1,restrict:"A",compile:function(tElement,tAttrs){var controllerName=directiveNormalize(nodeName_(tElement)),getter=$parse(tAttrs.ngRef),setter=getter.assign||function(){throw ngRefMinErr("nonassign",'Expression in ngRef="{0}" is non-assignable!',tAttrs.ngRef)};return function(scope,element,attrs){var refValue;if(attrs.hasOwnProperty("ngRefRead")){if("$element"===attrs.ngRefRead)refValue=element;else if(refValue=element.data("$"+attrs.ngRefRead+"Controller"),!refValue)throw ngRefMinErr("noctrl",'The controller for ngRefRead="{0}" could not be found on ngRef="{1}"',attrs.ngRefRead,tAttrs.ngRef)}else refValue=element.data("$"+controllerName+"Controller");refValue=refValue||element,setter(scope,refValue),element.on("$destroy",function(){getter(scope)===refValue&&setter(scope,null)})}}}}],ngRepeatDirective=["$parse","$animate","$compile",function($parse,$animate,$compile){var NG_REMOVED="$$NG_REMOVED",ngRepeatMinErr=minErr("ngRepeat"),updateScope=function(scope,index,valueIdentifier,value,keyIdentifier,key,arrayLength){scope[valueIdentifier]=value,keyIdentifier&&(scope[keyIdentifier]=key),scope.$index=index,scope.$first=0===index,scope.$last=index===arrayLength-1,scope.$middle=!(scope.$first||scope.$last),scope.$odd=!(scope.$even=0===(1&index))},getBlockStart=function(block){return block.clone[0]},getBlockEnd=function(block){return block.clone[block.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function($element,$attr){var expression=$attr.ngRepeat,ngRepeatEndComment=$compile.$$createComment("end ngRepeat",expression),match=expression.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!match)throw ngRepeatMinErr("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",expression);var lhs=match[1],rhs=match[2],aliasAs=match[3],trackByExp=match[4];if(match=lhs.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/),!match)throw ngRepeatMinErr("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",lhs);var valueIdentifier=match[3]||match[1],keyIdentifier=match[2];if(aliasAs&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(aliasAs)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(aliasAs)))throw ngRepeatMinErr("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",aliasAs);var trackByExpGetter,trackByIdExpFn,trackByIdArrayFn,trackByIdObjFn,hashFnLocals={$id:hashKey};return trackByExp?trackByExpGetter=$parse(trackByExp):(trackByIdArrayFn=function(key,value){return hashKey(value)},trackByIdObjFn=function(key){return key}),function($scope,$element,$attr,ctrl,$transclude){trackByExpGetter&&(trackByIdExpFn=function(key,value,index){return keyIdentifier&&(hashFnLocals[keyIdentifier]=key),hashFnLocals[valueIdentifier]=value,hashFnLocals.$index=index,trackByExpGetter($scope,hashFnLocals)});var lastBlockMap=createMap();$scope.$watchCollection(rhs,function(collection){var index,length,nextNode,collectionLength,key,value,trackById,trackByIdFn,collectionKeys,block,nextBlockOrder,elementsToRemove,previousNode=$element[0],nextBlockMap=createMap();if(aliasAs&&($scope[aliasAs]=collection),isArrayLike(collection))collectionKeys=collection,trackByIdFn=trackByIdExpFn||trackByIdArrayFn;else{trackByIdFn=trackByIdExpFn||trackByIdObjFn,collectionKeys=[];for(var itemKey in collection)hasOwnProperty.call(collection,itemKey)&&"$"!==itemKey.charAt(0)&&collectionKeys.push(itemKey)}for(collectionLength=collectionKeys.length,nextBlockOrder=new Array(collectionLength),index=0;index<collectionLength;index++)if(key=collection===collectionKeys?index:collectionKeys[index],value=collection[key],trackById=trackByIdFn(key,value,index),lastBlockMap[trackById])block=lastBlockMap[trackById],delete lastBlockMap[trackById],nextBlockMap[trackById]=block,nextBlockOrder[index]=block;else{if(nextBlockMap[trackById])throw forEach(nextBlockOrder,function(block){block&&block.scope&&(lastBlockMap[block.id]=block)}),ngRepeatMinErr("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",expression,trackById,value);nextBlockOrder[index]={id:trackById,scope:void 0,clone:void 0},nextBlockMap[trackById]=!0}for(var blockKey in lastBlockMap){if(block=lastBlockMap[blockKey],elementsToRemove=getBlockNodes(block.clone),$animate.leave(elementsToRemove),elementsToRemove[0].parentNode)for(index=0,length=elementsToRemove.length;index<length;index++)elementsToRemove[index][NG_REMOVED]=!0;block.scope.$destroy()}for(index=0;index<collectionLength;index++)if(key=collection===collectionKeys?index:collectionKeys[index],value=collection[key],block=nextBlockOrder[index],block.scope){nextNode=previousNode;do nextNode=nextNode.nextSibling;while(nextNode&&nextNode[NG_REMOVED]);getBlockStart(block)!==nextNode&&$animate.move(getBlockNodes(block.clone),null,previousNode),previousNode=getBlockEnd(block),updateScope(block.scope,index,valueIdentifier,value,keyIdentifier,key,collectionLength)}else $transclude(function(clone,scope){block.scope=scope;var endNode=ngRepeatEndComment.cloneNode(!1);clone[clone.length++]=endNode,$animate.enter(clone,null,previousNode),previousNode=endNode,block.clone=clone,nextBlockMap[block.id]=block,updateScope(block.scope,index,valueIdentifier,value,keyIdentifier,key,collectionLength)});lastBlockMap=nextBlockMap})}}}}],NG_HIDE_CLASS="ng-hide",NG_HIDE_IN_PROGRESS_CLASS="ng-hide-animate",ngShowDirective=["$animate",function($animate){return{restrict:"A",multiElement:!0,link:function(scope,element,attr){scope.$watch(attr.ngShow,function(value){$animate[value?"removeClass":"addClass"](element,NG_HIDE_CLASS,{tempClasses:NG_HIDE_IN_PROGRESS_CLASS})})}}}],ngHideDirective=["$animate",function($animate){return{restrict:"A",multiElement:!0,link:function(scope,element,attr){scope.$watch(attr.ngHide,function(value){$animate[value?"addClass":"removeClass"](element,NG_HIDE_CLASS,{tempClasses:NG_HIDE_IN_PROGRESS_CLASS})})}}}],ngStyleDirective=ngDirective(function(scope,element,attr){scope.$watchCollection(attr.ngStyle,function(newStyles,oldStyles){oldStyles&&newStyles!==oldStyles&&forEach(oldStyles,function(val,style){element.css(style,"")}),newStyles&&element.css(newStyles)})}),ngSwitchDirective=["$animate","$compile",function($animate,$compile){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(scope,element,attr,ngSwitchController){var watchExpr=attr.ngSwitch||attr.on,selectedTranscludes=[],selectedElements=[],previousLeaveAnimations=[],selectedScopes=[],spliceFactory=function(array,index){return function(response){response!==!1&&array.splice(index,1)}};scope.$watch(watchExpr,function(value){for(var i,ii;previousLeaveAnimations.length;)$animate.cancel(previousLeaveAnimations.pop());for(i=0,ii=selectedScopes.length;i<ii;++i){var selected=getBlockNodes(selectedElements[i].clone);selectedScopes[i].$destroy();var runner=previousLeaveAnimations[i]=$animate.leave(selected);runner.done(spliceFactory(previousLeaveAnimations,i))}selectedElements.length=0,selectedScopes.length=0,(selectedTranscludes=ngSwitchController.cases["!"+value]||ngSwitchController.cases["?"])&&forEach(selectedTranscludes,function(selectedTransclude){selectedTransclude.transclude(function(caseElement,selectedScope){selectedScopes.push(selectedScope);var anchor=selectedTransclude.element;caseElement[caseElement.length++]=$compile.$$createComment("end ngSwitchWhen");var block={clone:caseElement};selectedElements.push(block),$animate.enter(caseElement,anchor.parent(),anchor)})})})}}}],ngSwitchWhenDirective=ngDirective({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(scope,element,attrs,ctrl,$transclude){var cases=attrs.ngSwitchWhen.split(attrs.ngSwitchWhenSeparator).sort().filter(function(element,index,array){return array[index-1]!==element});forEach(cases,function(whenCase){ctrl.cases["!"+whenCase]=ctrl.cases["!"+whenCase]||[],ctrl.cases["!"+whenCase].push({transclude:$transclude,element:element})})}}),ngSwitchDefaultDirective=ngDirective({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(scope,element,attr,ctrl,$transclude){ctrl.cases["?"]=ctrl.cases["?"]||[],ctrl.cases["?"].push({transclude:$transclude,element:element})}}),ngTranscludeMinErr=minErr("ngTransclude"),ngTranscludeDirective=["$compile",function($compile){return{restrict:"EAC",compile:function(tElement){var fallbackLinkFn=$compile(tElement.contents());return tElement.empty(),function($scope,$element,$attrs,controller,$transclude){function ngTranscludeCloneAttachFn(clone,transcludedScope){clone.length&&notWhitespace(clone)?$element.append(clone):(useFallbackContent(),transcludedScope.$destroy())}function useFallbackContent(){fallbackLinkFn($scope,function(clone){$element.append(clone)})}function notWhitespace(nodes){for(var i=0,ii=nodes.length;i<ii;i++){var node=nodes[i];if(node.nodeType!==NODE_TYPE_TEXT||node.nodeValue.trim())return!0}}if(!$transclude)throw ngTranscludeMinErr("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",startingTag($element));$attrs.ngTransclude===$attrs.$attr.ngTransclude&&($attrs.ngTransclude="");var slotName=$attrs.ngTransclude||$attrs.ngTranscludeSlot;$transclude(ngTranscludeCloneAttachFn,null,slotName),slotName&&!$transclude.isSlotFilled(slotName)&&useFallbackContent()}}}}],scriptDirective=["$templateCache",function($templateCache){return{restrict:"E",terminal:!0,compile:function(element,attr){if("text/ng-template"===attr.type){var templateUrl=attr.id,text=element[0].text;$templateCache.put(templateUrl,text)}}}}],noopNgModelController={$setViewValue:noop,$render:noop},SelectController=["$element","$scope",function($element,$scope){function scheduleRender(){renderScheduled||(renderScheduled=!0,$scope.$$postDigest(function(){renderScheduled=!1,self.ngModelCtrl.$render()}))}function scheduleViewValueUpdate(renderAfter){updateScheduled||(updateScheduled=!0,$scope.$$postDigest(function(){$scope.$$destroyed||(updateScheduled=!1,self.ngModelCtrl.$setViewValue(self.readValue()),renderAfter&&self.ngModelCtrl.$render())}))}var self=this,optionsMap=new NgMap;self.selectValueMap={},self.ngModelCtrl=noopNgModelController,self.multiple=!1,self.unknownOption=jqLite(window.document.createElement("option")),self.hasEmptyOption=!1,self.emptyOption=void 0,self.renderUnknownOption=function(val){var unknownVal=self.generateUnknownOptionValue(val);self.unknownOption.val(unknownVal),$element.prepend(self.unknownOption),setOptionSelectedStatus(self.unknownOption,!0),$element.val(unknownVal)},self.updateUnknownOption=function(val){var unknownVal=self.generateUnknownOptionValue(val);self.unknownOption.val(unknownVal),setOptionSelectedStatus(self.unknownOption,!0),$element.val(unknownVal)},self.generateUnknownOptionValue=function(val){return"? "+hashKey(val)+" ?"},self.removeUnknownOption=function(){self.unknownOption.parent()&&self.unknownOption.remove()},self.selectEmptyOption=function(){self.emptyOption&&($element.val(""),setOptionSelectedStatus(self.emptyOption,!0))},self.unselectEmptyOption=function(){self.hasEmptyOption&&setOptionSelectedStatus(self.emptyOption,!1)},$scope.$on("$destroy",function(){self.renderUnknownOption=noop}),self.readValue=function(){var val=$element.val(),realVal=val in self.selectValueMap?self.selectValueMap[val]:val;return self.hasOption(realVal)?realVal:null},self.writeValue=function(value){var currentlySelectedOption=$element[0].options[$element[0].selectedIndex];if(currentlySelectedOption&&setOptionSelectedStatus(jqLite(currentlySelectedOption),!1),self.hasOption(value)){self.removeUnknownOption();var hashedVal=hashKey(value);$element.val(hashedVal in self.selectValueMap?hashedVal:value);var selectedOption=$element[0].options[$element[0].selectedIndex];setOptionSelectedStatus(jqLite(selectedOption),!0)}else self.selectUnknownOrEmptyOption(value)},self.addOption=function(value,element){if(element[0].nodeType!==NODE_TYPE_COMMENT){assertNotHasOwnProperty(value,'"option value"'),""===value&&(self.hasEmptyOption=!0,self.emptyOption=element);var count=optionsMap.get(value)||0;optionsMap.set(value,count+1),scheduleRender()}},self.removeOption=function(value){var count=optionsMap.get(value);count&&(1===count?(optionsMap["delete"](value),""===value&&(self.hasEmptyOption=!1,self.emptyOption=void 0)):optionsMap.set(value,count-1))},self.hasOption=function(value){return!!optionsMap.get(value)},self.$hasEmptyOption=function(){return self.hasEmptyOption},self.$isUnknownOptionSelected=function(){return $element[0].options[0]===self.unknownOption[0]},self.$isEmptyOptionSelected=function(){return self.hasEmptyOption&&$element[0].options[$element[0].selectedIndex]===self.emptyOption[0]},self.selectUnknownOrEmptyOption=function(value){null==value&&self.emptyOption?(self.removeUnknownOption(),self.selectEmptyOption()):self.unknownOption.parent().length?self.updateUnknownOption(value):self.renderUnknownOption(value)};var renderScheduled=!1,updateScheduled=!1;self.registerOption=function(optionScope,optionElement,optionAttrs,interpolateValueFn,interpolateTextFn){if(optionAttrs.$attr.ngValue){var oldVal,hashedVal=NaN;optionAttrs.$observe("value",function(newVal){var removal,previouslySelected=optionElement.prop("selected");isDefined(hashedVal)&&(self.removeOption(oldVal),delete self.selectValueMap[hashedVal],removal=!0),hashedVal=hashKey(newVal),oldVal=newVal,self.selectValueMap[hashedVal]=newVal,self.addOption(newVal,optionElement),optionElement.attr("value",hashedVal),removal&&previouslySelected&&scheduleViewValueUpdate()})}else interpolateValueFn?optionAttrs.$observe("value",function(newVal){self.readValue();var removal,previouslySelected=optionElement.prop("selected");isDefined(oldVal)&&(self.removeOption(oldVal),removal=!0),oldVal=newVal,self.addOption(newVal,optionElement),removal&&previouslySelected&&scheduleViewValueUpdate()}):interpolateTextFn?optionScope.$watch(interpolateTextFn,function(newVal,oldVal){optionAttrs.$set("value",newVal);var previouslySelected=optionElement.prop("selected");oldVal!==newVal&&self.removeOption(oldVal),self.addOption(newVal,optionElement),oldVal&&previouslySelected&&scheduleViewValueUpdate()}):self.addOption(optionAttrs.value,optionElement);optionAttrs.$observe("disabled",function(newVal){("true"===newVal||newVal&&optionElement.prop("selected"))&&(self.multiple?scheduleViewValueUpdate(!0):(self.ngModelCtrl.$setViewValue(null),self.ngModelCtrl.$render()))}),optionElement.on("$destroy",function(){var currentValue=self.readValue(),removeValue=optionAttrs.value;self.removeOption(removeValue),scheduleRender(),(self.multiple&&currentValue&&currentValue.indexOf(removeValue)!==-1||currentValue===removeValue)&&scheduleViewValueUpdate(!0)})}}],selectDirective=function(){function selectPreLink(scope,element,attr,ctrls){var selectCtrl=ctrls[0],ngModelCtrl=ctrls[1];if(!ngModelCtrl)return void(selectCtrl.registerOption=noop);if(selectCtrl.ngModelCtrl=ngModelCtrl,element.on("change",function(){selectCtrl.removeUnknownOption(),scope.$apply(function(){ngModelCtrl.$setViewValue(selectCtrl.readValue())})}),attr.multiple){selectCtrl.multiple=!0,selectCtrl.readValue=function(){var array=[];return forEach(element.find("option"),function(option){if(option.selected&&!option.disabled){var val=option.value;array.push(val in selectCtrl.selectValueMap?selectCtrl.selectValueMap[val]:val)}}),array},selectCtrl.writeValue=function(value){forEach(element.find("option"),function(option){var shouldBeSelected=!!value&&(includes(value,option.value)||includes(value,selectCtrl.selectValueMap[option.value])),currentlySelected=option.selected;shouldBeSelected!==currentlySelected&&setOptionSelectedStatus(jqLite(option),shouldBeSelected)})};var lastView,lastViewRef=NaN;scope.$watch(function(){
lastViewRef!==ngModelCtrl.$viewValue||equals(lastView,ngModelCtrl.$viewValue)||(lastView=shallowCopy(ngModelCtrl.$viewValue),ngModelCtrl.$render()),lastViewRef=ngModelCtrl.$viewValue}),ngModelCtrl.$isEmpty=function(value){return!value||0===value.length}}}function selectPostLink(scope,element,attrs,ctrls){var ngModelCtrl=ctrls[1];if(ngModelCtrl){var selectCtrl=ctrls[0];ngModelCtrl.$render=function(){selectCtrl.writeValue(ngModelCtrl.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:SelectController,priority:1,link:{pre:selectPreLink,post:selectPostLink}}},optionDirective=["$interpolate",function($interpolate){return{restrict:"E",priority:100,compile:function(element,attr){var interpolateValueFn,interpolateTextFn;return isDefined(attr.ngValue)||(isDefined(attr.value)?interpolateValueFn=$interpolate(attr.value,!0):(interpolateTextFn=$interpolate(element.text(),!0),interpolateTextFn||attr.$set("value",element.text()))),function(scope,element,attr){var selectCtrlName="$selectController",parent=element.parent(),selectCtrl=parent.data(selectCtrlName)||parent.parent().data(selectCtrlName);selectCtrl&&selectCtrl.registerOption(scope,element,attr,interpolateValueFn,interpolateTextFn)}}}}],requiredDirective=function(){return{restrict:"A",require:"?ngModel",link:function(scope,elm,attr,ctrl){ctrl&&(attr.required=!0,ctrl.$validators.required=function(modelValue,viewValue){return!attr.required||!ctrl.$isEmpty(viewValue)},attr.$observe("required",function(){ctrl.$validate()}))}}},patternDirective=function(){return{restrict:"A",require:"?ngModel",link:function(scope,elm,attr,ctrl){if(ctrl){var regexp,patternExp=attr.ngPattern||attr.pattern;attr.$observe("pattern",function(regex){if(isString(regex)&&regex.length>0&&(regex=new RegExp("^"+regex+"$")),regex&&!regex.test)throw minErr("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",patternExp,regex,startingTag(elm));regexp=regex||void 0,ctrl.$validate()}),ctrl.$validators.pattern=function(modelValue,viewValue){return ctrl.$isEmpty(viewValue)||isUndefined(regexp)||regexp.test(viewValue)}}}}},maxlengthDirective=function(){return{restrict:"A",require:"?ngModel",link:function(scope,elm,attr,ctrl){if(ctrl){var maxlength=-1;attr.$observe("maxlength",function(value){var intVal=toInt(value);maxlength=isNumberNaN(intVal)?-1:intVal,ctrl.$validate()}),ctrl.$validators.maxlength=function(modelValue,viewValue){return maxlength<0||ctrl.$isEmpty(viewValue)||viewValue.length<=maxlength}}}}},minlengthDirective=function(){return{restrict:"A",require:"?ngModel",link:function(scope,elm,attr,ctrl){if(ctrl){var minlength=0;attr.$observe("minlength",function(value){minlength=toInt(value)||0,ctrl.$validate()}),ctrl.$validators.minlength=function(modelValue,viewValue){return ctrl.$isEmpty(viewValue)||viewValue.length>=minlength}}}}};return window.angular.bootstrap?void(window.console&&console.log("WARNING: Tried to load AngularJS more than once.")):(bindJQuery(),publishExternalAPI(angular),angular.module("ngLocale",[],["$provide",function($provide){function getDecimals(n){n+="";var i=n.indexOf(".");return i==-1?0:n.length-i-1}function getVF(n,opt_precision){var v=opt_precision;void 0===v&&(v=Math.min(getDecimals(n),3));var base=Math.pow(10,v),f=(n*base|0)%base;return{v:v,f:f}}var PLURAL_CATEGORY={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};$provide.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(n,opt_precision){var i=0|n,vf=getVF(n,opt_precision);return 1==i&&0==vf.v?PLURAL_CATEGORY.ONE:PLURAL_CATEGORY.OTHER}})}]),void jqLite(function(){angularInit(window.document,bootstrap)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),function(S,m){"use strict";function Ea(a,b,c){if(!a)throw Pa("areq",b||"?",c||"required");return a}function Fa(a,b){return a||b?a?b?(V(a)&&(a=a.join(" ")),V(b)&&(b=b.join(" ")),a+" "+b):a:b:""}function Qa(a){var b={};return a&&(a.to||a.from)&&(b.to=a.to,b.from=a.from),b}function W(a,b,c){var d="";return a=V(a)?a:a&&B(a)&&a.length?a.split(/\s+/):[],t(a,function(a,e){a&&0<a.length&&(d+=0<e?" ":"",d+=c?b+a:a+b)}),d}function Ga(a){if(a instanceof z)switch(a.length){case 0:return a;case 1:if(1===a[0].nodeType)return a;break;default:return z(ua(a))}if(1===a.nodeType)return z(a)}function ua(a){if(!a[0])return a;for(var b=0;b<a.length;b++){var c=a[b];if(1===c.nodeType)return c}}function Ra(a,b,c){t(b,function(b){a.addClass(b,c)})}function Sa(a,b,c){t(b,function(b){a.removeClass(b,c)})}function X(a){return function(b,c){c.addClass&&(Ra(a,b,c.addClass),c.addClass=null),c.removeClass&&(Sa(a,b,c.removeClass),c.removeClass=null)}}function oa(a){if(a=a||{},!a.$$prepared){var b=a.domOperation||O;a.domOperation=function(){a.$$domOperationFired=!0,b(),b=O},a.$$prepared=!0}return a}function ha(a,b){Ha(a,b),Ia(a,b)}function Ha(a,b){b.from&&(a.css(b.from),b.from=null)}function Ia(a,b){b.to&&(a.css(b.to),b.to=null)}function T(a,b,c){var d=b.options||{};c=c.options||{};var g=(d.addClass||"")+" "+(c.addClass||""),e=(d.removeClass||"")+" "+(c.removeClass||"");return a=Ta(a.attr("class"),g,e),c.preparationClasses&&(d.preparationClasses=ca(c.preparationClasses,d.preparationClasses),delete c.preparationClasses),g=d.domOperation!==O?d.domOperation:null,va(d,c),g&&(d.domOperation=g),d.addClass=a.addClass?a.addClass:null,d.removeClass=a.removeClass?a.removeClass:null,b.addClass=d.addClass,b.removeClass=d.removeClass,d}function Ta(a,b,c){function d(a){B(a)&&(a=a.split(" "));var b={};return t(a,function(a){a.length&&(b[a]=!0)}),b}var g={};a=d(a),b=d(b),t(b,function(a,b){g[b]=1}),c=d(c),t(c,function(a,b){g[b]=1===g[b]?null:-1});var e={addClass:"",removeClass:""};return t(g,function(b,c){var d,g;1===b?(d="addClass",g=!a[c]||a[c+"-remove"]):-1===b&&(d="removeClass",g=a[c]||a[c+"-add"]),g&&(e[d].length&&(e[d]+=" "),e[d]+=c)}),e}function I(a){return a instanceof z?a[0]:a}function Ua(a,b,c){var d="";b&&(d=W(b,"ng-",!0)),c.addClass&&(d=ca(d,W(c.addClass,"-add"))),c.removeClass&&(d=ca(d,W(c.removeClass,"-remove"))),d.length&&(c.preparationClasses=d,a.addClass(d))}function pa(a,b){var c=b?"-"+b+"s":"";return ka(a,[la,c]),[la,c]}function wa(a,b){var c=b?"paused":"",d=Y+"PlayState";return ka(a,[d,c]),[d,c]}function ka(a,b){a.style[b[0]]=b[1]}function ca(a,b){return a?b?a+" "+b:a:b}function Ja(a,b,c){var d=Object.create(null),g=a.getComputedStyle(b)||{};return t(c,function(a,b){var c=g[a];if(c){var N=c.charAt(0);("-"===N||"+"===N||0<=N)&&(c=Va(c)),0===c&&(c=null),d[b]=c}}),d}function Va(a){var b=0;return a=a.split(/\s*,\s*/),t(a,function(a){"s"===a.charAt(a.length-1)&&(a=a.substring(0,a.length-1)),a=parseFloat(a)||0,b=b?Math.max(a,b):a}),b}function xa(a){return 0===a||null!=a}function Ka(a,b){var c=Q,d=a+"s";return b?c+="Duration":d+=" linear all",[c,d]}function La(){var a=Object.create(null);return{flush:function(){a=Object.create(null)},count:function(b){return(b=a[b])?b.total:0},get:function(b){return(b=a[b])&&b.value},put:function(b,c){a[b]?a[b].total++:a[b]={total:1,value:c}}}}function Ma(a,b,c){t(c,function(c){a[c]=ya(a[c])?a[c]:b.style.getPropertyValue(c)})}var Q,za,Y,Aa;void 0===S.ontransitionend&&void 0!==S.onwebkittransitionend?(Q="WebkitTransition",za="webkitTransitionEnd transitionend"):(Q="transition",za="transitionend"),void 0===S.onanimationend&&void 0!==S.onwebkitanimationend?(Y="WebkitAnimation",Aa="webkitAnimationEnd animationend"):(Y="animation",Aa="animationend");var Ca,va,t,V,ya,Z,Da,ra,B,P,z,O,qa=Y+"Delay",Ba=Y+"Duration",la=Q+"Delay",Na=Q+"Duration",Pa=m.$$minErr("ng"),Wa={transitionDuration:Na,transitionDelay:la,transitionProperty:Q+"Property",animationDuration:Ba,animationDelay:qa,animationIterationCount:Y+"IterationCount"},Xa={transitionDuration:Na,transitionDelay:la,animationDuration:Ba,animationDelay:qa};m.module("ngAnimate",[],function(){O=m.noop,Ca=m.copy,va=m.extend,z=m.element,t=m.forEach,V=m.isArray,B=m.isString,ra=m.isObject,P=m.isUndefined,ya=m.isDefined,Da=m.isFunction,Z=m.isElement}).info({angularVersion:"1.7.2"}).directive("ngAnimateSwap",["$animate",function(a){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(b,c,d,g,e){var r,G;b.$watchCollection(d.ngAnimateSwap||d["for"],function(b){r&&a.leave(r),G&&(G.$destroy(),G=null),(b||0===b)&&e(function(b,d){r=b,G=d,a.enter(b,null,c)})})}}}]).directive("ngAnimateChildren",["$interpolate",function(a){return{link:function(b,c,d){function g(a){c.data("$$ngAnimateChildren","on"===a||"true"===a)}var e=d.ngAnimateChildren;B(e)&&0===e.length?c.data("$$ngAnimateChildren",!0):(g(a(e)(b)),d.$observe("ngAnimateChildren",g))}}}]).factory("$$rAFScheduler",["$$rAF",function(a){function b(a){d=d.concat(a),c()}function c(){if(d.length){for(var b=d.shift(),r=0;r<b.length;r++)b[r]();g||a(function(){g||c()})}}var d,g;return d=b.queue=[],b.waitUntilQuiet=function(b){g&&g(),g=a(function(){g=null,b(),c()})},b}]).provider("$$animateQueue",["$animateProvider",function(a){function b(a){if(!a)return null;a=a.split(" ");var b=Object.create(null);return t(a,function(a){b[a]=!0}),b}function c(a,c){if(a&&c){var d=b(c);return a.split(" ").some(function(a){return d[a]})}}function d(a,b,c){return e[a].some(function(a){return a(b,c)})}function g(a,b){var c=0<(a.addClass||"").length,d=0<(a.removeClass||"").length;return b?c&&d:c||d}var e=this.rules={skip:[],cancel:[],join:[]};e.join.push(function(a,b){return!a.structural&&g(a)}),e.skip.push(function(a,b){return!a.structural&&!g(a)}),e.skip.push(function(a,b){return"leave"===b.event&&a.structural}),e.skip.push(function(a,b){return b.structural&&2===b.state&&!a.structural}),e.cancel.push(function(a,b){return b.structural&&a.structural}),e.cancel.push(function(a,b){return 2===b.state&&a.structural}),e.cancel.push(function(a,b){if(b.structural)return!1;var d=a.addClass,g=a.removeClass,e=b.addClass,sa=b.removeClass;return!(P(d)&&P(g)||P(e)&&P(sa))&&(c(d,sa)||c(g,e))}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$Map","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow","$$isDocumentHidden",function(b,c,e,l,J,sa,da,v,E,h,L){function x(){var a=!1;return function(b){a?b():c.$$postDigest(function(){a=!0,b()})}}function C(a,b,c){var f=[],d=k[c];return d&&t(d,function(d){u.call(d.node,b)?f.push(d.callback):"leave"===c&&u.call(d.node,a)&&f.push(d.callback)}),f}function H(a,b,c){var f=ua(b);return a.filter(function(a){return!(a.node===f&&(!c||a.callback===c))})}function p(a,k,w){function p(a,c,f,d){N(function(){var a=C(na,q,c);a.length?b(function(){t(a,function(a){a(e,f,d)}),"close"!==f||q.parentNode||ba.off(q)}):"close"!==f||q.parentNode||ba.off(q)}),a.progress(c,f,d)}function H(a){var b=e,c=h;c.preparationClasses&&(b.removeClass(c.preparationClasses),c.preparationClasses=null),c.activeClasses&&(b.removeClass(c.activeClasses),c.activeClasses=null),Oa(e,h),ha(e,h),h.domOperation(),l.complete(!a)}var h=Ca(w),e=Ga(a),q=I(e),na=q&&q.parentNode,h=oa(h),l=new da,N=x();if(V(h.addClass)&&(h.addClass=h.addClass.join(" ")),h.addClass&&!B(h.addClass)&&(h.addClass=null),V(h.removeClass)&&(h.removeClass=h.removeClass.join(" ")),h.removeClass&&!B(h.removeClass)&&(h.removeClass=null),h.from&&!ra(h.from)&&(h.from=null),h.to&&!ra(h.to)&&(h.to=null),!(f&&q&&Ya(q,k,w)&&D(q,h)))return H(),l;var v=0<=["enter","move","leave"].indexOf(k),u=L(),J=u||ga.get(q);w=!J&&y.get(q)||{};var E=!!w.state;if(J||E&&1===w.state||(J=!K(q,na,k)),J)return u&&p(l,k,"start"),H(),u&&p(l,k,"close"),l;if(v&&ta(q),u={structural:v,element:e,event:k,addClass:h.addClass,removeClass:h.removeClass,close:H,options:h,runner:l},E){if(d("skip",u,w))return 2===w.state?(H(),l):(T(e,w,u),w.runner);if(d("cancel",u,w))if(2===w.state)w.runner.end();else{if(!w.structural)return T(e,w,u),w.runner;w.close()}else if(d("join",u,w)){if(2!==w.state)return Ua(e,v?k:null,h),k=u.event=w.event,h=T(e,w,u),w.runner;T(e,u,{})}}else T(e,u,{});if((E=u.structural)||(E="animate"===u.event&&0<Object.keys(u.options.to||{}).length||g(u)),!E)return H(),n(q),l;var m=(w.counter||0)+1;return u.counter=m,F(q,1,u),c.$$postDigest(function(){e=Ga(a);var b=y.get(q),c=!b,b=b||{},f=0<(e.parent()||[]).length&&("animate"===b.event||b.structural||g(b));c||b.counter!==m||!f?(c&&(Oa(e,h),ha(e,h)),(c||v&&b.event!==k)&&(h.domOperation(),l.end()),f||n(q)):(k=!b.structural&&g(b,!0)?"setClass":b.event,F(q,2),b=sa(e,k,b.options),l.setHost(b),p(l,k,"start",{}),b.done(function(a){H(!a),(a=y.get(q))&&a.counter===m&&n(q),p(l,k,"close",{})}))}),l}function ta(a){a=a.querySelectorAll("[data-ng-animate]"),t(a,function(a){var b=parseInt(a.getAttribute("data-ng-animate"),10),c=y.get(a);if(c)switch(b){case 2:c.runner.end();case 1:y["delete"](a)}})}function n(a){a.removeAttribute("data-ng-animate"),y["delete"](a)}function K(a,b,c){c=l[0].body;var C,f=I(e),d=a===c||"HTML"===a.nodeName,k=a===f,h=!1,q=ga.get(a);for((a=z.data(a,"$ngAnimatePin"))&&(b=I(a));b&&(k||(k=b===f),1===b.nodeType);){if(a=y.get(b)||{},!h){var p=ga.get(b);if(!0===p&&!1!==q){q=!0;break}!1===p&&(q=!1),h=a.structural}if((P(C)||!0===C)&&(a=z.data(b,"$$ngAnimateChildren"),ya(a)&&(C=a)),h&&!1===C)break;if(d||(d=b===c),d&&k)break;b=k||!(a=z.data(b,"$ngAnimatePin"))?b.parentNode:I(a)}return(!h||C)&&!0!==q&&k&&d}function F(a,b,c){c=c||{},c.state=b,a.setAttribute("data-ng-animate",b),c=(b=y.get(a))?va(b,c):c,y.set(a,c)}var y=new J,ga=new J,f=null,q=c.$watch(function(){return 0===v.totalPendingRequests},function(a){a&&(q(),c.$$postDigest(function(){c.$$postDigest(function(){null===f&&(f=!0)})}))}),k=Object.create(null);J=a.customFilter();var na=a.classNameFilter();h=function(){return!0};var Ya=J||h,D=na?function(a,b){var c=[a.getAttribute("class"),b.addClass,b.removeClass].join(" ");return na.test(c)}:h,Oa=X(E),u=S.Node.prototype.contains||function(a){return this===a||!!(16&this.compareDocumentPosition(a))},ba={on:function(a,b,c){var f=ua(b);k[a]=k[a]||[],k[a].push({node:f,callback:c}),z(b).on("$destroy",function(){y.get(f)||ba.off(a,b,c)})},off:function(a,b,c){if(1!==arguments.length||B(arguments[0])){var f=k[a];f&&(k[a]=1===arguments.length?null:H(f,b,c))}else for(f in b=arguments[0],k)k[f]=H(k[f],b)},pin:function(a,b){Ea(Z(a),"element","not an element"),Ea(Z(b),"parentElement","not an element"),a.data("$ngAnimatePin",b)},push:function(a,b,c,f){return c=c||{},c.domOperation=f,p(a,b,c)},enabled:function(a,b){var c=arguments.length;if(0===c)b=!!f;else if(Z(a)){var d=I(a);1===c?b=!ga.get(d):ga.set(d,!b)}else b=f=!!a;return b}};return ba}]}]).provider("$$animation",["$animateProvider",function(a){var b=this.drivers=[];this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$Map","$$rAFScheduler",function(a,d,g,e,r,G){function N(a){function b(a){if(a.processed)return a;a.processed=!0;var d=a.domNode,e=d.parentNode;h.set(d,a);for(var p;e;){if(p=h.get(e)){p.processed||(p=b(p));break}e=e.parentNode}return(p||c).children.push(a),a}var d,c={children:[]},h=new r;for(d=0;d<a.length;d++){var e=a[d];h.set(e.domNode,a[d]={domNode:e.domNode,fn:e.fn,children:[]})}for(d=0;d<a.length;d++)b(a[d]);return function(a){var d,b=[],c=[];for(d=0;d<a.children.length;d++)c.push(a.children[d]);a=c.length;var h=0,e=[];for(d=0;d<c.length;d++){var g=c[d];0>=a&&(a=h,h=0,b.push(e),e=[]),e.push(g.fn),g.children.forEach(function(a){h++,c.push(a)}),a--}return e.length&&b.push(e),b}(c)}var l=[],J=X(a);return function(r,m,v){function E(a){a=a.hasAttribute("ng-animate-ref")?[a]:a.querySelectorAll("[ng-animate-ref]");var b=[];return t(a,function(a){var c=a.getAttribute("ng-animate-ref");c&&c.length&&b.push(a)}),b}function h(a){var b=[],c={};t(a,function(a,d){var k=I(a.element),h=0<=["enter","move"].indexOf(a.event),k=a.structural?E(k):[];if(k.length){var e=h?"to":"from";t(k,function(a){var b=a.getAttribute("ng-animate-ref");c[b]=c[b]||{},c[b][e]={animationID:d,element:z(a)}})}else b.push(a)});var d={},h={};return t(c,function(c,e){var g=c.from,q=c.to;if(g&&q){var C=a[g.animationID],p=a[q.animationID],y=g.animationID.toString();if(!h[y]){var n=h[y]={structural:!0,beforeStart:function(){C.beforeStart(),p.beforeStart()},close:function(){C.close(),p.close()},classes:L(C.classes,p.classes),from:C,to:p,anchors:[]};n.classes.length?b.push(n):(b.push(C),b.push(p))}h[y].anchors.push({out:g.element,"in":q.element})}else g=g?g.animationID:q.animationID,q=g.toString(),d[q]||(d[q]=!0,b.push(a[g]))}),b}function L(a,b){a=a.split(" "),b=b.split(" ");for(var c=[],d=0;d<a.length;d++){var h=a[d];if("ng-"!==h.substring(0,3))for(var e=0;e<b.length;e++)if(h===b[e]){c.push(h);break}}return c.join(" ")}function x(a){for(var c=b.length-1;0<=c;c--){var d=g.get(b[c])(a);if(d)return d}}function C(a,b){function c(a){(a=a.data("$$animationRunner"))&&a.setHost(b)}a.from&&a.to?(c(a.from.element),c(a.to.element)):c(a.element)}function H(){var a=r.data("$$animationRunner");!a||"leave"===m&&v.$$domOperationFired||a.end()}function p(b){r.off("$destroy",H),r.removeData("$$animationRunner"),J(r,v),ha(r,v),v.domOperation(),F&&a.removeClass(r,F),r.removeClass("ng-animate"),n.complete(!b)}v=oa(v);var ta=0<=["enter","move","leave"].indexOf(m),n=new e({end:function(){p()},cancel:function(){p(!0)}});if(!b.length)return p(),n;r.data("$$animationRunner",n);var K=Fa(r.attr("class"),Fa(v.addClass,v.removeClass)),F=v.tempClasses;F&&(K+=" "+F,v.tempClasses=null);var y;return ta&&(y="ng-"+m+"-prepare",a.addClass(r,y)),l.push({element:r,classes:K,event:m,structural:ta,options:v,beforeStart:function(){r.addClass("ng-animate"),F&&a.addClass(r,F),y&&(a.removeClass(r,y),y=null)},close:p}),r.on("$destroy",H),1<l.length?n:(d.$$postDigest(function(){var a=[];t(l,function(b){b.element.data("$$animationRunner")?a.push(b):b.close()}),l.length=0;var b=h(a),c=[];t(b,function(a){c.push({domNode:I(a.from?a.from.element:a.element),fn:function(){a.beforeStart();var b,c=a.close;if((a.anchors?a.from.element||a.to.element:a.element).data("$$animationRunner")){var d=x(a);d&&(b=d.start)}b?(b=b(),b.done(function(a){c(!a)}),C(a,b)):c()}})}),G(N(c))}),n)}}]}]).provider("$animateCss",["$animateProvider",function(a){var b=La(),c=La();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(a,g,e,r,G,N,l,J){function m(a,b){var c=a.parentNode;return(c.$$ngAnimateParentKey||(c.$$ngAnimateParentKey=++L))+"-"+a.getAttribute("class")+"-"+b}function da(h,e,p,r){var n;return 0<b.count(p)&&(n=c.get(p),n||(e=W(e,"-stagger"),g.addClass(h,e),n=Ja(a,h,r),n.animationDuration=Math.max(n.animationDuration,0),n.transitionDuration=Math.max(n.transitionDuration,0),g.removeClass(h,e),c.put(p,n))),n||{}}function v(a){x.push(a),l.waitUntilQuiet(function(){b.flush(),c.flush();for(var a=G(),d=0;d<x.length;d++)x[d](a);x.length=0})}function E(c,h,e){return h=b.get(e),h||(h=Ja(a,c,Wa),"infinite"===h.animationIterationCount&&(h.animationIterationCount=1)),b.put(e,h),c=h,e=c.animationDelay,h=c.transitionDelay,c.maxDelay=e&&h?Math.max(e,h):e||h,c.maxDuration=Math.max(c.animationDuration*c.animationIterationCount,c.transitionDuration),c}var h=X(g),L=0,x=[];return function(a,c){function d(){n()}function l(){n(!0)}function n(b){if(!(L||ba&&u)){L=!0,u=!1,f.$$skipPreparationClasses||g.removeClass(a,fa),g.removeClass(a,ca),wa(k,!1),pa(k,!1),t(x,function(a){k.style[a[0]]=""}),h(a,f),ha(a,f),Object.keys(q).length&&t(q,function(a,b){a?k.style.setProperty(b,a):k.style.removeProperty(b)}),f.onDone&&f.onDone(),ea&&ea.length&&a.off(ea.join(" "),y);var c=a.data("$$animateCss");c&&(r.cancel(c[0].timer),a.removeData("$$animateCss")),z&&z.complete(!b)}}function K(a){s.blockTransition&&pa(k,a),s.blockKeyframeAnimation&&wa(k,!!a)}function F(){return z=new e({end:d,cancel:l}),v(O),n(),{$$willAnimate:!1,start:function(){return z},end:d}}function y(a){a.stopPropagation();var b=a.originalEvent||a;b.target===k&&(a=b.$manualTimeStamp||Date.now(),b=parseFloat(b.elapsedTime.toFixed(3)),Math.max(a-T,0)>=P&&b>=M&&(ba=!0,n()))}function ga(){function b(){if(!L){if(K(!1),t(x,function(a){k.style[a[0]]=a[1]}),h(a,f),g.addClass(a,ca),s.recalculateTimingStyles){if(ma=k.getAttribute("class")+" "+fa,ja=m(k,ma),A=E(k,ma,ja),$=A.maxDelay,w=Math.max($,0),M=A.maxDuration,0===M)return void n();s.hasTransitions=0<A.transitionDuration,s.hasAnimations=0<A.animationDuration}if(s.applyAnimationDelay&&($="boolean"!=typeof f.delay&&xa(f.delay)?parseFloat(f.delay):$,w=Math.max($,0),A.animationDelay=$,aa=[qa,$+"s"],x.push(aa),k.style[aa[0]]=aa[1]),P=1e3*w,S=1e3*M,f.easing){var d,e=f.easing;s.hasTransitions&&(d=Q+"TimingFunction",x.push([d,e]),k.style[d]=e),s.hasAnimations&&(d=Y+"TimingFunction",x.push([d,e]),k.style[d]=e)}A.transitionDuration&&ea.push(za),A.animationDuration&&ea.push(Aa),T=Date.now();var l=P+1.5*S;d=T+l;var e=a.data("$$animateCss")||[],p=!0;if(e.length){var F=e[0];(p=d>F.expectedEndTime)?r.cancel(F.timer):e.push(n)}p&&(l=r(c,l,!1),e[0]={timer:l,expectedEndTime:d},e.push(n),a.data("$$animateCss",e)),ea.length&&a.on(ea.join(" "),y),f.to&&(f.cleanupStyles&&Ma(q,k,Object.keys(f.to)),Ia(a,f))}}function c(){var b=a.data("$$animateCss");if(b){for(var d=1;d<b.length;d++)b[d]();a.removeData("$$animateCss")}}if(!L)if(k.parentNode){var d=function(a){if(ba)u&&a&&(u=!1,n());else if(u=!a,A.animationDuration)if(a=wa(k,u),u)x.push(a);else{var b=x,c=b.indexOf(a);0<=a&&b.splice(c,1)}},e=0<Z&&(A.transitionDuration&&0===U.transitionDuration||A.animationDuration&&0===U.animationDuration)&&Math.max(U.animationDelay,U.transitionDelay);e?r(b,Math.floor(e*Z*1e3),!1):b(),B.resume=function(){d(!0)},B.pause=function(){d(!1)}}else n()}var f=c||{};f.$$prepared||(f=oa(Ca(f)));var q={},k=I(a);if(!k||!k.parentNode||!J.enabled())return F();var L,u,ba,z,B,w,P,M,S,T,x=[],G=a.attr("class"),D=Qa(f),ea=[];if(0===f.duration||!N.animations&&!N.transitions)return F();var ia=f.event&&V(f.event)?f.event.join(" "):f.event,X="",R="";ia&&f.structural?X=W(ia,"ng-",!0):ia&&(X=ia),f.addClass&&(R+=W(f.addClass,"-add")),f.removeClass&&(R.length&&(R+=" "),R+=W(f.removeClass,"-remove")),f.applyClassesEarly&&R.length&&h(a,f);var fa=[X,R].join(" ").trim(),ma=G+" "+fa,ca=W(fa,"-active"),G=D.to&&0<Object.keys(D.to).length;if(!(0<(f.keyframeStyle||"").length||G||fa))return F();var ja,U;0<f.stagger?(D=parseFloat(f.stagger),U={transitionDelay:D,animationDelay:D,transitionDuration:0,animationDuration:0}):(ja=m(k,ma),U=da(k,fa,ja,Xa)),f.$$skipPreparationClasses||g.addClass(a,fa),f.transitionStyle&&(D=[Q,f.transitionStyle],ka(k,D),x.push(D)),0<=f.duration&&(D=0<k.style[Q].length,D=Ka(f.duration,D),ka(k,D),x.push(D)),f.keyframeStyle&&(D=[Y,f.keyframeStyle],ka(k,D),x.push(D));var Z=U?0<=f.staggerIndex?f.staggerIndex:b.count(ja):0;(ia=0===Z)&&!f.skipBlocking&&pa(k,9999);var A=E(k,ma,ja),$=A.maxDelay;w=Math.max($,0),M=A.maxDuration;var s={};if(s.hasTransitions=0<A.transitionDuration,s.hasAnimations=0<A.animationDuration,s.hasTransitionAll=s.hasTransitions&&"all"===A.transitionProperty,s.applyTransitionDuration=G&&(s.hasTransitions&&!s.hasTransitionAll||s.hasAnimations&&!s.hasTransitions),s.applyAnimationDuration=f.duration&&s.hasAnimations,s.applyTransitionDelay=xa(f.delay)&&(s.applyTransitionDuration||s.hasTransitions),s.applyAnimationDelay=xa(f.delay)&&s.hasAnimations,s.recalculateTimingStyles=0<R.length,(s.applyTransitionDuration||s.applyAnimationDuration)&&(M=f.duration?parseFloat(f.duration):M,s.applyTransitionDuration&&(s.hasTransitions=!0,A.transitionDuration=M,D=0<k.style[Q+"Property"].length,x.push(Ka(M,D))),s.applyAnimationDuration&&(s.hasAnimations=!0,A.animationDuration=M,x.push([Ba,M+"s"]))),0===M&&!s.recalculateTimingStyles)return F();if(null!=f.delay){var aa;"boolean"!=typeof f.delay&&(aa=parseFloat(f.delay),w=Math.max(aa,0)),s.applyTransitionDelay&&x.push([la,aa+"s"]),s.applyAnimationDelay&&x.push([qa,aa+"s"])}return null==f.duration&&0<A.transitionDuration&&(s.recalculateTimingStyles=s.recalculateTimingStyles||ia),P=1e3*w,S=1e3*M,f.skipBlocking||(s.blockTransition=0<A.transitionDuration,s.blockKeyframeAnimation=0<A.animationDuration&&0<U.animationDelay&&0===U.animationDuration),f.from&&(f.cleanupStyles&&Ma(q,k,Object.keys(f.from)),Ha(a,f)),s.blockTransition||s.blockKeyframeAnimation?K(M):f.skipBlocking||pa(k,!1),{$$willAnimate:!0,end:d,start:function(){if(!L)return B={end:d,cancel:l,resume:null,pause:null},z=new e(B),v(ga),z}}}}]}]).provider("$$animateCssDriver",["$$animationProvider",function(a){a.drivers.push("$$animateCssDriver"),this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(a,c,d,g,e,r,G){function N(a){return a.replace(/\bng-\S+\b/g,"")}function l(a,b){return B(a)&&(a=a.split(" ")),B(b)&&(b=b.split(" ")),a.filter(function(a){return-1===b.indexOf(a)}).join(" ")}function J(c,e,g){function r(a){var b={},c=I(a).getBoundingClientRect();return t(["width","height","top","left"],function(a){var d=c[a];switch(a){case"top":d+=v.scrollTop;break;case"left":d+=v.scrollLeft}b[a]=Math.floor(d)+"px"}),b}function G(){var c=N(g.attr("class")||""),d=l(c,n),c=l(n,c),d=a(m,{to:r(g),addClass:"ng-anchor-in "+d,removeClass:"ng-anchor-out "+c,delay:!0});return d.$$willAnimate?d:null}function p(){m.remove(),e.removeClass("ng-animate-shim"),g.removeClass("ng-animate-shim")}var m=z(I(e).cloneNode(!0)),n=N(m.attr("class")||"");e.addClass("ng-animate-shim"),g.addClass("ng-animate-shim"),m.addClass("ng-anchor"),E.append(m);var K;if(c=function(){var c=a(m,{addClass:"ng-anchor-out",delay:!0,from:r(e)});return c.$$willAnimate?c:null}(),!c&&(K=G(),!K))return p();var F=c||K;return{start:function(){function a(){c&&c.end()}var b,c=F.start();return c.done(function(){return c=null,!K&&(K=G())?(c=K.start(),c.done(function(){c=null,p(),b.complete()}),c):(p(),void b.complete())}),b=new d({end:a,cancel:a})}}}function m(a,b,c,e){var g=da(a,O),l=da(b,O),r=[];if(t(e,function(a){(a=J(c,a.out,a["in"]))&&r.push(a)}),g||l||0!==r.length)return{start:function(){function a(){t(b,function(a){a.end()})}var b=[];g&&b.push(g.start()),l&&b.push(l.start()),t(r,function(a){b.push(a.start())});var c=new d({end:a,cancel:a});return d.all(b,function(a){c.complete(a)}),c}}}function da(c){var d=c.element,e=c.options||{};return c.structural&&(e.event=c.event,e.structural=!0,e.applyClassesEarly=!0,"leave"===c.event&&(e.onDone=e.domOperation)),e.preparationClasses&&(e.event=ca(e.event,e.preparationClasses)),c=a(d,e),c.$$willAnimate?c:null}if(!e.animations&&!e.transitions)return O;var v=G[0].body;c=I(g);var E=z(c.parentNode&&11===c.parentNode.nodeType||v.contains(c)?c:v);return function(a){return a.from&&a.to?m(a.from,a.to,a.classes,a.anchors):da(a)}}]}]).provider("$$animateJs",["$animateProvider",function(a){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(b,c,d){function g(c){c=V(c)?c:c.split(" ");for(var d=[],e={},g=0;g<c.length;g++){var m=c[g],t=a.$$registeredAnimations[m];t&&!e[m]&&(d.push(b.get(t)),e[m]=!0)}return d}var e=X(d);return function(a,b,d,l){function m(){l.domOperation(),e(a,l)}function z(a,b,d,e,f){switch(d){case"animate":b=[b,e.from,e.to,f];break;case"setClass":b=[b,h,L,f];break;case"addClass":b=[b,h,f];break;case"removeClass":b=[b,L,f];break;default:b=[b,f]}if(b.push(e),a=a.apply(a,b))if(Da(a.start)&&(a=a.start()),a instanceof c)a.done(f);else if(Da(a))return a;return O}function B(a,b,d,e,f){var g=[];return t(e,function(e){var h=e[f];h&&g.push(function(){var e,f,g=!1,k=function(a){g||(g=!0,(f||O)(a),e.complete(!a))};return e=new c({end:function(){k()},cancel:function(){k(!0)}}),f=z(h,a,b,d,function(a){k(!1===a)}),e})}),g}function v(a,b,d,e,f){var g=B(a,b,d,e,f);if(0===g.length){var h,l;"beforeSetClass"===f?(h=B(a,"removeClass",d,e,"beforeRemoveClass"),l=B(a,"addClass",d,e,"beforeAddClass")):"setClass"===f&&(h=B(a,"removeClass",d,e,"removeClass"),l=B(a,"addClass",d,e,"addClass")),h&&(g=g.concat(h)),l&&(g=g.concat(l))}if(0!==g.length)return function(a){var b=[];return g.length&&t(g,function(a){b.push(a())}),b.length?c.all(b,a):a(),function(a){t(b,function(b){a?b.cancel():b.end()})}}}var E=!1;3===arguments.length&&ra(d)&&(l=d,d=null),l=oa(l),d||(d=a.attr("class")||"",l.addClass&&(d+=" "+l.addClass),l.removeClass&&(d+=" "+l.removeClass));var C,H,h=l.addClass,L=l.removeClass,x=g(d);if(x.length){var p,I;"leave"===b?(I="leave",p="afterLeave"):(I="before"+b.charAt(0).toUpperCase()+b.substr(1),p=b),"enter"!==b&&"move"!==b&&(C=v(a,b,l,x,I)),H=v(a,b,l,x,p)}if(C||H){var n;return{$$willAnimate:!0,end:function(){return n?n.end():(E=!0,m(),ha(a,l),n=new c,n.complete(!0)),n},start:function(){function b(c){E=!0,m(),ha(a,l),n.complete(c)}if(n)return n;n=new c;var d,e=[];return C&&e.push(function(a){d=C(a)}),e.length?e.push(function(a){m(),a(!0)}):m(),H&&e.push(function(a){d=H(a)}),n.setHost({end:function(){E||((d||O)(void 0),b(void 0))},cancel:function(){E||((d||O)(!0),b(!0))}}),c.chain(e,b),n}}}}}]}]).provider("$$animateJsDriver",["$$animationProvider",function(a){a.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(a,c){function d(c){return a(c.element,c.event,c.classes,c.options)}return function(a){if(!a.from||!a.to)return d(a);var b=d(a.from),m=d(a.to);return b||m?{start:function(){function a(){return function(){t(d,function(a){a.end()})}}var d=[];b&&d.push(b.start()),m&&d.push(m.start()),c.all(d,function(a){g.complete(a)});var g=new c({end:a(),cancel:a()});return g}}:void 0}}]}])}(window,window.angular),function(){"use strict";angular.module("cfp.hotkeys",[]).provider("hotkeys",function(){this.includeCheatSheet=!0,this.templateTitle="Keyboard Shortcuts:",this.template='<div class="cfp-hotkeys-container fade" ng-class="{in: helpVisible}" style="display: none;"><div class="cfp-hotkeys"><h4 class="cfp-hotkeys-title">{{ title }}</h4><table><tbody><tr ng-repeat="hotkey in hotkeys | filter:{ description: \'!$$undefined$$\' }"><td class="cfp-hotkeys-keys"><span ng-repeat="key in hotkey.format() track by $index" class="cfp-hotkeys-key">{{ key }}</span></td><td class="cfp-hotkeys-text">{{ hotkey.description }}</td></tr></tbody></table><div class="cfp-hotkeys-close" ng-click="toggleCheatSheet()">×</div></div></div>',this.cheatSheetHotkey="?",this.cheatSheetDescription="Show / hide this help menu",this.$get=["$rootElement","$rootScope","$compile","$window","$document",function($rootElement,$rootScope,$compile,$window,$document){function symbolize(combo){var map={command:"⌘",shift:"⇧",left:"←",right:"→",up:"↑",down:"↓","return":"↩",backspace:"⌫"};combo=combo.split("+");for(var i=0;i<combo.length;i++)"mod"===combo[i]&&($window.navigator&&$window.navigator.platform.indexOf("Mac")>=0?combo[i]="command":combo[i]="ctrl"),combo[i]=map[combo[i]]||combo[i];return combo.join(" + ")}function Hotkey(combo,description,callback,action,allowIn,persistent){this.combo=combo instanceof Array?combo:[combo],this.description=description,this.callback=callback,this.action=action,this.allowIn=allowIn,this.persistent=persistent;
}function purgeHotkeys(){for(var i=scope.hotkeys.length;i--;){var hotkey=scope.hotkeys[i];hotkey&&!hotkey.persistent&&_del(hotkey)}}function toggleCheatSheet(){scope.helpVisible=!scope.helpVisible,scope.helpVisible?(previousEsc=_get("esc"),_del("esc"),_add("esc",previousEsc.description,toggleCheatSheet)):(_del("esc"),previousEsc!==!1&&_add(previousEsc))}function _add(combo,description,callback,action,allowIn,persistent){var _callback,preventIn=["INPUT","SELECT","TEXTAREA"],objType=Object.prototype.toString.call(combo);if("[object Object]"===objType&&(description=combo.description,callback=combo.callback,action=combo.action,persistent=combo.persistent,allowIn=combo.allowIn,combo=combo.combo),description instanceof Function?(action=callback,callback=description,description="$$undefined$$"):angular.isUndefined(description)&&(description="$$undefined$$"),void 0===persistent&&(persistent=!0),"function"==typeof callback){_callback=callback,allowIn instanceof Array||(allowIn=[]);for(var index,i=0;i<allowIn.length;i++)allowIn[i]=allowIn[i].toUpperCase(),index=preventIn.indexOf(allowIn[i]),index!==-1&&preventIn.splice(index,1);callback=function(event){var shouldExecute=!0,target=event.target||event.srcElement,nodeName=target.nodeName.toUpperCase();if((" "+target.className+" ").indexOf(" mousetrap ")>-1)shouldExecute=!0;else for(var i=0;i<preventIn.length;i++)if(preventIn[i]===nodeName){shouldExecute=!1;break}shouldExecute&&wrapApply(_callback.apply(this,arguments))}}"string"==typeof action?Mousetrap.bind(combo,wrapApply(callback),action):Mousetrap.bind(combo,wrapApply(callback));var hotkey=new Hotkey(combo,description,callback,action,allowIn,persistent);return scope.hotkeys.push(hotkey),hotkey}function _del(hotkey){var combo=hotkey instanceof Hotkey?hotkey.combo:hotkey;if(Mousetrap.unbind(combo),angular.isArray(combo)){for(var retStatus=!0,i=combo.length;i--;)retStatus=_del(combo[i])&&retStatus;return retStatus}var index=scope.hotkeys.indexOf(_get(combo));return index>-1&&(scope.hotkeys[index].combo.length>1?scope.hotkeys[index].combo.splice(scope.hotkeys[index].combo.indexOf(combo),1):scope.hotkeys.splice(index,1),!0)}function _get(combo){for(var hotkey,i=0;i<scope.hotkeys.length;i++)if(hotkey=scope.hotkeys[i],hotkey.combo.indexOf(combo)>-1)return hotkey;return!1}function bindTo(scope){return scope.$id in boundScopes||(boundScopes[scope.$id]=[],scope.$on("$destroy",function(){for(var i=boundScopes[scope.$id].length;i--;)_del(boundScopes[scope.$id][i]),delete boundScopes[scope.$id][i]})),{add:function(args){var hotkey;return hotkey=arguments.length>1?_add.apply(this,arguments):_add(args),boundScopes[scope.$id].push(hotkey),this}}}function wrapApply(callback){return function(event,combo){if(callback instanceof Array){var funcString=callback[0],route=callback[1];callback=function(event){route.scope.$eval(funcString)}}$rootScope.$apply(function(){callback(event,_get(combo))})}}Mousetrap.stopCallback=function(event,element){return!((" "+element.className+" ").indexOf(" mousetrap ")>-1)&&(element.contentEditable&&"true"==element.contentEditable)},Hotkey.prototype.format=function(){for(var combo=this.combo[0],sequence=combo.split(/[\s]/),i=0;i<sequence.length;i++)sequence[i]=symbolize(sequence[i]);return sequence};var scope=$rootScope.$new();scope.hotkeys=[],scope.helpVisible=!1,scope.title=this.templateTitle,scope.toggleCheatSheet=toggleCheatSheet;var boundScopes=[];if($rootScope.$on("$routeChangeSuccess",function(event,route){purgeHotkeys(),route&&route.hotkeys&&angular.forEach(route.hotkeys,function(hotkey){var callback=hotkey[2];("string"==typeof callback||callback instanceof String)&&(hotkey[2]=[callback,route]),hotkey[5]=!1,_add.apply(this,hotkey)})}),this.includeCheatSheet){var document=$document[0],element=$rootElement[0],helpMenu=angular.element(this.template);_add(this.cheatSheetHotkey,this.cheatSheetDescription,toggleCheatSheet),element!==document&&element!==document.documentElement||(element=document.body),angular.element(element).append($compile(helpMenu)(scope))}var previousEsc=!1,publicApi={add:_add,del:_del,get:_get,bindTo:bindTo,template:this.template,toggleCheatSheet:toggleCheatSheet,includeCheatSheet:this.includeCheatSheet,cheatSheetHotkey:this.cheatSheetHotkey,cheatSheetDescription:this.cheatSheetDescription,purgeHotkeys:purgeHotkeys,templateTitle:this.templateTitle};return publicApi}]}).directive("hotkey",["hotkeys",function(hotkeys){return{restrict:"A",link:function(scope,el,attrs){var key,allowIn;angular.forEach(scope.$eval(attrs.hotkey),function(func,hotkey){allowIn="string"==typeof attrs.hotkeyAllowIn?attrs.hotkeyAllowIn.split(/[\s,]+/):[],key=hotkey,hotkeys.add({combo:hotkey,description:attrs.hotkeyDescription,callback:func,action:attrs.hotkeyAction,allowIn:allowIn})}),el.bind("$destroy",function(){hotkeys.del(key)})}}}]).run(["hotkeys",function(hotkeys){}])}(),function(window,document,undefined){function _addEvent(object,type,callback){return object.addEventListener?void object.addEventListener(type,callback,!1):void object.attachEvent("on"+type,callback)}function _characterFromEvent(e){if("keypress"==e.type){var character=String.fromCharCode(e.which);return e.shiftKey||(character=character.toLowerCase()),character}return _MAP[e.which]?_MAP[e.which]:_KEYCODE_MAP[e.which]?_KEYCODE_MAP[e.which]:String.fromCharCode(e.which).toLowerCase()}function _modifiersMatch(modifiers1,modifiers2){return modifiers1.sort().join(",")===modifiers2.sort().join(",")}function _resetSequences(doNotReset){doNotReset=doNotReset||{};var key,activeSequences=!1;for(key in _sequenceLevels)doNotReset[key]?activeSequences=!0:_sequenceLevels[key]=0;activeSequences||(_nextExpectedAction=!1)}function _getMatches(character,modifiers,e,sequenceName,combination,level){var i,callback,matches=[],action=e.type;if(!_callbacks[character])return[];for("keyup"==action&&_isModifier(character)&&(modifiers=[character]),i=0;i<_callbacks[character].length;++i)if(callback=_callbacks[character][i],(sequenceName||!callback.seq||_sequenceLevels[callback.seq]==callback.level)&&action==callback.action&&("keypress"==action&&!e.metaKey&&!e.ctrlKey||_modifiersMatch(modifiers,callback.modifiers))){var deleteCombo=!sequenceName&&callback.combo==combination,deleteSequence=sequenceName&&callback.seq==sequenceName&&callback.level==level;(deleteCombo||deleteSequence)&&_callbacks[character].splice(i,1),matches.push(callback)}return matches}function _eventModifiers(e){var modifiers=[];return e.shiftKey&&modifiers.push("shift"),e.altKey&&modifiers.push("alt"),e.ctrlKey&&modifiers.push("ctrl"),e.metaKey&&modifiers.push("meta"),modifiers}function _preventDefault(e){return e.preventDefault?void e.preventDefault():void(e.returnValue=!1)}function _stopPropagation(e){return e.stopPropagation?void e.stopPropagation():void(e.cancelBubble=!0)}function _fireCallback(callback,e,combo,sequence){Mousetrap.stopCallback(e,e.target||e.srcElement,combo,sequence)||callback(e,combo)===!1&&(_preventDefault(e),_stopPropagation(e))}function _handleKey(character,modifiers,e){var i,callbacks=_getMatches(character,modifiers,e),doNotReset={},maxLevel=0,processedSequenceCallback=!1;for(i=0;i<callbacks.length;++i)callbacks[i].seq&&(maxLevel=Math.max(maxLevel,callbacks[i].level));for(i=0;i<callbacks.length;++i)if(callbacks[i].seq){if(callbacks[i].level!=maxLevel)continue;processedSequenceCallback=!0,doNotReset[callbacks[i].seq]=1,_fireCallback(callbacks[i].callback,e,callbacks[i].combo,callbacks[i].seq)}else processedSequenceCallback||_fireCallback(callbacks[i].callback,e,callbacks[i].combo);var ignoreThisKeypress="keypress"==e.type&&_ignoreNextKeypress;e.type!=_nextExpectedAction||_isModifier(character)||ignoreThisKeypress||_resetSequences(doNotReset),_ignoreNextKeypress=processedSequenceCallback&&"keydown"==e.type}function _handleKeyEvent(e){"number"!=typeof e.which&&(e.which=e.keyCode);var character=_characterFromEvent(e);if(character)return"keyup"==e.type&&_ignoreNextKeyup===character?void(_ignoreNextKeyup=!1):void Mousetrap.handleKey(character,_eventModifiers(e),e)}function _isModifier(key){return"shift"==key||"ctrl"==key||"alt"==key||"meta"==key}function _resetSequenceTimer(){clearTimeout(_resetTimer),_resetTimer=setTimeout(_resetSequences,1e3)}function _getReverseMap(){if(!_REVERSE_MAP){_REVERSE_MAP={};for(var key in _MAP)key>95&&key<112||_MAP.hasOwnProperty(key)&&(_REVERSE_MAP[_MAP[key]]=key)}return _REVERSE_MAP}function _pickBestAction(key,modifiers,action){return action||(action=_getReverseMap()[key]?"keydown":"keypress"),"keypress"==action&&modifiers.length&&(action="keydown"),action}function _bindSequence(combo,keys,callback,action){function _increaseSequence(nextAction){return function(){_nextExpectedAction=nextAction,++_sequenceLevels[combo],_resetSequenceTimer()}}function _callbackAndReset(e){_fireCallback(callback,e,combo),"keyup"!==action&&(_ignoreNextKeyup=_characterFromEvent(e)),setTimeout(_resetSequences,10)}_sequenceLevels[combo]=0;for(var i=0;i<keys.length;++i){var isFinal=i+1===keys.length,wrappedCallback=isFinal?_callbackAndReset:_increaseSequence(action||_getKeyInfo(keys[i+1]).action);_bindSingle(keys[i],wrappedCallback,action,combo,i)}}function _keysFromString(combination){return"+"===combination?["+"]:combination.split("+")}function _getKeyInfo(combination,action){var keys,key,i,modifiers=[];for(keys=_keysFromString(combination),i=0;i<keys.length;++i)key=keys[i],_SPECIAL_ALIASES[key]&&(key=_SPECIAL_ALIASES[key]),action&&"keypress"!=action&&_SHIFT_MAP[key]&&(key=_SHIFT_MAP[key],modifiers.push("shift")),_isModifier(key)&&modifiers.push(key);return action=_pickBestAction(key,modifiers,action),{key:key,modifiers:modifiers,action:action}}function _bindSingle(combination,callback,action,sequenceName,level){_directMap[combination+":"+action]=callback,combination=combination.replace(/\s+/g," ");var info,sequence=combination.split(" ");return sequence.length>1?void _bindSequence(combination,sequence,callback,action):(info=_getKeyInfo(combination,action),_callbacks[info.key]=_callbacks[info.key]||[],_getMatches(info.key,info.modifiers,{type:info.action},sequenceName,combination,level),void _callbacks[info.key][sequenceName?"unshift":"push"]({callback:callback,modifiers:info.modifiers,action:info.action,seq:sequenceName,level:level,combo:combination}))}function _bindMultiple(combinations,callback,action){for(var i=0;i<combinations.length;++i)_bindSingle(combinations[i],callback,action)}for(var _REVERSE_MAP,_resetTimer,_MAP={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},_KEYCODE_MAP={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},_SHIFT_MAP={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},_SPECIAL_ALIASES={option:"alt",command:"meta","return":"enter",escape:"esc",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},_callbacks={},_directMap={},_sequenceLevels={},_ignoreNextKeyup=!1,_ignoreNextKeypress=!1,_nextExpectedAction=!1,i=1;i<20;++i)_MAP[111+i]="f"+i;for(i=0;i<=9;++i)_MAP[i+96]=i;_addEvent(document,"keypress",_handleKeyEvent),_addEvent(document,"keydown",_handleKeyEvent),_addEvent(document,"keyup",_handleKeyEvent);var Mousetrap={bind:function(keys,callback,action){return keys=keys instanceof Array?keys:[keys],_bindMultiple(keys,callback,action),this},unbind:function(keys,action){return Mousetrap.bind(keys,function(){},action)},trigger:function(keys,action){return _directMap[keys+":"+action]&&_directMap[keys+":"+action]({},keys),this},reset:function(){return _callbacks={},_directMap={},this},stopCallback:function(e,element){return!((" "+element.className+" ").indexOf(" mousetrap ")>-1)&&("INPUT"==element.tagName||"SELECT"==element.tagName||"TEXTAREA"==element.tagName||element.isContentEditable)},handleKey:_handleKey};window.Mousetrap=Mousetrap,"function"==typeof define&&define.amd&&define(Mousetrap)}(window,document),function(window,angular){"use strict";function jsonStringToDate(string){var match,R_ISO8061_STR=/^(-?\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d{3}))?)?)?(Z|([+-])(\d\d):?(\d\d)))?$/;if(match=string.match(R_ISO8061_STR)){var date=new Date(0),tzHour=0,tzMin=0;return match[9]&&(tzHour=toInt(match[9]+match[10]),tzMin=toInt(match[9]+match[11])),date.setUTCFullYear(toInt(match[1]),toInt(match[2])-1,toInt(match[3])),date.setUTCHours(toInt(match[4]||0)-tzHour,toInt(match[5]||0)-tzMin,toInt(match[6]||0),toInt(match[7]||0)),date}return string}function toInt(str){return parseInt(str,10)}function padNumberInMock(num,digits,trim){var neg="";for(num<0&&(neg="-",num=-num),num=""+num;num.length<digits;)num="0"+num;return trim&&(num=num.substr(num.length-digits)),neg+num}function createHttpBackendMock($rootScope,$timeout,$delegate,$browser){function createResponse(status,data,headers,statusText){return angular.isFunction(status)?status:function(){return angular.isNumber(status)?[status,data,headers,statusText,"complete"]:[200,status,data,headers,"complete"]}}function $httpBackend(method,url,data,callback,headers,timeout,withCredentials,responseType,eventHandlers,uploadEventHandlers){function prettyPrint(data){return angular.isString(data)||angular.isFunction(data)||data instanceof RegExp?data:angular.toJson(data)}function wrapResponse(wrapped){function handleResponse(){var response=wrapped.response(method,url,data,headers,wrapped.params(url));xhr.$$respHeaders=response[2],callback(copy(response[0]),copy(response[1]),xhr.getAllResponseHeaders(),copy(response[3]||""),copy(response[4]))}function handlePrematureEnd(reason){for(var i=0,ii=responses.length;i<ii;i++)if(responses[i]===handleResponse){responses.splice(i,1),callback(-1,void 0,"",void 0,reason);break}}return!$browser&&timeout&&(timeout.then?timeout.then(function(){handlePrematureEnd(angular.isDefined(timeout.$$timeoutId)?"timeout":"abort")}):$timeout(function(){handlePrematureEnd("timeout")},timeout)),handleResponse.description=method+" "+url,handleResponse}var xhr=new MockXhr,expectation=expectations[0],wasExpected=!1;if(xhr.$$events=eventHandlers,xhr.upload.$$events=uploadEventHandlers,expectation&&expectation.match(method,url)){if(!expectation.matchData(data))throw new Error("Expected "+expectation+" with different data\nEXPECTED: "+prettyPrint(expectation.data)+"\nGOT:      "+data);if(!expectation.matchHeaders(headers))throw new Error("Expected "+expectation+" with different headers\nEXPECTED: "+prettyPrint(expectation.headers)+"\nGOT:      "+prettyPrint(headers));if(expectations.shift(),expectation.response)return void responses.push(wrapResponse(expectation));wasExpected=!0}for(var definition,i=matchLatestDefinition?definitions.length:-1;definition=definitions[matchLatestDefinition?--i:++i];)if(definition.match(method,url,data,headers||{})){if(definition.response)($browser?$browser.defer:responsesPush)(wrapResponse(definition));else{if(!definition.passThrough)throw new Error("No response defined !");originalHttpBackend(method,url,data,callback,headers,timeout,withCredentials,responseType,eventHandlers,uploadEventHandlers)}return}var error=wasExpected?new Error("No response defined !"):new Error("Unexpected request: "+method+" "+url+"\n"+(expectation?"Expected "+expectation:"No more request expected"));throw error.$$passToExceptionHandler=!0,error}function parseRoute(url){var ret={regexp:url},keys=ret.keys=[];return url&&angular.isString(url)?(url=url.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([?*])?/g,function(_,slash,key,option){var optional="?"===option?option:null,star="*"===option?option:null;return keys.push({name:key,optional:!!optional}),slash=slash||"",""+(optional?"":slash)+"(?:"+(optional?slash:"")+(star&&"(.+?)"||"([^/]+)")+(optional||"")+")"+(optional||"")}).replace(/([\/$*])/g,"\\$1"),ret.regexp=new RegExp("^"+url,"i"),ret):ret}function createShortMethods(prefix){angular.forEach(["GET","DELETE","JSONP","HEAD"],function(method){$httpBackend[prefix+method]=function(url,headers,keys){return assertArgDefined(arguments,0,"url"),angular.isUndefined(url)&&(url=null),$httpBackend[prefix](method,url,void 0,headers,keys)}}),angular.forEach(["PUT","POST","PATCH"],function(method){$httpBackend[prefix+method]=function(url,data,headers,keys){return assertArgDefined(arguments,0,"url"),angular.isUndefined(url)&&(url=null),$httpBackend[prefix](method,url,data,headers,keys)}})}var definitions=[],expectations=[],matchLatestDefinition=!1,responses=[],responsesPush=angular.bind(responses,responses.push),copy=angular.copy,originalHttpBackend=$delegate.$$originalHttpBackend||$delegate;return $httpBackend.when=function(method,url,data,headers,keys){assertArgDefined(arguments,1,"url");var definition=new MockHttpExpectation(method,url,data,headers,keys),chain={respond:function(status,data,headers,statusText){return definition.passThrough=void 0,definition.response=createResponse(status,data,headers,statusText),chain}};return $browser&&(chain.passThrough=function(){return definition.response=void 0,definition.passThrough=!0,chain}),definitions.push(definition),chain},$httpBackend.matchLatestDefinitionEnabled=function(value){return isDefined(value)?(matchLatestDefinition=value,this):matchLatestDefinition},createShortMethods("when"),$httpBackend.whenRoute=function(method,url){var pathObj=parseRoute(url);return $httpBackend.when(method,pathObj.regexp,void 0,void 0,pathObj.keys)},$httpBackend.expect=function(method,url,data,headers,keys){assertArgDefined(arguments,1,"url");var expectation=new MockHttpExpectation(method,url,data,headers,keys),chain={respond:function(status,data,headers,statusText){return expectation.response=createResponse(status,data,headers,statusText),chain}};return expectations.push(expectation),chain},createShortMethods("expect"),$httpBackend.expectRoute=function(method,url){var pathObj=parseRoute(url);return $httpBackend.expect(method,pathObj.regexp,void 0,void 0,pathObj.keys)},$httpBackend.flush=function(count,skip,digest){if(digest!==!1&&$rootScope.$digest(),skip=skip||0,skip>=responses.length)throw new Error("No pending request to flush !");if(angular.isDefined(count)&&null!==count)for(;count--;){var part=responses.splice(skip,1);if(!part.length)throw new Error("No more pending request to flush !");part[0]()}else for(;responses.length>skip;)responses.splice(skip,1)[0]();$httpBackend.verifyNoOutstandingExpectation(digest)},$httpBackend.verifyNoOutstandingExpectation=function(digest){if(digest!==!1&&$rootScope.$digest(),expectations.length)throw new Error("Unsatisfied requests: "+expectations.join(", "))},$httpBackend.verifyNoOutstandingRequest=function(digest){if(digest!==!1&&$rootScope.$digest(),responses.length){var unflushedDescriptions=responses.map(function(res){return res.description});throw new Error("Unflushed requests: "+responses.length+"\n  "+unflushedDescriptions.join("\n  "))}},$httpBackend.resetExpectations=function(){expectations.length=0,responses.length=0},$httpBackend.$$originalHttpBackend=originalHttpBackend,$httpBackend}function assertArgDefined(args,index,name){if(args.length>index&&angular.isUndefined(args[index]))throw new Error("Undefined argument `"+name+"`; the argument is provided but not defined")}function MockHttpExpectation(method,url,data,headers,keys){function getUrlParams(u){var params=u.slice(u.indexOf("?")+1).split("&");return params.sort()}function compareUrl(u){return url.slice(0,url.indexOf("?"))===u.slice(0,u.indexOf("?"))&&getUrlParams(url).join()===getUrlParams(u).join()}this.data=data,this.headers=headers,this.match=function(m,u,d,h){return method===m&&(!!this.matchUrl(u)&&(!(angular.isDefined(d)&&!this.matchData(d))&&!(angular.isDefined(h)&&!this.matchHeaders(h))))},this.matchUrl=function(u){return!url||(angular.isFunction(url.test)?url.test(u):angular.isFunction(url)?url(u):url===u||compareUrl(u))},this.matchHeaders=function(h){return!!angular.isUndefined(headers)||(angular.isFunction(headers)?headers(h):angular.equals(headers,h))},this.matchData=function(d){return!!angular.isUndefined(data)||(data&&angular.isFunction(data.test)?data.test(d):data&&angular.isFunction(data)?data(d):data&&!angular.isString(data)?angular.equals(angular.fromJson(angular.toJson(data)),angular.fromJson(d)):data==d)},this.toString=function(){return method+" "+url},this.params=function(u){function pathParams(){var keyObj={};if(!url||!angular.isFunction(url.test)||!keys||0===keys.length)return keyObj;var m=url.exec(u);if(!m)return keyObj;for(var i=1,len=m.length;i<len;++i){var key=keys[i-1],val=m[i];key&&val&&(keyObj[key.name||key]=val)}return keyObj}function parseQuery(){var key_value,key,obj={},queryStr=u.indexOf("?")>-1?u.substring(u.indexOf("?")+1):"";return angular.forEach(queryStr.split("&"),function(keyValue){if(keyValue&&(key_value=keyValue.replace(/\+/g,"%20").split("="),key=tryDecodeURIComponent(key_value[0]),angular.isDefined(key))){var val=!angular.isDefined(key_value[1])||tryDecodeURIComponent(key_value[1]);hasOwnProperty.call(obj,key)?angular.isArray(obj[key])?obj[key].push(val):obj[key]=[obj[key],val]:obj[key]=val}}),obj}function tryDecodeURIComponent(value){try{return decodeURIComponent(value)}catch(e){}}return angular.extend(parseQuery(),pathParams())}}function MockXhr(){MockXhr.$$lastInstance=this,this.open=function(method,url,async){this.$$method=method,this.$$url=url,this.$$async=async,this.$$reqHeaders={},this.$$respHeaders={}},this.send=function(data){this.$$data=data},this.setRequestHeader=function(key,value){this.$$reqHeaders[key]=value},this.getResponseHeader=function(name){var header=this.$$respHeaders[name];return header?header:(name=angular.$$lowercase(name),(header=this.$$respHeaders[name])?header:(header=void 0,angular.forEach(this.$$respHeaders,function(headerVal,headerName){header||angular.$$lowercase(headerName)!==name||(header=headerVal)}),header))},this.getAllResponseHeaders=function(){var lines=[];return angular.forEach(this.$$respHeaders,function(value,key){lines.push(key+": "+value)}),lines.join("\n")},this.abort=function(){isFunction(this.onabort)&&this.onabort()},this.$$events={},this.addEventListener=function(name,listener){angular.isUndefined(this.$$events[name])&&(this.$$events[name]=[]),this.$$events[name].push(listener)},this.upload={$$events:{},addEventListener:this.addEventListener}}function createControllerDecorator(){return angular.mock.$ControllerDecorator=["$delegate",function($delegate){return function(expression,locals,later,ident){if(later&&"object"==typeof later){var instantiate=$delegate(expression,locals,!0,ident),instance=instantiate();return angular.extend(instance,later),instance}return $delegate(expression,locals,later,ident)}}],angular.mock.$ControllerDecorator}angular.mock={},angular.mock.$BrowserProvider=function(){this.$get=function(){return new angular.mock.$Browser}},angular.mock.$Browser=function(){var self=this;this.isMock=!0,self.$$url="http://server/",self.$$lastUrl=self.$$url,self.pollFns=[];var outstandingRequestCount=0,outstandingRequestCallbacks=[];self.$$incOutstandingRequestCount=function(){outstandingRequestCount++},self.$$completeOutstandingRequest=function(fn){try{fn()}finally{if(outstandingRequestCount--,!outstandingRequestCount)for(;outstandingRequestCallbacks.length;)outstandingRequestCallbacks.pop()()}},self.notifyWhenNoOutstandingRequests=function(callback){outstandingRequestCount?outstandingRequestCallbacks.push(callback):callback()},self.onUrlChange=function(listener){return self.pollFns.push(function(){self.$$lastUrl===self.$$url&&self.$$state===self.$$lastState||(self.$$lastUrl=self.$$url,self.$$lastState=self.$$state,listener(self.$$url,self.$$state))}),listener},self.$$applicationDestroyed=angular.noop,self.$$checkUrlChange=angular.noop,self.deferredFns=[],self.deferredNextId=0,self.defer=function(fn,delay){return delay=delay||0,self.deferredFns.push({time:self.defer.now+delay,fn:fn,id:self.deferredNextId}),self.deferredFns.sort(function(a,b){return a.time-b.time}),self.deferredNextId++},self.defer.now=0,self.defer.cancel=function(deferId){var fnIndex;return angular.forEach(self.deferredFns,function(fn,index){fn.id===deferId&&(fnIndex=index)}),!!angular.isDefined(fnIndex)&&(self.deferredFns.splice(fnIndex,1),!0)},self.defer.flush=function(delay){var nextTime;if(angular.isDefined(delay))nextTime=self.defer.now+delay;else{if(!self.deferredFns.length)throw new Error("No deferred tasks to be flushed");nextTime=self.deferredFns[self.deferredFns.length-1].time}for(;self.deferredFns.length&&self.deferredFns[0].time<=nextTime;)self.defer.now=self.deferredFns[0].time,self.deferredFns.shift().fn();self.defer.now=nextTime},self.$$baseHref="/",self.baseHref=function(){return this.$$baseHref}},angular.mock.$Browser.prototype={poll:function(){angular.forEach(this.pollFns,function(pollFn){pollFn()})},url:function(url,replace,state){return angular.isUndefined(state)&&(state=null),url?(this.$$url=url,this.$$state=angular.copy(state),this):this.$$url},state:function(){return this.$$state}},angular.mock.$ExceptionHandlerProvider=function(){var handler;this.mode=function(mode){switch(mode){case"log":case"rethrow":var errors=[];handler=function(e){if(1===arguments.length?errors.push(e):errors.push([].slice.call(arguments,0)),"rethrow"===mode)throw e},handler.errors=errors;break;default:throw new Error("Unknown mode '"+mode+"', only 'log'/'rethrow' modes are allowed!")}},this.$get=function(){return handler},this.mode("rethrow")},angular.mock.$LogProvider=function(){function concat(array1,array2,index){return array1.concat(Array.prototype.slice.call(array2,index))}var debug=!0;this.debugEnabled=function(flag){return angular.isDefined(flag)?(debug=flag,this):debug},this.$get=function(){var $log={log:function(){$log.log.logs.push(concat([],arguments,0))},warn:function(){$log.warn.logs.push(concat([],arguments,0))},info:function(){$log.info.logs.push(concat([],arguments,0))},error:function(){$log.error.logs.push(concat([],arguments,0))},debug:function(){debug&&$log.debug.logs.push(concat([],arguments,0))}};return $log.reset=function(){$log.log.logs=[],$log.info.logs=[],$log.warn.logs=[],$log.error.logs=[],$log.debug.logs=[]},$log.assertEmpty=function(){var errors=[];if(angular.forEach(["error","warn","info","log","debug"],function(logLevel){angular.forEach($log[logLevel].logs,function(log){angular.forEach(log,function(logItem){errors.push("MOCK $log ("+logLevel+"): "+String(logItem)+"\n"+(logItem.stack||""))})})}),errors.length)throw errors.unshift("Expected $log to be empty! Either a message was logged unexpectedly, or an expected log message was not checked and removed:"),errors.push(""),new Error(errors.join("\n---------\n"))},$log.reset(),$log}},angular.mock.$IntervalProvider=function(){this.$get=["$browser","$rootScope","$q","$$q",function($browser,$rootScope,$q,$$q){var repeatFns=[],nextRepeatId=0,now=0,$interval=function(fn,delay,count,invokeApply){function tick(){if(deferred.notify(iteration++),count>0&&iteration>=count){var fnIndex;deferred.resolve(iteration),angular.forEach(repeatFns,function(fn,index){fn.id===promise.$$intervalId&&(fnIndex=index)}),angular.isDefined(fnIndex)&&repeatFns.splice(fnIndex,1)}skipApply?$browser.defer.flush():$rootScope.$apply()}var hasParams=arguments.length>4,args=hasParams?Array.prototype.slice.call(arguments,4):[],iteration=0,skipApply=angular.isDefined(invokeApply)&&!invokeApply,deferred=(skipApply?$$q:$q).defer(),promise=deferred.promise;return count=angular.isDefined(count)?count:0,promise.then(null,function(){},hasParams?function(){fn.apply(null,args)}:fn),promise.$$intervalId=nextRepeatId,repeatFns.push({nextTime:now+(delay||0),delay:delay||1,fn:tick,id:nextRepeatId,deferred:deferred}),repeatFns.sort(function(a,b){return a.nextTime-b.nextTime}),nextRepeatId++,promise};return $interval.cancel=function(promise){if(!promise)return!1;var fnIndex;return angular.forEach(repeatFns,function(fn,index){fn.id===promise.$$intervalId&&(fnIndex=index)}),!!angular.isDefined(fnIndex)&&(repeatFns[fnIndex].deferred.promise.then(void 0,function(){}),repeatFns[fnIndex].deferred.reject("canceled"),repeatFns.splice(fnIndex,1),!0)},$interval.flush=function(millis){var before=now;for(now+=millis;repeatFns.length&&repeatFns[0].nextTime<=now;){var task=repeatFns[0];task.fn(),task.nextTime===before&&task.nextTime++,task.nextTime+=task.delay,repeatFns.sort(function(a,b){return a.nextTime-b.nextTime})}return millis},$interval}]},angular.mock.TzDate=function(offset,timestamp){var self=new Date(0);if(angular.isString(timestamp)){var tsStr=timestamp;if(self.origDate=jsonStringToDate(timestamp),timestamp=self.origDate.getTime(),isNaN(timestamp))throw{name:"Illegal Argument",message:"Arg '"+tsStr+"' passed into TzDate constructor is not a valid date string"}}else self.origDate=new Date(timestamp);var localOffset=new Date(timestamp).getTimezoneOffset();self.offsetDiff=60*localOffset*1e3-1e3*offset*60*60,self.date=new Date(timestamp+self.offsetDiff),self.getTime=function(){return self.date.getTime()-self.offsetDiff},self.toLocaleDateString=function(){return self.date.toLocaleDateString()},self.getFullYear=function(){return self.date.getFullYear()},self.getMonth=function(){return self.date.getMonth()},self.getDate=function(){return self.date.getDate()},self.getHours=function(){return self.date.getHours()},self.getMinutes=function(){return self.date.getMinutes()},self.getSeconds=function(){return self.date.getSeconds()},self.getMilliseconds=function(){return self.date.getMilliseconds()},self.getTimezoneOffset=function(){return 60*offset},self.getUTCFullYear=function(){return self.origDate.getUTCFullYear()},self.getUTCMonth=function(){return self.origDate.getUTCMonth()},self.getUTCDate=function(){return self.origDate.getUTCDate()},self.getUTCHours=function(){return self.origDate.getUTCHours()},self.getUTCMinutes=function(){return self.origDate.getUTCMinutes()},self.getUTCSeconds=function(){return self.origDate.getUTCSeconds()},self.getUTCMilliseconds=function(){return self.origDate.getUTCMilliseconds()},self.getDay=function(){return self.date.getDay()},self.toISOString&&(self.toISOString=function(){return padNumberInMock(self.origDate.getUTCFullYear(),4)+"-"+padNumberInMock(self.origDate.getUTCMonth()+1,2)+"-"+padNumberInMock(self.origDate.getUTCDate(),2)+"T"+padNumberInMock(self.origDate.getUTCHours(),2)+":"+padNumberInMock(self.origDate.getUTCMinutes(),2)+":"+padNumberInMock(self.origDate.getUTCSeconds(),2)+"."+padNumberInMock(self.origDate.getUTCMilliseconds(),3)+"Z"});var unimplementedMethods=["getUTCDay","getYear","setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear","toDateString","toGMTString","toJSON","toLocaleFormat","toLocaleString","toLocaleTimeString","toSource","toString","toTimeString","toUTCString","valueOf"];return angular.forEach(unimplementedMethods,function(methodName){self[methodName]=function(){throw new Error("Method '"+methodName+"' is not implemented in the TzDate mock")}}),self},angular.mock.TzDate.prototype=Date.prototype,angular.mock.animate=angular.module("ngAnimateMock",["ng"]).info({angularVersion:"1.7.2"}).config(["$provide",function($provide){$provide.factory("$$forceReflow",function(){function reflowFn(){reflowFn.totalReflows++}return reflowFn.totalReflows=0,reflowFn}),$provide.factory("$$animateAsyncRun",function(){var queue=[],queueFn=function(){return function(fn){queue.push(fn)}};return queueFn.flush=function(){if(0===queue.length)return!1;for(var i=0;i<queue.length;i++)queue[i]();return queue=[],!0},queueFn}),$provide.decorator("$$animateJs",["$delegate",function($delegate){var runners=[],animateJsConstructor=function(){var animator=$delegate.apply($delegate,arguments);return animator&&runners.push(animator),
animator};return animateJsConstructor.$closeAndFlush=function(){runners.forEach(function(runner){runner.end()}),runners=[]},animateJsConstructor}]),$provide.decorator("$animateCss",["$delegate",function($delegate){var runners=[],animateCssConstructor=function(element,options){var animator=$delegate(element,options);return runners.push(animator),animator};return animateCssConstructor.$closeAndFlush=function(){runners.forEach(function(runner){runner.end()}),runners=[]},animateCssConstructor}]),$provide.decorator("$animate",["$delegate","$timeout","$browser","$$rAF","$animateCss","$$animateJs","$$forceReflow","$$animateAsyncRun","$rootScope",function($delegate,$timeout,$browser,$$rAF,$animateCss,$$animateJs,$$forceReflow,$$animateAsyncRun,$rootScope){var animate={queue:[],cancel:$delegate.cancel,on:$delegate.on,off:$delegate.off,pin:$delegate.pin,get reflows(){return $$forceReflow.totalReflows},enabled:$delegate.enabled,closeAndFlush:function(){this.flush(!0),$animateCss.$closeAndFlush(),$$animateJs.$closeAndFlush(),this.flush()},flush:function(hideErrors){$rootScope.$digest();var doNextRun,somethingFlushed=!1;do doNextRun=!1,$$rAF.queue.length&&($$rAF.flush(),doNextRun=somethingFlushed=!0),$$animateAsyncRun.flush()&&(doNextRun=somethingFlushed=!0);while(doNextRun);if(!somethingFlushed&&!hideErrors)throw new Error("No pending animations ready to be closed or flushed");$rootScope.$digest()}};return angular.forEach(["animate","enter","leave","move","addClass","removeClass","setClass"],function(method){animate[method]=function(){return animate.queue.push({event:method,element:arguments[0],options:arguments[arguments.length-1],args:arguments}),$delegate[method].apply($delegate,arguments)}}),animate}])}]),angular.mock.dump=function(object){function serialize(object){var out;return angular.isElement(object)?(object=angular.element(object),out=angular.element("<div></div>"),angular.forEach(object,function(element){out.append(angular.element(element).clone())}),out=out.html()):angular.isArray(object)?(out=[],angular.forEach(object,function(o){out.push(serialize(o))}),out="[ "+out.join(", ")+" ]"):out=angular.isObject(object)?angular.isFunction(object.$eval)&&angular.isFunction(object.$apply)?serializeScope(object):object instanceof Error?object.stack||""+object.name+": "+object.message:angular.toJson(object,!0):String(object),out}function serializeScope(scope,offset){offset=offset||"  ";var log=[offset+"Scope("+scope.$id+"): {"];for(var key in scope)Object.prototype.hasOwnProperty.call(scope,key)&&!key.match(/^(\$|this)/)&&log.push("  "+key+": "+angular.toJson(scope[key]));for(var child=scope.$$childHead;child;)log.push(serializeScope(child,offset+"  ")),child=child.$$nextSibling;return log.push("}"),log.join("\n"+offset)}return serialize(object)},angular.mock.$httpBackendDecorator=["$rootScope","$timeout","$delegate",createHttpBackendMock],angular.mock.$TimeoutDecorator=["$delegate","$browser",function($delegate,$browser){function formatPendingTasksAsString(tasks){var result=[];return angular.forEach(tasks,function(task){result.push("{id: "+task.id+", time: "+task.time+"}")}),result.join(", ")}return $delegate.flush=function(delay){$browser.defer.flush(delay)},$delegate.verifyNoPendingTasks=function(){if($browser.deferredFns.length)throw new Error("Deferred tasks to flush ("+$browser.deferredFns.length+"): "+formatPendingTasksAsString($browser.deferredFns))},$delegate}],angular.mock.$RAFDecorator=["$delegate",function($delegate){var rafFn=function(fn){var index=rafFn.queue.length;return rafFn.queue.push(fn),function(){rafFn.queue.splice(index,1)}};return rafFn.queue=[],rafFn.supported=$delegate.supported,rafFn.flush=function(){if(0===rafFn.queue.length)throw new Error("No rAF callbacks present");for(var length=rafFn.queue.length,i=0;i<length;i++)rafFn.queue[i]();rafFn.queue=rafFn.queue.slice(i)},rafFn}];var originalRootElement;angular.mock.$RootElementProvider=function(){this.$get=["$injector",function($injector){return originalRootElement=angular.element("<div ng-app></div>").data("$injector",$injector)}]},angular.mock.$ComponentControllerProvider=["$compileProvider",function($compileProvider){this.$get=["$controller","$injector","$rootScope",function($controller,$injector,$rootScope){return function(componentName,locals,bindings,ident){var directives=$injector.get(componentName+"Directive"),candidateDirectives=directives.filter(function(directiveInfo){return directiveInfo.controller&&directiveInfo.controllerAs&&"E"===directiveInfo.restrict});if(0===candidateDirectives.length)throw new Error("No component found");if(candidateDirectives.length>1)throw new Error("Too many components found");var directiveInfo=candidateDirectives[0];return locals=locals||{},locals.$scope=locals.$scope||$rootScope.$new(!0),$controller(directiveInfo.controller,locals,bindings,ident||directiveInfo.controllerAs)}}]}],angular.module("ngMock",["ng"]).provider({$browser:angular.mock.$BrowserProvider,$exceptionHandler:angular.mock.$ExceptionHandlerProvider,$log:angular.mock.$LogProvider,$interval:angular.mock.$IntervalProvider,$rootElement:angular.mock.$RootElementProvider,$componentController:angular.mock.$ComponentControllerProvider}).config(["$provide","$compileProvider",function($provide,$compileProvider){$provide.decorator("$timeout",angular.mock.$TimeoutDecorator),$provide.decorator("$$rAF",angular.mock.$RAFDecorator),$provide.decorator("$rootScope",angular.mock.$RootScopeDecorator),$provide.decorator("$controller",createControllerDecorator($compileProvider)),$provide.decorator("$httpBackend",angular.mock.$httpBackendDecorator)}]).info({angularVersion:"1.7.2"}),angular.module("ngMockE2E",["ng"]).config(["$provide",function($provide){$provide.decorator("$httpBackend",angular.mock.e2e.$httpBackendDecorator)}]).info({angularVersion:"1.7.2"}),angular.mock.e2e={},angular.mock.e2e.$httpBackendDecorator=["$rootScope","$timeout","$delegate","$browser",createHttpBackendMock],angular.mock.$RootScopeDecorator=["$delegate",function($delegate){function countChildScopes(){for(var currentScope,count=0,pendingChildHeads=[this.$$childHead];pendingChildHeads.length;)for(currentScope=pendingChildHeads.shift();currentScope;)count+=1,pendingChildHeads.push(currentScope.$$childHead),currentScope=currentScope.$$nextSibling;return count}function countWatchers(){for(var currentScope,count=this.$$watchers?this.$$watchers.length:0,pendingChildHeads=[this.$$childHead];pendingChildHeads.length;)for(currentScope=pendingChildHeads.shift();currentScope;)count+=currentScope.$$watchers?currentScope.$$watchers.length:0,pendingChildHeads.push(currentScope.$$childHead),currentScope=currentScope.$$nextSibling;return count}var $rootScopePrototype=Object.getPrototypeOf($delegate);return $rootScopePrototype.$countChildScopes=countChildScopes,$rootScopePrototype.$countWatchers=countWatchers,$delegate}],function(jasmineOrMocha){function InjectorState(){this.shared=!1,this.sharedError=null,this.cleanupAfterEach=function(){return!this.shared||this.sharedError}}if(jasmineOrMocha){var currentSpec=null,injectorState=new InjectorState,annotatedFunctions=[],wasInjectorCreated=function(){return!!currentSpec};angular.mock.$$annotate=angular.injector.$$annotate,angular.injector.$$annotate=function(fn){return"function"!=typeof fn||fn.$inject||annotatedFunctions.push(fn),angular.mock.$$annotate.apply(this,arguments)};var module=window.module=angular.mock.module=function(){function workFn(){if(currentSpec.$injector)throw new Error("Injector already created, can not register a module!");var fn,modules=currentSpec.$modules||(currentSpec.$modules=[]);angular.forEach(moduleFns,function(module){fn=angular.isObject(module)&&!angular.isArray(module)?["$provide",function($provide){angular.forEach(module,function(value,key){$provide.value(key,value)})}]:module,currentSpec.$providerInjector?currentSpec.$providerInjector.invoke(fn):modules.push(fn)})}var moduleFns=Array.prototype.slice.call(arguments,0);return wasInjectorCreated()?workFn():workFn};module.$$beforeAllHook=window.before||window.beforeAll,module.$$afterAllHook=window.after||window.afterAll,module.$$currentSpec=function(to){return 0===arguments.length?to:void(currentSpec=to)},module.sharedInjector=function(){if(!module.$$beforeAllHook||!module.$$afterAllHook)throw Error("sharedInjector() cannot be used unless your test runner defines beforeAll/afterAll");var initialized=!1;module.$$beforeAllHook(function(){if(injectorState.shared)throw injectorState.sharedError=Error("sharedInjector() cannot be called inside a context that has already called sharedInjector()"),injectorState.sharedError;initialized=!0,currentSpec=this,injectorState.shared=!0}),module.$$afterAllHook(function(){initialized?(injectorState=new InjectorState,module.$$cleanup()):injectorState.sharedError=null})},module.$$beforeEach=function(){if(injectorState.shared&&currentSpec&&currentSpec!==this){var state=currentSpec;currentSpec=this,angular.forEach(["$injector","$modules","$providerInjector","$injectorStrict"],function(k){currentSpec[k]=state[k],state[k]=null})}else currentSpec=this,originalRootElement=null,annotatedFunctions=[]},module.$$afterEach=function(){injectorState.cleanupAfterEach()&&module.$$cleanup()},module.$$cleanup=function(){var injector=currentSpec.$injector;if(annotatedFunctions.forEach(function(fn){delete fn.$inject}),currentSpec.$injector=null,currentSpec.$modules=null,currentSpec.$providerInjector=null,currentSpec=null,injector){var $rootElement=injector.get("$rootElement"),rootNode=$rootElement&&$rootElement[0],cleanUpNodes=originalRootElement?[originalRootElement[0]]:[];!rootNode||originalRootElement&&rootNode===originalRootElement[0]||cleanUpNodes.push(rootNode),angular.element.cleanData(cleanUpNodes);var $rootScope=injector.get("$rootScope");$rootScope&&$rootScope.$destroy&&$rootScope.$destroy()}angular.forEach(angular.element.fragments,function(val,key){delete angular.element.fragments[key]}),MockXhr.$$lastInstance=null,angular.forEach(angular.callbacks,function(val,key){delete angular.callbacks[key]}),angular.callbacks.$$counter=0},(window.beforeEach||window.setup)(module.$$beforeEach),(window.afterEach||window.teardown)(module.$$afterEach);var ErrorAddingDeclarationLocationStack=function(e,errorForStack){this.message=e.message,this.name=e.name,e.line&&(this.line=e.line),e.sourceId&&(this.sourceId=e.sourceId),e.stack&&errorForStack&&(this.stack=e.stack+"\n"+errorForStack.stack),e.stackArray&&(this.stackArray=e.stackArray)};ErrorAddingDeclarationLocationStack.prototype=Error.prototype,window.inject=angular.mock.inject=function(){function WorkFn(){var modules=currentSpec.$modules||[],strictDi=!!currentSpec.$injectorStrict;modules.unshift(["$injector",function($injector){currentSpec.$providerInjector=$injector}]),modules.unshift("ngMock"),modules.unshift("ng");var injector=currentSpec.$injector;injector||(strictDi&&angular.forEach(modules,function(moduleFn){"function"==typeof moduleFn&&angular.injector.$$annotate(moduleFn)}),injector=currentSpec.$injector=angular.injector(modules,strictDi),currentSpec.$injectorStrict=strictDi);for(var i=0,ii=blockFns.length;i<ii;i++){currentSpec.$injectorStrict&&injector.annotate(blockFns[i]);try{injector.invoke(blockFns[i]||angular.noop,this)}catch(e){if(e.stack&&errorForStack)throw new ErrorAddingDeclarationLocationStack(e,errorForStack);throw e}finally{errorForStack=null}}}var blockFns=Array.prototype.slice.call(arguments,0),errorForStack=new Error("Declaration Location");if(!errorForStack.stack)try{throw errorForStack}catch(e){}return wasInjectorCreated()?WorkFn.call(currentSpec):WorkFn},angular.mock.inject.strictDi=function(value){function workFn(){if(value!==currentSpec.$injectorStrict){if(currentSpec.$injector)throw new Error("Injector already created, can not modify strict annotations");currentSpec.$injectorStrict=value}}return value=!arguments.length||!!value,wasInjectorCreated()?workFn():workFn}}}(window.jasmine||window.mocha),function(){function supportsTouchEvents(){if("_cached"in supportsTouchEvents)return supportsTouchEvents._cached;if(!window.document.createTouch||!window.document.createTouchList)return supportsTouchEvents._cached=!1,!1;try{window.document.createEvent("TouchEvent")}catch(e){return supportsTouchEvents._cached=!1,!1}return supportsTouchEvents._cached=!0,!0}function createTouchEvent(element,eventType,x,y){var evnt=new window.Event(eventType);x=x||0,y=y||0;var touch=window.document.createTouch(window,element,Date.now(),x,y,x,y),touches=window.document.createTouchList(touch);return evnt.touches=touches,evnt}function supportsEventBubblingInDetachedTree(){if("_cached"in supportsEventBubblingInDetachedTree)return supportsEventBubblingInDetachedTree._cached;supportsEventBubblingInDetachedTree._cached=!1;var doc=window.document;if(doc){var parent=doc.createElement("div"),child=parent.cloneNode();parent.appendChild(child),parent.addEventListener("e",function(){supportsEventBubblingInDetachedTree._cached=!0});var evnt=window.document.createEvent("Events");evnt.initEvent("e",!0,!0),child.dispatchEvent(evnt)}return supportsEventBubblingInDetachedTree._cached}function triggerForPath(element,evnt){var stop=!1,_stopPropagation=evnt.stopPropagation;evnt.stopPropagation=function(){stop=!0,_stopPropagation.apply(evnt,arguments)},patchEventTargetForBubbling(evnt,element);do element.dispatchEvent(evnt);while(!stop&&(element=element.parentNode))}function patchEventTargetForBubbling(event,target){event._target=target,Object.defineProperty(event,"target",{get:function(){return this._target}})}function isAttachedToDocument(element){for(;element=element.parentNode;)if(element===window)return!0;return!1}window.browserTrigger=function(element,eventType,eventData){function pressed(key){return keys.indexOf(key)!==-1}if(element&&!element.nodeName&&(element=element[0]),element){eventData=eventData||{};var relatedTarget=eventData.relatedTarget||element,keys=eventData.keys,x=eventData.x,y=eventData.y,inputType=element.type?element.type.toLowerCase():null,nodeName=element.nodeName.toLowerCase();eventType||(eventType={text:"change",textarea:"change",hidden:"change",password:"change",button:"click",submit:"click",reset:"click",image:"click",checkbox:"click",radio:"click","select-one":"change","select-multiple":"change",_default_:"click"}[inputType||"_default_"]),"option"===nodeName&&(element.parentNode.value=element.value,element=element.parentNode,eventType="change"),keys=keys||[];var evnt;if(/transitionend/.test(eventType))if(window.WebKitTransitionEvent)evnt=new window.WebKitTransitionEvent(eventType,eventData),evnt.initEvent(eventType,eventData.bubbles,!0);else try{evnt=new window.TransitionEvent(eventType,eventData)}catch(e){evnt=window.document.createEvent("TransitionEvent"),evnt.initTransitionEvent(eventType,eventData.bubbles,null,null,eventData.elapsedTime||0)}else if(/animationend/.test(eventType))if(window.WebKitAnimationEvent)evnt=new window.WebKitAnimationEvent(eventType,eventData),evnt.initEvent(eventType,eventData.bubbles,!0);else try{evnt=new window.AnimationEvent(eventType,eventData)}catch(e){evnt=window.document.createEvent("AnimationEvent"),evnt.initAnimationEvent(eventType,eventData.bubbles,null,null,eventData.elapsedTime||0)}else if(/touch/.test(eventType)&&supportsTouchEvents())evnt=createTouchEvent(element,eventType,x,y);else if(/key/.test(eventType))evnt=window.document.createEvent("Events"),evnt.initEvent(eventType,eventData.bubbles,eventData.cancelable),evnt.view=window,evnt.ctrlKey=pressed("ctrl"),evnt.altKey=pressed("alt"),evnt.shiftKey=pressed("shift"),evnt.metaKey=pressed("meta"),evnt.keyCode=eventData.keyCode,evnt.charCode=eventData.charCode,evnt.which=eventData.which;else if(/composition/.test(eventType))try{evnt=new window.CompositionEvent(eventType,{data:eventData.data})}catch(e){evnt=window.document.createEvent("CompositionEvent",{}),evnt.initCompositionEvent(eventType,eventData.bubbles,eventData.cancelable,window,eventData.data,null)}else evnt=window.document.createEvent("MouseEvents"),x=x||0,y=y||0,evnt.initMouseEvent(eventType,!0,!0,window,0,x,y,x,y,pressed("ctrl"),pressed("alt"),pressed("shift"),pressed("meta"),0,relatedTarget);if(evnt.$manualTimeStamp=eventData.timeStamp,evnt)return!eventData.bubbles||supportsEventBubblingInDetachedTree()||isAttachedToDocument(element)?element.dispatchEvent(evnt):void triggerForPath(element,evnt)}}}()}(window,window.angular),function(window,angular){"use strict";function $$CookieWriter($document,$log,$browser){function buildCookieString(name,value,options){var path,expires;options=options||{},expires=options.expires,path=angular.isDefined(options.path)?options.path:cookiePath,angular.isUndefined(value)&&(expires="Thu, 01 Jan 1970 00:00:00 GMT",value=""),angular.isString(expires)&&(expires=new Date(expires));var str=encodeURIComponent(name)+"="+encodeURIComponent(value);str+=path?";path="+path:"",str+=options.domain?";domain="+options.domain:"",str+=expires?";expires="+expires.toUTCString():"",str+=options.secure?";secure":"",str+=options.samesite?";samesite="+options.samesite:"";var cookieLength=str.length+1;return cookieLength>4096&&$log.warn("Cookie '"+name+"' possibly not set or overflowed because it was too large ("+cookieLength+" > 4096 bytes)!"),str}var cookiePath=$browser.baseHref(),rawDocument=$document[0];return function(name,value,options){rawDocument.cookie=buildCookieString(name,value,options)}}angular.module("ngCookies",["ng"]).info({angularVersion:"1.7.2"}).provider("$cookies",[function(){function calcOptions(options){return options?angular.extend({},defaults,options):defaults}var defaults=this.defaults={};this.$get=["$$cookieReader","$$cookieWriter",function($$cookieReader,$$cookieWriter){return{get:function(key){return $$cookieReader()[key]},getObject:function(key){var value=this.get(key);return value?angular.fromJson(value):value},getAll:function(){return $$cookieReader()},put:function(key,value,options){$$cookieWriter(key,value,calcOptions(options))},putObject:function(key,value,options){this.put(key,angular.toJson(value),options)},remove:function(key,options){$$cookieWriter(key,void 0,calcOptions(options))}}}]}]),$$CookieWriter.$inject=["$document","$log","$browser"],angular.module("ngCookies").provider("$$cookieWriter",function(){this.$get=$$CookieWriter})}(window,window.angular),function(window,angular){"use strict";function $SanitizeProvider(){function stringToMap(str,lowercaseKeys){return arrayToMap(str.split(","),lowercaseKeys)}function arrayToMap(items,lowercaseKeys){var i,obj={};for(i=0;i<items.length;i++)obj[lowercaseKeys?lowercase(items[i]):items[i]]=!0;return obj}function addElementsTo(elementsMap,newElements){newElements&&newElements.length&&extend(elementsMap,arrayToMap(newElements))}function htmlParserImpl(html,handler){null===html||void 0===html?html="":"string"!=typeof html&&(html=""+html);var inertBodyElement=getInertBodyElement(html);if(!inertBodyElement)return"";var mXSSAttempts=5;do{if(0===mXSSAttempts)throw $sanitizeMinErr("uinput","Failed to sanitize html because the input is unstable");mXSSAttempts--,html=inertBodyElement.innerHTML,inertBodyElement=getInertBodyElement(html)}while(html!==inertBodyElement.innerHTML);for(var node=inertBodyElement.firstChild;node;){switch(node.nodeType){case 1:handler.start(node.nodeName.toLowerCase(),attrToMap(node.attributes));break;case 3:handler.chars(node.textContent)}var nextNode;if(!(nextNode=node.firstChild)&&(1===node.nodeType&&handler.end(node.nodeName.toLowerCase()),nextNode=getNonDescendant("nextSibling",node),!nextNode))for(;null==nextNode&&(node=getNonDescendant("parentNode",node),node!==inertBodyElement);)nextNode=getNonDescendant("nextSibling",node),1===node.nodeType&&handler.end(node.nodeName.toLowerCase());node=nextNode}for(;node=inertBodyElement.firstChild;)inertBodyElement.removeChild(node)}function attrToMap(attrs){for(var map={},i=0,ii=attrs.length;i<ii;i++){var attr=attrs[i];map[attr.name]=attr.value}return map}function encodeEntities(value){return value.replace(/&/g,"&amp;").replace(SURROGATE_PAIR_REGEXP,function(value){var hi=value.charCodeAt(0),low=value.charCodeAt(1);return"&#"+(1024*(hi-55296)+(low-56320)+65536)+";"}).replace(NON_ALPHANUMERIC_REGEXP,function(value){return"&#"+value.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function htmlSanitizeWriterImpl(buf,uriValidator){var ignoreCurrentElement=!1,out=bind(buf,buf.push);return{start:function(tag,attrs){tag=lowercase(tag),!ignoreCurrentElement&&blockedElements[tag]&&(ignoreCurrentElement=tag),ignoreCurrentElement||validElements[tag]!==!0||(out("<"),out(tag),forEach(attrs,function(value,key){var lkey=lowercase(key),isImage="img"===tag&&"src"===lkey||"background"===lkey;validAttrs[lkey]!==!0||uriAttrs[lkey]===!0&&!uriValidator(value,isImage)||(out(" "),out(key),out('="'),out(encodeEntities(value)),out('"'))}),out(">"))},end:function(tag){tag=lowercase(tag),ignoreCurrentElement||validElements[tag]!==!0||voidElements[tag]===!0||(out("</"),out(tag),out(">")),tag==ignoreCurrentElement&&(ignoreCurrentElement=!1)},chars:function(chars){ignoreCurrentElement||out(encodeEntities(chars))}}}function stripCustomNsAttrs(node){for(;node;){if(node.nodeType===window.Node.ELEMENT_NODE)for(var attrs=node.attributes,i=0,l=attrs.length;i<l;i++){var attrNode=attrs[i],attrName=attrNode.name.toLowerCase();"xmlns:ns1"!==attrName&&0!==attrName.lastIndexOf("ns1:",0)||(node.removeAttributeNode(attrNode),i--,l--)}var nextNode=node.firstChild;nextNode&&stripCustomNsAttrs(nextNode),node=getNonDescendant("nextSibling",node)}}function getNonDescendant(propName,node){var nextNode=node[propName];if(nextNode&&nodeContains.call(node,nextNode))throw $sanitizeMinErr("elclob","Failed to sanitize html because the element is clobbered: {0}",node.outerHTML||node.outerText);return nextNode}var hasBeenInstantiated=!1,svgEnabled=!1;this.$get=["$$sanitizeUri",function($$sanitizeUri){return hasBeenInstantiated=!0,svgEnabled&&extend(validElements,svgElements),function(html){var buf=[];return htmlParser(html,htmlSanitizeWriter(buf,function(uri,isImage){return!/^unsafe:/.test($$sanitizeUri(uri,isImage))})),buf.join("")}}],this.enableSvg=function(enableSvg){return isDefined(enableSvg)?(svgEnabled=enableSvg,this):svgEnabled},this.addValidElements=function(elements){return hasBeenInstantiated||(isArray(elements)&&(elements={htmlElements:elements}),addElementsTo(svgElements,elements.svgElements),addElementsTo(voidElements,elements.htmlVoidElements),addElementsTo(validElements,elements.htmlVoidElements),addElementsTo(validElements,elements.htmlElements)),this},this.addValidAttrs=function(attrs){return hasBeenInstantiated||extend(validAttrs,arrayToMap(attrs,!0)),this},bind=angular.bind,extend=angular.extend,forEach=angular.forEach,isArray=angular.isArray,isDefined=angular.isDefined,lowercase=angular.$$lowercase,noop=angular.noop,htmlParser=htmlParserImpl,htmlSanitizeWriter=htmlSanitizeWriterImpl,nodeContains=window.Node.prototype.contains||function(arg){return!!(16&this.compareDocumentPosition(arg))};var SURROGATE_PAIR_REGEXP=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,NON_ALPHANUMERIC_REGEXP=/([^#-~ |!])/g,voidElements=stringToMap("area,br,col,hr,img,wbr"),optionalEndTagBlockElements=stringToMap("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),optionalEndTagInlineElements=stringToMap("rp,rt"),optionalEndTagElements=extend({},optionalEndTagInlineElements,optionalEndTagBlockElements),blockElements=extend({},optionalEndTagBlockElements,stringToMap("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),inlineElements=extend({},optionalEndTagInlineElements,stringToMap("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),svgElements=stringToMap("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),blockedElements=stringToMap("script,style"),validElements=extend({},voidElements,blockElements,inlineElements,optionalEndTagElements),uriAttrs=stringToMap("background,cite,href,longdesc,src,xlink:href,xml:base"),htmlAttrs=stringToMap("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),svgAttrs=stringToMap("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),validAttrs=extend({},uriAttrs,svgAttrs,htmlAttrs),getInertBodyElement=function(window,document){function getInertBodyElement_XHR(html){html="<remove></remove>"+html;try{html=encodeURI(html)}catch(e){return}var xhr=new window.XMLHttpRequest;xhr.responseType="document",xhr.open("GET","data:text/html;charset=utf-8,"+html,!1),xhr.send(null);var body=xhr.response.body;return body.firstChild.remove(),body}function getInertBodyElement_DOMParser(html){html="<remove></remove>"+html;try{var body=(new window.DOMParser).parseFromString(html,"text/html").body;return body.firstChild.remove(),body}catch(e){return}}function getInertBodyElement_InertDocument(html){return inertBodyElement.innerHTML=html,document.documentMode&&stripCustomNsAttrs(inertBodyElement),inertBodyElement}var inertDocument;if(!document||!document.implementation)throw $sanitizeMinErr("noinert","Can't create an inert html document");inertDocument=document.implementation.createHTMLDocument("inert");var inertBodyElement=(inertDocument.documentElement||inertDocument.getDocumentElement()).querySelector("body");return inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',inertBodyElement.querySelector("svg")?(inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',inertBodyElement.querySelector("svg img")?getInertBodyElement_DOMParser:getInertBodyElement_InertDocument):getInertBodyElement_XHR}(window,window.document)}function sanitizeText(chars){var buf=[],writer=htmlSanitizeWriter(buf,noop);return writer.chars(chars),buf.join("")}var bind,extend,forEach,isArray,isDefined,lowercase,noop,nodeContains,htmlParser,htmlSanitizeWriter,$sanitizeMinErr=angular.$$minErr("$sanitize");angular.module("ngSanitize",[]).provider("$sanitize",$SanitizeProvider).info({angularVersion:"1.7.2"}),angular.module("ngSanitize").filter("linky",["$sanitize",function($sanitize){var LINKY_URL_REGEXP=/((s?ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,MAILTO_REGEXP=/^mailto:/i,linkyMinErr=angular.$$minErr("linky"),isDefined=angular.isDefined,isFunction=angular.isFunction,isObject=angular.isObject,isString=angular.isString;return function(text,target,attributes){function addText(text){text&&html.push(sanitizeText(text))}function addLink(url,text){var key,linkAttributes=attributesFn(url);html.push("<a ");for(key in linkAttributes)html.push(key+'="'+linkAttributes[key]+'" ');!isDefined(target)||"target"in linkAttributes||html.push('target="',target,'" '),html.push('href="',url.replace(/"/g,"&quot;"),'">'),addText(text),html.push("</a>")}if(null==text||""===text)return text;if(!isString(text))throw linkyMinErr("notstring","Expected string but received: {0}",text);for(var match,url,i,attributesFn=isFunction(attributes)?attributes:isObject(attributes)?function(){return attributes}:function(){return{}},raw=text,html=[];match=raw.match(LINKY_URL_REGEXP);)url=match[0],match[2]||match[4]||(url=(match[3]?"http://":"mailto:")+url),i=match.index,addText(raw.substr(0,i)),addLink(url,match[0].replace(MAILTO_REGEXP,"")),raw=raw.substring(i+match[0].length);return addText(raw),$sanitize(html.join(""))}}])}(window,window.angular),function(window,angular){"use strict";function ngMessageDirectiveFactory(isDefault){function contains(collection,key){if(collection)return isArray(collection)?collection.indexOf(key)>=0:collection.hasOwnProperty(key)}return["$animate",function($animate){return{restrict:"AE",transclude:"element",priority:1,terminal:!0,require:"^^ngMessages",link:function(scope,element,attrs,ngMessagesCtrl,$transclude){var commentNode,records,staticExp,dynamicExp;if(!isDefault){commentNode=element[0],staticExp=attrs.ngMessage||attrs.when,dynamicExp=attrs.ngMessageExp||attrs.whenExp;var assignRecords=function(items){records=items?isArray(items)?items:items.split(/[\s,]+/):null,ngMessagesCtrl.reRender()};dynamicExp?(assignRecords(scope.$eval(dynamicExp)),scope.$watchCollection(dynamicExp,assignRecords)):assignRecords(staticExp)}var currentElement,messageCtrl;ngMessagesCtrl.register(commentNode,messageCtrl={test:function(name){return contains(records,name)},attach:function(){currentElement||$transclude(function(elm,newScope){$animate.enter(elm,null,element),currentElement=elm;var $$attachId=currentElement.$$attachId=ngMessagesCtrl.getAttachId();currentElement.on("$destroy",function(){currentElement&&currentElement.$$attachId===$$attachId&&(ngMessagesCtrl.deregister(commentNode,isDefault),messageCtrl.detach()),newScope.$destroy()})})},detach:function(){if(currentElement){var elm=currentElement;currentElement=null,$animate.leave(elm)}}},isDefault),scope.$on("$destroy",function(){ngMessagesCtrl.deregister(commentNode,isDefault)})}}}]}var forEach,isArray,isString,jqLite;angular.module("ngMessages",[],function(){forEach=angular.forEach,isArray=angular.isArray,isString=angular.isString,jqLite=angular.element}).info({angularVersion:"1.7.2"}).directive("ngMessages",["$animate",function($animate){function isAttrTruthy(scope,attr){return isString(attr)&&0===attr.length||truthy(scope.$eval(attr))}function truthy(val){return isString(val)?val.length:!!val}var ACTIVE_CLASS="ng-active",INACTIVE_CLASS="ng-inactive";return{require:"ngMessages",restrict:"AE",controller:["$element","$scope","$attrs",function($element,$scope,$attrs){function findPreviousMessage(parent,comment){for(var prevNode=comment,parentLookup=[];prevNode&&prevNode!==parent;){var prevKey=prevNode.$$ngMessageNode;if(prevKey&&prevKey.length)return messages[prevKey];prevNode.childNodes.length&&parentLookup.indexOf(prevNode)===-1?(parentLookup.push(prevNode),prevNode=prevNode.childNodes[prevNode.childNodes.length-1]):prevNode.previousSibling?prevNode=prevNode.previousSibling:(prevNode=prevNode.parentNode,parentLookup.push(prevNode))}}function insertMessageNode(parent,comment,key){var messageNode=messages[key];if(ctrl.head){var match=findPreviousMessage(parent,comment);match?(messageNode.next=match.next,match.next=messageNode):(messageNode.next=ctrl.head,ctrl.head=messageNode)}else ctrl.head=messageNode}function removeMessageNode(parent,comment,key){
var messageNode=messages[key];if(messageNode){var match=findPreviousMessage(parent,comment);match?match.next=messageNode.next:ctrl.head=messageNode.next}}var ctrl=this,latestKey=0,nextAttachId=0;this.getAttachId=function(){return nextAttachId++};var renderLater,cachedCollection,messages=this.messages={};this.render=function(collection){collection=collection||{},renderLater=!1,cachedCollection=collection;for(var multiple=isAttrTruthy($scope,$attrs.ngMessagesMultiple)||isAttrTruthy($scope,$attrs.multiple),unmatchedMessages=[],matchedKeys={},truthyKeys=0,messageItem=ctrl.head,messageFound=!1,totalMessages=0;null!=messageItem;){totalMessages++;var messageCtrl=messageItem.message,messageUsed=!1;messageFound||forEach(collection,function(value,key){if(truthy(value)&&!messageUsed&&(truthyKeys++,messageCtrl.test(key))){if(matchedKeys[key])return;matchedKeys[key]=!0,messageUsed=!0,messageCtrl.attach()}}),messageUsed?messageFound=!multiple:unmatchedMessages.push(messageCtrl),messageItem=messageItem.next}forEach(unmatchedMessages,function(messageCtrl){messageCtrl.detach()});var messageMatched=unmatchedMessages.length!==totalMessages,attachDefault=ctrl["default"]&&!messageMatched&&truthyKeys>0;attachDefault?ctrl["default"].attach():ctrl["default"]&&ctrl["default"].detach(),messageMatched||attachDefault?$animate.setClass($element,ACTIVE_CLASS,INACTIVE_CLASS):$animate.setClass($element,INACTIVE_CLASS,ACTIVE_CLASS)},$scope.$watchCollection($attrs.ngMessages||$attrs["for"],ctrl.render),this.reRender=function(){renderLater||(renderLater=!0,$scope.$evalAsync(function(){renderLater&&cachedCollection&&ctrl.render(cachedCollection)}))},this.register=function(comment,messageCtrl,isDefault){if(isDefault)ctrl["default"]=messageCtrl;else{var nextKey=latestKey.toString();messages[nextKey]={message:messageCtrl},insertMessageNode($element[0],comment,nextKey),comment.$$ngMessageNode=nextKey,latestKey++}ctrl.reRender()},this.deregister=function(comment,isDefault){if(isDefault)delete ctrl["default"];else{var key=comment.$$ngMessageNode;delete comment.$$ngMessageNode,removeMessageNode($element[0],comment,key),delete messages[key]}ctrl.reRender()}}]}}]).directive("ngMessagesInclude",["$templateRequest","$document","$compile",function($templateRequest,$document,$compile){function replaceElementWithMarker(element,src){var comment=$compile.$$createComment?$compile.$$createComment("ngMessagesInclude",src):$document[0].createComment(" ngMessagesInclude: "+src+" "),marker=jqLite(comment);element.after(marker),element.remove()}return{restrict:"AE",require:"^^ngMessages",link:function($scope,element,attrs){var src=attrs.ngMessagesInclude||attrs.src;$templateRequest(src).then(function(html){$scope.$$destroyed||(isString(html)&&!html.trim()?replaceElementWithMarker(element,src):$compile(html)($scope,function(contents){element.after(contents),replaceElementWithMarker(element,src)}))})}}}]).directive("ngMessage",ngMessageDirectiveFactory()).directive("ngMessageExp",ngMessageDirectiveFactory()).directive("ngMessageDefault",ngMessageDirectiveFactory(!0))}(window,window.angular),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(window,angular,undefined){"use strict";function inherit(parent,extra){return extend(new(extend(function(){},{prototype:parent})),extra)}function merge(dst){return forEach(arguments,function(obj){obj!==dst&&forEach(obj,function(value,key){dst.hasOwnProperty(key)||(dst[key]=value)})}),dst}function ancestors(first,second){var path=[];for(var n in first.path){if(first.path[n]!==second.path[n])break;path.push(first.path[n])}return path}function objectKeys(object){if(Object.keys)return Object.keys(object);var result=[];return forEach(object,function(val,key){result.push(key)}),result}function indexOf(array,value){if(Array.prototype.indexOf)return array.indexOf(value,Number(arguments[2])||0);var len=array.length>>>0,from=Number(arguments[2])||0;for(from=from<0?Math.ceil(from):Math.floor(from),from<0&&(from+=len);from<len;from++)if(from in array&&array[from]===value)return from;return-1}function inheritParams(currentParams,newParams,$current,$to){var parentParams,parents=ancestors($current,$to),inherited={},inheritList=[];for(var i in parents)if(parents[i]&&parents[i].params&&(parentParams=objectKeys(parents[i].params),parentParams.length))for(var j in parentParams)indexOf(inheritList,parentParams[j])>=0||(inheritList.push(parentParams[j]),inherited[parentParams[j]]=currentParams[parentParams[j]]);return extend({},inherited,newParams)}function equalForKeys(a,b,keys){if(!keys){keys=[];for(var n in a)keys.push(n)}for(var i=0;i<keys.length;i++){var k=keys[i];if(a[k]!=b[k])return!1}return!0}function filterByKeys(keys,values){var filtered={};return forEach(keys,function(name){filtered[name]=values[name]}),filtered}function pick(obj){var copy={},keys=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return forEach(keys,function(key){key in obj&&(copy[key]=obj[key])}),copy}function omit(obj){var copy={},keys=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var key in obj)indexOf(keys,key)==-1&&(copy[key]=obj[key]);return copy}function filter(collection,callback){var array=isArray(collection),result=array?[]:{};return forEach(collection,function(val,i){callback(val,i)&&(result[array?result.length:i]=val)}),result}function map(collection,callback){var result=isArray(collection)?[]:{};return forEach(collection,function(val,i){result[i]=callback(val,i)}),result}function silenceUncaughtInPromise(promise){return promise.then(undefined,function(){})&&promise}function $Resolve($q,$injector){var VISIT_IN_PROGRESS=1,VISIT_DONE=2,NOTHING={},NO_DEPENDENCIES=[],NO_LOCALS=NOTHING,NO_PARENT=extend($q.when(NOTHING),{$$promises:NOTHING,$$values:NOTHING});this.study=function(invocables){function visit(value,key){if(visited[key]!==VISIT_DONE){if(cycle.push(key),visited[key]===VISIT_IN_PROGRESS)throw cycle.splice(0,indexOf(cycle,key)),new Error("Cyclic dependency: "+cycle.join(" -> "));if(visited[key]=VISIT_IN_PROGRESS,isString(value))plan.push(key,[function(){return $injector.get(value)}],NO_DEPENDENCIES);else{var params=$injector.annotate(value);forEach(params,function(param){param!==key&&invocables.hasOwnProperty(param)&&visit(invocables[param],param)}),plan.push(key,value,params)}cycle.pop(),visited[key]=VISIT_DONE}}function isResolve(value){return isObject(value)&&value.then&&value.$$promises}if(!isObject(invocables))throw new Error("'invocables' must be an object");var invocableKeys=objectKeys(invocables||{}),plan=[],cycle=[],visited={};return forEach(invocables,visit),invocables=cycle=visited=null,function(locals,parent,self){function done(){--wait||(merged||merge(values,parent.$$values),result.$$values=values,result.$$promises=result.$$promises||!0,delete result.$$inheritedValues,resolution.resolve(values))}function fail(reason){result.$$failure=reason,resolution.reject(reason)}function invoke(key,invocable,params){function onfailure(reason){invocation.reject(reason),fail(reason)}function proceed(){if(!isDefined(result.$$failure))try{invocation.resolve($injector.invoke(invocable,self,values)),invocation.promise.then(function(result){values[key]=result,done()},onfailure)}catch(e){onfailure(e)}}var invocation=$q.defer(),waitParams=0;forEach(params,function(dep){promises.hasOwnProperty(dep)&&!locals.hasOwnProperty(dep)&&(waitParams++,promises[dep].then(function(result){values[dep]=result,--waitParams||proceed()},onfailure))}),waitParams||proceed(),promises[key]=silenceUncaughtInPromise(invocation.promise)}if(isResolve(locals)&&self===undefined&&(self=parent,parent=locals,locals=null),locals){if(!isObject(locals))throw new Error("'locals' must be an object")}else locals=NO_LOCALS;if(parent){if(!isResolve(parent))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else parent=NO_PARENT;var resolution=$q.defer(),result=silenceUncaughtInPromise(resolution.promise),promises=result.$$promises={},values=extend({},locals),wait=1+plan.length/3,merged=!1;if(silenceUncaughtInPromise(result),isDefined(parent.$$failure))return fail(parent.$$failure),result;parent.$$inheritedValues&&merge(values,omit(parent.$$inheritedValues,invocableKeys)),extend(promises,parent.$$promises),parent.$$values?(merged=merge(values,omit(parent.$$values,invocableKeys)),result.$$inheritedValues=omit(parent.$$values,invocableKeys),done()):(parent.$$inheritedValues&&(result.$$inheritedValues=omit(parent.$$inheritedValues,invocableKeys)),parent.then(done,fail));for(var i=0,ii=plan.length;i<ii;i+=3)locals.hasOwnProperty(plan[i])?done():invoke(plan[i],plan[i+1],plan[i+2]);return result}},this.resolve=function(invocables,locals,parent,self){return this.study(invocables)(locals,parent,self)}}function TemplateFactoryProvider(){var shouldUnsafelyUseHttp=angular.version.minor<3;this.shouldUnsafelyUseHttp=function(value){shouldUnsafelyUseHttp=!!value},this.$get=["$http","$templateCache","$injector",function($http,$templateCache,$injector){return new TemplateFactory($http,$templateCache,$injector,shouldUnsafelyUseHttp)}]}function TemplateFactory($http,$templateCache,$injector,shouldUnsafelyUseHttp){this.fromConfig=function(config,params,locals){return isDefined(config.template)?this.fromString(config.template,params):isDefined(config.templateUrl)?this.fromUrl(config.templateUrl,params):isDefined(config.templateProvider)?this.fromProvider(config.templateProvider,params,locals):null},this.fromString=function(template,params){return isFunction(template)?template(params):template},this.fromUrl=function(url,params){return isFunction(url)&&(url=url(params)),null==url?null:shouldUnsafelyUseHttp?$http.get(url,{cache:$templateCache,headers:{Accept:"text/html"}}).then(function(response){return response.data}):$injector.get("$templateRequest")(url)},this.fromProvider=function(provider,params,locals){return $injector.invoke(provider,null,locals||{params:params})}}function UrlMatcher(pattern,config,parentMatcher){function addParameter(id,type,config,location){if(paramNames.push(id),parentParams[id])return parentParams[id];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(id))throw new Error("Invalid parameter name '"+id+"' in pattern '"+pattern+"'");if(params[id])throw new Error("Duplicate parameter name '"+id+"' in pattern '"+pattern+"'");return params[id]=new $$UMFP.Param(id,type,config,location),params[id]}function quoteRegExp(string,pattern,squash,optional){var surroundPattern=["",""],result=string.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!pattern)return result;switch(squash){case!1:surroundPattern=["(",")"+(optional?"?":"")];break;case!0:result=result.replace(/\/$/,""),surroundPattern=["(?:/(",")|/)?"];break;default:surroundPattern=["("+squash+"|",")?"]}return result+surroundPattern[0]+pattern+surroundPattern[1]}function matchDetails(m,isSearch){var id,regexp,segment,type,cfg;return id=m[2]||m[3],cfg=config.params[id],segment=pattern.substring(last,m.index),regexp=isSearch?m[4]:m[4]||("*"==m[1]?".*":null),regexp&&(type=$$UMFP.type(regexp)||inherit($$UMFP.type("string"),{pattern:new RegExp(regexp,config.caseInsensitive?"i":undefined)})),{id:id,regexp:regexp,segment:segment,type:type,cfg:cfg}}config=extend({params:{}},isObject(config)?config:{});var m,placeholder=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,searchPlaceholder=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,compiled="^",last=0,segments=this.segments=[],parentParams=parentMatcher?parentMatcher.params:{},params=this.params=parentMatcher?parentMatcher.params.$$new():new $$UMFP.ParamSet,paramNames=[];this.source=pattern;for(var p,param,segment;(m=placeholder.exec(pattern))&&(p=matchDetails(m,!1),!(p.segment.indexOf("?")>=0));)param=addParameter(p.id,p.type,p.cfg,"path"),compiled+=quoteRegExp(p.segment,param.type.pattern.source,param.squash,param.isOptional),segments.push(p.segment),last=placeholder.lastIndex;segment=pattern.substring(last);var i=segment.indexOf("?");if(i>=0){var search=this.sourceSearch=segment.substring(i);if(segment=segment.substring(0,i),this.sourcePath=pattern.substring(0,last+i),search.length>0)for(last=0;m=searchPlaceholder.exec(search);)p=matchDetails(m,!0),param=addParameter(p.id,p.type,p.cfg,"search"),last=placeholder.lastIndex}else this.sourcePath=pattern,this.sourceSearch="";compiled+=quoteRegExp(segment)+(config.strict===!1?"/?":"")+"$",segments.push(segment),this.regexp=new RegExp(compiled,config.caseInsensitive?"i":undefined),this.prefix=segments[0],this.$$paramNames=paramNames}function Type(config){extend(this,config)}function $UrlMatcherFactory(){function valToString(val){return null!=val?val.toString().replace(/(~|\/)/g,function(m){return{"~":"~~","/":"~2F"}[m]}):val}function valFromString(val){return null!=val?val.toString().replace(/(~~|~2F)/g,function(m){return{"~~":"~","~2F":"/"}[m]}):val}function getDefaultConfig(){return{strict:isStrictMode,caseInsensitive:isCaseInsensitive}}function isInjectable(value){return isFunction(value)||isArray(value)&&isFunction(value[value.length-1])}function flushTypeQueue(){for(;typeQueue.length;){var type=typeQueue.shift();if(type.pattern)throw new Error("You cannot override a type's .pattern at runtime.");angular.extend($types[type.name],injector.invoke(type.def))}}function ParamSet(params){extend(this,params||{})}$$UMFP=this;var injector,isCaseInsensitive=!1,isStrictMode=!0,defaultSquashPolicy=!1,$types={},enqueue=!0,typeQueue=[],defaultTypes={string:{encode:valToString,decode:valFromString,is:function(val){return null==val||!isDefined(val)||"string"==typeof val},pattern:/[^\/]*/},"int":{encode:valToString,decode:function(val){return parseInt(val,10)},is:function(val){return val!==undefined&&null!==val&&this.decode(val.toString())===val},pattern:/-?\d+/},bool:{encode:function(val){return val?1:0},decode:function(val){return 0!==parseInt(val,10)},is:function(val){return val===!0||val===!1},pattern:/0|1/},date:{encode:function(val){return this.is(val)?[val.getFullYear(),("0"+(val.getMonth()+1)).slice(-2),("0"+val.getDate()).slice(-2)].join("-"):undefined},decode:function(val){if(this.is(val))return val;var match=this.capture.exec(val);return match?new Date(match[1],match[2]-1,match[3]):undefined},is:function(val){return val instanceof Date&&!isNaN(val.valueOf())},equals:function(a,b){return this.is(a)&&this.is(b)&&a.toISOString()===b.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:angular.toJson,decode:angular.fromJson,is:angular.isObject,equals:angular.equals,pattern:/[^\/]*/},any:{encode:angular.identity,decode:angular.identity,equals:angular.equals,pattern:/.*/}};$UrlMatcherFactory.$$getDefaultValue=function(config){if(!isInjectable(config.value))return config.value;if(!injector)throw new Error("Injectable functions cannot be called at configuration time");return injector.invoke(config.value)},this.caseInsensitive=function(value){return isDefined(value)&&(isCaseInsensitive=value),isCaseInsensitive},this.strictMode=function(value){return isDefined(value)&&(isStrictMode=value),isStrictMode},this.defaultSquashPolicy=function(value){if(!isDefined(value))return defaultSquashPolicy;if(value!==!0&&value!==!1&&!isString(value))throw new Error("Invalid squash policy: "+value+". Valid policies: false, true, arbitrary-string");return defaultSquashPolicy=value,value},this.compile=function(pattern,config){return new UrlMatcher(pattern,extend(getDefaultConfig(),config))},this.isMatcher=function(o){if(!isObject(o))return!1;var result=!0;return forEach(UrlMatcher.prototype,function(val,name){isFunction(val)&&(result=result&&isDefined(o[name])&&isFunction(o[name]))}),result},this.type=function(name,definition,definitionFn){if(!isDefined(definition))return $types[name];if($types.hasOwnProperty(name))throw new Error("A type named '"+name+"' has already been defined.");return $types[name]=new Type(extend({name:name},definition)),definitionFn&&(typeQueue.push({name:name,def:definitionFn}),enqueue||flushTypeQueue()),this},forEach(defaultTypes,function(type,name){$types[name]=new Type(extend({name:name},type))}),$types=inherit($types,{}),this.$get=["$injector",function($injector){return injector=$injector,enqueue=!1,flushTypeQueue(),forEach(defaultTypes,function(type,name){$types[name]||($types[name]=new Type(type))}),this}],this.Param=function(id,type,config,location){function unwrapShorthand(config){var keys=isObject(config)?objectKeys(config):[],isShorthand=indexOf(keys,"value")===-1&&indexOf(keys,"type")===-1&&indexOf(keys,"squash")===-1&&indexOf(keys,"array")===-1;return isShorthand&&(config={value:config}),config.$$fn=isInjectable(config.value)?config.value:function(){return config.value},config}function getType(config,urlType,location){if(config.type&&urlType)throw new Error("Param '"+id+"' has two type configurations.");return urlType?urlType:config.type?angular.isString(config.type)?$types[config.type]:config.type instanceof Type?config.type:new Type(config.type):"config"===location?$types.any:$types.string}function getArrayMode(){var arrayDefaults={array:"search"===location&&"auto"},arrayParamNomenclature=id.match(/\[\]$/)?{array:!0}:{};return extend(arrayDefaults,arrayParamNomenclature,config).array}function getSquashPolicy(config,isOptional){var squash=config.squash;if(!isOptional||squash===!1)return!1;if(!isDefined(squash)||null==squash)return defaultSquashPolicy;if(squash===!0||isString(squash))return squash;throw new Error("Invalid squash policy: '"+squash+"'. Valid policies: false, true, or arbitrary string")}function getReplace(config,arrayMode,isOptional,squash){var replace,configuredKeys,defaultPolicy=[{from:"",to:isOptional||arrayMode?undefined:""},{from:null,to:isOptional||arrayMode?undefined:""}];return replace=isArray(config.replace)?config.replace:[],isString(squash)&&replace.push({from:squash,to:undefined}),configuredKeys=map(replace,function(item){return item.from}),filter(defaultPolicy,function(item){return indexOf(configuredKeys,item.from)===-1}).concat(replace)}function $$getDefaultValue(){if(!injector)throw new Error("Injectable functions cannot be called at configuration time");var defaultValue=injector.invoke(config.$$fn);if(null!==defaultValue&&defaultValue!==undefined&&!self.type.is(defaultValue))throw new Error("Default value ("+defaultValue+") for parameter '"+self.id+"' is not an instance of Type ("+self.type.name+")");return defaultValue}function $value(value){function hasReplaceVal(val){return function(obj){return obj.from===val}}function $replace(value){var replacement=map(filter(self.replace,hasReplaceVal(value)),function(obj){return obj.to});return replacement.length?replacement[0]:value}return value=$replace(value),isDefined(value)?self.type.$normalize(value):$$getDefaultValue()}function toString(){return"{Param:"+id+" "+type+" squash: '"+squash+"' optional: "+isOptional+"}"}var self=this;config=unwrapShorthand(config),type=getType(config,type,location);var arrayMode=getArrayMode();type=arrayMode?type.$asArray(arrayMode,"search"===location):type,"string"!==type.name||arrayMode||"path"!==location||config.value!==undefined||(config.value="");var isOptional=config.value!==undefined,squash=getSquashPolicy(config,isOptional),replace=getReplace(config,arrayMode,isOptional,squash);extend(this,{id:id,type:type,location:location,array:arrayMode,squash:squash,replace:replace,isOptional:isOptional,value:$value,dynamic:undefined,config:config,toString:toString})},ParamSet.prototype={$$new:function(){return inherit(this,extend(new ParamSet,{$$parent:this}))},$$keys:function(){for(var keys=[],chain=[],parent=this,ignore=objectKeys(ParamSet.prototype);parent;)chain.push(parent),parent=parent.$$parent;return chain.reverse(),forEach(chain,function(paramset){forEach(objectKeys(paramset),function(key){indexOf(keys,key)===-1&&indexOf(ignore,key)===-1&&keys.push(key)})}),keys},$$values:function(paramValues){var values={},self=this;return forEach(self.$$keys(),function(key){values[key]=self[key].value(paramValues&&paramValues[key])}),values},$$equals:function(paramValues1,paramValues2){var equal=!0,self=this;return forEach(self.$$keys(),function(key){var left=paramValues1&&paramValues1[key],right=paramValues2&&paramValues2[key];self[key].type.equals(left,right)||(equal=!1)}),equal},$$validates:function(paramValues){var i,param,rawVal,normalized,encoded,keys=this.$$keys();for(i=0;i<keys.length&&(param=this[keys[i]],rawVal=paramValues[keys[i]],rawVal!==undefined&&null!==rawVal||!param.isOptional);i++){if(normalized=param.type.$normalize(rawVal),!param.type.is(normalized))return!1;if(encoded=param.type.encode(normalized),angular.isString(encoded)&&!param.type.pattern.exec(encoded))return!1}return!0},$$parent:undefined},this.ParamSet=ParamSet}function $UrlRouterProvider($locationProvider,$urlMatcherFactory){function regExpPrefix(re){var prefix=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(re.source);return null!=prefix?prefix[1].replace(/\\(.)/g,"$1"):""}function interpolate(pattern,match){return pattern.replace(/\$(\$|\d{1,2})/,function(m,what){return match["$"===what?0:Number(what)]})}function handleIfMatch($injector,handler,match){if(!match)return!1;var result=$injector.invoke(handler,handler,{$match:match});return!isDefined(result)||result}function $get($location,$rootScope,$injector,$browser,$sniffer){function appendBasePath(url,isHtml5,absolute){return"/"===baseHref?url:isHtml5?baseHref.slice(0,-1)+url:absolute?baseHref.slice(1)+url:url}function update(evt){function check(rule){var handled=rule($injector,$location);return!!handled&&(isString(handled)&&$location.replace().url(handled),!0)}if(!evt||!evt.defaultPrevented){lastPushedUrl&&$location.url()===lastPushedUrl;lastPushedUrl=undefined;var i,n=rules.length;for(i=0;i<n;i++)if(check(rules[i]))return;otherwise&&check(otherwise)}}function listen(){return listener=listener||$rootScope.$on("$locationChangeSuccess",update)}var lastPushedUrl,baseHref=$browser.baseHref(),location=$location.url();return interceptDeferred||listen(),{sync:function(){update()},listen:function(){return listen()},update:function(read){return read?void(location=$location.url()):void($location.url()!==location&&($location.url(location),$location.replace()))},push:function(urlMatcher,params,options){var url=urlMatcher.format(params||{});null!==url&&params&&params["#"]&&(url+="#"+params["#"]),$location.url(url),lastPushedUrl=options&&options.$$avoidResync?$location.url():undefined,options&&options.replace&&$location.replace()},href:function(urlMatcher,params,options){if(!urlMatcher.validates(params))return null;var isHtml5=$locationProvider.html5Mode();angular.isObject(isHtml5)&&(isHtml5=isHtml5.enabled),isHtml5=isHtml5&&$sniffer.history;var url=urlMatcher.format(params);if(options=options||{},isHtml5||null===url||(url="#"+$locationProvider.hashPrefix()+url),null!==url&&params&&params["#"]&&(url+="#"+params["#"]),url=appendBasePath(url,isHtml5,options.absolute),!options.absolute||!url)return url;var slash=!isHtml5&&url?"/":"",port=$location.port();return port=80===port||443===port?"":":"+port,[$location.protocol(),"://",$location.host(),port,slash,url].join("")}}}var listener,rules=[],otherwise=null,interceptDeferred=!1;this.rule=function(rule){if(!isFunction(rule))throw new Error("'rule' must be a function");return rules.push(rule),this},this.otherwise=function(rule){if(isString(rule)){var redirect=rule;rule=function(){return redirect}}else if(!isFunction(rule))throw new Error("'rule' must be a function");return otherwise=rule,this},this.when=function(what,handler){var redirect,handlerIsString=isString(handler);if(isString(what)&&(what=$urlMatcherFactory.compile(what)),!handlerIsString&&!isFunction(handler)&&!isArray(handler))throw new Error("invalid 'handler' in when()");var strategies={matcher:function(what,handler){return handlerIsString&&(redirect=$urlMatcherFactory.compile(handler),handler=["$match",function($match){return redirect.format($match)}]),extend(function($injector,$location){return handleIfMatch($injector,handler,what.exec($location.path(),$location.search()))},{prefix:isString(what.prefix)?what.prefix:""})},regex:function(what,handler){if(what.global||what.sticky)throw new Error("when() RegExp must not be global or sticky");return handlerIsString&&(redirect=handler,handler=["$match",function($match){return interpolate(redirect,$match)}]),extend(function($injector,$location){return handleIfMatch($injector,handler,what.exec($location.path()))},{prefix:regExpPrefix(what)})}},check={matcher:$urlMatcherFactory.isMatcher(what),regex:what instanceof RegExp};for(var n in check)if(check[n])return this.rule(strategies[n](what,handler));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(defer){defer===undefined&&(defer=!0),interceptDeferred=defer},this.$get=$get,$get.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function $StateProvider($urlRouterProvider,$urlMatcherFactory){function isRelative(stateName){return 0===stateName.indexOf(".")||0===stateName.indexOf("^")}function findState(stateOrName,base){if(!stateOrName)return undefined;var isStr=isString(stateOrName),name=isStr?stateOrName:stateOrName.name,path=isRelative(name);if(path){if(!base)throw new Error("No reference point given for path '"+name+"'");base=findState(base);for(var rel=name.split("."),i=0,pathLength=rel.length,current=base;i<pathLength;i++)if(""!==rel[i]||0!==i){if("^"!==rel[i])break;if(!current.parent)throw new Error("Path '"+name+"' not valid for state '"+base.name+"'");current=current.parent}else current=base;rel=rel.slice(i).join("."),name=current.name+(current.name&&rel?".":"")+rel}var state=states[name];return!state||!isStr&&(isStr||state!==stateOrName&&state.self!==stateOrName)?undefined:state}function queueState(parentName,state){queue[parentName]||(queue[parentName]=[]),queue[parentName].push(state)}function flushQueuedChildren(parentName){for(var queued=queue[parentName]||[];queued.length;)registerState(queued.shift())}function registerState(state){state=inherit(state,{self:state,resolve:state.resolve||{},toString:function(){return this.name}});var name=state.name;if(!isString(name)||name.indexOf("@")>=0)throw new Error("State must have a valid name");if(states.hasOwnProperty(name))throw new Error("State '"+name+"' is already defined");var parentName=name.indexOf(".")!==-1?name.substring(0,name.lastIndexOf(".")):isString(state.parent)?state.parent:isObject(state.parent)&&isString(state.parent.name)?state.parent.name:"";if(parentName&&!states[parentName])return queueState(parentName,state.self);for(var key in stateBuilder)isFunction(stateBuilder[key])&&(state[key]=stateBuilder[key](state,stateBuilder.$delegates[key]));return states[name]=state,!state[abstractKey]&&state.url&&$urlRouterProvider.when(state.url,["$match","$stateParams",function($match,$stateParams){$state.$current.navigable==state&&equalForKeys($match,$stateParams)||$state.transitionTo(state,$match,{inherit:!0,location:!1})}]),flushQueuedChildren(name),state}function isGlob(text){return text.indexOf("*")>-1}function doesStateMatchGlob(glob){for(var globSegments=glob.split("."),segments=$state.$current.name.split("."),i=0,l=globSegments.length;i<l;i++)"*"===globSegments[i]&&(segments[i]="*");return"**"===globSegments[0]&&(segments=segments.slice(indexOf(segments,globSegments[1])),segments.unshift("**")),"**"===globSegments[globSegments.length-1]&&(segments.splice(indexOf(segments,globSegments[globSegments.length-2])+1,Number.MAX_VALUE),segments.push("**")),globSegments.length==segments.length&&segments.join("")===globSegments.join("")}function decorator(name,func){return isString(name)&&!isDefined(func)?stateBuilder[name]:isFunction(func)&&isString(name)?(stateBuilder[name]&&!stateBuilder.$delegates[name]&&(stateBuilder.$delegates[name]=stateBuilder[name]),stateBuilder[name]=func,this):this}function state(name,definition){return isObject(name)?definition=name:definition.name=name,registerState(definition),this}function $get($rootScope,$q,$view,$injector,$resolve,$stateParams,$urlRouter,$location,$urlMatcherFactory){function handleRedirect(redirect,state,params,options){var evt=$rootScope.$broadcast("$stateNotFound",redirect,state,params);if(evt.defaultPrevented)return $urlRouter.update(),TransitionAborted;if(!evt.retry)return null;if(options.$retry)return $urlRouter.update(),TransitionFailed;var retryTransition=$state.transition=$q.when(evt.retry);return retryTransition.then(function(){return retryTransition!==$state.transition?($rootScope.$broadcast("$stateChangeCancel",redirect.to,redirect.toParams,state,params),TransitionSuperseded):(redirect.options.$retry=!0,$state.transitionTo(redirect.to,redirect.toParams,redirect.options))},function(){return TransitionAborted}),$urlRouter.update(),retryTransition}function resolveState(state,params,paramsAreFiltered,inherited,dst,options){function resolveViews(){var viewsPromises=[];return forEach(state.views,function(view,name){var injectables=view.resolve&&view.resolve!==state.resolve?view.resolve:{};injectables.$template=[function(){return $view.load(name,{view:view,locals:dst.globals,params:$stateParams,notify:options.notify})||""}],viewsPromises.push($resolve.resolve(injectables,dst.globals,dst.resolve,state).then(function(result){if(isFunction(view.controllerProvider)||isArray(view.controllerProvider)){var injectLocals=angular.extend({},injectables,dst.globals);result.$$controller=$injector.invoke(view.controllerProvider,null,injectLocals)}else result.$$controller=view.controller;result.$$state=state,result.$$controllerAs=view.controllerAs,result.$$resolveAs=view.resolveAs,dst[name]=result}))}),$q.all(viewsPromises).then(function(){return dst.globals})}var $stateParams=paramsAreFiltered?params:filterByKeys(state.params.$$keys(),params),locals={$stateParams:$stateParams};dst.resolve=$resolve.resolve(state.resolve,locals,dst.resolve,state);var promises=[dst.resolve.then(function(globals){dst.globals=globals})];return inherited&&promises.push(inherited),$q.all(promises).then(resolveViews).then(function(values){return dst})}var TransitionSupersededError=new Error("transition superseded"),TransitionSuperseded=silenceUncaughtInPromise($q.reject(TransitionSupersededError)),TransitionPrevented=silenceUncaughtInPromise($q.reject(new Error("transition prevented"))),TransitionAborted=silenceUncaughtInPromise($q.reject(new Error("transition aborted"))),TransitionFailed=silenceUncaughtInPromise($q.reject(new Error("transition failed")));return root.locals={resolve:null,globals:{$stateParams:{}}},$state={params:{},current:root.self,$current:root,transition:null},$state.reload=function(state){return $state.transitionTo($state.current,$stateParams,{reload:state||!0,inherit:!1,notify:!0})},$state.go=function(to,params,options){return $state.transitionTo(to,params,extend({inherit:!0,relative:$state.$current},options))},$state.transitionTo=function(to,toParams,options){toParams=toParams||{},options=extend({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},options||{});var evt,from=$state.$current,fromParams=$state.params,fromPath=from.path,toState=findState(to,options.relative),hash=toParams["#"];if(!isDefined(toState)){var redirect={to:to,toParams:toParams,options:options},redirectResult=handleRedirect(redirect,from.self,fromParams,options);if(redirectResult)return redirectResult;if(to=redirect.to,toParams=redirect.toParams,options=redirect.options,toState=findState(to,options.relative),!isDefined(toState)){if(!options.relative)throw new Error("No such state '"+to+"'");throw new Error("Could not resolve '"+to+"' from state '"+options.relative+"'")}}if(toState[abstractKey])throw new Error("Cannot transition to abstract state '"+to+"'");if(options.inherit&&(toParams=inheritParams($stateParams,toParams||{},$state.$current,toState)),!toState.params.$$validates(toParams))return TransitionFailed;
toParams=toState.params.$$values(toParams),to=toState;var toPath=to.path,keep=0,state=toPath[keep],locals=root.locals,toLocals=[];if(options.reload){if(isString(options.reload)||isObject(options.reload)){if(isObject(options.reload)&&!options.reload.name)throw new Error("Invalid reload state object");var reloadState=options.reload===!0?fromPath[0]:findState(options.reload);if(options.reload&&!reloadState)throw new Error("No such reload state '"+(isString(options.reload)?options.reload:options.reload.name)+"'");for(;state&&state===fromPath[keep]&&state!==reloadState;)locals=toLocals[keep]=state.locals,keep++,state=toPath[keep]}}else for(;state&&state===fromPath[keep]&&state.ownParams.$$equals(toParams,fromParams);)locals=toLocals[keep]=state.locals,keep++,state=toPath[keep];if(shouldSkipReload(to,toParams,from,fromParams,locals,options))return hash&&(toParams["#"]=hash),$state.params=toParams,copy($state.params,$stateParams),copy(filterByKeys(to.params.$$keys(),$stateParams),to.locals.globals.$stateParams),options.location&&to.navigable&&to.navigable.url&&($urlRouter.push(to.navigable.url,toParams,{$$avoidResync:!0,replace:"replace"===options.location}),$urlRouter.update(!0)),$state.transition=null,$q.when($state.current);if(toParams=filterByKeys(to.params.$$keys(),toParams||{}),hash&&(toParams["#"]=hash),options.notify&&$rootScope.$broadcast("$stateChangeStart",to.self,toParams,from.self,fromParams,options).defaultPrevented)return $rootScope.$broadcast("$stateChangeCancel",to.self,toParams,from.self,fromParams),null==$state.transition&&$urlRouter.update(),TransitionPrevented;for(var resolved=$q.when(locals),l=keep;l<toPath.length;l++,state=toPath[l])locals=toLocals[l]=inherit(locals),resolved=resolveState(state,toParams,state===to,resolved,locals,options);var transition=$state.transition=resolved.then(function(){var l,entering,exiting;if($state.transition!==transition)return $rootScope.$broadcast("$stateChangeCancel",to.self,toParams,from.self,fromParams),TransitionSuperseded;for(l=fromPath.length-1;l>=keep;l--)exiting=fromPath[l],exiting.self.onExit&&$injector.invoke(exiting.self.onExit,exiting.self,exiting.locals.globals),exiting.locals=null;for(l=keep;l<toPath.length;l++)entering=toPath[l],entering.locals=toLocals[l],entering.self.onEnter&&$injector.invoke(entering.self.onEnter,entering.self,entering.locals.globals);return $state.transition!==transition?($rootScope.$broadcast("$stateChangeCancel",to.self,toParams,from.self,fromParams),TransitionSuperseded):($state.$current=to,$state.current=to.self,$state.params=toParams,copy($state.params,$stateParams),$state.transition=null,options.location&&to.navigable&&$urlRouter.push(to.navigable.url,to.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===options.location}),options.notify&&$rootScope.$broadcast("$stateChangeSuccess",to.self,toParams,from.self,fromParams),$urlRouter.update(!0),$state.current)}).then(null,function(error){return error===TransitionSupersededError?TransitionSuperseded:$state.transition!==transition?($rootScope.$broadcast("$stateChangeCancel",to.self,toParams,from.self,fromParams),TransitionSuperseded):($state.transition=null,evt=$rootScope.$broadcast("$stateChangeError",to.self,toParams,from.self,fromParams,error),evt.defaultPrevented||$urlRouter.update(),$q.reject(error))});return silenceUncaughtInPromise(transition),transition},$state.is=function(stateOrName,params,options){options=extend({relative:$state.$current},options||{});var state=findState(stateOrName,options.relative);return isDefined(state)?$state.$current===state&&(!params||objectKeys(params).reduce(function(acc,key){var paramDef=state.params[key];return acc&&(!paramDef||paramDef.type.equals($stateParams[key],params[key]))},!0)):undefined},$state.includes=function(stateOrName,params,options){if(options=extend({relative:$state.$current},options||{}),isString(stateOrName)&&isGlob(stateOrName)){if(!doesStateMatchGlob(stateOrName))return!1;stateOrName=$state.$current.name}var state=findState(stateOrName,options.relative);if(!isDefined(state))return undefined;if(!isDefined($state.$current.includes[state.name]))return!1;if(!params)return!0;for(var keys=objectKeys(params),i=0;i<keys.length;i++){var key=keys[i],paramDef=state.params[key];if(paramDef&&!paramDef.type.equals($stateParams[key],params[key]))return!1}return objectKeys(params).reduce(function(acc,key){var paramDef=state.params[key];return acc&&!paramDef||paramDef.type.equals($stateParams[key],params[key])},!0)},$state.href=function(stateOrName,params,options){options=extend({lossy:!0,inherit:!0,absolute:!1,relative:$state.$current},options||{});var state=findState(stateOrName,options.relative);if(!isDefined(state))return null;options.inherit&&(params=inheritParams($stateParams,params||{},$state.$current,state));var nav=state&&options.lossy?state.navigable:state;return nav&&nav.url!==undefined&&null!==nav.url?$urlRouter.href(nav.url,filterByKeys(state.params.$$keys().concat("#"),params||{}),{absolute:options.absolute}):null},$state.get=function(stateOrName,context){if(0===arguments.length)return map(objectKeys(states),function(name){return states[name].self});var state=findState(stateOrName,context||$state.$current);return state&&state.self?state.self:null},$state}function shouldSkipReload(to,toParams,from,fromParams,locals,options){function nonSearchParamsEqual(fromAndToState,fromParams,toParams){function notSearchParam(key){return"search"!=fromAndToState.params[key].location}var nonQueryParamKeys=fromAndToState.params.$$keys().filter(notSearchParam),nonQueryParams=pick.apply({},[fromAndToState.params].concat(nonQueryParamKeys)),nonQueryParamSet=new $$UMFP.ParamSet(nonQueryParams);return nonQueryParamSet.$$equals(fromParams,toParams)}if(!options.reload&&to===from&&(locals===from.locals||to.self.reloadOnSearch===!1&&nonSearchParamsEqual(from,fromParams,toParams)))return!0}var root,$state,states={},queue={},abstractKey="abstract",stateBuilder={parent:function(state){if(isDefined(state.parent)&&state.parent)return findState(state.parent);var compositeName=/^(.+)\.[^.]+$/.exec(state.name);return compositeName?findState(compositeName[1]):root},data:function(state){return state.parent&&state.parent.data&&(state.data=state.self.data=inherit(state.parent.data,state.data)),state.data},url:function(state){var url=state.url,config={params:state.params||{}};if(isString(url))return"^"==url.charAt(0)?$urlMatcherFactory.compile(url.substring(1),config):(state.parent.navigable||root).url.concat(url,config);if(!url||$urlMatcherFactory.isMatcher(url))return url;throw new Error("Invalid url '"+url+"' in state '"+state+"'")},navigable:function(state){return state.url?state:state.parent?state.parent.navigable:null},ownParams:function(state){var params=state.url&&state.url.params||new $$UMFP.ParamSet;return forEach(state.params||{},function(config,id){params[id]||(params[id]=new $$UMFP.Param(id,null,config,"config"))}),params},params:function(state){var ownParams=pick(state.ownParams,state.ownParams.$$keys());return state.parent&&state.parent.params?extend(state.parent.params.$$new(),ownParams):new $$UMFP.ParamSet},views:function(state){var views={};return forEach(isDefined(state.views)?state.views:{"":state},function(view,name){name.indexOf("@")<0&&(name+="@"+state.parent.name),view.resolveAs=view.resolveAs||state.resolveAs||"$resolve",views[name]=view}),views},path:function(state){return state.parent?state.parent.path.concat(state):[]},includes:function(state){var includes=state.parent?extend({},state.parent.includes):{};return includes[state.name]=!0,includes},$delegates:{}};root=registerState({name:"",url:"^",views:null,"abstract":!0}),root.navigable=null,this.decorator=decorator,this.state=state,this.$get=$get,$get.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function $ViewProvider(){function $get($rootScope,$templateFactory){return{load:function(name,options){var result,defaults={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return options=extend(defaults,options),options.view&&(result=$templateFactory.fromConfig(options.view,options.params,options.locals)),result}}}this.$get=$get,$get.$inject=["$rootScope","$templateFactory"]}function $ViewScrollProvider(){var useAnchorScroll=!1;this.useAnchorScroll=function(){useAnchorScroll=!0},this.$get=["$anchorScroll","$timeout",function($anchorScroll,$timeout){return useAnchorScroll?$anchorScroll:function($element){return $timeout(function(){$element[0].scrollIntoView()},0,!1)}}]}function $ViewDirective($state,$injector,$uiViewScroll,$interpolate,$q){function getService(){return $injector.has?function(service){return $injector.has(service)?$injector.get(service):null}:function(service){try{return $injector.get(service)}catch(e){return null}}}function getRenderer(attrs,scope){var statics=function(){return{enter:function(element,target,cb){target.after(element),cb()},leave:function(element,cb){element.remove(),cb()}}};if($animate)return{enter:function(element,target,cb){angular.version.minor>2?$animate.enter(element,null,target).then(cb):$animate.enter(element,null,target,cb)},leave:function(element,cb){angular.version.minor>2?$animate.leave(element).then(cb):$animate.leave(element,cb)}};if($animator){var animate=$animator&&$animator(scope,attrs);return{enter:function(element,target,cb){animate.enter(element,null,target),cb()},leave:function(element,cb){animate.leave(element),cb()}}}return statics()}var service=getService(),$animator=service("$animator"),$animate=service("$animate"),directive={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(tElement,tAttrs,$transclude){return function(scope,$element,attrs){function cleanupLastView(){if(previousEl&&(previousEl.remove(),previousEl=null),currentScope&&(currentScope.$destroy(),currentScope=null),currentEl){var $uiViewData=currentEl.data("$uiViewAnim");renderer.leave(currentEl,function(){$uiViewData.$$animLeave.resolve(),previousEl=null}),previousEl=currentEl,currentEl=null}}function updateView(firstTime){var newScope,name=getUiViewName(scope,attrs,$element,$interpolate),previousLocals=name&&$state.$current&&$state.$current.locals[name];if(firstTime||previousLocals!==latestLocals){newScope=scope.$new(),latestLocals=$state.$current.locals[name],newScope.$emit("$viewContentLoading",name);var clone=$transclude(newScope,function(clone){var animEnter=$q.defer(),animLeave=$q.defer(),viewAnimData={$animEnter:animEnter.promise,$animLeave:animLeave.promise,$$animLeave:animLeave};clone.data("$uiViewAnim",viewAnimData),renderer.enter(clone,$element,function(){animEnter.resolve(),currentScope&&currentScope.$emit("$viewContentAnimationEnded"),(angular.isDefined(autoScrollExp)&&!autoScrollExp||scope.$eval(autoScrollExp))&&$uiViewScroll(clone)}),cleanupLastView()});currentEl=clone,currentScope=newScope,currentScope.$emit("$viewContentLoaded",name),currentScope.$eval(onloadExp)}}var previousEl,currentEl,currentScope,latestLocals,onloadExp=attrs.onload||"",autoScrollExp=attrs.autoscroll,renderer=getRenderer(attrs,scope);$element.inheritedData("$uiView");scope.$on("$stateChangeSuccess",function(){updateView(!1)}),updateView(!0)}}};return directive}function $ViewDirectiveFill($compile,$controller,$state,$interpolate){return{restrict:"ECA",priority:-400,compile:function(tElement){var initial=tElement.html();return tElement.empty?tElement.empty():tElement[0].innerHTML=null,function(scope,$element,attrs){var current=$state.$current,name=getUiViewName(scope,attrs,$element,$interpolate),locals=current&&current.locals[name];if(!locals)return $element.html(initial),void $compile($element.contents())(scope);$element.data("$uiView",{name:name,state:locals.$$state}),$element.html(locals.$template?locals.$template:initial);var resolveData=angular.extend({},locals);scope[locals.$$resolveAs]=resolveData;var link=$compile($element.contents());if(locals.$$controller){locals.$scope=scope,locals.$element=$element;var controller=$controller(locals.$$controller,locals);locals.$$controllerAs&&(scope[locals.$$controllerAs]=controller,scope[locals.$$controllerAs][locals.$$resolveAs]=resolveData),isFunction(controller.$onInit)&&controller.$onInit(),$element.data("$ngControllerController",controller),$element.children().data("$ngControllerController",controller)}link(scope)}}}}function getUiViewName(scope,attrs,element,$interpolate){var name=$interpolate(attrs.uiView||attrs.name||"")(scope),uiViewCreatedBy=element.inheritedData("$uiView");return name.indexOf("@")>=0?name:name+"@"+(uiViewCreatedBy?uiViewCreatedBy.state.name:"")}function parseStateRef(ref,current){var parsed,preparsed=ref.match(/^\s*({[^}]*})\s*$/);if(preparsed&&(ref=current+"("+preparsed[1]+")"),parsed=ref.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!parsed||4!==parsed.length)throw new Error("Invalid state ref '"+ref+"'");return{state:parsed[1],paramExpr:parsed[3]||null}}function stateContext(el){var stateData=el.parent().inheritedData("$uiView");if(stateData&&stateData.state&&stateData.state.name)return stateData.state}function getTypeInfo(el){var isSvg="[object SVGAnimatedString]"===Object.prototype.toString.call(el.prop("href")),isForm="FORM"===el[0].nodeName;return{attr:isForm?"action":isSvg?"xlink:href":"href",isAnchor:"A"===el.prop("tagName").toUpperCase(),clickable:!isForm}}function clickHook(el,$state,$timeout,type,current){return function(e){var button=e.which||e.button,target=current();if(!(button>1||e.ctrlKey||e.metaKey||e.shiftKey||el.attr("target"))){var transition=$timeout(function(){$state.go(target.state,target.params,target.options)});e.preventDefault();var ignorePreventDefaultCount=type.isAnchor&&!target.href?1:0;e.preventDefault=function(){ignorePreventDefaultCount--<=0&&$timeout.cancel(transition)}}}}function defaultOpts(el,$state){return{relative:stateContext(el)||$state.$current,inherit:!0}}function $StateRefDirective($state,$timeout){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(scope,element,attrs,uiSrefActive){var hookFn,ref=parseStateRef(attrs.uiSref,$state.current.name),def={state:ref.state,href:null,params:null},type=getTypeInfo(element),active=uiSrefActive[1]||uiSrefActive[0],unlinkInfoFn=null;def.options=extend(defaultOpts(element,$state),attrs.uiSrefOpts?scope.$eval(attrs.uiSrefOpts):{});var update=function(val){val&&(def.params=angular.copy(val)),def.href=$state.href(ref.state,def.params,def.options),unlinkInfoFn&&unlinkInfoFn(),active&&(unlinkInfoFn=active.$$addStateInfo(ref.state,def.params)),null!==def.href&&attrs.$set(type.attr,def.href)};ref.paramExpr&&(scope.$watch(ref.paramExpr,function(val){val!==def.params&&update(val)},!0),def.params=angular.copy(scope.$eval(ref.paramExpr))),update(),type.clickable&&(hookFn=clickHook(element,$state,$timeout,type,function(){return def}),element[element.on?"on":"bind"]("click",hookFn),scope.$on("$destroy",function(){element[element.off?"off":"unbind"]("click",hookFn)}))}}}function $StateRefDynamicDirective($state,$timeout){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(scope,element,attrs,uiSrefActive){function runStateRefLink(group){def.state=group[0],def.params=group[1],def.options=group[2],def.href=$state.href(def.state,def.params,def.options),unlinkInfoFn&&unlinkInfoFn(),active&&(unlinkInfoFn=active.$$addStateInfo(def.state,def.params)),def.href&&attrs.$set(type.attr,def.href)}var hookFn,type=getTypeInfo(element),active=uiSrefActive[1]||uiSrefActive[0],group=[attrs.uiState,attrs.uiStateParams||null,attrs.uiStateOpts||null],watch="["+group.map(function(val){return val||"null"}).join(", ")+"]",def={state:null,params:null,options:null,href:null},unlinkInfoFn=null;scope.$watch(watch,runStateRefLink,!0),runStateRefLink(scope.$eval(watch)),type.clickable&&(hookFn=clickHook(element,$state,$timeout,type,function(){return def}),element[element.on?"on":"bind"]("click",hookFn),scope.$on("$destroy",function(){element[element.off?"off":"unbind"]("click",hookFn)}))}}}function $StateRefActiveDirective($state,$stateParams,$interpolate){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function($scope,$element,$attrs,$timeout){function addState(stateName,stateParams,activeClass){var state=$state.get(stateName,stateContext($element)),stateHash=createStateHash(stateName,stateParams),stateInfo={state:state||{name:stateName},params:stateParams,hash:stateHash};return states.push(stateInfo),activeClasses[stateHash]=activeClass,function(){var idx=states.indexOf(stateInfo);idx!==-1&&states.splice(idx,1)}}function createStateHash(state,params){if(!isString(state))throw new Error("state should be a string");return isObject(params)?state+toJson(params):(params=$scope.$eval(params),isObject(params)?state+toJson(params):state)}function update(){for(var i=0;i<states.length;i++)anyMatch(states[i].state,states[i].params)?addClass($element,activeClasses[states[i].hash]):removeClass($element,activeClasses[states[i].hash]),exactMatch(states[i].state,states[i].params)?addClass($element,activeEqClass):removeClass($element,activeEqClass)}function addClass(el,className){$timeout(function(){el.addClass(className)})}function removeClass(el,className){el.removeClass(className)}function anyMatch(state,params){return $state.includes(state.name,params)}function exactMatch(state,params){return $state.is(state.name,params)}var activeEqClass,uiSrefActive,states=[],activeClasses={};activeEqClass=$interpolate($attrs.uiSrefActiveEq||"",!1)($scope);try{uiSrefActive=$scope.$eval($attrs.uiSrefActive)}catch(e){}uiSrefActive=uiSrefActive||$interpolate($attrs.uiSrefActive||"",!1)($scope),isObject(uiSrefActive)&&forEach(uiSrefActive,function(stateOrName,activeClass){if(isString(stateOrName)){var ref=parseStateRef(stateOrName,$state.current.name);addState(ref.state,$scope.$eval(ref.paramExpr),activeClass)}}),this.$$addStateInfo=function(newState,newParams){if(!(isObject(uiSrefActive)&&states.length>0)){var deregister=addState(newState,newParams,uiSrefActive);return update(),deregister}},$scope.$on("$stateChangeSuccess",update),update()}]}}function $IsStateFilter($state){var isFilter=function(state,params){return $state.is(state,params)};return isFilter.$stateful=!0,isFilter}function $IncludedByStateFilter($state){var includesFilter=function(state,params,options){return $state.includes(state,params,options)};return includesFilter.$stateful=!0,includesFilter}var isDefined=angular.isDefined,isFunction=angular.isFunction,isString=angular.isString,isObject=angular.isObject,isArray=angular.isArray,forEach=angular.forEach,extend=angular.extend,copy=angular.copy,toJson=angular.toJson;angular.module("ui.router.util",["ng"]),angular.module("ui.router.router",["ui.router.util"]),angular.module("ui.router.state",["ui.router.router","ui.router.util"]),angular.module("ui.router",["ui.router.state"]),angular.module("ui.router.compat",["ui.router"]),$Resolve.$inject=["$q","$injector"],angular.module("ui.router.util").service("$resolve",$Resolve),angular.module("ui.router.util").provider("$templateFactory",TemplateFactoryProvider);var $$UMFP;UrlMatcher.prototype.concat=function(pattern,config){var defaultConfig={caseInsensitive:$$UMFP.caseInsensitive(),strict:$$UMFP.strictMode(),squash:$$UMFP.defaultSquashPolicy()};return new UrlMatcher(this.sourcePath+pattern+this.sourceSearch,extend(defaultConfig,config),this)},UrlMatcher.prototype.toString=function(){return this.source},UrlMatcher.prototype.exec=function(path,searchParams){function decodePathArray(string){function reverseString(str){return str.split("").reverse().join("")}function unquoteDashes(str){return str.replace(/\\-/g,"-")}var split=reverseString(string).split(/-(?!\\)/),allReversed=map(split,reverseString);return map(allReversed,unquoteDashes).reverse()}var m=this.regexp.exec(path);if(!m)return null;searchParams=searchParams||{};var i,j,paramName,paramNames=this.parameters(),nTotal=paramNames.length,nPath=this.segments.length-1,values={};if(nPath!==m.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");var param,paramVal;for(i=0;i<nPath;i++){for(paramName=paramNames[i],param=this.params[paramName],paramVal=m[i+1],j=0;j<param.replace.length;j++)param.replace[j].from===paramVal&&(paramVal=param.replace[j].to);paramVal&&param.array===!0&&(paramVal=decodePathArray(paramVal)),isDefined(paramVal)&&(paramVal=param.type.decode(paramVal)),values[paramName]=param.value(paramVal)}for(;i<nTotal;i++){for(paramName=paramNames[i],values[paramName]=this.params[paramName].value(searchParams[paramName]),param=this.params[paramName],paramVal=searchParams[paramName],j=0;j<param.replace.length;j++)param.replace[j].from===paramVal&&(paramVal=param.replace[j].to);isDefined(paramVal)&&(paramVal=param.type.decode(paramVal)),values[paramName]=param.value(paramVal)}return values},UrlMatcher.prototype.parameters=function(param){return isDefined(param)?this.params[param]||null:this.$$paramNames},UrlMatcher.prototype.validates=function(params){return this.params.$$validates(params)},UrlMatcher.prototype.format=function(values){function encodeDashes(str){return encodeURIComponent(str).replace(/-/g,function(c){return"%5C%"+c.charCodeAt(0).toString(16).toUpperCase()})}values=values||{};var segments=this.segments,params=this.parameters(),paramset=this.params;if(!this.validates(values))return null;var i,search=!1,nPath=segments.length-1,nTotal=params.length,result=segments[0];for(i=0;i<nTotal;i++){var isPathParam=i<nPath,name=params[i],param=paramset[name],value=param.value(values[name]),isDefaultValue=param.isOptional&&param.type.equals(param.value(),value),squash=!!isDefaultValue&&param.squash,encoded=param.type.encode(value);if(isPathParam){var nextSegment=segments[i+1],isFinalPathParam=i+1===nPath;if(squash===!1)null!=encoded&&(result+=isArray(encoded)?map(encoded,encodeDashes).join("-"):encodeURIComponent(encoded)),result+=nextSegment;else if(squash===!0){var capture=result.match(/\/$/)?/\/?(.*)/:/(.*)/;result+=nextSegment.match(capture)[1]}else isString(squash)&&(result+=squash+nextSegment);isFinalPathParam&&param.squash===!0&&"/"===result.slice(-1)&&(result=result.slice(0,-1))}else{if(null==encoded||isDefaultValue&&squash!==!1)continue;if(isArray(encoded)||(encoded=[encoded]),0===encoded.length)continue;encoded=map(encoded,encodeURIComponent).join("&"+name+"="),result+=(search?"&":"?")+(name+"="+encoded),search=!0}}return result},Type.prototype.is=function(val,key){return!0},Type.prototype.encode=function(val,key){return val},Type.prototype.decode=function(val,key){return val},Type.prototype.equals=function(a,b){return a==b},Type.prototype.$subPattern=function(){var sub=this.pattern.toString();return sub.substr(1,sub.length-2)},Type.prototype.pattern=/.*/,Type.prototype.toString=function(){return"{Type:"+this.name+"}"},Type.prototype.$normalize=function(val){return this.is(val)?val:this.decode(val)},Type.prototype.$asArray=function(mode,isSearch){function ArrayType(type,mode){function bindTo(type,callbackName){return function(){return type[callbackName].apply(type,arguments)}}function arrayWrap(val){return isArray(val)?val:isDefined(val)?[val]:[]}function arrayUnwrap(val){switch(val.length){case 0:return undefined;case 1:return"auto"===mode?val[0]:val;default:return val}}function falsey(val){return!val}function arrayHandler(callback,allTruthyMode){return function(val){if(isArray(val)&&0===val.length)return val;val=arrayWrap(val);var result=map(val,callback);return allTruthyMode===!0?0===filter(result,falsey).length:arrayUnwrap(result)}}function arrayEqualsHandler(callback){return function(val1,val2){var left=arrayWrap(val1),right=arrayWrap(val2);if(left.length!==right.length)return!1;for(var i=0;i<left.length;i++)if(!callback(left[i],right[i]))return!1;return!0}}this.encode=arrayHandler(bindTo(type,"encode")),this.decode=arrayHandler(bindTo(type,"decode")),this.is=arrayHandler(bindTo(type,"is"),!0),this.equals=arrayEqualsHandler(bindTo(type,"equals")),this.pattern=type.pattern,this.$normalize=arrayHandler(bindTo(type,"$normalize")),this.name=type.name,this.$arrayMode=mode}if(!mode)return this;if("auto"===mode&&!isSearch)throw new Error("'auto' array mode is for query parameters only");return new ArrayType(this,mode)},angular.module("ui.router.util").provider("$urlMatcherFactory",$UrlMatcherFactory),angular.module("ui.router.util").run(["$urlMatcherFactory",function($urlMatcherFactory){}]),$UrlRouterProvider.$inject=["$locationProvider","$urlMatcherFactoryProvider"],angular.module("ui.router.router").provider("$urlRouter",$UrlRouterProvider),$StateProvider.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],angular.module("ui.router.state").factory("$stateParams",function(){return{}}).constant("$state.runtime",{autoinject:!0}).provider("$state",$StateProvider).run(["$injector",function($injector){$injector.get("$state.runtime").autoinject&&$injector.get("$state")}]),$ViewProvider.$inject=[],angular.module("ui.router.state").provider("$view",$ViewProvider),angular.module("ui.router.state").provider("$uiViewScroll",$ViewScrollProvider),$ViewDirective.$inject=["$state","$injector","$uiViewScroll","$interpolate","$q"],$ViewDirectiveFill.$inject=["$compile","$controller","$state","$interpolate"],angular.module("ui.router.state").directive("uiView",$ViewDirective),angular.module("ui.router.state").directive("uiView",$ViewDirectiveFill),$StateRefDirective.$inject=["$state","$timeout"],$StateRefDynamicDirective.$inject=["$state","$timeout"],$StateRefActiveDirective.$inject=["$state","$stateParams","$interpolate"],angular.module("ui.router.state").directive("uiSref",$StateRefDirective).directive("uiSrefActive",$StateRefActiveDirective).directive("uiSrefActiveEq",$StateRefActiveDirective).directive("uiState",$StateRefDynamicDirective),$IsStateFilter.$inject=["$state"],$IncludedByStateFilter.$inject=["$state"],angular.module("ui.router.state").filter("isState",$IsStateFilter).filter("includedByState",$IncludedByStateFilter)}(window,window.angular),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.transition","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-popup.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/tooltip/tooltip-template-popup.html","template/popover/popover-template.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("collapse",["$animate",function($animate){return{link:function(scope,element,attrs){function expand(){element.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),$animate.addClass(element,"in",{to:{height:element[0].scrollHeight+"px"}}).then(expandDone)}function expandDone(){element.removeClass("collapsing"),element.css({height:"auto"})}function collapse(){return element.hasClass("collapse")||element.hasClass("in")?(element.css({height:element[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),void $animate.removeClass(element,"in",{to:{height:"0"}}).then(collapseDone)):collapseDone()}function collapseDone(){element.css({height:"0"}),element.removeClass("collapsing"),element.addClass("collapse")}scope.$watch(attrs.collapse,function(shouldCollapse){shouldCollapse?collapse():expand()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function($scope,$attrs,accordionConfig){this.groups=[],this.closeOthers=function(openGroup){var closeOthers=angular.isDefined($attrs.closeOthers)?$scope.$eval($attrs.closeOthers):accordionConfig.closeOthers;closeOthers&&angular.forEach(this.groups,function(group){group!==openGroup&&(group.isOpen=!1)})},this.addGroup=function(groupScope){var that=this;this.groups.push(groupScope),groupScope.$on("$destroy",function(event){that.removeGroup(groupScope)})},this.removeGroup=function(group){var index=this.groups.indexOf(group);index!==-1&&this.groups.splice(index,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(element){this.heading=element}},link:function(scope,element,attrs,accordionCtrl){accordionCtrl.addGroup(scope),scope.$watch("isOpen",function(value){value&&accordionCtrl.closeOthers(scope)}),scope.toggleOpen=function(){scope.isDisabled||(scope.isOpen=!scope.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(scope,element,attr,accordionGroupCtrl,transclude){accordionGroupCtrl.setHeading(transclude(scope,angular.noop))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(scope,element,attr,controller){scope.$watch(function(){return controller[attr.accordionTransclude]},function(heading){heading&&(element.html(""),element.append(heading))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function($scope,$attrs){$scope.closeable=!!$attrs.close,this.close=$scope.close}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function($timeout){return{require:"alert",link:function(scope,element,attrs,alertCtrl){$timeout(function(){alertCtrl.close()},parseInt(attrs.dismissOnTimeout,10))}}}]),angular.module("ui.bootstrap.bindHtml",[]).value("$bindHtmlUnsafeSuppressDeprecated",!1).directive("bindHtmlUnsafe",["$log","$bindHtmlUnsafeSuppressDeprecated",function($log,$bindHtmlUnsafeSuppressDeprecated){return function(scope,element,attr){$bindHtmlUnsafeSuppressDeprecated||$log.warn("bindHtmlUnsafe is now deprecated. Use ngBindHtml instead"),element.addClass("ng-binding").data("$binding",attr.bindHtmlUnsafe),scope.$watch(attr.bindHtmlUnsafe,function(value){element.html(value||"")})}}]),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(buttonConfig){this.activeClass=buttonConfig.activeClass||"active",this.toggleEvent=buttonConfig.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",
link:function(scope,element,attrs,ctrls){var buttonsCtrl=ctrls[0],ngModelCtrl=ctrls[1];ngModelCtrl.$render=function(){element.toggleClass(buttonsCtrl.activeClass,angular.equals(ngModelCtrl.$modelValue,scope.$eval(attrs.btnRadio)))},element.bind(buttonsCtrl.toggleEvent,function(){var isActive=element.hasClass(buttonsCtrl.activeClass);isActive&&!angular.isDefined(attrs.uncheckable)||scope.$apply(function(){ngModelCtrl.$setViewValue(isActive?null:scope.$eval(attrs.btnRadio)),ngModelCtrl.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(scope,element,attrs,ctrls){function getTrueValue(){return getCheckboxValue(attrs.btnCheckboxTrue,!0)}function getFalseValue(){return getCheckboxValue(attrs.btnCheckboxFalse,!1)}function getCheckboxValue(attributeValue,defaultValue){var val=scope.$eval(attributeValue);return angular.isDefined(val)?val:defaultValue}var buttonsCtrl=ctrls[0],ngModelCtrl=ctrls[1];ngModelCtrl.$render=function(){element.toggleClass(buttonsCtrl.activeClass,angular.equals(ngModelCtrl.$modelValue,getTrueValue()))},element.bind(buttonsCtrl.toggleEvent,function(){scope.$apply(function(){ngModelCtrl.$setViewValue(element.hasClass(buttonsCtrl.activeClass)?getFalseValue():getTrueValue()),ngModelCtrl.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("CarouselController",["$scope","$element","$interval","$animate",function($scope,$element,$interval,$animate){function goNext(slide,index,direction){destroyed||(angular.extend(slide,{direction:direction,active:!0}),angular.extend(self.currentSlide||{},{direction:direction,active:!1}),$animate.enabled()&&!$scope.noTransition&&!$scope.$currentTransition&&slide.$element&&(slide.$element.data(SLIDE_DIRECTION,slide.direction),$scope.$currentTransition=!0,slide.$element.one("$animate:close",function(){$scope.$currentTransition=null})),self.currentSlide=slide,currentIndex=index,restartTimer())}function getSlideByIndex(index){if(angular.isUndefined(slides[index].index))return slides[index];var i;slides.length;for(i=0;i<slides.length;++i)if(slides[i].index==index)return slides[i]}function restartTimer(){resetTimer();var interval=+$scope.interval;!isNaN(interval)&&interval>0&&(currentInterval=$interval(timerFn,interval))}function resetTimer(){currentInterval&&($interval.cancel(currentInterval),currentInterval=null)}function timerFn(){var interval=+$scope.interval;isPlaying&&!isNaN(interval)&&interval>0&&slides.length?$scope.next():$scope.pause()}var currentInterval,isPlaying,self=this,slides=self.slides=$scope.slides=[],NO_TRANSITION="uib-noTransition",SLIDE_DIRECTION="uib-slideDirection",currentIndex=-1;self.currentSlide=null;var destroyed=!1;self.select=$scope.select=function(nextSlide,direction){var nextIndex=self.indexOfSlide(nextSlide);void 0===direction&&(direction=nextIndex>self.getCurrentIndex()?"next":"prev"),nextSlide&&nextSlide!==self.currentSlide&&!$scope.$currentTransition&&goNext(nextSlide,nextIndex,direction)},$scope.$on("$destroy",function(){destroyed=!0}),self.getCurrentIndex=function(){return self.currentSlide&&angular.isDefined(self.currentSlide.index)?+self.currentSlide.index:currentIndex},self.indexOfSlide=function(slide){return angular.isDefined(slide.index)?+slide.index:slides.indexOf(slide)},$scope.next=function(){var newIndex=(self.getCurrentIndex()+1)%slides.length;return 0===newIndex&&$scope.noWrap()?void $scope.pause():self.select(getSlideByIndex(newIndex),"next")},$scope.prev=function(){var newIndex=self.getCurrentIndex()-1<0?slides.length-1:self.getCurrentIndex()-1;return $scope.noWrap()&&newIndex===slides.length-1?void $scope.pause():self.select(getSlideByIndex(newIndex),"prev")},$scope.isActive=function(slide){return self.currentSlide===slide},$scope.$watch("interval",restartTimer),$scope.$on("$destroy",resetTimer),$scope.play=function(){isPlaying||(isPlaying=!0,restartTimer())},$scope.pause=function(){$scope.noPause||(isPlaying=!1,resetTimer())},self.addSlide=function(slide,element){slide.$element=element,slides.push(slide),1===slides.length||slide.active?(self.select(slides[slides.length-1]),1==slides.length&&$scope.play()):slide.active=!1},self.removeSlide=function(slide){angular.isDefined(slide.index)&&slides.sort(function(a,b){return+a.index>+b.index});var index=slides.indexOf(slide);slides.splice(index,1),slides.length>0&&slide.active?index>=slides.length?self.select(slides[index-1]):self.select(slides[index]):currentIndex>index&&currentIndex--},$scope.$watch("noTransition",function(noTransition){$element.data(NO_TRANSITION,noTransition)})}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?",index:"=?"},link:function(scope,element,attrs,carouselCtrl){carouselCtrl.addSlide(scope,element),scope.$on("$destroy",function(){carouselCtrl.removeSlide(scope)}),scope.$watch("active",function(active){active&&carouselCtrl.select(scope)})}}}).animation(".item",["$animate",function($animate){var NO_TRANSITION="uib-noTransition",SLIDE_DIRECTION="uib-slideDirection";return{beforeAddClass:function(element,className,done){if("active"==className&&element.parent()&&!element.parent().data(NO_TRANSITION)){var stopped=!1,direction=element.data(SLIDE_DIRECTION),directionClass="next"==direction?"left":"right";return element.addClass(direction),$animate.addClass(element,directionClass).then(function(){stopped||element.removeClass(directionClass+" "+direction),done()}),function(){stopped=!0}}done()},beforeRemoveClass:function(element,className,done){if("active"==className&&element.parent()&&!element.parent().data(NO_TRANSITION)){var stopped=!1,direction=element.data(SLIDE_DIRECTION),directionClass="next"==direction?"left":"right";return $animate.addClass(element,directionClass).then(function(){stopped||element.removeClass(directionClass),done()}),function(){stopped=!0}}done()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function($locale,orderByFilter){function createParser(format){var map=[],regex=format.split("");return angular.forEach(formatCodeToRegex,function(data,code){var index=format.indexOf(code);if(index>-1){format=format.split(""),regex[index]="("+data.regex+")",format[index]="$";for(var i=index+1,n=index+code.length;i<n;i++)regex[i]="",format[i]="$";format=format.join(""),map.push({index:index,apply:data.apply})}}),{regex:new RegExp("^"+regex.join("")+"$"),map:orderByFilter(map,"index")}}function isValid(year,month,date){return!(date<1)&&(1===month&&date>28?29===date&&(year%4===0&&year%100!==0||year%400===0):3!==month&&5!==month&&8!==month&&10!==month||date<31)}var SPECIAL_CHARACTERS_REGEXP=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.parsers={};var formatCodeToRegex={yyyy:{regex:"\\d{4}",apply:function(value){this.year=+value}},yy:{regex:"\\d{2}",apply:function(value){this.year=+value+2e3}},y:{regex:"\\d{1,4}",apply:function(value){this.year=+value}},MMMM:{regex:$locale.DATETIME_FORMATS.MONTH.join("|"),apply:function(value){this.month=$locale.DATETIME_FORMATS.MONTH.indexOf(value)}},MMM:{regex:$locale.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(value){this.month=$locale.DATETIME_FORMATS.SHORTMONTH.indexOf(value)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(value){this.month=value-1}},M:{regex:"[1-9]|1[0-2]",apply:function(value){this.month=value-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(value){this.date=+value}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(value){this.date=+value}},EEEE:{regex:$locale.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:$locale.DATETIME_FORMATS.SHORTDAY.join("|")},HH:{regex:"(?:0|1)[0-9]|2[0-3]",apply:function(value){this.hours=+value}},H:{regex:"1?[0-9]|2[0-3]",apply:function(value){this.hours=+value}},mm:{regex:"[0-5][0-9]",apply:function(value){this.minutes=+value}},m:{regex:"[0-9]|[1-5][0-9]",apply:function(value){this.minutes=+value}},sss:{regex:"[0-9][0-9][0-9]",apply:function(value){this.milliseconds=+value}},ss:{regex:"[0-5][0-9]",apply:function(value){this.seconds=+value}},s:{regex:"[0-9]|[1-5][0-9]",apply:function(value){this.seconds=+value}}};this.parse=function(input,format,baseDate){if(!angular.isString(input)||!format)return input;format=$locale.DATETIME_FORMATS[format]||format,format=format.replace(SPECIAL_CHARACTERS_REGEXP,"\\$&"),this.parsers[format]||(this.parsers[format]=createParser(format));var parser=this.parsers[format],regex=parser.regex,map=parser.map,results=input.match(regex);if(results&&results.length){var fields,dt;fields=baseDate?{year:baseDate.getFullYear(),month:baseDate.getMonth(),date:baseDate.getDate(),hours:baseDate.getHours(),minutes:baseDate.getMinutes(),seconds:baseDate.getSeconds(),milliseconds:baseDate.getMilliseconds()}:{year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0};for(var i=1,n=results.length;i<n;i++){var mapper=map[i-1];mapper.apply&&mapper.apply.call(fields,results[i])}return isValid(fields.year,fields.month,fields.date)&&(dt=new Date(fields.year,fields.month,fields.date,fields.hours,fields.minutes,fields.seconds,fields.milliseconds||0)),dt}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function($document,$window){function getStyle(el,cssprop){return el.currentStyle?el.currentStyle[cssprop]:$window.getComputedStyle?$window.getComputedStyle(el)[cssprop]:el.style[cssprop]}function isStaticPositioned(element){return"static"===(getStyle(element,"position")||"static")}var parentOffsetEl=function(element){for(var docDomEl=$document[0],offsetParent=element.offsetParent||docDomEl;offsetParent&&offsetParent!==docDomEl&&isStaticPositioned(offsetParent);)offsetParent=offsetParent.offsetParent;return offsetParent||docDomEl};return{position:function(element){var elBCR=this.offset(element),offsetParentBCR={top:0,left:0},offsetParentEl=parentOffsetEl(element[0]);offsetParentEl!=$document[0]&&(offsetParentBCR=this.offset(angular.element(offsetParentEl)),offsetParentBCR.top+=offsetParentEl.clientTop-offsetParentEl.scrollTop,offsetParentBCR.left+=offsetParentEl.clientLeft-offsetParentEl.scrollLeft);var boundingClientRect=element[0].getBoundingClientRect();return{width:boundingClientRect.width||element.prop("offsetWidth"),height:boundingClientRect.height||element.prop("offsetHeight"),top:elBCR.top-offsetParentBCR.top,left:elBCR.left-offsetParentBCR.left}},offset:function(element){var boundingClientRect=element[0].getBoundingClientRect();return{width:boundingClientRect.width||element.prop("offsetWidth"),height:boundingClientRect.height||element.prop("offsetHeight"),top:boundingClientRect.top+($window.pageYOffset||$document[0].documentElement.scrollTop),left:boundingClientRect.left+($window.pageXOffset||$document[0].documentElement.scrollLeft)}},positionElements:function(hostEl,targetEl,positionStr,appendToBody){var hostElPos,targetElWidth,targetElHeight,targetElPos,positionStrParts=positionStr.split("-"),pos0=positionStrParts[0],pos1=positionStrParts[1]||"center";hostElPos=appendToBody?this.offset(hostEl):this.position(hostEl),targetElWidth=targetEl.prop("offsetWidth"),targetElHeight=targetEl.prop("offsetHeight");var shiftWidth={center:function(){return hostElPos.left+hostElPos.width/2-targetElWidth/2},left:function(){return hostElPos.left},right:function(){return hostElPos.left+hostElPos.width}},shiftHeight={center:function(){return hostElPos.top+hostElPos.height/2-targetElHeight/2},top:function(){return hostElPos.top},bottom:function(){return hostElPos.top+hostElPos.height}};switch(pos0){case"right":targetElPos={top:shiftHeight[pos1](),left:shiftWidth[pos0]()};break;case"left":targetElPos={top:shiftHeight[pos1](),left:hostElPos.left-targetElWidth};break;case"bottom":targetElPos={top:shiftHeight[pos0](),left:shiftWidth[pos1]()};break;default:targetElPos={top:hostElPos.top-targetElHeight,left:shiftWidth[pos1]()}}return targetElPos}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null,shortcutPropagation:!1}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$log","dateFilter","datepickerConfig",function($scope,$attrs,$parse,$interpolate,$log,dateFilter,datepickerConfig){var self=this,ngModelCtrl={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange","shortcutPropagation"],function(key,index){self[key]=angular.isDefined($attrs[key])?index<8?$interpolate($attrs[key])($scope.$parent):$scope.$parent.$eval($attrs[key]):datepickerConfig[key]}),angular.forEach(["minDate","maxDate"],function(key){$attrs[key]?$scope.$parent.$watch($parse($attrs[key]),function(value){self[key]=value?new Date(value):null,self.refreshView()}):self[key]=datepickerConfig[key]?new Date(datepickerConfig[key]):null}),$scope.datepickerMode=$scope.datepickerMode||datepickerConfig.datepickerMode,$scope.maxMode=self.maxMode,$scope.uniqueId="datepicker-"+$scope.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined($attrs.initDate)?(this.activeDate=$scope.$parent.$eval($attrs.initDate)||new Date,$scope.$parent.$watch($attrs.initDate,function(initDate){initDate&&(ngModelCtrl.$isEmpty(ngModelCtrl.$modelValue)||ngModelCtrl.$invalid)&&(self.activeDate=initDate,self.refreshView())})):this.activeDate=new Date,$scope.isActive=function(dateObject){return 0===self.compare(dateObject.date,self.activeDate)&&($scope.activeDateId=dateObject.uid,!0)},this.init=function(ngModelCtrl_){ngModelCtrl=ngModelCtrl_,ngModelCtrl.$render=function(){self.render()}},this.render=function(){if(ngModelCtrl.$viewValue){var date=new Date(ngModelCtrl.$viewValue),isValid=!isNaN(date);isValid?this.activeDate=date:$log.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),ngModelCtrl.$setValidity("date",isValid)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var date=ngModelCtrl.$viewValue?new Date(ngModelCtrl.$viewValue):null;ngModelCtrl.$setValidity("date-disabled",!date||this.element&&!this.isDisabled(date))}},this.createDateObject=function(date,format){var model=ngModelCtrl.$viewValue?new Date(ngModelCtrl.$viewValue):null;return{date:date,label:dateFilter(date,format),selected:model&&0===this.compare(date,model),disabled:this.isDisabled(date),current:0===this.compare(date,new Date),customClass:this.customClass(date)}},this.isDisabled=function(date){return this.minDate&&this.compare(date,this.minDate)<0||this.maxDate&&this.compare(date,this.maxDate)>0||$attrs.dateDisabled&&$scope.dateDisabled({date:date,mode:$scope.datepickerMode})},this.customClass=function(date){return $scope.customClass({date:date,mode:$scope.datepickerMode})},this.split=function(arr,size){for(var arrays=[];arr.length>0;)arrays.push(arr.splice(0,size));return arrays},this.fixTimeZone=function(date){var hours=date.getHours();date.setHours(23===hours?hours+2:0)},$scope.select=function(date){if($scope.datepickerMode===self.minMode){var dt=ngModelCtrl.$viewValue?new Date(ngModelCtrl.$viewValue):new Date(0,0,0,0,0,0,0);dt.setFullYear(date.getFullYear(),date.getMonth(),date.getDate()),ngModelCtrl.$setViewValue(dt),ngModelCtrl.$render()}else self.activeDate=date,$scope.datepickerMode=self.modes[self.modes.indexOf($scope.datepickerMode)-1]},$scope.move=function(direction){var year=self.activeDate.getFullYear()+direction*(self.step.years||0),month=self.activeDate.getMonth()+direction*(self.step.months||0);self.activeDate.setFullYear(year,month,1),self.refreshView()},$scope.toggleMode=function(direction){direction=direction||1,$scope.datepickerMode===self.maxMode&&1===direction||$scope.datepickerMode===self.minMode&&direction===-1||($scope.datepickerMode=self.modes[self.modes.indexOf($scope.datepickerMode)+direction])},$scope.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var focusElement=function(){self.element[0].focus()};$scope.$on("datepicker.focus",focusElement),$scope.keydown=function(evt){var key=$scope.keys[evt.which];if(key&&!evt.shiftKey&&!evt.altKey)if(evt.preventDefault(),self.shortcutPropagation||evt.stopPropagation(),"enter"===key||"space"===key){if(self.isDisabled(self.activeDate))return;$scope.select(self.activeDate),focusElement()}else!evt.ctrlKey||"up"!==key&&"down"!==key?(self.handleKeyDown(key,evt),self.refreshView()):($scope.toggleMode("up"===key?1:-1),focusElement())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(scope,element,attrs,ctrls){var datepickerCtrl=ctrls[0],ngModelCtrl=ctrls[1];ngModelCtrl&&datepickerCtrl.init(ngModelCtrl)}}}).directive("daypicker",["dateFilter",function(dateFilter){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(scope,element,attrs,ctrl){function getDaysInMonth(year,month){return 1!==month||year%4!==0||year%100===0&&year%400!==0?DAYS_IN_MONTH[month]:29}function getDates(startDate,n){for(var date,dates=new Array(n),current=new Date(startDate),i=0;i<n;)date=new Date(current),ctrl.fixTimeZone(date),dates[i++]=date,current.setDate(current.getDate()+1);return dates}function getISO8601WeekNumber(date){var checkDate=new Date(date);checkDate.setDate(checkDate.getDate()+4-(checkDate.getDay()||7));var time=checkDate.getTime();return checkDate.setMonth(0),checkDate.setDate(1),Math.floor(Math.round((time-checkDate)/864e5)/7)+1}scope.showWeeks=ctrl.showWeeks,ctrl.step={months:1},ctrl.element=element;var DAYS_IN_MONTH=[31,28,31,30,31,30,31,31,30,31,30,31];ctrl._refreshView=function(){var year=ctrl.activeDate.getFullYear(),month=ctrl.activeDate.getMonth(),firstDayOfMonth=new Date(year,month,1),difference=ctrl.startingDay-firstDayOfMonth.getDay(),numDisplayedFromPreviousMonth=difference>0?7-difference:-difference,firstDate=new Date(firstDayOfMonth);numDisplayedFromPreviousMonth>0&&firstDate.setDate(-numDisplayedFromPreviousMonth+1);for(var days=getDates(firstDate,42),i=0;i<42;i++)days[i]=angular.extend(ctrl.createDateObject(days[i],ctrl.formatDay),{secondary:days[i].getMonth()!==month,uid:scope.uniqueId+"-"+i});scope.labels=new Array(7);for(var j=0;j<7;j++)scope.labels[j]={abbr:dateFilter(days[j].date,ctrl.formatDayHeader),full:dateFilter(days[j].date,"EEEE")};if(scope.title=dateFilter(ctrl.activeDate,ctrl.formatDayTitle),scope.rows=ctrl.split(days,7),scope.showWeeks){scope.weekNumbers=[];for(var thursdayIndex=(11-ctrl.startingDay)%7,numWeeks=scope.rows.length,curWeek=0;curWeek<numWeeks;curWeek++)scope.weekNumbers.push(getISO8601WeekNumber(scope.rows[curWeek][thursdayIndex].date))}},ctrl.compare=function(date1,date2){return new Date(date1.getFullYear(),date1.getMonth(),date1.getDate())-new Date(date2.getFullYear(),date2.getMonth(),date2.getDate())},ctrl.handleKeyDown=function(key,evt){var date=ctrl.activeDate.getDate();if("left"===key)date-=1;else if("up"===key)date-=7;else if("right"===key)date+=1;else if("down"===key)date+=7;else if("pageup"===key||"pagedown"===key){var month=ctrl.activeDate.getMonth()+("pageup"===key?-1:1);ctrl.activeDate.setMonth(month,1),date=Math.min(getDaysInMonth(ctrl.activeDate.getFullYear(),ctrl.activeDate.getMonth()),date)}else"home"===key?date=1:"end"===key&&(date=getDaysInMonth(ctrl.activeDate.getFullYear(),ctrl.activeDate.getMonth()));ctrl.activeDate.setDate(date)},ctrl.refreshView()}}}]).directive("monthpicker",["dateFilter",function(dateFilter){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(scope,element,attrs,ctrl){ctrl.step={years:1},ctrl.element=element,ctrl._refreshView=function(){for(var date,months=new Array(12),year=ctrl.activeDate.getFullYear(),i=0;i<12;i++)date=new Date(year,i,1),ctrl.fixTimeZone(date),months[i]=angular.extend(ctrl.createDateObject(date,ctrl.formatMonth),{uid:scope.uniqueId+"-"+i});scope.title=dateFilter(ctrl.activeDate,ctrl.formatMonthTitle),scope.rows=ctrl.split(months,3)},ctrl.compare=function(date1,date2){return new Date(date1.getFullYear(),date1.getMonth())-new Date(date2.getFullYear(),date2.getMonth())},ctrl.handleKeyDown=function(key,evt){var date=ctrl.activeDate.getMonth();if("left"===key)date-=1;else if("up"===key)date-=3;else if("right"===key)date+=1;else if("down"===key)date+=3;else if("pageup"===key||"pagedown"===key){var year=ctrl.activeDate.getFullYear()+("pageup"===key?-1:1);ctrl.activeDate.setFullYear(year)}else"home"===key?date=0:"end"===key&&(date=11);ctrl.activeDate.setMonth(date)},ctrl.refreshView()}}}]).directive("yearpicker",["dateFilter",function(dateFilter){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(scope,element,attrs,ctrl){function getStartingYear(year){return parseInt((year-1)/range,10)*range+1}var range=ctrl.yearRange;ctrl.step={years:range},ctrl.element=element,ctrl._refreshView=function(){for(var date,years=new Array(range),i=0,start=getStartingYear(ctrl.activeDate.getFullYear());i<range;i++)date=new Date(start+i,0,1),ctrl.fixTimeZone(date),years[i]=angular.extend(ctrl.createDateObject(date,ctrl.formatYear),{uid:scope.uniqueId+"-"+i});scope.title=[years[0].label,years[range-1].label].join(" - "),scope.rows=ctrl.split(years,5)},ctrl.compare=function(date1,date2){return date1.getFullYear()-date2.getFullYear()},ctrl.handleKeyDown=function(key,evt){var date=ctrl.activeDate.getFullYear();"left"===key?date-=1:"up"===key?date-=5:"right"===key?date+=1:"down"===key?date+=5:"pageup"===key||"pagedown"===key?date+=("pageup"===key?-1:1)*ctrl.step.years:"home"===key?date=getStartingYear(ctrl.activeDate.getFullYear()):"end"===key&&(date=getStartingYear(ctrl.activeDate.getFullYear())+range-1),ctrl.activeDate.setFullYear(date)},ctrl.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig","$timeout",function($compile,$parse,$document,$position,dateFilter,dateParser,datepickerPopupConfig,$timeout){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(scope,element,attrs,ngModel){function cameltoDash(string){return string.replace(/([A-Z])/g,function($1){return"-"+$1.toLowerCase()})}function parseDate(viewValue){angular.isNumber(viewValue)&&(viewValue=new Date(viewValue));{if(!viewValue)return null;if(angular.isDate(viewValue)&&!isNaN(viewValue))return viewValue;if(angular.isString(viewValue)){var date=dateParser.parse(viewValue,dateFormat,scope.date)||new Date(viewValue);return isNaN(date)?void 0:date}}}function validator(modelValue,viewValue){var value=modelValue||viewValue;if(angular.isNumber(value)&&(value=new Date(value)),value){if(angular.isDate(value)&&!isNaN(value))return!0;if(angular.isString(value)){var date=dateParser.parse(value,dateFormat)||new Date(value);return!isNaN(date)}return!1}return!0}var dateFormat,closeOnDateSelection=angular.isDefined(attrs.closeOnDateSelection)?scope.$parent.$eval(attrs.closeOnDateSelection):datepickerPopupConfig.closeOnDateSelection,appendToBody=angular.isDefined(attrs.datepickerAppendToBody)?scope.$parent.$eval(attrs.datepickerAppendToBody):datepickerPopupConfig.appendToBody;scope.showButtonBar=angular.isDefined(attrs.showButtonBar)?scope.$parent.$eval(attrs.showButtonBar):datepickerPopupConfig.showButtonBar,scope.getText=function(key){return scope[key+"Text"]||datepickerPopupConfig[key+"Text"]};var isHtml5DateInput=!1;if(datepickerPopupConfig.html5Types[attrs.type]?(dateFormat=datepickerPopupConfig.html5Types[attrs.type],isHtml5DateInput=!0):(dateFormat=attrs.datepickerPopup||datepickerPopupConfig.datepickerPopup,attrs.$observe("datepickerPopup",function(value,oldValue){var newDateFormat=value||datepickerPopupConfig.datepickerPopup;if(newDateFormat!==dateFormat&&(dateFormat=newDateFormat,ngModel.$modelValue=null,!dateFormat))throw new Error("datepickerPopup must have a date format specified.")})),!dateFormat)throw new Error("datepickerPopup must have a date format specified.");if(isHtml5DateInput&&attrs.datepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");var popupEl=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");popupEl.attr({"ng-model":"date","ng-change":"dateSelection(date)"});var datepickerEl=angular.element(popupEl.children()[0]);if(isHtml5DateInput&&"month"==attrs.type&&(datepickerEl.attr("datepicker-mode",'"month"'),datepickerEl.attr("min-mode","month")),attrs.datepickerOptions){var options=scope.$parent.$eval(attrs.datepickerOptions);options.initDate&&(scope.initDate=options.initDate,datepickerEl.attr("init-date","initDate"),delete options.initDate),angular.forEach(options,function(value,option){datepickerEl.attr(cameltoDash(option),value)})}scope.watchData={},angular.forEach(["minDate","maxDate","datepickerMode","initDate","shortcutPropagation"],function(key){if(attrs[key]){var getAttribute=$parse(attrs[key]);if(scope.$parent.$watch(getAttribute,function(value){scope.watchData[key]=value}),datepickerEl.attr(cameltoDash(key),"watchData."+key),"datepickerMode"===key){var setAttribute=getAttribute.assign;scope.$watch("watchData."+key,function(value,oldvalue){angular.isFunction(setAttribute)&&value!==oldvalue&&setAttribute(scope.$parent,value)})}}}),attrs.dateDisabled&&datepickerEl.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),attrs.showWeeks&&datepickerEl.attr("show-weeks",attrs.showWeeks),attrs.customClass&&datepickerEl.attr("custom-class","customClass({ date: date, mode: mode })"),isHtml5DateInput?ngModel.$formatters.push(function(value){return scope.date=value,value}):(ngModel.$$parserName="date",ngModel.$validators.date=validator,ngModel.$parsers.unshift(parseDate),ngModel.$formatters.push(function(value){return scope.date=value,ngModel.$isEmpty(value)?value:dateFilter(value,dateFormat)})),scope.dateSelection=function(dt){angular.isDefined(dt)&&(scope.date=dt);var date=scope.date?dateFilter(scope.date,dateFormat):"";element.val(date),ngModel.$setViewValue(date),closeOnDateSelection&&(scope.isOpen=!1,element[0].focus())},ngModel.$viewChangeListeners.push(function(){scope.date=dateParser.parse(ngModel.$viewValue,dateFormat,scope.date)||new Date(ngModel.$viewValue)});var documentClickBind=function(event){scope.isOpen&&event.target!==element[0]&&scope.$apply(function(){scope.isOpen=!1})},inputKeydownBind=function(evt){27===evt.which&&scope.isOpen?(evt.preventDefault(),evt.stopPropagation(),scope.$apply(function(){scope.isOpen=!1}),element[0].focus()):40!==evt.which||scope.isOpen||(evt.preventDefault(),evt.stopPropagation(),scope.$apply(function(){scope.isOpen=!0}))};element.bind("keydown",inputKeydownBind),scope.keydown=function(evt){27===evt.which&&(scope.isOpen=!1,element[0].focus())},scope.$watch("isOpen",function(value){value?(scope.position=appendToBody?$position.offset(element):$position.position(element),scope.position.top=scope.position.top+element.prop("offsetHeight"),$document.bind("click",documentClickBind),$timeout(function(){scope.$broadcast("datepicker.focus")},0,!1)):$document.unbind("click",documentClickBind)}),scope.select=function(date){if("today"===date){var today=new Date;angular.isDate(scope.date)?(date=new Date(scope.date),date.setFullYear(today.getFullYear(),today.getMonth(),today.getDate())):date=new Date(today.setHours(0,0,0,0))}scope.dateSelection(date)},scope.close=function(){scope.isOpen=!1,element[0].focus()};var $popup=$compile(popupEl)(scope);popupEl.remove(),appendToBody?$document.find("body").append($popup):element.after($popup),scope.$on("$destroy",function(){scope.isOpen===!0&&scope.$apply(function(){scope.isOpen=!1}),$popup.remove(),element.unbind("keydown",inputKeydownBind),$document.unbind("click",documentClickBind)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html"}}),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document","$rootScope",function($document,$rootScope){var openScope=null;this.open=function(dropdownScope){openScope||($document.bind("click",closeDropdown),$document.bind("keydown",keybindFilter)),openScope&&openScope!==dropdownScope&&(openScope.isOpen=!1),openScope=dropdownScope},this.close=function(dropdownScope){openScope===dropdownScope&&(openScope=null,$document.unbind("click",closeDropdown),$document.unbind("keydown",keybindFilter))};var closeDropdown=function(evt){if(openScope&&(!evt||"disabled"!==openScope.getAutoClose())){var toggleElement=openScope.getToggleElement();if(!(evt&&toggleElement&&toggleElement[0].contains(evt.target))){var dropdownElement=openScope.getDropdownElement();evt&&"outsideClick"===openScope.getAutoClose()&&dropdownElement&&dropdownElement[0].contains(evt.target)||(openScope.isOpen=!1,$rootScope.$$phase||openScope.$apply())}}},keybindFilter=function(evt){27===evt.which?(openScope.focusToggleElement(),closeDropdown()):openScope.isKeynavEnabled()&&/(38|40)/.test(evt.which)&&openScope.isOpen&&(evt.preventDefault(),evt.stopPropagation(),openScope.focusDropdownEntry(evt.which))}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate","$position","$document","$compile","$templateRequest",function($scope,$attrs,$parse,dropdownConfig,dropdownService,$animate,$position,$document,$compile,$templateRequest){var templateScope,getIsOpen,self=this,scope=$scope.$new(),openClass=dropdownConfig.openClass,setIsOpen=angular.noop,toggleInvoker=$attrs.onToggle?$parse($attrs.onToggle):angular.noop,appendToBody=!1,keynavEnabled=!1;this.init=function(element){self.$element=element,$attrs.isOpen&&(getIsOpen=$parse($attrs.isOpen),setIsOpen=getIsOpen.assign,$scope.$watch(getIsOpen,function(value){scope.isOpen=!!value})),appendToBody=angular.isDefined($attrs.dropdownAppendToBody),keynavEnabled=angular.isDefined($attrs.keyboardNav),appendToBody&&self.dropdownMenu&&($document.find("body").append(self.dropdownMenu),element.on("$destroy",function(){self.dropdownMenu.remove()}))},this.toggle=function(open){return scope.isOpen=arguments.length?!!open:!scope.isOpen},this.isOpen=function(){return scope.isOpen},scope.getToggleElement=function(){return self.toggleElement},scope.getAutoClose=function(){return $attrs.autoClose||"always"},scope.getElement=function(){return self.$element},scope.isKeynavEnabled=function(){return keynavEnabled},scope.focusDropdownEntry=function(keyCode){var elems=self.dropdownMenu?angular.element(self.dropdownMenu).find("a"):angular.element(self.$element).find("ul").eq(0).find("a");switch(keyCode){case 40:angular.isNumber(self.selectedOption)?self.selectedOption=self.selectedOption===elems.length-1?self.selectedOption:self.selectedOption+1:self.selectedOption=0;break;case 38:
if(!angular.isNumber(self.selectedOption))return;self.selectedOption=0===self.selectedOption?0:self.selectedOption-1}elems[self.selectedOption].focus()},scope.getDropdownElement=function(){return self.dropdownMenu},scope.focusToggleElement=function(){self.toggleElement&&self.toggleElement[0].focus()},scope.$watch("isOpen",function(isOpen,wasOpen){if(appendToBody&&self.dropdownMenu){var pos=$position.positionElements(self.$element,self.dropdownMenu,"bottom-left",!0),css={top:pos.top+"px",display:isOpen?"block":"none"},rightalign=self.dropdownMenu.hasClass("dropdown-menu-right");rightalign?(css.left="auto",css.right=window.innerWidth-(pos.left+self.$element.prop("offsetWidth"))+"px"):(css.left=pos.left+"px",css.right="auto"),self.dropdownMenu.css(css)}if($animate[isOpen?"addClass":"removeClass"](self.$element,openClass).then(function(){angular.isDefined(isOpen)&&isOpen!==wasOpen&&toggleInvoker($scope,{open:!!isOpen})}),isOpen)self.dropdownMenuTemplateUrl&&$templateRequest(self.dropdownMenuTemplateUrl).then(function(tplContent){templateScope=scope.$new(),$compile(tplContent.trim())(templateScope,function(dropdownElement){var newEl=dropdownElement;self.dropdownMenu.replaceWith(newEl),self.dropdownMenu=newEl})}),scope.focusToggleElement(),dropdownService.open(scope);else{if(self.dropdownMenuTemplateUrl){templateScope&&templateScope.$destroy();var newEl=angular.element('<ul class="dropdown-menu"></ul>');self.dropdownMenu.replaceWith(newEl),self.dropdownMenu=newEl}dropdownService.close(scope),self.selectedOption=null}setIsOpen($scope,isOpen)}),$scope.$on("$locationChangeSuccess",function(){"disabled"!==scope.getAutoClose()&&(scope.isOpen=!1)}),$scope.$on("$destroy",function(){scope.$destroy()})}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(scope,element,attrs,dropdownCtrl){dropdownCtrl.init(element),element.addClass("dropdown")}}}).directive("dropdownMenu",function(){return{restrict:"AC",require:"?^dropdown",link:function(scope,element,attrs,dropdownCtrl){if(dropdownCtrl){var tplUrl=attrs.templateUrl;tplUrl&&(dropdownCtrl.dropdownMenuTemplateUrl=tplUrl),dropdownCtrl.dropdownMenu||(dropdownCtrl.dropdownMenu=element)}}}}).directive("keyboardNav",function(){return{restrict:"A",require:"?^dropdown",link:function(scope,element,attrs,dropdownCtrl){element.bind("keydown",function(e){if([38,40].indexOf(e.which)!==-1){e.preventDefault(),e.stopPropagation();var elems=angular.element(element).find("a");switch(e.keyCode){case 40:angular.isNumber(dropdownCtrl.selectedOption)?dropdownCtrl.selectedOption=dropdownCtrl.selectedOption===elems.length-1?dropdownCtrl.selectedOption:dropdownCtrl.selectedOption+1:dropdownCtrl.selectedOption=0;break;case 38:dropdownCtrl.selectedOption=0===dropdownCtrl.selectedOption?0:dropdownCtrl.selectedOption-1}elems[dropdownCtrl.selectedOption].focus()}})}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(scope,element,attrs,dropdownCtrl){if(dropdownCtrl){element.addClass("dropdown-toggle"),dropdownCtrl.toggleElement=element;var toggleDropdown=function(event){event.preventDefault(),element.hasClass("disabled")||attrs.disabled||scope.$apply(function(){dropdownCtrl.toggle()})};element.bind("click",toggleDropdown),element.attr({"aria-haspopup":!0,"aria-expanded":!1}),scope.$watch(dropdownCtrl.isOpen,function(isOpen){element.attr("aria-expanded",!!isOpen)}),scope.$on("$destroy",function(){element.unbind("click",toggleDropdown)})}}}}),angular.module("ui.bootstrap.modal",[]).factory("$$stackedMap",function(){return{createNew:function(){var stack=[];return{add:function(key,value){stack.push({key:key,value:value})},get:function(key){for(var i=0;i<stack.length;i++)if(key==stack[i].key)return stack[i]},keys:function(){for(var keys=[],i=0;i<stack.length;i++)keys.push(stack[i].key);return keys},top:function(){return stack[stack.length-1]},remove:function(key){for(var idx=-1,i=0;i<stack.length;i++)if(key==stack[i].key){idx=i;break}return stack.splice(idx,1)[0]},removeTop:function(){return stack.splice(stack.length-1,1)[0]},length:function(){return stack.length}}}}}).directive("modalBackdrop",["$animate","$modalStack",function($animate,$modalStack){function linkFn(scope,element,attrs){attrs.modalInClass&&($animate.addClass(element,attrs.modalInClass),scope.$on($modalStack.NOW_CLOSING_EVENT,function(e,setIsAsync){var done=setIsAsync();$animate.removeClass(element,attrs.modalInClass).then(done)}))}return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(tElement,tAttrs){return tElement.addClass(tAttrs.backdropClass),linkFn}}}]).directive("modalWindow",["$modalStack","$q","$animate",function($modalStack,$q,$animate){return{restrict:"EA",scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(tElement,tAttrs){return tAttrs.templateUrl||"template/modal/window.html"},link:function(scope,element,attrs){element.addClass(attrs.windowClass||""),scope.size=attrs.size,scope.close=function(evt){var modal=$modalStack.getTop();modal&&modal.value.backdrop&&"static"!=modal.value.backdrop&&evt.target===evt.currentTarget&&(evt.preventDefault(),evt.stopPropagation(),$modalStack.dismiss(modal.key,"backdrop click"))},scope.$isRendered=!0;var modalRenderDeferObj=$q.defer();attrs.$observe("modalRender",function(value){"true"==value&&modalRenderDeferObj.resolve()}),modalRenderDeferObj.promise.then(function(){attrs.modalInClass&&($animate.addClass(element,attrs.modalInClass),scope.$on($modalStack.NOW_CLOSING_EVENT,function(e,setIsAsync){var done=setIsAsync();$animate.removeClass(element,attrs.modalInClass).then(done)}));var inputsWithAutofocus=element[0].querySelectorAll("[autofocus]");inputsWithAutofocus.length?inputsWithAutofocus[0].focus():element[0].focus();var modal=$modalStack.getTop();modal&&$modalStack.modalRendered(modal.key)})}}}]).directive("modalAnimationClass",[function(){return{compile:function(tElement,tAttrs){tAttrs.modalAnimation&&tElement.addClass(tAttrs.modalAnimationClass)}}}]).directive("modalTransclude",function(){return{link:function($scope,$element,$attrs,controller,$transclude){$transclude($scope.$parent,function(clone){$element.empty(),$element.append(clone)})}}}).factory("$modalStack",["$animate","$timeout","$document","$compile","$rootScope","$q","$$stackedMap",function($animate,$timeout,$document,$compile,$rootScope,$q,$$stackedMap){function backdropIndex(){for(var topBackdropIndex=-1,opened=openedWindows.keys(),i=0;i<opened.length;i++)openedWindows.get(opened[i]).value.backdrop&&(topBackdropIndex=i);return topBackdropIndex}function removeModalWindow(modalInstance,elementToReceiveFocus){var body=$document.find("body").eq(0),modalWindow=openedWindows.get(modalInstance).value;openedWindows.remove(modalInstance),removeAfterAnimate(modalWindow.modalDomEl,modalWindow.modalScope,function(){body.toggleClass(OPENED_MODAL_CLASS,openedWindows.length()>0),checkRemoveBackdrop()}),elementToReceiveFocus&&elementToReceiveFocus.focus?elementToReceiveFocus.focus():body.focus()}function checkRemoveBackdrop(){if(backdropDomEl&&backdropIndex()==-1){var backdropScopeRef=backdropScope;removeAfterAnimate(backdropDomEl,backdropScope,function(){backdropScopeRef=null}),backdropDomEl=void 0,backdropScope=void 0}}function removeAfterAnimate(domEl,scope,done){function afterAnimating(){afterAnimating.done||(afterAnimating.done=!0,domEl.remove(),scope.$destroy(),done&&done())}var asyncDeferred,asyncPromise=null,setIsAsync=function(){return asyncDeferred||(asyncDeferred=$q.defer(),asyncPromise=asyncDeferred.promise),function(){asyncDeferred.resolve()}};return scope.$broadcast($modalStack.NOW_CLOSING_EVENT,setIsAsync),$q.when(asyncPromise).then(afterAnimating)}function broadcastClosing(modalWindow,resultOrReason,closing){return!modalWindow.value.modalScope.$broadcast("modal.closing",resultOrReason,closing).defaultPrevented}var backdropDomEl,backdropScope,OPENED_MODAL_CLASS="modal-open",openedWindows=$$stackedMap.createNew(),$modalStack={NOW_CLOSING_EVENT:"modal.stack.now-closing"};return $rootScope.$watch(backdropIndex,function(newBackdropIndex){backdropScope&&(backdropScope.index=newBackdropIndex)}),$document.bind("keydown",function(evt){var modal;27===evt.which&&(modal=openedWindows.top(),modal&&modal.value.keyboard&&(evt.preventDefault(),$rootScope.$apply(function(){$modalStack.dismiss(modal.key,"escape key press")})))}),$modalStack.open=function(modalInstance,modal){var modalOpener=$document[0].activeElement;openedWindows.add(modalInstance,{deferred:modal.deferred,renderDeferred:modal.renderDeferred,modalScope:modal.scope,backdrop:modal.backdrop,keyboard:modal.keyboard});var body=$document.find("body").eq(0),currBackdropIndex=backdropIndex();if(currBackdropIndex>=0&&!backdropDomEl){backdropScope=$rootScope.$new(!0),backdropScope.index=currBackdropIndex;var angularBackgroundDomEl=angular.element('<div modal-backdrop="modal-backdrop"></div>');angularBackgroundDomEl.attr("backdrop-class",modal.backdropClass),modal.animation&&angularBackgroundDomEl.attr("modal-animation","true"),backdropDomEl=$compile(angularBackgroundDomEl)(backdropScope),body.append(backdropDomEl)}var angularDomEl=angular.element('<div modal-window="modal-window"></div>');angularDomEl.attr({"template-url":modal.windowTemplateUrl,"window-class":modal.windowClass,size:modal.size,index:openedWindows.length()-1,animate:"animate"}).html(modal.content),modal.animation&&angularDomEl.attr("modal-animation","true");var modalDomEl=$compile(angularDomEl)(modal.scope);openedWindows.top().value.modalDomEl=modalDomEl,openedWindows.top().value.modalOpener=modalOpener,body.append(modalDomEl),body.addClass(OPENED_MODAL_CLASS)},$modalStack.close=function(modalInstance,result){var modalWindow=openedWindows.get(modalInstance);return modalWindow&&broadcastClosing(modalWindow,result,!0)?(modalWindow.value.deferred.resolve(result),removeModalWindow(modalInstance,modalWindow.value.modalOpener),!0):!modalWindow},$modalStack.dismiss=function(modalInstance,reason){var modalWindow=openedWindows.get(modalInstance);return modalWindow&&broadcastClosing(modalWindow,reason,!1)?(modalWindow.value.deferred.reject(reason),removeModalWindow(modalInstance,modalWindow.value.modalOpener),!0):!modalWindow},$modalStack.dismissAll=function(reason){for(var topModal=this.getTop();topModal&&this.dismiss(topModal.key,reason);)topModal=this.getTop()},$modalStack.getTop=function(){return openedWindows.top()},$modalStack.modalRendered=function(modalInstance){var modalWindow=openedWindows.get(modalInstance);modalWindow&&modalWindow.value.renderDeferred.resolve()},$modalStack}]).provider("$modal",function(){var $modalProvider={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$templateRequest","$controller","$modalStack",function($injector,$rootScope,$q,$templateRequest,$controller,$modalStack){function getTemplatePromise(options){return options.template?$q.when(options.template):$templateRequest(angular.isFunction(options.templateUrl)?options.templateUrl():options.templateUrl)}function getResolvePromises(resolves){var promisesArr=[];return angular.forEach(resolves,function(value){(angular.isFunction(value)||angular.isArray(value))&&promisesArr.push($q.when($injector.invoke(value)))}),promisesArr}var $modal={};return $modal.open=function(modalOptions){var modalResultDeferred=$q.defer(),modalOpenedDeferred=$q.defer(),modalRenderDeferred=$q.defer(),modalInstance={result:modalResultDeferred.promise,opened:modalOpenedDeferred.promise,rendered:modalRenderDeferred.promise,close:function(result){return $modalStack.close(modalInstance,result)},dismiss:function(reason){return $modalStack.dismiss(modalInstance,reason)}};if(modalOptions=angular.extend({},$modalProvider.options,modalOptions),modalOptions.resolve=modalOptions.resolve||{},!modalOptions.template&&!modalOptions.templateUrl)throw new Error("One of template or templateUrl options is required.");var templateAndResolvePromise=$q.all([getTemplatePromise(modalOptions)].concat(getResolvePromises(modalOptions.resolve)));return templateAndResolvePromise.then(function(tplAndVars){var modalScope=(modalOptions.scope||$rootScope).$new();modalScope.$close=modalInstance.close,modalScope.$dismiss=modalInstance.dismiss;var ctrlInstance,ctrlLocals={},resolveIter=1;modalOptions.controller&&(ctrlLocals.$scope=modalScope,ctrlLocals.$modalInstance=modalInstance,angular.forEach(modalOptions.resolve,function(value,key){ctrlLocals[key]=tplAndVars[resolveIter++]}),ctrlInstance=$controller(modalOptions.controller,ctrlLocals),modalOptions.controllerAs&&(modalOptions.bindToController?angular.extend(modalScope,ctrlInstance):modalScope[modalOptions.controllerAs]=ctrlInstance)),$modalStack.open(modalInstance,{scope:modalScope,deferred:modalResultDeferred,renderDeferred:modalRenderDeferred,content:tplAndVars[0],animation:modalOptions.animation,backdrop:modalOptions.backdrop,keyboard:modalOptions.keyboard,backdropClass:modalOptions.backdropClass,windowClass:modalOptions.windowClass,windowTemplateUrl:modalOptions.windowTemplateUrl,size:modalOptions.size})},function(reason){modalResultDeferred.reject(reason)}),templateAndResolvePromise.then(function(){modalOpenedDeferred.resolve(!0)},function(reason){modalOpenedDeferred.reject(reason)}),modalInstance},$modal}]};return $modalProvider}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function($scope,$attrs,$parse){var self=this,ngModelCtrl={$setViewValue:angular.noop},setNumPages=$attrs.numPages?$parse($attrs.numPages).assign:angular.noop;this.init=function(ngModelCtrl_,config){ngModelCtrl=ngModelCtrl_,this.config=config,ngModelCtrl.$render=function(){self.render()},$attrs.itemsPerPage?$scope.$parent.$watch($parse($attrs.itemsPerPage),function(value){self.itemsPerPage=parseInt(value,10),$scope.totalPages=self.calculateTotalPages()}):this.itemsPerPage=config.itemsPerPage,$scope.$watch("totalItems",function(){$scope.totalPages=self.calculateTotalPages()}),$scope.$watch("totalPages",function(value){setNumPages($scope.$parent,value),$scope.page>value?$scope.selectPage(value):ngModelCtrl.$render()})},this.calculateTotalPages=function(){var totalPages=this.itemsPerPage<1?1:Math.ceil($scope.totalItems/this.itemsPerPage);return Math.max(totalPages||0,1)},this.render=function(){$scope.page=parseInt(ngModelCtrl.$viewValue,10)||1},$scope.selectPage=function(page,evt){var clickAllowed=!$scope.ngDisabled||!evt;clickAllowed&&$scope.page!==page&&page>0&&page<=$scope.totalPages&&(evt&&evt.target&&evt.target.blur(),ngModelCtrl.$setViewValue(page),ngModelCtrl.$render())},$scope.getText=function(key){return $scope[key+"Text"]||self.config[key+"Text"]},$scope.noPrevious=function(){return 1===$scope.page},$scope.noNext=function(){return $scope.page===$scope.totalPages}}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function($parse,paginationConfig){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(scope,element,attrs,ctrls){function makePage(number,text,isActive){return{number:number,text:text,active:isActive}}function getPages(currentPage,totalPages){var pages=[],startPage=1,endPage=totalPages,isMaxSized=angular.isDefined(maxSize)&&maxSize<totalPages;isMaxSized&&(rotate?(startPage=Math.max(currentPage-Math.floor(maxSize/2),1),endPage=startPage+maxSize-1,endPage>totalPages&&(endPage=totalPages,startPage=endPage-maxSize+1)):(startPage=(Math.ceil(currentPage/maxSize)-1)*maxSize+1,endPage=Math.min(startPage+maxSize-1,totalPages)));for(var number=startPage;number<=endPage;number++){var page=makePage(number,number,number===currentPage);pages.push(page)}if(isMaxSized&&!rotate){if(startPage>1){var previousPageSet=makePage(startPage-1,"...",!1);pages.unshift(previousPageSet)}if(endPage<totalPages){var nextPageSet=makePage(endPage+1,"...",!1);pages.push(nextPageSet)}}return pages}var paginationCtrl=ctrls[0],ngModelCtrl=ctrls[1];if(ngModelCtrl){var maxSize=angular.isDefined(attrs.maxSize)?scope.$parent.$eval(attrs.maxSize):paginationConfig.maxSize,rotate=angular.isDefined(attrs.rotate)?scope.$parent.$eval(attrs.rotate):paginationConfig.rotate;scope.boundaryLinks=angular.isDefined(attrs.boundaryLinks)?scope.$parent.$eval(attrs.boundaryLinks):paginationConfig.boundaryLinks,scope.directionLinks=angular.isDefined(attrs.directionLinks)?scope.$parent.$eval(attrs.directionLinks):paginationConfig.directionLinks,paginationCtrl.init(ngModelCtrl,paginationConfig),attrs.maxSize&&scope.$parent.$watch($parse(attrs.maxSize),function(value){maxSize=parseInt(value,10),paginationCtrl.render()});var originalRender=paginationCtrl.render;paginationCtrl.render=function(){originalRender(),scope.page>0&&scope.page<=scope.totalPages&&(scope.pages=getPages(scope.page,scope.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(pagerConfig){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(scope,element,attrs,ctrls){var paginationCtrl=ctrls[0],ngModelCtrl=ctrls[1];ngModelCtrl&&(scope.align=angular.isDefined(attrs.align)?scope.$parent.$eval(attrs.align):pagerConfig.align,paginationCtrl.init(ngModelCtrl,pagerConfig))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function snake_case(name){var regexp=/[A-Z]/g,separator="-";return name.replace(regexp,function(letter,pos){return(pos?separator:"")+letter.toLowerCase()})}var defaultOptions={placement:"top",animation:!0,popupDelay:0,useContentExp:!1},triggerMap={mouseenter:"mouseleave",click:"click",focus:"blur"},globalOptions={};this.options=function(value){angular.extend(globalOptions,value)},this.setTriggers=function(triggers){angular.extend(triggerMap,triggers)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate",function($window,$compile,$timeout,$document,$position,$interpolate){return function(type,prefix,defaultTriggerShow,options){function getTriggers(trigger){var show=trigger||options.trigger||defaultTriggerShow,hide=triggerMap[show]||show;return{show:show,hide:hide}}options=angular.extend({},defaultOptions,globalOptions,options);var directiveName=snake_case(type),startSym=$interpolate.startSymbol(),endSym=$interpolate.endSymbol(),template="<div "+directiveName+'-popup title="'+startSym+"title"+endSym+'" '+(options.useContentExp?'content-exp="contentExp()" ':'content="'+startSym+"content"+endSym+'" ')+'placement="'+startSym+"placement"+endSym+'" popup-class="'+startSym+"popupClass"+endSym+'" animation="animation" is-open="isOpen"origin-scope="origScope" ></div>';return{restrict:"EA",compile:function(tElem,tAttrs){var tooltipLinker=$compile(template);return function(scope,element,attrs,tooltipCtrl){function toggleTooltipBind(){ttScope.isOpen?hideTooltipBind():showTooltipBind()}function showTooltipBind(){hasEnableExp&&!scope.$eval(attrs[prefix+"Enable"])||(prepareTooltip(),ttScope.popupDelay?popupTimeout||(popupTimeout=$timeout(show,ttScope.popupDelay,!1),popupTimeout.then(function(reposition){reposition()})):show()())}function hideTooltipBind(){scope.$apply(function(){hide()})}function show(){return popupTimeout=null,transitionTimeout&&($timeout.cancel(transitionTimeout),transitionTimeout=null),(options.useContentExp?ttScope.contentExp():ttScope.content)?(createTooltip(),tooltip.css({top:0,left:0,display:"block"}),ttScope.$digest(),positionTooltip(),ttScope.isOpen=!0,ttScope.$apply(),positionTooltip):angular.noop}function hide(){ttScope.isOpen=!1,$timeout.cancel(popupTimeout),popupTimeout=null,ttScope.animation?transitionTimeout||(transitionTimeout=$timeout(removeTooltip,500)):removeTooltip()}function createTooltip(){tooltip&&removeTooltip(),tooltipLinkedScope=ttScope.$new(),tooltip=tooltipLinker(tooltipLinkedScope,function(tooltip){appendToBody?$document.find("body").append(tooltip):element.after(tooltip)}),tooltipLinkedScope.$watch(function(){$timeout(positionTooltip,0,!1)}),options.useContentExp&&tooltipLinkedScope.$watch("contentExp()",function(val){!val&&ttScope.isOpen&&hide()})}function removeTooltip(){transitionTimeout=null,tooltip&&(tooltip.remove(),tooltip=null),tooltipLinkedScope&&(tooltipLinkedScope.$destroy(),tooltipLinkedScope=null)}function prepareTooltip(){prepPopupClass(),prepPlacement(),prepPopupDelay()}function prepPopupClass(){ttScope.popupClass=attrs[prefix+"Class"]}function prepPlacement(){var val=attrs[prefix+"Placement"];ttScope.placement=angular.isDefined(val)?val:options.placement}function prepPopupDelay(){var val=attrs[prefix+"PopupDelay"],delay=parseInt(val,10);ttScope.popupDelay=isNaN(delay)?options.popupDelay:delay}function prepTriggers(){var val=attrs[prefix+"Trigger"];unregisterTriggers(),triggers=getTriggers(val),triggers.show===triggers.hide?element.bind(triggers.show,toggleTooltipBind):(element.bind(triggers.show,showTooltipBind),element.bind(triggers.hide,hideTooltipBind))}var tooltip,tooltipLinkedScope,transitionTimeout,popupTimeout,appendToBody=!!angular.isDefined(options.appendToBody)&&options.appendToBody,triggers=getTriggers(void 0),hasEnableExp=angular.isDefined(attrs[prefix+"Enable"]),ttScope=scope.$new(!0),positionTooltip=function(){if(tooltip){var ttPosition=$position.positionElements(element,tooltip,ttScope.placement,appendToBody);ttPosition.top+="px",ttPosition.left+="px",tooltip.css(ttPosition)}};ttScope.origScope=scope,ttScope.isOpen=!1,ttScope.contentExp=function(){return scope.$eval(attrs[type])},options.useContentExp||attrs.$observe(type,function(val){ttScope.content=val,!val&&ttScope.isOpen&&hide()}),attrs.$observe("disabled",function(val){val&&ttScope.isOpen&&hide()}),attrs.$observe(prefix+"Title",function(val){ttScope.title=val});var unregisterTriggers=function(){element.unbind(triggers.show,showTooltipBind),element.unbind(triggers.hide,hideTooltipBind)};prepTriggers();var animation=scope.$eval(attrs[prefix+"Animation"]);ttScope.animation=angular.isDefined(animation)?!!animation:options.animation;var appendToBodyVal=scope.$eval(attrs[prefix+"AppendToBody"]);appendToBody=angular.isDefined(appendToBodyVal)?appendToBodyVal:appendToBody,appendToBody&&scope.$on("$locationChangeSuccess",function(){ttScope.isOpen&&hide()}),scope.$on("$destroy",function(){$timeout.cancel(transitionTimeout),$timeout.cancel(popupTimeout),unregisterTriggers(),removeTooltip(),ttScope=null})}}}}}]}).directive("tooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function($animate,$sce,$compile,$templateRequest){return{link:function(scope,elem,attrs){var currentScope,previousElement,currentElement,origScope=scope.$eval(attrs.tooltipTemplateTranscludeScope),changeCounter=0,cleanupLastIncludeContent=function(){previousElement&&(previousElement.remove(),previousElement=null),currentScope&&(currentScope.$destroy(),currentScope=null),currentElement&&($animate.leave(currentElement).then(function(){previousElement=null}),previousElement=currentElement,currentElement=null)};scope.$watch($sce.parseAsResourceUrl(attrs.tooltipTemplateTransclude),function(src){var thisChangeId=++changeCounter;src?($templateRequest(src,!0).then(function(response){if(thisChangeId===changeCounter){var newScope=origScope.$new(),template=response,clone=$compile(template)(newScope,function(clone){cleanupLastIncludeContent(),$animate.enter(clone,elem)});currentScope=newScope,currentElement=clone,currentScope.$emit("$includeContentLoaded",src)}},function(){thisChangeId===changeCounter&&(cleanupLastIncludeContent(),scope.$emit("$includeContentError",src))}),scope.$emit("$includeContentRequested",src)):cleanupLastIncludeContent()}),scope.$on("$destroy",cleanupLastIncludeContent)}}}]).directive("tooltipClasses",function(){return{restrict:"A",link:function(scope,element,attrs){scope.placement&&element.addClass(scope.placement),scope.popupClass&&element.addClass(scope.popupClass),scope.animation()&&element.addClass(attrs.tooltipAnimationClass)}}}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function($tooltip){return $tooltip("tooltip","tooltip","mouseenter")}]).directive("tooltipTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html"}}).directive("tooltipTemplate",["$tooltip",function($tooltip){return $tooltip("tooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlPopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html"}}).directive("tooltipHtml",["$tooltip",function($tooltip){return $tooltip("tooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).value("tooltipHtmlUnsafeSuppressDeprecated",!1).directive("tooltipHtmlUnsafe",["$tooltip","tooltipHtmlUnsafeSuppressDeprecated","$log",function($tooltip,tooltipHtmlUnsafeSuppressDeprecated,$log){return tooltipHtmlUnsafeSuppressDeprecated||$log.warn("tooltip-html-unsafe is now deprecated. Use tooltip-html or tooltip-template instead."),$tooltip("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html"}}).directive("popoverTemplate",["$tooltip",function($tooltip){return $tooltip("popoverTemplate","popover","click",{useContentExp:!0})}]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function($tooltip){return $tooltip("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function($scope,$attrs,progressConfig){var self=this,animate=angular.isDefined($attrs.animate)?$scope.$parent.$eval($attrs.animate):progressConfig.animate;this.bars=[],$scope.max=angular.isDefined($scope.max)?$scope.max:progressConfig.max,this.addBar=function(bar,element){animate||element.css({transition:"none"}),this.bars.push(bar),bar.max=$scope.max,bar.$watch("value",function(value){bar.recalculatePercentage()}),bar.recalculatePercentage=function(){bar.percent=+(100*bar.value/bar.max).toFixed(2)},bar.$on("$destroy",function(){element=null,self.removeBar(bar)})},this.removeBar=function(bar){this.bars.splice(this.bars.indexOf(bar),1)},$scope.$watch("max",function(max){self.bars.forEach(function(bar){bar.max=$scope.max,bar.recalculatePercentage()})})}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{max:"=?"},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(scope,element,attrs,progressCtrl){progressCtrl.addBar(scope,element)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(scope,element,attrs,progressCtrl){progressCtrl.addBar(scope,angular.element(element.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function($scope,$attrs,ratingConfig){var ngModelCtrl={$setViewValue:angular.noop};this.init=function(ngModelCtrl_){ngModelCtrl=ngModelCtrl_,ngModelCtrl.$render=this.render,ngModelCtrl.$formatters.push(function(value){return angular.isNumber(value)&&value<<0!==value&&(value=Math.round(value)),value}),this.stateOn=angular.isDefined($attrs.stateOn)?$scope.$parent.$eval($attrs.stateOn):ratingConfig.stateOn,this.stateOff=angular.isDefined($attrs.stateOff)?$scope.$parent.$eval($attrs.stateOff):ratingConfig.stateOff;var ratingStates=angular.isDefined($attrs.ratingStates)?$scope.$parent.$eval($attrs.ratingStates):new Array(angular.isDefined($attrs.max)?$scope.$parent.$eval($attrs.max):ratingConfig.max);$scope.range=this.buildTemplateObjects(ratingStates)},this.buildTemplateObjects=function(states){for(var i=0,n=states.length;i<n;i++)states[i]=angular.extend({index:i},{stateOn:this.stateOn,stateOff:this.stateOff},states[i]);return states},$scope.rate=function(value){!$scope.readonly&&value>=0&&value<=$scope.range.length&&(ngModelCtrl.$setViewValue(ngModelCtrl.$viewValue===value?0:value),ngModelCtrl.$render())},$scope.enter=function(value){$scope.readonly||($scope.value=value),$scope.onHover({value:value})},$scope.reset=function(){$scope.value=ngModelCtrl.$viewValue,$scope.onLeave()},$scope.onKeydown=function(evt){/(37|38|39|40)/.test(evt.which)&&(evt.preventDefault(),evt.stopPropagation(),$scope.rate($scope.value+(38===evt.which||39===evt.which?1:-1)))},this.render=function(){$scope.value=ngModelCtrl.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(scope,element,attrs,ctrls){var ratingCtrl=ctrls[0],ngModelCtrl=ctrls[1];ratingCtrl.init(ngModelCtrl)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function($scope){var ctrl=this,tabs=ctrl.tabs=$scope.tabs=[];ctrl.select=function(selectedTab){angular.forEach(tabs,function(tab){tab.active&&tab!==selectedTab&&(tab.active=!1,tab.onDeselect())}),selectedTab.active=!0,selectedTab.onSelect()},ctrl.addTab=function(tab){tabs.push(tab),1===tabs.length&&tab.active!==!1?tab.active=!0:tab.active?ctrl.select(tab):tab.active=!1},ctrl.removeTab=function(tab){var index=tabs.indexOf(tab);if(tab.active&&tabs.length>1&&!destroyed){var newActiveIndex=index==tabs.length-1?index-1:index+1;ctrl.select(tabs[newActiveIndex])}tabs.splice(index,1)};var destroyed;$scope.$on("$destroy",function(){destroyed=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(scope,element,attrs){scope.vertical=!!angular.isDefined(attrs.vertical)&&scope.$parent.$eval(attrs.vertical),scope.justified=!!angular.isDefined(attrs.justified)&&scope.$parent.$eval(attrs.justified)}}}).directive("tab",["$parse","$log",function($parse,$log){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(elm,attrs,transclude){return function(scope,elm,attrs,tabsetCtrl){scope.$watch("active",function(active){active&&tabsetCtrl.select(scope)}),scope.disabled=!1,
attrs.disable&&scope.$parent.$watch($parse(attrs.disable),function(value){scope.disabled=!!value}),attrs.disabled&&($log.warn('Use of "disabled" attribute has been deprecated, please use "disable"'),scope.$parent.$watch($parse(attrs.disabled),function(value){scope.disabled=!!value})),scope.select=function(){scope.disabled||(scope.active=!0)},tabsetCtrl.addTab(scope),scope.$on("$destroy",function(){tabsetCtrl.removeTab(scope)}),scope.$transcludeFn=transclude}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(scope,elm,attrs,tabCtrl){scope.$watch("headingElement",function(heading){heading&&(elm.html(""),elm.append(heading))})}}}]).directive("tabContentTransclude",function(){function isTabHeading(node){return node.tagName&&(node.hasAttribute("tab-heading")||node.hasAttribute("data-tab-heading")||"tab-heading"===node.tagName.toLowerCase()||"data-tab-heading"===node.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(scope,elm,attrs){var tab=scope.$eval(attrs.tabContentTransclude);tab.$transcludeFn(tab.$parent,function(contents){angular.forEach(contents,function(node){isTabHeading(node)?tab.headingElement=node:elm.append(node)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function($scope,$attrs,$parse,$log,$locale,timepickerConfig){function getHoursFromTemplate(){var hours=parseInt($scope.hours,10),valid=$scope.showMeridian?hours>0&&hours<13:hours>=0&&hours<24;if(valid)return $scope.showMeridian&&(12===hours&&(hours=0),$scope.meridian===meridians[1]&&(hours+=12)),hours}function getMinutesFromTemplate(){var minutes=parseInt($scope.minutes,10);return minutes>=0&&minutes<60?minutes:void 0}function pad(value){return angular.isDefined(value)&&value.toString().length<2?"0"+value:value.toString()}function refresh(keyboardChange){makeValid(),ngModelCtrl.$setViewValue(new Date(selected)),updateTemplate(keyboardChange)}function makeValid(){ngModelCtrl.$setValidity("time",!0),$scope.invalidHours=!1,$scope.invalidMinutes=!1}function updateTemplate(keyboardChange){var hours=selected.getHours(),minutes=selected.getMinutes();$scope.showMeridian&&(hours=0===hours||12===hours?12:hours%12),$scope.hours="h"===keyboardChange?hours:pad(hours),"m"!==keyboardChange&&($scope.minutes=pad(minutes)),$scope.meridian=selected.getHours()<12?meridians[0]:meridians[1]}function addMinutes(minutes){var dt=new Date(selected.getTime()+6e4*minutes);selected.setHours(dt.getHours(),dt.getMinutes()),refresh()}var selected=new Date,ngModelCtrl={$setViewValue:angular.noop},meridians=angular.isDefined($attrs.meridians)?$scope.$parent.$eval($attrs.meridians):timepickerConfig.meridians||$locale.DATETIME_FORMATS.AMPMS;this.init=function(ngModelCtrl_,inputs){ngModelCtrl=ngModelCtrl_,ngModelCtrl.$render=this.render,ngModelCtrl.$formatters.unshift(function(modelValue){return modelValue?new Date(modelValue):null});var hoursInputEl=inputs.eq(0),minutesInputEl=inputs.eq(1),mousewheel=angular.isDefined($attrs.mousewheel)?$scope.$parent.$eval($attrs.mousewheel):timepickerConfig.mousewheel;mousewheel&&this.setupMousewheelEvents(hoursInputEl,minutesInputEl);var arrowkeys=angular.isDefined($attrs.arrowkeys)?$scope.$parent.$eval($attrs.arrowkeys):timepickerConfig.arrowkeys;arrowkeys&&this.setupArrowkeyEvents(hoursInputEl,minutesInputEl),$scope.readonlyInput=angular.isDefined($attrs.readonlyInput)?$scope.$parent.$eval($attrs.readonlyInput):timepickerConfig.readonlyInput,this.setupInputEvents(hoursInputEl,minutesInputEl)};var hourStep=timepickerConfig.hourStep;$attrs.hourStep&&$scope.$parent.$watch($parse($attrs.hourStep),function(value){hourStep=parseInt(value,10)});var minuteStep=timepickerConfig.minuteStep;$attrs.minuteStep&&$scope.$parent.$watch($parse($attrs.minuteStep),function(value){minuteStep=parseInt(value,10)}),$scope.showMeridian=timepickerConfig.showMeridian,$attrs.showMeridian&&$scope.$parent.$watch($parse($attrs.showMeridian),function(value){if($scope.showMeridian=!!value,ngModelCtrl.$error.time){var hours=getHoursFromTemplate(),minutes=getMinutesFromTemplate();angular.isDefined(hours)&&angular.isDefined(minutes)&&(selected.setHours(hours),refresh())}else updateTemplate()}),this.setupMousewheelEvents=function(hoursInputEl,minutesInputEl){var isScrollingUp=function(e){e.originalEvent&&(e=e.originalEvent);var delta=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||delta>0};hoursInputEl.bind("mousewheel wheel",function(e){$scope.$apply(isScrollingUp(e)?$scope.incrementHours():$scope.decrementHours()),e.preventDefault()}),minutesInputEl.bind("mousewheel wheel",function(e){$scope.$apply(isScrollingUp(e)?$scope.incrementMinutes():$scope.decrementMinutes()),e.preventDefault()})},this.setupArrowkeyEvents=function(hoursInputEl,minutesInputEl){hoursInputEl.bind("keydown",function(e){38===e.which?(e.preventDefault(),$scope.incrementHours(),$scope.$apply()):40===e.which&&(e.preventDefault(),$scope.decrementHours(),$scope.$apply())}),minutesInputEl.bind("keydown",function(e){38===e.which?(e.preventDefault(),$scope.incrementMinutes(),$scope.$apply()):40===e.which&&(e.preventDefault(),$scope.decrementMinutes(),$scope.$apply())})},this.setupInputEvents=function(hoursInputEl,minutesInputEl){if($scope.readonlyInput)return $scope.updateHours=angular.noop,void($scope.updateMinutes=angular.noop);var invalidate=function(invalidHours,invalidMinutes){ngModelCtrl.$setViewValue(null),ngModelCtrl.$setValidity("time",!1),angular.isDefined(invalidHours)&&($scope.invalidHours=invalidHours),angular.isDefined(invalidMinutes)&&($scope.invalidMinutes=invalidMinutes)};$scope.updateHours=function(){var hours=getHoursFromTemplate();angular.isDefined(hours)?(selected.setHours(hours),refresh("h")):invalidate(!0)},hoursInputEl.bind("blur",function(e){!$scope.invalidHours&&$scope.hours<10&&$scope.$apply(function(){$scope.hours=pad($scope.hours)})}),$scope.updateMinutes=function(){var minutes=getMinutesFromTemplate();angular.isDefined(minutes)?(selected.setMinutes(minutes),refresh("m")):invalidate(void 0,!0)},minutesInputEl.bind("blur",function(e){!$scope.invalidMinutes&&$scope.minutes<10&&$scope.$apply(function(){$scope.minutes=pad($scope.minutes)})})},this.render=function(){var date=ngModelCtrl.$viewValue;isNaN(date)?(ngModelCtrl.$setValidity("time",!1),$log.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(date&&(selected=date),makeValid(),updateTemplate())},$scope.showSpinners=angular.isDefined($attrs.showSpinners)?$scope.$parent.$eval($attrs.showSpinners):timepickerConfig.showSpinners,$scope.incrementHours=function(){addMinutes(60*hourStep)},$scope.decrementHours=function(){addMinutes(60*-hourStep)},$scope.incrementMinutes=function(){addMinutes(minuteStep)},$scope.decrementMinutes=function(){addMinutes(-minuteStep)},$scope.toggleMeridian=function(){addMinutes(720*(selected.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(scope,element,attrs,ctrls){var timepickerCtrl=ctrls[0],ngModelCtrl=ctrls[1];ngModelCtrl&&timepickerCtrl.init(ngModelCtrl,element.find("input"))}}}),angular.module("ui.bootstrap.transition",[]).value("$transitionSuppressDeprecated",!1).factory("$transition",["$q","$timeout","$rootScope","$log","$transitionSuppressDeprecated",function($q,$timeout,$rootScope,$log,$transitionSuppressDeprecated){function findEndEventName(endEventNames){for(var name in endEventNames)if(void 0!==transElement.style[name])return endEventNames[name]}$transitionSuppressDeprecated||$log.warn("$transition is now deprecated. Use $animate from ngAnimate instead.");var $transition=function(element,trigger,options){options=options||{};var deferred=$q.defer(),endEventName=$transition[options.animation?"animationEndEventName":"transitionEndEventName"],transitionEndHandler=function(event){$rootScope.$apply(function(){element.unbind(endEventName,transitionEndHandler),deferred.resolve(element)})};return endEventName&&element.bind(endEventName,transitionEndHandler),$timeout(function(){angular.isString(trigger)?element.addClass(trigger):angular.isFunction(trigger)?trigger(element):angular.isObject(trigger)&&element.css(trigger),endEventName||deferred.resolve(element)}),deferred.promise.cancel=function(){endEventName&&element.unbind(endEventName,transitionEndHandler),deferred.reject("Transition cancelled")},deferred.promise},transElement=document.createElement("trans"),transitionEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},animationEndEventNames={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return $transition.transitionEndEventName=findEndEventName(transitionEndEventNames),$transition.animationEndEventName=findEndEventName(animationEndEventNames),$transition}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function($parse){var TYPEAHEAD_REGEXP=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(input){var match=input.match(TYPEAHEAD_REGEXP);if(!match)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+input+'".');return{itemName:match[3],source:$parse(match[4]),viewMapper:$parse(match[2]||match[1]),modelMapper:$parse(match[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$window","$rootScope","$position","typeaheadParser",function($compile,$parse,$q,$timeout,$document,$window,$rootScope,$position,typeaheadParser){var HOT_KEYS=[9,13,27,38,40],eventDebounceTime=200;return{require:"ngModel",link:function(originalScope,element,attrs,modelCtrl){function fireRecalculating(){scope.moveInProgress||(scope.moveInProgress=!0,scope.$digest()),timeoutEventPromise&&$timeout.cancel(timeoutEventPromise),timeoutEventPromise=$timeout(function(){scope.matches.length&&recalculatePosition(),scope.moveInProgress=!1,scope.$digest()},eventDebounceTime)}function recalculatePosition(){scope.position=appendToBody?$position.offset(element):$position.position(element),scope.position.top+=element.prop("offsetHeight")}var minLength=originalScope.$eval(attrs.typeaheadMinLength);minLength||0===minLength||(minLength=1);var hasFocus,selected,waitTime=originalScope.$eval(attrs.typeaheadWaitMs)||0,isEditable=originalScope.$eval(attrs.typeaheadEditable)!==!1,isLoadingSetter=$parse(attrs.typeaheadLoading).assign||angular.noop,onSelectCallback=$parse(attrs.typeaheadOnSelect),isSelectOnBlur=!!angular.isDefined(attrs.typeaheadSelectOnBlur)&&originalScope.$eval(attrs.typeaheadSelectOnBlur),inputFormatter=attrs.typeaheadInputFormatter?$parse(attrs.typeaheadInputFormatter):void 0,appendToBody=!!attrs.typeaheadAppendToBody&&originalScope.$eval(attrs.typeaheadAppendToBody),focusFirst=originalScope.$eval(attrs.typeaheadFocusFirst)!==!1,$setModelValue=$parse(attrs.ngModel).assign,parserResult=typeaheadParser.parse(attrs.typeahead),scope=originalScope.$new();originalScope.$on("$destroy",function(){scope.$destroy()});var popupId="typeahead-"+scope.$id+"-"+Math.floor(1e4*Math.random());element.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":popupId});var popUpEl=angular.element("<div typeahead-popup></div>");popUpEl.attr({id:popupId,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"}),angular.isDefined(attrs.typeaheadTemplateUrl)&&popUpEl.attr("template-url",attrs.typeaheadTemplateUrl);var resetMatches=function(){scope.matches=[],scope.activeIdx=-1,element.attr("aria-expanded",!1)},getMatchId=function(index){return popupId+"-option-"+index};scope.$watch("activeIdx",function(index){index<0?element.removeAttr("aria-activedescendant"):element.attr("aria-activedescendant",getMatchId(index))});var getMatchesAsync=function(inputValue){var locals={$viewValue:inputValue};isLoadingSetter(originalScope,!0),$q.when(parserResult.source(originalScope,locals)).then(function(matches){var onCurrentRequest=inputValue===modelCtrl.$viewValue;if(onCurrentRequest&&hasFocus)if(matches&&matches.length>0){scope.activeIdx=focusFirst?0:-1,scope.matches.length=0;for(var i=0;i<matches.length;i++)locals[parserResult.itemName]=matches[i],scope.matches.push({id:getMatchId(i),label:parserResult.viewMapper(scope,locals),model:matches[i]});scope.query=inputValue,recalculatePosition(),element.attr("aria-expanded",!0)}else resetMatches();onCurrentRequest&&isLoadingSetter(originalScope,!1)},function(){resetMatches(),isLoadingSetter(originalScope,!1)})};appendToBody&&(angular.element($window).bind("resize",fireRecalculating),$document.find("body").bind("scroll",fireRecalculating));var timeoutEventPromise;scope.moveInProgress=!1,resetMatches(),scope.query=void 0;var timeoutPromise,scheduleSearchWithTimeout=function(inputValue){timeoutPromise=$timeout(function(){getMatchesAsync(inputValue)},waitTime)},cancelPreviousTimeout=function(){timeoutPromise&&$timeout.cancel(timeoutPromise)};modelCtrl.$parsers.unshift(function(inputValue){return hasFocus=!0,0===minLength||inputValue&&inputValue.length>=minLength?waitTime>0?(cancelPreviousTimeout(),scheduleSearchWithTimeout(inputValue)):getMatchesAsync(inputValue):(isLoadingSetter(originalScope,!1),cancelPreviousTimeout(),resetMatches()),isEditable?inputValue:inputValue?void modelCtrl.$setValidity("editable",!1):(modelCtrl.$setValidity("editable",!0),inputValue)}),modelCtrl.$formatters.push(function(modelValue){var candidateViewValue,emptyViewValue,locals={};return isEditable||modelCtrl.$setValidity("editable",!0),inputFormatter?(locals.$model=modelValue,inputFormatter(originalScope,locals)):(locals[parserResult.itemName]=modelValue,candidateViewValue=parserResult.viewMapper(originalScope,locals),locals[parserResult.itemName]=void 0,emptyViewValue=parserResult.viewMapper(originalScope,locals),candidateViewValue!==emptyViewValue?candidateViewValue:modelValue)}),scope.select=function(activeIdx){var model,item,locals={};selected=!0,locals[parserResult.itemName]=item=scope.matches[activeIdx].model,model=parserResult.modelMapper(originalScope,locals),$setModelValue(originalScope,model),modelCtrl.$setValidity("editable",!0),modelCtrl.$setValidity("parse",!0),onSelectCallback(originalScope,{$item:item,$model:model,$label:parserResult.viewMapper(originalScope,locals)}),resetMatches(),$timeout(function(){element[0].focus()},0,!1)},element.bind("keydown",function(evt){if(0!==scope.matches.length&&HOT_KEYS.indexOf(evt.which)!==-1&&(scope.activeIdx!==-1||13!==evt.which)){if(scope.activeIdx===-1&&9===evt.which)return resetMatches(),void scope.$digest();evt.preventDefault(),40===evt.which?(scope.activeIdx=(scope.activeIdx+1)%scope.matches.length,scope.$digest()):38===evt.which?(scope.activeIdx=(scope.activeIdx>0?scope.activeIdx:scope.matches.length)-1,scope.$digest()):13===evt.which||9===evt.which?scope.$apply(function(){scope.select(scope.activeIdx)}):27===evt.which&&(evt.stopPropagation(),resetMatches(),scope.$digest())}}),element.bind("blur",function(){isSelectOnBlur&&scope.matches.length&&scope.activeIdx!==-1&&!selected&&(selected=!0,scope.$apply(function(){scope.select(scope.activeIdx)})),hasFocus=!1,selected=!1});var dismissClickHandler=function(evt){element[0]!==evt.target&&3!==evt.which&&(resetMatches(),$rootScope.$$phase||scope.$digest())};$document.bind("click",dismissClickHandler),originalScope.$on("$destroy",function(){$document.unbind("click",dismissClickHandler),appendToBody&&$popup.remove(),popUpEl.remove()});var $popup=$compile(popUpEl)(scope);appendToBody?$document.find("body").append($popup):element.after($popup)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(scope,element,attrs){scope.templateUrl=attrs.templateUrl,scope.isOpen=function(){return scope.matches.length>0},scope.isActive=function(matchIdx){return scope.active==matchIdx},scope.selectActive=function(matchIdx){scope.active=matchIdx},scope.selectMatch=function(activeIdx){scope.select({activeIdx:activeIdx})}}}}).directive("typeaheadMatch",["$templateRequest","$compile","$parse",function($templateRequest,$compile,$parse){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(scope,element,attrs){var tplUrl=$parse(attrs.templateUrl)(scope.$parent)||"template/typeahead/typeahead-match.html";$templateRequest(tplUrl).then(function(tplContent){$compile(tplContent.trim())(scope,function(clonedElement){element.replaceWith(clonedElement)})})}}}]).filter("typeaheadHighlight",function(){function escapeRegexp(queryToEscape){return queryToEscape.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(matchItem,query){return query?(""+matchItem).replace(new RegExp(escapeRegexp(query),"gi"),"<strong>$&</strong>"):matchItem}}),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/accordion/accordion-group.html",'<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a href="#" tabindex="0" class="accordion-toggle" ng-click="$event.preventDefault(); toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse collapse" collapse="!isOpen">\n\t  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissible\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close($event)">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides | orderBy:\'index\' track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/carousel/slide.html",'<div ng-class="{\n    \'active\': active\n  }" class="item text-center" ng-transclude></div>\n')}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-if="isOpen" style="display: block" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n\t<li ng-transclude></li>\n\t<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n\t\t<span class="btn-group pull-left">\n\t\t\t<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')">{{ getText(\'current\') }}</button>\n\t\t\t<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n\t\t</span>\n\t\t<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n\t</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/modal/backdrop.html",'<div class="modal-backdrop"\n     modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    modal-animation-class="fade"\n    modal-in-class="in"\n\tng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="size ? \'modal-\' + size : \'\'"><div class="modal-content" modal-transclude></div></div>\n</div>\n')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious(), previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext(), next: align}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n</ul>')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}"><a href ng-click="selectPage(1, $event)">{{::getText(\'first\')}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}"><a href ng-click="selectPage(totalPages, $event)">{{::getText(\'last\')}}</a></li>\n</ul>\n')}]),angular.module("template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/tooltip/tooltip-html-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/tooltip/tooltip-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/tooltip/tooltip-template-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("template/popover/popover-template.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/popover/popover-template.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content"\n        tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/popover/popover.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n</div>\n');
}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')">\n        <span class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    </i>\n</span>')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href="#" ng-click="$event.preventDefault(); select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/timepicker/timepicker.html",'<table>\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="incrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="incrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group" ng-class="{\'has-error\': invalidHours}">\n        <input style="width:50px;" type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2">\n      </td>\n      <td>:</td>\n      <td class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n        <input style="width:50px;" type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2">\n      </td>\n      <td ng-show="showMeridian"><button type="button" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="decrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="decrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/typeahead/typeahead-match.html",'<a href="#" ng-click="$event.preventDefault()" tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>\n')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{::match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),function(){"use strict";angular.module("ui.grid.i18n",[]),angular.module("ui.grid",["ui.grid.i18n"])}(),function(){"use strict";angular.module("ui.grid").constant("uiGridConstants",{LOG_DEBUG_MESSAGES:!0,LOG_WARN_MESSAGES:!0,LOG_ERROR_MESSAGES:!0,CUSTOM_FILTERS:/CUSTOM_FILTERS/g,COL_FIELD:/COL_FIELD/g,MODEL_COL_FIELD:/MODEL_COL_FIELD/g,TOOLTIP:/title=\"TOOLTIP\"/g,DISPLAY_CELL_TEMPLATE:/DISPLAY_CELL_TEMPLATE/g,TEMPLATE_REGEXP:/<.+>/,FUNC_REGEXP:/(\([^)]*\))?$/,DOT_REGEXP:/\./g,APOS_REGEXP:/'/g,BRACKET_REGEXP:/^(.*)((?:\s*\[\s*\d+\s*\]\s*)|(?:\s*\[\s*"(?:[^"\\]|\\.)*"\s*\]\s*)|(?:\s*\[\s*'(?:[^'\\]|\\.)*'\s*\]\s*))(.*)$/,COL_CLASS_PREFIX:"ui-grid-col",events:{GRID_SCROLL:"uiGridScroll",COLUMN_MENU_SHOWN:"uiGridColMenuShown",ITEM_DRAGGING:"uiGridItemDragStart",COLUMN_HEADER_CLICK:"uiGridColumnHeaderClick"},keymap:{TAB:9,STRG:17,CTRL:17,CTRLRIGHT:18,CTRLR:18,SHIFT:16,RETURN:13,ENTER:13,BACKSPACE:8,BCKSP:8,ALT:18,ALTR:17,ALTRIGHT:17,SPACE:32,WIN:91,MAC:91,FN:null,PG_UP:33,PG_DOWN:34,UP:38,DOWN:40,LEFT:37,RIGHT:39,ESC:27,DEL:46,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123},ASC:"asc",DESC:"desc",filter:{STARTS_WITH:2,ENDS_WITH:4,EXACT:8,CONTAINS:16,GREATER_THAN:32,GREATER_THAN_OR_EQUAL:64,LESS_THAN:128,LESS_THAN_OR_EQUAL:256,NOT_EQUAL:512,SELECT:"select",INPUT:"input"},aggregationTypes:{sum:2,count:4,avg:8,min:16,max:32},CURRENCY_SYMBOLS:["ƒ","$","£","$","¤","¥","៛","₩","₱","฿","₫"],scrollDirection:{UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right",NONE:"none"},dataChange:{ALL:"all",EDIT:"edit",ROW:"row",COLUMN:"column",OPTIONS:"options"},scrollbars:{NEVER:0,ALWAYS:1}})}(),angular.module("ui.grid").directive("uiGridCell",["$compile","$parse","gridUtil","uiGridConstants",function($compile,$parse,gridUtil,uiGridConstants){var uiGridCell={priority:0,scope:!1,require:"?^uiGrid",compile:function(){return{pre:function($scope,$elm,$attrs,uiGridCtrl){function compileTemplate(){var compiledElementFn=$scope.col.compiledElementFn;compiledElementFn($scope,function(clonedElement,scope){$elm.append(clonedElement)})}if(uiGridCtrl&&$scope.col.compiledElementFn)compileTemplate();else if(uiGridCtrl&&!$scope.col.compiledElementFn)$scope.col.getCompiledElementFn().then(function(compiledElementFn){compiledElementFn($scope,function(clonedElement,scope){$elm.append(clonedElement)})});else{var html=$scope.col.cellTemplate.replace(uiGridConstants.MODEL_COL_FIELD,"row.entity."+gridUtil.preEval($scope.col.field)).replace(uiGridConstants.COL_FIELD,"grid.getCellValue(row, col)"),cellElement=$compile(html)($scope);$elm.append(cellElement)}},post:function($scope,$elm,$attrs,uiGridCtrl){var initColClass=$scope.col.getColClass(!1);$elm.addClass(initColClass);var classAdded,updateClass=function(grid){var contents=$elm;classAdded&&(contents.removeClass(classAdded),classAdded=null),classAdded=angular.isFunction($scope.col.cellClass)?$scope.col.cellClass($scope.grid,$scope.row,$scope.col,$scope.rowRenderIndex,$scope.colRenderIndex):$scope.col.cellClass,contents.addClass(classAdded)};$scope.col.cellClass&&updateClass();var dataChangeDereg=$scope.grid.registerDataChangeCallback(updateClass,[uiGridConstants.dataChange.COLUMN,uiGridConstants.dataChange.EDIT]),cellChangeFunction=function(n,o){if(n!==o){(classAdded||$scope.col.cellClass)&&updateClass();var newColClass=$scope.col.getColClass(!1);newColClass!==initColClass&&($elm.removeClass(initColClass),$elm.addClass(newColClass),initColClass=newColClass)}},rowWatchDereg=$scope.$watch("row",cellChangeFunction),deregisterFunction=function(){dataChangeDereg(),rowWatchDereg()};$scope.$on("$destroy",deregisterFunction),$elm.on("$destroy",deregisterFunction)}}}};return uiGridCell}]),function(){angular.module("ui.grid").service("uiGridColumnMenuService",["i18nService","uiGridConstants","gridUtil",function(i18nService,uiGridConstants,gridUtil){var service={initialize:function($scope,uiGridCtrl){$scope.grid=uiGridCtrl.grid,uiGridCtrl.columnMenuScope=$scope,$scope.menuShown=!1},setColMenuItemWatch:function($scope){var deregFunction=$scope.$watch("col.menuItems",function(n,o){"undefined"!=typeof n&&n&&angular.isArray(n)?(n.forEach(function(item){"undefined"!=typeof item.context&&item.context||(item.context={}),item.context.col=$scope.col}),$scope.menuItems=$scope.defaultMenuItems.concat(n)):$scope.menuItems=$scope.defaultMenuItems});$scope.$on("$destroy",deregFunction)},sortable:function($scope){return!!($scope.grid.options.enableSorting&&"undefined"!=typeof $scope.col&&$scope.col&&$scope.col.enableSorting)},isActiveSort:function($scope,direction){return"undefined"!=typeof $scope.col&&"undefined"!=typeof $scope.col.sort&&"undefined"!=typeof $scope.col.sort.direction&&$scope.col.sort.direction===direction},suppressRemoveSort:function($scope){return!(!$scope.col||!$scope.col.suppressRemoveSort)},hideable:function($scope){return"undefined"==typeof $scope.col||!$scope.col||!$scope.col.colDef||$scope.col.colDef.enableHiding!==!1},getDefaultMenuItems:function($scope){return[{title:i18nService.getSafeText("sort.ascending"),icon:"ui-grid-icon-sort-alt-up",action:function($event){$event.stopPropagation(),$scope.sortColumn($event,uiGridConstants.ASC)},shown:function(){return service.sortable($scope)},active:function(){return service.isActiveSort($scope,uiGridConstants.ASC)}},{title:i18nService.getSafeText("sort.descending"),icon:"ui-grid-icon-sort-alt-down",action:function($event){$event.stopPropagation(),$scope.sortColumn($event,uiGridConstants.DESC)},shown:function(){return service.sortable($scope)},active:function(){return service.isActiveSort($scope,uiGridConstants.DESC)}},{title:i18nService.getSafeText("sort.remove"),icon:"ui-grid-icon-cancel",action:function($event){$event.stopPropagation(),$scope.unsortColumn()},shown:function(){return service.sortable($scope)&&"undefined"!=typeof $scope.col&&"undefined"!=typeof $scope.col.sort&&"undefined"!=typeof $scope.col.sort.direction&&null!==$scope.col.sort.direction&&!service.suppressRemoveSort($scope)}},{title:i18nService.getSafeText("column.hide"),icon:"ui-grid-icon-cancel",shown:function(){return service.hideable($scope)},action:function($event){$event.stopPropagation(),$scope.hideColumn()}}]},getColumnElementPosition:function($scope,column,$columnElement){var positionData={};return positionData.left=$columnElement[0].offsetLeft,positionData.top=$columnElement[0].offsetTop,positionData.parentLeft=$columnElement[0].offsetParent.offsetLeft,positionData.offset=0,column.grid.options.offsetLeft&&(positionData.offset=column.grid.options.offsetLeft),positionData.height=gridUtil.elementHeight($columnElement,!0),positionData.width=gridUtil.elementWidth($columnElement,!0),positionData},repositionMenu:function($scope,column,positionData,$elm,$columnElement){var menu=$elm[0].querySelectorAll(".ui-grid-menu"),containerId=column.renderContainer?column.renderContainer:"body",renderContainerElm=(column.grid.renderContainers[containerId],gridUtil.closestElm($columnElement,".ui-grid-render-container")),renderContainerOffset=renderContainerElm.getBoundingClientRect().left-$scope.grid.element[0].getBoundingClientRect().left,containerScrollLeft=renderContainerElm.querySelectorAll(".ui-grid-viewport")[0].scrollLeft,myWidth=column.lastMenuWidth?column.lastMenuWidth:$scope.lastMenuWidth?$scope.lastMenuWidth:170,paddingRight=column.lastMenuPaddingRight?column.lastMenuPaddingRight:$scope.lastMenuPaddingRight?$scope.lastMenuPaddingRight:10;if(0!==menu.length){var mid=menu[0].querySelectorAll(".ui-grid-menu-mid");0===mid.length||angular.element(mid).hasClass("ng-hide")||(myWidth=gridUtil.elementWidth(menu,!0),$scope.lastMenuWidth=myWidth,column.lastMenuWidth=myWidth,paddingRight=parseInt(gridUtil.getStyles(angular.element(menu)[0]).paddingRight,10),$scope.lastMenuPaddingRight=paddingRight,column.lastMenuPaddingRight=paddingRight)}var left=positionData.left+renderContainerOffset-containerScrollLeft+positionData.parentLeft+positionData.width-myWidth+paddingRight;left<positionData.offset&&(left=positionData.offset),$elm.css("left",left+"px"),$elm.css("top",positionData.top+positionData.height+"px")}};return service}]).directive("uiGridColumnMenu",["$timeout","gridUtil","uiGridConstants","uiGridColumnMenuService",function($timeout,gridUtil,uiGridConstants,uiGridColumnMenuService){var uiGridColumnMenu={priority:0,scope:!0,require:"?^uiGrid",templateUrl:"ui-grid/uiGridColumnMenu",replace:!0,link:function($scope,$elm,$attrs,uiGridCtrl){var self=this;uiGridColumnMenuService.initialize($scope,uiGridCtrl),$scope.defaultMenuItems=uiGridColumnMenuService.getDefaultMenuItems($scope),$scope.menuItems=$scope.defaultMenuItems,uiGridColumnMenuService.setColMenuItemWatch($scope),$scope.showMenu=function(column,$columnElement,event){$scope.col=column;var colElementPosition=uiGridColumnMenuService.getColumnElementPosition($scope,column,$columnElement);$scope.menuShown?($scope.colElement=$columnElement,$scope.colElementPosition=colElementPosition,$scope.hideThenShow=!0,$scope.$broadcast("hide-menu",{originalEvent:event})):(self.shown=$scope.menuShown=!0,uiGridColumnMenuService.repositionMenu($scope,column,colElementPosition,$elm,$columnElement),$scope.colElement=$columnElement,$scope.colElementPosition=colElementPosition,$scope.$broadcast("show-menu",{originalEvent:event}))},$scope.hideMenu=function(broadcastTrigger){$scope.menuShown=!1,broadcastTrigger||$scope.$broadcast("hide-menu")},$scope.$on("menu-hidden",function(){$scope.hideThenShow?(delete $scope.hideThenShow,uiGridColumnMenuService.repositionMenu($scope,$scope.col,$scope.colElementPosition,$elm,$scope.colElement),$scope.$broadcast("show-menu"),$scope.menuShown=!0):$scope.hideMenu(!0)}),$scope.$on("menu-shown",function(){$timeout(function(){uiGridColumnMenuService.repositionMenu($scope,$scope.col,$scope.colElementPosition,$elm,$scope.colElement),delete $scope.colElementPosition,delete $scope.columnElement},200)}),$scope.sortColumn=function(event,dir){event.stopPropagation(),$scope.grid.sortColumn($scope.col,dir,!0).then(function(){$scope.grid.refresh(),$scope.hideMenu()})},$scope.unsortColumn=function(){$scope.col.unsort(),$scope.grid.refresh(),$scope.hideMenu()},$scope.hideColumn=function(){$scope.col.colDef.visible=!1,$scope.col.visible=!1,$scope.grid.queueGridRefresh(),$scope.hideMenu(),$scope.grid.api.core.notifyDataChange(uiGridConstants.dataChange.COLUMN),$scope.grid.api.core.raise.columnVisibilityChanged($scope.col)}},controller:["$scope",function($scope){var self=this;$scope.$watch("menuItems",function(n,o){self.menuItems=n})}]};return uiGridColumnMenu}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridFilter",["$compile","$templateCache",function($compile,$templateCache){return{compile:function(){return{pre:function($scope,$elm,$attrs,controllers){$scope.col.updateFilters=function(filterable){if($elm.children().remove(),filterable){var template=$scope.col.filterHeaderTemplate;$elm.append($compile(template)($scope))}},$scope.$on("$destroy",function(){delete $scope.col.updateFilters})}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridFooterCell",["$timeout","gridUtil","uiGridConstants","$compile",function($timeout,gridUtil,uiGridConstants,$compile){var uiGridFooterCell={priority:0,scope:{col:"=",row:"=",renderIndex:"="},replace:!0,require:"^uiGrid",compile:function(tElement,tAttrs,transclude){return{pre:function($scope,$elm,$attrs,uiGridCtrl){var cellFooter=$compile($scope.col.footerCellTemplate)($scope);$elm.append(cellFooter)},post:function($scope,$elm,$attrs,uiGridCtrl){$scope.grid=uiGridCtrl.grid;var initColClass=$scope.col.getColClass(!1);$elm.addClass(initColClass);var classAdded,updateClass=function(grid){var contents=$elm;classAdded&&(contents.removeClass(classAdded),classAdded=null),classAdded=angular.isFunction($scope.col.footerCellClass)?$scope.col.footerCellClass($scope.grid,$scope.row,$scope.col,$scope.rowRenderIndex,$scope.colRenderIndex):$scope.col.footerCellClass,contents.addClass(classAdded)};$scope.col.footerCellClass&&updateClass();var dataChangeDereg=$scope.grid.registerDataChangeCallback(updateClass,[uiGridConstants.dataChange.COLUMN]);$scope.grid.api.core.on.rowsRendered($scope,$scope.col.updateAggregationValue),$scope.$on("$destroy",dataChangeDereg)}}}};return uiGridFooterCell}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridFooter",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout",function($templateCache,$compile,uiGridConstants,gridUtil,$timeout){return{restrict:"EA",replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:!0,compile:function($elm,$attrs){return{pre:function($scope,$elm,$attrs,controllers){var uiGridCtrl=controllers[0],containerCtrl=controllers[1];$scope.grid=uiGridCtrl.grid,$scope.colContainer=containerCtrl.colContainer,containerCtrl.footer=$elm;var footerTemplate=$scope.grid.options.footerTemplate;gridUtil.getTemplate(footerTemplate).then(function(contents){var template=angular.element(contents),newElm=$compile(template)($scope);if($elm.append(newElm),containerCtrl){var footerViewport=$elm[0].getElementsByClassName("ui-grid-footer-viewport")[0];footerViewport&&(containerCtrl.footerViewport=footerViewport)}})},post:function($scope,$elm,$attrs,controllers){var uiGridCtrl=controllers[0],containerCtrl=controllers[1];uiGridCtrl.grid;gridUtil.disableAnimations($elm),containerCtrl.footer=$elm;var footerViewport=$elm[0].getElementsByClassName("ui-grid-footer-viewport")[0];footerViewport&&(containerCtrl.footerViewport=footerViewport)}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridGridFooter",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout",function($templateCache,$compile,uiGridConstants,gridUtil,$timeout){return{restrict:"EA",replace:!0,require:"^uiGrid",scope:!0,compile:function($elm,$attrs){return{pre:function($scope,$elm,$attrs,uiGridCtrl){$scope.grid=uiGridCtrl.grid;var footerTemplate=$scope.grid.options.gridFooterTemplate;gridUtil.getTemplate(footerTemplate).then(function(contents){var template=angular.element(contents),newElm=$compile(template)($scope);$elm.append(newElm)})},post:function($scope,$elm,$attrs,controllers){}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridGroupPanel",["$compile","uiGridConstants","gridUtil",function($compile,uiGridConstants,gridUtil){var defaultTemplate="ui-grid/ui-grid-group-panel";return{restrict:"EA",replace:!0,require:"?^uiGrid",scope:!1,compile:function($elm,$attrs){return{pre:function($scope,$elm,$attrs,uiGridCtrl){var groupPanelTemplate=$scope.grid.options.groupPanelTemplate||defaultTemplate;gridUtil.getTemplate(groupPanelTemplate).then(function(contents){var template=angular.element(contents),newElm=$compile(template)($scope);$elm.append(newElm)})},post:function($scope,$elm,$attrs,uiGridCtrl){$elm.bind("$destroy",function(){})}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridHeaderCell",["$compile","$timeout","$window","$document","gridUtil","uiGridConstants","ScrollEvent",function($compile,$timeout,$window,$document,gridUtil,uiGridConstants,ScrollEvent){var mousedownTimeout=500,changeModeTimeout=500,uiGridHeaderCell={priority:0,scope:{col:"=",row:"=",renderIndex:"="},require:["?^uiGrid","^uiGridRenderContainer"],replace:!0,compile:function(){return{pre:function($scope,$elm,$attrs){var cellHeader=$compile($scope.col.headerCellTemplate)($scope);$elm.append(cellHeader)},post:function($scope,$elm,$attrs,controllers){var uiGridCtrl=controllers[0],renderContainerCtrl=controllers[1];$scope.grid=uiGridCtrl.grid,$scope.renderContainer=uiGridCtrl.grid.renderContainers[renderContainerCtrl.containerId];var initColClass=$scope.col.getColClass(!1);$elm.addClass(initColClass),$scope.menuShown=!1,$scope.asc=uiGridConstants.ASC,$scope.desc=uiGridConstants.DESC;var classAdded,$contentsElm=(angular.element($elm[0].querySelectorAll(".ui-grid-header-cell-menu")),angular.element($elm[0].querySelectorAll(".ui-grid-cell-contents"))),filterDeregisters=[];$scope.downFn=function(event){event.stopPropagation(),"undefined"!=typeof event.originalEvent&&void 0!==event.originalEvent&&(event=event.originalEvent),event.button&&0!==event.button||($scope.mousedownStartTime=(new Date).getTime(),$scope.mousedownTimeout=$timeout(function(){},mousedownTimeout),$scope.mousedownTimeout.then(function(){$scope.colMenu&&uiGridCtrl.columnMenuScope.showMenu($scope.col,$elm,event)}),uiGridCtrl.fireEvent(uiGridConstants.events.COLUMN_HEADER_CLICK,{event:event,columnName:$scope.col.colDef.name}),$scope.offAllEvents(),"touchstart"===event.type?($document.on("touchend",$scope.upFn),$document.on("touchmove",$scope.moveFn)):"mousedown"===event.type&&($document.on("mouseup",$scope.upFn),$document.on("mousemove",$scope.moveFn)))},$scope.upFn=function(event){event.stopPropagation(),$timeout.cancel($scope.mousedownTimeout),$scope.offAllEvents(),$scope.onDownEvents(event.type);var mousedownEndTime=(new Date).getTime(),mousedownTime=mousedownEndTime-$scope.mousedownStartTime;mousedownTime>mousedownTimeout||$scope.sortable&&$scope.handleClick(event)},$scope.moveFn=function(event){$timeout.cancel($scope.mousedownTimeout),$scope.offAllEvents(),$scope.onDownEvents(event.type)},$scope.clickFn=function(event){event.stopPropagation(),$contentsElm.off("click",$scope.clickFn)},$scope.offAllEvents=function(){$contentsElm.off("touchstart",$scope.downFn),$contentsElm.off("mousedown",$scope.downFn),$document.off("touchend",$scope.upFn),$document.off("mouseup",$scope.upFn),$document.off("touchmove",$scope.moveFn),$document.off("mousemove",$scope.moveFn),$contentsElm.off("click",$scope.clickFn)},$scope.onDownEvents=function(type){switch(type){case"touchmove":case"touchend":$contentsElm.on("click",$scope.clickFn),$contentsElm.on("touchstart",$scope.downFn),$timeout(function(){$contentsElm.on("mousedown",$scope.downFn)},changeModeTimeout);break;case"mousemove":case"mouseup":$contentsElm.on("click",$scope.clickFn),$contentsElm.on("mousedown",$scope.downFn),$timeout(function(){$contentsElm.on("touchstart",$scope.downFn)},changeModeTimeout);break;default:$contentsElm.on("click",$scope.clickFn),$contentsElm.on("touchstart",$scope.downFn),$contentsElm.on("mousedown",$scope.downFn)}};var updateHeaderOptions=function(grid){var contents=$elm;classAdded&&(contents.removeClass(classAdded),classAdded=null),classAdded=angular.isFunction($scope.col.headerCellClass)?$scope.col.headerCellClass($scope.grid,$scope.row,$scope.col,$scope.rowRenderIndex,$scope.colRenderIndex):$scope.col.headerCellClass,contents.addClass(classAdded);var rightMostContainer=$scope.grid.renderContainers.right?$scope.grid.renderContainers.right:$scope.grid.renderContainers.body;$scope.isLastCol=$scope.col===rightMostContainer.visibleColumnCache[rightMostContainer.visibleColumnCache.length-1],uiGridCtrl.grid.options.enableSorting&&$scope.col.enableSorting?$scope.sortable=!0:$scope.sortable=!1;var oldFilterable=$scope.filterable;uiGridCtrl.grid.options.enableFiltering&&$scope.col.enableFiltering?$scope.filterable=!0:$scope.filterable=!1,oldFilterable!==$scope.filterable&&("undefined"!=typeof $scope.col.updateFilters&&$scope.col.updateFilters($scope.filterable),$scope.filterable?($scope.col.filters.forEach(function(filter,i){filterDeregisters.push($scope.$watch("col.filters["+i+"].term",function(n,o){n!==o&&(uiGridCtrl.grid.api.core.raise.filterChanged(),uiGridCtrl.grid.api.core.notifyDataChange(uiGridConstants.dataChange.COLUMN),uiGridCtrl.grid.queueGridRefresh())}))}),$scope.$on("$destroy",function(){filterDeregisters.forEach(function(filterDeregister){filterDeregister()})})):filterDeregisters.forEach(function(filterDeregister){filterDeregister()})),$scope.col.grid.options&&$scope.col.grid.options.enableColumnMenus!==!1&&$scope.col.colDef&&$scope.col.colDef.enableColumnMenu!==!1?$scope.colMenu=!0:$scope.colMenu=!1,$scope.offAllEvents(),($scope.sortable||$scope.colMenu)&&($scope.onDownEvents(),$scope.$on("$destroy",function(){$scope.offAllEvents()}))};updateHeaderOptions();var dataChangeDereg=$scope.grid.registerDataChangeCallback(updateHeaderOptions,[uiGridConstants.dataChange.COLUMN]);$scope.$on("$destroy",dataChangeDereg),$scope.handleClick=function(event){var add=!1;event.shiftKey&&(add=!0),uiGridCtrl.grid.sortColumn($scope.col,add).then(function(){uiGridCtrl.columnMenuScope&&uiGridCtrl.columnMenuScope.hideMenu(),uiGridCtrl.grid.refresh()})},$scope.toggleMenu=function(event){event.stopPropagation(),uiGridCtrl.columnMenuScope.menuShown&&uiGridCtrl.columnMenuScope.col===$scope.col?uiGridCtrl.columnMenuScope.hideMenu():uiGridCtrl.columnMenuScope.showMenu($scope.col,$elm)}}}}};return uiGridHeaderCell}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridHeader",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout","ScrollEvent",function($templateCache,$compile,uiGridConstants,gridUtil,$timeout,ScrollEvent){var defaultTemplate="ui-grid/ui-grid-header",emptyTemplate="ui-grid/ui-grid-no-header";return{restrict:"EA",replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:!0,compile:function($elm,$attrs){return{pre:function($scope,$elm,$attrs,controllers){function updateHeaderReferences(){containerCtrl.header=containerCtrl.colContainer.header=$elm;var headerCanvases=$elm[0].getElementsByClassName("ui-grid-header-canvas");headerCanvases.length>0?containerCtrl.headerCanvas=containerCtrl.colContainer.headerCanvas=headerCanvases[0]:containerCtrl.headerCanvas=null}function scrollHandler(evt){if(!uiGridCtrl.grid.isScrollingHorizontally){var newScrollLeft=gridUtil.normalizeScrollLeft(containerCtrl.headerViewport,uiGridCtrl.grid),horizScrollPercentage=containerCtrl.colContainer.scrollHorizontal(newScrollLeft),scrollEvent=new ScrollEvent(uiGridCtrl.grid,null,containerCtrl.colContainer,ScrollEvent.Sources.ViewPortScroll);scrollEvent.newScrollLeft=newScrollLeft,horizScrollPercentage>-1&&(scrollEvent.x={percentage:horizScrollPercentage}),uiGridCtrl.grid.scrollContainers(null,scrollEvent)}}var uiGridCtrl=controllers[0],containerCtrl=controllers[1];$scope.grid=uiGridCtrl.grid,$scope.colContainer=containerCtrl.colContainer,updateHeaderReferences();var headerTemplate;headerTemplate=$scope.grid.options.showHeader?$scope.grid.options.headerTemplate?$scope.grid.options.headerTemplate:defaultTemplate:emptyTemplate,gridUtil.getTemplate(headerTemplate).then(function(contents){var template=angular.element(contents),newElm=$compile(template)($scope);if($elm.replaceWith(newElm),$elm=newElm,updateHeaderReferences(),containerCtrl){var headerViewport=$elm[0].getElementsByClassName("ui-grid-header-viewport")[0];headerViewport&&(containerCtrl.headerViewport=headerViewport,angular.element(headerViewport).on("scroll",scrollHandler),$scope.$on("$destroy",function(){angular.element(headerViewport).off("scroll",scrollHandler)}))}$scope.grid.queueRefresh()})},post:function($scope,$elm,$attrs,controllers){function updateColumnWidths(){var columnCache=containerCtrl.colContainer.visibleColumnCache,ret="",canvasWidth=0;return columnCache.forEach(function(column){ret+=column.getColClassDefinition(),canvasWidth+=column.drawnWidth}),containerCtrl.colContainer.canvasWidth=canvasWidth,ret}var uiGridCtrl=controllers[0],containerCtrl=controllers[1];uiGridCtrl.grid;gridUtil.disableAnimations($elm),containerCtrl.header=$elm;var headerViewport=$elm[0].getElementsByClassName("ui-grid-header-viewport")[0];headerViewport&&(containerCtrl.headerViewport=headerViewport),uiGridCtrl&&uiGridCtrl.grid.registerStyleComputation({priority:15,func:updateColumnWidths})}}}}}])}(),function(){angular.module("ui.grid").service("uiGridGridMenuService",["gridUtil","i18nService","uiGridConstants",function(gridUtil,i18nService,uiGridConstants){var service={initialize:function($scope,grid){grid.gridMenuScope=$scope,$scope.grid=grid,$scope.registeredMenuItems=[],$scope.$on("$destroy",function(){$scope.grid&&$scope.grid.gridMenuScope&&($scope.grid.gridMenuScope=null),$scope.grid&&($scope.grid=null),$scope.registeredMenuItems&&($scope.registeredMenuItems=null)}),$scope.registeredMenuItems=[],grid.api.registerMethod("core","addToGridMenu",service.addToGridMenu),grid.api.registerMethod("core","removeFromGridMenu",service.removeFromGridMenu)},addToGridMenu:function(grid,menuItems){angular.isArray(menuItems)?grid.gridMenuScope?(grid.gridMenuScope.registeredMenuItems=grid.gridMenuScope.registeredMenuItems?grid.gridMenuScope.registeredMenuItems:[],grid.gridMenuScope.registeredMenuItems=grid.gridMenuScope.registeredMenuItems.concat(menuItems)):gridUtil.logError("Asked to addToGridMenu, but gridMenuScope not present.  Timing issue?  Please log issue with ui-grid"):gridUtil.logError("addToGridMenu: menuItems must be an array, and is not, not adding any items")},removeFromGridMenu:function(grid,id){var foundIndex=-1;grid&&grid.gridMenuScope&&grid.gridMenuScope.registeredMenuItems.forEach(function(value,index){value.id===id&&(foundIndex>-1?gridUtil.logError("removeFromGridMenu: found multiple items with the same id, removing only the last"):foundIndex=index)}),foundIndex>-1&&grid.gridMenuScope.registeredMenuItems.splice(foundIndex,1)},getMenuItems:function($scope){var menuItems=[];return $scope.grid.options.gridMenuCustomItems&&(angular.isArray($scope.grid.options.gridMenuCustomItems)?menuItems=menuItems.concat($scope.grid.options.gridMenuCustomItems):gridUtil.logError("gridOptions.gridMenuCustomItems must be an array, and is not")),menuItems=menuItems.concat($scope.registeredMenuItems),$scope.grid.options.gridMenuShowHideColumns!==!1&&(menuItems=menuItems.concat(service.showHideColumns($scope))),menuItems.sort(function(a,b){return a.order-b.order}),menuItems},showHideColumns:function($scope){var showHideColumns=[];return $scope.grid.options.columnDefs&&0!==$scope.grid.options.columnDefs.length&&0!==$scope.grid.columns.length?(showHideColumns.push({title:i18nService.getSafeText("gridMenu.columns"),order:300}),$scope.grid.options.gridMenuTitleFilter=$scope.grid.options.gridMenuTitleFilter?$scope.grid.options.gridMenuTitleFilter:function(title){return title},$scope.grid.options.columnDefs.forEach(function(colDef,index){if(colDef.enableHiding!==!1){var menuItem={icon:"ui-grid-icon-ok",action:function($event){$event.stopPropagation(),service.toggleColumnVisibility(this.context.gridCol)},shown:function(){return this.context.gridCol.colDef.visible===!0||void 0===this.context.gridCol.colDef.visible},context:{gridCol:$scope.grid.getColumn(colDef.name||colDef.field)},leaveOpen:!0,order:301+2*index};service.setMenuItemTitle(menuItem,colDef,$scope.grid),showHideColumns.push(menuItem),menuItem={icon:"ui-grid-icon-cancel",action:function($event){$event.stopPropagation(),service.toggleColumnVisibility(this.context.gridCol)},shown:function(){return!(this.context.gridCol.colDef.visible===!0||void 0===this.context.gridCol.colDef.visible)},context:{gridCol:$scope.grid.getColumn(colDef.name||colDef.field)},leaveOpen:!0,order:301+2*index+1},service.setMenuItemTitle(menuItem,colDef,$scope.grid),showHideColumns.push(menuItem)}}),showHideColumns):showHideColumns},setMenuItemTitle:function(menuItem,colDef,grid){var title=grid.options.gridMenuTitleFilter(colDef.displayName||colDef.name||colDef.field);"string"==typeof title?menuItem.title=title:title.then?(menuItem.title="",title.then(function(successValue){menuItem.title=successValue},function(errorValue){menuItem.title=errorValue})):(gridUtil.logError("Expected gridMenuTitleFilter to return a string or a promise, it has returned neither, bad config"),menuItem.title="badconfig")},toggleColumnVisibility:function(gridCol){gridCol.colDef.visible=!(gridCol.colDef.visible===!0||void 0===gridCol.colDef.visible),gridCol.grid.refresh(),
gridCol.grid.api.core.notifyDataChange(uiGridConstants.dataChange.COLUMN),gridCol.grid.api.core.raise.columnVisibilityChanged(gridCol)}};return service}]).directive("uiGridMenuButton",["gridUtil","uiGridConstants","uiGridGridMenuService",function(gridUtil,uiGridConstants,uiGridGridMenuService){return{priority:0,scope:!0,require:["?^uiGrid"],templateUrl:"ui-grid/ui-grid-menu-button",replace:!0,link:function($scope,$elm,$attrs,controllers){var uiGridCtrl=controllers[0];uiGridGridMenuService.initialize($scope,uiGridCtrl.grid),$scope.shown=!1,$scope.toggleMenu=function(){$scope.shown?($scope.$broadcast("hide-menu"),$scope.shown=!1):($scope.menuItems=uiGridGridMenuService.getMenuItems($scope),$scope.$broadcast("show-menu"),$scope.shown=!0)},$scope.$on("menu-hidden",function(){$scope.shown=!1})}}}])}(),function(){angular.module("ui.grid").directive("uiGridMenu",["$compile","$timeout","$window","$document","gridUtil","uiGridConstants",function($compile,$timeout,$window,$document,gridUtil,uiGridConstants){var uiGridMenu={priority:0,scope:{menuItems:"=",autoHide:"=?"},require:"?^uiGrid",templateUrl:"ui-grid/uiGridMenu",replace:!1,link:function($scope,$elm,$attrs,uiGridCtrl){var self=this;self.showMenu=$scope.showMenu=function(event,args){$scope.shown?$scope.shownMid||($scope.shownMid=!0,$scope.$emit("menu-shown")):($scope.shown=!0,$timeout(function(){$scope.shownMid=!0,$scope.$emit("menu-shown")}));var docEventType="click";args&&args.originalEvent&&args.originalEvent.type&&"touchstart"===args.originalEvent.type&&(docEventType=args.originalEvent.type),angular.element(document).off("click touchstart",applyHideMenu),$timeout(function(){angular.element(document).on(docEventType,applyHideMenu)})},self.hideMenu=$scope.hideMenu=function(event,args){$scope.shown&&($scope.shownMid=!1,$timeout(function(){$scope.shownMid||($scope.shown=!1,$scope.$emit("menu-hidden"))},200)),angular.element(document).off("click touchstart",applyHideMenu)},$scope.$on("hide-menu",function(event,args){$scope.hideMenu(event,args)}),$scope.$on("show-menu",function(event,args){$scope.showMenu(event,args)});var applyHideMenu=function(){$scope.shown&&$scope.$apply(function(){$scope.hideMenu()})};"undefined"!=typeof $scope.autoHide&&void 0!==$scope.autoHide||($scope.autoHide=!0),$scope.autoHide&&angular.element($window).on("resize",applyHideMenu),$scope.$on("$destroy",function(){angular.element(document).off("click touchstart",applyHideMenu)}),$scope.$on("$destroy",function(){angular.element($window).off("resize",applyHideMenu)}),uiGridCtrl&&$scope.$on("$destroy",uiGridCtrl.grid.api.core.on.scrollBegin($scope,applyHideMenu)),$scope.$on("$destroy",$scope.$on(uiGridConstants.events.ITEM_DRAGGING,applyHideMenu))},controller:["$scope","$element","$attrs",function($scope,$element,$attrs){}]};return uiGridMenu}]).directive("uiGridMenuItem",["gridUtil","$compile","i18nService",function(gridUtil,$compile,i18nService){var uiGridMenuItem={priority:0,scope:{name:"=",active:"=",action:"=",icon:"=",shown:"=",context:"=",templateUrl:"=",leaveOpen:"="},require:["?^uiGrid","^uiGridMenu"],templateUrl:"ui-grid/uiGridMenuItem",replace:!0,compile:function($elm,$attrs){return{pre:function($scope,$elm,$attrs,controllers){controllers[0],controllers[1];$scope.templateUrl&&gridUtil.getTemplate($scope.templateUrl).then(function(contents){var template=angular.element(contents),newElm=$compile(template)($scope);$elm.replaceWith(newElm)})},post:function($scope,$elm,$attrs,controllers){var uiGridCtrl=controllers[0];controllers[1];"undefined"!=typeof $scope.shown&&null!==$scope.shown||($scope.shown=function(){return!0}),$scope.itemShown=function(){var context={};return $scope.context&&(context.context=$scope.context),"undefined"!=typeof uiGridCtrl&&uiGridCtrl&&(context.grid=uiGridCtrl.grid),$scope.shown.call(context)},$scope.itemAction=function($event,title){if($event.stopPropagation(),"function"==typeof $scope.action){var context={};$scope.context&&(context.context=$scope.context),"undefined"!=typeof uiGridCtrl&&uiGridCtrl&&(context.grid=uiGridCtrl.grid),$scope.action.call(context,$event,title),$scope.leaveOpen||$scope.$emit("hide-menu")}},$scope.i18n=i18nService.get()}}}};return uiGridMenuItem}])}(),function(){"use strict";var module=angular.module("ui.grid");module.directive("uiGridRenderContainer",["$timeout","$document","uiGridConstants","gridUtil","ScrollEvent",function($timeout,$document,uiGridConstants,gridUtil,ScrollEvent){return{replace:!0,transclude:!0,templateUrl:"ui-grid/uiGridRenderContainer",require:["^uiGrid","uiGridRenderContainer"],scope:{containerId:"=",rowContainerName:"=",colContainerName:"=",bindScrollHorizontal:"=",bindScrollVertical:"=",enableVerticalScrollbar:"=",enableHorizontalScrollbar:"="},controller:"uiGridRenderContainer as RenderContainer",compile:function(){return{pre:function($scope,$elm,$attrs,controllers){var uiGridCtrl=controllers[0],containerCtrl=controllers[1],grid=$scope.grid=uiGridCtrl.grid;if(!$scope.rowContainerName)throw"No row render container name specified";if(!$scope.colContainerName)throw"No column render container name specified";if(!grid.renderContainers[$scope.rowContainerName])throw"Row render container '"+$scope.rowContainerName+"' is not registered.";if(!grid.renderContainers[$scope.colContainerName])throw"Column render container '"+$scope.colContainerName+"' is not registered.";var rowContainer=$scope.rowContainer=grid.renderContainers[$scope.rowContainerName],colContainer=$scope.colContainer=grid.renderContainers[$scope.colContainerName];containerCtrl.containerId=$scope.containerId,containerCtrl.rowContainer=rowContainer,containerCtrl.colContainer=colContainer},post:function($scope,$elm,$attrs,controllers){function update(){var ret="",canvasWidth=colContainer.canvasWidth,viewportWidth=colContainer.getViewportWidth(),canvasHeight=rowContainer.getCanvasHeight();"body"!==$scope.containerId&&(canvasHeight+=grid.scrollbarHeight);var viewportHeight=rowContainer.getViewportHeight(),headerViewportWidth=colContainer.getHeaderViewportWidth(),footerViewportWidth=colContainer.getHeaderViewportWidth();return ret+="\n .grid"+uiGridCtrl.grid.id+" .ui-grid-render-container-"+$scope.containerId+" .ui-grid-canvas { width: "+canvasWidth+"px; height: "+canvasHeight+"px; }",ret+="\n .grid"+uiGridCtrl.grid.id+" .ui-grid-render-container-"+$scope.containerId+" .ui-grid-header-canvas { width: "+(canvasWidth+grid.scrollbarWidth)+"px; }",renderContainer.explicitHeaderCanvasHeight&&(ret+="\n .grid"+uiGridCtrl.grid.id+" .ui-grid-render-container-"+$scope.containerId+" .ui-grid-header-canvas { height: "+renderContainer.explicitHeaderCanvasHeight+"px; }"),ret+="\n .grid"+uiGridCtrl.grid.id+" .ui-grid-render-container-"+$scope.containerId+" .ui-grid-viewport { width: "+viewportWidth+"px; height: "+viewportHeight+"px; }",ret+="\n .grid"+uiGridCtrl.grid.id+" .ui-grid-render-container-"+$scope.containerId+" .ui-grid-header-viewport { width: "+headerViewportWidth+"px; }",ret+="\n .grid"+uiGridCtrl.grid.id+" .ui-grid-render-container-"+$scope.containerId+" .ui-grid-footer-canvas { width: "+(canvasWidth+grid.scrollbarWidth)+"px; }",ret+="\n .grid"+uiGridCtrl.grid.id+" .ui-grid-render-container-"+$scope.containerId+" .ui-grid-footer-viewport { width: "+footerViewportWidth+"px; }"}var uiGridCtrl=controllers[0],containerCtrl=controllers[1],grid=uiGridCtrl.grid,rowContainer=containerCtrl.rowContainer,colContainer=containerCtrl.colContainer,renderContainer=grid.renderContainers[$scope.containerId];$elm.addClass("ui-grid-render-container-"+$scope.containerId),$elm.bind("$destroy",function(){$elm.unbind("keydown"),["touchstart","touchmove","touchend","keydown","wheel","mousewheel","DomMouseScroll","MozMousePixelScroll"].forEach(function(eventName){$elm.unbind(eventName)})}),uiGridCtrl.grid.registerStyleComputation({priority:6,func:update})}}}}}]),module.controller("uiGridRenderContainer",["$scope","gridUtil",function($scope,gridUtil){}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridRow",["gridUtil",function(gridUtil){return{replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:{row:"=uiGridRow",rowRenderIndex:"="},compile:function(){return{pre:function($scope,$elm,$attrs,controllers){function compileTemplate(){$scope.row.getRowTemplateFn.then(function(compiledElementFn){var newScope=$scope.$new();compiledElementFn(newScope,function(newElm,scope){clonedElement&&(clonedElement.remove(),cloneScope.$destroy()),$elm.empty().append(newElm),clonedElement=newElm,cloneScope=newScope})})}var uiGridCtrl=controllers[0],containerCtrl=controllers[1];uiGridCtrl.grid;$scope.grid=uiGridCtrl.grid,$scope.colContainer=containerCtrl.colContainer;var clonedElement,cloneScope;compileTemplate(),$scope.$watch("row.getRowTemplateFn",function(newFunc,oldFunc){newFunc!==oldFunc&&compileTemplate()})},post:function($scope,$elm,$attrs,controllers){}}}}}])}(),function(){angular.module("ui.grid").directive("uiGridStyle",["gridUtil","$interpolate",function(gridUtil,$interpolate){return{link:function($scope,$elm,$attrs,uiGridCtrl){var interpolateFn=$interpolate($elm.text(),!0);interpolateFn&&$scope.$watch(interpolateFn,function(value){$elm.text(value)})}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridViewport",["gridUtil","ScrollEvent","uiGridConstants","$log",function(gridUtil,ScrollEvent,uiGridConstants,$log){return{replace:!0,scope:{},controllerAs:"Viewport",templateUrl:"ui-grid/uiGridViewport",require:["^uiGrid","^uiGridRenderContainer"],link:function($scope,$elm,$attrs,controllers){function scrollHandler(evt){var newScrollTop=$elm[0].scrollTop,newScrollLeft=gridUtil.normalizeScrollLeft($elm,grid),vertScrollPercentage=rowContainer.scrollVertical(newScrollTop),horizScrollPercentage=colContainer.scrollHorizontal(newScrollLeft),scrollEvent=new ScrollEvent(grid,rowContainer,colContainer,ScrollEvent.Sources.ViewPortScroll);scrollEvent.newScrollLeft=newScrollLeft,scrollEvent.newScrollTop=newScrollTop,horizScrollPercentage>-1&&(scrollEvent.x={percentage:horizScrollPercentage}),vertScrollPercentage>-1&&(scrollEvent.y={percentage:vertScrollPercentage}),grid.scrollContainers($scope.$parent.containerId,scrollEvent)}function syncVerticalScroll(scrollEvent){containerCtrl.prevScrollArgs=scrollEvent;var newScrollTop=scrollEvent.getNewScrollTop(rowContainer,containerCtrl.viewport);$elm[0].scrollTop=newScrollTop}function syncHorizontalScroll(scrollEvent){containerCtrl.prevScrollArgs=scrollEvent;var newScrollLeft=scrollEvent.getNewScrollLeft(colContainer,containerCtrl.viewport);$elm[0].scrollLeft=gridUtil.denormalizeScrollLeft(containerCtrl.viewport,newScrollLeft,grid)}function syncHorizontalHeader(scrollEvent){var newScrollLeft=scrollEvent.getNewScrollLeft(colContainer,containerCtrl.viewport);containerCtrl.headerViewport&&(containerCtrl.headerViewport.scrollLeft=gridUtil.denormalizeScrollLeft(containerCtrl.viewport,newScrollLeft,grid))}function syncHorizontalFooter(scrollEvent){var newScrollLeft=scrollEvent.getNewScrollLeft(colContainer,containerCtrl.viewport);containerCtrl.footerViewport&&(containerCtrl.footerViewport.scrollLeft=gridUtil.denormalizeScrollLeft(containerCtrl.viewport,newScrollLeft,grid))}var uiGridCtrl=controllers[0],containerCtrl=controllers[1];$scope.containerCtrl=containerCtrl;var rowContainer=containerCtrl.rowContainer,colContainer=containerCtrl.colContainer,grid=uiGridCtrl.grid;$scope.grid=uiGridCtrl.grid,$scope.rowContainer=containerCtrl.rowContainer,$scope.colContainer=containerCtrl.colContainer,containerCtrl.viewport=$elm,$elm.on("scroll",scrollHandler);$scope.$parent.bindScrollVertical&&grid.addVerticalScrollSync($scope.$parent.containerId,syncVerticalScroll),$scope.$parent.bindScrollHorizontal&&(grid.addHorizontalScrollSync($scope.$parent.containerId,syncHorizontalScroll),grid.addHorizontalScrollSync($scope.$parent.containerId+"header",syncHorizontalHeader),grid.addHorizontalScrollSync($scope.$parent.containerId+"footer",syncHorizontalFooter))},controller:["$scope",function($scope){this.rowStyle=function(index){var rowContainer=$scope.rowContainer,colContainer=$scope.colContainer,styles={};if(0===index&&0!==rowContainer.currentTopRow){var hiddenRowWidth=rowContainer.currentTopRow*rowContainer.grid.options.rowHeight;styles["margin-top"]=hiddenRowWidth+"px"}return 0!==colContainer.currentFirstColumn&&(colContainer.grid.isRTL()?styles["margin-right"]=colContainer.columnOffset+"px":styles["margin-left"]=colContainer.columnOffset+"px"),styles}}]}}])}(),function(){angular.module("ui.grid").directive("uiGridVisible",function(){return function($scope,$elm,$attr){$scope.$watch($attr.uiGridVisible,function(visible){$elm[visible?"removeClass":"addClass"]("ui-grid-invisible")})}})}(),function(){"use strict";function uiGridDirective($compile,$templateCache,$timeout,$window,gridUtil,uiGridConstants){return{templateUrl:"ui-grid/ui-grid",scope:{uiGrid:"="},replace:!0,transclude:!0,controller:"uiGridController",compile:function(){return{post:function($scope,$elm,$attrs,uiGridCtrl){function checkSize(){$elm[0].offsetWidth<=0&&sizeChecks<maxSizeChecks?(setTimeout(checkSize,sizeCheckInterval),sizeChecks++):$timeout(init)}function setup(){angular.element($window).on("resize",gridResize),$elm.on("$destroy",function(){angular.element($window).off("resize",gridResize)}),$scope.$watch(function(){return grid.hasLeftContainer()},function(newValue,oldValue){newValue!==oldValue&&grid.refreshCanvas(!0)}),$scope.$watch(function(){return grid.hasRightContainer()},function(newValue,oldValue){newValue!==oldValue&&grid.refreshCanvas(!0)})}function init(){grid.gridWidth=$scope.gridWidth=gridUtil.elementWidth($elm),grid.canvasWidth=uiGridCtrl.grid.gridWidth,grid.gridHeight=$scope.gridHeight=gridUtil.elementHeight($elm),grid.gridHeight<grid.options.rowHeight&&grid.options.enableMinHeightCheck&&autoAdjustHeight(),grid.refreshCanvas(!0)}function autoAdjustHeight(){var contentHeight=grid.options.minRowsToShow*grid.options.rowHeight,headerHeight=grid.options.showHeader?grid.options.headerRowHeight:0,footerHeight=grid.calcFooterHeight(),scrollbarHeight=0;grid.options.enableHorizontalScrollbar===uiGridConstants.scrollbars.ALWAYS&&(scrollbarHeight=gridUtil.getScrollbarWidth());var maxNumberOfFilters=0;angular.forEach(grid.options.columnDefs,function(col){col.hasOwnProperty("filter")?maxNumberOfFilters<1&&(maxNumberOfFilters=1):col.hasOwnProperty("filters")&&maxNumberOfFilters<col.filters.length&&(maxNumberOfFilters=col.filters.length)});var filterHeight=maxNumberOfFilters*headerHeight,newHeight=headerHeight+contentHeight+footerHeight+scrollbarHeight+filterHeight;$elm.css("height",newHeight+"px"),grid.gridHeight=$scope.gridHeight=gridUtil.elementHeight($elm)}function gridResize($event){grid.gridWidth=$scope.gridWidth=gridUtil.elementWidth($elm),grid.gridHeight=$scope.gridHeight=gridUtil.elementHeight($elm),grid.refreshCanvas(!0)}var grid=uiGridCtrl.grid;uiGridCtrl.scrollbars=[],grid.element=$elm;var sizeCheckInterval=100,maxSizeChecks=20,sizeChecks=0;setup(),init(),grid.renderingComplete(),checkSize()}}}}}angular.module("ui.grid").controller("uiGridController",["$scope","$element","$attrs","gridUtil","$q","uiGridConstants","$templateCache","gridClassFactory","$timeout","$parse","$compile",function($scope,$elm,$attrs,gridUtil,$q,uiGridConstants,$templateCache,gridClassFactory,$timeout,$parse,$compile){function columnDefsWatchFunction(n,o){n&&n!==o&&(self.grid.options.columnDefs=n,self.grid.buildColumns({orderByColumnDefs:!0}).then(function(){self.grid.preCompileCellTemplates(),self.grid.callDataChangeCallbacks(uiGridConstants.dataChange.COLUMN)}))}function dataWatchFunction(newData){var promises=[];self.grid.options.fastWatch&&(newData=angular.isString($scope.uiGrid.data)?self.grid.appScope[$scope.uiGrid.data]:$scope.uiGrid.data),newData&&(self.grid.columns.length===(self.grid.rowHeaderColumns?self.grid.rowHeaderColumns.length:0)&&!$attrs.uiGridColumns&&0===self.grid.options.columnDefs.length&&newData.length>0&&self.grid.buildColumnDefsFromData(newData),(self.grid.options.columnDefs.length>0||newData.length>0)&&promises.push(self.grid.buildColumns().then(function(){self.grid.preCompileCellTemplates()})),$q.all(promises).then(function(){self.grid.modifyRows(newData).then(function(){self.grid.redrawInPlace(!0),$scope.$evalAsync(function(){self.grid.refreshCanvas(!0),self.grid.callDataChangeCallbacks(uiGridConstants.dataChange.ROW)})})}))}var self=this;self.grid=gridClassFactory.createGrid($scope.uiGrid),self.grid.appScope=self.grid.appScope||$scope.$parent,$elm.addClass("grid"+self.grid.id),self.grid.rtl="rtl"===gridUtil.getStyles($elm[0]).direction,$scope.grid=self.grid,$attrs.uiGridColumns&&$attrs.$observe("uiGridColumns",function(value){self.grid.options.columnDefs=value,self.grid.buildColumns().then(function(){self.grid.preCompileCellTemplates(),self.grid.refreshCanvas(!0)})});var deregFunctions=[];self.grid.options.fastWatch?(self.uiGrid=$scope.uiGrid,angular.isString($scope.uiGrid.data)?(deregFunctions.push($scope.$parent.$watch($scope.uiGrid.data,dataWatchFunction)),deregFunctions.push($scope.$parent.$watch(function(){return self.grid.appScope[$scope.uiGrid.data]?self.grid.appScope[$scope.uiGrid.data].length:void 0},dataWatchFunction))):(deregFunctions.push($scope.$parent.$watch(function(){return $scope.uiGrid.data},dataWatchFunction)),deregFunctions.push($scope.$parent.$watch(function(){return $scope.uiGrid.data.length},dataWatchFunction))),deregFunctions.push($scope.$parent.$watch(function(){return $scope.uiGrid.columnDefs},columnDefsWatchFunction)),deregFunctions.push($scope.$parent.$watch(function(){return $scope.uiGrid.columnDefs.length},columnDefsWatchFunction))):(angular.isString($scope.uiGrid.data)?deregFunctions.push($scope.$parent.$watchCollection($scope.uiGrid.data,dataWatchFunction)):deregFunctions.push($scope.$parent.$watchCollection(function(){return $scope.uiGrid.data},dataWatchFunction)),deregFunctions.push($scope.$parent.$watchCollection(function(){return $scope.uiGrid.columnDefs},columnDefsWatchFunction)));var styleWatchDereg=$scope.$watch(function(){return self.grid.styleComputations},function(){self.grid.refreshCanvas(!0)});$scope.$on("$destroy",function(){deregFunctions.forEach(function(deregFn){deregFn()}),styleWatchDereg()}),self.fireEvent=function(eventName,args){"undefined"!=typeof args&&void 0!==args||(args={}),"undefined"!=typeof args.grid&&void 0!==args.grid||(args.grid=self.grid),$scope.$broadcast(eventName,args)},self.innerCompile=function(elm){$compile(elm)($scope)}}]),angular.module("ui.grid").directive("uiGrid",uiGridDirective),uiGridDirective.$inject=["$compile","$templateCache","$timeout","$window","gridUtil","uiGridConstants"]}(),function(){"use strict";angular.module("ui.grid").directive("uiGridPinnedContainer",["gridUtil",function(gridUtil){return{restrict:"EA",replace:!0,template:'<div class="ui-grid-pinned-container"><div ui-grid-render-container container-id="side" row-container-name="\'body\'" col-container-name="side" bind-scroll-vertical="true" class="{{ side }} ui-grid-render-container-{{ side }}"></div></div>',scope:{side:"=uiGridPinnedContainer"},require:"^uiGrid",compile:function(){return{post:function($scope,$elm,$attrs,uiGridCtrl){function monkeyPatchedGetViewportWidth(){var self=this,viewportWidth=0;self.visibleColumnCache.forEach(function(column){viewportWidth+=column.drawnWidth});var adjustment=self.getViewportAdjustment();return viewportWidth+=adjustment.width}function updateContainerWidth(){if("left"===$scope.side||"right"===$scope.side){for(var cols=grid.renderContainers[$scope.side].visibleColumnCache,width=0,i=0;i<cols.length;i++){var col=cols[i];width+=col.drawnWidth||col.width||0}return width}}function updateContainerDimensions(){var ret="";if("left"===$scope.side||"right"===$scope.side){myWidth=updateContainerWidth(),$elm.attr("style",null);var myHeight=grid.renderContainers.body.getViewportHeight();ret+=".grid"+grid.id+" .ui-grid-pinned-container-"+$scope.side+", .grid"+grid.id+" .ui-grid-pinned-container-"+$scope.side+" .ui-grid-render-container-"+$scope.side+" .ui-grid-viewport { width: "+myWidth+"px; height: "+myHeight+"px; } "}return ret}var grid=uiGridCtrl.grid,myWidth=0;$elm.addClass("ui-grid-pinned-container-"+$scope.side),"left"!==$scope.side&&"right"!==$scope.side||(grid.renderContainers[$scope.side].getViewportWidth=monkeyPatchedGetViewportWidth),grid.renderContainers.body.registerViewportAdjuster(function(adjustment){return myWidth=updateContainerWidth(),adjustment.width-=myWidth,adjustment.side=$scope.side,adjustment}),grid.registerStyleComputation({priority:15,func:updateContainerDimensions})}}}}}])}(),function(){angular.module("ui.grid").factory("Grid",["$q","$compile","$parse","gridUtil","uiGridConstants","GridOptions","GridColumn","GridRow","GridApi","rowSorter","rowSearcher","GridRenderContainer","$timeout","ScrollEvent",function($q,$compile,$parse,gridUtil,uiGridConstants,GridOptions,GridColumn,GridRow,GridApi,rowSorter,rowSearcher,GridRenderContainer,$timeout,ScrollEvent){function RowHashMap(){}var Grid=function(options){function vertical(scrollEvent){self.isScrollingVertically=!1,self.api.core.raise.scrollEnd(scrollEvent),self.scrollDirection=uiGridConstants.scrollDirection.NONE}function horizontal(scrollEvent){self.isScrollingHorizontally=!1,self.api.core.raise.scrollEnd(scrollEvent),self.scrollDirection=uiGridConstants.scrollDirection.NONE}var self=this;if(void 0===options||"undefined"==typeof options.id||!options.id)throw new Error("No ID provided. An ID must be given when creating a grid.");if(!/^[_a-zA-Z0-9-]+$/.test(options.id))throw new Error("Grid id '"+options.id+'" is invalid. It must follow CSS selector syntax rules.');self.id=options.id,delete options.id,self.options=GridOptions.initialize(options),self.appScope=self.options.appScopeProvider,self.headerHeight=self.options.headerRowHeight,self.footerHeight=self.calcFooterHeight(),self.columnFooterHeight=self.calcColumnFooterHeight(),self.rtl=!1,self.gridHeight=0,self.gridWidth=0,self.columnBuilders=[],self.rowBuilders=[],self.rowsProcessors=[],self.columnsProcessors=[],self.styleComputations=[],self.viewportAdjusters=[],self.rowHeaderColumns=[],self.dataChangeCallbacks={},self.verticalScrollSyncCallBackFns={},self.horizontalScrollSyncCallBackFns={},self.renderContainers={},self.renderContainers.body=new GridRenderContainer("body",self),self.cellValueGetterCache={},self.getRowTemplateFn=null,self.rows=[],self.columns=[],self.isScrollingVertically=!1,self.isScrollingHorizontally=!1,self.scrollDirection=uiGridConstants.scrollDirection.NONE;var debouncedVertical=gridUtil.debounce(vertical,self.options.scrollDebounce),debouncedVerticalMinDelay=gridUtil.debounce(vertical,0),debouncedHorizontal=gridUtil.debounce(horizontal,self.options.scrollDebounce),debouncedHorizontalMinDelay=gridUtil.debounce(horizontal,0);self.flagScrollingVertically=function(scrollEvent){self.isScrollingVertically||self.isScrollingHorizontally||self.api.core.raise.scrollBegin(scrollEvent),self.isScrollingVertically=!0,0!==self.options.scrollDebounce&&scrollEvent.withDelay?debouncedVertical(scrollEvent):debouncedVerticalMinDelay(scrollEvent)},self.flagScrollingHorizontally=function(scrollEvent){self.isScrollingVertically||self.isScrollingHorizontally||self.api.core.raise.scrollBegin(scrollEvent),self.isScrollingHorizontally=!0,0!==self.options.scrollDebounce&&scrollEvent.withDelay?debouncedHorizontal(scrollEvent):debouncedHorizontalMinDelay(scrollEvent)},self.scrollbarHeight=0,self.scrollbarWidth=0,self.options.enableHorizontalScrollbar===uiGridConstants.scrollbars.ALWAYS&&(self.scrollbarHeight=gridUtil.getScrollbarWidth()),self.options.enableVerticalScrollbar===uiGridConstants.scrollbars.ALWAYS&&(self.scrollbarWidth=gridUtil.getScrollbarWidth()),self.api=new GridApi(self),self.api.registerMethod("core","refresh",this.refresh),self.api.registerMethod("core","queueGridRefresh",this.queueGridRefresh),self.api.registerMethod("core","refreshRows",this.refreshRows),self.api.registerMethod("core","refreshRows",this.queueRefresh),self.api.registerMethod("core","handleWindowResize",this.handleWindowResize),self.api.registerMethod("core","addRowHeaderColumn",this.addRowHeaderColumn),self.api.registerMethod("core","scrollToIfNecessary",function(gridRow,gridCol){return self.scrollToIfNecessary(gridRow,gridCol)}),self.api.registerMethod("core","scrollTo",function(rowEntity,colDef){return self.scrollTo(rowEntity,colDef)}),self.api.registerMethod("core","registerRowsProcessor",this.registerRowsProcessor),self.api.registerMethod("core","registerColumnsProcessor",this.registerColumnsProcessor),self.api.registerMethod("core","sortHandleNulls",rowSorter.handleNulls),self.api.registerEvent("core","sortChanged"),self.api.registerEvent("core","columnVisibilityChanged"),self.api.registerMethod("core","notifyDataChange",this.notifyDataChange),self.api.registerMethod("core","clearAllFilters",this.clearAllFilters),self.registerDataChangeCallback(self.columnRefreshCallback,[uiGridConstants.dataChange.COLUMN]),self.registerDataChangeCallback(self.processRowsCallback,[uiGridConstants.dataChange.EDIT]),self.registerStyleComputation({priority:10,func:self.getFooterStyles})};return Grid.prototype.calcFooterHeight=function(){if(!this.hasFooter())return 0;var height=0;return this.options.showGridFooter&&(height+=this.options.gridFooterHeight),height+=this.calcColumnFooterHeight()},Grid.prototype.calcColumnFooterHeight=function(){var height=0;return this.options.showColumnFooter&&(height+=this.options.columnFooterHeight),height},Grid.prototype.getFooterStyles=function(){var style=".grid"+this.id+" .ui-grid-footer-aggregates-row { height: "+this.options.columnFooterHeight+"px; }";return style+=" .grid"+this.id+" .ui-grid-footer-info { height: "+this.options.gridFooterHeight+"px; }"},Grid.prototype.hasFooter=function(){return this.options.showGridFooter||this.options.showColumnFooter},Grid.prototype.isRTL=function(){return this.rtl},Grid.prototype.registerColumnBuilder=function(columnBuilder){this.columnBuilders.push(columnBuilder)},Grid.prototype.buildColumnDefsFromData=function(dataRows){this.options.columnDefs=gridUtil.getColumnsFromData(dataRows,this.options.excludeProperties)},Grid.prototype.registerRowBuilder=function(rowBuilder){this.rowBuilders.push(rowBuilder)},Grid.prototype.registerDataChangeCallback=function(callback,types,_this){var uid=gridUtil.nextUid();types||(types=[uiGridConstants.dataChange.ALL]),Array.isArray(types)||gridUtil.logError("Expected types to be an array or null in registerDataChangeCallback, value passed was: "+types),this.dataChangeCallbacks[uid]={callback:callback,types:types,_this:_this};var self=this,deregisterFunction=function(){delete self.dataChangeCallbacks[uid]};return deregisterFunction},Grid.prototype.callDataChangeCallbacks=function(type,options){angular.forEach(this.dataChangeCallbacks,function(callback,uid){callback.types.indexOf(uiGridConstants.dataChange.ALL)===-1&&callback.types.indexOf(type)===-1&&type!==uiGridConstants.dataChange.ALL||(callback._this?callback.callback.apply(callback._this,this):callback.callback(this))},this)},Grid.prototype.notifyDataChange=function(type){var constants=uiGridConstants.dataChange;type===constants.ALL||type===constants.COLUMN||type===constants.EDIT||type===constants.ROW||type===constants.OPTIONS?this.callDataChangeCallbacks(type):gridUtil.logError("Notified of a data change, but the type was not recognised, so no action taken, type was: "+type)},Grid.prototype.columnRefreshCallback=function(grid){grid.buildColumns(),grid.queueGridRefresh()},Grid.prototype.processRowsCallback=function(grid){grid.queueGridRefresh()},Grid.prototype.getColumn=function(name){var columns=this.columns.filter(function(column){return column.colDef.name===name});return columns.length>0?columns[0]:null},Grid.prototype.getColDef=function(name){var colDefs=this.options.columnDefs.filter(function(colDef){return colDef.name===name});return colDefs.length>0?colDefs[0]:null},Grid.prototype.assignTypes=function(){var self=this;self.options.columnDefs.forEach(function(colDef,index){if(!colDef.type){var col=new GridColumn(colDef,index,self),firstRow=self.rows.length>0?self.rows[0]:null;firstRow?colDef.type=gridUtil.guessType(self.getCellValue(firstRow,col)):(gridUtil.logWarn("Unable to assign type from data, so defaulting to string"),colDef.type="string")}})},Grid.prototype.addRowHeaderColumn=function(colDef){var self=this,rowHeaderCol=new GridColumn(colDef,gridUtil.nextUid(),self);rowHeaderCol.isRowHeader=!0,self.isRTL()?(self.createRightContainer(),rowHeaderCol.renderContainer="right"):(self.createLeftContainer(),rowHeaderCol.renderContainer="left"),self.columnBuilders[0](colDef,rowHeaderCol,self.options).then(function(){rowHeaderCol.enableFiltering=!1,rowHeaderCol.enableSorting=!1,rowHeaderCol.enableHiding=!1,self.rowHeaderColumns.push(rowHeaderCol),self.buildColumns().then(function(){self.preCompileCellTemplates(),self.queueGridRefresh()})})},Grid.prototype.buildColumns=function(opts){var options={orderByColumnDefs:!1};angular.extend(options,opts);var i,self=this,builderPromises=[],headerOffset=self.rowHeaderColumns.length;for(i=0;i<self.columns.length;i++)self.getColDef(self.columns[i].name)||(self.columns.splice(i,1),i--);if(self.rowHeaderColumns.forEach(function(rowHeaderColumn){self.columns.unshift(rowHeaderColumn)}),self.options.columnDefs.forEach(function(colDef,index){self.preprocessColDef(colDef);var col=self.getColumn(colDef.name);col?col.updateColumnDef(colDef,!1):(col=new GridColumn(colDef,gridUtil.nextUid(),self),self.columns.splice(index+headerOffset,0,col)),self.columnBuilders.forEach(function(builder){builderPromises.push(builder.call(self,colDef,col,self.options))})}),options.orderByColumnDefs){var columnCache=self.columns.slice(0),len=Math.min(self.options.columnDefs.length,self.columns.length);for(i=0;i<len;i++)self.columns[i+headerOffset].name!==self.options.columnDefs[i].name?columnCache[i+headerOffset]=self.getColumn(self.options.columnDefs[i].name):columnCache[i+headerOffset]=self.columns[i+headerOffset];self.columns.length=0,Array.prototype.splice.apply(self.columns,[0,0].concat(columnCache))}return $q.all(builderPromises).then(function(){self.rows.length>0&&self.assignTypes()})},Grid.prototype.preCompileCellTemplates=function(){var self=this;this.columns.forEach(function(col){var html=col.cellTemplate.replace(uiGridConstants.MODEL_COL_FIELD,self.getQualifiedColField(col));html=html.replace(uiGridConstants.COL_FIELD,"grid.getCellValue(row, col)"),html=col.cellTooltip===!1?html.replace(uiGridConstants.TOOLTIP,""):col.cellFilter?html.replace(uiGridConstants.TOOLTIP,'title="{{col.cellTooltip(row, col) | '+col.cellFilter+'}}"'):html.replace(uiGridConstants.TOOLTIP,'title="{{col.cellTooltip(row, col)}}"');var compiledElementFn=$compile(html);col.compiledElementFn=compiledElementFn,col.compiledElementFnDefer&&col.compiledElementFnDefer.resolve(col.compiledElementFn)})},Grid.prototype.getQualifiedColField=function(col){return"row.entity."+gridUtil.preEval(col.field)},Grid.prototype.createLeftContainer=function(){this.hasLeftContainer()||(this.renderContainers.left=new GridRenderContainer("left",this,{disableColumnOffset:!0}))},Grid.prototype.createRightContainer=function(){this.hasRightContainer()||(this.renderContainers.right=new GridRenderContainer("right",this,{disableColumnOffset:!0}))},Grid.prototype.hasLeftContainer=function(){return void 0!==this.renderContainers.left},Grid.prototype.hasRightContainer=function(){return void 0!==this.renderContainers.right},Grid.prototype.preprocessColDef=function(colDef){var self=this;if(!colDef.field&&!colDef.name)throw new Error("colDef.name or colDef.field property is required");if(void 0===colDef.name&&void 0!==colDef.field){var foundName=self.getColumn(colDef.field);if(foundName){var nameRE=new RegExp("^"+colDef.field+"(\\d+)$","i"),foundColumns=self.columns.filter(function(column){return nameRE.test(column.displayName)}).sort(function(a,b){if(a===b)return 0;var numA=a.displayName.match(nameRE)[1],numB=b.displayName.match(nameRE)[1];
return parseInt(numA,10)>parseInt(numB,10)?1:-1});if(0===foundColumns.length)colDef.name=colDef.field+"2";else{var lastNum=foundColumns[foundColumns.length-1].displayName.match(nameRE)[1];lastNum=parseInt(lastNum,10),colDef.name=colDef.field+(lastNum+1)}}else colDef.name=colDef.field}},Grid.prototype.newInN=function(o,n,oAccessor,nAccessor){for(var self=this,t=[],i=0;i<n.length;i++){for(var nV=nAccessor?n[i][nAccessor]:n[i],found=!1,j=0;j<o.length;j++){var oV=oAccessor?o[j][oAccessor]:o[j];if(self.options.rowEquality(nV,oV)){found=!0;break}}found||t.push(nV)}return t},Grid.prototype.getRow=function(rowEntity,lookInRows){var self=this;lookInRows="undefined"==typeof lookInRows?self.rows:lookInRows;var rows=lookInRows.filter(function(row){return self.options.rowEquality(row.entity,rowEntity)});return rows.length>0?rows[0]:null},Grid.prototype.modifyRows=function(newRawData){var self=this,oldRows=self.rows.slice(0),oldRowHash=self.rowHashMap||self.createRowHashMap();self.rowHashMap=self.createRowHashMap(),self.rows.length=0,newRawData.forEach(function(newEntity,i){var newRow;newRow=self.options.enableRowHashing?oldRowHash.get(newEntity):self.getRow(newEntity,oldRows),newRow||(newRow=self.processRowBuilders(new GridRow(newEntity,i,self))),self.rows.push(newRow),self.rowHashMap.put(newEntity,newRow)}),self.assignTypes();var p1=$q.when(self.processRowsProcessors(self.rows)).then(function(renderableRows){return self.setVisibleRows(renderableRows)}),p2=$q.when(self.processColumnsProcessors(self.columns)).then(function(renderableColumns){return self.setVisibleColumns(renderableColumns)});return $q.all([p1,p2])},Grid.prototype.addRows=function(newRawData){for(var self=this,existingRowCount=self.rows.length,i=0;i<newRawData.length;i++){var newRow=self.processRowBuilders(new GridRow(newRawData[i],i+existingRowCount,self));if(self.options.enableRowHashing){var found=self.rowHashMap.get(newRow.entity);found&&(found.row=newRow)}self.rows.push(newRow)}},Grid.prototype.processRowBuilders=function(gridRow){var self=this;return self.rowBuilders.forEach(function(builder){builder.call(self,gridRow,self.options)}),gridRow},Grid.prototype.registerStyleComputation=function(styleComputationInfo){this.styleComputations.push(styleComputationInfo)},Grid.prototype.registerRowsProcessor=function(processor,priority){if(!angular.isFunction(processor))throw"Attempt to register non-function rows processor: "+processor;this.rowsProcessors.push({processor:processor,priority:priority}),this.rowsProcessors.sort(function(a,b){return a.priority-b.priority})},Grid.prototype.removeRowsProcessor=function(processor){var idx=-1;this.rowsProcessors.forEach(function(rowsProcessor,index){rowsProcessor.processor===processor&&(idx=index)}),idx!==-1&&this.rowsProcessors.splice(idx,1)},Grid.prototype.processRowsProcessors=function(renderableRows){function startProcessor(i,renderedRowsToProcess){var processor=self.rowsProcessors[i].processor;return $q.when(processor.call(self,renderedRowsToProcess,self.columns)).then(function(processedRows){if(!processedRows)throw"Processor at index "+i+" did not return a set of renderable rows";if(!angular.isArray(processedRows))throw"Processor at index "+i+" did not return an array";return i++,i<=self.rowsProcessors.length-1?startProcessor(i,processedRows):void finished.resolve(processedRows)})}var self=this,myRenderableRows=renderableRows.slice(0);if(0===self.rowsProcessors.length)return $q.when(myRenderableRows);var finished=$q.defer();return startProcessor(0,myRenderableRows),finished.promise},Grid.prototype.setVisibleRows=function(rows){var self=this;for(var i in self.renderContainers){var container=self.renderContainers[i];container.canvasHeightShouldUpdate=!0,"undefined"==typeof container.visibleRowCache?container.visibleRowCache=[]:container.visibleRowCache.length=0}for(var ri=0;ri<rows.length;ri++){var row=rows[ri],targetContainer="undefined"!=typeof row.renderContainer&&row.renderContainer?row.renderContainer:"body";row.visible&&self.renderContainers[targetContainer].visibleRowCache.push(row)}self.api.core.raise.rowsRendered(this.api)},Grid.prototype.registerColumnsProcessor=function(processor,priority){if(!angular.isFunction(processor))throw"Attempt to register non-function rows processor: "+processor;this.columnsProcessors.push({processor:processor,priority:priority}),this.columnsProcessors.sort(function(a,b){return a.priority-b.priority})},Grid.prototype.removeColumnsProcessor=function(processor){var idx=this.columnsProcessors.indexOf(processor);"undefined"!=typeof idx&&void 0!==idx&&this.columnsProcessors.splice(idx,1)},Grid.prototype.processColumnsProcessors=function(renderableColumns){function startProcessor(i,renderedColumnsToProcess){var processor=self.columnsProcessors[i].processor;return $q.when(processor.call(self,renderedColumnsToProcess,self.rows)).then(function(processedColumns){if(!processedColumns)throw"Processor at index "+i+" did not return a set of renderable rows";if(!angular.isArray(processedColumns))throw"Processor at index "+i+" did not return an array";return i++,i<=self.columnsProcessors.length-1?startProcessor(i,myRenderableColumns):void finished.resolve(myRenderableColumns)})}var self=this,myRenderableColumns=renderableColumns.slice(0);if(0===self.columnsProcessors.length)return $q.when(myRenderableColumns);var finished=$q.defer();return startProcessor(0,myRenderableColumns),finished.promise},Grid.prototype.setVisibleColumns=function(columns){var self=this;for(var i in self.renderContainers){var container=self.renderContainers[i];container.visibleColumnCache.length=0}for(var ci=0;ci<columns.length;ci++){var column=columns[ci];column.visible&&("undefined"!=typeof column.renderContainer&&column.renderContainer?self.renderContainers[column.renderContainer].visibleColumnCache.push(column):self.renderContainers.body.visibleColumnCache.push(column))}},Grid.prototype.handleWindowResize=function($event){var self=this;self.gridWidth=gridUtil.elementWidth(self.element),self.gridHeight=gridUtil.elementHeight(self.element),self.queueRefresh()},Grid.prototype.queueRefresh=function(){var self=this;return self.refreshCanceller&&$timeout.cancel(self.refreshCanceller),self.refreshCanceller=$timeout(function(){self.refreshCanvas(!0)}),self.refreshCanceller.then(function(){self.refreshCanceller=null}),self.refreshCanceller},Grid.prototype.queueGridRefresh=function(){var self=this;return self.gridRefreshCanceller&&$timeout.cancel(self.gridRefreshCanceller),self.gridRefreshCanceller=$timeout(function(){self.refresh(!0)}),self.gridRefreshCanceller.then(function(){self.gridRefreshCanceller=null}),self.gridRefreshCanceller},Grid.prototype.updateCanvasHeight=function(){var self=this;for(var containerId in self.renderContainers)if(self.renderContainers.hasOwnProperty(containerId)){var container=self.renderContainers[containerId];container.canvasHeightShouldUpdate=!0}},Grid.prototype.buildStyles=function(){var self=this;self.customStyles="",self.styleComputations.sort(function(a,b){return null===a.priority?1:null===b.priority?-1:null===a.priority&&null===b.priority?0:a.priority-b.priority}).forEach(function(compInfo){var ret=compInfo.func.call(self);angular.isString(ret)&&(self.customStyles+="\n"+ret)})},Grid.prototype.minColumnsToRender=function(){var self=this,viewport=this.getViewportWidth(),min=0,totalWidth=0;return self.columns.forEach(function(col,i){if(totalWidth<viewport)totalWidth+=col.drawnWidth,min++;else{for(var currWidth=0,j=i;j>=i-min;j--)currWidth+=self.columns[j].drawnWidth;currWidth<viewport&&min++}}),min},Grid.prototype.getBodyHeight=function(){var bodyHeight=this.getViewportHeight();return bodyHeight},Grid.prototype.getViewportHeight=function(){var self=this,viewPortHeight=this.gridHeight-this.headerHeight-this.footerHeight,adjustment=self.getViewportAdjustment();return viewPortHeight+=adjustment.height},Grid.prototype.getViewportWidth=function(){var self=this,viewPortWidth=this.gridWidth,adjustment=self.getViewportAdjustment();return viewPortWidth+=adjustment.width},Grid.prototype.getHeaderViewportWidth=function(){var viewPortWidth=this.getViewportWidth();return viewPortWidth},Grid.prototype.addVerticalScrollSync=function(containerId,callBackFn){this.verticalScrollSyncCallBackFns[containerId]=callBackFn},Grid.prototype.addHorizontalScrollSync=function(containerId,callBackFn){this.horizontalScrollSyncCallBackFns[containerId]=callBackFn},Grid.prototype.scrollContainers=function(sourceContainerId,scrollEvent){if(scrollEvent.y){var verts=["body","left","right"];this.flagScrollingVertically(scrollEvent),"body"===sourceContainerId?verts=["left","right"]:"left"===sourceContainerId?verts=["body","right"]:"right"===sourceContainerId&&(verts=["body","left"]);for(var i=0;i<verts.length;i++){var id=verts[i];this.verticalScrollSyncCallBackFns[id]&&this.verticalScrollSyncCallBackFns[id](scrollEvent)}}if(scrollEvent.x){var horizs=["body","bodyheader","bodyfooter"];this.flagScrollingHorizontally(scrollEvent),"body"===sourceContainerId&&(horizs=["bodyheader","bodyfooter"]);for(var j=0;j<horizs.length;j++){var idh=horizs[j];this.horizontalScrollSyncCallBackFns[idh]&&this.horizontalScrollSyncCallBackFns[idh](scrollEvent)}}},Grid.prototype.registerViewportAdjuster=function(func){this.viewportAdjusters.push(func)},Grid.prototype.removeViewportAdjuster=function(func){var idx=this.viewportAdjusters.indexOf(func);"undefined"!=typeof idx&&void 0!==idx&&this.viewportAdjusters.splice(idx,1)},Grid.prototype.getViewportAdjustment=function(){var self=this,adjustment={height:0,width:0};return self.viewportAdjusters.forEach(function(func){adjustment=func.call(this,adjustment)}),adjustment},Grid.prototype.getVisibleRowCount=function(){return this.renderContainers.body.visibleRowCache.length},Grid.prototype.getVisibleRows=function(){return this.renderContainers.body.visibleRowCache},Grid.prototype.getVisibleColumnCount=function(){return this.renderContainers.body.visibleColumnCache.length},Grid.prototype.searchRows=function(renderableRows){return rowSearcher.search(this,renderableRows,this.columns)},Grid.prototype.sortByColumn=function(renderableRows){return rowSorter.sort(this,renderableRows,this.columns)},Grid.prototype.getCellValue=function(row,col){return this.options.flatEntityAccess&&col.field?row.entity[col.field]:(col.cellValueGetterCache||(col.cellValueGetterCache=$parse(row.getEntityQualifiedColField(col))),col.cellValueGetterCache(row))},Grid.prototype.getNextColumnSortPriority=function(){var self=this,p=0;return self.columns.forEach(function(col){col.sort&&col.sort.priority&&col.sort.priority>p&&(p=col.sort.priority)}),p+1},Grid.prototype.resetColumnSorting=function(excludeCol){var self=this;self.columns.forEach(function(col){col===excludeCol||col.suppressRemoveSort||(col.sort={})})},Grid.prototype.getColumnSorting=function(){var myCols,self=this,sortedCols=[];return myCols=self.columns.slice(0),myCols.sort(rowSorter.prioritySort).forEach(function(col){col.sort&&"undefined"!=typeof col.sort.direction&&col.sort.direction&&(col.sort.direction===uiGridConstants.ASC||col.sort.direction===uiGridConstants.DESC)&&sortedCols.push(col)}),sortedCols},Grid.prototype.sortColumn=function(column,directionOrAdd,add){var self=this,direction=null;if("undefined"==typeof column||!column)throw new Error("No column parameter provided");return"boolean"==typeof directionOrAdd?add=directionOrAdd:direction=directionOrAdd,add?column.sort.priority||(column.sort.priority=self.getNextColumnSortPriority()):(self.resetColumnSorting(column),column.sort.priority=0,column.sort.priority=self.getNextColumnSortPriority()),direction?column.sort.direction=direction:column.sort.direction&&column.sort.direction===uiGridConstants.ASC?column.sort.direction=uiGridConstants.DESC:column.sort.direction&&column.sort.direction===uiGridConstants.DESC?column.colDef&&column.suppressRemoveSort?column.sort.direction=uiGridConstants.ASC:column.sort={}:column.sort.direction=uiGridConstants.ASC,self.api.core.raise.sortChanged(self,self.getColumnSorting()),$q.when(column)},Grid.prototype.renderingComplete=function(){angular.isFunction(this.options.onRegisterApi)&&this.options.onRegisterApi(this.api),this.api.core.raise.renderingComplete(this.api)},Grid.prototype.createRowHashMap=function(){var self=this,hashMap=new RowHashMap;return hashMap.grid=self,hashMap},Grid.prototype.refresh=function(rowsAltered){var self=this,p1=self.processRowsProcessors(self.rows).then(function(renderableRows){self.setVisibleRows(renderableRows)}),p2=self.processColumnsProcessors(self.columns).then(function(renderableColumns){self.setVisibleColumns(renderableColumns)});return $q.all([p1,p2]).then(function(){self.redrawInPlace(rowsAltered),self.refreshCanvas(!0)})},Grid.prototype.refreshRows=function(){var self=this;return self.processRowsProcessors(self.rows).then(function(renderableRows){self.setVisibleRows(renderableRows),self.redrawInPlace(),self.refreshCanvas(!0)})},Grid.prototype.refreshCanvas=function(buildStyles){var self=this;buildStyles&&self.buildStyles();var p=$q.defer(),containerHeadersToRecalc=[];for(var containerId in self.renderContainers)if(self.renderContainers.hasOwnProperty(containerId)){var container=self.renderContainers[containerId];if(null===container.canvasWidth||isNaN(container.canvasWidth))continue;(container.header||container.headerCanvas)&&containerHeadersToRecalc.push(container)}return $timeout(containerHeadersToRecalc.length>0?function(){var i,container,rebuildStyles=!1,maxHeaderHeight=0,maxHeaderCanvasHeight=0;for(i=0;i<containerHeadersToRecalc.length;i++)if(container=containerHeadersToRecalc[i],null!==container.canvasWidth&&!isNaN(container.canvasWidth)){if(container.header){var oldHeaderHeight=container.headerHeight,headerHeight=container.headerHeight=parseInt(gridUtil.outerElementHeight(container.header),10);oldHeaderHeight!==headerHeight&&(rebuildStyles=!0);var topBorder=gridUtil.getBorderSize(container.header,"top"),bottomBorder=gridUtil.getBorderSize(container.header,"bottom"),innerHeaderHeight=parseInt(headerHeight-topBorder-bottomBorder,10);innerHeaderHeight=innerHeaderHeight<0?0:innerHeaderHeight,container.innerHeaderHeight=innerHeaderHeight,!container.explicitHeaderHeight&&innerHeaderHeight>maxHeaderHeight&&(maxHeaderHeight=innerHeaderHeight)}if(container.headerCanvas){var oldHeaderCanvasHeight=container.headerCanvasHeight,headerCanvasHeight=container.headerCanvasHeight=parseInt(gridUtil.outerElementHeight(container.headerCanvas),10);oldHeaderCanvasHeight!==headerCanvasHeight&&(rebuildStyles=!0),!container.explicitHeaderCanvasHeight&&headerCanvasHeight>maxHeaderCanvasHeight&&(maxHeaderCanvasHeight=headerCanvasHeight)}}for(i=0;i<containerHeadersToRecalc.length;i++)container=containerHeadersToRecalc[i],maxHeaderHeight>0&&"undefined"!=typeof container.headerHeight&&null!==container.headerHeight&&(container.explicitHeaderHeight||container.headerHeight<maxHeaderHeight)&&(container.explicitHeaderHeight=maxHeaderHeight),maxHeaderCanvasHeight>0&&"undefined"!=typeof container.headerCanvasHeight&&null!==container.headerCanvasHeight&&(container.explicitHeaderCanvasHeight||container.headerCanvasHeight<maxHeaderCanvasHeight)&&(container.explicitHeaderCanvasHeight=maxHeaderCanvasHeight);buildStyles&&rebuildStyles&&self.buildStyles(),p.resolve()}:function(){p.resolve()}),p.promise},Grid.prototype.redrawInPlace=function(rowsAdded){var self=this;for(var i in self.renderContainers){var container=self.renderContainers[i];rowsAdded?(container.adjustRows(container.prevScrollTop,null),container.adjustColumns(container.prevScrollLeft,null)):(container.adjustRows(null,container.prevScrolltopPercentage),container.adjustColumns(null,container.prevScrollleftPercentage))}},Grid.prototype.hasLeftContainerColumns=function(){return this.hasLeftContainer()&&this.renderContainers.left.renderedColumns.length>0},Grid.prototype.hasRightContainerColumns=function(){return this.hasRightContainer()&&this.renderContainers.right.renderedColumns.length>0},Grid.prototype.scrollToIfNecessary=function(gridRow,gridCol){var self=this,scrollEvent=new ScrollEvent(self,"uiGrid.scrollToIfNecessary"),visRowCache=self.renderContainers.body.visibleRowCache,visColCache=self.renderContainers.body.visibleColumnCache,topBound=self.renderContainers.body.prevScrollTop+self.headerHeight;topBound=topBound<0?0:topBound;var leftBound=self.renderContainers.body.prevScrollLeft,bottomBound=self.renderContainers.body.prevScrollTop+self.gridHeight-self.renderContainers.body.headerHeight-self.footerHeight-self.scrollbarWidth,rightBound=self.renderContainers.body.prevScrollLeft+Math.ceil(self.gridWidth);if(null!==gridRow){var seekRowIndex=visRowCache.indexOf(gridRow),scrollLength=self.renderContainers.body.getCanvasHeight()-self.renderContainers.body.getViewportHeight(),pixelsToSeeRow=(seekRowIndex+1)*self.options.rowHeight;pixelsToSeeRow=pixelsToSeeRow<0?0:pixelsToSeeRow;var scrollPixels,percentage;pixelsToSeeRow<topBound?(scrollPixels=self.renderContainers.body.prevScrollTop-(topBound-pixelsToSeeRow),percentage=scrollPixels/scrollLength,scrollEvent.y={percentage:percentage}):pixelsToSeeRow>bottomBound&&(scrollPixels=pixelsToSeeRow-bottomBound+self.renderContainers.body.prevScrollTop,percentage=scrollPixels/scrollLength,scrollEvent.y={percentage:percentage})}if(null!==gridCol){for(var seekColumnIndex=visColCache.indexOf(gridCol),horizScrollLength=self.renderContainers.body.getCanvasWidth()-self.renderContainers.body.getViewportWidth(),columnLeftEdge=0,i=0;i<seekColumnIndex;i++){var col=visColCache[i];columnLeftEdge+=col.drawnWidth}columnLeftEdge=columnLeftEdge<0?0:columnLeftEdge;var columnRightEdge=columnLeftEdge+gridCol.drawnWidth;columnRightEdge=columnRightEdge<0?0:columnRightEdge;var horizScrollPixels,horizPercentage;columnLeftEdge<leftBound?(horizScrollPixels=self.renderContainers.body.prevScrollLeft-(leftBound-columnLeftEdge),horizPercentage=horizScrollPixels/horizScrollLength,horizPercentage=horizPercentage>1?1:horizPercentage,scrollEvent.x={percentage:horizPercentage}):columnRightEdge>rightBound&&(horizScrollPixels=columnRightEdge-rightBound+self.renderContainers.body.prevScrollLeft,horizPercentage=horizScrollPixels/horizScrollLength,horizPercentage=horizPercentage>1?1:horizPercentage,scrollEvent.x={percentage:horizPercentage})}var deferred=$q.defer();if(scrollEvent.y||scrollEvent.x){scrollEvent.withDelay=!1,self.scrollContainers("",scrollEvent);var dereg=self.api.core.on.scrollEnd(null,function(){deferred.resolve(scrollEvent),dereg()})}else deferred.resolve();return deferred.promise},Grid.prototype.scrollTo=function(rowEntity,colDef){var gridRow=null,gridCol=null;return null!==rowEntity&&"undefined"!=typeof rowEntity&&(gridRow=this.getRow(rowEntity)),null!==colDef&&"undefined"!=typeof colDef&&(gridCol=this.getColumn(colDef.name?colDef.name:colDef.field)),this.scrollToIfNecessary(gridRow,gridCol)},Grid.prototype.clearAllFilters=function(refreshRows,clearConditions,clearFlags){if(void 0===refreshRows&&(refreshRows=!0),void 0===clearConditions&&(clearConditions=!1),void 0===clearFlags&&(clearFlags=!1),this.columns.forEach(function(column){column.filters.forEach(function(filter){filter.term=void 0,clearConditions&&(filter.condition=void 0),clearFlags&&(filter.flags=void 0)})}),refreshRows)return this.refreshRows()},RowHashMap.prototype={put:function(key,value){this[this.grid.options.rowIdentity(key)]=value},get:function(key){return this[this.grid.options.rowIdentity(key)]},remove:function(key){var value=this[key=this.grid.options.rowIdentity(key)];return delete this[key],value}},Grid}])}(),function(){angular.module("ui.grid").factory("GridApi",["$q","$rootScope","gridUtil","uiGridConstants","GridRow","uiGridGridMenuService",function($q,$rootScope,gridUtil,uiGridConstants,GridRow,uiGridGridMenuService){function registerEventWithAngular(eventId,handler,grid,_this){return $rootScope.$on(eventId,function(event){var args=Array.prototype.slice.call(arguments);args.splice(0,1),handler.apply(_this?_this:grid.api,args)})}var GridApi=function(grid){this.grid=grid,this.listeners=[],this.registerEvent("core","renderingComplete"),this.registerEvent("core","filterChanged"),this.registerMethod("core","setRowInvisible",GridRow.prototype.setRowInvisible),this.registerMethod("core","clearRowInvisible",GridRow.prototype.clearRowInvisible),this.registerMethod("core","getVisibleRows",this.grid.getVisibleRows),this.registerEvent("core","rowsVisibleChanged"),this.registerEvent("core","rowsRendered"),this.registerEvent("core","scrollBegin"),this.registerEvent("core","scrollEnd"),this.registerEvent("core","canvasHeightChanged")};return GridApi.prototype.suppressEvents=function(listenerFuncs,callBackFn){var self=this,listeners=angular.isArray(listenerFuncs)?listenerFuncs:[listenerFuncs],foundListeners=[];listeners.forEach(function(l){foundListeners=self.listeners.filter(function(lstnr){return l===lstnr.handler})}),foundListeners.forEach(function(l){l.dereg()}),callBackFn(),foundListeners.forEach(function(l){l.dereg=registerEventWithAngular(l.eventId,l.handler,self.grid,l._this)})},GridApi.prototype.registerEvent=function(featureName,eventName){var self=this;self[featureName]||(self[featureName]={});var feature=self[featureName];feature.on||(feature.on={},feature.raise={});var eventId=self.grid.id+featureName+eventName;feature.raise[eventName]=function(){$rootScope.$emit.apply($rootScope,[eventId].concat(Array.prototype.slice.call(arguments)))},feature.on[eventName]=function(scope,handler,_this){if(null!==scope&&"undefined"==typeof scope.$on)return void gridUtil.logError("asked to listen on "+featureName+".on."+eventName+" but scope wasn't passed in the input parameters.  It is legitimate to pass null, but you've passed something else, so you probably forgot to provide scope rather than did it deliberately, not registering");var deregAngularOn=registerEventWithAngular(eventId,handler,self.grid,_this),listener={handler:handler,dereg:deregAngularOn,eventId:eventId,scope:scope,_this:_this};self.listeners.push(listener);var removeListener=function(){listener.dereg();var index=self.listeners.indexOf(listener);self.listeners.splice(index,1)};return scope&&scope.$on("$destroy",function(){removeListener()}),removeListener}},GridApi.prototype.registerEventsFromObject=function(eventObjectMap){var self=this,features=[];angular.forEach(eventObjectMap,function(featProp,featPropName){var feature={name:featPropName,events:[]};angular.forEach(featProp,function(prop,propName){feature.events.push(propName)}),features.push(feature)}),features.forEach(function(feature){feature.events.forEach(function(event){self.registerEvent(feature.name,event)})})},GridApi.prototype.registerMethod=function(featureName,methodName,callBackFn,_this){this[featureName]||(this[featureName]={});var feature=this[featureName];feature[methodName]=gridUtil.createBoundedWrapper(_this||this.grid,callBackFn)},GridApi.prototype.registerMethodsFromObject=function(methodMap,_this){var self=this,features=[];angular.forEach(methodMap,function(featProp,featPropName){var feature={name:featPropName,methods:[]};angular.forEach(featProp,function(prop,propName){feature.methods.push({name:propName,fn:prop})}),features.push(feature)}),features.forEach(function(feature){feature.methods.forEach(function(method){self.registerMethod(feature.name,method.name,method.fn,_this)})})},GridApi}])}(),function(){angular.module("ui.grid").factory("GridColumn",["gridUtil","uiGridConstants","i18nService",function(gridUtil,uiGridConstants,i18nService){function GridColumn(colDef,uid,grid){var self=this;self.grid=grid,self.uid=uid,self.updateColumnDef(colDef,!0),GridColumn.prototype.hideColumn=function(){this.colDef.visible=!1},self.aggregationValue=void 0,self.updateAggregationValue=function(){if(!self.aggregationType)return void(self.aggregationValue=void 0);var result=0,visibleRows=self.grid.getVisibleRows(),cellValues=function(){var values=[];return visibleRows.forEach(function(row){var cellValue=self.grid.getCellValue(row,self),cellNumber=Number(cellValue);isNaN(cellNumber)||values.push(cellNumber)}),values};angular.isFunction(self.aggregationType)?self.aggregationValue=self.aggregationType(visibleRows,self):self.aggregationType===uiGridConstants.aggregationTypes.count?self.aggregationValue=self.grid.getVisibleRowCount():self.aggregationType===uiGridConstants.aggregationTypes.sum?(cellValues().forEach(function(value){result+=value}),self.aggregationValue=result):self.aggregationType===uiGridConstants.aggregationTypes.avg?(cellValues().forEach(function(value){result+=value}),result/=cellValues().length,self.aggregationValue=result):self.aggregationType===uiGridConstants.aggregationTypes.min?self.aggregationValue=Math.min.apply(null,cellValues()):self.aggregationType===uiGridConstants.aggregationTypes.max?self.aggregationValue=Math.max.apply(null,cellValues()):self.aggregationValue=" "},this.getAggregationValue=function(){return self.aggregationValue}}return GridColumn.prototype.setPropertyOrDefault=function(colDef,propName,defaultValue){var self=this;"undefined"!=typeof colDef[propName]&&colDef[propName]?self[propName]=colDef[propName]:"undefined"!=typeof self[propName]?self[propName]=self[propName]:self[propName]=defaultValue?defaultValue:{}},GridColumn.prototype.updateColumnDef=function(colDef,isNew){var self=this;if(self.colDef=colDef,void 0===colDef.name)throw new Error("colDef.name is required for column at index "+self.grid.options.columnDefs.indexOf(colDef));self.displayName=void 0===colDef.displayName?gridUtil.readableColumnName(colDef.name):colDef.displayName;var parseErrorMsg="Cannot parse column width '"+colDef.width+"' for column named '"+colDef.name+"'";if(gridUtil.isNullOrUndefined(self.width)||!angular.isNumber(self.width))if(gridUtil.isNullOrUndefined(colDef.width))self.width="*";else if(angular.isNumber(colDef.width))self.width=colDef.width;else if(gridUtil.endsWith(colDef.width,"%")){var percentStr=colDef.width.replace(/%/g,""),percent=parseInt(percentStr,10);if(isNaN(percent))throw new Error(parseErrorMsg);self.width=colDef.width}else if(colDef.width.match(/^(\d+)$/))self.width=parseInt(colDef.width.match(/^(\d+)$/)[1],10);else{if(!colDef.width.match(/^\*+$/))throw new Error(parseErrorMsg);self.width=colDef.width}self.minWidth=colDef.minWidth?colDef.minWidth:30,self.maxWidth=colDef.maxWidth?colDef.maxWidth:9e3,self.field=void 0===colDef.field?colDef.name:colDef.field,"string"!=typeof self.field&&gridUtil.logError("Field is not a string, this is likely to break the code, Field is: "+self.field),self.name=colDef.name,self.displayName=void 0===colDef.displayName?gridUtil.readableColumnName(colDef.name):colDef.displayName,self.aggregationType=angular.isDefined(colDef.aggregationType)?colDef.aggregationType:null,self.footerCellTemplate=angular.isDefined(colDef.footerCellTemplate)?colDef.footerCellTemplate:null,"undefined"==typeof colDef.cellTooltip||colDef.cellTooltip===!1?self.cellTooltip=!1:colDef.cellTooltip===!0?self.cellTooltip=function(row,col){return self.grid.getCellValue(row,col)}:self.cellTooltip=colDef.cellTooltip,self.footerCellClass=colDef.footerCellClass,self.cellClass=colDef.cellClass,self.headerCellClass=colDef.headerCellClass,self.cellFilter=colDef.cellFilter?colDef.cellFilter:"",self.headerCellFilter=colDef.headerCellFilter?colDef.headerCellFilter:"",self.footerCellFilter=colDef.footerCellFilter?colDef.footerCellFilter:"",self.visible=gridUtil.isNullOrUndefined(colDef.visible)||colDef.visible,self.headerClass=colDef.headerClass,self.enableSorting="undefined"==typeof colDef.enableSorting||colDef.enableSorting,self.sortingAlgorithm=colDef.sortingAlgorithm,"undefined"==typeof self.suppressRemoveSort&&(self.suppressRemoveSort="undefined"!=typeof colDef.suppressRemoveSort&&colDef.suppressRemoveSort),self.enableFiltering="undefined"==typeof colDef.enableFiltering||colDef.enableFiltering,self.setPropertyOrDefault(colDef,"menuItems",[]),isNew&&self.setPropertyOrDefault(colDef,"sort");var defaultFilters=[];colDef.filter?defaultFilters.push(colDef.filter):colDef.filters?defaultFilters=colDef.filters:defaultFilters.push({}),isNew?(self.setPropertyOrDefault(colDef,"filter"),self.setPropertyOrDefault(colDef,"filters",defaultFilters)):self.filters.length===defaultFilters.length&&self.filters.forEach(function(filter,index){"undefined"!=typeof defaultFilters[index].placeholder&&(filter.placeholder=defaultFilters[index].placeholder),"undefined"!=typeof defaultFilters[index].flags&&(filter.flags=defaultFilters[index].flags),"undefined"!=typeof defaultFilters[index].type&&(filter.type=defaultFilters[index].type),"undefined"!=typeof defaultFilters[index].selectOptions&&(filter.selectOptions=defaultFilters[index].selectOptions)}),GridColumn.prototype.unsort=function(){this.sort={},self.grid.api.core.raise.sortChanged(self,self.grid.getColumnSorting())}},GridColumn.prototype.getColClass=function(prefixDot){var cls=uiGridConstants.COL_CLASS_PREFIX+this.uid;return prefixDot?"."+cls:cls},GridColumn.prototype.isPinnedLeft=function(){return"left"===this.renderContainer},GridColumn.prototype.isPinnedRight=function(){return"right"===this.renderContainer},GridColumn.prototype.getColClassDefinition=function(){return" .grid"+this.grid.id+" "+this.getColClass(!0)+" { min-width: "+this.drawnWidth+"px; max-width: "+this.drawnWidth+"px; }"},GridColumn.prototype.getRenderContainer=function(){var self=this,containerId=self.renderContainer;return null!==containerId&&""!==containerId&&void 0!==containerId||(containerId="body"),self.grid.renderContainers[containerId]},GridColumn.prototype.showColumn=function(){this.colDef.visible=!0},GridColumn.prototype.getAggregationText=function(){var self=this;if(self.colDef.aggregationHideLabel)return"";if(self.colDef.aggregationLabel)return self.colDef.aggregationLabel;switch(self.colDef.aggregationType){case uiGridConstants.aggregationTypes.count:return i18nService.getSafeText("aggregation.count");case uiGridConstants.aggregationTypes.sum:return i18nService.getSafeText("aggregation.sum");case uiGridConstants.aggregationTypes.avg:return i18nService.getSafeText("aggregation.avg");case uiGridConstants.aggregationTypes.min:return i18nService.getSafeText("aggregation.min");case uiGridConstants.aggregationTypes.max:return i18nService.getSafeText("aggregation.max");default:return""}},GridColumn.prototype.getCellTemplate=function(){var self=this;return self.cellTemplatePromise},GridColumn.prototype.getCompiledElementFn=function(){var self=this;return self.compiledElementFnDefer.promise},GridColumn}])}(),function(){angular.module("ui.grid").factory("GridOptions",["gridUtil","uiGridConstants",function(gridUtil,uiGridConstants){return{initialize:function(baseOptions){return baseOptions.onRegisterApi=baseOptions.onRegisterApi||angular.noop(),baseOptions.data=baseOptions.data||[],baseOptions.columnDefs=baseOptions.columnDefs||[],baseOptions.excludeProperties=baseOptions.excludeProperties||["$$hashKey"],baseOptions.enableRowHashing=baseOptions.enableRowHashing!==!1,baseOptions.rowIdentity=baseOptions.rowIdentity||function(row){return gridUtil.hashKey(row)},baseOptions.getRowIdentity=baseOptions.getRowIdentity||function(row){return row.$$hashKey},baseOptions.flatEntityAccess=baseOptions.flatEntityAccess===!0,baseOptions.showHeader="undefined"==typeof baseOptions.showHeader||baseOptions.showHeader,baseOptions.showHeader?baseOptions.headerRowHeight="undefined"!=typeof baseOptions.headerRowHeight?baseOptions.headerRowHeight:30:baseOptions.headerRowHeight=0,baseOptions.rowHeight=baseOptions.rowHeight||30,baseOptions.minRowsToShow="undefined"!=typeof baseOptions.minRowsToShow?baseOptions.minRowsToShow:10,baseOptions.showGridFooter=baseOptions.showGridFooter===!0,baseOptions.showColumnFooter=baseOptions.showColumnFooter===!0,baseOptions.columnFooterHeight="undefined"!=typeof baseOptions.columnFooterHeight?baseOptions.columnFooterHeight:30,baseOptions.gridFooterHeight="undefined"!=typeof baseOptions.gridFooterHeight?baseOptions.gridFooterHeight:30,baseOptions.columnWidth="undefined"!=typeof baseOptions.columnWidth?baseOptions.columnWidth:50,
baseOptions.maxVisibleColumnCount="undefined"!=typeof baseOptions.maxVisibleColumnCount?baseOptions.maxVisibleColumnCount:200,baseOptions.virtualizationThreshold="undefined"!=typeof baseOptions.virtualizationThreshold?baseOptions.virtualizationThreshold:20,baseOptions.columnVirtualizationThreshold="undefined"!=typeof baseOptions.columnVirtualizationThreshold?baseOptions.columnVirtualizationThreshold:10,baseOptions.excessRows="undefined"!=typeof baseOptions.excessRows?baseOptions.excessRows:4,baseOptions.scrollThreshold="undefined"!=typeof baseOptions.scrollThreshold?baseOptions.scrollThreshold:4,baseOptions.excessColumns="undefined"!=typeof baseOptions.excessColumns?baseOptions.excessColumns:4,baseOptions.horizontalScrollThreshold="undefined"!=typeof baseOptions.horizontalScrollThreshold?baseOptions.horizontalScrollThreshold:2,baseOptions.aggregationCalcThrottle="undefined"!=typeof baseOptions.aggregationCalcThrottle?baseOptions.aggregationCalcThrottle:500,baseOptions.wheelScrollThrottle="undefined"!=typeof baseOptions.wheelScrollThrottle?baseOptions.wheelScrollThrottle:70,baseOptions.scrollDebounce="undefined"!=typeof baseOptions.scrollDebounce?baseOptions.scrollDebounce:300,baseOptions.enableSorting=baseOptions.enableSorting!==!1,baseOptions.enableFiltering=baseOptions.enableFiltering===!0,baseOptions.enableColumnMenus=baseOptions.enableColumnMenus!==!1,baseOptions.enableVerticalScrollbar="undefined"!=typeof baseOptions.enableVerticalScrollbar?baseOptions.enableVerticalScrollbar:uiGridConstants.scrollbars.ALWAYS,baseOptions.enableHorizontalScrollbar="undefined"!=typeof baseOptions.enableHorizontalScrollbar?baseOptions.enableHorizontalScrollbar:uiGridConstants.scrollbars.ALWAYS,baseOptions.enableMinHeightCheck=baseOptions.enableMinHeightCheck!==!1,baseOptions.minimumColumnSize="undefined"!=typeof baseOptions.minimumColumnSize?baseOptions.minimumColumnSize:10,baseOptions.rowEquality=baseOptions.rowEquality||function(entityA,entityB){return entityA===entityB},baseOptions.headerTemplate=baseOptions.headerTemplate||null,baseOptions.footerTemplate=baseOptions.footerTemplate||"ui-grid/ui-grid-footer",baseOptions.gridFooterTemplate=baseOptions.gridFooterTemplate||"ui-grid/ui-grid-grid-footer",baseOptions.rowTemplate=baseOptions.rowTemplate||"ui-grid/ui-grid-row",baseOptions.appScopeProvider=baseOptions.appScopeProvider||null,baseOptions}}}])}(),function(){angular.module("ui.grid").factory("GridRenderContainer",["gridUtil","uiGridConstants",function(gridUtil,uiGridConstants){function GridRenderContainer(name,grid,options){var self=this;self.name=name,self.grid=grid,self.visibleRowCache=[],self.visibleColumnCache=[],self.renderedRows=[],self.renderedColumns=[],self.prevScrollTop=0,self.prevScrolltopPercentage=0,self.prevRowScrollIndex=0,self.prevScrollLeft=0,self.prevScrollleftPercentage=0,self.prevColumnScrollIndex=0,self.columnStyles="",self.viewportAdjusters=[],self.canvasHeightShouldUpdate=!0,self.$$canvasHeight=0,options&&angular.isObject(options)&&angular.extend(self,options),grid.registerStyleComputation({priority:5,func:function(){return self.updateColumnWidths(),self.columnStyles}})}return GridRenderContainer.prototype.reset=function(){this.visibleColumnCache.length=0,this.visibleRowCache.length=0,this.renderedRows.length=0,this.renderedColumns.length=0},GridRenderContainer.prototype.containsColumn=function(col){return this.visibleColumnCache.indexOf(col)!==-1},GridRenderContainer.prototype.minRowsToRender=function(){for(var self=this,minRows=0,rowAddedHeight=0,viewPortHeight=self.getViewportHeight(),i=self.visibleRowCache.length-1;rowAddedHeight<viewPortHeight&&i>=0;i--)rowAddedHeight+=self.visibleRowCache[i].height,minRows++;return minRows},GridRenderContainer.prototype.minColumnsToRender=function(){for(var self=this,viewportWidth=this.getViewportWidth(),min=0,totalWidth=0,i=0;i<self.visibleColumnCache.length;i++){var col=self.visibleColumnCache[i];if(totalWidth<viewportWidth)totalWidth+=col.drawnWidth?col.drawnWidth:0,min++;else{for(var currWidth=0,j=i;j>=i-min;j--)currWidth+=self.visibleColumnCache[j].drawnWidth?self.visibleColumnCache[j].drawnWidth:0;currWidth<viewportWidth&&min++}}return min},GridRenderContainer.prototype.getVisibleRowCount=function(){return this.visibleRowCache.length},GridRenderContainer.prototype.registerViewportAdjuster=function(func){this.viewportAdjusters.push(func)},GridRenderContainer.prototype.removeViewportAdjuster=function(func){var idx=this.viewportAdjusters.indexOf(func);"undefined"!=typeof idx&&void 0!==idx&&this.viewportAdjusters.splice(idx,1)},GridRenderContainer.prototype.getViewportAdjustment=function(){var self=this,adjustment={height:0,width:0};return self.viewportAdjusters.forEach(function(func){adjustment=func.call(this,adjustment)}),adjustment},GridRenderContainer.prototype.getMargin=function(side){var self=this,amount=0;return self.viewportAdjusters.forEach(function(func){var adjustment=func.call(this,{height:0,width:0});adjustment.side&&adjustment.side===side&&(amount+=adjustment.width*-1)}),amount},GridRenderContainer.prototype.getViewportHeight=function(){var self=this,headerHeight=self.headerHeight?self.headerHeight:self.grid.headerHeight,viewPortHeight=self.grid.gridHeight-headerHeight-self.grid.footerHeight,adjustment=self.getViewportAdjustment();return viewPortHeight+=adjustment.height},GridRenderContainer.prototype.getViewportWidth=function(){var self=this,viewportWidth=self.grid.gridWidth,adjustment=self.getViewportAdjustment();return viewportWidth+=adjustment.width},GridRenderContainer.prototype.getHeaderViewportWidth=function(){var viewportWidth=this.getViewportWidth();return viewportWidth},GridRenderContainer.prototype.getCanvasHeight=function(){var self=this;if(!self.canvasHeightShouldUpdate)return self.$$canvasHeight;var oldCanvasHeight=self.$$canvasHeight;return self.$$canvasHeight=0,self.visibleRowCache.forEach(function(row){self.$$canvasHeight+=row.height}),self.canvasHeightShouldUpdate=!1,self.grid.api.core.raise.canvasHeightChanged(oldCanvasHeight,self.$$canvasHeight),self.$$canvasHeight},GridRenderContainer.prototype.getVerticalScrollLength=function(){return this.getCanvasHeight()-this.getViewportHeight()},GridRenderContainer.prototype.getCanvasWidth=function(){var self=this,ret=self.canvasWidth;return ret},GridRenderContainer.prototype.setRenderedRows=function(newRows){this.renderedRows.length=newRows.length;for(var i=0;i<newRows.length;i++)this.renderedRows[i]=newRows[i]},GridRenderContainer.prototype.setRenderedColumns=function(newColumns){this.renderedColumns.length=newColumns.length;for(var i=0;i<newColumns.length;i++)this.renderedColumns[i]=newColumns[i];this.updateColumnOffset()},GridRenderContainer.prototype.updateColumnOffset=function(){for(var hiddenColumnsWidth=0,i=0;i<this.currentFirstColumn;i++)hiddenColumnsWidth+=this.visibleColumnCache[i].drawnWidth;this.columnOffset=hiddenColumnsWidth},GridRenderContainer.prototype.scrollVertical=function(newScrollTop){var vertScrollPercentage=-1;if(newScrollTop!==this.prevScrollTop){var yDiff=newScrollTop-this.prevScrollTop;yDiff>0&&(this.grid.scrollDirection=uiGridConstants.scrollDirection.DOWN),yDiff<0&&(this.grid.scrollDirection=uiGridConstants.scrollDirection.UP);var vertScrollLength=this.getVerticalScrollLength();return vertScrollPercentage=newScrollTop/vertScrollLength,vertScrollPercentage>1&&(vertScrollPercentage=1),vertScrollPercentage<0&&(vertScrollPercentage=0),this.adjustScrollVertical(newScrollTop,vertScrollPercentage),vertScrollPercentage}},GridRenderContainer.prototype.scrollHorizontal=function(newScrollLeft){var horizScrollPercentage=-1;if(newScrollLeft!==this.prevScrollLeft){var xDiff=newScrollLeft-this.prevScrollLeft;xDiff>0&&(this.grid.scrollDirection=uiGridConstants.scrollDirection.RIGHT),xDiff<0&&(this.grid.scrollDirection=uiGridConstants.scrollDirection.LEFT);var horizScrollLength=this.canvasWidth-this.getViewportWidth();return horizScrollPercentage=0!==horizScrollLength?newScrollLeft/horizScrollLength:0,this.adjustScrollHorizontal(newScrollLeft,horizScrollPercentage),horizScrollPercentage}},GridRenderContainer.prototype.adjustScrollVertical=function(scrollTop,scrollPercentage,force){(this.prevScrollTop!==scrollTop||force)&&("undefined"!=typeof scrollTop&&void 0!==scrollTop&&null!==scrollTop||(scrollTop=(this.getCanvasHeight()-this.getViewportHeight())*scrollPercentage),this.adjustRows(scrollTop,scrollPercentage,!1),this.prevScrollTop=scrollTop,this.prevScrolltopPercentage=scrollPercentage,this.grid.queueRefresh())},GridRenderContainer.prototype.adjustScrollHorizontal=function(scrollLeft,scrollPercentage,force){(this.prevScrollLeft!==scrollLeft||force)&&("undefined"!=typeof scrollLeft&&void 0!==scrollLeft&&null!==scrollLeft||(scrollLeft=(this.getCanvasWidth()-this.getViewportWidth())*scrollPercentage),this.adjustColumns(scrollLeft,scrollPercentage),this.prevScrollLeft=scrollLeft,this.prevScrollleftPercentage=scrollPercentage,this.grid.queueRefresh())},GridRenderContainer.prototype.adjustRows=function(scrollTop,scrollPercentage,postDataLoaded){var self=this,minRows=self.minRowsToRender(),rowCache=self.visibleRowCache,maxRowIndex=rowCache.length-minRows;"undefined"!=typeof scrollPercentage&&null!==scrollPercentage||!scrollTop||(scrollPercentage=scrollTop/self.getVerticalScrollLength());var rowIndex=Math.ceil(Math.min(maxRowIndex,maxRowIndex*scrollPercentage));rowIndex>maxRowIndex&&(rowIndex=maxRowIndex);var newRange=[];if(rowCache.length>self.grid.options.virtualizationThreshold){if("undefined"!=typeof scrollTop&&null!==scrollTop){if(!self.grid.suppressParentScrollDown&&self.prevScrollTop<scrollTop&&rowIndex<self.prevRowScrollIndex+self.grid.options.scrollThreshold&&rowIndex<maxRowIndex)return;if(!self.grid.suppressParentScrollUp&&self.prevScrollTop>scrollTop&&rowIndex>self.prevRowScrollIndex-self.grid.options.scrollThreshold&&rowIndex<maxRowIndex)return}var rangeStart={},rangeEnd={};rangeStart=Math.max(0,rowIndex-self.grid.options.excessRows),rangeEnd=Math.min(rowCache.length,rowIndex+minRows+self.grid.options.excessRows),newRange=[rangeStart,rangeEnd]}else{var maxLen=self.visibleRowCache.length;newRange=[0,Math.max(maxLen,minRows+self.grid.options.excessRows)]}self.updateViewableRowRange(newRange),self.prevRowScrollIndex=rowIndex},GridRenderContainer.prototype.adjustColumns=function(scrollLeft,scrollPercentage){var self=this,minCols=self.minColumnsToRender(),columnCache=self.visibleColumnCache,maxColumnIndex=columnCache.length-minCols;"undefined"!=typeof scrollPercentage&&null!==scrollPercentage||!scrollLeft||(scrollPercentage=scrollLeft/self.getCanvasWidth());var colIndex=Math.ceil(Math.min(maxColumnIndex,maxColumnIndex*scrollPercentage));colIndex>maxColumnIndex&&(colIndex=maxColumnIndex);var newRange=[];if(columnCache.length>self.grid.options.columnVirtualizationThreshold&&self.getCanvasWidth()>self.getViewportWidth()){var rangeStart=Math.max(0,colIndex-self.grid.options.excessColumns),rangeEnd=Math.min(columnCache.length,colIndex+minCols+self.grid.options.excessColumns);newRange=[rangeStart,rangeEnd]}else{var maxLen=self.visibleColumnCache.length;newRange=[0,Math.max(maxLen,minCols+self.grid.options.excessColumns)]}self.updateViewableColumnRange(newRange),self.prevColumnScrollIndex=colIndex},GridRenderContainer.prototype.updateViewableRowRange=function(renderedRange){var rowArr=this.visibleRowCache.slice(renderedRange[0],renderedRange[1]);this.currentTopRow=renderedRange[0],this.setRenderedRows(rowArr)},GridRenderContainer.prototype.updateViewableColumnRange=function(renderedRange){var columnArr=this.visibleColumnCache.slice(renderedRange[0],renderedRange[1]);this.currentFirstColumn=renderedRange[0],this.setRenderedColumns(columnArr)},GridRenderContainer.prototype.headerCellWrapperStyle=function(){var self=this;if(0!==self.currentFirstColumn){var offset=self.columnOffset;return self.grid.isRTL()?{"margin-right":offset+"px"}:{"margin-left":offset+"px"}}return null},GridRenderContainer.prototype.updateColumnWidths=function(){var self=this,asterisksArray=[],percentArray=[],asteriskNum=0,usedWidthSum=0,ret="",availableWidth=self.grid.getViewportWidth()-self.grid.scrollbarWidth,columnCache=[];angular.forEach(self.grid.renderContainers,function(container,name){columnCache=columnCache.concat(container.visibleColumnCache)}),columnCache.forEach(function(column,i){var width=0;column.visible&&(angular.isNumber(column.width)?(width=parseInt(column.width,10),usedWidthSum+=width,column.drawnWidth=width):gridUtil.endsWith(column.width,"%")?percentArray.push(column):angular.isString(column.width)&&column.width.indexOf("*")!==-1&&(asteriskNum+=column.width.length,asterisksArray.push(column)))});var remainingWidth=availableWidth-usedWidthSum;percentArray.forEach(function(column,i){var width=parseInt(parseInt(column.width.replace(/%/g,""),10)/100*remainingWidth);width>column.maxWidth&&(width=column.maxWidth),width<column.minWidth&&(width=column.minWidth),usedWidthSum+=width,column.drawnWidth=width});var remainingWidth=availableWidth-usedWidthSum;if(asterisksArray.length>0){var asteriskVal=remainingWidth/asteriskNum;asterisksArray.forEach(function(column){var width=parseInt(column.width.length*asteriskVal,10);width>column.maxWidth&&(width=column.maxWidth),width<column.minWidth&&(width=column.minWidth),usedWidthSum+=width,column.drawnWidth=width})}for(var processColumnUpwards=function(column){column.drawnWidth<column.maxWidth&&leftoverWidth>0&&(column.drawnWidth++,usedWidthSum++,leftoverWidth--,columnsToChange=!0)},leftoverWidth=availableWidth-usedWidthSum,columnsToChange=!0;leftoverWidth>0&&columnsToChange;)columnsToChange=!1,asterisksArray.forEach(processColumnUpwards);var processColumnDownwards=function(column){column.drawnWidth>column.minWidth&&excessWidth>0&&(column.drawnWidth--,usedWidthSum--,excessWidth--,columnsToChange=!0)},excessWidth=usedWidthSum-availableWidth;for(columnsToChange=!0;excessWidth>0&&columnsToChange;)columnsToChange=!1,asterisksArray.forEach(processColumnDownwards);var canvasWidth=0;self.visibleColumnCache.forEach(function(column){column.visible&&(canvasWidth+=column.drawnWidth)}),columnCache.forEach(function(column){ret+=column.getColClassDefinition()}),self.canvasWidth=canvasWidth,this.columnStyles=ret},GridRenderContainer.prototype.getViewportStyle=function(){var self=this,styles={};return"body"===self.name?(styles["overflow-x"]=self.grid.options.enableHorizontalScrollbar===uiGridConstants.scrollbars.NEVER?"hidden":"scroll",self.grid.isRTL()?self.grid.hasLeftContainerColumns()?styles["overflow-y"]="hidden":styles["overflow-y"]=self.grid.options.enableVerticalScrollbar===uiGridConstants.scrollbars.NEVER?"hidden":"scroll":self.grid.hasRightContainerColumns()?styles["overflow-y"]="hidden":styles["overflow-y"]=self.grid.options.enableVerticalScrollbar===uiGridConstants.scrollbars.NEVER?"hidden":"scroll"):"left"===self.name?(styles["overflow-x"]="hidden",styles["overflow-y"]=self.grid.isRTL()?self.grid.options.enableVerticalScrollbar===uiGridConstants.scrollbars.NEVER?"hidden":"scroll":"hidden"):(styles["overflow-x"]="hidden",styles["overflow-y"]=self.grid.isRTL()?"hidden":self.grid.options.enableVerticalScrollbar===uiGridConstants.scrollbars.NEVER?"hidden":"scroll"),styles},GridRenderContainer}])}(),function(){angular.module("ui.grid").factory("GridRow",["gridUtil",function(gridUtil){function GridRow(entity,index,grid){this.grid=grid,this.entity=entity,this.uid=gridUtil.nextUid(),this.visible=!0,this.$$height=grid.options.rowHeight}return Object.defineProperty(GridRow.prototype,"height",{get:function(){return this.$$height},set:function(height){height!==this.$$height&&(this.grid.updateCanvasHeight(),this.$$height=height)}}),GridRow.prototype.getQualifiedColField=function(col){return"row."+this.getEntityQualifiedColField(col)},GridRow.prototype.getEntityQualifiedColField=function(col){return gridUtil.preEval("entity."+col.field)},GridRow.prototype.setRowInvisible=function(row){row&&row.setThisRowInvisible&&row.setThisRowInvisible("user")},GridRow.prototype.clearRowInvisible=function(row){row&&row.clearThisRowInvisible&&row.clearThisRowInvisible("user")},GridRow.prototype.setThisRowInvisible=function(reason,fromRowsProcessor){this.invisibleReason||(this.invisibleReason={}),this.invisibleReason[reason]=!0,this.evaluateRowVisibility(fromRowsProcessor)},GridRow.prototype.clearThisRowInvisible=function(reason,fromRowsProcessor){"undefined"!=typeof this.invisibleReason&&delete this.invisibleReason.user,this.evaluateRowVisibility(fromRowsProcessor)},GridRow.prototype.evaluateRowVisibility=function(fromRowProcessor){var newVisibility=!0;"undefined"!=typeof this.invisibleReason&&angular.forEach(this.invisibleReason,function(value,key){value&&(newVisibility=!1)}),"undefined"!=typeof this.visible&&this.visible===newVisibility||(this.visible=newVisibility,fromRowProcessor||(this.grid.queueGridRefresh(),this.grid.api.core.raise.rowsVisibleChanged(this)))},GridRow}])}(),function(){angular.module("ui.grid").factory("ScrollEvent",["gridUtil",function(gridUtil){function ScrollEvent(grid,sourceRowContainer,sourceColContainer,source){var self=this;if(!grid)throw new Error("grid argument is required");self.grid=grid,self.source=source,self.withDelay=!0,self.sourceRowContainer=sourceRowContainer,self.sourceColContainer=sourceColContainer,self.newScrollLeft=null,self.newScrollTop=null,self.x=null,self.y=null,self.fireThrottledScrollingEvent=gridUtil.throttle(function(sourceContainerId){self.grid.scrollContainers(sourceContainerId,self)},self.grid.options.wheelScrollThrottle,{trailing:!0})}return ScrollEvent.prototype.getNewScrollLeft=function(colContainer,viewport){var self=this;if(!self.newScrollLeft){var scrollXPercentage,scrollWidth=colContainer.getCanvasWidth()-colContainer.getViewportWidth(),oldScrollLeft=gridUtil.normalizeScrollLeft(viewport,self.grid);if("undefined"!=typeof self.x.percentage&&void 0!==self.x.percentage)scrollXPercentage=self.x.percentage;else{if("undefined"==typeof self.x.pixels||void 0===self.x.pixels)throw new Error("No percentage or pixel value provided for scroll event X axis");scrollXPercentage=self.x.percentage=(oldScrollLeft+self.x.pixels)/scrollWidth}return Math.max(0,scrollXPercentage*scrollWidth)}return self.newScrollLeft},ScrollEvent.prototype.getNewScrollTop=function(rowContainer,viewport){var self=this;if(!self.newScrollTop){var scrollYPercentage,scrollLength=rowContainer.getVerticalScrollLength(),oldScrollTop=viewport[0].scrollTop;if("undefined"!=typeof self.y.percentage&&void 0!==self.y.percentage)scrollYPercentage=self.y.percentage;else{if("undefined"==typeof self.y.pixels||void 0===self.y.pixels)throw new Error("No percentage or pixel value provided for scroll event Y axis");scrollYPercentage=self.y.percentage=(oldScrollTop+self.y.pixels)/scrollLength}return Math.max(0,scrollYPercentage*scrollLength)}return self.newScrollTop},ScrollEvent.prototype.atTop=function(scrollTop){return this.y&&0===this.y.percentage&&0===scrollTop},ScrollEvent.prototype.atBottom=function(scrollTop){return this.y&&1===this.y.percentage&&scrollTop>0},ScrollEvent.prototype.atLeft=function(scrollLeft){return this.x&&0===this.x.percentage&&0===scrollLeft},ScrollEvent.prototype.atRight=function(scrollLeft){return this.x&&1===this.x.percentage&&scrollLeft>0},ScrollEvent.Sources={ViewPortScroll:"ViewPortScroll",RenderContainerMouseWheel:"RenderContainerMouseWheel",RenderContainerTouchMove:"RenderContainerTouchMove",Other:99},ScrollEvent}])}(),function(){"use strict";angular.module("ui.grid").service("gridClassFactory",["gridUtil","$q","$compile","$templateCache","uiGridConstants","Grid","GridColumn","GridRow",function(gridUtil,$q,$compile,$templateCache,uiGridConstants,Grid,GridColumn,GridRow){var service={createGrid:function(options){options="undefined"!=typeof options?options:{},options.id=gridUtil.newId();var grid=new Grid(options);if(grid.options.rowTemplate){var rowTemplateFnPromise=$q.defer();grid.getRowTemplateFn=rowTemplateFnPromise.promise,gridUtil.getTemplate(grid.options.rowTemplate).then(function(template){var rowTemplateFn=$compile(template);rowTemplateFnPromise.resolve(rowTemplateFn)},function(res){throw new Error("Couldn't fetch/use row template '"+grid.options.rowTemplate+"'")})}return grid.registerColumnBuilder(service.defaultColumnBuilder),grid.registerRowBuilder(service.rowTemplateAssigner),grid.registerRowsProcessor(function(rows){return rows.forEach(function(row){row.evaluateRowVisibility(!0)},50),rows}),grid.registerColumnsProcessor(function(columns){return columns.forEach(function(column){column.visible=!0}),columns},50),grid.registerColumnsProcessor(function(renderableColumns){return renderableColumns.forEach(function(column){column.colDef.visible===!1&&(column.visible=!1)}),renderableColumns},50),grid.registerRowsProcessor(grid.searchRows,100),grid.options.externalSort&&angular.isFunction(grid.options.externalSort)?grid.registerRowsProcessor(grid.options.externalSort,200):grid.registerRowsProcessor(grid.sortByColumn,200),grid},defaultColumnBuilder:function(colDef,col,gridOptions){var templateGetPromises=[],processTemplate=function(templateType,providedType,defaultTemplate,filterType){colDef[templateType]?col[providedType]=colDef[templateType]:col[providedType]=defaultTemplate,templateGetPromises.push(gridUtil.getTemplate(col[providedType]).then(function(template){filterType?col[templateType]=template.replace(uiGridConstants.CUSTOM_FILTERS,col[filterType]?"|"+col[filterType]:""):col[templateType]=template},function(res){throw new Error("Couldn't fetch/use colDef."+templateType+" '"+colDef[templateType]+"'")}))};return processTemplate("cellTemplate","providedCellTemplate","ui-grid/uiGridCell","cellFilter"),col.cellTemplatePromise=templateGetPromises[0],processTemplate("headerCellTemplate","providedHeaderCellTemplate","ui-grid/uiGridHeaderCell","headerCellFilter"),processTemplate("footerCellTemplate","providedFooterCellTemplate","ui-grid/uiGridFooterCell","footerCellFilter"),processTemplate("filterHeaderTemplate","providedFilterHeaderTemplate","ui-grid/ui-grid-filter"),col.compiledElementFnDefer=$q.defer(),$q.all(templateGetPromises)},rowTemplateAssigner:function(row){var grid=this;if(row.rowTemplate){var perRowTemplateFnPromise=$q.defer();row.getRowTemplateFn=perRowTemplateFnPromise.promise,gridUtil.getTemplate(row.rowTemplate).then(function(template){var rowTemplateFn=$compile(template);perRowTemplateFnPromise.resolve(rowTemplateFn)},function(res){throw new Error("Couldn't fetch/use row template '"+row.rowTemplate+"'")})}else row.rowTemplate=grid.options.rowTemplate,row.getRowTemplateFn=grid.getRowTemplateFn;return row.getRowTemplateFn}};return service}])}(),function(){function escapeRegExp(str){return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var module=angular.module("ui.grid");module.service("rowSearcher",["gridUtil","uiGridConstants",function(gridUtil,uiGridConstants){var defaultCondition=uiGridConstants.filter.STARTS_WITH,rowSearcher={};return rowSearcher.getTerm=function(filter){if("undefined"==typeof filter.term)return filter.term;var term=filter.term;return"string"==typeof term&&(term=term.trim()),term},rowSearcher.stripTerm=function(filter){var term=rowSearcher.getTerm(filter);return"string"==typeof term?escapeRegExp(term.replace(/(^\*|\*$)/g,"")):term},rowSearcher.guessCondition=function(filter){if("undefined"==typeof filter.term||!filter.term)return defaultCondition;var term=rowSearcher.getTerm(filter);if(/\*/.test(term)){var regexpFlags="";filter.flags&&filter.flags.caseSensitive||(regexpFlags+="i");var reText=term.replace(/(\\)?\*/g,function($0,$1){return $1?$0:"[\\s\\S]*?"});return new RegExp("^"+reText+"$",regexpFlags)}return defaultCondition},rowSearcher.setupFilters=function(filters){for(var newFilters=[],filtersLength=filters.length,i=0;i<filtersLength;i++){var filter=filters[i];if(filter.noTerm||!gridUtil.isNullOrUndefined(filter.term)){var newFilter={},regexpFlags="";filter.flags&&filter.flags.caseSensitive||(regexpFlags+="i"),gridUtil.isNullOrUndefined(filter.term)||(newFilter.term=rowSearcher.stripTerm(filter)),filter.condition?newFilter.condition=filter.condition:newFilter.condition=rowSearcher.guessCondition(filter),newFilter.flags=angular.extend({caseSensitive:!1,date:!1},filter.flags),newFilter.condition===uiGridConstants.filter.STARTS_WITH&&(newFilter.startswithRE=new RegExp("^"+newFilter.term,regexpFlags)),newFilter.condition===uiGridConstants.filter.ENDS_WITH&&(newFilter.endswithRE=new RegExp(newFilter.term+"$",regexpFlags)),newFilter.condition===uiGridConstants.filter.CONTAINS&&(newFilter.containsRE=new RegExp(newFilter.term,regexpFlags)),newFilter.condition===uiGridConstants.filter.EXACT&&(newFilter.exactRE=new RegExp("^"+newFilter.term+"$",regexpFlags)),newFilters.push(newFilter)}}return newFilters},rowSearcher.runColumnFilter=function(grid,row,column,filter){var conditionType=typeof filter.condition,term=filter.term,value=grid.getCellValue(row,column);if(filter.condition instanceof RegExp)return filter.condition.test(value);if("function"===conditionType)return filter.condition(term,value,row,column);if(filter.startswithRE)return filter.startswithRE.test(value);if(filter.endswithRE)return filter.endswithRE.test(value);if(filter.containsRE)return filter.containsRE.test(value);if(filter.exactRE)return filter.exactRE.test(value);if(filter.condition===uiGridConstants.filter.NOT_EQUAL){var regex=new RegExp("^"+term+"$");return!regex.exec(value)}if("number"==typeof value){var tempFloat=parseFloat(term.replace(/\\\./,".").replace(/\\\-/,"-"));isNaN(tempFloat)||(term=tempFloat)}return filter.flags.date===!0&&(value=new Date(value),term=new Date(term.replace(/\\/g,""))),filter.condition===uiGridConstants.filter.GREATER_THAN?value>term:filter.condition===uiGridConstants.filter.GREATER_THAN_OR_EQUAL?value>=term:filter.condition===uiGridConstants.filter.LESS_THAN?value<term:filter.condition!==uiGridConstants.filter.LESS_THAN_OR_EQUAL||value<=term},rowSearcher.searchColumn=function(grid,row,column,filters){if(grid.options.useExternalFiltering)return!0;for(var filtersLength=filters.length,i=0;i<filtersLength;i++){var filter=filters[i],ret=rowSearcher.runColumnFilter(grid,row,column,filter);if(!ret)return!1}return!0},rowSearcher.search=function(grid,rows,columns){if(rows){if(!grid.options.enableFiltering)return rows;for(var filterData=[],colsLength=columns.length,i=0;i<colsLength;i++){var col=columns[i];"undefined"!=typeof col.filters&&(col.filters.length>1||1===col.filters.length&&(!gridUtil.isNullOrUndefined(col.filters[0].term)||col.filters[0].noTerm))?filterData.push({col:col,filters:rowSearcher.setupFilters(col.filters)}):"undefined"==typeof col.filter||!col.filter||gridUtil.isNullOrUndefined(col.filters[0].term)&&!col.filter.noTerm||filterData.push({col:col,filters:rowSearcher.setupFilters([col.filter])})}if(filterData.length>0){for(var foreachRow=function(grid,row,col,filters){row.visible&&!rowSearcher.searchColumn(grid,row,col,filters)&&(row.visible=!1)},foreachFilterCol=function(grid,filterData){for(var rowsLength=rows.length,i=0;i<rowsLength;i++)foreachRow(grid,rows[i],filterData.col,filterData.filters)},filterDataLength=filterData.length,j=0;j<filterDataLength;j++)foreachFilterCol(grid,filterData[j]);grid.api.core.raise.rowsVisibleChanged&&grid.api.core.raise.rowsVisibleChanged(),rows=rows.filter(function(row){return row.visible})}return rows}},rowSearcher}])}(),function(){var module=angular.module("ui.grid");module.service("rowSorter",["$parse","uiGridConstants",function($parse,uiGridConstants){var currencyRegexStr="("+uiGridConstants.CURRENCY_SYMBOLS.map(function(a){return"\\"+a}).join("|")+")?",rowSorter=(new RegExp("^[-+]?"+currencyRegexStr+"[\\d,.]+"+currencyRegexStr+"%?$"),{colSortFnCache:{}});return rowSorter.guessSortFn=function(itemType){switch(itemType){case"number":return rowSorter.sortNumber;case"numberStr":return rowSorter.sortNumberStr;case"boolean":return rowSorter.sortBool;case"string":return rowSorter.sortAlpha;case"date":return rowSorter.sortDate;case"object":return rowSorter.basicSort;default:throw new Error("No sorting function found for type:"+itemType)}},rowSorter.handleNulls=function(a,b){if(!a&&0!==a&&a!==!1||!b&&0!==b&&b!==!1){if(!a&&0!==a&&a!==!1&&!b&&0!==b&&b!==!1)return 0;if(!a&&0!==a&&a!==!1)return 1;if(!b&&0!==b&&b!==!1)return-1}return null},rowSorter.basicSort=function(a,b){var nulls=rowSorter.handleNulls(a,b);return null!==nulls?nulls:a===b?0:a<b?-1:1},rowSorter.sortNumber=function(a,b){var nulls=rowSorter.handleNulls(a,b);return null!==nulls?nulls:a-b},rowSorter.sortNumberStr=function(a,b){var nulls=rowSorter.handleNulls(a,b);if(null!==nulls)return nulls;var numA,numB,badA=!1,badB=!1;return numA=parseFloat(a.replace(/[^0-9.-]/g,"")),isNaN(numA)&&(badA=!0),numB=parseFloat(b.replace(/[^0-9.-]/g,"")),isNaN(numB)&&(badB=!0),badA&&badB?0:badA?1:badB?-1:numA-numB},rowSorter.sortAlpha=function(a,b){var nulls=rowSorter.handleNulls(a,b);if(null!==nulls)return nulls;var strA=a.toString().toLowerCase(),strB=b.toString().toLowerCase();return strA===strB?0:strA<strB?-1:1},rowSorter.sortDate=function(a,b){var nulls=rowSorter.handleNulls(a,b);if(null!==nulls)return nulls;var timeA=a.getTime(),timeB=b.getTime();return timeA===timeB?0:timeA<timeB?-1:1},rowSorter.sortBool=function(a,b){var nulls=rowSorter.handleNulls(a,b);return null!==nulls?nulls:a&&b?0:a||b?a?1:-1:0},rowSorter.getSortFn=function(grid,col,rows){var sortFn;return rowSorter.colSortFnCache[col.colDef.name]?sortFn=rowSorter.colSortFnCache[col.colDef.name]:void 0!==col.sortingAlgorithm?(sortFn=col.sortingAlgorithm,rowSorter.colSortFnCache[col.colDef.name]=col.sortingAlgorithm):(sortFn=rowSorter.guessSortFn(col.colDef.type),sortFn?rowSorter.colSortFnCache[col.colDef.name]=sortFn:sortFn=rowSorter.sortAlpha),sortFn},rowSorter.prioritySort=function(a,b){return void 0!==a.sort.priority&&void 0!==b.sort.priority?a.sort.priority<b.sort.priority?-1:a.sort.priority===b.sort.priority?0:1:a.sort.priority||0===a.sort.priority?-1:b.sort.priority||0===b.sort.priority?1:0},rowSorter.sort=function(grid,rows,columns){if(rows){if(grid.options.useExternalSorting)return rows;var sortCols=[];if(columns.forEach(function(col){col.sort&&col.sort.direction&&(col.sort.direction===uiGridConstants.ASC||col.sort.direction===uiGridConstants.DESC)&&sortCols.push(col)}),sortCols=sortCols.sort(rowSorter.prioritySort),0===sortCols.length)return rows;var col,direction,setIndex=function(row,idx){row.entity.$$uiGridIndex=idx};rows.forEach(setIndex);var r=rows.slice(0),rowSortFn=function(rowA,rowB){for(var sortFn,tem=0,idx=0;0===tem&&idx<sortCols.length;){col=sortCols[idx],direction=sortCols[idx].sort.direction,sortFn=rowSorter.getSortFn(grid,col,r);var propA=grid.getCellValue(rowA,col),propB=grid.getCellValue(rowB,col);tem=sortFn(propA,propB),idx++}return 0===tem?rowA.entity.$$uiGridIndex-rowB.entity.$$uiGridIndex:direction===uiGridConstants.ASC?tem:0-tem},newRows=rows.sort(rowSortFn),clearIndex=function(row,idx){delete row.entity.$$uiGridIndex};return rows.forEach(clearIndex),newRows}},rowSorter}])}(),function(){function getStyles(elem){var e=elem;return"undefined"!=typeof e.length&&e.length&&(e=elem[0]),e.ownerDocument.defaultView.getComputedStyle(e,null)}function augmentWidthOrHeight(elem,name,extra,isBorderBox,styles){for(var i=extra===(isBorderBox?"border":"content")?4:"width"===name?1:0,val=0,sides=["Top","Right","Bottom","Left"];i<4;i+=2){var side=sides[i];if("margin"===extra){var marg=parseFloat(styles[extra+side]);isNaN(marg)||(val+=marg)}if(isBorderBox){if("content"===extra){var padd=parseFloat(styles["padding"+side]);isNaN(padd)||(val-=padd)}if("margin"!==extra){var bordermarg=parseFloat(styles["border"+side+"Width"]);isNaN(bordermarg)||(val-=bordermarg)}}else{var nocontentPad=parseFloat(styles["padding"+side]);if(isNaN(nocontentPad)||(val+=nocontentPad),"padding"!==extra){var nocontentnopad=parseFloat(styles["border"+side+"Width"]);isNaN(nocontentnopad)||(val+=nocontentnopad)}}}return val}function getWidthOrHeight(elem,name,extra){
var val,valueIsBorderBox=!0,styles=getStyles(elem),isBorderBox="border-box"===styles.boxSizing;if(val<=0||null==val){if(val=styles[name],(val<0||null==val)&&(val=elem.style[name]),rnumnonpx.test(val))return val;valueIsBorderBox=isBorderBox&&!0,val=parseFloat(val)||0}var ret=val+augmentWidthOrHeight(elem,name,extra||(isBorderBox?"border":"content"),valueIsBorderBox,styles);return ret}function getLineHeight(elm){elm=angular.element(elm)[0];var parent=elm.offsetParent;return parent||(parent=document.getElementsByTagName("body")[0]),parseInt(getStyles(parent).fontSize)||parseInt(getStyles(elm).fontSize)||16}var bindPolyfill,module=angular.module("ui.grid");"function"!=typeof Function.prototype.bind&&(bindPolyfill=function(){var slice=Array.prototype.slice;return function(context){var fn=this,args=slice.call(arguments,1);return args.length?function(){return arguments.length?fn.apply(context,args.concat(slice.call(arguments))):fn.apply(context,args)}:function(){return arguments.length?fn.apply(context,arguments):fn.call(context)}}});var rnumnonpx=new RegExp("^("+/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source+")(?!px)[a-z%]+$","i"),rdisplayswap=/^(block|none|table(?!-c[ea]).+)/,cssShow={position:"absolute",visibility:"hidden",display:"block"},uid=["0","0","0"],uidPrefix="uiGrid-";module.service("gridUtil",["$log","$window","$document","$http","$templateCache","$timeout","$interval","$injector","$q","$interpolate","uiGridConstants",function($log,$window,$document,$http,$templateCache,$timeout,$interval,$injector,$q,$interpolate,uiGridConstants){function mousewheelHandler(fn,event){var $elm=angular.element(this),delta=0,deltaX=0,deltaY=0,absDelta=0;if(event.originalEvent&&(event=event.originalEvent),"detail"in event&&(deltaY=event.detail*-1),"wheelDelta"in event&&(deltaY=event.wheelDelta),"wheelDeltaY"in event&&(deltaY=event.wheelDeltaY),"wheelDeltaX"in event&&(deltaX=event.wheelDeltaX*-1),"axis"in event&&event.axis===event.HORIZONTAL_AXIS&&(deltaX=deltaY*-1,deltaY=0),delta=0===deltaY?deltaX:deltaY,"deltaY"in event&&(deltaY=event.deltaY*-1,delta=deltaY),"deltaX"in event&&(deltaX=event.deltaX,0===deltaY&&(delta=deltaX*-1)),0!==deltaY||0!==deltaX){if(1===event.deltaMode){var lineHeight=$elm.data("mousewheel-line-height");delta*=lineHeight,deltaY*=lineHeight,deltaX*=lineHeight}else if(2===event.deltaMode){var pageHeight=$elm.data("mousewheel-page-height");delta*=pageHeight,deltaY*=pageHeight,deltaX*=pageHeight}absDelta=Math.max(Math.abs(deltaY),Math.abs(deltaX)),(!lowestDelta||absDelta<lowestDelta)&&(lowestDelta=absDelta,shouldAdjustOldDeltas(event,absDelta)&&(lowestDelta/=40)),delta=Math[delta>=1?"floor":"ceil"](delta/lowestDelta),deltaX=Math[deltaX>=1?"floor":"ceil"](deltaX/lowestDelta),deltaY=Math[deltaY>=1?"floor":"ceil"](deltaY/lowestDelta),event.deltaMode=0;var newEvent={originalEvent:event,deltaX:deltaX,deltaY:deltaY,deltaFactor:lowestDelta,preventDefault:function(){event.preventDefault()}};nullLowestDeltaTimeout&&clearTimeout(nullLowestDeltaTimeout),nullLowestDeltaTimeout=setTimeout(nullLowestDelta,200),fn.call($elm[0],newEvent)}}function nullLowestDelta(){lowestDelta=null}function shouldAdjustOldDeltas(orgEvent,absDelta){return"mousewheel"===orgEvent.type&&absDelta%120===0}var s={augmentWidthOrHeight:augmentWidthOrHeight,getStyles:getStyles,createBoundedWrapper:function(object,method){return function(){return method.apply(object,arguments)}},readableColumnName:function(columnName){return"undefined"==typeof columnName||void 0===columnName||null===columnName?columnName:("string"!=typeof columnName&&(columnName=String(columnName)),columnName.replace(/_+/g," ").replace(/^[A-Z]+$/,function(match){return angular.lowercase(angular.uppercase(match.charAt(0))+match.slice(1))}).replace(/([\w\u00C0-\u017F]+)/g,function(match){return angular.uppercase(match.charAt(0))+match.slice(1)}).replace(/(\w+?(?=[A-Z]))/g,"$1 "))},getColumnsFromData:function(data,excludeProperties){var columnDefs=[];if(!data||"undefined"==typeof data[0]||void 0===data[0])return[];angular.isUndefined(excludeProperties)&&(excludeProperties=[]);var item=data[0];return angular.forEach(item,function(prop,propName){excludeProperties.indexOf(propName)===-1&&columnDefs.push({name:propName})}),columnDefs},newId:function(){var seedId=(new Date).getTime();return function(){return seedId+=1}}(),getTemplate:function(template){if($templateCache.get(template))return s.postProcessTemplate($templateCache.get(template));if(template.hasOwnProperty("then"))return template.then(s.postProcessTemplate);try{if(angular.element(template).length>0)return $q.when(template).then(s.postProcessTemplate)}catch(err){}return s.logDebug("fetching url",template),$http({method:"GET",url:template}).then(function(result){var templateHtml=result.data.trim();return $templateCache.put(template,templateHtml),templateHtml},function(err){throw new Error("Could not get template "+template+": "+err)}).then(s.postProcessTemplate)},postProcessTemplate:function(template){var startSym=$interpolate.startSymbol(),endSym=$interpolate.endSymbol();return"{{"===startSym&&"}}"===endSym||(template=template.replace(/\{\{/g,startSym),template=template.replace(/\}\}/g,endSym)),$q.when(template)},guessType:function(item){var itemType=typeof item;switch(itemType){case"number":case"boolean":case"string":return itemType;default:return angular.isDate(item)?"date":"object"}},elementWidth:function(elem){},elementHeight:function(elem){},getScrollbarWidth:function(){var outer=document.createElement("div");outer.style.visibility="hidden",outer.style.width="100px",outer.style.msOverflowStyle="scrollbar",document.body.appendChild(outer);var widthNoScroll=outer.offsetWidth;outer.style.overflow="scroll";var inner=document.createElement("div");inner.style.width="100%",outer.appendChild(inner);var widthWithScroll=inner.offsetWidth;return outer.parentNode.removeChild(outer),widthNoScroll-widthWithScroll},swap:function(elem,options,callback,args){var ret,name,old={};for(name in options)old[name]=elem.style[name],elem.style[name]=options[name];ret=callback.apply(elem,args||[]);for(name in options)elem.style[name]=old[name];return ret},fakeElement:function(elem,options,callback,args){var ret,name,newElement=angular.element(elem).clone()[0];for(name in options)newElement.style[name]=options[name];return angular.element(document.body).append(newElement),ret=callback.call(newElement,newElement),angular.element(newElement).remove(),ret},normalizeWheelEvent:function(event){var lowestDelta,lowestDeltaXY,fn,orgEvent=event||window.event,delta=([].slice.call(arguments,1),0),deltaX=0,deltaY=0,absDelta=0,absDeltaXY=0;return orgEvent.originalEvent&&(orgEvent=orgEvent.originalEvent),orgEvent.wheelDelta&&(delta=orgEvent.wheelDelta),orgEvent.detail&&(delta=orgEvent.detail*-1),deltaY=delta,void 0!==orgEvent.axis&&orgEvent.axis===orgEvent.HORIZONTAL_AXIS&&(deltaY=0,deltaX=delta*-1),orgEvent.deltaY&&(deltaY=orgEvent.deltaY*-1,delta=deltaY),orgEvent.deltaX&&(deltaX=orgEvent.deltaX,delta=deltaX*-1),void 0!==orgEvent.wheelDeltaY&&(deltaY=orgEvent.wheelDeltaY),void 0!==orgEvent.wheelDeltaX&&(deltaX=orgEvent.wheelDeltaX),absDelta=Math.abs(delta),(!lowestDelta||absDelta<lowestDelta)&&(lowestDelta=absDelta),absDeltaXY=Math.max(Math.abs(deltaY),Math.abs(deltaX)),(!lowestDeltaXY||absDeltaXY<lowestDeltaXY)&&(lowestDeltaXY=absDeltaXY),fn=delta>0?"floor":"ceil",delta=Math[fn](delta/lowestDelta),deltaX=Math[fn](deltaX/lowestDeltaXY),deltaY=Math[fn](deltaY/lowestDeltaXY),{delta:delta,deltaX:deltaX,deltaY:deltaY}},isTouchEnabled:function(){var bool;return("ontouchstart"in $window||$window.DocumentTouch&&$document instanceof DocumentTouch)&&(bool=!0),bool},isNullOrUndefined:function(obj){return void 0===obj||null===obj},endsWith:function(str,suffix){return!(!str||!suffix||"string"!=typeof str)&&str.indexOf(suffix,str.length-suffix.length)!==-1},arrayContainsObjectWithProperty:function(array,propertyName,propertyValue){var found=!1;return angular.forEach(array,function(object){object[propertyName]===propertyValue&&(found=!0)}),found},numericAndNullSort:function(a,b){return null===a?1:null===b?-1:null===a&&null===b?0:a-b},disableAnimations:function(element){var $animate;try{$animate=$injector.get("$animate"),$animate.enabled(!1,element)}catch(e){}},enableAnimations:function(element){var $animate;try{return $animate=$injector.get("$animate"),$animate.enabled(!0,element),$animate}catch(e){}},nextUid:function(){for(var digit,index=uid.length;index;){if(index--,digit=uid[index].charCodeAt(0),57===digit)return uid[index]="A",uidPrefix+uid.join("");if(90!==digit)return uid[index]=String.fromCharCode(digit+1),uidPrefix+uid.join("");uid[index]="0"}return uid.unshift("0"),uidPrefix+uid.join("")},hashKey:function(obj){var key,objType=typeof obj;return"object"===objType&&null!==obj?"function"==typeof(key=obj.$$hashKey)?key=obj.$$hashKey():"undefined"!=typeof obj.$$hashKey&&obj.$$hashKey?key=obj.$$hashKey:void 0===key&&(key=obj.$$hashKey=s.nextUid()):key=obj,objType+":"+key},resetUids:function(){uid=["0","0","0"]},logError:function(logMessage){uiGridConstants.LOG_ERROR_MESSAGES&&$log.error(logMessage)},logWarn:function(logMessage){uiGridConstants.LOG_WARN_MESSAGES&&$log.warn(logMessage)},logDebug:function(){uiGridConstants.LOG_DEBUG_MESSAGES&&$log.debug.apply($log,arguments)}};["width","height"].forEach(function(name){var capsName=angular.uppercase(name.charAt(0))+name.substr(1);s["element"+capsName]=function(elem,extra){var e=elem;if(e&&"undefined"!=typeof e.length&&e.length&&(e=elem[0]),e){var styles=getStyles(e);return 0===e.offsetWidth&&rdisplayswap.test(styles.display)?s.swap(e,cssShow,function(){return getWidthOrHeight(e,name,extra)}):getWidthOrHeight(e,name,extra)}return null},s["outerElement"+capsName]=function(elem,margin){return elem?s["element"+capsName].call(this,elem,margin?"margin":"border"):null}}),s.closestElm=function(el,selector){"undefined"!=typeof el.length&&el.length&&(el=el[0]);var matchesFn;["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].some(function(fn){return"function"==typeof document.body[fn]&&(matchesFn=fn,!0)});for(var parent;null!==el;){if(parent=el.parentElement,null!==parent&&parent[matchesFn](selector))return parent;el=parent}return null},s.type=function(obj){var text=Function.prototype.toString.call(obj.constructor);return text.match(/function (.*?)\(/)[1]},s.getBorderSize=function(elem,borderType){"undefined"!=typeof elem.length&&elem.length&&(elem=elem[0]);var styles=getStyles(elem);borderType=borderType?"border"+borderType.charAt(0).toUpperCase()+borderType.slice(1):"border",borderType+="Width";var val=parseInt(styles[borderType],10);return isNaN(val)?0:val},s.detectBrowser=function(){var userAgent=$window.navigator.userAgent,browsers={chrome:/chrome/i,safari:/safari/i,firefox:/firefox/i,ie:/internet explorer|trident\//i};for(var key in browsers)if(browsers[key].test(userAgent))return key;return"unknown"},s.rtlScrollType=function rtlScrollType(){if(rtlScrollType.type)return rtlScrollType.type;var definer=angular.element('<div dir="rtl" style="font-size: 14px; width: 1px; height: 1px; position: absolute; top: -1000px; overflow: scroll">A</div>')[0],type="reverse";return document.body.appendChild(definer),definer.scrollLeft>0?type="default":(definer.scrollLeft=1,0===definer.scrollLeft&&(type="negative")),definer.remove(),rtlScrollType.type=type,type},s.normalizeScrollLeft=function(element,grid){"undefined"!=typeof element.length&&element.length&&(element=element[0]);var scrollLeft=element.scrollLeft;if(grid.isRTL())switch(s.rtlScrollType()){case"default":return element.scrollWidth-scrollLeft-element.clientWidth;case"negative":return Math.abs(scrollLeft);case"reverse":return scrollLeft}return scrollLeft},s.denormalizeScrollLeft=function(element,scrollLeft,grid){if("undefined"!=typeof element.length&&element.length&&(element=element[0]),grid.isRTL())switch(s.rtlScrollType()){case"default":var maxScrollLeft=element.scrollWidth-element.clientWidth;return maxScrollLeft-scrollLeft;case"negative":return scrollLeft*-1;case"reverse":return scrollLeft}return scrollLeft},s.preEval=function(path){var m=uiGridConstants.BRACKET_REGEXP.exec(path);if(m)return(m[1]?s.preEval(m[1]):m[1])+m[2]+(m[3]?s.preEval(m[3]):m[3]);path=path.replace(uiGridConstants.APOS_REGEXP,"\\'");var parts=path.split(uiGridConstants.DOT_REGEXP),preparsed=[parts.shift()];return angular.forEach(parts,function(part){preparsed.push(part.replace(uiGridConstants.FUNC_REGEXP,"']$1"))}),preparsed.join("['")},s.debounce=function(func,wait,immediate){function debounce(){context=this,args=arguments;var later=function(){timeout=null,immediate||(result=func.apply(context,args))},callNow=immediate&&!timeout;return timeout&&$timeout.cancel(timeout),timeout=$timeout(later,wait),callNow&&(result=func.apply(context,args)),result}var timeout,args,context,result;return debounce.cancel=function(){$timeout.cancel(timeout),timeout=null},debounce},s.throttle=function(func,wait,options){function runFunc(endDate){lastCall=+new Date,func.apply(context,args),$interval(function(){queued=null},0,1)}options=options||{};var context,args,lastCall=0,queued=null;return function(){if(context=this,args=arguments,null===queued){var sinceLast=+new Date-lastCall;sinceLast>wait?runFunc():options.trailing&&(queued=$interval(runFunc,wait-sinceLast,1))}}},s.on={},s.off={},s._events={},s.addOff=function(eventName){s.off[eventName]=function(elm,fn){var idx=s._events[eventName].indexOf(fn);idx>0&&s._events[eventName].removeAt(idx)}};var nullLowestDeltaTimeout,lowestDelta,mouseWheeltoBind="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"];return s.on.mousewheel=function(elm,fn){if(elm&&fn){var $elm=angular.element(elm);$elm.data("mousewheel-line-height",getLineHeight($elm)),$elm.data("mousewheel-page-height",s.elementHeight($elm)),$elm.data("mousewheel-callbacks")||$elm.data("mousewheel-callbacks",{});var cbs=$elm.data("mousewheel-callbacks");cbs[fn]=(Function.prototype.bind||bindPolyfill).call(mousewheelHandler,$elm[0],fn);for(var i=mouseWheeltoBind.length;i;)$elm.on(mouseWheeltoBind[--i],cbs[fn])}},s.off.mousewheel=function(elm,fn){var $elm=angular.element(this),cbs=$elm.data("mousewheel-callbacks"),handler=cbs[fn];if(handler)for(var i=mouseWheeltoBind.length;i;)$elm.off(mouseWheeltoBind[--i],handler);delete cbs[fn],0===Object.keys(cbs).length&&($elm.removeData("mousewheel-line-height"),$elm.removeData("mousewheel-page-height"),$elm.removeData("mousewheel-callbacks"))},s}]),module.filter("px",function(){return function(str){return str.match(/^[\d\.]+$/)?str+"px":str}})}(),function(){angular.module("ui.grid").config(["$provide",function($provide){$provide.decorator("i18nService",["$delegate",function($delegate){var lang={aggregate:{label:"položky"},groupPanel:{description:"Přesuntě záhlaví zde pro vytvoření skupiny dle sloupce."},search:{placeholder:"Hledat...",showingItems:"Zobrazuji položky:",selectedItems:"Vybrané položky:",totalItems:"Celkem položek:",size:"Velikost strany:",first:"První strana",next:"Další strana",previous:"Předchozí strana",last:"Poslední strana"},menu:{text:"Vyberte sloupec:"},sort:{ascending:"Seřadit od A-Z",descending:"Seřadit od Z-A",remove:"Odebrat seřazení"},column:{hide:"Schovat sloupec"},aggregation:{count:"celkem řádků: ",sum:"celkem: ",avg:"avg: ",min:"min.: ",max:"max.: "},pinning:{pinLeft:"Zamknout v levo",pinRight:"Zamknout v pravo",unpin:"Odemknout"},gridMenu:{columns:"Sloupce:",importerTitle:"Importovat soubor",exporterAllAsCsv:"Exportovat všechny data do csv",exporterVisibleAsCsv:"Exportovat viditelné data do csv",exporterSelectedAsCsv:"Exportovat vybranné data do csv",exporterAllAsPdf:"Exportovat všechny data do pdf",exporterVisibleAsPdf:"Exportovat viditelné data do pdf",exporterSelectedAsPdf:"Exportovat vybranné data do pdf"},importer:{noHeaders:"Názvy sloupců se nepodařilo získat, obsahuje soubor záhlaví?",noObjects:"Data se nepodařilo zpracovat, obsahuje soubor řádky mimo záhlaví?",invalidCsv:"Soubor nelze zpracovat, jedná se CSV?",invalidJson:"Soubor nelze zpracovat, je to JSON?",jsonNotArray:"Soubor musí obsahovat json. Ukončuji.."},pagination:{sizes:"položek na stránku",totalItems:"položek"},grouping:{group:"Seskupit",ungroup:"Odebrat seskupení",aggregate_count:"Agregace: Count",aggregate_sum:"Agregace: Sum",aggregate_max:"Agregace: Max",aggregate_min:"Agregace: Min",aggregate_avg:"Agregace: Avg",aggregate_remove:"Agregace: Odebrat"}};return $delegate.add("cs",lang),$delegate.add("cz",lang),$delegate.add("cs-cz",lang),$delegate.add("cs-CZ",lang),$delegate}])}])}(),function(){angular.module("ui.grid").config(["$provide",function($provide){$provide.decorator("i18nService",["$delegate",function($delegate){return $delegate.add("da",{aggregate:{label:"artikler"},groupPanel:{description:"Grupér rækker udfra en kolonne ved at trække dens overskift hertil."},search:{placeholder:"Søg...",showingItems:"Viste rækker:",selectedItems:"Valgte rækker:",totalItems:"Rækker totalt:",size:"Side størrelse:",first:"Første side",next:"Næste side",previous:"Forrige side",last:"Sidste side"},menu:{text:"Vælg kolonner:"},column:{hide:"Skjul kolonne"},aggregation:{count:"samlede rækker: ",sum:"smalede: ",avg:"gns: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),$delegate}])}])}(),function(){angular.module("ui.grid").config(["$provide",function($provide){$provide.decorator("i18nService",["$delegate",function($delegate){return $delegate.add("de",{aggregate:{label:"Eintrag"},groupPanel:{description:"Ziehen Sie eine Spaltenüberschrift hierhin, um nach dieser Spalte zu gruppieren."},search:{placeholder:"Suche...",showingItems:"Zeige Einträge:",selectedItems:"Ausgewählte Einträge:",totalItems:"Einträge gesamt:",size:"Einträge pro Seite:",first:"Erste Seite",next:"Nächste Seite",previous:"Vorherige Seite",last:"Letzte Seite"},menu:{text:"Spalten auswählen:"},sort:{ascending:"aufsteigend sortieren",descending:"absteigend sortieren",remove:"Sortierung zurücksetzen"},column:{hide:"Spalte ausblenden"},aggregation:{count:"Zeilen insgesamt: ",sum:"gesamt: ",avg:"Durchschnitt: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Links anheften",pinRight:"Rechts anheften",unpin:"Lösen"},gridMenu:{columns:"Spalten:",importerTitle:"Datei importieren",exporterAllAsCsv:"Alle Daten als CSV exportieren",exporterVisibleAsCsv:"sichtbare Daten als CSV exportieren",exporterSelectedAsCsv:"markierte Daten als CSV exportieren",exporterAllAsPdf:"Alle Daten als PDF exportieren",exporterVisibleAsPdf:"sichtbare Daten als PDF exportieren",exporterSelectedAsPdf:"markierte Daten als CSV exportieren"},importer:{noHeaders:"Es konnten keine Spaltennamen ermittelt werden. Sind in der Datei Spaltendefinitionen enthalten?",noObjects:"Es konnten keine Zeileninformationen gelesen werden, Sind in der Datei außer den Spaltendefinitionen auch Daten enthalten?",invalidCsv:"Die Datei konnte nicht eingelesen werden, ist es eine gültige CSV-Datei?",invalidJson:"Die Datei konnte nicht eingelesen werden. Enthält sie gültiges JSON?",jsonNotArray:"Die importierte JSON-Datei muß ein Array enthalten. Breche Import ab."},pagination:{sizes:"Einträge pro Seite",totalItems:"Einträge"}}),$delegate}])}])}(),function(){angular.module("ui.grid").config(["$provide",function($provide){$provide.decorator("i18nService",["$delegate",function($delegate){return $delegate.add("en",{aggregate:{label:"items"},groupPanel:{description:"Drag a column header here and drop it to group by that column."},search:{placeholder:"Search...",showingItems:"Showing Items:",selectedItems:"Selected Items:",totalItems:"Total Items:",size:"Page Size:",first:"First Page",next:"Next Page",previous:"Previous Page",last:"Last Page"},menu:{text:"Choose Columns:"},sort:{ascending:"Sort Ascending",descending:"Sort Descending",remove:"Remove Sort"},column:{hide:"Hide Column"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Pin Left",pinRight:"Pin Right",unpin:"Unpin"},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."},pagination:{sizes:"items per page",totalItems:"items"},grouping:{group:"Group",ungroup:"Ungroup",aggregate_count:"Agg: Count",aggregate_sum:"Agg: Sum",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Avg",aggregate_remove:"Agg: Remove"}}),$delegate}])}])}(),function(){angular.module("ui.grid").config(["$provide",function($provide){$provide.decorator("i18nService",["$delegate",function($delegate){return $delegate.add("es",{aggregate:{label:"Artículos"},groupPanel:{description:"Arrastre un encabezado de columna aquí y suéltelo para agrupar por esa columna."},search:{placeholder:"Buscar...",showingItems:"Artículos Mostrados:",selectedItems:"Artículos Seleccionados:",totalItems:"Artículos Totales:",size:"Tamaño de Página:",first:"Primera Página",next:"Página Siguiente",previous:"Página Anterior",last:"Última Página"},menu:{text:"Elegir columnas:"},sort:{ascending:"Orden Ascendente",descending:"Orden Descendente",remove:"Sin Ordenar"},column:{hide:"Ocultar la columna"},aggregation:{count:"filas totales: ",sum:"total: ",avg:"media: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fijar a la Izquierda",pinRight:"Fijar a la Derecha",unpin:"Quitar Fijación"},gridMenu:{columns:"Columnas:",importerTitle:"Importar archivo",exporterAllAsCsv:"Exportar todo como csv",exporterVisibleAsCsv:"Exportar vista como csv",exporterSelectedAsCsv:"Exportar selección como csv",exporterAllAsPdf:"Exportar todo como pdf",exporterVisibleAsPdf:"Exportar vista como pdf",exporterSelectedAsPdf:"Exportar selección como pdf"},importer:{noHeaders:"No fue posible derivar los nombres de las columnas, ¿tiene encabezados el archivo?",noObjects:"No fue posible obtener registros, ¿contiene datos el archivo, aparte de los encabezados?",invalidCsv:"No fue posible procesar el archivo, ¿es un CSV válido?",invalidJson:"No fue posible procesar el archivo, ¿es un Json válido?",jsonNotArray:"El archivo json importado debe contener un array, abortando."}}),$delegate}])}])}(),function(){angular.module("ui.grid").config(["$provide",function($provide){$provide.decorator("i18nService",["$delegate",function($delegate){return $delegate.add("fa",{aggregate:{label:"موردها"},groupPanel:{description:"یک عنوان ستون اینجا را بردار و به گروهی از آن ستون بیانداز."},search:{placeholder:"جستجو...",showingItems:"نمایش موردها:",selectedItems:"موردهای انتخاب‌شده:",totalItems:"همهٔ موردها:",size:"اندازهٔ صفحه:",first:"صفحهٔ اول",next:"صفحهٔ بعد",previous:"صفحهٔ قبل",last:"آخرین صفحه"},menu:{text:"انتخاب ستون‌ها:"},column:{hide:"ستون پنهان کن"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),$delegate}])}])}(),function(){angular.module("ui.grid").config(["$provide",function($provide){$provide.decorator("i18nService",["$delegate",function($delegate){return $delegate.add("fi",{aggregate:{label:"rivit"},groupPanel:{description:"Raahaa ja pudota otsikko tähän ryhmittääksesi sarakkeen mukaan."},search:{placeholder:"Hae...",showingItems:"Näytetään rivejä:",selectedItems:"Valitut rivit:",totalItems:"Rivejä yht.:",size:"Näytä:",first:"Ensimmäinen sivu",next:"Seuraava sivu",previous:"Edellinen sivu",last:"Viimeinen sivu"},menu:{text:"Valitse sarakkeet:"},sort:{ascending:"Järjestä nouseva",descending:"Järjestä laskeva",remove:"Poista järjestys"},column:{hide:"Piilota sarake"},aggregation:{count:"Rivejä yht.: ",sum:"Summa: ",avg:"K.a.: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Lukitse vasemmalle",pinRight:"Lukitse oikealle",unpin:"Poista lukitus"},gridMenu:{columns:"Sarakkeet:",importerTitle:"Tuo tiedosto",exporterAllAsCsv:"Vie tiedot csv-muodossa",exporterVisibleAsCsv:"Vie näkyvä tieto csv-muodossa",exporterSelectedAsCsv:"Vie valittu tieto csv-muodossa",exporterAllAsPdf:"Vie tiedot pdf-muodossa",exporterVisibleAsPdf:"Vie näkyvä tieto pdf-muodossa",exporterSelectedAsPdf:"Vie valittu tieto pdf-muodossa"},importer:{noHeaders:"Sarakkeen nimiä ei voitu päätellä, onko tiedostossa otsikkoriviä?",noObjects:"Tietoja ei voitu lukea, onko tiedostossa muuta kuin otsikkot?",invalidCsv:"Tiedostoa ei voitu käsitellä, oliko se CSV-muodossa?",invalidJson:"Tiedostoa ei voitu käsitellä, oliko se JSON-muodossa?",jsonNotArray:"Tiedosto ei sisältänyt taulukkoa, lopetetaan."}}),$delegate}])}])}(),function(){angular.module("ui.grid").config(["$provide",function($provide){$provide.decorator("i18nService",["$delegate",function($delegate){return $delegate.add("fr",{aggregate:{label:"éléments"},groupPanel:{description:"Faites glisser une en-tête de colonne ici pour créer un groupe de colonnes."},search:{placeholder:"Recherche...",showingItems:"Affichage des éléments :",selectedItems:"Éléments sélectionnés :",totalItems:"Nombre total d'éléments:",size:"Taille de page:",first:"Première page",next:"Page Suivante",previous:"Page précédente",last:"Dernière page"},menu:{text:"Choisir des colonnes :"},sort:{ascending:"Trier par ordre croissant",descending:"Trier par ordre décroissant",remove:"Enlever le tri"},column:{hide:"Cacher la colonne"},aggregation:{count:"lignes totales: ",sum:"total: ",avg:"moy: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Épingler à gauche",pinRight:"Épingler à droite",unpin:"Détacher"},gridMenu:{columns:"Colonnes:",importerTitle:"Importer un fichier",exporterAllAsCsv:"Exporter toutes les données en CSV",exporterVisibleAsCsv:"Exporter les données visibles en CSV",exporterSelectedAsCsv:"Exporter les données sélectionnées en CSV",exporterAllAsPdf:"Exporter toutes les données en PDF",exporterVisibleAsPdf:"Exporter les données visibles en PDF",exporterSelectedAsPdf:"Exporter les données sélectionnées en PDF"},importer:{noHeaders:"Impossible de déterminer le nom des colonnes, le fichier possède-t-il une en-tête ?",noObjects:"Aucun objet trouvé, le fichier possède-t-il des données autres que l'en-tête ?",invalidCsv:"Le fichier n'a pas pu être traité, le CSV est-il valide ?",invalidJson:"Le fichier n'a pas pu être traité, le JSON est-il valide ?",jsonNotArray:"Le fichier JSON importé doit contenir un tableau, abandon."},pagination:{sizes:"éléments par page",totalItems:"éléments"},grouping:{group:"Grouper",ungroup:"Dégrouper",aggregate_count:"Agg: Compte",aggregate_sum:"Agg: Somme",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Moy",aggregate_remove:"Agg: Retirer"}}),$delegate}])}])}(),function(){angular.module("ui.grid").config(["$provide",function($provide){$provide.decorator("i18nService",["$delegate",function($delegate){return $delegate.add("he",{aggregate:{label:"items"},groupPanel:{description:"גרור עמודה לכאן ושחרר בכדי לקבץ עמודה זו."},search:{placeholder:"חפש...",showingItems:"מציג:",selectedItems:'סה"כ נבחרו:',totalItems:'סה"כ רשומות:',size:"תוצאות בדף:",first:"דף ראשון",next:"דף הבא",previous:"דף קודם",last:"דף אחרון"},menu:{text:"בחר עמודות:"},sort:{ascending:"סדר עולה",descending:"סדר יורד",remove:"בטל"},column:{hide:"טור הסתר"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),$delegate}])}])}(),function(){angular.module("ui.grid").config(["$provide",function($provide){$provide.decorator("i18nService",["$delegate",function($delegate){return $delegate.add("hy",{aggregate:{label:"տվյալներ"},groupPanel:{description:"Ըստ սյան խմբավորելու համար քաշեք և գցեք վերնագիրն այստեղ։"},search:{placeholder:"Փնտրում...",showingItems:"Ցուցադրված տվյալներ՝",selectedItems:"Ընտրված:",totalItems:"Ընդամենը՝",size:"Տողերի քանակը էջում՝",first:"Առաջին էջ",next:"Հաջորդ էջ",previous:"Նախորդ էջ",last:"Վերջին էջ"},menu:{text:"Ընտրել սյուները:"},sort:{ascending:"Աճման կարգով",descending:"Նվազման կարգով",remove:"Հանել "},column:{hide:"Թաքցնել սյունը"},aggregation:{count:"ընդամենը տող՝ ",sum:"ընդամենը՝ ",avg:"միջին՝ ",min:"մին՝ ",max:"մաքս՝ "},pinning:{pinLeft:"Կպցնել ձախ կողմում",pinRight:"Կպցնել աջ կողմում",unpin:"Արձակել"},gridMenu:{columns:"Սյուներ:",importerTitle:"Ներմուծել ֆայլ",exporterAllAsCsv:"Արտահանել ամբողջը CSV",exporterVisibleAsCsv:"Արտահանել երևացող տվյալները CSV",exporterSelectedAsCsv:"Արտահանել ընտրված տվյալները CSV",exporterAllAsPdf:"Արտահանել PDF",exporterVisibleAsPdf:"Արտահանել երևացող տվյալները PDF",exporterSelectedAsPdf:"Արտահանել ընտրված տվյալները PDF"},importer:{noHeaders:"Հնարավոր չեղավ որոշել սյան վերնագրերը։ Արդյո՞ք ֆայլը ունի վերնագրեր։",noObjects:"Հնարավոր չեղավ կարդալ տվյալները։ Արդյո՞ք ֆայլում կան տվյալներ։",invalidCsv:"Հնարավոր չեղավ մշակել ֆայլը։ Արդյո՞ք այն վավեր CSV է։",invalidJson:"Հնարավոր չեղավ մշակել ֆայլը։ Արդյո՞ք այն վավեր Json է։",jsonNotArray:"Ներմուծված json ֆայլը պետք է պարունակի զանգված, կասեցվում է։"}}),$delegate}])}])}(),function(){angular.module("ui.grid").config(["$provide",function($provide){$provide.decorator("i18nService",["$delegate",function($delegate){return $delegate.add("it",{aggregate:{label:"elementi"},groupPanel:{description:"Trascina un'intestazione all'interno del gruppo della colonna."},search:{placeholder:"Ricerca...",showingItems:"Mostra:",selectedItems:"Selezionati:",totalItems:"Totali:",size:"Tot Pagine:",first:"Prima",next:"Prossima",previous:"Precedente",last:"Ultima"},menu:{text:"Scegli le colonne:"},sort:{ascending:"Asc.",descending:"Desc.",remove:"Annulla ordinamento"
},column:{hide:"Nascondi"},aggregation:{count:"righe totali: ",sum:"tot: ",avg:"media: ",min:"minimo: ",max:"massimo: "},pinning:{pinLeft:"Blocca a sx",pinRight:"Blocca a dx",unpin:"Blocca in alto"},gridMenu:{columns:"Colonne:",importerTitle:"Importa",exporterAllAsCsv:"Esporta tutti i dati in CSV",exporterVisibleAsCsv:"Esporta i dati visibili in CSV",exporterSelectedAsCsv:"Esporta i dati selezionati in CSV",exporterAllAsPdf:"Esporta tutti i dati in PDF",exporterVisibleAsPdf:"Esporta i dati visibili in PDF",exporterSelectedAsPdf:"Esporta i dati selezionati in PDF"},importer:{noHeaders:"Impossibile reperire i nomi delle colonne, sicuro che siano indicati all'interno del file?",noObjects:"Impossibile reperire gli oggetti, sicuro che siano indicati all'interno del file?",invalidCsv:"Impossibile elaborare il file, sicuro che sia un CSV?",invalidJson:"Impossibile elaborare il file, sicuro che sia un JSON valido?",jsonNotArray:"Errore! Il file JSON da importare deve contenere un array."},grouping:{group:"Raggruppa",ungroup:"Separa",aggregate_count:"Agg: N. Elem.",aggregate_sum:"Agg: Somma",aggregate_max:"Agg: Massimo",aggregate_min:"Agg: Minimo",aggregate_avg:"Agg: Media",aggregate_remove:"Agg: Rimuovi"}}),$delegate}])}])}(),function(){angular.module("ui.grid").config(["$provide",function($provide){$provide.decorator("i18nService",["$delegate",function($delegate){return $delegate.add("ja",{aggregate:{label:"件"},groupPanel:{description:"列名部分をここにドラッグアンドドロップすることで列ごとにグループ分けを行うことができます。"},search:{placeholder:"検索...",showingItems:"絞込み件数:",selectedItems:"選択件数:",totalItems:"全件数:",size:"ページサイズ: ",first:"最初のページ",next:"次のページ",previous:"前のページ",last:"最後のページ"},menu:{text:"列選択:"},sort:{ascending:"昇順ソート",descending:"降順ソート",remove:"ソート取消"},column:{hide:"列を隠す"},aggregation:{count:"合計件数: ",sum:"合計: ",avg:"平均: ",min:"最小値: ",max:"最大値: "},pinning:{pinLeft:"左にピン留め",pinRight:"右にピン留め",unpin:"ピン留め取消"},gridMenu:{columns:"列:",importerTitle:"インポートファイル",exporterAllAsCsv:"全てのデータをCSV形式でエクスポート",exporterVisibleAsCsv:"絞込み済みデータをCSV形式でエクスポート",exporterSelectedAsCsv:"選択しているデータをCSV形式でエクスポート",exporterAllAsPdf:"全てのデータをPDFでエクスポート",exporterVisibleAsPdf:"絞込み済みデータをPDFでエクスポート",exporterSelectedAsPdf:"選択しているデータをPDFでエクスポート"},importer:{noHeaders:"列名が抽出できません。ヘッダーは設定されていますか？",noObjects:"データが抽出できません。ファイルにデータは含まれていますか？",invalidCsv:"処理を行うことができません。ファイルは有効なCSVファイルですか？",invalidJson:"処理を行うことができません。ファイルは有効なJSONファイルですか？",jsonNotArray:"JSONファイルは配列を含んでいる必要があります。処理を中断します。"},pagination:{sizes:"件 / ページ",totalItems:"件"}}),$delegate}])}])}(),function(){angular.module("ui.grid").config(["$provide",function($provide){$provide.decorator("i18nService",["$delegate",function($delegate){return $delegate.add("ko",{aggregate:{label:"아이템"},groupPanel:{description:"컬럼으로 그룹핑하기 위해서는 컬럼 헤더를 끌어 떨어뜨려 주세요."},search:{placeholder:"검색...",showingItems:"항목 보여주기:",selectedItems:"선택 항목:",totalItems:"전체 항목:",size:"페이지 크기:",first:"첫번째 페이지",next:"다음 페이지",previous:"이전 페이지",last:"마지막 페이지"},menu:{text:"컬럼을 선택하세요:"},sort:{ascending:"오름차순 정렬",descending:"내림차순 정렬",remove:"소팅 제거"},column:{hide:"컬럼 제거"},aggregation:{count:"전체 갯수: ",sum:"전체: ",avg:"평균: ",min:"최소: ",max:"최대: "},pinning:{pinLeft:"왼쪽 핀",pinRight:"오른쪽 핀",unpin:"핀 제거"},gridMenu:{columns:"컬럼:",importerTitle:"파일 가져오기",exporterAllAsCsv:"csv로 모든 데이터 내보내기",exporterVisibleAsCsv:"csv로 보이는 데이터 내보내기",exporterSelectedAsCsv:"csv로 선택된 데이터 내보내기",exporterAllAsPdf:"pdf로 모든 데이터 내보내기",exporterVisibleAsPdf:"pdf로 보이는 데이터 내보내기",exporterSelectedAsPdf:"pdf로 선택 데이터 내보내기"},importer:{noHeaders:"컬럼명이 지정되어 있지 않습니다. 파일에 헤더가 명시되어 있는지 확인해 주세요.",noObjects:"데이터가 지정되어 있지 않습니다. 데이터가 파일에 있는지 확인해 주세요.",invalidCsv:"파일을 처리할 수 없습니다. 올바른 csv인지 확인해 주세요.",invalidJson:"파일을 처리할 수 없습니다. 올바른 json인지 확인해 주세요.",jsonNotArray:"json 파일은 배열을 포함해야 합니다."},pagination:{sizes:"페이지당 항목",totalItems:"전체 항목"}}),$delegate}])}])}(),function(){angular.module("ui.grid").config(["$provide",function($provide){$provide.decorator("i18nService",["$delegate",function($delegate){return $delegate.add("nl",{aggregate:{label:"items"},groupPanel:{description:"Sleep hier een kolomnaam heen om op te groeperen."},search:{placeholder:"Zoeken...",showingItems:"Getoonde items:",selectedItems:"Geselecteerde items:",totalItems:"Totaal aantal items:",size:"Items per pagina:",first:"Eerste pagina",next:"Volgende pagina",previous:"Vorige pagina",last:"Laatste pagina"},menu:{text:"Kies kolommen:"},sort:{ascending:"Sorteer oplopend",descending:"Sorteer aflopend",remove:"Verwijder sortering"},column:{hide:"Verberg kolom"},aggregation:{count:"Aantal rijen: ",sum:"Som: ",avg:"Gemiddelde: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Zet links vast",pinRight:"Zet rechts vast",unpin:"Maak los"},gridMenu:{columns:"Kolommen:",importerTitle:"Importeer bestand",exporterAllAsCsv:"Exporteer alle data als csv",exporterVisibleAsCsv:"Exporteer zichtbare data als csv",exporterSelectedAsCsv:"Exporteer geselecteerde data als csv",exporterAllAsPdf:"Exporteer alle data als pdf",exporterVisibleAsPdf:"Exporteer zichtbare data als pdf",exporterSelectedAsPdf:"Exporteer geselecteerde data als pdf"},importer:{noHeaders:"Kolomnamen kunnen niet worden afgeleid. Heeft het bestand een header?",noObjects:"Objecten kunnen niet worden afgeleid. Bevat het bestand data naast de headers?",invalidCsv:"Het bestand kan niet verwerkt worden. Is het een valide csv bestand?",invalidJson:"Het bestand kan niet verwerkt worden. Is het valide json?",jsonNotArray:"Het json bestand moet een array bevatten. De actie wordt geannuleerd."},pagination:{sizes:"items per pagina",totalItems:"items"},grouping:{group:"Groepeer",ungroup:"Groepering opheffen",aggregate_count:"Agg: Aantal",aggregate_sum:"Agg: Som",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Gem",aggregate_remove:"Agg: Verwijder"}}),$delegate}])}])}(),function(){angular.module("ui.grid").config(["$provide",function($provide){$provide.decorator("i18nService",["$delegate",function($delegate){return $delegate.add("pt-br",{aggregate:{label:"itens"},groupPanel:{description:"Arraste e solte uma coluna aqui para agrupar por essa coluna"},search:{placeholder:"Procurar...",showingItems:"Mostrando os Itens:",selectedItems:"Items Selecionados:",totalItems:"Total de Itens:",size:"Tamanho da Página:",first:"Primeira Página",next:"Próxima Página",previous:"Página Anterior",last:"Última Página"},menu:{text:"Selecione as colunas:"},sort:{ascending:"Ordenar Ascendente",descending:"Ordenar Descendente",remove:"Remover Ordenação"},column:{hide:"Esconder coluna"},aggregation:{count:"total de linhas: ",sum:"total: ",avg:"med: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fixar Esquerda",pinRight:"Fixar Direita",unpin:"Desprender"},gridMenu:{columns:"Colunas:",importerTitle:"Importar arquivo",exporterAllAsCsv:"Exportar todos os dados como csv",exporterVisibleAsCsv:"Exportar dados visíveis como csv",exporterSelectedAsCsv:"Exportar dados selecionados como csv",exporterAllAsPdf:"Exportar todos os dados como pdf",exporterVisibleAsPdf:"Exportar dados visíveis como pdf",exporterSelectedAsPdf:"Exportar dados selecionados como pdf"},importer:{noHeaders:"Nomes de colunas não puderam ser derivados. O arquivo tem um cabeçalho?",noObjects:"Objetos não puderam ser derivados. Havia dados no arquivo, além dos cabeçalhos?",invalidCsv:"Arquivo não pode ser processado. É um CSV válido?",invalidJson:"Arquivo não pode ser processado. É um Json válido?",jsonNotArray:"Arquivo json importado tem que conter um array. Abortando."},pagination:{sizes:"itens por página",totalItems:"itens"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Contar",aggregate_sum:"Agr: Soma",aggregate_max:"Agr: Max",aggregate_min:"Agr: Min",aggregate_avg:"Agr: Med",aggregate_remove:"Agr: Remover"}}),$delegate}])}])}(),function(){angular.module("ui.grid").config(["$provide",function($provide){$provide.decorator("i18nService",["$delegate",function($delegate){return $delegate.add("pt",{aggregate:{label:"itens"},groupPanel:{description:"Arraste e solte uma coluna aqui para agrupar por essa coluna"},search:{placeholder:"Procurar...",showingItems:"Mostrando os Itens:",selectedItems:"Items Selecionados:",totalItems:"Total de Itens:",size:"Tamanho da Página:",first:"Primeira Página",next:"Próxima Página",previous:"Página Anterior",last:"Última Página"},menu:{text:"Selecione as colunas:"},sort:{ascending:"Ordenar Ascendente",descending:"Ordenar Descendente",remove:"Remover Ordenação"},column:{hide:"Esconder coluna"},aggregation:{count:"total de linhas: ",sum:"total: ",avg:"med: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fixar Esquerda",pinRight:"Fixar Direita",unpin:"Desprender"},gridMenu:{columns:"Colunas:",importerTitle:"Importar ficheiro",exporterAllAsCsv:"Exportar todos os dados como csv",exporterVisibleAsCsv:"Exportar dados visíveis como csv",exporterSelectedAsCsv:"Exportar dados selecionados como csv",exporterAllAsPdf:"Exportar todos os dados como pdf",exporterVisibleAsPdf:"Exportar dados visíveis como pdf",exporterSelectedAsPdf:"Exportar dados selecionados como pdf"},importer:{noHeaders:"Nomes de colunas não puderam ser derivados. O ficheiro tem um cabeçalho?",noObjects:"Objetos não puderam ser derivados. Havia dados no ficheiro, além dos cabeçalhos?",invalidCsv:"Ficheiro não pode ser processado. É um CSV válido?",invalidJson:"Ficheiro não pode ser processado. É um Json válido?",jsonNotArray:"Ficheiro json importado tem que conter um array. Interrompendo."},pagination:{sizes:"itens por página",totalItems:"itens"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Contar",aggregate_sum:"Agr: Soma",aggregate_max:"Agr: Max",aggregate_min:"Agr: Min",aggregate_avg:"Agr: Med",aggregate_remove:"Agr: Remover"}}),$delegate}])}])}(),function(){angular.module("ui.grid").config(["$provide",function($provide){$provide.decorator("i18nService",["$delegate",function($delegate){return $delegate.add("ru",{aggregate:{label:"элементы"},groupPanel:{description:"Для группировки по столбцу перетащите сюда его название."},search:{placeholder:"Поиск...",showingItems:"Показать элементы:",selectedItems:"Выбранные элементы:",totalItems:"Всего элементов:",size:"Размер страницы:",first:"Первая страница",next:"Следующая страница",previous:"Предыдущая страница",last:"Последняя страница"},menu:{text:"Выбрать столбцы:"},sort:{ascending:"По возрастанию",descending:"По убыванию",remove:"Убрать сортировку"},column:{hide:"спрятать столбец"},aggregation:{count:"всего строк: ",sum:"итого: ",avg:"среднее: ",min:"мин: ",max:"макс: "},gridMenu:{columns:"Столбцы:",importerTitle:"Import file",exporterAllAsCsv:"Экспортировать всё в CSV",exporterVisibleAsCsv:"Экспортировать видимые данные в CSV",exporterSelectedAsCsv:"Экспортировать выбранные данные в CSV",exporterAllAsPdf:"Экспортировать всё в PDF",exporterVisibleAsPdf:"Экспортировать видимые данные в PDF",exporterSelectedAsPdf:"Экспортировать выбранные данные в PDF"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),$delegate}])}])}(),function(){angular.module("ui.grid").config(["$provide",function($provide){$provide.decorator("i18nService",["$delegate",function($delegate){return $delegate.add("sk",{aggregate:{label:"items"},groupPanel:{description:"Pretiahni sem názov stĺpca pre zoskupenie podľa toho stĺpca."},search:{placeholder:"Hľadaj...",showingItems:"Zobrazujem položky:",selectedItems:"Vybraté položky:",totalItems:"Počet položiek:",size:"Počet:",first:"Prvá strana",next:"Ďalšia strana",previous:"Predchádzajúca strana",last:"Posledná strana"},menu:{text:"Vyberte stĺpce:"},sort:{ascending:"Zotriediť vzostupne",descending:"Zotriediť zostupne",remove:"Vymazať triedenie"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),$delegate}])}])}(),function(){angular.module("ui.grid").config(["$provide",function($provide){$provide.decorator("i18nService",["$delegate",function($delegate){return $delegate.add("sv",{aggregate:{label:"Artiklar"},groupPanel:{description:"Dra en kolumnrubrik hit och släpp den för att gruppera efter den kolumnen."},search:{placeholder:"Sök...",showingItems:"Visar artiklar:",selectedItems:"Valda artiklar:",totalItems:"Antal artiklar:",size:"Sidstorlek:",first:"Första sidan",next:"Nästa sida",previous:"Föregående sida",last:"Sista sidan"},menu:{text:"Välj kolumner:"},sort:{ascending:"Sortera stigande",descending:"Sortera fallande",remove:"Inaktivera sortering"},column:{hide:"Göm kolumn"},aggregation:{count:"Antal rader: ",sum:"Summa: ",avg:"Genomsnitt: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Fäst vänster",pinRight:"Fäst höger",unpin:"Lösgör"},gridMenu:{columns:"Kolumner:",importerTitle:"Importera fil",exporterAllAsCsv:"Exportera all data som CSV",exporterVisibleAsCsv:"Exportera synlig data som CSV",exporterSelectedAsCsv:"Exportera markerad data som CSV",exporterAllAsPdf:"Exportera all data som PDF",exporterVisibleAsPdf:"Exportera synlig data som PDF",exporterSelectedAsPdf:"Exportera markerad data som PDF"},importer:{noHeaders:"Kolumnnamn kunde inte härledas. Har filen ett sidhuvud?",noObjects:"Objekt kunde inte härledas. Har filen data undantaget sidhuvud?",invalidCsv:"Filen kunde inte behandlas, är den en giltig CSV?",invalidJson:"Filen kunde inte behandlas, är den en giltig JSON?",jsonNotArray:"Importerad JSON-fil måste innehålla ett fält. Import avbruten."},pagination:{sizes:"Artiklar per sida",totalItems:"Artiklar"}}),$delegate}])}])}(),function(){var DIRECTIVE_ALIASES=["uiT","uiTranslate"],FILTER_ALIASES=["t","uiTranslate"],module=angular.module("ui.grid.i18n");module.constant("i18nConstants",{MISSING:"[MISSING]",UPDATE_EVENT:"$uiI18n",LOCALE_DIRECTIVE_ALIAS:"uiI18n",DEFAULT_LANG:"en"}),module.service("i18nService",["$log","i18nConstants","$rootScope",function($log,i18nConstants,$rootScope){var langCache={_langs:{},current:null,get:function(lang){return this._langs[lang.toLowerCase()]},add:function(lang,strings){var lower=lang.toLowerCase();this._langs[lower]||(this._langs[lower]={}),angular.extend(this._langs[lower],strings)},getAllLangs:function(){var langs=[];if(!this._langs)return langs;for(var key in this._langs)langs.push(key);return langs},setCurrent:function(lang){this.current=lang.toLowerCase()},getCurrentLang:function(){return this.current}},service={add:function(langs,stringMaps){"object"==typeof langs?angular.forEach(langs,function(lang){lang&&langCache.add(lang,stringMaps)}):langCache.add(langs,stringMaps)},getAllLangs:function(){return langCache.getAllLangs()},get:function(lang){var language=lang?lang:service.getCurrentLang();return langCache.get(language)},getSafeText:function(path,lang){var language=lang?lang:service.getCurrentLang(),trans=langCache.get(language);if(!trans)return i18nConstants.MISSING;for(var paths=path.split("."),current=trans,i=0;i<paths.length;++i){if(void 0===current[paths[i]]||null===current[paths[i]])return i18nConstants.MISSING;current=current[paths[i]]}return current},setCurrentLang:function(lang){lang&&(langCache.setCurrent(lang),$rootScope.$broadcast(i18nConstants.UPDATE_EVENT))},getCurrentLang:function(){var lang=langCache.getCurrentLang();return lang||(lang=i18nConstants.DEFAULT_LANG,langCache.setCurrent(lang)),lang}};return service}]);var localeDirective=function(i18nService,i18nConstants){return{compile:function(){return{pre:function($scope,$elm,$attrs){var alias=i18nConstants.LOCALE_DIRECTIVE_ALIAS,lang=$scope.$eval($attrs[alias]);lang?$scope.$watch($attrs[alias],function(){i18nService.setCurrentLang(lang)}):$attrs.$$observers&&$attrs.$observe(alias,function(){i18nService.setCurrentLang($attrs[alias]||i18nConstants.DEFAULT_LANG)})}}}}};module.directive("uiI18n",["i18nService","i18nConstants",localeDirective]);var uitDirective=function($parse,i18nService,i18nConstants){return{restrict:"EA",compile:function(){return{pre:function($scope,$elm,$attrs){var observer,alias1=DIRECTIVE_ALIASES[0],alias2=DIRECTIVE_ALIASES[1],token=$attrs[alias1]||$attrs[alias2]||$elm.html(),missing=i18nConstants.MISSING+token;if($attrs.$$observers){var prop=$attrs[alias1]?alias1:alias2;observer=$attrs.$observe(prop,function(result){result&&$elm.html($parse(result)(i18nService.getCurrentLang())||missing)})}var getter=$parse(token),listener=$scope.$on(i18nConstants.UPDATE_EVENT,function(evt){observer?observer($attrs[alias1]||$attrs[alias2]):$elm.html(getter(i18nService.get())||missing)});$scope.$on("$destroy",listener),$elm.html(getter(i18nService.get())||missing)}}}}};angular.forEach(DIRECTIVE_ALIASES,function(alias){module.directive(alias,["$parse","i18nService","i18nConstants",uitDirective])});var uitFilter=function($parse,i18nService,i18nConstants){return function(data){var getter=$parse(data);return getter(i18nService.get())||i18nConstants.MISSING+data}};angular.forEach(FILTER_ALIASES,function(alias){module.filter(alias,["$parse","i18nService","i18nConstants",uitFilter])})}(),function(){angular.module("ui.grid").config(["$provide",function($provide){$provide.decorator("i18nService",["$delegate",function($delegate){return $delegate.add("zh-cn",{aggregate:{label:"行"},groupPanel:{description:"拖曳表头到此处进行分组"},search:{placeholder:"查找",showingItems:"已显示行数：",selectedItems:"已选择行数：",totalItems:"总行数：",size:"每页显示行数：",first:"首页",next:"下一页",previous:"上一页",last:"末页"},menu:{text:"选择列："},sort:{ascending:"升序",descending:"降序",remove:"取消排序"},column:{hide:"隐藏列"},aggregation:{count:"计数：",sum:"求和：",avg:"均值：",min:"最小值：",max:"最大值："},pinning:{pinLeft:"左侧固定",pinRight:"右侧固定",unpin:"取消固定"},gridMenu:{columns:"列：",importerTitle:"导入文件",exporterAllAsCsv:"导出全部数据到CSV",exporterVisibleAsCsv:"导出可见数据到CSV",exporterSelectedAsCsv:"导出已选数据到CSV",exporterAllAsPdf:"导出全部数据到PDF",exporterVisibleAsPdf:"导出可见数据到PDF",exporterSelectedAsPdf:"导出已选数据到PDF"},importer:{noHeaders:"无法获取列名，确定文件包含表头？",noObjects:"无法获取数据，确定文件包含数据？",invalidCsv:"无法处理文件，确定是合法的CSV文件？",invalidJson:"无法处理文件，确定是合法的JSON文件？",jsonNotArray:"导入的文件不是JSON数组！"},pagination:{sizes:"行每页",totalItems:"行"}}),$delegate}])}])}(),function(){angular.module("ui.grid").config(["$provide",function($provide){$provide.decorator("i18nService",["$delegate",function($delegate){return $delegate.add("zh-tw",{aggregate:{label:"行"},groupPanel:{description:"拖曳表頭到此處進行分組"},search:{placeholder:"查找",showingItems:"已顯示行數：",selectedItems:"已選擇行數：",totalItems:"總行數：",size:"每頁顯示行數：",first:"首頁",next:"下壹頁",previous:"上壹頁",last:"末頁"},menu:{text:"選擇列："},sort:{ascending:"升序",descending:"降序",remove:"取消排序"},column:{hide:"隱藏列"},aggregation:{count:"計數：",sum:"求和：",avg:"均值：",min:"最小值：",max:"最大值："},pinning:{pinLeft:"左側固定",pinRight:"右側固定",unpin:"取消固定"},gridMenu:{columns:"列：",importerTitle:"導入文件",exporterAllAsCsv:"導出全部數據到CSV",exporterVisibleAsCsv:"導出可見數據到CSV",exporterSelectedAsCsv:"導出已選數據到CSV",exporterAllAsPdf:"導出全部數據到PDF",exporterVisibleAsPdf:"導出可見數據到PDF",exporterSelectedAsPdf:"導出已選數據到PDF"},importer:{noHeaders:"無法獲取列名，確定文件包含表頭？",noObjects:"無法獲取數據，確定文件包含數據？",invalidCsv:"無法處理文件，確定是合法的CSV文件？",invalidJson:"無法處理文件，確定是合法的JSON文件？",jsonNotArray:"導入的文件不是JSON數組！"},pagination:{sizes:"行每頁",totalItems:"行"}}),$delegate}])}])}(),function(){"use strict";var module=angular.module("ui.grid.autoResize",["ui.grid"]);module.directive("uiGridAutoResize",["$timeout","gridUtil",function($timeout,gridUtil){return{require:"uiGrid",scope:!1,link:function($scope,$elm,$attrs,uiGridCtrl){function getDimensions(){prevGridHeight=gridUtil.elementHeight($elm),prevGridWidth=gridUtil.elementWidth($elm)}function startTimeout(){clearTimeout(resizeTimeoutId),resizeTimeoutId=setTimeout(function(){var newGridHeight=gridUtil.elementHeight($elm),newGridWidth=gridUtil.elementWidth($elm);newGridHeight!==prevGridHeight||newGridWidth!==prevGridWidth?(uiGridCtrl.grid.gridHeight=newGridHeight,uiGridCtrl.grid.gridWidth=newGridWidth,$scope.$apply(function(){uiGridCtrl.grid.refresh().then(function(){getDimensions(),startTimeout()})})):startTimeout()},250)}var prevGridWidth,prevGridHeight;getDimensions();var resizeTimeoutId;startTimeout(),$scope.$on("$destroy",function(){clearTimeout(resizeTimeoutId)})}}}])}(),function(){"use strict";function RowCol(row,col){this.row=row,this.col=col}var module=angular.module("ui.grid.cellNav",["ui.grid"]);module.constant("uiGridCellNavConstants",{FEATURE_NAME:"gridCellNav",CELL_NAV_EVENT:"cellNav",direction:{LEFT:0,RIGHT:1,UP:2,DOWN:3,PG_UP:4,PG_DOWN:5},EVENT_TYPE:{KEYDOWN:0,CLICK:1,CLEAR:2}}),module.factory("uiGridCellNavFactory",["gridUtil","uiGridConstants","uiGridCellNavConstants","$q",function(gridUtil,uiGridConstants,uiGridCellNavConstants,$q){var UiGridCellNav=function(rowContainer,colContainer,leftColContainer,rightColContainer){this.rows=rowContainer.visibleRowCache,this.columns=colContainer.visibleColumnCache,this.leftColumns=leftColContainer?leftColContainer.visibleColumnCache:[],this.rightColumns=rightColContainer?rightColContainer.visibleColumnCache:[],this.bodyContainer=rowContainer};return UiGridCellNav.prototype.getFocusableCols=function(){var allColumns=this.leftColumns.concat(this.columns,this.rightColumns);return allColumns.filter(function(col){return col.colDef.allowCellFocus})},UiGridCellNav.prototype.getFocusableRows=function(){return this.rows.filter(function(row){return row.allowCellFocus!==!1})},UiGridCellNav.prototype.getNextRowCol=function(direction,curRow,curCol){switch(direction){case uiGridCellNavConstants.direction.LEFT:return this.getRowColLeft(curRow,curCol);case uiGridCellNavConstants.direction.RIGHT:return this.getRowColRight(curRow,curCol);case uiGridCellNavConstants.direction.UP:return this.getRowColUp(curRow,curCol);case uiGridCellNavConstants.direction.DOWN:return this.getRowColDown(curRow,curCol);case uiGridCellNavConstants.direction.PG_UP:return this.getRowColPageUp(curRow,curCol);case uiGridCellNavConstants.direction.PG_DOWN:return this.getRowColPageDown(curRow,curCol)}},UiGridCellNav.prototype.initializeSelection=function(){var focusableCols=this.getFocusableCols(),focusableRows=this.getFocusableRows();if(0===focusableCols.length||0===focusableRows.length)return null;return new RowCol(focusableRows[0],focusableCols[0])},UiGridCellNav.prototype.getRowColLeft=function(curRow,curCol){var focusableCols=this.getFocusableCols(),focusableRows=this.getFocusableRows(),curColIndex=focusableCols.indexOf(curCol),curRowIndex=focusableRows.indexOf(curRow);curColIndex===-1&&(curColIndex=1);var nextColIndex=0===curColIndex?focusableCols.length-1:curColIndex-1;return nextColIndex>curColIndex?0===curRowIndex?new RowCol(curRow,focusableCols[nextColIndex]):new RowCol(focusableRows[curRowIndex-1],focusableCols[nextColIndex]):new RowCol(curRow,focusableCols[nextColIndex])},UiGridCellNav.prototype.getRowColRight=function(curRow,curCol){var focusableCols=this.getFocusableCols(),focusableRows=this.getFocusableRows(),curColIndex=focusableCols.indexOf(curCol),curRowIndex=focusableRows.indexOf(curRow);curColIndex===-1&&(curColIndex=0);var nextColIndex=curColIndex===focusableCols.length-1?0:curColIndex+1;return nextColIndex<curColIndex?curRowIndex===focusableRows.length-1?new RowCol(curRow,focusableCols[nextColIndex]):new RowCol(focusableRows[curRowIndex+1],focusableCols[nextColIndex]):new RowCol(curRow,focusableCols[nextColIndex])},UiGridCellNav.prototype.getRowColDown=function(curRow,curCol){var focusableCols=this.getFocusableCols(),focusableRows=this.getFocusableRows(),curColIndex=focusableCols.indexOf(curCol),curRowIndex=focusableRows.indexOf(curRow);return curColIndex===-1&&(curColIndex=0),curRowIndex===focusableRows.length-1?new RowCol(curRow,focusableCols[curColIndex]):new RowCol(focusableRows[curRowIndex+1],focusableCols[curColIndex])},UiGridCellNav.prototype.getRowColPageDown=function(curRow,curCol){var focusableCols=this.getFocusableCols(),focusableRows=this.getFocusableRows(),curColIndex=focusableCols.indexOf(curCol),curRowIndex=focusableRows.indexOf(curRow);curColIndex===-1&&(curColIndex=0);var pageSize=this.bodyContainer.minRowsToRender();return curRowIndex>=focusableRows.length-pageSize?new RowCol(focusableRows[focusableRows.length-1],focusableCols[curColIndex]):new RowCol(focusableRows[curRowIndex+pageSize],focusableCols[curColIndex])},UiGridCellNav.prototype.getRowColUp=function(curRow,curCol){var focusableCols=this.getFocusableCols(),focusableRows=this.getFocusableRows(),curColIndex=focusableCols.indexOf(curCol),curRowIndex=focusableRows.indexOf(curRow);return curColIndex===-1&&(curColIndex=0),0===curRowIndex?new RowCol(curRow,focusableCols[curColIndex]):new RowCol(focusableRows[curRowIndex-1],focusableCols[curColIndex])},UiGridCellNav.prototype.getRowColPageUp=function(curRow,curCol){var focusableCols=this.getFocusableCols(),focusableRows=this.getFocusableRows(),curColIndex=focusableCols.indexOf(curCol),curRowIndex=focusableRows.indexOf(curRow);curColIndex===-1&&(curColIndex=0);var pageSize=this.bodyContainer.minRowsToRender();return curRowIndex-pageSize<0?new RowCol(focusableRows[0],focusableCols[curColIndex]):new RowCol(focusableRows[curRowIndex-pageSize],focusableCols[curColIndex])},UiGridCellNav}]),module.service("uiGridCellNavService",["gridUtil","uiGridConstants","uiGridCellNavConstants","$q","uiGridCellNavFactory","ScrollEvent",function(gridUtil,uiGridConstants,uiGridCellNavConstants,$q,UiGridCellNav,ScrollEvent){var service={initializeGrid:function(grid){grid.registerColumnBuilder(service.cellNavColumnBuilder),grid.cellNav={},grid.cellNav.lastRowCol=null,grid.cellNav.focusedCells=[],service.defaultGridOptions(grid.options);var publicApi={events:{cellNav:{navigate:function(newRowCol,oldRowCol){},viewPortKeyDown:function(event,rowCol){}}},methods:{cellNav:{scrollToFocus:function(rowEntity,colDef){return service.scrollToFocus(grid,rowEntity,colDef)},getFocusedCell:function(){return grid.cellNav.lastRowCol},getCurrentSelection:function(){return grid.cellNav.focusedCells},rowColSelectIndex:function(rowCol){for(var index=-1,i=0;i<grid.cellNav.focusedCells.length;i++)if(grid.cellNav.focusedCells[i].col.uid===rowCol.col.uid&&grid.cellNav.focusedCells[i].row.uid===rowCol.row.uid){index=i;break}return index}}}};grid.api.registerEventsFromObject(publicApi.events),grid.api.registerMethodsFromObject(publicApi.methods)},defaultGridOptions:function(gridOptions){gridOptions.modifierKeysToMultiSelectCells=gridOptions.modifierKeysToMultiSelectCells===!0},decorateRenderContainers:function(grid){var rightContainer=grid.hasRightContainer()?grid.renderContainers.right:null,leftContainer=grid.hasLeftContainer()?grid.renderContainers.left:null;null!==leftContainer&&(grid.renderContainers.left.cellNav=new UiGridCellNav(grid.renderContainers.body,leftContainer,rightContainer,grid.renderContainers.body)),null!==rightContainer&&(grid.renderContainers.right.cellNav=new UiGridCellNav(grid.renderContainers.body,rightContainer,grid.renderContainers.body,leftContainer)),grid.renderContainers.body.cellNav=new UiGridCellNav(grid.renderContainers.body,grid.renderContainers.body,leftContainer,rightContainer)},getDirection:function(evt){return evt.keyCode===uiGridConstants.keymap.LEFT||evt.keyCode===uiGridConstants.keymap.TAB&&evt.shiftKey?uiGridCellNavConstants.direction.LEFT:evt.keyCode===uiGridConstants.keymap.RIGHT||evt.keyCode===uiGridConstants.keymap.TAB?uiGridCellNavConstants.direction.RIGHT:evt.keyCode===uiGridConstants.keymap.UP||evt.keyCode===uiGridConstants.keymap.ENTER&&evt.shiftKey?uiGridCellNavConstants.direction.UP:evt.keyCode===uiGridConstants.keymap.PG_UP?uiGridCellNavConstants.direction.PG_UP:evt.keyCode===uiGridConstants.keymap.DOWN||evt.keyCode===uiGridConstants.keymap.ENTER?uiGridCellNavConstants.direction.DOWN:evt.keyCode===uiGridConstants.keymap.PG_DOWN?uiGridCellNavConstants.direction.PG_DOWN:null},cellNavColumnBuilder:function(colDef,col,gridOptions){var promises=[];return colDef.allowCellFocus=void 0===colDef.allowCellFocus||colDef.allowCellFocus,$q.all(promises)},scrollToFocus:function(grid,rowEntity,colDef){var gridRow=null,gridCol=null;return"undefined"!=typeof rowEntity&&null!==rowEntity&&(gridRow=grid.getRow(rowEntity)),"undefined"!=typeof colDef&&null!==colDef&&(gridCol=grid.getColumn(colDef.name?colDef.name:colDef.field)),grid.api.core.scrollToIfNecessary(gridRow,gridCol).then(function(){var rowCol={row:gridRow,col:gridCol};null!==gridRow&&null!==gridCol&&grid.cellNav.broadcastCellNav(rowCol)})},getLeftWidth:function(grid,upToCol){var width=0;if(!upToCol)return width;var lastIndex=grid.renderContainers.body.visibleColumnCache.indexOf(upToCol);grid.renderContainers.body.visibleColumnCache.forEach(function(col,index){index<lastIndex&&(width+=col.drawnWidth)});var percentage=0===lastIndex?0:(lastIndex+1)/grid.renderContainers.body.visibleColumnCache.length;return width+=upToCol.drawnWidth*percentage}};return service}]),module.directive("uiGridCellnav",["gridUtil","uiGridCellNavService","uiGridCellNavConstants","uiGridConstants","$timeout",function(gridUtil,uiGridCellNavService,uiGridCellNavConstants,uiGridConstants,$timeout){return{replace:!0,priority:-150,require:"^uiGrid",scope:!1,controller:function(){},compile:function(){return{pre:function($scope,$elm,$attrs,uiGridCtrl){var _scope=$scope,grid=uiGridCtrl.grid;uiGridCellNavService.initializeGrid(grid),uiGridCtrl.cellNav={},uiGridCtrl.cellNav.getActiveCell=function(){var elms=$elm[0].getElementsByClassName("ui-grid-cell-focus");if(elms.length>0)return elms[0]},uiGridCtrl.cellNav.broadcastCellNav=grid.cellNav.broadcastCellNav=function(newRowCol,modifierDown){modifierDown=!(void 0===modifierDown||!modifierDown),uiGridCtrl.cellNav.broadcastFocus(newRowCol,modifierDown),_scope.$broadcast(uiGridCellNavConstants.CELL_NAV_EVENT,newRowCol,modifierDown)},uiGridCtrl.cellNav.clearFocus=grid.cellNav.clearFocus=function(){_scope.$broadcast(uiGridCellNavConstants.CELL_NAV_EVENT,{eventType:uiGridCellNavConstants.EVENT_TYPE.CLEAR})},uiGridCtrl.cellNav.broadcastFocus=function(rowCol,modifierDown){modifierDown=!(void 0===modifierDown||!modifierDown);var row=rowCol.row,col=rowCol.col,rowColSelectIndex=uiGridCtrl.grid.api.cellNav.rowColSelectIndex(rowCol);if(null===grid.cellNav.lastRowCol||rowColSelectIndex===-1){var newRowCol=new RowCol(row,col);grid.api.cellNav.raise.navigate(newRowCol,grid.cellNav.lastRowCol),grid.cellNav.lastRowCol=newRowCol,uiGridCtrl.grid.options.modifierKeysToMultiSelectCells&&modifierDown?grid.cellNav.focusedCells.push(rowCol):grid.cellNav.focusedCells=[rowCol]}else grid.options.modifierKeysToMultiSelectCells&&modifierDown&&rowColSelectIndex>=0&&grid.cellNav.focusedCells.splice(rowColSelectIndex,1)},uiGridCtrl.cellNav.handleKeyDown=function(evt){var direction=uiGridCellNavService.getDirection(evt);if(null===direction)return null;var containerId="body";evt.uiGridTargetRenderContainerId&&(containerId=evt.uiGridTargetRenderContainerId);var lastRowCol=uiGridCtrl.grid.api.cellNav.getFocusedCell();if(lastRowCol){var rowCol=uiGridCtrl.grid.renderContainers[containerId].cellNav.getNextRowCol(direction,lastRowCol.row,lastRowCol.col),focusableCols=uiGridCtrl.grid.renderContainers[containerId].cellNav.getFocusableCols();return direction===uiGridCellNavConstants.direction.LEFT&&rowCol.col===focusableCols[focusableCols.length-1]&&rowCol.row===lastRowCol.row&&evt.keyCode===uiGridConstants.keymap.TAB&&evt.shiftKey?(uiGridCtrl.cellNav.clearFocus(),
!0):direction!==uiGridCellNavConstants.direction.RIGHT||rowCol.col!==focusableCols[0]||rowCol.row!==lastRowCol.row||evt.keyCode!==uiGridConstants.keymap.TAB||evt.shiftKey?(grid.scrollToIfNecessary(rowCol.row,rowCol.col).then(function(){uiGridCtrl.cellNav.broadcastCellNav(rowCol)}),evt.stopPropagation(),evt.preventDefault(),!1):(uiGridCtrl.cellNav.clearFocus(),!0)}}},post:function($scope,$elm,$attrs,uiGridCtrl){}}}}}]),module.directive("uiGridRenderContainer",["$timeout","$document","gridUtil","uiGridConstants","uiGridCellNavService","uiGridCellNavConstants","$log",function($timeout,$document,gridUtil,uiGridConstants,uiGridCellNavService,uiGridCellNavConstants,$log){return{replace:!0,priority:-99999,require:["^uiGrid","uiGridRenderContainer","?^uiGridCellnav"],scope:!1,compile:function(){return{post:function($scope,$elm,$attrs,controllers){var uiGridCtrl=controllers[0],renderContainerCtrl=controllers[1];if(uiGridCtrl.grid.api.cellNav){var grid=(renderContainerCtrl.containerId,uiGridCtrl.grid);uiGridCellNavService.decorateRenderContainers(grid)}}}}}}]),module.directive("uiGridViewport",["$timeout","$document","gridUtil","uiGridConstants","uiGridCellNavService","uiGridCellNavConstants","$log",function($timeout,$document,gridUtil,uiGridConstants,uiGridCellNavService,uiGridCellNavConstants,$log){return{replace:!0,priority:-99999,require:["^uiGrid","^uiGridRenderContainer","?^uiGridCellnav"],scope:!1,compile:function(){return{post:function($scope,$elm,$attrs,controllers){var uiGridCtrl=controllers[0],renderContainerCtrl=controllers[1];if(uiGridCtrl.grid.api.cellNav){var containerId=renderContainerCtrl.containerId,grid=uiGridCtrl.grid;$elm.attr("tabindex",-1),$elm.on("keydown",function(evt){evt.uiGridTargetRenderContainerId=containerId;var rowCol=uiGridCtrl.grid.api.cellNav.getFocusedCell(),result=uiGridCtrl.cellNav.handleKeyDown(evt);null===result&&uiGridCtrl.grid.api.cellNav.raise.viewPortKeyDown(evt,rowCol)}),grid.api.core.on.scrollBegin($scope,function(args){var lastRowCol=uiGridCtrl.grid.api.cellNav.getFocusedCell();if(null!=lastRowCol&&renderContainerCtrl.colContainer.containsColumn(lastRowCol.col)){var elements=$elm[0].getElementsByClassName("ui-grid-cell-focus");Array.prototype.forEach.call(elements,function(e){angular.element(e).removeClass("ui-grid-cell-focus")})}}),grid.api.core.on.scrollEnd($scope,function(args){var lastRowCol=uiGridCtrl.grid.api.cellNav.getFocusedCell();null!=lastRowCol&&renderContainerCtrl.colContainer.containsColumn(lastRowCol.col)&&uiGridCtrl.cellNav.broadcastCellNav(lastRowCol)}),grid.api.cellNav.on.navigate($scope,function(){$elm[0].focus()})}}}}}}]),module.directive("uiGridCell",["$timeout","$document","uiGridCellNavService","gridUtil","uiGridCellNavConstants","uiGridConstants",function($timeout,$document,uiGridCellNavService,gridUtil,uiGridCellNavConstants,uiGridConstants){return{priority:-150,restrict:"A",require:"^uiGrid",scope:!1,link:function($scope,$elm,$attrs,uiGridCtrl){function setFocused(){var div=$elm.find("div");div.addClass("ui-grid-cell-focus")}function clearFocus(){var div=$elm.find("div");div.removeClass("ui-grid-cell-focus")}uiGridCtrl.grid.api.cellNav&&$scope.col.colDef.allowCellFocus&&($elm.find("div").on("click",function(evt){uiGridCtrl.cellNav.broadcastCellNav(new RowCol($scope.row,$scope.col),evt.ctrlKey||evt.metaKey),evt.stopPropagation(),$scope.$apply()}),$elm.find("div").on("focus",function(evt){uiGridCtrl.cellNav.broadcastCellNav(new RowCol($scope.row,$scope.col),evt.ctrlKey||evt.metaKey)}),$scope.$on(uiGridCellNavConstants.CELL_NAV_EVENT,function(evt,rowCol,modifierDown){return evt.eventType===uiGridCellNavConstants.EVENT_TYPE.CLEAR?void clearFocus():void(rowCol.row===$scope.row&&rowCol.col===$scope.col?uiGridCtrl.grid.options.modifierKeysToMultiSelectCells&&modifierDown&&uiGridCtrl.grid.api.cellNav.rowColSelectIndex(rowCol)===-1?clearFocus():setFocused():uiGridCtrl.grid.options.modifierKeysToMultiSelectCells&&modifierDown||clearFocus())}),$scope.$on("$destroy",function(){$elm.find("div").off("click")}))}}}])}(),function(){"use strict";var module=angular.module("ui.grid.edit",["ui.grid"]);module.constant("uiGridEditConstants",{EDITABLE_CELL_TEMPLATE:/EDITABLE_CELL_TEMPLATE/g,EDITABLE_CELL_DIRECTIVE:/editable_cell_directive/g,events:{BEGIN_CELL_EDIT:"uiGridEventBeginCellEdit",END_CELL_EDIT:"uiGridEventEndCellEdit",CANCEL_CELL_EDIT:"uiGridEventCancelCellEdit"}}),module.service("uiGridEditService",["$q","uiGridConstants","gridUtil",function($q,uiGridConstants,gridUtil){var service={initializeGrid:function(grid){service.defaultGridOptions(grid.options),grid.registerColumnBuilder(service.editColumnBuilder),grid.edit={};var publicApi={events:{edit:{afterCellEdit:function(rowEntity,colDef,newValue,oldValue){},beginCellEdit:function(rowEntity,colDef){},cancelCellEdit:function(rowEntity,colDef){}}},methods:{edit:{}}};grid.api.registerEventsFromObject(publicApi.events)},defaultGridOptions:function(gridOptions){gridOptions.cellEditableCondition=void 0===gridOptions.cellEditableCondition||gridOptions.cellEditableCondition,gridOptions.enableCellEditOnFocus=void 0!==gridOptions.enableCellEditOnFocus&&gridOptions.enableCellEditOnFocus},editColumnBuilder:function(colDef,col,gridOptions){var promises=[];return colDef.enableCellEdit=void 0===colDef.enableCellEdit?void 0===gridOptions.enableCellEdit?"object"!==colDef.type:gridOptions.enableCellEdit:colDef.enableCellEdit,colDef.cellEditableCondition=void 0===colDef.cellEditableCondition?gridOptions.cellEditableCondition:colDef.cellEditableCondition,colDef.enableCellEdit&&(colDef.editableCellTemplate=colDef.editableCellTemplate||gridOptions.editableCellTemplate||"ui-grid/cellEditor",promises.push(gridUtil.getTemplate(colDef.editableCellTemplate).then(function(template){col.editableCellTemplate=template},function(res){throw new Error("Couldn't fetch/use colDef.editableCellTemplate '"+colDef.editableCellTemplate+"'")}))),colDef.enableCellEditOnFocus=void 0===colDef.enableCellEditOnFocus?gridOptions.enableCellEditOnFocus:colDef.enableCellEditOnFocus,$q.all(promises)},isStartEditKey:function(evt){return!(evt.keyCode===uiGridConstants.keymap.LEFT||evt.keyCode===uiGridConstants.keymap.TAB&&evt.shiftKey||evt.keyCode===uiGridConstants.keymap.RIGHT||evt.keyCode===uiGridConstants.keymap.TAB||evt.keyCode===uiGridConstants.keymap.UP||evt.keyCode===uiGridConstants.keymap.ENTER&&evt.shiftKey||evt.keyCode===uiGridConstants.keymap.DOWN||evt.keyCode===uiGridConstants.keymap.ENTER)}};return service}]),module.directive("uiGridEdit",["gridUtil","uiGridEditService",function(gridUtil,uiGridEditService){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function($scope,$elm,$attrs,uiGridCtrl){uiGridEditService.initializeGrid(uiGridCtrl.grid)},post:function($scope,$elm,$attrs,uiGridCtrl){}}}}}]),module.directive("uiGridViewport",["uiGridEditConstants",function(uiGridEditConstants){return{replace:!0,priority:-99998,require:["^uiGrid","^uiGridRenderContainer"],scope:!1,compile:function(){return{post:function($scope,$elm,$attrs,controllers){var uiGridCtrl=controllers[0];uiGridCtrl.grid.api.edit&&uiGridCtrl.grid.api.cellNav&&($scope.$on(uiGridEditConstants.events.CANCEL_CELL_EDIT,function(){$elm[0].focus()}),$scope.$on(uiGridEditConstants.events.END_CELL_EDIT,function(){$elm[0].focus()}))}}}}}]),module.directive("uiGridCell",["$compile","$injector","$timeout","uiGridConstants","uiGridEditConstants","gridUtil","$parse","uiGridEditService","$rootScope",function($compile,$injector,$timeout,uiGridConstants,uiGridEditConstants,gridUtil,$parse,uiGridEditService,$rootScope){var touchstartTimeout=500;if($injector.has("uiGridCellNavService")){$injector.get("uiGridCellNavService")}return{priority:-100,restrict:"A",scope:!1,require:"?^uiGrid",link:function($scope,$elm,$attrs,uiGridCtrl){function registerBeginEditEvents(){$elm.on("dblclick",beginEdit),$elm.on("touchstart",touchStart),uiGridCtrl&&uiGridCtrl.grid.api.cellNav&&(cellNavNavigateDereg=uiGridCtrl.grid.api.cellNav.on.navigate($scope,function(newRowCol,oldRowCol){$scope.col.colDef.enableCellEditOnFocus&&newRowCol.row===$scope.row&&newRowCol.col===$scope.col&&$timeout(function(){beginEdit()})}))}function touchStart(event){"undefined"!=typeof event.originalEvent&&void 0!==event.originalEvent&&(event=event.originalEvent),$elm.on("touchend",touchEnd),cancelTouchstartTimeout=$timeout(function(){},touchstartTimeout),cancelTouchstartTimeout.then(function(){setTimeout(beginEdit,0),$elm.off("touchend",touchEnd)})}function touchEnd(event){$timeout.cancel(cancelTouchstartTimeout),$elm.off("touchend",touchEnd)}function cancelBeginEditEvents(){$elm.off("dblclick",beginEdit),$elm.off("keydown",beginEditKeyDown),$elm.off("touchstart",touchStart),cellNavNavigateDereg()}function beginEditKeyDown(evt){uiGridEditService.isStartEditKey(evt)&&beginEdit()}function shouldEdit(col,row){return!row.isSaving&&(angular.isFunction(col.colDef.cellEditableCondition)?col.colDef.cellEditableCondition($scope):col.colDef.cellEditableCondition)}function beginEdit(){if(!inEdit&&shouldEdit($scope.col,$scope.row)){cellModel=$parse($scope.row.getQualifiedColField($scope.col)),origCellValue=cellModel($scope),html=$scope.col.editableCellTemplate,html=html.replace(uiGridConstants.MODEL_COL_FIELD,$scope.row.getQualifiedColField($scope.col));var optionFilter=$scope.col.colDef.editDropdownFilter?"|"+$scope.col.colDef.editDropdownFilter:"";html=html.replace(uiGridConstants.CUSTOM_FILTERS,optionFilter);var inputType="text";switch($scope.col.colDef.type){case"boolean":inputType="checkbox";break;case"number":inputType="number";break;case"date":inputType="date"}html=html.replace("INPUT_TYPE",inputType);var editDropdownRowEntityOptionsArrayPath=$scope.col.colDef.editDropdownRowEntityOptionsArrayPath;editDropdownRowEntityOptionsArrayPath?$scope.editDropdownOptionsArray=resolveObjectFromPath($scope.row.entity,editDropdownRowEntityOptionsArrayPath):$scope.editDropdownOptionsArray=$scope.col.colDef.editDropdownOptionsArray,$scope.editDropdownIdLabel=$scope.col.colDef.editDropdownIdLabel?$scope.col.colDef.editDropdownIdLabel:"id",$scope.editDropdownValueLabel=$scope.col.colDef.editDropdownValueLabel?$scope.col.colDef.editDropdownValueLabel:"value";var createEditor=function(){inEdit=!0,cancelBeginEditEvents();var cellElement=angular.element(html);$elm.append(cellElement),editCellScope=$scope.$new(),$compile(cellElement)(editCellScope);var gridCellContentsEl=angular.element($elm.children()[0]);gridCellContentsEl.addClass("ui-grid-cell-contents-hidden")};$rootScope.$$phase?createEditor():$scope.$apply(createEditor);var deregOnGridScroll=$scope.col.grid.api.core.on.scrollBegin($scope,function(){endEdit(!0),$scope.grid.api.edit.raise.afterCellEdit($scope.row.entity,$scope.col.colDef,cellModel($scope),origCellValue),deregOnGridScroll(),deregOnEndCellEdit(),deregOnCancelCellEdit()}),deregOnEndCellEdit=$scope.$on(uiGridEditConstants.events.END_CELL_EDIT,function(evt,retainFocus){endEdit(retainFocus),$scope.grid.api.edit.raise.afterCellEdit($scope.row.entity,$scope.col.colDef,cellModel($scope),origCellValue),deregOnEndCellEdit(),deregOnGridScroll(),deregOnCancelCellEdit()}),deregOnCancelCellEdit=$scope.$on(uiGridEditConstants.events.CANCEL_CELL_EDIT,function(){cancelEdit(),deregOnCancelCellEdit(),deregOnGridScroll(),deregOnEndCellEdit()});$scope.$broadcast(uiGridEditConstants.events.BEGIN_CELL_EDIT),$scope.grid.api.edit.raise.beginCellEdit($scope.row.entity,$scope.col.colDef)}}function endEdit(retainFocus){if(inEdit){var gridCellContentsEl=angular.element($elm.children()[0]);editCellScope.$destroy(),angular.element($elm.children()[1]).remove(),gridCellContentsEl.removeClass("ui-grid-cell-contents-hidden"),inEdit=!1,registerBeginEditEvents(),$scope.grid.api.core.notifyDataChange(uiGridConstants.dataChange.EDIT)}}function cancelEdit(){inEdit&&(cellModel.assign($scope,origCellValue),$scope.$apply(),$scope.grid.api.edit.raise.cancelCellEdit($scope.row.entity,$scope.col.colDef),endEdit(!0))}function resolveObjectFromPath(object,path){path=path.replace(/\[(\w+)\]/g,".$1"),path=path.replace(/^\./,"");for(var a=path.split(".");a.length;){var n=a.shift();if(!(n in object))return;object=object[n]}return object}if($scope.col.colDef.enableCellEdit&&$scope.row.enableCellEdit!==!1){var html,origCellValue,cellModel,cancelTouchstartTimeout,editCellScope,inEdit=!1,cellNavNavigateDereg=function(){};uiGridCtrl&&uiGridCtrl.grid.api.cellNav&&uiGridCtrl.grid.api.cellNav.on.viewPortKeyDown($scope,function(evt,rowCol){null!==rowCol&&(rowCol.row!==$scope.row||rowCol.col!==$scope.col||$scope.col.colDef.enableCellEditOnFocus||(beginEditKeyDown(evt),uiGridCtrl.grid.api.core.scrollToIfNecessary(rowCol.row,rowCol.col)))}),registerBeginEditEvents()}}}}]),module.directive("uiGridEditor",["gridUtil","uiGridConstants","uiGridEditConstants","$timeout",function(gridUtil,uiGridConstants,uiGridEditConstants,$timeout){return{scope:!0,require:["?^uiGrid","?^uiGridRenderContainer"],compile:function(){return{pre:function($scope,$elm,$attrs){},post:function($scope,$elm,$attrs,controllers){var uiGridCtrl,renderContainerCtrl;controllers[0]&&(uiGridCtrl=controllers[0]),controllers[1]&&(renderContainerCtrl=controllers[1]),$scope.$on(uiGridEditConstants.events.BEGIN_CELL_EDIT,function(){$elm[0].focus(),$elm[0].select(),$elm.on("blur",function(evt){$scope.stopEdit(evt)})}),$scope.deepEdit=!1,$scope.stopEdit=function(evt){$scope.inputForm&&!$scope.inputForm.$valid?(evt.stopPropagation(),$scope.$emit(uiGridEditConstants.events.CANCEL_CELL_EDIT)):$scope.$emit(uiGridEditConstants.events.END_CELL_EDIT),$scope.deepEdit=!1},$elm.on("click",function(evt){$scope.deepEdit=!0}),$elm.on("keydown",function(evt){switch(evt.keyCode){case uiGridConstants.keymap.ESC:evt.stopPropagation(),$scope.$emit(uiGridEditConstants.events.CANCEL_CELL_EDIT);break;case uiGridConstants.keymap.ENTER:$scope.stopEdit(evt);break;case uiGridConstants.keymap.TAB:$scope.stopEdit(evt)}if($scope.deepEdit)switch(evt.keyCode){case uiGridConstants.keymap.LEFT:evt.stopPropagation();break;case uiGridConstants.keymap.RIGHT:evt.stopPropagation();break;case uiGridConstants.keymap.UP:evt.stopPropagation();break;case uiGridConstants.keymap.DOWN:evt.stopPropagation()}else uiGridCtrl&&uiGridCtrl.grid.api.cellNav&&(evt.uiGridTargetRenderContainerId=renderContainerCtrl.containerId,null!==uiGridCtrl.cellNav.handleKeyDown(evt)&&$scope.stopEdit(evt));return!0})}}}}}]),module.directive("uiGridEditor",["$filter",function($filter){function parseDateString(dateString){if("undefined"==typeof dateString||""===dateString)return null;var parts=dateString.split("-");if(3!==parts.length)return null;var year=parseInt(parts[0],10),month=parseInt(parts[1],10),day=parseInt(parts[2],10);return month<1||year<1||day<1?null:new Date(year,month-1,day)}return{priority:-100,require:"?ngModel",link:function(scope,element,attrs,ngModel){2===angular.version.minor&&attrs.type&&"date"===attrs.type&&ngModel&&(ngModel.$formatters.push(function(modelValue){return ngModel.$setValidity(null,!modelValue||!isNaN(modelValue.getTime())),$filter("date")(modelValue,"yyyy-MM-dd")}),ngModel.$parsers.push(function(viewValue){if(viewValue&&viewValue.length>0){var dateValue=parseDateString(viewValue);return ngModel.$setValidity(null,dateValue&&!isNaN(dateValue.getTime())),dateValue}return ngModel.$setValidity(null,!0),null}))}}}]),module.directive("uiGridEditDropdown",["uiGridConstants","uiGridEditConstants",function(uiGridConstants,uiGridEditConstants){return{scope:!0,compile:function(){return{pre:function($scope,$elm,$attrs){},post:function($scope,$elm,$attrs){$scope.$on(uiGridEditConstants.events.BEGIN_CELL_EDIT,function(){$elm[0].focus(),$elm[0].style.width=$elm[0].parentElement.offsetWidth-1+"px",$elm.on("blur",function(evt){$scope.stopEdit(evt)})}),$scope.stopEdit=function(evt){$scope.$emit(uiGridEditConstants.events.END_CELL_EDIT)},$elm.on("keydown",function(evt){switch(evt.keyCode){case uiGridConstants.keymap.ESC:evt.stopPropagation(),$scope.$emit(uiGridEditConstants.events.CANCEL_CELL_EDIT);break;case uiGridConstants.keymap.ENTER:$scope.stopEdit(evt);break;case uiGridConstants.keymap.LEFT:$scope.stopEdit(evt);break;case uiGridConstants.keymap.RIGHT:$scope.stopEdit(evt);break;case uiGridConstants.keymap.UP:evt.stopPropagation();break;case uiGridConstants.keymap.DOWN:evt.stopPropagation();break;case uiGridConstants.keymap.TAB:$scope.stopEdit(evt)}return!0})}}}}}]),module.directive("uiGridEditFileChooser",["gridUtil","uiGridConstants","uiGridEditConstants","$timeout",function(gridUtil,uiGridConstants,uiGridEditConstants,$timeout){return{scope:!0,require:["?^uiGrid","?^uiGridRenderContainer"],compile:function(){return{pre:function($scope,$elm,$attrs){},post:function($scope,$elm,$attrs,controllers){var uiGridCtrl,renderContainerCtrl;controllers[0]&&(uiGridCtrl=controllers[0]),controllers[1]&&(renderContainerCtrl=controllers[1]);var handleFileSelect=(uiGridCtrl.grid,function(event){var target=event.srcElement||event.target;target&&target.files&&target.files.length>0?("function"==typeof $scope.col.colDef.editFileChooserCallback?$scope.col.colDef.editFileChooserCallback($scope.row,$scope.col,target.files):gridUtil.logError("You need to set colDef.editFileChooserCallback to use the file chooser"),target.form.reset(),$scope.$emit(uiGridEditConstants.events.END_CELL_EDIT)):$scope.$emit(uiGridEditConstants.events.CANCEL_CELL_EDIT)});$elm[0].addEventListener("change",handleFileSelect,!1),$scope.$on(uiGridEditConstants.events.BEGIN_CELL_EDIT,function(){$elm[0].focus(),$elm[0].select(),$elm.on("blur",function(evt){$scope.$emit(uiGridEditConstants.events.END_CELL_EDIT)})})}}}}}])}(),function(){"use strict";var module=angular.module("ui.grid.expandable",["ui.grid"]);module.service("uiGridExpandableService",["gridUtil","$compile",function(gridUtil,$compile){var service={initializeGrid:function(grid){grid.expandable={},grid.expandable.expandedAll=!1,grid.options.enableExpandable=grid.options.enableExpandable!==!1,grid.options.expandableRowHeight=grid.options.expandableRowHeight||150,grid.options.expandableRowHeaderWidth=grid.options.expandableRowHeaderWidth||40,grid.options.enableExpandable&&!grid.options.expandableRowTemplate&&(gridUtil.logError("You have not set the expandableRowTemplate, disabling expandable module"),grid.options.enableExpandable=!1);var publicApi={events:{expandable:{rowExpandedStateChanged:function(scope,row){}}},methods:{expandable:{toggleRowExpansion:function(rowEntity){var row=grid.getRow(rowEntity);null!==row&&service.toggleRowExpansion(grid,row)},expandAllRows:function(){service.expandAllRows(grid)},collapseAllRows:function(){service.collapseAllRows(grid)},toggleAllRows:function(){service.toggleAllRows(grid)}}}};grid.api.registerEventsFromObject(publicApi.events),grid.api.registerMethodsFromObject(publicApi.methods)},toggleRowExpansion:function(grid,row){row.isExpanded=!row.isExpanded,row.isExpanded?row.height=row.grid.options.rowHeight+grid.options.expandableRowHeight:(row.height=row.grid.options.rowHeight,grid.expandable.expandedAll=!1),grid.api.expandable.raise.rowExpandedStateChanged(row)},expandAllRows:function(grid,$scope){grid.renderContainers.body.visibleRowCache.forEach(function(row){row.isExpanded||service.toggleRowExpansion(grid,row)}),grid.expandable.expandedAll=!0,grid.queueGridRefresh()},collapseAllRows:function(grid){grid.renderContainers.body.visibleRowCache.forEach(function(row){row.isExpanded&&service.toggleRowExpansion(grid,row)}),grid.expandable.expandedAll=!1,grid.queueGridRefresh()},toggleAllRows:function(grid){grid.expandable.expandedAll?service.collapseAllRows(grid):service.expandAllRows(grid)}};return service}]),module.directive("uiGridExpandable",["uiGridExpandableService","$templateCache",function(uiGridExpandableService,$templateCache){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function($scope,$elm,$attrs,uiGridCtrl){if(uiGridCtrl.grid.options.enableExpandableRowHeader!==!1){var expandableRowHeaderColDef={name:"expandableButtons",displayName:"",exporterSuppressExport:!0,enableColumnResizing:!1,enableColumnMenu:!1,width:uiGridCtrl.grid.options.expandableRowHeaderWidth||40};expandableRowHeaderColDef.cellTemplate=$templateCache.get("ui-grid/expandableRowHeader"),expandableRowHeaderColDef.headerCellTemplate=$templateCache.get("ui-grid/expandableTopRowHeader"),uiGridCtrl.grid.addRowHeaderColumn(expandableRowHeaderColDef)}uiGridExpandableService.initializeGrid(uiGridCtrl.grid)},post:function($scope,$elm,$attrs,uiGridCtrl){}}}}}]),module.directive("uiGrid",["uiGridExpandableService","$templateCache",function(uiGridExpandableService,$templateCache){return{replace:!0,priority:599,require:"^uiGrid",scope:!1,compile:function(){return{pre:function($scope,$elm,$attrs,uiGridCtrl){uiGridCtrl.grid.api.core.on.renderingComplete($scope,function(){$scope.row&&$scope.row.grid&&$scope.row.grid.options&&$scope.row.grid.options.enableExpandable&&(uiGridCtrl.grid.parentRow=$scope.row)})},post:function($scope,$elm,$attrs,uiGridCtrl){}}}}}]),module.directive("uiGridExpandableRow",["uiGridExpandableService","$timeout","$compile","uiGridConstants","gridUtil","$interval","$log",function(uiGridExpandableService,$timeout,$compile,uiGridConstants,gridUtil,$interval,$log){return{replace:!1,priority:0,scope:!1,compile:function(){return{pre:function($scope,$elm,$attrs,uiGridCtrl){gridUtil.getTemplate($scope.grid.options.expandableRowTemplate).then(function(template){if($scope.grid.options.expandableRowScope){var expandableRowScope=$scope.grid.options.expandableRowScope;for(var property in expandableRowScope)expandableRowScope.hasOwnProperty(property)&&($scope[property]=expandableRowScope[property])}var expandedRowElement=$compile(template)($scope);$elm.append(expandedRowElement),$scope.row.expandedRendered=!0})},post:function($scope,$elm,$attrs,uiGridCtrl){$scope.$on("$destroy",function(){$scope.row.expandedRendered=!1})}}}}}]),module.directive("uiGridRow",["$compile","gridUtil","$templateCache",function($compile,gridUtil,$templateCache){return{priority:-200,scope:!1,compile:function($elm,$attrs){return{pre:function($scope,$elm,$attrs,controllers){$scope.expandableRow={},$scope.expandableRow.shouldRenderExpand=function(){var ret="body"===$scope.colContainer.name&&$scope.grid.options.enableExpandable!==!1&&$scope.row.isExpanded&&(!$scope.grid.isScrollingVertically||$scope.row.expandedRendered);return ret},$scope.expandableRow.shouldRenderFiller=function(){var ret=$scope.row.isExpanded&&("body"!==$scope.colContainer.name||$scope.grid.isScrollingVertically&&!$scope.row.expandedRendered);return ret}},post:function($scope,$elm,$attrs,controllers){}}}}}]),module.directive("uiGridViewport",["$compile","gridUtil","$templateCache",function($compile,gridUtil,$templateCache){return{priority:-200,scope:!1,compile:function($elm,$attrs){var rowRepeatDiv=angular.element($elm.children().children()[0]),expandedRowFillerElement=$templateCache.get("ui-grid/expandableScrollFiller"),expandedRowElement=$templateCache.get("ui-grid/expandableRow");return rowRepeatDiv.append(expandedRowElement),rowRepeatDiv.append(expandedRowFillerElement),{pre:function($scope,$elm,$attrs,controllers){},post:function($scope,$elm,$attrs,controllers){}}}}}])}(),function(){"use strict";var module=angular.module("ui.grid.exporter",["ui.grid"]);module.constant("uiGridExporterConstants",{featureName:"exporter",ALL:"all",VISIBLE:"visible",SELECTED:"selected",CSV_CONTENT:"CSV_CONTENT",BUTTON_LABEL:"BUTTON_LABEL",FILE_NAME:"FILE_NAME"}),module.service("uiGridExporterService",["$q","uiGridExporterConstants","gridUtil","$compile","$interval","i18nService",function($q,uiGridExporterConstants,gridUtil,$compile,$interval,i18nService){var service={delay:100,initializeGrid:function(grid){grid.exporter={},this.defaultGridOptions(grid.options);var publicApi={events:{exporter:{}},methods:{exporter:{csvExport:function(rowTypes,colTypes){service.csvExport(grid,rowTypes,colTypes)},pdfExport:function(rowTypes,colTypes){service.pdfExport(grid,rowTypes,colTypes)}}}};grid.api.registerEventsFromObject(publicApi.events),grid.api.registerMethodsFromObject(publicApi.methods),grid.api.core.addToGridMenu?service.addToMenu(grid):$interval(function(){grid.api.core.addToGridMenu&&service.addToMenu(grid)},this.delay,1)},defaultGridOptions:function(gridOptions){gridOptions.exporterSuppressMenu=gridOptions.exporterSuppressMenu===!0,gridOptions.exporterMenuLabel=gridOptions.exporterMenuLabel?gridOptions.exporterMenuLabel:"Export",gridOptions.exporterSuppressColumns=gridOptions.exporterSuppressColumns?gridOptions.exporterSuppressColumns:[],gridOptions.exporterCsvColumnSeparator=gridOptions.exporterCsvColumnSeparator?gridOptions.exporterCsvColumnSeparator:",",gridOptions.exporterCsvFilename=gridOptions.exporterCsvFilename?gridOptions.exporterCsvFilename:"download.csv",gridOptions.exporterOlderExcelCompatibility=gridOptions.exporterOlderExcelCompatibility===!0,gridOptions.exporterPdfDefaultStyle=gridOptions.exporterPdfDefaultStyle?gridOptions.exporterPdfDefaultStyle:{fontSize:11},gridOptions.exporterPdfTableStyle=gridOptions.exporterPdfTableStyle?gridOptions.exporterPdfTableStyle:{margin:[0,5,0,15]},gridOptions.exporterPdfTableHeaderStyle=gridOptions.exporterPdfTableHeaderStyle?gridOptions.exporterPdfTableHeaderStyle:{bold:!0,fontSize:12,color:"black"},gridOptions.exporterPdfHeader=gridOptions.exporterPdfHeader?gridOptions.exporterPdfHeader:null,gridOptions.exporterPdfFooter=gridOptions.exporterPdfFooter?gridOptions.exporterPdfFooter:null,gridOptions.exporterPdfOrientation=gridOptions.exporterPdfOrientation?gridOptions.exporterPdfOrientation:"landscape",gridOptions.exporterPdfPageSize=gridOptions.exporterPdfPageSize?gridOptions.exporterPdfPageSize:"A4",gridOptions.exporterPdfMaxGridWidth=gridOptions.exporterPdfMaxGridWidth?gridOptions.exporterPdfMaxGridWidth:720,gridOptions.exporterMenuAllData=void 0===gridOptions.exporterMenuAllData||gridOptions.exporterMenuAllData,gridOptions.exporterMenuCsv=void 0===gridOptions.exporterMenuCsv||gridOptions.exporterMenuCsv,gridOptions.exporterMenuPdf=void 0===gridOptions.exporterMenuPdf||gridOptions.exporterMenuPdf,gridOptions.exporterPdfCustomFormatter=gridOptions.exporterPdfCustomFormatter&&"function"==typeof gridOptions.exporterPdfCustomFormatter?gridOptions.exporterPdfCustomFormatter:function(docDef){return docDef},gridOptions.exporterHeaderFilterUseName=gridOptions.exporterHeaderFilterUseName===!0,gridOptions.exporterFieldCallback=gridOptions.exporterFieldCallback?gridOptions.exporterFieldCallback:function(grid,row,col,value){return value},gridOptions.exporterAllDataPromise=gridOptions.exporterAllDataPromise?gridOptions.exporterAllDataPromise:null},addToMenu:function(grid){grid.api.core.addToGridMenu(grid,[{title:i18nService.getSafeText("gridMenu.exporterAllAsCsv"),action:function($event){this.grid.api.exporter.csvExport(uiGridExporterConstants.ALL,uiGridExporterConstants.ALL)},shown:function(){return this.grid.options.exporterMenuCsv&&this.grid.options.exporterMenuAllData},order:200},{title:i18nService.getSafeText("gridMenu.exporterVisibleAsCsv"),action:function($event){this.grid.api.exporter.csvExport(uiGridExporterConstants.VISIBLE,uiGridExporterConstants.VISIBLE)},shown:function(){return this.grid.options.exporterMenuCsv},order:201},{title:i18nService.getSafeText("gridMenu.exporterSelectedAsCsv"),action:function($event){this.grid.api.exporter.csvExport(uiGridExporterConstants.SELECTED,uiGridExporterConstants.VISIBLE)},shown:function(){return this.grid.options.exporterMenuCsv&&this.grid.api.selection&&this.grid.api.selection.getSelectedRows().length>0},order:202},{title:i18nService.getSafeText("gridMenu.exporterAllAsPdf"),action:function($event){this.grid.api.exporter.pdfExport(uiGridExporterConstants.ALL,uiGridExporterConstants.ALL)},shown:function(){return this.grid.options.exporterMenuPdf&&this.grid.options.exporterMenuAllData},order:203},{title:i18nService.getSafeText("gridMenu.exporterVisibleAsPdf"),action:function($event){this.grid.api.exporter.pdfExport(uiGridExporterConstants.VISIBLE,uiGridExporterConstants.VISIBLE)},shown:function(){return this.grid.options.exporterMenuPdf},order:204},{title:i18nService.getSafeText("gridMenu.exporterSelectedAsPdf"),action:function($event){this.grid.api.exporter.pdfExport(uiGridExporterConstants.SELECTED,uiGridExporterConstants.VISIBLE)},shown:function(){return this.grid.options.exporterMenuPdf&&this.grid.api.selection&&this.grid.api.selection.getSelectedRows().length>0},order:205}])},csvExport:function(grid,rowTypes,colTypes){var self=this;this.loadAllDataIfNeeded(grid,rowTypes,colTypes).then(function(){var exportColumnHeaders=self.getColumnHeaders(grid,colTypes),exportData=self.getData(grid,rowTypes,colTypes),csvContent=self.formatAsCsv(exportColumnHeaders,exportData,grid.options.exporterCsvColumnSeparator);self.downloadFile(grid.options.exporterCsvFilename,csvContent,grid.options.exporterOlderExcelCompatibility)})},loadAllDataIfNeeded:function(grid,rowTypes,colTypes){if(rowTypes===uiGridExporterConstants.ALL&&grid.rows.length!==grid.options.totalItems&&grid.options.exporterAllDataPromise)return grid.options.exporterAllDataPromise().then(function(){grid.modifyRows(grid.options.data)});var deferred=$q.defer();return deferred.resolve(),deferred.promise},getColumnHeaders:function(grid,colTypes){var headers=[];return grid.columns.forEach(function(gridCol,index){!gridCol.visible&&colTypes!==uiGridExporterConstants.ALL||gridCol.colDef.exporterSuppressExport===!0||grid.options.exporterSuppressColumns.indexOf(gridCol.name)!==-1||headers.push({name:gridCol.field,displayName:grid.options.exporterHeaderFilter?grid.options.exporterHeaderFilterUseName?grid.options.exporterHeaderFilter(gridCol.name):grid.options.exporterHeaderFilter(gridCol.displayName):gridCol.displayName,width:gridCol.drawnWidth?gridCol.drawnWidth:gridCol.width,align:"number"===gridCol.colDef.type?"right":"left"})}),headers},getData:function(grid,rowTypes,colTypes){var rows,data=[];switch(rowTypes){case uiGridExporterConstants.ALL:rows=grid.rows;break;case uiGridExporterConstants.VISIBLE:rows=grid.getVisibleRows();break;case uiGridExporterConstants.SELECTED:grid.api.selection?rows=grid.api.selection.getSelectedGridRows():gridUtil.logError("selection feature must be enabled to allow selected rows to be exported")}return rows.forEach(function(row,index){if(row.exporterEnableExporting!==!1){var extractedRow=[];grid.columns.forEach(function(gridCol,index){if((gridCol.visible||colTypes===uiGridExporterConstants.ALL)&&gridCol.colDef.exporterSuppressExport!==!0&&grid.options.exporterSuppressColumns.indexOf(gridCol.name)===-1){var extractedField={value:grid.options.exporterFieldCallback(grid,row,gridCol,grid.getCellValue(row,gridCol))};gridCol.colDef.exporterPdfAlign&&(extractedField.alignment=gridCol.colDef.exporterPdfAlign),extractedRow.push(extractedField)}}),data.push(extractedRow)}}),data},formatAsCsv:function(exportColumnHeaders,exportData,separator){var self=this,bareHeaders=exportColumnHeaders.map(function(header){return{value:header.displayName}}),csv=self.formatRowAsCsv(this,separator)(bareHeaders)+"\n";return csv+=exportData.map(this.formatRowAsCsv(this,separator)).join("\n")},formatRowAsCsv:function(exporter,separator){return function(row){return row.map(exporter.formatFieldAsCsv).join(separator)}},formatFieldAsCsv:function(field){return null==field.value?"":"number"==typeof field.value?field.value:"boolean"==typeof field.value?field.value?"TRUE":"FALSE":"string"==typeof field.value?'"'+field.value.replace(/"/g,'""')+'"':JSON.stringify(field.value)},isIE:function(){var match=navigator.userAgent.match(/(?:MSIE |Trident\/.*; rv:)(\d+)/);return!!match&&parseInt(match[1])},downloadFile:function(fileName,csvContent,exporterOlderExcelCompatibility){var rawFile,ieVersion,D=document,a=D.createElement("a"),strMimeType="application/octet-stream;charset=utf-8";if(!fileName){var currentDate=new Date;fileName="CWS Export - "+currentDate.getFullYear()+(currentDate.getMonth()+1)+currentDate.getDate()+currentDate.getHours()+currentDate.getMinutes()+currentDate.getSeconds()+".csv";
}if(ieVersion=this.isIE(),ieVersion&&ieVersion<10){var frame=D.createElement("iframe");return document.body.appendChild(frame),frame.contentWindow.document.open("text/html","replace"),frame.contentWindow.document.write("sep=,\r\n"+csvContent),frame.contentWindow.document.close(),frame.contentWindow.focus(),frame.contentWindow.document.execCommand("SaveAs",!0,fileName),document.body.removeChild(frame),!0}if(navigator.msSaveBlob)return navigator.msSaveBlob(new Blob([exporterOlderExcelCompatibility?"\ufeff":"",csvContent],{type:strMimeType}),fileName);if("download"in a){var blob=new Blob([exporterOlderExcelCompatibility?"\ufeff":"",csvContent],{type:strMimeType});rawFile=URL.createObjectURL(blob),a.setAttribute("download",fileName)}else rawFile="data:"+strMimeType+","+encodeURIComponent(csvContent),a.setAttribute("target","_blank");a.href=rawFile,a.setAttribute("style","display:none;"),D.body.appendChild(a),setTimeout(function(){if(a.click)a.click();else if(document.createEvent){var eventObj=document.createEvent("MouseEvents");eventObj.initEvent("click",!0,!0),a.dispatchEvent(eventObj)}D.body.removeChild(a)},this.delay)},pdfExport:function(grid,rowTypes,colTypes){var self=this;this.loadAllDataIfNeeded(grid,rowTypes,colTypes).then(function(){var exportColumnHeaders=self.getColumnHeaders(grid,colTypes),exportData=self.getData(grid,rowTypes,colTypes),docDefinition=self.prepareAsPdf(grid,exportColumnHeaders,exportData);if(self.isIE()){pdfMake.createPdf(docDefinition).download()}else pdfMake.createPdf(docDefinition).open()})},prepareAsPdf:function(grid,exportColumnHeaders,exportData){var headerWidths=this.calculatePdfHeaderWidths(grid,exportColumnHeaders),headerColumns=exportColumnHeaders.map(function(header){return{text:header.displayName,style:"tableHeader"}}),stringData=exportData.map(this.formatRowAsPdf(this)),allData=[headerColumns].concat(stringData),docDefinition={pageOrientation:grid.options.exporterPdfOrientation,pageSize:grid.options.exporterPdfPageSize,content:[{style:"tableStyle",table:{headerRows:1,widths:headerWidths,body:allData}}],styles:{tableStyle:grid.options.exporterPdfTableStyle,tableHeader:grid.options.exporterPdfTableHeaderStyle},defaultStyle:grid.options.exporterPdfDefaultStyle};return grid.options.exporterPdfLayout&&(docDefinition.layout=grid.options.exporterPdfLayout),grid.options.exporterPdfHeader&&(docDefinition.header=grid.options.exporterPdfHeader),grid.options.exporterPdfFooter&&(docDefinition.footer=grid.options.exporterPdfFooter),grid.options.exporterPdfCustomFormatter&&(docDefinition=grid.options.exporterPdfCustomFormatter(docDefinition)),docDefinition},calculatePdfHeaderWidths:function(grid,exportHeaders){var baseGridWidth=0;exportHeaders.forEach(function(value){"number"==typeof value.width&&(baseGridWidth+=value.width)});var extraColumns=0;exportHeaders.forEach(function(value){if("*"===value.width&&(extraColumns+=100),"string"==typeof value.width&&value.width.match(/(\d)*%/)){var percent=parseInt(value.width.match(/(\d)*%/)[0]);value.width=baseGridWidth*percent/100,extraColumns+=value.width}});var gridWidth=baseGridWidth+extraColumns;return exportHeaders.map(function(header){return"*"===header.width?header.width:header.width*grid.options.exporterPdfMaxGridWidth/gridWidth})},formatRowAsPdf:function(exporter){return function(row){return row.map(exporter.formatFieldAsPdfString)}},formatFieldAsPdfString:function(field){var returnVal;return returnVal=null==field.value?"":"number"==typeof field.value?field.value.toString():"boolean"==typeof field.value?field.value?"TRUE":"FALSE":"string"==typeof field.value?field.value.replace(/"/g,'""'):JSON.stringify(field.value).replace(/^"/,"").replace(/"$/,""),field.alignment&&"string"==typeof field.alignment&&(returnVal={text:returnVal,alignment:field.alignment}),returnVal}};return service}]),module.directive("uiGridExporter",["uiGridExporterConstants","uiGridExporterService","gridUtil","$compile",function(uiGridExporterConstants,uiGridExporterService,gridUtil,$compile){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function($scope,$elm,$attrs,uiGridCtrl){uiGridExporterService.initializeGrid(uiGridCtrl.grid),uiGridCtrl.grid.exporter.$scope=$scope}}}])}(),function(){"use strict";var module=angular.module("ui.grid.grouping",["ui.grid"]);module.constant("uiGridGroupingConstants",{featureName:"grouping",groupingRowHeaderColName:"groupingRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed",aggregation:{COUNT:"count",SUM:"sum",MAX:"max",MIN:"min",AVG:"avg",FIELD:"##@@aggregation_running_count@@##"}}),module.service("uiGridGroupingService",["$q","uiGridGroupingConstants","gridUtil","GridRow","gridClassFactory","i18nService","uiGridConstants",function($q,uiGridGroupingConstants,gridUtil,GridRow,gridClassFactory,i18nService,uiGridConstants){var service={initializeGrid:function(grid,$scope){grid.grouping={},grid.grouping.numberLevels=0,grid.grouping.expandAll=!1,grid.grouping.rowExpandedStates={},service.defaultGridOptions(grid.options),grid.registerRowsProcessor(service.groupRows,400),grid.registerColumnsProcessor(service.groupingColumnProcessor,400);var publicApi={events:{grouping:{}},methods:{grouping:{expandAllRows:function(){service.expandAllRows(grid)},collapseAllRows:function(){service.collapseAllRows(grid)},toggleRowGroupingState:function(row){service.toggleRowGroupingState(grid,row)},expandRow:function(row){service.expandRow(grid,row)},expandRowChildren:function(row){service.expandRowChildren(grid,row)},collapseRow:function(row){service.collapseRow(grid,row)},collapseRowChildren:function(row){service.collapseRowChildren(grid,row)},getGrouping:function(getExpanded){var grouping=service.getGrouping(grid);return grouping.grouping.forEach(function(group){group.colName=group.col.name,delete group.col}),grouping.aggregations.forEach(function(aggregation){aggregation.colName=aggregation.col.name,delete aggregation.col}),getExpanded&&(grouping.rowExpandedStates=grid.grouping.rowExpandedStates),grouping},setGrouping:function(config){service.setGrouping(grid,config)},groupColumn:function(columnName){var column=grid.getColumn(columnName);service.groupColumn(grid,column)},ungroupColumn:function(columnName){var column=grid.getColumn(columnName);service.ungroupColumn(grid,column)},clearGrouping:function(){service.clearGrouping(grid)},aggregateColumn:function(columnName,aggregationType){var column=grid.getColumn(columnName);service.aggregateColumn(grid,column,aggregationType)}}}};grid.api.registerEventsFromObject(publicApi.events),grid.api.registerMethodsFromObject(publicApi.methods),grid.api.core.on.sortChanged($scope,service.tidyPriorities)},defaultGridOptions:function(gridOptions){gridOptions.enableGrouping=gridOptions.enableGrouping!==!1,gridOptions.groupingRowHeaderBaseWidth=gridOptions.groupingRowHeaderBaseWidth||30,gridOptions.groupingIndent=gridOptions.groupingIndent||10,gridOptions.groupingRowHeaderAlwaysVisible=gridOptions.groupingRowHeaderAlwaysVisible===!0,gridOptions.groupingShowCounts=gridOptions.groupingShowCounts!==!1},groupingColumnBuilder:function(colDef,col,gridOptions){if(colDef.enableGrouping!==!1){"undefined"==typeof col.grouping&&"undefined"!=typeof colDef.grouping?col.grouping=angular.copy(colDef.grouping):"undefined"==typeof col.grouping&&(col.grouping={}),"undefined"!=typeof col.grouping&&void 0!==typeof col.grouping.groupPriority&&col.grouping.groupPriority>=0&&(col.suppressRemoveSort=!0),col.groupingSuppressAggregationText=colDef.groupingSuppressAggregationText===!0;var groupColumn={name:"ui.grid.grouping.group",title:i18nService.get().grouping.group,icon:"ui-grid-icon-indent-right",shown:function(){return"undefined"==typeof this.context.col.grouping||"undefined"==typeof this.context.col.grouping.groupPriority||this.context.col.grouping.groupPriority<0},action:function(){service.groupColumn(this.context.col.grid,this.context.col)}},ungroupColumn={name:"ui.grid.grouping.ungroup",title:i18nService.get().grouping.ungroup,icon:"ui-grid-icon-indent-left",shown:function(){return"undefined"!=typeof this.context.col.grouping&&"undefined"!=typeof this.context.col.grouping.groupPriority&&this.context.col.grouping.groupPriority>=0},action:function(){service.ungroupColumn(this.context.col.grid,this.context.col)}},aggregateRemove={name:"ui.grid.grouping.aggregateRemove",title:i18nService.get().grouping.aggregate_remove,shown:function(){return"undefined"!=typeof this.context.col.grouping&&"undefined"!=typeof this.context.col.grouping.aggregation&&null!==this.context.col.grouping.aggregation},action:function(){service.aggregateColumn(this.context.col.grid,this.context.col,null)}},addAggregationMenu=function(type){var menuItem={name:"ui.grid.grouping.aggregate"+type,title:i18nService.get().grouping["aggregate_"+type],shown:function(){return"undefined"==typeof this.context.col.grouping||"undefined"==typeof this.context.col.grouping.aggregation||this.context.col.grouping.aggregation!==type},action:function(){service.aggregateColumn(this.context.col.grid,this.context.col,type)}};gridUtil.arrayContainsObjectWithProperty(col.menuItems,"name","ui.grid.grouping.aggregate"+type)||col.menuItems.push(menuItem)};gridUtil.arrayContainsObjectWithProperty(col.menuItems,"name","ui.grid.grouping.group")||col.menuItems.push(groupColumn),gridUtil.arrayContainsObjectWithProperty(col.menuItems,"name","ui.grid.grouping.ungroup")||col.menuItems.push(ungroupColumn),addAggregationMenu(uiGridGroupingConstants.aggregation.COUNT),addAggregationMenu(uiGridGroupingConstants.aggregation.SUM),addAggregationMenu(uiGridGroupingConstants.aggregation.MAX),addAggregationMenu(uiGridGroupingConstants.aggregation.MIN),addAggregationMenu(uiGridGroupingConstants.aggregation.AVG),gridUtil.arrayContainsObjectWithProperty(col.menuItems,"name","ui.grid.grouping.aggregateRemove")||col.menuItems.push(aggregateRemove)}},groupingColumnProcessor:function(columns,rows){var grid=this;return columns.forEach(function(column,index){if(column.groupingPosition=index,column.name===uiGridGroupingConstants.groupingRowHeaderColName){var groupingConfig=service.getGrouping(column.grid);"undefined"!=typeof grid.options.groupingRowHeaderAlwaysVisible&&grid.options.groupingRowHeaderAlwaysVisible!==!1||(groupingConfig.grouping.length>0?column.visible=!0:column.visible=!1);var indent=(groupingConfig.grouping.length-1)*grid.options.groupingIndent;indent=indent>0?indent:0,column.width=grid.options.groupingRowHeaderBaseWidth+indent}}),columns=service.moveGroupColumns(this,columns,rows)},moveGroupColumns:function(grid,columns,rows){if(grid.options.moveGroupColumns!==!1)return columns.sort(function(a,b){var a_group,b_group;return a_group="undefined"==typeof a.grouping||"undefined"==typeof a.grouping.groupPriority||a.grouping.groupPriority<0?null:a.grouping.groupPriority,b_group="undefined"==typeof b.grouping||"undefined"==typeof b.grouping.groupPriority||b.grouping.groupPriority<0?null:b.grouping.groupPriority,null!==a_group&&null===b_group?-1:null!==b_group&&null===a_group?1:null!==a_group&&null!==b_group?a_group-b_group:a.groupingPosition-b.groupingPosition}),columns.forEach(function(column,index){delete column.groupingPosition}),columns},groupColumn:function(grid,column){"undefined"==typeof column.grouping&&(column.grouping={});var existingGrouping=service.getGrouping(grid);column.grouping.groupPriority=existingGrouping.grouping.length,column.sort?"undefined"!=typeof column.sort.direction&&null!==column.sort.direction||(column.sort.direction=uiGridConstants.ASC):column.sort={direction:uiGridConstants.ASC},service.tidyPriorities(grid),grid.queueGridRefresh()},ungroupColumn:function(grid,column){"undefined"!=typeof column.grouping&&(delete column.grouping.groupPriority,service.tidyPriorities(grid),grid.queueGridRefresh())},aggregateColumn:function(grid,column,aggregationType){"undefined"==typeof column.grouping&&(column.grouping={}),"undefined"!=typeof column.grouping.groupPriority&&column.grouping.groupPriority>=0&&service.ungroupColumn(grid,column),column.grouping.aggregation=aggregationType,grid.queueGridRefresh()},setGrouping:function(grid,config){"undefined"!=typeof config&&(service.clearGrouping(grid),config.grouping&&config.grouping.length&&config.grouping.length>0&&config.grouping.forEach(function(group){var col=grid.getColumn(group.colName);col&&service.groupColumn(grid,col)}),config.aggregations&&config.aggregations.length&&config.aggregations.length>0&&config.aggregations.forEach(function(aggregation){var col=grid.getColumn(aggregation.colName);col&&service.aggregateColumn(grid,col,aggregation.aggregation)}),config.rowExpandedStates&&(grid.grouping.rowExpandedStates=config.rowExpandedStates))},clearGrouping:function(grid){var currentGrouping=service.getGrouping(grid);currentGrouping.grouping.length>0&&currentGrouping.grouping.forEach(function(group){group.col||(group.col=grid.getColumn(group.colName)),service.ungroupColumn(grid,group.col)}),currentGrouping.aggregations.length>0&&currentGrouping.aggregations.forEach(function(aggregation){aggregation.col||(aggregation.col=grid.getColumn(aggregation.colName)),service.aggregateColumn(grid,aggregation.col,null)})},tidyPriorities:function(grid){"undefined"==typeof grid&&"undefined"!=typeof this.grid&&(grid=this.grid);var groupArray=[],sortArray=[];grid.columns.forEach(function(column,index){"undefined"!=typeof column.grouping&&"undefined"!=typeof column.grouping.groupPriority&&column.grouping.groupPriority>=0?groupArray.push(column):"undefined"!=typeof column.sort&&"undefined"!=typeof column.sort.priority&&column.sort.priority>=0&&sortArray.push(column)}),groupArray.sort(function(a,b){return a.grouping.groupPriority-b.grouping.groupPriority}),groupArray.forEach(function(column,index){column.grouping.groupPriority=index,column.suppressRemoveSort=!0,"undefined"==typeof column.sort&&(column.sort={}),column.sort.priority=index});var i=groupArray.length;sortArray.sort(function(a,b){return a.sort.priority-b.sort.priority}),sortArray.forEach(function(column,index){column.sort.priority=i,column.suppressRemoveSort=column.colDef.suppressRemoveSort,i++})},expandAllRows:function(grid){service.setAllNodes(grid.grouping.rowExpandedStates,uiGridGroupingConstants.EXPANDED),grid.queueGridRefresh()},collapseAllRows:function(grid){service.setAllNodes(grid.grouping.rowExpandedStates,uiGridGroupingConstants.COLLAPSED),grid.queueGridRefresh()},setAllNodes:function(expandedStatesSubset,targetState){expandedStatesSubset.state=targetState,angular.forEach(expandedStatesSubset,function(childNode,key){"state"!==key&&service.setAllNodes(childNode,targetState)})},toggleRowGroupingState:function(grid,row){row.groupHeader&&(row.expandedState.state===uiGridGroupingConstants.EXPANDED?row.expandedState.state=uiGridGroupingConstants.COLLAPSED:row.expandedState.state=uiGridGroupingConstants.EXPANDED,grid.queueGridRefresh())},expandRow:function(grid,row){row.groupHeader&&(row.expandedState.state=uiGridGroupingConstants.EXPANDED,grid.queueGridRefresh())},expandRowChildren:function(grid,row){row.groupHeader&&(service.setAllNodes(row.expandedState,uiGridGroupingConstants.EXPANDED),grid.queueGridRefresh())},collapseRow:function(grid,row){row.groupHeader&&(row.expandedState.state=uiGridGroupingConstants.COLLAPSED,grid.queueGridRefresh())},collapseRowChildren:function(grid,row){row.groupHeader&&(service.setAllNodes(row.expandedState,uiGridGroupingConstants.COLLAPSED),grid.queueGridRefresh())},groupRows:function(renderableRows){if(0===renderableRows.length)return renderableRows;for(var grid=this,groupingProcessingState=service.initialiseProcessingState(grid),updateProcessingState=function(groupFieldState,stateIndex){var fieldValue=grid.getCellValue(row,groupFieldState.col);"undefined"!=typeof fieldValue&&null!==fieldValue&&row.visible&&(groupFieldState.initialised&&fieldValue===groupFieldState.currentValue||(service.insertGroupHeader(grid,renderableRows,i,groupingProcessingState,stateIndex),i++),service.aggregate(grid,row,groupFieldState))},i=0;i<renderableRows.length;i++){var row=renderableRows[i];groupingProcessingState.forEach(updateProcessingState),service.setVisibility(grid,row,groupingProcessingState)}return service.writeOutAggregations(grid,groupingProcessingState,0),renderableRows.filter(function(row){return row.visible})},initialiseProcessingState:function(grid){var processingState=[],columnSettings=service.getGrouping(grid);return columnSettings.grouping.forEach(function(groupItem,index){var aggregations=[];grid.options.groupingShowCounts&&aggregations.push({type:uiGridGroupingConstants.aggregation.COUNT,fieldName:uiGridGroupingConstants.aggregation.FIELD,value:null}),columnSettings.aggregations.forEach(function(aggregation,index){aggregation.aggregation===uiGridGroupingConstants.aggregation.AVG?aggregations.push({type:aggregation.aggregation,fieldName:aggregation.field,col:aggregation.col,value:null,sum:null,count:null}):aggregations.push({type:aggregation.aggregation,fieldName:aggregation.field,col:aggregation.col,value:null})}),processingState.push({fieldName:groupItem.field,col:groupItem.col,initialised:!1,currentValue:null,currentGroupHeader:null,runningAggregations:aggregations})}),processingState},getGrouping:function(grid){var groupArray=[],aggregateArray=[];return grid.columns.forEach(function(column,columnIndex){column.grouping&&("undefined"!=typeof column.grouping.groupPriority&&column.grouping.groupPriority>=0?groupArray.push({field:column.field,col:column,groupPriority:column.grouping.groupPriority,grouping:column.grouping}):column.grouping.aggregation&&aggregateArray.push({field:column.field,col:column,aggregation:column.grouping.aggregation}))}),groupArray.sort(function(a,b){return a.groupPriority-b.groupPriority}),groupArray.forEach(function(group,index){group.grouping.groupPriority=index,group.groupPriority=index,delete group.grouping}),{grouping:groupArray,aggregations:aggregateArray}},insertGroupHeader:function(grid,renderableRows,rowIndex,groupingProcessingState,stateIndex){service.writeOutAggregations(grid,groupingProcessingState,stateIndex);var headerRow=new GridRow({},null,grid);gridClassFactory.rowTemplateAssigner.call(grid,headerRow);var fieldName=groupingProcessingState[stateIndex].fieldName,col=groupingProcessingState[stateIndex].col,newValue=grid.getCellValue(renderableRows[rowIndex],col);headerRow.entity[fieldName]=newValue,headerRow.groupLevel=stateIndex,headerRow.groupHeader=!0,headerRow.internalRow=!0,headerRow.enableEditing=!1,headerRow.enableSelection=!1,groupingProcessingState[stateIndex].initialised=!0,groupingProcessingState[stateIndex].currentValue=newValue,groupingProcessingState[stateIndex].currentGroupHeader=headerRow,headerRow.expandedState=service.getExpandedState(grid,groupingProcessingState,stateIndex),service.setVisibility(grid,headerRow,groupingProcessingState),renderableRows.splice(rowIndex,0,headerRow)},writeOutAggregations:function(grid,groupingProcessingState,stateIndex){for(var i=stateIndex;i<groupingProcessingState.length;i++)service.writeOutAggregation(grid,groupingProcessingState[i])},writeOutAggregation:function(grid,processingState){processingState.currentGroupHeader&&processingState.runningAggregations.forEach(function(aggregation,index){aggregation.fieldName===uiGridGroupingConstants.aggregation.FIELD?(processingState.currentGroupHeader.entity[processingState.fieldName]=processingState.currentValue+" ("+aggregation.value+")",aggregation.value=null):(aggregation.col.groupingSuppressAggregationText?processingState.currentGroupHeader.entity[aggregation.fieldName]=aggregation.value:processingState.currentGroupHeader.entity[aggregation.fieldName]=i18nService.get().aggregation[aggregation.type]+aggregation.value,aggregation.value=null,aggregation.sum&&(aggregation.sum=null),aggregation.count&&(aggregation.count=null))}),processingState.currentGroupHeader=null,processingState.currentValue=null,processingState.initialised=!1},getExpandedState:function(grid,groupingProcessingState,stateIndex){for(var currentNode=grid.grouping.rowExpandedStates,i=0;i<=stateIndex;i++)currentNode[groupingProcessingState[i].currentValue]||(currentNode[groupingProcessingState[i].currentValue]={state:uiGridGroupingConstants.COLLAPSED}),currentNode=currentNode[groupingProcessingState[i].currentValue];return currentNode},setVisibility:function(grid,row,groupingProcessingState){if(row.visible)for(var groupLevel="undefined"!=typeof row.groupLevel?row.groupLevel:groupingProcessingState.length,i=0;i<groupLevel;i++)groupingProcessingState[i].currentGroupHeader.expandedState.state===uiGridGroupingConstants.COLLAPSED&&(row.visible=!1)},aggregate:function(grid,row,groupFieldState){groupFieldState.runningAggregations.forEach(function(aggregation,index){if(aggregation.type===uiGridGroupingConstants.aggregation.COUNT)aggregation.value++;else{var fieldValue=grid.getCellValue(row,aggregation.col),numValue=Number(fieldValue);switch(aggregation.type){case uiGridGroupingConstants.aggregation.SUM:isNaN(numValue)||(aggregation.value+=numValue);break;case uiGridGroupingConstants.aggregation.MIN:void 0!==fieldValue&&null!==fieldValue&&(fieldValue<aggregation.value||null===aggregation.value)&&(aggregation.value=fieldValue);break;case uiGridGroupingConstants.aggregation.MAX:void 0!==fieldValue&&fieldValue>aggregation.value&&(aggregation.value=fieldValue);break;case uiGridGroupingConstants.aggregation.AVG:aggregation.count++,isNaN(numValue)||(aggregation.sum+=numValue),aggregation.value=aggregation.sum/aggregation.count}}})}};return service}]),module.directive("uiGridGrouping",["uiGridGroupingConstants","uiGridGroupingService","$templateCache",function(uiGridGroupingConstants,uiGridGroupingService,$templateCache){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function($scope,$elm,$attrs,uiGridCtrl){if(uiGridCtrl.grid.options.enableGrouping!==!1){uiGridGroupingService.initializeGrid(uiGridCtrl.grid,$scope);var groupingRowHeaderDef={name:uiGridGroupingConstants.groupingRowHeaderColName,displayName:"",width:uiGridCtrl.grid.options.groupingRowHeaderBaseWidth,minWidth:10,cellTemplate:"ui-grid/groupingRowHeader",headerCellTemplate:"ui-grid/groupingHeaderCell",enableColumnResizing:!1,enableColumnMenu:!1,exporterSuppressExport:!0,allowCellFocus:!0};uiGridCtrl.grid.addRowHeaderColumn(groupingRowHeaderDef),uiGridCtrl.grid.registerColumnBuilder(uiGridGroupingService.groupingColumnBuilder)}},post:function($scope,$elm,$attrs,uiGridCtrl){}}}}}]),module.directive("uiGridGroupingRowHeaderButtons",["$templateCache","uiGridGroupingService",function($templateCache,uiGridGroupingService){return{replace:!0,restrict:"E",template:$templateCache.get("ui-grid/groupingRowHeaderButtons"),scope:!0,require:"^uiGrid",link:function($scope,$elm,$attrs,uiGridCtrl){var self=uiGridCtrl.grid;$scope.groupButtonClick=function(row,evt){uiGridGroupingService.toggleRowGroupingState(self,row,evt)}}}}]),module.directive("uiGridGroupingExpandAllButtons",["$templateCache","uiGridGroupingService",function($templateCache,uiGridGroupingService){return{replace:!0,restrict:"E",template:$templateCache.get("ui-grid/groupingExpandAllButtons"),scope:!1,link:function($scope,$elm,$attrs,uiGridCtrl){var self=$scope.col.grid;$scope.headerButtonClick=function(row,evt){self.grouping.expandAll?(uiGridGroupingService.collapseAllRows(self,evt),self.grouping.expandAll=!1):(uiGridGroupingService.expandAllRows(self,evt),self.grouping.expandAll=!0)}}}}]),module.directive("uiGridViewport",["$compile","uiGridConstants","uiGridGroupingConstants","gridUtil","$parse","uiGridGroupingService",function($compile,uiGridConstants,uiGridGroupingConstants,gridUtil,$parse,uiGridGroupingService){return{priority:-200,scope:!1,compile:function($elm,$attrs){var rowRepeatDiv=angular.element($elm.children().children()[0]),existingNgClass=rowRepeatDiv.attr("ng-class"),newNgClass="";return newNgClass=existingNgClass?existingNgClass.slice(0,-1)+",'ui-grid-group-header-row': row.groupLevel > -1}":"{'ui-grid-group-header-row': row.groupLevel > -1}",rowRepeatDiv.attr("ng-class",newNgClass),{pre:function($scope,$elm,$attrs,controllers){},post:function($scope,$elm,$attrs,controllers){}}}}}])}(),function(){"use strict";var module=angular.module("ui.grid.importer",["ui.grid"]);module.constant("uiGridImporterConstants",{featureName:"importer"}),module.service("uiGridImporterService",["$q","uiGridConstants","uiGridImporterConstants","gridUtil","$compile","$interval","i18nService","$window",function($q,uiGridConstants,uiGridImporterConstants,gridUtil,$compile,$interval,i18nService,$window){var service={initializeGrid:function($scope,grid){grid.importer={$scope:$scope},this.defaultGridOptions(grid.options);var publicApi={events:{importer:{}},methods:{importer:{importFile:function(fileObject){service.importThisFile(grid,fileObject)}}}};grid.api.registerEventsFromObject(publicApi.events),grid.api.registerMethodsFromObject(publicApi.methods),grid.options.enableImporter&&grid.options.importerShowMenu&&(grid.api.core.addToGridMenu?service.addToMenu(grid):$interval(function(){grid.api.core.addToGridMenu&&service.addToMenu(grid)},100,1))},defaultGridOptions:function(gridOptions){gridOptions.enableImporter||void 0===gridOptions.enableImporter?$window.hasOwnProperty("File")&&$window.hasOwnProperty("FileReader")&&$window.hasOwnProperty("FileList")&&$window.hasOwnProperty("Blob")?gridOptions.enableImporter=!0:(gridUtil.logError("The File APIs are not fully supported in this browser, grid importer cannot be used."),gridOptions.enableImporter=!1):gridOptions.enableImporter=!1,gridOptions.importerProcessHeaders=gridOptions.importerProcessHeaders||service.processHeaders,gridOptions.importerHeaderFilter=gridOptions.importerHeaderFilter||function(displayName){return displayName},gridOptions.importerErrorCallback&&"function"==typeof gridOptions.importerErrorCallback||delete gridOptions.importerErrorCallback,gridOptions.enableImporter!==!0||gridOptions.importerDataAddCallback||(gridUtil.logError("You have not set an importerDataAddCallback, importer is disabled"),gridOptions.enableImporter=!1),gridOptions.importerShowMenu=gridOptions.importerShowMenu!==!1,gridOptions.importerObjectCallback=gridOptions.importerObjectCallback||function(grid,newObject){return newObject}},addToMenu:function(grid){grid.api.core.addToGridMenu(grid,[{title:i18nService.getSafeText("gridMenu.importerTitle"),order:150},{templateUrl:"ui-grid/importerMenuItemContainer",action:function($event){this.grid.api.importer.importAFile(grid)},order:151}])},importThisFile:function(grid,fileObject){if(!fileObject)return void gridUtil.logError("No file object provided to importThisFile, should be impossible, aborting");var reader=new FileReader;switch(fileObject.type){case"application/json":reader.onload=service.importJsonClosure(grid);break;default:reader.onload=service.importCsvClosure(grid)}reader.readAsText(fileObject)},importJsonClosure:function(grid){return function(importFile){var newObject,newObjects=[],importArray=service.parseJson(grid,importFile);null!==importArray&&(importArray.forEach(function(value,index){newObject=service.newObject(grid),angular.extend(newObject,value),newObject=grid.options.importerObjectCallback(grid,newObject),newObjects.push(newObject)}),service.addObjects(grid,newObjects))}},parseJson:function(grid,importFile){var loadedObjects;try{loadedObjects=JSON.parse(importFile.target.result)}catch(e){return void service.alertError(grid,"importer.invalidJson","File could not be processed, is it valid json? Content was: ",importFile.target.result)}return Array.isArray(loadedObjects)?loadedObjects:(service.alertError(grid,"importer.jsonNotarray","Import failed, file is not an array, file was: ",importFile.target.result),[])},importCsvClosure:function(grid){return function(importFile){var importArray=service.parseCsv(importFile);if(!importArray||importArray.length<1)return void service.alertError(grid,"importer.invalidCsv","File could not be processed, is it valid csv? Content was: ",importFile.target.result);var newObjects=service.createCsvObjects(grid,importArray);return newObjects&&0!==newObjects.length?void service.addObjects(grid,newObjects):void service.alertError(grid,"importer.noObjects","Objects were not able to be derived, content was: ",importFile.target.result)}},parseCsv:function(importFile){var csv=importFile.target.result;return CSV.parse(csv)},createCsvObjects:function(grid,importArray){var headerMapping=grid.options.importerProcessHeaders(grid,importArray.shift());if(!headerMapping||0===headerMapping.length)return service.alertError(grid,"importer.noHeaders","Column names could not be derived, content was: ",importArray),[];var newObject,newObjects=[];return importArray.forEach(function(row,index){newObject=service.newObject(grid),null!==row&&row.forEach(function(field,index){null!==headerMapping[index]&&(newObject[headerMapping[index]]=field)}),newObject=grid.options.importerObjectCallback(grid,newObject),newObjects.push(newObject)}),newObjects},processHeaders:function(grid,headerRow){var headers=[];if(grid.options.columnDefs&&0!==grid.options.columnDefs.length){var lookupHash=service.flattenColumnDefs(grid,grid.options.columnDefs);return headerRow.forEach(function(value,index){lookupHash[value]?headers.push(lookupHash[value]):lookupHash[value.toLowerCase()]?headers.push(lookupHash[value.toLowerCase()]):headers.push(null)}),headers}return headerRow.forEach(function(value,index){headers.push(value.replace(/[^0-9a-zA-Z\-_]/g,"_"))}),headers},flattenColumnDefs:function(grid,columnDefs){var flattenedHash={};return columnDefs.forEach(function(columnDef,index){columnDef.name&&(flattenedHash[columnDef.name]=columnDef.field||columnDef.name,flattenedHash[columnDef.name.toLowerCase()]=columnDef.field||columnDef.name),columnDef.field&&(flattenedHash[columnDef.field]=columnDef.field||columnDef.name,flattenedHash[columnDef.field.toLowerCase()]=columnDef.field||columnDef.name),columnDef.displayName&&(flattenedHash[columnDef.displayName]=columnDef.field||columnDef.name,flattenedHash[columnDef.displayName.toLowerCase()]=columnDef.field||columnDef.name),columnDef.displayName&&grid.options.importerHeaderFilter&&(flattenedHash[grid.options.importerHeaderFilter(columnDef.displayName)]=columnDef.field||columnDef.name,flattenedHash[grid.options.importerHeaderFilter(columnDef.displayName).toLowerCase()]=columnDef.field||columnDef.name)}),flattenedHash},addObjects:function(grid,newObjects,$scope){if(grid.api.rowEdit){var dataChangeDereg=grid.registerDataChangeCallback(function(){grid.api.rowEdit.setRowsDirty(newObjects),dataChangeDereg()},[uiGridConstants.dataChange.ROW]);grid.importer.$scope.$on("$destroy",dataChangeDereg)}grid.importer.$scope.$apply(grid.options.importerDataAddCallback(grid,newObjects))},newObject:function(grid){return"undefined"!=typeof grid.options&&"undefined"!=typeof grid.options.importerNewObject?new grid.options.importerNewObject:{}},alertError:function(grid,alertI18nToken,consoleMessage,context){grid.options.importerErrorCallback?grid.options.importerErrorCallback(grid,alertI18nToken,consoleMessage,context):($window.alert(i18nService.getSafeText(alertI18nToken)),gridUtil.logError(consoleMessage+context))}};return service}]),module.directive("uiGridImporter",["uiGridImporterConstants","uiGridImporterService","gridUtil","$compile",function(uiGridImporterConstants,uiGridImporterService,gridUtil,$compile){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function($scope,$elm,$attrs,uiGridCtrl){uiGridImporterService.initializeGrid($scope,uiGridCtrl.grid)}}}]),module.directive("uiGridImporterMenuItem",["uiGridImporterConstants","uiGridImporterService","gridUtil","$compile",function(uiGridImporterConstants,uiGridImporterService,gridUtil,$compile){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,templateUrl:"ui-grid/importerMenuItem",link:function($scope,$elm,$attrs,uiGridCtrl){var handleFileSelect=function(event){var target=event.srcElement||event.target;if(target&&target.files&&1===target.files.length){var fileObject=target.files[0];
uiGridImporterService.importThisFile(grid,fileObject),target.form.reset()}},fileChooser=$elm[0].querySelectorAll(".ui-grid-importer-file-chooser"),grid=uiGridCtrl.grid;1!==fileChooser.length?gridUtil.logError("Found > 1 or < 1 file choosers within the menu item, error, cannot continue"):fileChooser[0].addEventListener("change",handleFileSelect,!1)}}}])}(),function(){"use strict";var module=angular.module("ui.grid.infiniteScroll",["ui.grid"]);module.service("uiGridInfiniteScrollService",["gridUtil","$compile","$timeout","uiGridConstants","ScrollEvent","$q",function(gridUtil,$compile,$timeout,uiGridConstants,ScrollEvent,$q){var service={initializeGrid:function(grid,$scope){if(service.defaultGridOptions(grid.options),grid.options.enableInfiniteScroll){grid.infiniteScroll={dataLoading:!1},service.setScrollDirections(grid,grid.options.infiniteScrollUp,grid.options.infiniteScrollDown),grid.api.core.on.scrollEnd($scope,service.handleScroll);var publicApi={events:{infiniteScroll:{needLoadMoreData:function($scope,fn){},needLoadMoreDataTop:function($scope,fn){}}},methods:{infiniteScroll:{dataLoaded:function(scrollUp,scrollDown){service.setScrollDirections(grid,scrollUp,scrollDown);var promise=service.adjustScroll(grid).then(function(){grid.infiniteScroll.dataLoading=!1});return promise},resetScroll:function(scrollUp,scrollDown){return service.setScrollDirections(grid,scrollUp,scrollDown),service.adjustInfiniteScrollPosition(grid,0)},saveScrollPercentage:function(){grid.infiniteScroll.prevScrolltopPercentage=grid.renderContainers.body.prevScrolltopPercentage,grid.infiniteScroll.previousVisibleRows=grid.renderContainers.body.visibleRowCache.length},dataRemovedTop:function(scrollUp,scrollDown){service.dataRemovedTop(grid,scrollUp,scrollDown)},dataRemovedBottom:function(scrollUp,scrollDown){service.dataRemovedBottom(grid,scrollUp,scrollDown)},setScrollDirections:function(scrollUp,scrollDown){service.setScrollDirections(grid,scrollUp,scrollDown)}}}};grid.api.registerEventsFromObject(publicApi.events),grid.api.registerMethodsFromObject(publicApi.methods)}},defaultGridOptions:function(gridOptions){gridOptions.enableInfiniteScroll=gridOptions.enableInfiniteScroll!==!1,gridOptions.infiniteScrollRowsFromEnd=gridOptions.infiniteScrollRowsFromEnd||20,gridOptions.infiniteScrollUp=gridOptions.infiniteScrollUp===!0,gridOptions.infiniteScrollDown=gridOptions.infiniteScrollDown!==!1},setScrollDirections:function(grid,scrollUp,scrollDown){grid.infiniteScroll.scrollUp=scrollUp===!0,grid.suppressParentScrollUp=scrollUp===!0,grid.infiniteScroll.scrollDown=scrollDown!==!1,grid.suppressParentScrollDown=scrollDown!==!1},handleScroll:function(args){if(!(args.grid.infiniteScroll&&args.grid.infiniteScroll.dataLoading||"ui.grid.adjustInfiniteScrollPosition"===args.source)&&args.y){var percentage,targetPercentage=args.grid.options.infiniteScrollRowsFromEnd/args.grid.renderContainers.body.visibleRowCache.length;args.grid.scrollDirection===uiGridConstants.scrollDirection.UP?(percentage=args.y.percentage,percentage<=targetPercentage&&service.loadData(args.grid)):args.grid.scrollDirection===uiGridConstants.scrollDirection.DOWN&&(percentage=1-args.y.percentage,percentage<=targetPercentage&&service.loadData(args.grid))}},loadData:function(grid){grid.infiniteScroll.previousVisibleRows=grid.renderContainers.body.visibleRowCache.length,grid.infiniteScroll.direction=grid.scrollDirection,delete grid.infiniteScroll.prevScrolltopPercentage,grid.scrollDirection===uiGridConstants.scrollDirection.UP&&grid.infiniteScroll.scrollUp?(grid.infiniteScroll.dataLoading=!0,grid.api.infiniteScroll.raise.needLoadMoreDataTop()):grid.scrollDirection===uiGridConstants.scrollDirection.DOWN&&grid.infiniteScroll.scrollDown&&(grid.infiniteScroll.dataLoading=!0,grid.api.infiniteScroll.raise.needLoadMoreData())},adjustScroll:function(grid){var promise=$q.defer();return $timeout(function(){var newPercentage;void 0===grid.infiniteScroll.direction&&service.adjustInfiniteScrollPosition(grid,0);var oldPercentage,oldTopRow,newVisibleRows=grid.renderContainers.body.visibleRowCache.length,halfViewport=grid.getViewportHeight()/grid.options.rowHeight/2;grid.infiniteScroll.direction===uiGridConstants.scrollDirection.UP&&(oldPercentage=grid.infiniteScroll.prevScrolltopPercentage||0,oldTopRow=oldPercentage*grid.infiniteScroll.previousVisibleRows,newPercentage=(newVisibleRows-grid.infiniteScroll.previousVisibleRows+oldTopRow+halfViewport)/newVisibleRows,service.adjustInfiniteScrollPosition(grid,newPercentage),$timeout(function(){promise.resolve()})),grid.infiniteScroll.direction===uiGridConstants.scrollDirection.DOWN&&(oldPercentage=grid.infiniteScroll.prevScrolltopPercentage||1,oldTopRow=oldPercentage*grid.infiniteScroll.previousVisibleRows,newPercentage=(oldTopRow-halfViewport)/newVisibleRows,service.adjustInfiniteScrollPosition(grid,newPercentage),$timeout(function(){promise.resolve()}))},0),promise.promise},adjustInfiniteScrollPosition:function(grid,percentage){var scrollEvent=new ScrollEvent(grid,null,null,"ui.grid.adjustInfiniteScrollPosition");0===percentage&&grid.infiniteScroll.scrollUp?scrollEvent.y={pixels:1}:scrollEvent.y={percentage:percentage},grid.scrollContainers("",scrollEvent)},dataRemovedTop:function(grid,scrollUp,scrollDown){service.setScrollDirections(grid,scrollUp,scrollDown);var newVisibleRows=grid.renderContainers.body.visibleRowCache.length,oldScrollRow=grid.infiniteScroll.prevScrolltopPercentage*grid.infiniteScroll.previousVisibleRows,newScrollRow=oldScrollRow-(grid.infiniteScroll.previousVisibleRows-newVisibleRows),newScrollPercent=newScrollRow/newVisibleRows;return service.adjustInfiniteScrollPosition(grid,newScrollPercent)},dataRemovedBottom:function(grid,scrollUp,scrollDown){service.setScrollDirections(grid,scrollUp,scrollDown);var newVisibleRows=grid.renderContainers.body.visibleRowCache.length,oldScrollRow=grid.infiniteScroll.prevScrolltopPercentage*grid.infiniteScroll.previousVisibleRows,newScrollPercent=oldScrollRow/newVisibleRows;return service.adjustInfiniteScrollPosition(grid,newScrollPercent)}};return service}]),module.directive("uiGridInfiniteScroll",["uiGridInfiniteScrollService",function(uiGridInfiniteScrollService){return{priority:-200,scope:!1,require:"^uiGrid",compile:function($scope,$elm,$attr){return{pre:function($scope,$elm,$attr,uiGridCtrl){uiGridInfiniteScrollService.initializeGrid(uiGridCtrl.grid,$scope)},post:function($scope,$elm,$attr){}}}}}])}(),function(){"use strict";var module=angular.module("ui.grid.moveColumns",["ui.grid"]);module.service("uiGridMoveColumnService",["$q","$timeout","$log","ScrollEvent","uiGridConstants","gridUtil",function($q,$timeout,$log,ScrollEvent,uiGridConstants,gridUtil){var service={initializeGrid:function(grid){var self=this;this.registerPublicApi(grid),this.defaultGridOptions(grid.options),grid.registerColumnBuilder(self.movableColumnBuilder)},registerPublicApi:function(grid){var self=this,publicApi={events:{colMovable:{columnPositionChanged:function(colDef,originalPosition,newPosition){}}},methods:{colMovable:{moveColumn:function(originalPosition,finalPosition){var columns=grid.columns;if(!angular.isNumber(originalPosition)||!angular.isNumber(finalPosition))return void gridUtil.logError("MoveColumn: Please provide valid values for originalPosition and finalPosition");for(var nonMovableColumns=0,i=0;i<columns.length;i++)(angular.isDefined(columns[i].colDef.visible)&&columns[i].colDef.visible===!1||columns[i].isRowHeader===!0)&&nonMovableColumns++;if(originalPosition>=columns.length-nonMovableColumns||finalPosition>=columns.length-nonMovableColumns)return void gridUtil.logError("MoveColumn: Invalid values for originalPosition, finalPosition");var findPositionForRenderIndex=function(index){for(var position=index,i=0;i<=position;i++)angular.isDefined(columns[i])&&(angular.isDefined(columns[i].colDef.visible)&&columns[i].colDef.visible===!1||columns[i].isRowHeader===!0)&&position++;return position};self.redrawColumnAtPosition(grid,findPositionForRenderIndex(originalPosition),findPositionForRenderIndex(finalPosition))}}}};grid.api.registerEventsFromObject(publicApi.events),grid.api.registerMethodsFromObject(publicApi.methods)},defaultGridOptions:function(gridOptions){gridOptions.enableColumnMoving=gridOptions.enableColumnMoving!==!1},movableColumnBuilder:function(colDef,col,gridOptions){var promises=[];return colDef.enableColumnMoving=void 0===colDef.enableColumnMoving?gridOptions.enableColumnMoving:colDef.enableColumnMoving,$q.all(promises)},redrawColumnAtPosition:function(grid,originalPosition,newPosition){var columns=grid.columns,originalColumn=columns[originalPosition];if(originalColumn.colDef.enableColumnMoving){if(originalPosition>newPosition)for(var i1=originalPosition;i1>newPosition;i1--)columns[i1]=columns[i1-1];else if(newPosition>originalPosition)for(var i2=originalPosition;i2<newPosition;i2++)columns[i2]=columns[i2+1];columns[newPosition]=originalColumn,grid.queueGridRefresh(),$timeout(function(){grid.api.core.notifyDataChange(uiGridConstants.dataChange.COLUMN),grid.api.colMovable.raise.columnPositionChanged(originalColumn.colDef,originalPosition,newPosition)})}}};return service}]),module.directive("uiGridMoveColumns",["uiGridMoveColumnService",function(uiGridMoveColumnService){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function($scope,$elm,$attrs,uiGridCtrl){uiGridMoveColumnService.initializeGrid(uiGridCtrl.grid)},post:function($scope,$elm,$attrs,uiGridCtrl){}}}}}]),module.directive("uiGridHeaderCell",["$q","gridUtil","uiGridMoveColumnService","$document","$log","uiGridConstants","ScrollEvent",function($q,gridUtil,uiGridMoveColumnService,$document,$log,uiGridConstants,ScrollEvent){return{priority:-10,require:"^uiGrid",compile:function(){return{post:function($scope,$elm,$attrs,uiGridCtrl){if($scope.col.colDef.enableColumnMoving){var gridLeft,previousMouseX,totalMouseMovement,rightMoveLimit,movingElm,reducedWidth,$contentsElm=angular.element($elm[0].querySelectorAll(".ui-grid-cell-contents")),elmCloned=!1,moveOccurred=!1,downFn=function(event){gridLeft=$scope.grid.element[0].getBoundingClientRect().left,previousMouseX=event.pageX,totalMouseMovement=0,rightMoveLimit=gridLeft+$scope.grid.getViewportWidth(),"mousedown"===event.type?($document.on("mousemove",moveFn),$document.on("mouseup",upFn)):"touchstart"===event.type&&($document.on("touchmove",moveFn),$document.on("touchend",upFn))},moveFn=function(event){document.onselectstart=function(){return!1},moveOccurred=!0;var changeValue=event.pageX-previousMouseX;elmCloned?elmCloned&&(moveElement(changeValue),previousMouseX=event.pageX):cloneElement()},upFn=function(event){if(document.onselectstart=null,movingElm&&(movingElm.remove(),elmCloned=!1),offAllEvents(),onDownEvents(),moveOccurred){for(var columns=$scope.grid.columns,columnIndex=0,i=0;i<columns.length&&columns[i].colDef.name!==$scope.col.colDef.name;i++)columnIndex++;if(totalMouseMovement<0){for(var totalColumnsLeftWidth=0,il=columnIndex-1;il>=0;il--)if((angular.isUndefined(columns[il].colDef.visible)||columns[il].colDef.visible===!0)&&(totalColumnsLeftWidth+=columns[il].drawnWidth||columns[il].width||columns[il].colDef.width,totalColumnsLeftWidth>Math.abs(totalMouseMovement))){uiGridMoveColumnService.redrawColumnAtPosition($scope.grid,columnIndex,il+1);break}totalColumnsLeftWidth<Math.abs(totalMouseMovement)&&uiGridMoveColumnService.redrawColumnAtPosition($scope.grid,columnIndex,0)}else if(totalMouseMovement>0){for(var totalColumnsRightWidth=0,ir=columnIndex+1;ir<columns.length;ir++)if((angular.isUndefined(columns[ir].colDef.visible)||columns[ir].colDef.visible===!0)&&(totalColumnsRightWidth+=columns[ir].drawnWidth||columns[ir].width||columns[ir].colDef.width,totalColumnsRightWidth>totalMouseMovement)){uiGridMoveColumnService.redrawColumnAtPosition($scope.grid,columnIndex,ir-1);break}totalColumnsRightWidth<totalMouseMovement&&uiGridMoveColumnService.redrawColumnAtPosition($scope.grid,columnIndex,columns.length-1)}}},onDownEvents=function(){$contentsElm.on("touchstart",downFn),$contentsElm.on("mousedown",downFn)},offAllEvents=function(){$contentsElm.off("touchstart",downFn),$contentsElm.off("mousedown",downFn),$document.off("mousemove",moveFn),$document.off("touchmove",moveFn),$document.off("mouseup",upFn),$document.off("touchend",upFn)};onDownEvents();var cloneElement=function(){elmCloned=!0,movingElm=$elm.clone(),$elm.parent().append(movingElm),movingElm.addClass("movingColumn");var elmLeft,movingElementStyles={};elmLeft="safari"===gridUtil.detectBrowser()?$elm[0].offsetLeft+$elm[0].offsetWidth-$elm[0].getBoundingClientRect().width:$elm[0].getBoundingClientRect().left,movingElementStyles.left=elmLeft-gridLeft+"px";var gridRight=$scope.grid.element[0].getBoundingClientRect().right,elmRight=$elm[0].getBoundingClientRect().right;elmRight>gridRight&&(reducedWidth=$scope.col.drawnWidth+(gridRight-elmRight),movingElementStyles.width=reducedWidth+"px"),movingElm.css(movingElementStyles)},moveElement=function(changeValue){for(var columns=$scope.grid.columns,totalColumnWidth=0,i=0;i<columns.length;i++)(angular.isUndefined(columns[i].colDef.visible)||columns[i].colDef.visible===!0)&&(totalColumnWidth+=columns[i].drawnWidth||columns[i].width||columns[i].colDef.width);var newElementLeft,currentElmLeft=movingElm[0].getBoundingClientRect().left-1,currentElmRight=movingElm[0].getBoundingClientRect().right;if(newElementLeft=currentElmLeft-gridLeft+changeValue,newElementLeft=newElementLeft<rightMoveLimit?newElementLeft:rightMoveLimit,(currentElmLeft>=gridLeft||changeValue>0)&&(currentElmRight<=rightMoveLimit||changeValue<0))movingElm.css({visibility:"visible",left:newElementLeft+"px"});else if(totalColumnWidth>Math.ceil(uiGridCtrl.grid.gridWidth)){changeValue*=8;var scrollEvent=new ScrollEvent($scope.col.grid,null,null,"uiGridHeaderCell.moveElement");scrollEvent.x={pixels:changeValue},scrollEvent.grid.scrollContainers("",scrollEvent)}for(var totalColumnsLeftWidth=0,il=0;il<columns.length;il++)if(angular.isUndefined(columns[il].colDef.visible)||columns[il].colDef.visible===!0){if(columns[il].colDef.name===$scope.col.colDef.name)break;totalColumnsLeftWidth+=columns[il].drawnWidth||columns[il].width||columns[il].colDef.width}void 0===$scope.newScrollLeft?totalMouseMovement+=changeValue:totalMouseMovement=$scope.newScrollLeft+newElementLeft-totalColumnsLeftWidth,reducedWidth<$scope.col.drawnWidth&&(reducedWidth+=Math.abs(changeValue),movingElm.css({width:reducedWidth+"px"}))}}}}}}}])}(),function(){"use strict";var module=angular.module("ui.grid.pagination",["ng","ui.grid"]);module.service("uiGridPaginationService",["gridUtil",function(gridUtil){var service={initializeGrid:function(grid){service.defaultGridOptions(grid.options);var publicApi={events:{pagination:{paginationChanged:function(currentPage,pageSize){}}},methods:{pagination:{getPage:function(){return grid.options.enablePagination?grid.options.paginationCurrentPage:null},getTotalPages:function(){return grid.options.enablePagination?0===grid.options.totalItems?1:Math.ceil(grid.options.totalItems/grid.options.paginationPageSize):null},nextPage:function(){grid.options.enablePagination&&(grid.options.totalItems>0?grid.options.paginationCurrentPage=Math.min(grid.options.paginationCurrentPage+1,publicApi.methods.pagination.getTotalPages()):grid.options.paginationCurrentPage++)},previousPage:function(){grid.options.enablePagination&&(grid.options.paginationCurrentPage=Math.max(grid.options.paginationCurrentPage-1,1))},seek:function(page){if(grid.options.enablePagination){if(!angular.isNumber(page)||page<1)throw"Invalid page number: "+page;grid.options.paginationCurrentPage=Math.min(page,publicApi.methods.pagination.getTotalPages())}}}}};grid.api.registerEventsFromObject(publicApi.events),grid.api.registerMethodsFromObject(publicApi.methods);var processPagination=function(renderableRows){if(grid.options.useExternalPagination||!grid.options.enablePagination)return renderableRows;var pageSize=parseInt(grid.options.paginationPageSize,10),currentPage=parseInt(grid.options.paginationCurrentPage,10),visibleRows=renderableRows.filter(function(row){return row.visible});grid.options.totalItems=visibleRows.length;var firstRow=(currentPage-1)*pageSize;return firstRow>visibleRows.length&&(currentPage=grid.options.paginationCurrentPage=1,firstRow=(currentPage-1)*pageSize),visibleRows.slice(firstRow,firstRow+pageSize)};grid.registerRowsProcessor(processPagination,900)},defaultGridOptions:function(gridOptions){gridOptions.enablePagination=gridOptions.enablePagination!==!1,gridOptions.enablePaginationControls=gridOptions.enablePaginationControls!==!1,gridOptions.useExternalPagination=gridOptions.useExternalPagination===!0,gridUtil.isNullOrUndefined(gridOptions.totalItems)&&(gridOptions.totalItems=0),gridUtil.isNullOrUndefined(gridOptions.paginationPageSizes)&&(gridOptions.paginationPageSizes=[250,500,1e3]),gridUtil.isNullOrUndefined(gridOptions.paginationPageSize)&&(gridOptions.paginationPageSizes.length>0?gridOptions.paginationPageSize=gridOptions.paginationPageSizes[0]:gridOptions.paginationPageSize=0),gridUtil.isNullOrUndefined(gridOptions.paginationCurrentPage)&&(gridOptions.paginationCurrentPage=1),gridUtil.isNullOrUndefined(gridOptions.paginationTemplate)&&(gridOptions.paginationTemplate="ui-grid/pagination")},onPaginationChanged:function(grid,currentPage,pageSize){grid.api.pagination.raise.paginationChanged(currentPage,pageSize),grid.options.useExternalPagination||grid.queueGridRefresh()}};return service}]),module.directive("uiGridPagination",["gridUtil","uiGridPaginationService",function(gridUtil,uiGridPaginationService){return{priority:-200,scope:!1,require:"uiGrid",link:{pre:function($scope,$elm,$attr,uiGridCtrl){uiGridPaginationService.initializeGrid(uiGridCtrl.grid),gridUtil.getTemplate(uiGridCtrl.grid.options.paginationTemplate).then(function(contents){var template=angular.element(contents);$elm.append(template),uiGridCtrl.innerCompile(template)})}}}}]),module.directive("uiGridPager",["uiGridPaginationService","uiGridConstants","gridUtil","i18nService",function(uiGridPaginationService,uiGridConstants,gridUtil,i18nService){return{priority:-200,scope:!0,require:"^uiGrid",link:function($scope,$elm,$attr,uiGridCtrl){$scope.paginationApi=uiGridCtrl.grid.api.pagination,$scope.sizesLabel=i18nService.getSafeText("pagination.sizes"),$scope.totalItemsLabel=i18nService.getSafeText("pagination.totalItems");var options=uiGridCtrl.grid.options;uiGridCtrl.grid.renderContainers.body.registerViewportAdjuster(function(adjustment){return adjustment.height=adjustment.height-gridUtil.elementHeight($elm),adjustment});var dataChangeDereg=uiGridCtrl.grid.registerDataChangeCallback(function(grid){grid.options.useExternalPagination||(grid.options.totalItems=grid.rows.length)},[uiGridConstants.dataChange.ROW]);$scope.$on("$destroy",dataChangeDereg);var setShowing=function(){$scope.showingLow=(options.paginationCurrentPage-1)*options.paginationPageSize+1,$scope.showingHigh=Math.min(options.paginationCurrentPage*options.paginationPageSize,options.totalItems)},deregT=$scope.$watch("grid.options.totalItems + grid.options.paginationPageSize",setShowing),deregP=$scope.$watch("grid.options.paginationCurrentPage + grid.options.paginationPageSize",function(newValues,oldValues){if(newValues!==oldValues){if(!angular.isNumber(options.paginationCurrentPage)||options.paginationCurrentPage<1)return void(options.paginationCurrentPage=1);if(options.totalItems>0&&options.paginationCurrentPage>$scope.paginationApi.getTotalPages())return void(options.paginationCurrentPage=$scope.paginationApi.getTotalPages());setShowing(),uiGridPaginationService.onPaginationChanged($scope.grid,options.paginationCurrentPage,options.paginationPageSize)}});$scope.$on("$destroy",function(){deregT(),deregP()}),$scope.cantPageForward=function(){return options.totalItems>0?options.paginationCurrentPage>=$scope.paginationApi.getTotalPages():options.data.length<1},$scope.cantPageToLast=function(){return!(options.totalItems>0)||$scope.cantPageForward()},$scope.cantPageBackward=function(){return options.paginationCurrentPage<=1}}}}])}(),function(){"use strict";var module=angular.module("ui.grid.pinning",["ui.grid"]);module.constant("uiGridPinningConstants",{container:{LEFT:"left",RIGHT:"right",NONE:""}}),module.service("uiGridPinningService",["gridUtil","GridRenderContainer","i18nService","uiGridPinningConstants",function(gridUtil,GridRenderContainer,i18nService,uiGridPinningConstants){var service={initializeGrid:function(grid){service.defaultGridOptions(grid.options),grid.registerColumnBuilder(service.pinningColumnBuilder);var publicApi={events:{pinning:{columnPinned:function(colDef,container){}}},methods:{pinning:{pinColumn:function(col,container){service.pinColumn(grid,col,container)}}}};grid.api.registerEventsFromObject(publicApi.events),grid.api.registerMethodsFromObject(publicApi.methods)},defaultGridOptions:function(gridOptions){gridOptions.enablePinning=gridOptions.enablePinning!==!1},pinningColumnBuilder:function(colDef,col,gridOptions){if(colDef.enablePinning=void 0===colDef.enablePinning?gridOptions.enablePinning:colDef.enablePinning,colDef.pinnedLeft?(col.renderContainer="left",col.grid.createLeftContainer()):colDef.pinnedRight&&(col.renderContainer="right",col.grid.createRightContainer()),colDef.enablePinning){var pinColumnLeftAction={name:"ui.grid.pinning.pinLeft",title:i18nService.get().pinning.pinLeft,icon:"ui-grid-icon-left-open",shown:function(){return"undefined"==typeof this.context.col.renderContainer||!this.context.col.renderContainer||"left"!==this.context.col.renderContainer},action:function(){service.pinColumn(this.context.col.grid,this.context.col,uiGridPinningConstants.container.LEFT)}},pinColumnRightAction={name:"ui.grid.pinning.pinRight",title:i18nService.get().pinning.pinRight,icon:"ui-grid-icon-right-open",shown:function(){return"undefined"==typeof this.context.col.renderContainer||!this.context.col.renderContainer||"right"!==this.context.col.renderContainer},action:function(){service.pinColumn(this.context.col.grid,this.context.col,uiGridPinningConstants.container.RIGHT)}},removePinAction={name:"ui.grid.pinning.unpin",title:i18nService.get().pinning.unpin,icon:"ui-grid-icon-cancel",shown:function(){return"undefined"!=typeof this.context.col.renderContainer&&null!==this.context.col.renderContainer&&"body"!==this.context.col.renderContainer},action:function(){service.pinColumn(this.context.col.grid,this.context.col,uiGridPinningConstants.container.UNPIN)}};gridUtil.arrayContainsObjectWithProperty(col.menuItems,"name","ui.grid.pinning.pinLeft")||col.menuItems.push(pinColumnLeftAction),gridUtil.arrayContainsObjectWithProperty(col.menuItems,"name","ui.grid.pinning.pinRight")||col.menuItems.push(pinColumnRightAction),gridUtil.arrayContainsObjectWithProperty(col.menuItems,"name","ui.grid.pinning.unpin")||col.menuItems.push(removePinAction)}},pinColumn:function(grid,col,container){container===uiGridPinningConstants.container.NONE?col.renderContainer=null:(col.renderContainer=container,container===uiGridPinningConstants.container.LEFT?grid.createLeftContainer():container===uiGridPinningConstants.container.RIGHT&&grid.createRightContainer()),grid.refresh().then(function(){grid.api.pinning.raise.columnPinned(col.colDef,container)})}};return service}]),module.directive("uiGridPinning",["gridUtil","uiGridPinningService",function(gridUtil,uiGridPinningService){return{require:"uiGrid",scope:!1,compile:function(){return{pre:function($scope,$elm,$attrs,uiGridCtrl){uiGridPinningService.initializeGrid(uiGridCtrl.grid)},post:function($scope,$elm,$attrs,uiGridCtrl){}}}}}])}(),function(){"use strict";var module=angular.module("ui.grid.resizeColumns",["ui.grid"]);module.service("uiGridResizeColumnsService",["gridUtil","$q","$timeout",function(gridUtil,$q,$timeout){var service={defaultGridOptions:function(gridOptions){gridOptions.enableColumnResizing=gridOptions.enableColumnResizing!==!1,gridOptions.enableColumnResize===!1&&(gridOptions.enableColumnResizing=!1)},colResizerColumnBuilder:function(colDef,col,gridOptions){var promises=[];return colDef.enableColumnResizing=void 0===colDef.enableColumnResizing?gridOptions.enableColumnResizing:colDef.enableColumnResizing,colDef.enableColumnResize===!1&&(colDef.enableColumnResizing=!1),$q.all(promises)},registerPublicApi:function(grid){var publicApi={events:{colResizable:{columnSizeChanged:function(colDef,deltaChange){}}}};grid.api.registerEventsFromObject(publicApi.events)},fireColumnSizeChanged:function(grid,colDef,deltaChange){$timeout(function(){grid.api.colResizable?grid.api.colResizable.raise.columnSizeChanged(colDef,deltaChange):gridUtil.logError("The resizeable api is not registered, this may indicate that you've included the module but not added the 'ui-grid-column-resize' directive to your grid definition.  Cannot raise any events.")})},findTargetCol:function(col,position,rtlMultiplier){var renderContainer=col.getRenderContainer();if("left"===position){var colIndex=renderContainer.visibleColumnCache.indexOf(col);return renderContainer.visibleColumnCache[colIndex-1*rtlMultiplier]}return col}};return service}]),module.directive("uiGridResizeColumns",["gridUtil","uiGridResizeColumnsService",function(gridUtil,uiGridResizeColumnsService){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function($scope,$elm,$attrs,uiGridCtrl){uiGridResizeColumnsService.defaultGridOptions(uiGridCtrl.grid.options),uiGridCtrl.grid.registerColumnBuilder(uiGridResizeColumnsService.colResizerColumnBuilder),uiGridResizeColumnsService.registerPublicApi(uiGridCtrl.grid)},post:function($scope,$elm,$attrs,uiGridCtrl){}}}}}]),module.directive("uiGridHeaderCell",["gridUtil","$templateCache","$compile","$q","uiGridResizeColumnsService","uiGridConstants","$timeout",function(gridUtil,$templateCache,$compile,$q,uiGridResizeColumnsService,uiGridConstants,$timeout){return{priority:-10,require:"^uiGrid",compile:function(){return{post:function($scope,$elm,$attrs,uiGridCtrl){var grid=uiGridCtrl.grid;if(grid.options.enableColumnResizing){var columnResizerElm=$templateCache.get("ui-grid/columnResizer"),rtlMultiplier=1;grid.isRTL()&&($scope.position="left",rtlMultiplier=-1);var displayResizers=function(){for(var resizers=$elm[0].getElementsByClassName("ui-grid-column-resizer"),i=0;i<resizers.length;i++)angular.element(resizers[i]).remove();var otherCol=uiGridResizeColumnsService.findTargetCol($scope.col,"left",rtlMultiplier),renderContainer=$scope.col.getRenderContainer();if(otherCol&&0!==renderContainer.visibleColumnCache.indexOf($scope.col)&&otherCol.colDef.enableColumnResizing!==!1){var resizerLeft=angular.element(columnResizerElm).clone();resizerLeft.attr("position","left"),$elm.prepend(resizerLeft),$compile(resizerLeft)($scope)}if($scope.col.colDef.enableColumnResizing!==!1){var resizerRight=angular.element(columnResizerElm).clone();resizerRight.attr("position","right"),$elm.append(resizerRight),$compile(resizerRight)($scope)}};displayResizers();var waitDisplay=function(){$timeout(displayResizers)},dataChangeDereg=grid.registerDataChangeCallback(waitDisplay,[uiGridConstants.dataChange.COLUMN]);$scope.$on("$destroy",dataChangeDereg)}}}}}}]),module.directive("uiGridColumnResizer",["$document","gridUtil","uiGridConstants","uiGridResizeColumnsService",function($document,gridUtil,uiGridConstants,uiGridResizeColumnsService){var resizeOverlay=angular.element('<div class="ui-grid-resize-overlay"></div>'),resizer={priority:0,scope:{col:"=",position:"@",renderIndex:"="},require:"?^uiGrid",link:function($scope,$elm,$attrs,uiGridCtrl){function buildColumnsAndRefresh(xDiff){uiGridCtrl.grid.buildColumns().then(function(){uiGridCtrl.grid.refreshCanvas(!1).then(function(){uiGridCtrl.grid.queueGridRefresh()})})}function constrainWidth(col,width){var newWidth=width;return col.colDef.minWidth&&newWidth<col.colDef.minWidth?newWidth=col.colDef.minWidth:col.colDef.maxWidth&&newWidth>col.colDef.maxWidth&&(newWidth=col.colDef.maxWidth),newWidth}function moveFunction(event,args){event.originalEvent&&(event=event.originalEvent),event.preventDefault(),x=(event.targetTouches?event.targetTouches[0]:event).clientX-gridLeft,x<0?x=0:x>uiGridCtrl.grid.gridWidth&&(x=uiGridCtrl.grid.gridWidth);var col=uiGridResizeColumnsService.findTargetCol($scope.col,$scope.position,rtlMultiplier);if(col.colDef.enableColumnResizing!==!1){uiGridCtrl.grid.element.hasClass("column-resizing")||uiGridCtrl.grid.element.addClass("column-resizing");var xDiff=x-startX,newWidth=parseInt(col.drawnWidth+xDiff*rtlMultiplier,10);x+=(constrainWidth(col,newWidth)-newWidth)*rtlMultiplier,resizeOverlay.css({left:x+"px"}),uiGridCtrl.fireEvent(uiGridConstants.events.ITEM_DRAGGING)}}function upFunction(event,args){event.originalEvent&&(event=event.originalEvent),event.preventDefault(),uiGridCtrl.grid.element.removeClass("column-resizing"),resizeOverlay.remove(),x=(event.changedTouches?event.changedTouches[0]:event).clientX-gridLeft;var xDiff=x-startX;if(0===xDiff)return offAllEvents(),void onDownEvents();var col=uiGridResizeColumnsService.findTargetCol($scope.col,$scope.position,rtlMultiplier);if(col.colDef.enableColumnResizing!==!1){var newWidth=parseInt(col.drawnWidth+xDiff*rtlMultiplier,10);col.width=constrainWidth(col,newWidth),buildColumnsAndRefresh(xDiff),uiGridResizeColumnsService.fireColumnSizeChanged(uiGridCtrl.grid,col.colDef,xDiff),offAllEvents(),onDownEvents()}}var startX=0,x=0,gridLeft=0,rtlMultiplier=1;uiGridCtrl.grid.isRTL()&&($scope.position="left",rtlMultiplier=-1),"left"===$scope.position?$elm.addClass("left"):"right"===$scope.position&&$elm.addClass("right");var downFunction=function(event,args){event.originalEvent&&(event=event.originalEvent),event.stopPropagation(),gridLeft=uiGridCtrl.grid.element[0].getBoundingClientRect().left,startX=(event.targetTouches?event.targetTouches[0]:event).clientX-gridLeft,uiGridCtrl.grid.element.append(resizeOverlay),resizeOverlay.css({left:startX}),"touchstart"===event.type?($document.on("touchend",upFunction),$document.on("touchmove",moveFunction),$elm.off("mousedown",downFunction)):($document.on("mouseup",upFunction),$document.on("mousemove",moveFunction),$elm.off("touchstart",downFunction))},onDownEvents=function(){$elm.on("mousedown",downFunction),$elm.on("touchstart",downFunction)},offAllEvents=function(){$document.off("mouseup",upFunction),$document.off("touchend",upFunction),$document.off("mousemove",moveFunction),$document.off("touchmove",moveFunction),$elm.off("mousedown",downFunction),$elm.off("touchstart",downFunction)};onDownEvents();var dblClickFn=function(event,args){event.stopPropagation();var col=uiGridResizeColumnsService.findTargetCol($scope.col,$scope.position,rtlMultiplier);if(col.colDef.enableColumnResizing!==!1){var maxWidth=0,xDiff=0,renderContainerElm=gridUtil.closestElm($elm,".ui-grid-render-container"),cells=renderContainerElm.querySelectorAll("."+uiGridConstants.COL_CLASS_PREFIX+col.uid+" .ui-grid-cell-contents");Array.prototype.forEach.call(cells,function(cell){var menuButton;angular.element(cell).parent().hasClass("ui-grid-header-cell")&&(menuButton=angular.element(cell).parent()[0].querySelectorAll(".ui-grid-column-menu-button")),gridUtil.fakeElement(cell,{},function(newElm){var e=angular.element(newElm);e.attr("style","float: left");var width=gridUtil.elementWidth(e);if(menuButton){var menuButtonWidth=gridUtil.elementWidth(menuButton);width+=menuButtonWidth}width>maxWidth&&(maxWidth=width,xDiff=maxWidth-width)})}),col.width=constrainWidth(col,maxWidth),buildColumnsAndRefresh(xDiff),uiGridResizeColumnsService.fireColumnSizeChanged(uiGridCtrl.grid,col.colDef,xDiff)}};$elm.on("dblclick",dblClickFn),$elm.on("$destroy",function(){$elm.off("dblclick",dblClickFn),offAllEvents()})}};return resizer}])}(),function(){"use strict";var module=angular.module("ui.grid.rowEdit",["ui.grid","ui.grid.edit","ui.grid.cellNav"]);module.constant("uiGridRowEditConstants",{}),module.service("uiGridRowEditService",["$interval","$q","uiGridConstants","uiGridRowEditConstants","gridUtil",function($interval,$q,uiGridConstants,uiGridRowEditConstants,gridUtil){
var service={initializeGrid:function(scope,grid){grid.rowEdit={};var publicApi={events:{rowEdit:{saveRow:function(rowEntity){}}},methods:{rowEdit:{setSavePromise:function(rowEntity,savePromise){service.setSavePromise(grid,rowEntity,savePromise)},getDirtyRows:function(){return grid.rowEdit.dirtyRows?grid.rowEdit.dirtyRows:[]},getErrorRows:function(){return grid.rowEdit.errorRows?grid.rowEdit.errorRows:[]},flushDirtyRows:function(){return service.flushDirtyRows(grid)},setRowsDirty:function(dataRows){service.setRowsDirty(grid,dataRows)}}}};grid.api.registerEventsFromObject(publicApi.events),grid.api.registerMethodsFromObject(publicApi.methods),grid.api.core.on.renderingComplete(scope,function(gridApi){grid.api.edit.on.afterCellEdit(scope,service.endEditCell),grid.api.edit.on.beginCellEdit(scope,service.beginEditCell),grid.api.edit.on.cancelCellEdit(scope,service.cancelEditCell),grid.api.cellNav&&grid.api.cellNav.on.navigate(scope,service.navigate)})},defaultGridOptions:function(gridOptions){},saveRow:function(grid,gridRow){var self=this;return function(){if(gridRow.isSaving=!0,gridRow.rowEditSavePromise)return gridRow.rowEditSavePromise;var promise=grid.api.rowEdit.raise.saveRow(gridRow.entity);return gridRow.rowEditSavePromise?gridRow.rowEditSavePromise.then(self.processSuccessPromise(grid,gridRow),self.processErrorPromise(grid,gridRow)):gridUtil.logError("A promise was not returned when saveRow event was raised, either nobody is listening to event, or event handler did not return a promise"),promise}},setSavePromise:function(grid,rowEntity,savePromise){var gridRow=grid.getRow(rowEntity);gridRow.rowEditSavePromise=savePromise},processSuccessPromise:function(grid,gridRow){var self=this;return function(){delete gridRow.isSaving,delete gridRow.isDirty,delete gridRow.isError,delete gridRow.rowEditSaveTimer,delete gridRow.rowEditSavePromise,self.removeRow(grid.rowEdit.errorRows,gridRow),self.removeRow(grid.rowEdit.dirtyRows,gridRow)}},processErrorPromise:function(grid,gridRow){return function(){delete gridRow.isSaving,delete gridRow.rowEditSaveTimer,delete gridRow.rowEditSavePromise,gridRow.isError=!0,grid.rowEdit.errorRows||(grid.rowEdit.errorRows=[]),service.isRowPresent(grid.rowEdit.errorRows,gridRow)||grid.rowEdit.errorRows.push(gridRow)}},removeRow:function(rowArray,removeGridRow){"undefined"!=typeof rowArray&&null!==rowArray&&rowArray.forEach(function(gridRow,index){gridRow.uid===removeGridRow.uid&&rowArray.splice(index,1)})},isRowPresent:function(rowArray,removeGridRow){var present=!1;return rowArray.forEach(function(gridRow,index){gridRow.uid===removeGridRow.uid&&(present=!0)}),present},flushDirtyRows:function(grid){var promises=[];return grid.rowEdit.dirtyRows.forEach(function(gridRow){service.saveRow(grid,gridRow)(),promises.push(gridRow.rowEditSavePromise)}),$q.all(promises)},endEditCell:function(rowEntity,colDef,newValue,previousValue){var grid=this.grid,gridRow=grid.getRow(rowEntity);return gridRow?void((newValue!==previousValue||gridRow.isDirty)&&(grid.rowEdit.dirtyRows||(grid.rowEdit.dirtyRows=[]),gridRow.isDirty||(gridRow.isDirty=!0,grid.rowEdit.dirtyRows.push(gridRow)),delete gridRow.isError,service.considerSetTimer(grid,gridRow))):void gridUtil.logError("Unable to find rowEntity in grid data, dirty flag cannot be set")},beginEditCell:function(rowEntity,colDef){var grid=this.grid,gridRow=grid.getRow(rowEntity);return gridRow?void service.cancelTimer(grid,gridRow):void gridUtil.logError("Unable to find rowEntity in grid data, timer cannot be cancelled")},cancelEditCell:function(rowEntity,colDef){var grid=this.grid,gridRow=grid.getRow(rowEntity);return gridRow?void service.considerSetTimer(grid,gridRow):void gridUtil.logError("Unable to find rowEntity in grid data, timer cannot be set")},navigate:function(newRowCol,oldRowCol){var grid=this.grid;newRowCol.row.rowEditSaveTimer&&service.cancelTimer(grid,newRowCol.row),oldRowCol&&oldRowCol.row&&oldRowCol.row!==newRowCol.row&&service.considerSetTimer(grid,oldRowCol.row)},considerSetTimer:function(grid,gridRow){if(service.cancelTimer(grid,gridRow),gridRow.isDirty&&!gridRow.isSaving&&grid.options.rowEditWaitInterval!==-1){var waitTime=grid.options.rowEditWaitInterval?grid.options.rowEditWaitInterval:2e3;gridRow.rowEditSaveTimer=$interval(service.saveRow(grid,gridRow),waitTime,1)}},cancelTimer:function(grid,gridRow){gridRow.rowEditSaveTimer&&!gridRow.isSaving&&($interval.cancel(gridRow.rowEditSaveTimer),delete gridRow.rowEditSaveTimer)},setRowsDirty:function(grid,myDataRows){var gridRow;myDataRows.forEach(function(value,index){gridRow=grid.getRow(value),gridRow?(grid.rowEdit.dirtyRows||(grid.rowEdit.dirtyRows=[]),gridRow.isDirty||(gridRow.isDirty=!0,grid.rowEdit.dirtyRows.push(gridRow)),delete gridRow.isError,service.considerSetTimer(grid,gridRow)):gridUtil.logError("requested row not found in rowEdit.setRowsDirty, row was: "+value)})}};return service}]),module.directive("uiGridRowEdit",["gridUtil","uiGridRowEditService","uiGridEditConstants",function(gridUtil,uiGridRowEditService,uiGridEditConstants){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function($scope,$elm,$attrs,uiGridCtrl){uiGridRowEditService.initializeGrid($scope,uiGridCtrl.grid)},post:function($scope,$elm,$attrs,uiGridCtrl){}}}}}]),module.directive("uiGridViewport",["$compile","uiGridConstants","gridUtil","$parse",function($compile,uiGridConstants,gridUtil,$parse){return{priority:-200,scope:!1,compile:function($elm,$attrs){var rowRepeatDiv=angular.element($elm.children().children()[0]),existingNgClass=rowRepeatDiv.attr("ng-class"),newNgClass="";return newNgClass=existingNgClass?existingNgClass.slice(0,-1)+", 'ui-grid-row-dirty': row.isDirty, 'ui-grid-row-saving': row.isSaving, 'ui-grid-row-error': row.isError}":"{'ui-grid-row-dirty': row.isDirty, 'ui-grid-row-saving': row.isSaving, 'ui-grid-row-error': row.isError}",rowRepeatDiv.attr("ng-class",newNgClass),{pre:function($scope,$elm,$attrs,controllers){},post:function($scope,$elm,$attrs,controllers){}}}}}])}(),function(){"use strict";var module=angular.module("ui.grid.saveState",["ui.grid","ui.grid.selection","ui.grid.cellNav","ui.grid.grouping","ui.grid.pinning","ui.grid.treeView"]);module.constant("uiGridSaveStateConstants",{featureName:"saveState"}),module.service("uiGridSaveStateService",["$q","uiGridSaveStateConstants","gridUtil","$compile","$interval","uiGridConstants",function($q,uiGridSaveStateConstants,gridUtil,$compile,$interval,uiGridConstants){var service={initializeGrid:function(grid){grid.saveState={},this.defaultGridOptions(grid.options);var publicApi={events:{saveState:{}},methods:{saveState:{save:function(){return service.save(grid)},restore:function($scope,state){service.restore(grid,$scope,state)}}}};grid.api.registerEventsFromObject(publicApi.events),grid.api.registerMethodsFromObject(publicApi.methods)},defaultGridOptions:function(gridOptions){gridOptions.saveWidths=gridOptions.saveWidths!==!1,gridOptions.saveOrder=gridOptions.saveOrder!==!1,gridOptions.saveScroll=gridOptions.saveScroll===!0,gridOptions.saveFocus=gridOptions.saveScroll!==!0&&gridOptions.saveFocus!==!1,gridOptions.saveVisible=gridOptions.saveVisible!==!1,gridOptions.saveSort=gridOptions.saveSort!==!1,gridOptions.saveFilter=gridOptions.saveFilter!==!1,gridOptions.saveSelection=gridOptions.saveSelection!==!1,gridOptions.saveGrouping=gridOptions.saveGrouping!==!1,gridOptions.saveGroupingExpandedStates=gridOptions.saveGroupingExpandedStates===!0,gridOptions.savePinning=gridOptions.savePinning!==!1,gridOptions.saveTreeView=gridOptions.saveTreeView!==!1},save:function(grid){var savedState={};return savedState.columns=service.saveColumns(grid),savedState.scrollFocus=service.saveScrollFocus(grid),savedState.selection=service.saveSelection(grid),savedState.grouping=service.saveGrouping(grid),savedState.treeView=service.saveTreeView(grid),savedState},restore:function(grid,$scope,state){state.columns&&service.restoreColumns(grid,state.columns),state.scrollFocus&&service.restoreScrollFocus(grid,$scope,state.scrollFocus),state.selection&&service.restoreSelection(grid,state.selection),state.grouping&&service.restoreGrouping(grid,state.grouping),state.treeView&&service.restoreTreeView(grid,state.treeView),grid.refresh()},saveColumns:function(grid){var columns=[];return grid.columns.forEach(function(column){var savedColumn={};savedColumn.name=column.name,grid.options.saveVisible&&(savedColumn.visible=column.visible),grid.options.saveWidths&&(savedColumn.width=column.width),grid.options.saveSort&&(savedColumn.sort=angular.copy(column.sort)),grid.options.saveFilter&&(savedColumn.filters=angular.copy(column.filters)),grid.api.pinning&&grid.options.savePinning&&(savedColumn.pinned=column.renderContainer?column.renderContainer:""),columns.push(savedColumn)}),columns},saveScrollFocus:function(grid){if(!grid.api.cellNav)return{};var scrollFocus={};if(grid.options.saveFocus){scrollFocus.focus=!0;var rowCol=grid.api.cellNav.getFocusedCell();null!==rowCol&&(null!==rowCol.col&&(scrollFocus.colName=rowCol.col.colDef.name),null!==rowCol.row&&(scrollFocus.rowVal=service.getRowVal(grid,rowCol.row)))}return(grid.options.saveScroll||grid.options.saveFocus&&!scrollFocus.colName&&!scrollFocus.rowVal)&&(scrollFocus.focus=!1,grid.renderContainers.body.prevRowScrollIndex&&(scrollFocus.rowVal=service.getRowVal(grid,grid.renderContainers.body.visibleRowCache[grid.renderContainers.body.prevRowScrollIndex])),grid.renderContainers.body.prevColScrollIndex&&(scrollFocus.colName=grid.renderContainers.body.visibleColumnCache[grid.renderContainers.body.prevColScrollIndex].name)),scrollFocus},saveSelection:function(grid){if(!grid.api.selection||!grid.options.saveSelection)return[];var selection=grid.api.selection.getSelectedGridRows().map(function(gridRow){return service.getRowVal(grid,gridRow)});return selection},saveGrouping:function(grid){return grid.api.grouping&&grid.options.saveGrouping?grid.api.grouping.getGrouping(grid.options.saveGroupingExpandedStates):{}},saveTreeView:function(grid){return grid.api.treeView&&grid.options.saveTreeView?grid.api.treeView.getTreeView():{}},getRowVal:function(grid,gridRow){if(!gridRow)return null;var rowVal={};return grid.options.saveRowIdentity?(rowVal.identity=!0,rowVal.row=grid.options.saveRowIdentity(gridRow.entity)):(rowVal.identity=!1,rowVal.row=grid.renderContainers.body.visibleRowCache.indexOf(gridRow)),rowVal},restoreColumns:function(grid,columnsState){columnsState.forEach(function(columnState,index){var currentCol=grid.getColumn(columnState.name);if(currentCol){var currentIndex=grid.columns.indexOf(currentCol);if(!grid.options.saveVisible||grid.columns[currentIndex].visible===columnState.visible&&grid.columns[currentIndex].colDef.visible===columnState.visible||(grid.columns[currentIndex].visible=columnState.visible,grid.columns[currentIndex].colDef.visible=columnState.visible,grid.api.core.raise.columnVisibilityChanged(grid.columns[currentIndex])),grid.options.saveWidths&&(grid.columns[currentIndex].width=columnState.width),!grid.options.saveSort||angular.equals(grid.columns[currentIndex].sort,columnState.sort)||void 0===grid.columns[currentIndex].sort&&angular.isEmpty(columnState.sort)||(grid.columns[currentIndex].sort=angular.copy(columnState.sort),grid.api.core.raise.sortChanged()),grid.options.saveFilter&&!angular.equals(grid.columns[currentIndex].filters,columnState.filters)&&(grid.columns[currentIndex].filters=angular.copy(columnState.filters),grid.api.core.raise.filterChanged()),grid.api.pinning&&grid.options.savePinning&&grid.columns[currentIndex].renderContainer!==columnState.pinned&&grid.api.pinning.pinColumn(grid.columns[currentIndex],columnState.pinned),grid.options.saveOrder&&currentIndex!==index){var column=grid.columns.splice(currentIndex,1)[0];grid.columns.splice(index,0,column)}}})},restoreScrollFocus:function(grid,$scope,scrollFocusState){if(grid.api.cellNav){var colDef,row;if(scrollFocusState.colName){var colDefs=grid.options.columnDefs.filter(function(colDef){return colDef.name===scrollFocusState.colName});colDefs.length>0&&(colDef=colDefs[0])}scrollFocusState.rowVal&&scrollFocusState.rowVal.row&&(row=scrollFocusState.rowVal.identity?service.findRowByIdentity(grid,scrollFocusState.rowVal):grid.renderContainers.body.visibleRowCache[scrollFocusState.rowVal.row]);var entity=row&&row.entity?row.entity:null;(colDef||entity)&&(scrollFocusState.focus?grid.api.cellNav.scrollToFocus(entity,colDef):grid.scrollTo(entity,colDef))}},restoreSelection:function(grid,selectionState){grid.api.selection&&(grid.api.selection.clearSelectedRows(),selectionState.forEach(function(rowVal){if(rowVal.identity){var foundRow=service.findRowByIdentity(grid,rowVal);foundRow&&grid.api.selection.selectRow(foundRow.entity)}else grid.api.selection.selectRowByVisibleIndex(rowVal.row)}))},restoreGrouping:function(grid,groupingState){grid.api.grouping&&"undefined"!=typeof groupingState&&null!==groupingState&&!angular.equals(groupingState,{})&&grid.api.grouping.setGrouping(groupingState)},restoreTreeView:function(grid,treeViewState){grid.api.treeView&&"undefined"!=typeof treeViewState&&null!==treeViewState&&!angular.equals(treeViewState,{})&&grid.api.treeView.setTreeView(treeViewState)},findRowByIdentity:function(grid,rowVal){if(!grid.options.saveRowIdentity)return null;var filteredRows=grid.rows.filter(function(gridRow){return grid.options.saveRowIdentity(gridRow.entity)===rowVal.row});return filteredRows.length>0?filteredRows[0]:null}};return service}]),module.directive("uiGridSaveState",["uiGridSaveStateConstants","uiGridSaveStateService","gridUtil","$compile",function(uiGridSaveStateConstants,uiGridSaveStateService,gridUtil,$compile){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function($scope,$elm,$attrs,uiGridCtrl){uiGridSaveStateService.initializeGrid(uiGridCtrl.grid)}}}])}(),function(){"use strict";var module=angular.module("ui.grid.selection",["ui.grid"]);module.constant("uiGridSelectionConstants",{featureName:"selection",selectionRowHeaderColName:"selectionRowHeaderCol"}),angular.module("ui.grid").config(["$provide",function($provide){$provide.decorator("GridRow",["$delegate",function($delegate){return $delegate.prototype.setSelected=function(selected){this.isSelected=selected,selected?this.grid.selection.selectedCount++:this.grid.selection.selectedCount--},$delegate}])}]),module.service("uiGridSelectionService",["$q","$templateCache","uiGridSelectionConstants","gridUtil",function($q,$templateCache,uiGridSelectionConstants,gridUtil){var service={initializeGrid:function(grid){grid.selection={},grid.selection.lastSelectedRow=null,grid.selection.selectAll=!1,grid.selection.selectedCount=0,service.defaultGridOptions(grid.options);var publicApi={events:{selection:{rowSelectionChanged:function(scope,row,evt){},rowSelectionChangedBatch:function(scope,rows,evt){}}},methods:{selection:{toggleRowSelection:function(rowEntity,evt){var row=grid.getRow(rowEntity);null!==row&&row.enableSelection!==!1&&service.toggleRowSelection(grid,row,evt,grid.options.multiSelect,grid.options.noUnselect)},selectRow:function(rowEntity,evt){var row=grid.getRow(rowEntity);null===row||row.isSelected||row.enableSelection===!1||service.toggleRowSelection(grid,row,evt,grid.options.multiSelect,grid.options.noUnselect)},selectRowByVisibleIndex:function(rowNum,evt){var row=grid.renderContainers.body.visibleRowCache[rowNum];null===row||"undefined"==typeof row||row.isSelected||row.enableSelection===!1||service.toggleRowSelection(grid,row,evt,grid.options.multiSelect,grid.options.noUnselect)},unSelectRow:function(rowEntity,evt){var row=grid.getRow(rowEntity);null!==row&&row.isSelected&&service.toggleRowSelection(grid,row,evt,grid.options.multiSelect,grid.options.noUnselect)},selectAllRows:function(evt){if(grid.options.multiSelect!==!1){var changedRows=[];grid.rows.forEach(function(row){row.isSelected||row.enableSelection===!1||(row.setSelected(!0),service.decideRaiseSelectionEvent(grid,row,changedRows,evt))}),service.decideRaiseSelectionBatchEvent(grid,changedRows,evt),grid.selection.selectAll=!0}},selectAllVisibleRows:function(evt){if(grid.options.multiSelect!==!1){var changedRows=[];grid.rows.forEach(function(row){row.visible?row.isSelected||row.enableSelection===!1||(row.setSelected(!0),service.decideRaiseSelectionEvent(grid,row,changedRows,evt)):row.isSelected&&(row.setSelected(!1),service.decideRaiseSelectionEvent(grid,row,changedRows,evt))}),service.decideRaiseSelectionBatchEvent(grid,changedRows,evt),grid.selection.selectAll=!0}},clearSelectedRows:function(evt){service.clearSelectedRows(grid,evt)},getSelectedRows:function(){return service.getSelectedRows(grid).map(function(gridRow){return gridRow.entity})},getSelectedGridRows:function(){return service.getSelectedRows(grid)},setMultiSelect:function(multiSelect){grid.options.multiSelect=multiSelect},setModifierKeysToMultiSelect:function(modifierKeysToMultiSelect){grid.options.modifierKeysToMultiSelect=modifierKeysToMultiSelect},getSelectAllState:function(){return grid.selection.selectAll}}}};grid.api.registerEventsFromObject(publicApi.events),grid.api.registerMethodsFromObject(publicApi.methods)},defaultGridOptions:function(gridOptions){gridOptions.enableRowSelection=gridOptions.enableRowSelection!==!1,gridOptions.multiSelect=gridOptions.multiSelect!==!1,gridOptions.noUnselect=gridOptions.noUnselect===!0,gridOptions.modifierKeysToMultiSelect=gridOptions.modifierKeysToMultiSelect===!0,gridOptions.enableRowHeaderSelection=gridOptions.enableRowHeaderSelection!==!1,gridOptions.enableSelectAll=gridOptions.enableSelectAll!==!1,gridOptions.enableSelectionBatchEvent=gridOptions.enableSelectionBatchEvent!==!1,gridOptions.selectionRowHeaderWidth=angular.isDefined(gridOptions.selectionRowHeaderWidth)?gridOptions.selectionRowHeaderWidth:30,gridOptions.enableFooterTotalSelected=gridOptions.enableFooterTotalSelected!==!1,gridOptions.isRowSelectable=angular.isDefined(gridOptions.isRowSelectable)?gridOptions.isRowSelectable:angular.noop},toggleRowSelection:function(grid,row,evt,multiSelect,noUnselect){var selected=row.isSelected;if(multiSelect||selected){if(!multiSelect&&selected){var selectedRows=service.getSelectedRows(grid);selectedRows.length>1&&(selected=!1,service.clearSelectedRows(grid,evt))}}else service.clearSelectedRows(grid,evt);selected&&noUnselect||row.enableSelection!==!1&&(row.setSelected(!selected),row.isSelected===!0?grid.selection.lastSelectedRow=row:grid.selection.selectAll=!1,grid.api.selection.raise.rowSelectionChanged(row,evt))},shiftSelect:function(grid,row,evt,multiSelect){if(multiSelect){var selectedRows=service.getSelectedRows(grid),fromRow=selectedRows.length>0?grid.renderContainers.body.visibleRowCache.indexOf(grid.selection.lastSelectedRow):0,toRow=grid.renderContainers.body.visibleRowCache.indexOf(row);if(fromRow>toRow){var tmp=fromRow;fromRow=toRow,toRow=tmp}for(var changedRows=[],i=fromRow;i<=toRow;i++){var rowToSelect=grid.renderContainers.body.visibleRowCache[i];rowToSelect&&(rowToSelect.isSelected||rowToSelect.enableSelection===!1||(rowToSelect.setSelected(!0),grid.selection.lastSelectedRow=rowToSelect,service.decideRaiseSelectionEvent(grid,rowToSelect,changedRows,evt)))}service.decideRaiseSelectionBatchEvent(grid,changedRows,evt)}},getSelectedRows:function(grid){return grid.rows.filter(function(row){return row.isSelected})},clearSelectedRows:function(grid,evt){var changedRows=[];service.getSelectedRows(grid).forEach(function(row){row.isSelected&&(row.setSelected(!1),service.decideRaiseSelectionEvent(grid,row,changedRows,evt))}),service.decideRaiseSelectionBatchEvent(grid,changedRows,evt),grid.selection.selectAll=!1},decideRaiseSelectionEvent:function(grid,row,changedRows,evt){grid.options.enableSelectionBatchEvent?changedRows.push(row):grid.api.selection.raise.rowSelectionChanged(row,evt)},decideRaiseSelectionBatchEvent:function(grid,changedRows,evt){changedRows.length>0&&grid.api.selection.raise.rowSelectionChangedBatch(changedRows,evt)}};return service}]),module.directive("uiGridSelection",["uiGridSelectionConstants","uiGridSelectionService","$templateCache","uiGridConstants",function(uiGridSelectionConstants,uiGridSelectionService,$templateCache,uiGridConstants){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function($scope,$elm,$attrs,uiGridCtrl){if(uiGridSelectionService.initializeGrid(uiGridCtrl.grid),uiGridCtrl.grid.options.enableRowHeaderSelection){var selectionRowHeaderDef={name:uiGridSelectionConstants.selectionRowHeaderColName,displayName:"",width:uiGridCtrl.grid.options.selectionRowHeaderWidth,minWidth:10,cellTemplate:"ui-grid/selectionRowHeader",headerCellTemplate:"ui-grid/selectionHeaderCell",enableColumnResizing:!1,enableColumnMenu:!1,exporterSuppressExport:!0,allowCellFocus:!0};uiGridCtrl.grid.addRowHeaderColumn(selectionRowHeaderDef)}var processorSet=!1,processSelectableRows=function(rows){return rows.forEach(function(row){row.enableSelection=uiGridCtrl.grid.options.isRowSelectable(row)}),rows},updateOptions=function(){uiGridCtrl.grid.options.isRowSelectable!==angular.noop&&processorSet!==!0&&(uiGridCtrl.grid.registerRowsProcessor(processSelectableRows,500),processorSet=!0)};updateOptions();var dataChangeDereg=uiGridCtrl.grid.registerDataChangeCallback(updateOptions,[uiGridConstants.dataChange.OPTIONS]);$scope.$on("$destroy",dataChangeDereg)},post:function($scope,$elm,$attrs,uiGridCtrl){}}}}}]),module.directive("uiGridSelectionRowHeaderButtons",["$templateCache","uiGridSelectionService",function($templateCache,uiGridSelectionService){return{replace:!0,restrict:"E",template:$templateCache.get("ui-grid/selectionRowHeaderButtons"),scope:!0,require:"^uiGrid",link:function($scope,$elm,$attrs,uiGridCtrl){var self=uiGridCtrl.grid;$scope.selectButtonClick=function(row,evt){evt.stopPropagation(),evt.shiftKey?uiGridSelectionService.shiftSelect(self,row,evt,self.options.multiSelect):evt.ctrlKey||evt.metaKey?uiGridSelectionService.toggleRowSelection(self,row,evt,self.options.multiSelect,self.options.noUnselect):uiGridSelectionService.toggleRowSelection(self,row,evt,self.options.multiSelect&&!self.options.modifierKeysToMultiSelect,self.options.noUnselect)}}}}]),module.directive("uiGridSelectionSelectAllButtons",["$templateCache","uiGridSelectionService",function($templateCache,uiGridSelectionService){return{replace:!0,restrict:"E",template:$templateCache.get("ui-grid/selectionSelectAllButtons"),scope:!1,link:function($scope,$elm,$attrs,uiGridCtrl){var self=$scope.col.grid;$scope.headerButtonClick=function(row,evt){self.selection.selectAll?(uiGridSelectionService.clearSelectedRows(self,evt),self.options.noUnselect&&self.api.selection.selectRowByVisibleIndex(0,evt),self.selection.selectAll=!1):self.options.multiSelect&&(self.api.selection.selectAllVisibleRows(evt),self.selection.selectAll=!0)}}}}]),module.directive("uiGridViewport",["$compile","uiGridConstants","uiGridSelectionConstants","gridUtil","$parse","uiGridSelectionService",function($compile,uiGridConstants,uiGridSelectionConstants,gridUtil,$parse,uiGridSelectionService){return{priority:-200,scope:!1,compile:function($elm,$attrs){var rowRepeatDiv=angular.element($elm.children().children()[0]),existingNgClass=rowRepeatDiv.attr("ng-class"),newNgClass="";return newNgClass=existingNgClass?existingNgClass.slice(0,-1)+",'ui-grid-row-selected': row.isSelected}":"{'ui-grid-row-selected': row.isSelected}",rowRepeatDiv.attr("ng-class",newNgClass),{pre:function($scope,$elm,$attrs,controllers){},post:function($scope,$elm,$attrs,controllers){}}}}}]),module.directive("uiGridCell",["$compile","uiGridConstants","uiGridSelectionConstants","gridUtil","$parse","uiGridSelectionService","$timeout",function($compile,uiGridConstants,uiGridSelectionConstants,gridUtil,$parse,uiGridSelectionService,$timeout){return{priority:-200,restrict:"A",require:"?^uiGrid",scope:!1,link:function($scope,$elm,$attrs,uiGridCtrl){function registerRowSelectionEvents(){$scope.grid.options.enableRowSelection&&!$scope.grid.options.enableRowHeaderSelection&&($elm.addClass("ui-grid-disable-selection"),$elm.on("touchstart",touchStart),$elm.on("touchend",touchEnd),$elm.on("click",selectCells),$scope.registered=!0)}function deregisterRowSelectionEvents(){$scope.registered&&($elm.removeClass("ui-grid-disable-selection"),$elm.off("touchstart",touchStart),$elm.off("touchend",touchEnd),$elm.off("click",selectCells),$scope.registered=!1)}var touchStartTime=0,touchTimeout=300;uiGridCtrl.grid.api.cellNav&&uiGridCtrl.grid.api.cellNav.on.viewPortKeyDown($scope,function(evt,rowCol){null!==rowCol&&rowCol.row===$scope.row&&rowCol.col===$scope.col&&32===evt.keyCode&&"selectionRowHeaderCol"===$scope.col.colDef.name&&(uiGridSelectionService.toggleRowSelection($scope.grid,$scope.row,evt,$scope.grid.options.multiSelect&&!$scope.grid.options.modifierKeysToMultiSelect,$scope.grid.options.noUnselect),$scope.$apply())});var selectCells=function(evt){$elm.off("touchend",touchEnd),evt.shiftKey?uiGridSelectionService.shiftSelect($scope.grid,$scope.row,evt,$scope.grid.options.multiSelect):evt.ctrlKey||evt.metaKey?uiGridSelectionService.toggleRowSelection($scope.grid,$scope.row,evt,$scope.grid.options.multiSelect,$scope.grid.options.noUnselect):uiGridSelectionService.toggleRowSelection($scope.grid,$scope.row,evt,$scope.grid.options.multiSelect&&!$scope.grid.options.modifierKeysToMultiSelect,$scope.grid.options.noUnselect),$scope.$apply(),$timeout(function(){$elm.on("touchend",touchEnd)},touchTimeout)},touchStart=function(evt){touchStartTime=(new Date).getTime(),$elm.off("click",selectCells)},touchEnd=function(evt){var touchEndTime=(new Date).getTime(),touchTime=touchEndTime-touchStartTime;touchTime<touchTimeout&&selectCells(evt),$timeout(function(){$elm.on("click",selectCells)},touchTimeout)};registerRowSelectionEvents();var dataChangeDereg=$scope.grid.registerDataChangeCallback(function(){!$scope.grid.options.enableRowSelection||$scope.grid.options.enableRowHeaderSelection||$scope.registered?$scope.grid.options.enableRowSelection&&!$scope.grid.options.enableRowHeaderSelection||!$scope.registered||deregisterRowSelectionEvents():registerRowSelectionEvents()},[uiGridConstants.dataChange.OPTIONS]);$elm.on("$destroy",dataChangeDereg)}}}]),module.directive("uiGridGridFooter",["$compile","uiGridConstants","gridUtil",function($compile,uiGridConstants,gridUtil){return{restrict:"EA",replace:!0,priority:-1e3,require:"^uiGrid",scope:!0,compile:function($elm,$attrs){return{pre:function($scope,$elm,$attrs,uiGridCtrl){uiGridCtrl.grid.options.showGridFooter&&gridUtil.getTemplate("ui-grid/gridFooterSelectedItems").then(function(contents){var template=angular.element(contents),newElm=$compile(template)($scope);angular.element($elm[0].getElementsByClassName("ui-grid-grid-footer")[0]).append(newElm)})},post:function($scope,$elm,$attrs,controllers){}}}}}])}(),function(){"use strict";var module=angular.module("ui.grid.treeView",["ui.grid"]);module.constant("uiGridTreeViewConstants",{featureName:"treeView",treeViewRowHeaderColName:"treeViewRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed"}),module.service("uiGridTreeViewService",["$q","uiGridTreeViewConstants","gridUtil","GridRow","gridClassFactory","i18nService","uiGridConstants",function($q,uiGridTreeViewConstants,gridUtil,GridRow,gridClassFactory,i18nService,uiGridConstants){var service={initializeGrid:function(grid,$scope){grid.treeView={},grid.treeView.numberLevels=0,grid.treeView.expandAll=!1,grid.treeView.rowExpandedStates={},service.defaultGridOptions(grid.options),grid.registerRowsProcessor(service.treeRows,410);var publicApi={events:{treeView:{rowExpanded:{},rowCollapsed:{}}},methods:{treeView:{expandAllRows:function(){service.expandAllRows(grid)},collapseAllRows:function(){service.collapseAllRows(grid)},toggleRowTreeViewState:function(row){service.toggleRowTreeViewState(grid,row)},expandRow:function(row){service.expandRow(grid,row)},expandRowChildren:function(row){service.expandRowChildren(grid,row)},collapseRow:function(row){service.collapseRow(grid,row)},collapseRowChildren:function(row){service.collapseRowChildren(grid,row)},getTreeView:function(){return{expandedState:grid.treeView.rowExpandedStates}},setTreeView:function(config){"undefined"!=typeof config.expandedState&&(grid.treeView.rowExpandedStates=config.expandedState)}}}};grid.api.registerEventsFromObject(publicApi.events),grid.api.registerMethodsFromObject(publicApi.methods)},defaultGridOptions:function(gridOptions){gridOptions.enableTreeView=gridOptions.enableTreeView!==!1,gridOptions.treeViewRowHeaderBaseWidth=gridOptions.treeViewRowHeaderBaseWidth||30,gridOptions.treeViewIndent=gridOptions.treeViewIndent||10,gridOptions.showTreeViewRowHeader=gridOptions.showTreeViewRowHeader!==!1},expandAllRows:function(grid){service.setAllNodes(grid,grid.treeView.rowExpandedStates,uiGridTreeViewConstants.EXPANDED),grid.queueGridRefresh()},collapseAllRows:function(grid){service.setAllNodes(grid,grid.treeView.rowExpandedStates,uiGridTreeViewConstants.COLLAPSED),grid.queueGridRefresh()},setAllNodes:function(grid,expandedStatesSubset,targetState){"undefined"!=typeof expandedStatesSubset.state&&expandedStatesSubset.state!==targetState&&(expandedStatesSubset.state=targetState,targetState===uiGridTreeViewConstants.EXPANDED?grid.api.treeView.raise.rowExpanded(expandedStatesSubset.row):grid.api.treeView.raise.rowCollapsed(expandedStatesSubset.row)),angular.forEach(expandedStatesSubset,function(childNode,key){"state"!==key&&"row"!==key&&service.setAllNodes(grid,childNode,targetState)})},toggleRowTreeViewState:function(grid,row){"undefined"==typeof row.treeLevel||null===row.treeLevel||row.treeLevel<0||(row.treeExpandedState.state===uiGridTreeViewConstants.EXPANDED?service.collapseRow(grid,row):service.expandRow(grid,row),grid.queueGridRefresh())},expandRow:function(grid,row){"undefined"==typeof row.treeLevel||null===row.treeLevel||row.treeLevel<0||row.treeExpandedState.state!==uiGridTreeViewConstants.EXPANDED&&(row.treeExpandedState.state=uiGridTreeViewConstants.EXPANDED,grid.api.treeView.raise.rowExpanded(row),grid.queueGridRefresh())},expandRowChildren:function(grid,row){"undefined"==typeof row.treeLevel||null===row.treeLevel||row.treeLevel<0||(service.setAllNodes(grid,row.treeExpandedState,uiGridTreeViewConstants.EXPANDED),grid.queueGridRefresh())},collapseRow:function(grid,row){"undefined"==typeof row.treeLevel||null===row.treeLevel||row.treeLevel<0||row.treeExpandedState.state!==uiGridTreeViewConstants.COLLAPSED&&(row.treeExpandedState.state=uiGridTreeViewConstants.COLLAPSED,grid.api.treeView.raise.rowCollapsed(row),grid.queueGridRefresh())},collapseRowChildren:function(grid,row){"undefined"==typeof row.treeLevel||null===row.treeLevel||row.treeLevel<0||(service.setAllNodes(grid,row.treeExpandedState,uiGridTreeViewConstants.COLLAPSED),grid.queueGridRefresh())},treeRows:function(renderableRows){if(0===renderableRows.length)return renderableRows;var grid=this,currentLevel=0,currentState=uiGridTreeViewConstants.EXPANDED,parents=[],updateState=function(row){if(row.treeLevel=row.entity.$$treeLevel,row.visible){if(row.treeLevel<=currentLevel){for(;row.treeLevel<=currentLevel;)parents.pop(),currentLevel--;currentState=parents.length>0?service.setCurrentState(parents):uiGridTreeViewConstants.EXPANDED}currentState===uiGridTreeViewConstants.COLLAPSED?row.visible=!1:row.visible=!0,"undefined"!=typeof row.treeLevel&&row.treeLevel>-1&&(service.addOrUseState(grid,row,parents),currentLevel++,currentState=service.setCurrentState(parents)),grid.treeView.numberLevels<row.treeLevel&&(grid.treeView.numberLevels=row.treeLevel)}};renderableRows.forEach(updateState);var newWidth=grid.options.treeViewRowHeaderBaseWidth+grid.options.treeViewIndent*grid.treeView.numberLevels,rowHeader=grid.getColumn(uiGridTreeViewConstants.treeViewRowHeaderColName);return rowHeader&&newWidth!==rowHeader.width&&(rowHeader.width=newWidth,grid.queueRefresh()),renderableRows.filter(function(row){return row.visible})},addOrUseState:function(grid,row,parents){if(0===row.entity.$$treeLevel)"undefined"==typeof grid.treeView.rowExpandedStates[row.uid]&&(grid.treeView.rowExpandedStates[row.uid]={
state:uiGridTreeViewConstants.COLLAPSED,row:row}),row.treeExpandedState=grid.treeView.rowExpandedStates[row.uid];else{var parentState=parents[parents.length-1].treeExpandedState;"undefined"==typeof parentState[row.uid]&&(parentState[row.uid]={state:parentState.state,row:row}),row.treeExpandedState=parentState[row.uid]}parents.push(row)},setCurrentState:function(parents){var currentState=uiGridTreeViewConstants.EXPANDED;return parents.forEach(function(parent){parent.treeExpandedState.state===uiGridTreeViewConstants.COLLAPSED&&(currentState=uiGridTreeViewConstants.COLLAPSED)}),currentState}};return service}]),module.directive("uiGridTreeView",["uiGridTreeViewConstants","uiGridTreeViewService","$templateCache",function(uiGridTreeViewConstants,uiGridTreeViewService,$templateCache){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function($scope,$elm,$attrs,uiGridCtrl){if(uiGridCtrl.grid.options.enableTreeView!==!1&&(uiGridTreeViewService.initializeGrid(uiGridCtrl.grid,$scope),uiGridCtrl.grid.options.showTreeViewRowHeader)){var treeViewRowHeaderDef={name:uiGridTreeViewConstants.treeViewRowHeaderColName,displayName:"",width:uiGridCtrl.grid.options.treeViewRowHeaderBaseWidth,minWidth:10,cellTemplate:"ui-grid/treeViewRowHeader",headerCellTemplate:"ui-grid/treeViewHeaderCell",enableColumnResizing:!1,enableColumnMenu:!1,exporterSuppressExport:!0,allowCellFocus:!0};uiGridCtrl.grid.addRowHeaderColumn(treeViewRowHeaderDef)}},post:function($scope,$elm,$attrs,uiGridCtrl){}}}}}]),module.directive("uiGridTreeViewRowHeaderButtons",["$templateCache","uiGridTreeViewService",function($templateCache,uiGridTreeViewService){return{replace:!0,restrict:"E",template:$templateCache.get("ui-grid/treeViewRowHeaderButtons"),scope:!0,require:"^uiGrid",link:function($scope,$elm,$attrs,uiGridCtrl){var self=uiGridCtrl.grid;$scope.treeViewButtonClick=function(row,evt){uiGridTreeViewService.toggleRowTreeViewState(self,row,evt)}}}}]),module.directive("uiGridTreeViewExpandAllButtons",["$templateCache","uiGridTreeViewService",function($templateCache,uiGridTreeViewService){return{replace:!0,restrict:"E",template:$templateCache.get("ui-grid/treeViewExpandAllButtons"),scope:!1,link:function($scope,$elm,$attrs,uiGridCtrl){var self=$scope.col.grid;$scope.headerButtonClick=function(row,evt){self.treeView.expandAll?(uiGridTreeViewService.collapseAllRows(self,evt),self.treeView.expandAll=!1):(uiGridTreeViewService.expandAllRows(self,evt),self.treeView.expandAll=!0)}}}}]),module.directive("uiGridViewport",["$compile","uiGridConstants","uiGridTreeViewConstants","gridUtil","$parse","uiGridTreeViewService",function($compile,uiGridConstants,uiGridTreeViewConstants,gridUtil,$parse,uiGridTreeViewService){return{priority:-200,scope:!1,compile:function($elm,$attrs){var rowRepeatDiv=angular.element($elm.children().children()[0]),existingNgClass=rowRepeatDiv.attr("ng-class"),newNgClass="";return newNgClass=existingNgClass?existingNgClass.slice(0,-1)+",'ui-grid-tree-view-header-row': row.treeLevel > -1}":"{'ui-grid-tree-view-header-row': row.treeLevel > -1}",rowRepeatDiv.attr("ng-class",newNgClass),{pre:function($scope,$elm,$attrs,controllers){},post:function($scope,$elm,$attrs,controllers){}}}}}])}(),angular.module("ui.grid").run(["$templateCache",function($templateCache){"use strict";$templateCache.put("ui-grid/ui-grid-filter",'<div class="ui-grid-filter-container" ng-repeat="colFilter in col.filters" ng-class="{\'ui-grid-filter-cancel-button-hidden\' : colFilter.disableCancelFilterButton === true }"><div ng-if="colFilter.type !== \'select\'"><input type="text" class="ui-grid-filter-input" ng-model="colFilter.term" ng-attr-placeholder="{{colFilter.placeholder || \'\'}}"><div class="ui-grid-filter-button" ng-click="colFilter.term = null" ng-if="!colFilter.disableCancelFilterButton"><i class="ui-grid-icon-cancel" ng-show="colFilter.term !== undefined && colFilter.term != null">&nbsp;</i></div></div><div ng-if="colFilter.type === \'select\'"><select class="ui-grid-filter-select" ng-model="colFilter.term" ng-attr-placeholder="{{colFilter.placeholder || \'\'}}" ng-options="option.value as option.label for option in colFilter.selectOptions"><option value=""></option></select><div class="ui-grid-filter-button-select" ng-click="colFilter.term = null" ng-if="!colFilter.disableCancelFilterButton"><i class="ui-grid-icon-cancel" ng-show="colFilter.term !== undefined && colFilter.term != null">&nbsp;</i></div></div></div>'),$templateCache.put("ui-grid/ui-grid-footer",'<div class="ui-grid-footer-panel ui-grid-footer-aggregates-row"><div class="ui-grid-footer ui-grid-footer-viewport"><div class="ui-grid-footer-canvas"><div class="ui-grid-footer-cell-wrapper" ng-style="colContainer.headerCellWrapperStyle()"><div class="ui-grid-footer-cell-row"><div ng-repeat="col in colContainer.renderedColumns track by col.colDef.name" ui-grid-footer-cell col="col" render-index="$index" class="ui-grid-footer-cell ui-grid-clearfix"></div></div></div></div></div></div>'),$templateCache.put("ui-grid/ui-grid-grid-footer",'<div class="ui-grid-footer-info ui-grid-grid-footer"><span>{{\'search.totalItems\' | t}} {{grid.rows.length}}</span> <span ng-if="grid.renderContainers.body.visibleRowCache.length !== grid.rows.length" class="ngLabel">({{"search.showingItems" | t}} {{grid.renderContainers.body.visibleRowCache.length}})</span></div>'),$templateCache.put("ui-grid/ui-grid-group-panel",'<div class="ui-grid-group-panel"><div ui-t="groupPanel.description" class="description" ng-show="groupings.length == 0"></div><ul ng-show="groupings.length > 0" class="ngGroupList"><li class="ngGroupItem" ng-repeat="group in configGroups"><span class="ngGroupElement"><span class="ngGroupName">{{group.displayName}} <span ng-click="removeGroup($index)" class="ngRemoveGroup">x</span></span> <span ng-hide="$last" class="ngGroupArrow"></span></span></li></ul></div>'),$templateCache.put("ui-grid/ui-grid-header",'<div class="ui-grid-header"><div class="ui-grid-top-panel"><div class="ui-grid-header-viewport"><div class="ui-grid-header-canvas"><div class="ui-grid-header-cell-wrapper" ng-style="colContainer.headerCellWrapperStyle()"><div class="ui-grid-header-cell-row"><div class="ui-grid-header-cell ui-grid-clearfix" ng-repeat="col in colContainer.renderedColumns track by col.colDef.name" ui-grid-header-cell col="col" render-index="$index"></div></div></div></div></div></div></div>'),$templateCache.put("ui-grid/ui-grid-menu-button",'<div class="ui-grid-menu-button" ng-click="toggleMenu()"><div class="ui-grid-icon-container"><i class="ui-grid-icon-menu">&nbsp;</i></div><div ui-grid-menu menu-items="menuItems"></div></div>'),$templateCache.put("ui-grid/ui-grid-no-header",'<div class="ui-grid-top-panel"></div>'),$templateCache.put("ui-grid/ui-grid-row",'<div ng-repeat="(colRenderIndex, col) in colContainer.renderedColumns track by col.colDef.name" class="ui-grid-cell" ng-class="{ \'ui-grid-row-header-cell\': col.isRowHeader }" ui-grid-cell></div>'),$templateCache.put("ui-grid/ui-grid",'<div ui-i18n="en" class="ui-grid"><!-- TODO (c0bra): add "scoped" attr here, eventually? --><style ui-grid-style>.grid{{ grid.id }} {\n      /* Styles for the grid */\n    }\n\n    .grid{{ grid.id }} .ui-grid-row, .grid{{ grid.id }} .ui-grid-cell, .grid{{ grid.id }} .ui-grid-cell .ui-grid-vertical-bar {\n      height: {{ grid.options.rowHeight }}px;\n    }\n\n    .grid{{ grid.id }} .ui-grid-row:last-child .ui-grid-cell {\n      border-bottom-width: {{ ((grid.getTotalRowHeight() < grid.getViewportHeight()) && \'1\') || \'0\' }}px;\n    }\n\n    {{ grid.verticalScrollbarStyles }}\n    {{ grid.horizontalScrollbarStyles }}\n\n    /*\n    .ui-grid[dir=rtl] .ui-grid-viewport {\n      padding-left: {{ grid.verticalScrollbarWidth }}px;\n    }\n    */\n\n    {{ grid.customStyles }}</style><div ui-grid-menu-button ng-if="grid.options.enableGridMenu"></div><div ng-if="grid.hasLeftContainer()" style="width: 0" ui-grid-pinned-container="\'left\'"></div><div ui-grid-render-container container-id="\'body\'" col-container-name="\'body\'" row-container-name="\'body\'" bind-scroll-horizontal="true" bind-scroll-vertical="true" enable-horizontal-scrollbar="grid.options.enableHorizontalScrollbar" enable-vertical-scrollbar="grid.options.enableVerticalScrollbar"></div><div ng-if="grid.hasRightContainer()" style="width: 0" ui-grid-pinned-container="\'right\'"></div><div ui-grid-grid-footer ng-if="grid.options.showGridFooter"></div><div ui-grid-column-menu ng-if="grid.options.enableColumnMenus"></div><div ng-transclude></div></div>'),$templateCache.put("ui-grid/uiGridCell",'<div class="ui-grid-cell-contents" title="TOOLTIP">{{COL_FIELD CUSTOM_FILTERS}}</div>'),$templateCache.put("ui-grid/uiGridColumnMenu",'<div class="ui-grid-column-menu"><div ui-grid-menu menu-items="menuItems"><!-- <div class="ui-grid-column-menu">\n    <div class="inner" ng-show="menuShown">\n      <ul>\n        <div ng-show="grid.options.enableSorting">\n          <li ng-click="sortColumn($event, asc)" ng-class="{ \'selected\' : col.sort.direction == asc }"><i class="ui-grid-icon-sort-alt-up"></i> Sort Ascending</li>\n          <li ng-click="sortColumn($event, desc)" ng-class="{ \'selected\' : col.sort.direction == desc }"><i class="ui-grid-icon-sort-alt-down"></i> Sort Descending</li>\n          <li ng-show="col.sort.direction" ng-click="unsortColumn()"><i class="ui-grid-icon-cancel"></i> Remove Sort</li>\n        </div>\n      </ul>\n    </div>\n  </div> --></div></div>'),$templateCache.put("ui-grid/uiGridFooterCell",'<div class="ui-grid-cell-contents" col-index="renderIndex"><div>{{ col.getAggregationText() + ( col.getAggregationValue() CUSTOM_FILTERS ) }}</div></div>'),$templateCache.put("ui-grid/uiGridHeaderCell",'<div ng-class="{ \'sortable\': sortable }"><!-- <div class="ui-grid-vertical-bar">&nbsp;</div> --><div class="ui-grid-cell-contents" col-index="renderIndex"><span>{{ col.displayName CUSTOM_FILTERS }}</span> <span ui-grid-visible="col.sort.direction" ng-class="{ \'ui-grid-icon-up-dir\': col.sort.direction == asc, \'ui-grid-icon-down-dir\': col.sort.direction == desc, \'ui-grid-icon-blank\': !col.sort.direction }">&nbsp;</span></div><div class="ui-grid-column-menu-button" ng-if="grid.options.enableColumnMenus && !col.isRowHeader  && col.colDef.enableColumnMenu !== false" ng-click="toggleMenu($event)" ng-class="{\'ui-grid-column-menu-button-last-col\': isLastCol}"><i class="ui-grid-icon-angle-down">&nbsp;</i></div><div ui-grid-filter></div></div>'),$templateCache.put("ui-grid/uiGridMenu",'<div class="ui-grid-menu" ng-if="shown"><div class="ui-grid-menu-mid" ng-show="shownMid"><div class="ui-grid-menu-inner"><ul class="ui-grid-menu-items"><li ng-repeat="item in menuItems" ui-grid-menu-item action="item.action" name="item.title" active="item.active" icon="item.icon" shown="item.shown" context="item.context" template-url="item.templateUrl" leave-open="item.leaveOpen"></li></ul></div></div></div>'),$templateCache.put("ui-grid/uiGridMenuItem",'<li class="ui-grid-menu-item" ng-click="itemAction($event, title)" ng-show="itemShown()" ng-class="{ \'ui-grid-menu-item-active\' : active() }"><i ng-class="icon"></i> {{ name }}</li>'),$templateCache.put("ui-grid/uiGridRenderContainer","<div class=\"ui-grid-render-container\" ng-style=\"{ 'margin-left': colContainer.getMargin('left') + 'px', 'margin-right': colContainer.getMargin('right') + 'px' }\"><div ui-grid-header></div><div ui-grid-viewport></div><div ui-grid-footer ng-if=\"grid.options.showColumnFooter\"></div></div>"),$templateCache.put("ui-grid/uiGridViewport",'<div class="ui-grid-viewport" ng-style="colContainer.getViewportStyle()"><div class="ui-grid-canvas"><div ng-repeat="(rowRenderIndex, row) in rowContainer.renderedRows track by $index" class="ui-grid-row" ng-style="Viewport.rowStyle(rowRenderIndex)"><div ui-grid-row="row" row-render-index="rowRenderIndex"></div></div></div></div>'),$templateCache.put("ui-grid/cellEditor",'<div><form name="inputForm"><input type="INPUT_TYPE" ng-class="\'colt\' + col.uid" ui-grid-editor ng-model="MODEL_COL_FIELD"></form></div>'),$templateCache.put("ui-grid/dropdownEditor",'<div><form name="inputForm"><select ng-class="\'colt\' + col.uid" ui-grid-edit-dropdown ng-model="MODEL_COL_FIELD" ng-options="field[editDropdownIdLabel] as field[editDropdownValueLabel] CUSTOM_FILTERS for field in editDropdownOptionsArray"></select></form></div>'),$templateCache.put("ui-grid/fileChooserEditor",'<div><form name="inputForm"><input ng-class="\'colt\' + col.uid" ui-grid-edit-file-chooser type="file" id="files" name="files[]" ng-model="MODEL_COL_FIELD"></form></div>'),$templateCache.put("ui-grid/expandableRow",'<div ui-grid-expandable-row ng-if="expandableRow.shouldRenderExpand()" class="expandableRow" style="float:left; margin-top: 1px; margin-bottom: 1px" ng-style="{width: (grid.renderContainers.body.getCanvasWidth()) + \'px\'\n     , height: grid.options.expandableRowHeight + \'px\'}"></div>'),$templateCache.put("ui-grid/expandableRowHeader",'<div class="ui-grid-row-header-cell ui-grid-expandable-buttons-cell"><div class="ui-grid-cell-contents"><i ng-class="{ \'ui-grid-icon-plus-squared\' : !row.isExpanded, \'ui-grid-icon-minus-squared\' : row.isExpanded }" ng-click="grid.api.expandable.toggleRowExpansion(row.entity)"></i></div></div>'),$templateCache.put("ui-grid/expandableScrollFiller","<div ng-if=\"expandableRow.shouldRenderFiller()\" ng-class=\"{scrollFiller:true, scrollFillerClass:(colContainer.name === 'body')}\" ng-style=\"{ width: (grid.getViewportWidth()) + 'px',\n              height: grid.options.expandableRowHeight + 2 + 'px', 'margin-left': grid.options.rowHeader.rowHeaderWidth + 'px' }\"><i class=\"ui-grid-icon-spin5 ui-grid-animate-spin\" ng-style=\"{ 'margin-top': ( grid.options.expandableRowHeight/2 - 5) + 'px',\n            'margin-left' : ((grid.getViewportWidth() - grid.options.rowHeader.rowHeaderWidth)/2 - 5) + 'px' }\"></i></div>"),$templateCache.put("ui-grid/expandableTopRowHeader",'<div class="ui-grid-row-header-cell ui-grid-expandable-buttons-cell"><div class="ui-grid-cell-contents"><i ng-class="{ \'ui-grid-icon-plus-squared\' : !grid.expandable.expandedAll, \'ui-grid-icon-minus-squared\' : grid.expandable.expandedAll }" ng-click="grid.api.expandable.toggleAllRows()"></i></div></div>'),$templateCache.put("ui-grid/csvLink",'<span class="ui-grid-exporter-csv-link-span"><a href="data:text/csv;charset=UTF-8,CSV_CONTENT" download="FILE_NAME">LINK_LABEL</a></span>'),$templateCache.put("ui-grid/groupingExpandAllButtons",'<div class="ui-grid-grouping-row-header-buttons" ng-class="{\'ui-grid-icon-minus-squared\': grid.grouping.expandAll, \'ui-grid-icon-plus-squared\': !grid.grouping.expandAll}" ng-click="headerButtonClick($event)"></div>'),$templateCache.put("ui-grid/groupingHeaderCell",'<div><!-- <div class="ui-grid-vertical-bar">&nbsp;</div> --><div class="ui-grid-cell-contents" col-index="renderIndex"><ui-grid-grouping-expand-all-buttons></ui-grid-grouping-expand-all-buttons></div></div>'),$templateCache.put("ui-grid/groupingRowHeader",'<div class="ui-grid-cell-contents"><ui-grid-grouping-row-header-buttons></ui-grid-grouping-row-header-buttons></div>'),$templateCache.put("ui-grid/groupingRowHeaderButtons","<div class=\"ui-grid-grouping-row-header-buttons\" ng-class=\"{'ui-grid-group-header': row.groupLevel > - 1}\" ng-click=\"groupButtonClick(row, $event)\"><i ng-class=\"{'ui-grid-icon-minus-squared': row.expandedState.state === 'expanded', 'ui-grid-icon-plus-squared': row.expandedState.state === 'collapsed'}\" ng-style=\"{'padding-left': grid.options.groupingIndent * row.groupLevel + 'px'}\"></i> &nbsp;</div>"),$templateCache.put("ui-grid/importerMenuItem",'<li class="ui-grid-menu-item"><form><input class="ui-grid-importer-file-chooser" type="file" id="files" name="files[]"></form></li>'),$templateCache.put("ui-grid/importerMenuItemContainer","<div ui-grid-importer-menu-item></div>"),$templateCache.put("ui-grid/pagination",'<div class="ui-grid-pager-panel" ui-grid-pager ng-show="grid.options.enablePaginationControls"><div class="ui-grid-pager-container"><div class="ui-grid-pager-control"><button type="button" ng-click="paginationApi.seek(1)" ng-disabled="cantPageBackward()"><div class="first-triangle"><div class="first-bar"></div></div></button> <button type="button" ng-click="paginationApi.previousPage()" ng-disabled="cantPageBackward()"><div class="first-triangle prev-triangle"></div></button> <input type="number" ng-model="grid.options.paginationCurrentPage" min="1" max="{{ paginationApi.getTotalPages() }}" required> <span class="ui-grid-pager-max-pages-number" ng-show="paginationApi.getTotalPages() > 0">/ {{ paginationApi.getTotalPages() }}</span> <button type="button" ng-click="paginationApi.nextPage()" ng-disabled="cantPageForward()"><div class="last-triangle next-triangle"></div></button> <button type="button" ng-click="paginationApi.seek(paginationApi.getTotalPages())" ng-disabled="cantPageToLast()"><div class="last-triangle"><div class="last-bar"></div></div></button></div><div class="ui-grid-pager-row-count-picker"><select ng-model="grid.options.paginationPageSize" ng-options="o as o for o in grid.options.paginationPageSizes"></select><span class="ui-grid-pager-row-count-label">&nbsp;{{sizesLabel}}</span></div></div><div class="ui-grid-pager-count-container"><div class="ui-grid-pager-count"><span ng-show="grid.options.totalItems > 0">{{showingLow}} - {{showingHigh}} of {{grid.options.totalItems}} {{totalItemsLabel}}</span></div></div></div>'),$templateCache.put("ui-grid/columnResizer",'<div ui-grid-column-resizer ng-if="grid.options.enableColumnResizing" class="ui-grid-column-resizer" col="col" position="right" render-index="renderIndex" unselectable="on"></div>'),$templateCache.put("ui-grid/gridFooterSelectedItems",'<span ng-if="grid.selection.selectedCount !== 0 && grid.options.enableFooterTotalSelected">({{"search.selectedItems" | t}} {{grid.selection.selectedCount}})</span>'),$templateCache.put("ui-grid/selectionHeaderCell",'<div><!-- <div class="ui-grid-vertical-bar">&nbsp;</div> --><div class="ui-grid-cell-contents" col-index="renderIndex"><ui-grid-selection-select-all-buttons ng-if="grid.options.enableSelectAll"></ui-grid-selection-select-all-buttons></div></div>'),$templateCache.put("ui-grid/selectionRowHeader",'<div class="ui-grid-disable-selection"><div class="ui-grid-cell-contents"><ui-grid-selection-row-header-buttons></ui-grid-selection-row-header-buttons></div></div>'),$templateCache.put("ui-grid/selectionRowHeaderButtons",'<div class="ui-grid-selection-row-header-buttons ui-grid-icon-ok" ng-class="{\'ui-grid-row-selected\': row.isSelected}" ng-click="selectButtonClick(row, $event)">&nbsp;</div>'),$templateCache.put("ui-grid/selectionSelectAllButtons",'<div class="ui-grid-selection-row-header-buttons ui-grid-icon-ok" ng-class="{\'ui-grid-all-selected\': grid.selection.selectAll}" ng-click="headerButtonClick($event)"></div>'),$templateCache.put("ui-grid/treeViewExpandAllButtons",'<div class="ui-grid-tree-view-row-header-buttons" ng-class="{\'ui-grid-icon-minus-squared\': grid.treeView.expandAll, \'ui-grid-icon-plus-squared\': !grid.treeView.expandAll}" ng-click="headerButtonClick($event)"></div>'),$templateCache.put("ui-grid/treeViewHeaderCell",'<div><div class="ui-grid-cell-contents" col-index="renderIndex"><ui-grid-tree-view-expand-all-buttons></ui-grid-tree-view-expand-all-buttons></div></div>'),$templateCache.put("ui-grid/treeViewRowHeader",'<div class="ui-grid-cell-contents"><ui-grid-tree-view-row-header-buttons></ui-grid-tree-view-row-header-buttons></div>'),$templateCache.put("ui-grid/treeViewRowHeaderButtons","<div class=\"ui-grid-tree-view-row-header-buttons\" ng-class=\"{'ui-grid-tree-view-header': row.treeLevel > - 1}\" ng-click=\"treeViewButtonClick(row, $event)\"><i ng-class=\"{'ui-grid-icon-minus-squared': row.treeExpandedState.state === 'expanded', 'ui-grid-icon-plus-squared': row.treeExpandedState.state === 'collapsed'}\" ng-style=\"{'padding-left': grid.options.treeViewIndent * row.entity.$$treeLevel + 'px'}\"></i> &nbsp;</div>")}]),angular.module("ui.layout",[]).controller("uiLayoutCtrl",["$scope","$attrs","$element","LayoutContainer",function($scope,$attrs,$element,LayoutContainer){function draw(){var position=ctrl.sizeProperties.flowProperty,dividerSize=parseInt(opts.dividerSize),elementSize=$element[0][ctrl.sizeProperties.offsetSize];if(null!==ctrl.movingSplitbar){var splitbarIndex=ctrl.containers.indexOf(ctrl.movingSplitbar),nextSplitbarIndex=splitbarIndex+2<ctrl.containers.length?splitbarIndex+2:null;if(splitbarIndex>-1){var processedContainers=ctrl.processSplitbar(ctrl.containers[splitbarIndex]),beforeContainer=processedContainers.beforeContainer,afterContainer=processedContainers.afterContainer;if(!beforeContainer.collapsed&&!afterContainer.collapsed){var difference=ctrl.movingSplitbar[position]-lastPos,newPosition=ctrl.movingSplitbar[position]-difference;newPosition=Math.min(elementSize-dividerSize,newPosition),angular.isNumber(beforeContainer.beforeMinValue)&&newPosition<beforeContainer.beforeMinValue&&(newPosition=beforeContainer.beforeMinValue),angular.isNumber(beforeContainer.beforeMaxValue)&&newPosition>beforeContainer.beforeMaxValue&&(newPosition=beforeContainer.beforeMaxValue),null!==afterContainer&&angular.isNumber(afterContainer.afterMinValue)&&newPosition>afterContainer.afterMinValue-dividerSize&&(newPosition=afterContainer.afterMinValue-dividerSize),null!==afterContainer&&angular.isNumber(afterContainer.afterMaxValue)&&newPosition<afterContainer.afterMaxValue&&(newPosition=afterContainer.afterMaxValue),beforeContainer.size=newPosition-beforeContainer[position];var oldAfterContainerPosition=afterContainer[position];afterContainer[position]=newPosition+dividerSize,afterContainer[position]!=oldAfterContainerPosition&&(afterContainer.size=null!==nextSplitbarIndex?oldAfterContainerPosition+afterContainer.size-(newPosition+dividerSize):elementSize-(newPosition+dividerSize)),ctrl.movingSplitbar[position]=newPosition}}}animationFrameRequested=null}function offset(element){var rawDomNode=element[0],body=document.documentElement||document.body,scrollX=window.pageXOffset||body.scrollLeft,scrollY=window.pageYOffset||body.scrollTop,clientRect=rawDomNode.getBoundingClientRect(),x=clientRect.left+scrollX,y=clientRect.top+scrollY;return{left:x,top:y}}var animationFrameRequested,lastPos,ctrl=this,opts=angular.extend({},$scope.$eval($attrs.uiLayout),$scope.$eval($attrs.options)),numOfSplitbars=0,lastDividerRemoved=!1;return ctrl.containers=[],ctrl.movingSplitbar=null,ctrl.bounds=$element[0].getBoundingClientRect(),ctrl.isUsingColumnFlow="column"===opts.flow,ctrl.sizeProperties=ctrl.isUsingColumnFlow?{sizeProperty:"width",offsetSize:"offsetWidth",offsetPos:"left",flowProperty:"left",oppositeFlowProperty:"right",mouseProperty:"clientX",flowPropertyPosition:"x"}:{sizeProperty:"height",offsetSize:"offsetHeight",offsetPos:"top",flowProperty:"top",oppositeFlowProperty:"bottom",mouseProperty:"clientY",flowPropertyPosition:"y"},$element.addClass("stretch").addClass("ui-layout-"+(opts.flow||"row")),opts.sizes=opts.sizes||[],opts.maxSizes=opts.maxSizes||[],opts.minSizes=opts.minSizes||[],opts.dividerSize=opts.dividerSize||10,opts.collapsed=opts.collapsed||[],ctrl.opts=opts,$scope.updateDisplay=function(){console.log(ctrl.containers),ctrl.updateDisplay()},ctrl.mouseUpHandler=function(event){return null!==ctrl.movingSplitbar&&(ctrl.movingSplitbar=null),event},ctrl.mouseMoveHandler=function(mouseEvent){var mousePos=mouseEvent[ctrl.sizeProperties.mouseProperty]||mouseEvent.originalEvent&&mouseEvent.originalEvent[ctrl.sizeProperties.mouseProperty]||(mouseEvent.targetTouches?mouseEvent.targetTouches[0][ctrl.sizeProperties.mouseProperty]:0);lastPos=mousePos-offset($element)[ctrl.sizeProperties.offsetPos],$scope.$broadcast("ui-layout.resize"),animationFrameRequested&&window.cancelAnimationFrame(animationFrameRequested),animationFrameRequested=window.requestAnimationFrame(draw)},ctrl.processSplitbar=function(container){var index=ctrl.containers.indexOf(container),setValues=function(container){var start=container[ctrl.sizeProperties.flowProperty],end=container[ctrl.sizeProperties.flowProperty]+container.size;container.beforeMinValue=angular.isNumber(container.minSize)?start+container.minSize:start,container.beforeMaxValue=angular.isNumber(container.maxSize)?start+container.maxSize:null,container.afterMinValue=angular.isNumber(container.minSize)?end-container.minSize:end,container.afterMaxValue=angular.isNumber(container.maxSize)?end-container.maxSize:null};if(index>-1){var beforeContainer=index>0?ctrl.containers[index-1]:null,afterContainer=index+1<=ctrl.containers.length?ctrl.containers[index+1]:null;return null!==beforeContainer&&setValues(beforeContainer),null!==afterContainer&&setValues(afterContainer),{beforeContainer:beforeContainer,afterContainer:afterContainer}}return null},ctrl.isPercent=function(num){return!!(num&&angular.isString(num)&&num.indexOf("%")>-1)},ctrl.convertToPixels=function(size,parentSize){return Math.floor(parentSize*(parseInt(size)/100))},ctrl.updateDisplay=function(){var c,i,dividerSize=parseInt(opts.dividerSize),elementSize=$element[0].getBoundingClientRect()[ctrl.sizeProperties.sizeProperty],availableSize=elementSize-dividerSize*numOfSplitbars,originalSize=availableSize,usedSpace=0,numOfAutoContainers=0;if(ctrl.containers.length>0&&$element.children().length>0){if(!lastDividerRemoved&&ctrl.containers.length===$element.children().length){var lastContainerIndex=ctrl.containers.length-1;ctrl.containers[lastContainerIndex].element.remove(),ctrl.containers.splice(lastContainerIndex,1),lastDividerRemoved=!0,numOfSplitbars--}for(i=0;i<ctrl.containers.length;i++)if(!LayoutContainer.isSplitbar(ctrl.containers[i])){var child=ctrl.containers[i].element;opts.maxSizes[i]=child.attr("max-size")||opts.maxSizes[i]||null,opts.minSizes[i]=child.attr("min-size")||opts.minSizes[i]||null,opts.sizes[i]=child.attr("size")||opts.sizes[i]||"auto";var sizePattern=/\d+\s*(px|%)\s*$/i;opts.sizes[i]="auto"!=opts.sizes[i]&&opts.sizes[i].match(sizePattern)?opts.sizes[i]:"auto",opts.minSizes[i]=opts.minSizes[i]&&opts.minSizes[i].match(sizePattern)?opts.minSizes[i]:null,opts.maxSizes[i]=opts.maxSizes[i]&&opts.maxSizes[i].match(sizePattern)?opts.maxSizes[i]:null,"auto"!=opts.sizes[i]&&(ctrl.isPercent(opts.sizes[i])?opts.sizes[i]=ctrl.convertToPixels(opts.sizes[i],originalSize):opts.sizes[i]=parseInt(opts.sizes[i])),null!=opts.minSizes[i]&&(ctrl.isPercent(opts.minSizes[i])?opts.minSizes[i]=ctrl.convertToPixels(opts.minSizes[i],originalSize):opts.minSizes[i]=parseInt(opts.minSizes[i]),opts.sizes[i]<opts.minSizes[i]&&(opts.sizes[i]=opts.minSizes[i])),null!=opts.maxSizes[i]&&(ctrl.isPercent(opts.maxSizes[i])?opts.maxSizes[i]=ctrl.convertToPixels(opts.maxSizes[i],originalSize):opts.maxSizes[i]=parseInt(opts.maxSizes[i]),opts.sizes[i]>opts.maxSizes[i]&&(opts.sizes[i]=opts.maxSizes[i])),"auto"===opts.sizes[i]?numOfAutoContainers++:availableSize-=opts.sizes[i]}var autoSize=Math.floor(availableSize/numOfAutoContainers);for(i=0;i<ctrl.containers.length;i++){if(c=ctrl.containers[i],c[ctrl.sizeProperties.flowProperty]=usedSpace,c.maxSize=opts.maxSizes[i],c.minSize=opts.minSizes[i],c.collapsed=c.collapsed||opts.collapsed[i],LayoutContainer.isSplitbar(c))c.size=dividerSize;else{var newSize="auto"===opts.sizes[i]?autoSize:opts.sizes[i];c.size=null!==newSize?newSize:autoSize}usedSpace+=c.size}$scope.$broadcast("ui-layout.resize")}},ctrl.addContainer=function(container){ctrl.containers.push(container),LayoutContainer.isSplitbar(container)&&numOfSplitbars++,ctrl.updateDisplay()},ctrl.getContainers=function(){return ctrl.containers},ctrl.toggleBefore=function(splitbar){var index=ctrl.containers.indexOf(splitbar)-1,c=ctrl.containers[index];c.collapsed=!ctrl.containers[index].collapsed;var nextSplitbar=ctrl.containers[index+1],nextContainer=ctrl.containers[index+2];return $scope.$apply(function(){c.collapsed?(c.actualSize=c.size,c.size=0,nextSplitbar&&(nextSplitbar[ctrl.sizeProperties.flowProperty]-=c.actualSize),nextContainer&&(nextContainer[ctrl.sizeProperties.flowProperty]-=c.actualSize,nextContainer.size+=c.actualSize)):(c.size=c.actualSize,nextSplitbar&&(nextSplitbar[ctrl.sizeProperties.flowProperty]+=c.actualSize),nextContainer&&(nextContainer[ctrl.sizeProperties.flowProperty]+=c.actualSize,nextContainer.size-=c.actualSize))}),c.collapsed},ctrl.toggleAfter=function(splitbar){var endDiff,index=ctrl.containers.indexOf(splitbar)+1,c=ctrl.containers[index],prevSplitbar=ctrl.containers[index-1],prevContainer=ctrl.containers[index-2],isLastContainer=index===ctrl.containers.length-1;return ctrl.bounds=$element[0].getBoundingClientRect(),c.collapsed=!ctrl.containers[index].collapsed,$scope.$apply(function(){c.collapsed?(c.actualSize=c.size,c.size=0,endDiff=isLastContainer?ctrl.bounds[ctrl.sizeProperties.sizeProperty]-c[ctrl.sizeProperties.flowProperty]-c.actualSize:0,prevSplitbar&&(prevSplitbar[ctrl.sizeProperties.flowProperty]+=c.actualSize+endDiff),prevContainer&&(prevContainer.size+=c.actualSize+endDiff)):(c.size=c.actualSize,endDiff=isLastContainer?ctrl.bounds[ctrl.sizeProperties.sizeProperty]-c[ctrl.sizeProperties.flowProperty]-c.actualSize:0,prevSplitbar&&(prevSplitbar[ctrl.sizeProperties.flowProperty]-=c.actualSize+endDiff),prevContainer&&(prevContainer.size-=c.actualSize+endDiff))}),c.collapsed},ctrl.getPreviousSplitbarContainer=function(currentSplitbar){if(LayoutContainer.isSplitbar(currentSplitbar)){var currentSplitbarIndex=ctrl.containers.indexOf(currentSplitbar),previousSplitbarIndex=currentSplitbarIndex-2;return previousSplitbarIndex>=0?ctrl.containers[previousSplitbarIndex]:null}return null},ctrl.getNextSplitbarContainer=function(currentSplitbar){if(LayoutContainer.isSplitbar(currentSplitbar)){var currentSplitbarIndex=ctrl.containers.indexOf(currentSplitbar),nextSplitbarIndex=currentSplitbarIndex+2;return currentSplitbarIndex>0&&nextSplitbarIndex<ctrl.containers.length?ctrl.containers[nextSplitbarIndex]:null}return null},ctrl}]).directive("uiLayout",["$window",function($window){return{restrict:"AE",controller:"uiLayoutCtrl",link:function(scope,element,attrs,ctrl){function onResize(){scope.$apply(function(){ctrl.updateDisplay()})}scope.$watch(element[0][ctrl.sizeProperties.offsetSize],function(){ctrl.updateDisplay()}),angular.element($window).bind("resize",onResize),scope.$on("$destroy",function(){angular.element($window).unbind("resize",onResize)})}}}]).directive("uiSplitbar",["LayoutContainer",function(LayoutContainer){var htmlElement=angular.element(document.body.parentElement);return{restrict:"EAC",require:"^uiLayout",scope:{},link:function(scope,element,attrs,ctrl){element.hasClass("stretch")||element.addClass("stretch"),element.hasClass("ui-splitbar")||element.addClass("ui-splitbar"),scope.splitbar=LayoutContainer.Splitbar(),scope.splitbar.element=element;var prevButton=angular.element(element.children()[0]),afterButton=angular.element(element.children()[1]),prevChevron=angular.element(prevButton.children()[0]),afterChevron=angular.element(afterButton.children()[0]),chevronLeft="glyphicon-chevron-left",chevronRight="glyphicon-chevron-right",chevronUp="glyphicon-chevron-up",chevronDown="glyphicon-chevron-down",prevChevronClass=ctrl.isUsingColumnFlow?chevronLeft:chevronUp,afterChevronClass=ctrl.isUsingColumnFlow?chevronRight:chevronDown;prevChevron.addClass(prevChevronClass),afterChevron.addClass(afterChevronClass),prevButton.on("click",function(){var prevSplitbarBeforeButton,prevSplitbarAfterButton,result=ctrl.toggleBefore(scope.splitbar),previousSplitbar=ctrl.getPreviousSplitbarContainer(scope.splitbar);null!==previousSplitbar&&(prevSplitbarBeforeButton=angular.element(previousSplitbar.element.children()[0]),prevSplitbarAfterButton=angular.element(previousSplitbar.element.children()[1])),ctrl.isUsingColumnFlow?result?(afterButton.css("display","none"),prevChevron.removeClass(chevronLeft),prevChevron.addClass(chevronRight),null!==previousSplitbar&&(prevSplitbarBeforeButton.css("display","none"),
prevSplitbarAfterButton.css("display","none"))):(afterButton.css("display","inline"),prevChevron.removeClass(chevronRight),prevChevron.addClass(chevronLeft),null!==previousSplitbar&&(prevSplitbarBeforeButton.css("display","inline"),prevSplitbarAfterButton.css("display","inline"))):result?(afterButton.css("display","none"),prevChevron.removeClass(chevronUp),prevChevron.addClass(chevronDown),null!==previousSplitbar&&(prevSplitbarBeforeButton.css("display","none"),prevSplitbarAfterButton.css("display","none"))):(afterButton.css("display","inline"),prevChevron.removeClass(chevronDown),prevChevron.addClass(chevronUp),null!==previousSplitbar&&(prevSplitbarBeforeButton.css("display","inline"),prevSplitbarAfterButton.css("display","inline")))}),afterButton.on("click",function(){var nextSplitbarBeforeButton,nextSplitbarAfterButton,result=ctrl.toggleAfter(scope.splitbar),nextSplitbar=ctrl.getNextSplitbarContainer(scope.splitbar);null!==nextSplitbar&&(nextSplitbarBeforeButton=angular.element(nextSplitbar.element.children()[0]),nextSplitbarAfterButton=angular.element(nextSplitbar.element.children()[1])),ctrl.isUsingColumnFlow?result?(prevButton.css("display","none"),afterChevron.removeClass(chevronRight),afterChevron.addClass(chevronLeft),null!==nextSplitbar&&(nextSplitbarBeforeButton.css("display","none"),nextSplitbarAfterButton.css("display","none"))):(prevButton.css("display","inline"),afterChevron.removeClass(chevronLeft),afterChevron.addClass(chevronRight),null!==nextSplitbar&&(nextSplitbarBeforeButton.css("display","inline"),nextSplitbarAfterButton.css("display","inline"))):result?(prevButton.css("display","none"),afterChevron.removeClass(chevronDown),afterChevron.addClass(chevronUp),null!==nextSplitbar&&(nextSplitbarBeforeButton.css("display","none"),nextSplitbarAfterButton.css("display","none"))):(prevButton.css("display","inline"),afterChevron.removeClass(chevronUp),afterChevron.addClass(chevronDown),null!==nextSplitbar&&(nextSplitbarBeforeButton.css("display","inline"),nextSplitbarAfterButton.css("display","inline")))}),element.on("mousedown touchstart",function(e){return ctrl.movingSplitbar=scope.splitbar,ctrl.processSplitbar(scope.splitbar),e.preventDefault(),e.stopPropagation(),htmlElement.on("mousemove touchmove",function(event){scope.$apply(angular.bind(ctrl,ctrl.mouseMoveHandler,event))}),!1}),htmlElement.on("mouseup touchend",function(event){scope.$apply(angular.bind(ctrl,ctrl.mouseUpHandler,event)),htmlElement.off("mousemove touchmove")}),scope.$watch("splitbar.size",function(newValue){element.css(ctrl.sizeProperties.sizeProperty,newValue+"px")}),scope.$watch("splitbar."+ctrl.sizeProperties.flowProperty,function(newValue){element.css(ctrl.sizeProperties.flowProperty,newValue+"px")}),ctrl.addContainer(scope.splitbar)}}}]).directive("uiLayoutContainer",["LayoutContainer",function(LayoutContainer){return{restrict:"AE",require:"^uiLayout",scope:{},compile:function(element){var splitbar=angular.element('<div ui-splitbar><a><span class="glyphicon"></span></a><a><span class="glyphicon"></span></a></div>');return element.after(splitbar),{pre:function(scope,element,attrs,ctrl){scope.container=LayoutContainer.Container(),scope.container.element=element,ctrl.addContainer(scope.container)},post:function(scope,element,attrs,ctrl){element.hasClass("stretch")||element.addClass("stretch"),element.hasClass("ui-layout-container")||element.addClass("ui-layout-container"),scope.$watch("container.size",function(newValue){element.css(ctrl.sizeProperties.sizeProperty,newValue+"px")}),scope.$watch("container."+ctrl.sizeProperties.flowProperty,function(newValue){element.css(ctrl.sizeProperties.flowProperty,newValue+"px")})}}}}}]).factory("LayoutContainer",function(){function BaseContainer(){this.size=0,this.maxSize=null,this.minSize=0,this.resizable=!0,this.locked=!1,this.element=null,this.collapsed=!1}function SplitbarContainer(){this.size=10,this.left=0,this.top=0,this.element=null}return{Container:function(initialSize){return new BaseContainer(initialSize)},Splitbar:function(){return new SplitbarContainer},isSplitbar:function(container){return container instanceof SplitbarContainer}}}),function(window,angular){"use strict";function isValidDottedPath(path){return null!=path&&""!==path&&"hasOwnProperty"!==path&&MEMBER_NAME_REGEX.test("."+path)}function lookupDottedPath(obj,path){if(!isValidDottedPath(path))throw $resourceMinErr("badmember",'Dotted member path "@{0}" is invalid.',path);for(var keys=path.split("."),i=0,ii=keys.length;i<ii&&angular.isDefined(obj);i++){var key=keys[i];obj=null!==obj?obj[key]:void 0}return obj}function shallowClearAndCopy(src,dst){dst=dst||{},angular.forEach(dst,function(value,key){delete dst[key]});for(var key in src)!src.hasOwnProperty(key)||"$"===key.charAt(0)&&"$"===key.charAt(1)||(dst[key]=src[key]);return dst}var $resourceMinErr=angular.$$minErr("$resource"),MEMBER_NAME_REGEX=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;angular.module("ngResource",["ng"]).info({angularVersion:"1.7.2"}).provider("$resource",function(){var PROTOCOL_AND_IPV6_REGEX=/^https?:\/\/\[[^\]]*][^\/]*/,provider=this;this.defaults={stripTrailingSlashes:!0,cancellable:!1,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}},this.$get=["$http","$log","$q","$timeout",function($http,$log,$q,$timeout){function Route(template,defaults){this.template=template,this.defaults=extend({},provider.defaults,defaults),this.urlParams={}}function resourceFactory(url,paramDefaults,actions,options){function extractParams(data,actionParams){var ids={};return actionParams=extend({},paramDefaults,actionParams),forEach(actionParams,function(value,key){isFunction(value)&&(value=value(data)),ids[key]=value&&value.charAt&&"@"===value.charAt(0)?lookupDottedPath(data,value.substr(1)):value}),ids}function defaultResponseInterceptor(response){return response.resource}function Resource(value){shallowClearAndCopy(value||{},this)}var route=new Route(url,options);return actions=extend({},provider.defaults.actions,actions),Resource.prototype.toJSON=function(){var data=extend({},this);return delete data.$promise,delete data.$resolved,delete data.$cancelRequest,data},forEach(actions,function(action,name){var hasBody=action.hasBody===!0||action.hasBody!==!1&&/^(POST|PUT|PATCH)$/i.test(action.method),numericTimeout=action.timeout,cancellable=isDefined(action.cancellable)?action.cancellable:route.defaults.cancellable;numericTimeout&&!isNumber(numericTimeout)&&($log.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests. If you are looking for a way to cancel requests, you should use the `cancellable` option."),delete action.timeout,numericTimeout=null),Resource[name]=function(a1,a2,a3,a4){function cancelRequest(value){promise["catch"](noop),null!==timeoutDeferred&&timeoutDeferred.resolve(value)}var data,onSuccess,onError,params={};switch(arguments.length){case 4:onError=a4,onSuccess=a3;case 3:case 2:if(!isFunction(a2)){params=a1,data=a2,onSuccess=a3;break}if(isFunction(a1)){onSuccess=a1,onError=a2;break}onSuccess=a2,onError=a3;case 1:isFunction(a1)?onSuccess=a1:hasBody?data=a1:params=a1;break;case 0:break;default:throw $resourceMinErr("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var timeoutDeferred,numericTimeoutPromise,response,isInstanceCall=this instanceof Resource,value=isInstanceCall?data:action.isArray?[]:new Resource(data),httpConfig={},requestInterceptor=action.interceptor&&action.interceptor.request||void 0,requestErrorInterceptor=action.interceptor&&action.interceptor.requestError||void 0,responseInterceptor=action.interceptor&&action.interceptor.response||defaultResponseInterceptor,responseErrorInterceptor=action.interceptor&&action.interceptor.responseError||$q.reject,successCallback=onSuccess?function(val){onSuccess(val,response.headers,response.status,response.statusText)}:void 0,errorCallback=onError||void 0;forEach(action,function(value,key){switch(key){default:httpConfig[key]=copy(value);break;case"params":case"isArray":case"interceptor":case"cancellable":}}),!isInstanceCall&&cancellable&&(timeoutDeferred=$q.defer(),httpConfig.timeout=timeoutDeferred.promise,numericTimeout&&(numericTimeoutPromise=$timeout(timeoutDeferred.resolve,numericTimeout))),hasBody&&(httpConfig.data=data),route.setUrlParams(httpConfig,extend({},extractParams(data,action.params||{}),params),action.url);var promise=$q.resolve(httpConfig).then(requestInterceptor)["catch"](requestErrorInterceptor).then($http);return promise=promise.then(function(resp){var data=resp.data;if(data){if(isArray(data)!==!!action.isArray)throw $resourceMinErr("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2} (Request: {3} {4})",name,action.isArray?"array":"object",isArray(data)?"array":"object",httpConfig.method,httpConfig.url);if(action.isArray)value.length=0,forEach(data,function(item){"object"==typeof item?value.push(new Resource(item)):value.push(item)});else{var promise=value.$promise;shallowClearAndCopy(data,value),value.$promise=promise}}return resp.resource=value,response=resp,responseInterceptor(resp)},function(rejectionOrResponse){return rejectionOrResponse.resource=value,response=rejectionOrResponse,responseErrorInterceptor(rejectionOrResponse)}),promise=promise["finally"](function(){value.$resolved=!0,!isInstanceCall&&cancellable&&(value.$cancelRequest=noop,$timeout.cancel(numericTimeoutPromise),timeoutDeferred=numericTimeoutPromise=httpConfig.timeout=null)}),promise.then(successCallback,errorCallback),isInstanceCall?promise:(value.$promise=promise,value.$resolved=!1,cancellable&&(value.$cancelRequest=cancelRequest),value)},Resource.prototype["$"+name]=function(params,success,error){isFunction(params)&&(error=success,success=params,params={});var result=Resource[name].call(this,params,this,success,error);return result.$promise||result}}),Resource}var noop=angular.noop,forEach=angular.forEach,extend=angular.extend,copy=angular.copy,isArray=angular.isArray,isDefined=angular.isDefined,isFunction=angular.isFunction,isNumber=angular.isNumber,encodeUriQuery=angular.$$encodeUriQuery,encodeUriSegment=angular.$$encodeUriSegment;return Route.prototype={setUrlParams:function(config,params,actionUrl){var val,encodedVal,self=this,url=actionUrl||self.template,protocolAndIpv6="",urlParams=self.urlParams=Object.create(null);forEach(url.split(/\W/),function(param){if("hasOwnProperty"===param)throw $resourceMinErr("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(param)&&param&&new RegExp("(^|[^\\\\]):"+param+"(\\W|$)").test(url)&&(urlParams[param]={isQueryParamValue:new RegExp("\\?.*=:"+param+"(?:\\W|$)").test(url)})}),url=url.replace(/\\:/g,":"),url=url.replace(PROTOCOL_AND_IPV6_REGEX,function(match){return protocolAndIpv6=match,""}),params=params||{},forEach(self.urlParams,function(paramInfo,urlParam){val=params.hasOwnProperty(urlParam)?params[urlParam]:self.defaults[urlParam],isDefined(val)&&null!==val?(encodedVal=paramInfo.isQueryParamValue?encodeUriQuery(val,!0):encodeUriSegment(val),url=url.replace(new RegExp(":"+urlParam+"(\\W|$)","g"),function(match,p1){return encodedVal+p1})):url=url.replace(new RegExp("(/?):"+urlParam+"(\\W|$)","g"),function(match,leadingSlashes,tail){return"/"===tail.charAt(0)?tail:leadingSlashes+tail})}),self.defaults.stripTrailingSlashes&&(url=url.replace(/\/+$/,"")||"/"),url=url.replace(/\/\.(?=\w+($|\?))/,"."),config.url=protocolAndIpv6+url.replace(/\/(\\|%5C)\./,"/."),forEach(params,function(value,key){self.urlParams[key]||(config.params=config.params||{},config.params[key]=value)})}},resourceFactory}]})}(window,window.angular),function(window,document){"use strict";angular.module("toaster",[]).constant("toasterConfig",{limit:0,"tap-to-dismiss":!0,"close-button":!1,"close-html":'<button class="toast-close-button" type="button">&times;</button>',"newest-on-top":!0,"time-out":5e3,"icon-classes":{error:"toast-error",info:"toast-info",wait:"toast-wait",success:"toast-success",warning:"toast-warning"},"body-output-type":"","body-template":"toasterBodyTmpl.html","icon-class":"toast-info","position-class":"toast-top-right","title-class":"toast-title","message-class":"toast-message","prevent-duplicates":!1,"mouseover-timer-stop":!0}).run(["$templateCache",function($templateCache){$templateCache.put("angularjs-toaster/toast.html",'<div id="toast-container" ng-class="[config.position, config.animation]"><div ng-repeat="toaster in toasters" class="toast" ng-class="toaster.type" ng-click="click($event, toaster)" ng-mouseover="stopTimer(toaster)" ng-mouseout="restartTimer(toaster)"><div ng-if="toaster.showCloseButton" ng-click="click($event, toaster, true)" ng-bind-html="toaster.closeHtml"></div><div ng-class="config.title">{{toaster.title}}</div><div ng-class="config.message" ng-switch on="toaster.bodyOutputType"><div ng-switch-when="trustedHtml" ng-bind-html="toaster.html"></div><div ng-switch-when="template"><div ng-include="toaster.bodyTemplate"></div></div><div ng-switch-when="templateWithData"><div ng-include="toaster.bodyTemplate"></div></div><div ng-switch-when="directive"><div directive-template directive-name="{{toaster.html}}" directive-data="{{toaster.directiveData}}"></div></div><div ng-switch-default >{{toaster.body}}</div></div></div></div>')}]).service("toaster",["$rootScope","toasterConfig",function($rootScope,toasterConfig){function createTypeMethod(toasterType){return function(title,body,timeout,bodyOutputType,clickHandler,toasterId,showCloseButton,toastId,onHideCallback){return angular.isString(title)?this.pop(toasterType,title,body,timeout,bodyOutputType,clickHandler,toasterId,showCloseButton,toastId,onHideCallback):this.pop(angular.extend(title,{type:toasterType}))}}var Guid=function(){var Guid={};return Guid.newGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=16*Math.random()|0,v="x"==c?r:3&r|8;return v.toString(16)})},Guid}();this.pop=function(type,title,body,timeout,bodyOutputType,clickHandler,toasterId,showCloseButton,toastId,onHideCallback){if(angular.isObject(type)){var params=type;this.toast={type:params.type,title:params.title,body:params.body,timeout:params.timeout,bodyOutputType:params.bodyOutputType,clickHandler:params.clickHandler,showCloseButton:params.showCloseButton,closeHtml:params.closeHtml,toastId:params.toastId,onShowCallback:params.onShowCallback,onHideCallback:params.onHideCallback,directiveData:params.directiveData,tapToDismiss:params.tapToDismiss},toasterId=params.toasterId}else this.toast={type:type,title:title,body:body,timeout:timeout,bodyOutputType:bodyOutputType,clickHandler:clickHandler,showCloseButton:showCloseButton,toastId:toastId,onHideCallback:onHideCallback};return this.toast.toastId&&this.toast.toastId.length||(this.toast.toastId=Guid.newGuid()),$rootScope.$emit("toaster-newToast",toasterId,this.toast.toastId),{toasterId:toasterId,toastId:this.toast.toastId}},this.clear=function(toasterId,toastId){angular.isObject(toasterId)?$rootScope.$emit("toaster-clearToasts",toasterId.toasterId,toasterId.toastId):$rootScope.$emit("toaster-clearToasts",toasterId,toastId)};for(var type in toasterConfig["icon-classes"])this[type]=createTypeMethod(type)}]).factory("toasterEventRegistry",["$rootScope",function($rootScope){var toasterFactory,deregisterNewToast=null,deregisterClearToasts=null,newToastEventSubscribers=[],clearToastsEventSubscribers=[];return toasterFactory={setup:function(){deregisterNewToast||(deregisterNewToast=$rootScope.$on("toaster-newToast",function(event,toasterId,toastId){for(var i=0,len=newToastEventSubscribers.length;i<len;i++)newToastEventSubscribers[i](event,toasterId,toastId)})),deregisterClearToasts||(deregisterClearToasts=$rootScope.$on("toaster-clearToasts",function(event,toasterId,toastId){for(var i=0,len=clearToastsEventSubscribers.length;i<len;i++)clearToastsEventSubscribers[i](event,toasterId,toastId)}))},subscribeToNewToastEvent:function(onNewToast){newToastEventSubscribers.push(onNewToast)},subscribeToClearToastsEvent:function(onClearToasts){clearToastsEventSubscribers.push(onClearToasts)},unsubscribeToNewToastEvent:function(onNewToast){var index=newToastEventSubscribers.indexOf(onNewToast);index>=0&&newToastEventSubscribers.splice(index,1),0===newToastEventSubscribers.length&&(deregisterNewToast(),deregisterNewToast=null)},unsubscribeToClearToastsEvent:function(onClearToasts){var index=clearToastsEventSubscribers.indexOf(onClearToasts);index>=0&&clearToastsEventSubscribers.splice(index,1),0===clearToastsEventSubscribers.length&&(deregisterClearToasts(),deregisterClearToasts=null)}},{setup:toasterFactory.setup,subscribeToNewToastEvent:toasterFactory.subscribeToNewToastEvent,subscribeToClearToastsEvent:toasterFactory.subscribeToClearToastsEvent,unsubscribeToNewToastEvent:toasterFactory.unsubscribeToNewToastEvent,unsubscribeToClearToastsEvent:toasterFactory.unsubscribeToClearToastsEvent}}]).directive("directiveTemplate",["$compile","$injector",function($compile,$injector){return{restrict:"A",scope:{directiveName:"@directiveName",directiveData:"@directiveData"},replace:!0,link:function(scope,elm,attrs){scope.$watch("directiveName",function(directiveName){if(angular.isUndefined(directiveName)||directiveName.length<=0)throw new Error("A valid directive name must be provided via the toast body argument when using bodyOutputType: directive");var directive;try{directive=$injector.get(attrs.$normalize(directiveName)+"Directive")}catch(e){throw new Error(directiveName+" could not be found. The name should appear as it exists in the markup, not camelCased as it would appear in the directive declaration, e.g. directive-name not directiveName.")}var directiveDetails=directive[0];if(directiveDetails.scope!==!0&&directiveDetails.scope)throw new Error("Cannot use a directive with an isolated scope. The scope must be either true or falsy (e.g. false/null/undefined). Occurred for directive "+directiveName+".");if(directiveDetails.restrict.indexOf("A")<0)throw new Error('Directives must be usable as attributes. Add "A" to the restrict option (or remove the option entirely). Occurred for directive '+directiveName+".");scope.directiveData&&(scope.directiveData=angular.fromJson(scope.directiveData));var template=$compile("<div "+directiveName+"></div>")(scope);elm.append(template)})}}}]).directive("toasterContainer",["$parse","$rootScope","$interval","$sce","toasterConfig","toaster","toasterEventRegistry",function($parse,$rootScope,$interval,$sce,toasterConfig,toaster,toasterEventRegistry){return{replace:!0,restrict:"EA",scope:!0,link:function(scope,elm,attrs){function setTimeout(toast,time){toast.timeoutPromise=$interval(function(){scope.removeToast(toast.toastId)},time,1)}function addToast(toast,toastId){if(toast.type=mergedConfig["icon-classes"][toast.type],toast.type||(toast.type=mergedConfig["icon-class"]),mergedConfig["prevent-duplicates"]===!0&&scope.toasters.length){if(scope.toasters[scope.toasters.length-1].body===toast.body)return;var i,len,dupFound=!1;for(i=0,len=scope.toasters.length;i<len;i++)if(scope.toasters[i].toastId===toastId){dupFound=!0;break}if(dupFound)return}var closeButton=mergedConfig["close-button"];if("boolean"==typeof toast.showCloseButton);else if("boolean"==typeof closeButton)toast.showCloseButton=closeButton;else if("object"==typeof closeButton){var closeButtonForType=closeButton[toast.type];"undefined"!=typeof closeButtonForType&&null!==closeButtonForType&&(toast.showCloseButton=closeButtonForType)}else toast.showCloseButton=!1;switch(toast.showCloseButton&&(toast.closeHtml=$sce.trustAsHtml(toast.closeHtml||scope.config.closeHtml)),toast.bodyOutputType=toast.bodyOutputType||mergedConfig["body-output-type"],toast.bodyOutputType){case"trustedHtml":toast.html=$sce.trustAsHtml(toast.body);break;case"template":toast.bodyTemplate=toast.body||mergedConfig["body-template"];break;case"templateWithData":var fcGet=$parse(toast.body||mergedConfig["body-template"]),templateWithData=fcGet(scope);toast.bodyTemplate=templateWithData.template,toast.data=templateWithData.data;break;case"directive":toast.html=toast.body}scope.configureTimer(toast),mergedConfig["newest-on-top"]===!0?(scope.toasters.unshift(toast),mergedConfig.limit>0&&scope.toasters.length>mergedConfig.limit&&scope.toasters.pop()):(scope.toasters.push(toast),mergedConfig.limit>0&&scope.toasters.length>mergedConfig.limit&&scope.toasters.shift()),angular.isFunction(toast.onShowCallback)&&toast.onShowCallback(toast)}function removeToast(toastIndex){var toast=scope.toasters[toastIndex];toast.timeoutPromise&&$interval.cancel(toast.timeoutPromise),scope.toasters.splice(toastIndex,1),angular.isFunction(toast.onHideCallback)&&toast.onHideCallback(toast)}function removeAllToasts(toastId){for(var i=scope.toasters.length-1;i>=0;i--)isUndefinedOrNull(toastId)?removeToast(i):scope.toasters[i].toastId==toastId&&removeToast(i)}function isUndefinedOrNull(val){return angular.isUndefined(val)||null===val}var mergedConfig;mergedConfig=angular.extend({},toasterConfig,scope.$eval(attrs.toasterOptions)),scope.config={toasterId:mergedConfig["toaster-id"],position:mergedConfig["position-class"],title:mergedConfig["title-class"],message:mergedConfig["message-class"],tap:mergedConfig["tap-to-dismiss"],closeButton:mergedConfig["close-button"],closeHtml:mergedConfig["close-html"],animation:mergedConfig["animation-class"],mouseoverTimer:mergedConfig["mouseover-timer-stop"]},scope.$on("$destroy",function(){toasterEventRegistry.unsubscribeToNewToastEvent(scope._onNewToast),toasterEventRegistry.unsubscribeToClearToastsEvent(scope._onClearToasts)}),scope.configureTimer=function(toast){var timeout=angular.isNumber(toast.timeout)?toast.timeout:mergedConfig["time-out"];"object"==typeof timeout&&(timeout=timeout[toast.type]),timeout>0&&setTimeout(toast,timeout)},scope.removeToast=function(toastId){var i,len;for(i=0,len=scope.toasters.length;i<len;i++)if(scope.toasters[i].toastId===toastId){removeToast(i);break}},scope.toasters=[],scope._onNewToast=function(event,toasterId,toastId){(isUndefinedOrNull(scope.config.toasterId)&&isUndefinedOrNull(toasterId)||!isUndefinedOrNull(scope.config.toasterId)&&!isUndefinedOrNull(toasterId)&&scope.config.toasterId==toasterId)&&addToast(toaster.toast,toastId)},scope._onClearToasts=function(event,toasterId,toastId){("*"==toasterId||isUndefinedOrNull(scope.config.toasterId)&&isUndefinedOrNull(toasterId)||!isUndefinedOrNull(scope.config.toasterId)&&!isUndefinedOrNull(toasterId)&&scope.config.toasterId==toasterId)&&removeAllToasts(toastId)},toasterEventRegistry.setup(),toasterEventRegistry.subscribeToNewToastEvent(scope._onNewToast),toasterEventRegistry.subscribeToClearToastsEvent(scope._onClearToasts)},controller:["$scope","$element","$attrs",function($scope,$element,$attrs){$scope.stopTimer=function(toast){$scope.config.mouseoverTimer===!0&&toast.timeoutPromise&&($interval.cancel(toast.timeoutPromise),toast.timeoutPromise=null)},$scope.restartTimer=function(toast){$scope.config.mouseoverTimer===!0?toast.timeoutPromise||$scope.configureTimer(toast):null===toast.timeoutPromise&&$scope.removeToast(toast.toastId)},$scope.click=function(event,toast,isCloseButton){event.stopPropagation();var tapToDismiss="boolean"==typeof toast.tapToDismiss?toast.tapToDismiss:$scope.config.tap;if(tapToDismiss===!0||toast.showCloseButton===!0&&isCloseButton===!0){var removeToast=!0;toast.clickHandler&&(angular.isFunction(toast.clickHandler)?removeToast=toast.clickHandler(toast,isCloseButton):angular.isFunction($scope.$parent.$eval(toast.clickHandler))?removeToast=$scope.$parent.$eval(toast.clickHandler)(toast,isCloseButton):console.log("TOAST-NOTE: Your click handler is not inside a parent scope of toaster-container.")),removeToast&&$scope.removeToast(toast.toastId)}}}],templateUrl:"angularjs-toaster/toast.html"}}])}(window,document),function(angular,factory){return"function"==typeof define&&define.amd?void define("angular-file-upload",["angular"],function(angular){return factory(angular)}):factory(angular)}("undefined"==typeof angular?null:angular,function(angular){var module=angular.module("angularFileUpload",[]);return module.value("fileUploaderOptions",{url:"/",alias:"file",headers:{},queue:[],progress:0,autoUpload:!1,removeAfterUpload:!1,method:"POST",filters:[],formData:[],queueLimit:Number.MAX_VALUE,withCredentials:!1}).factory("FileUploader",["fileUploaderOptions","$rootScope","$http","$window","$compile",function(fileUploaderOptions,$rootScope,$http,$window,$compile){function FileUploader(options){var settings=angular.copy(fileUploaderOptions);angular.extend(this,settings,options,{isUploading:!1,_nextIndex:0,_failFilterIndex:-1,_directives:{select:[],drop:[],over:[]}}),this.filters.unshift({name:"queueLimit",fn:this._queueLimitFilter}),this.filters.unshift({name:"folder",fn:this._folderFilter})}function FileLikeObject(fileOrInput){var isInput=angular.isElement(fileOrInput),fakePathOrObject=isInput?fileOrInput.value:fileOrInput,postfix=angular.isString(fakePathOrObject)?"FakePath":"Object",method="_createFrom"+postfix;this[method](fakePathOrObject)}function FileItem(uploader,some,options){var isInput=angular.isElement(some),input=isInput?angular.element(some):null,file=isInput?null:some;angular.extend(this,{url:uploader.url,alias:uploader.alias,headers:angular.copy(uploader.headers),formData:angular.copy(uploader.formData),removeAfterUpload:uploader.removeAfterUpload,withCredentials:uploader.withCredentials,method:uploader.method},options,{uploader:uploader,file:new FileUploader.FileLikeObject(some),isReady:!1,isUploading:!1,isUploaded:!1,isSuccess:!1,isCancel:!1,isError:!1,progress:0,index:null,_file:file,_input:input}),input&&this._replaceNode(input)}function FileDirective(options){angular.extend(this,options),this.uploader._directives[this.prop].push(this),this._saveLinks(),this.bind()}function FileSelect(options){FileSelect.super_.apply(this,arguments),this.uploader.isHTML5||this.element.removeAttr("multiple"),this.element.prop("value",null)}function FileDrop(options){FileDrop.super_.apply(this,arguments)}function FileOver(options){FileOver.super_.apply(this,arguments)}return FileUploader.prototype.isHTML5=!(!$window.File||!$window.FormData),FileUploader.prototype.addToQueue=function(files,options,filters){var list=this.isArrayLikeObject(files)?files:[files],arrayOfFilters=this._getFilters(filters),count=this.queue.length,addedFileItems=[];angular.forEach(list,function(some){var temp=new FileUploader.FileLikeObject(some);if(this._isValidFile(temp,arrayOfFilters,options)){var fileItem=new FileUploader.FileItem(this,some,options);addedFileItems.push(fileItem),this.queue.push(fileItem),this._onAfterAddingFile(fileItem)}else{var filter=this.filters[this._failFilterIndex];this._onWhenAddingFileFailed(temp,filter,options)}},this),this.queue.length!==count&&(this._onAfterAddingAll(addedFileItems),this.progress=this._getTotalProgress()),this._render(),this.autoUpload&&this.uploadAll()},FileUploader.prototype.removeFromQueue=function(value){var index=this.getIndexOfItem(value),item=this.queue[index];item.isUploading&&item.cancel(),this.queue.splice(index,1),item._destroy(),this.progress=this._getTotalProgress()},FileUploader.prototype.clearQueue=function(){for(;this.queue.length;)this.queue[0].remove();this.progress=0},FileUploader.prototype.uploadItem=function(value){var index=this.getIndexOfItem(value),item=this.queue[index],transport=this.isHTML5?"_xhrTransport":"_iframeTransport";item._prepareToUploading(),this.isUploading||(this.isUploading=!0,this[transport](item))},FileUploader.prototype.cancelItem=function(value){var index=this.getIndexOfItem(value),item=this.queue[index],prop=this.isHTML5?"_xhr":"_form";item&&item.isUploading&&item[prop].abort()},FileUploader.prototype.uploadAll=function(){var items=this.getNotUploadedItems().filter(function(item){return!item.isUploading});items.length&&(angular.forEach(items,function(item){item._prepareToUploading()}),items[0].upload())},FileUploader.prototype.cancelAll=function(){var items=this.getNotUploadedItems();angular.forEach(items,function(item){item.cancel()})},FileUploader.prototype.isFile=function(value){var fn=$window.File;return fn&&value instanceof fn},FileUploader.prototype.isFileLikeObject=function(value){return value instanceof FileUploader.FileLikeObject},FileUploader.prototype.isArrayLikeObject=function(value){return angular.isObject(value)&&"length"in value},FileUploader.prototype.getIndexOfItem=function(value){return angular.isNumber(value)?value:this.queue.indexOf(value)},FileUploader.prototype.getNotUploadedItems=function(){return this.queue.filter(function(item){return!item.isUploaded})},FileUploader.prototype.getReadyItems=function(){return this.queue.filter(function(item){return item.isReady&&!item.isUploading}).sort(function(item1,item2){return item1.index-item2.index})},FileUploader.prototype.destroy=function(){angular.forEach(this._directives,function(key){angular.forEach(this._directives[key],function(object){object.destroy()},this)},this)},FileUploader.prototype.onAfterAddingAll=function(fileItems){},FileUploader.prototype.onAfterAddingFile=function(fileItem){},FileUploader.prototype.onWhenAddingFileFailed=function(item,filter,options){},FileUploader.prototype.onBeforeUploadItem=function(fileItem){},FileUploader.prototype.onProgressItem=function(fileItem,progress){},FileUploader.prototype.onProgressAll=function(progress){},FileUploader.prototype.onSuccessItem=function(item,response,status,headers){},FileUploader.prototype.onErrorItem=function(item,response,status,headers){},FileUploader.prototype.onCancelItem=function(item,response,status,headers){},FileUploader.prototype.onCompleteItem=function(item,response,status,headers){},FileUploader.prototype.onCompleteAll=function(){},FileUploader.prototype._getTotalProgress=function(value){if(this.removeAfterUpload)return value||0;var notUploaded=this.getNotUploadedItems().length,uploaded=notUploaded?this.queue.length-notUploaded:this.queue.length,ratio=100/this.queue.length,current=(value||0)*ratio/100;return Math.round(uploaded*ratio+current)},FileUploader.prototype._getFilters=function(filters){if(angular.isUndefined(filters))return this.filters;if(angular.isArray(filters))return filters;var names=filters.match(/[^\s,]+/g);return this.filters.filter(function(filter){return names.indexOf(filter.name)!==-1},this)},FileUploader.prototype._render=function(){$rootScope.$$phase||$rootScope.$apply()},FileUploader.prototype._folderFilter=function(item){return!(!item.size&&!item.type)},FileUploader.prototype._queueLimitFilter=function(){return this.queue.length<this.queueLimit},FileUploader.prototype._isValidFile=function(file,filters,options){return this._failFilterIndex=-1,!filters.length||filters.every(function(filter){return this._failFilterIndex++,filter.fn.call(this,file,options)},this)},FileUploader.prototype._isSuccessCode=function(status){return status>=200&&status<300||304===status},FileUploader.prototype._transformResponse=function(response,headers){var headersGetter=this._headersGetter(headers);return angular.forEach($http.defaults.transformResponse,function(transformFn){response=transformFn(response,headersGetter)}),response},FileUploader.prototype._parseHeaders=function(headers){var key,val,i,parsed={};return headers?(angular.forEach(headers.split("\n"),function(line){i=line.indexOf(":"),key=line.slice(0,i).trim().toLowerCase(),val=line.slice(i+1).trim(),key&&(parsed[key]=parsed[key]?parsed[key]+", "+val:val)}),parsed):parsed},FileUploader.prototype._headersGetter=function(parsedHeaders){return function(name){return name?parsedHeaders[name.toLowerCase()]||null:parsedHeaders}},FileUploader.prototype._xhrTransport=function(item){var xhr=item._xhr=new XMLHttpRequest,form=new FormData,that=this;that._onBeforeUploadItem(item),angular.forEach(item.formData,function(obj){
angular.forEach(obj,function(value,key){form.append(key,value)})}),form.append(item.alias,item._file,item.file.name),xhr.upload.onprogress=function(event){var progress=Math.round(event.lengthComputable?100*event.loaded/event.total:0);that._onProgressItem(item,progress)},xhr.onload=function(){var headers=that._parseHeaders(xhr.getAllResponseHeaders()),response=that._transformResponse(xhr.response,headers),gist=that._isSuccessCode(xhr.status)?"Success":"Error",method="_on"+gist+"Item";that[method](item,response,xhr.status,headers),that._onCompleteItem(item,response,xhr.status,headers)},xhr.onerror=function(){var headers=that._parseHeaders(xhr.getAllResponseHeaders()),response=that._transformResponse(xhr.response,headers);that._onErrorItem(item,response,xhr.status,headers),that._onCompleteItem(item,response,xhr.status,headers)},xhr.onabort=function(){var headers=that._parseHeaders(xhr.getAllResponseHeaders()),response=that._transformResponse(xhr.response,headers);that._onCancelItem(item,response,xhr.status,headers),that._onCompleteItem(item,response,xhr.status,headers)},xhr.open(item.method,item.url,!0),xhr.withCredentials=item.withCredentials,angular.forEach(item.headers,function(value,name){xhr.setRequestHeader(name,value)}),xhr.send(form),this._render()},FileUploader.prototype._iframeTransport=function(item){var form=angular.element('<form style="display: none;" />'),iframe=angular.element('<iframe name="iframeTransport'+Date.now()+'">'),input=item._input,that=this;item._form&&item._form.replaceWith(input),item._form=form,that._onBeforeUploadItem(item),input.prop("name",item.alias),angular.forEach(item.formData,function(obj){angular.forEach(obj,function(value,key){var element=angular.element('<input type="hidden" name="'+key+'" />');element.val(value),form.append(element)})}),form.prop({action:item.url,method:"POST",target:iframe.prop("name"),enctype:"multipart/form-data",encoding:"multipart/form-data"}),iframe.bind("load",function(){try{var html=iframe[0].contentDocument.body.innerHTML}catch(e){}var xhr={response:html,status:200,dummy:!0},headers={},response=that._transformResponse(xhr.response,headers);that._onSuccessItem(item,response,xhr.status,headers),that._onCompleteItem(item,response,xhr.status,headers)}),form.abort=function(){var response,xhr={status:0,dummy:!0},headers={};iframe.unbind("load").prop("src","javascript:false;"),form.replaceWith(input),that._onCancelItem(item,response,xhr.status,headers),that._onCompleteItem(item,response,xhr.status,headers)},input.after(form),form.append(input).append(iframe),form[0].submit(),this._render()},FileUploader.prototype._onWhenAddingFileFailed=function(item,filter,options){this.onWhenAddingFileFailed(item,filter,options)},FileUploader.prototype._onAfterAddingFile=function(item){this.onAfterAddingFile(item)},FileUploader.prototype._onAfterAddingAll=function(items){this.onAfterAddingAll(items)},FileUploader.prototype._onBeforeUploadItem=function(item){item._onBeforeUpload(),this.onBeforeUploadItem(item)},FileUploader.prototype._onProgressItem=function(item,progress){var total=this._getTotalProgress(progress);this.progress=total,item._onProgress(progress),this.onProgressItem(item,progress),this.onProgressAll(total),this._render()},FileUploader.prototype._onSuccessItem=function(item,response,status,headers){item._onSuccess(response,status,headers),this.onSuccessItem(item,response,status,headers)},FileUploader.prototype._onErrorItem=function(item,response,status,headers){item._onError(response,status,headers),this.onErrorItem(item,response,status,headers)},FileUploader.prototype._onCancelItem=function(item,response,status,headers){item._onCancel(response,status,headers),this.onCancelItem(item,response,status,headers)},FileUploader.prototype._onCompleteItem=function(item,response,status,headers){item._onComplete(response,status,headers),this.onCompleteItem(item,response,status,headers);var nextItem=this.getReadyItems()[0];return this.isUploading=!1,angular.isDefined(nextItem)?void nextItem.upload():(this.onCompleteAll(),this.progress=this._getTotalProgress(),void this._render())},FileUploader.isFile=FileUploader.prototype.isFile,FileUploader.isFileLikeObject=FileUploader.prototype.isFileLikeObject,FileUploader.isArrayLikeObject=FileUploader.prototype.isArrayLikeObject,FileUploader.isHTML5=FileUploader.prototype.isHTML5,FileUploader.inherit=function(target,source){target.prototype=Object.create(source.prototype),target.prototype.constructor=target,target.super_=source},FileUploader.FileLikeObject=FileLikeObject,FileUploader.FileItem=FileItem,FileUploader.FileDirective=FileDirective,FileUploader.FileSelect=FileSelect,FileUploader.FileDrop=FileDrop,FileUploader.FileOver=FileOver,FileLikeObject.prototype._createFromFakePath=function(path){this.lastModifiedDate=null,this.size=null,this.type="like/"+path.slice(path.lastIndexOf(".")+1).toLowerCase(),this.name=path.slice(path.lastIndexOf("/")+path.lastIndexOf("\\")+2)},FileLikeObject.prototype._createFromObject=function(object){this.lastModifiedDate=angular.copy(object.lastModifiedDate),this.size=object.size,this.type=object.type,this.name=object.name},FileItem.prototype.upload=function(){this.uploader.uploadItem(this)},FileItem.prototype.cancel=function(){this.uploader.cancelItem(this)},FileItem.prototype.remove=function(){this.uploader.removeFromQueue(this)},FileItem.prototype.onBeforeUpload=function(){},FileItem.prototype.onProgress=function(progress){},FileItem.prototype.onSuccess=function(response,status,headers){},FileItem.prototype.onError=function(response,status,headers){},FileItem.prototype.onCancel=function(response,status,headers){},FileItem.prototype.onComplete=function(response,status,headers){},FileItem.prototype._onBeforeUpload=function(){this.isReady=!0,this.isUploading=!0,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.onBeforeUpload()},FileItem.prototype._onProgress=function(progress){this.progress=progress,this.onProgress(progress)},FileItem.prototype._onSuccess=function(response,status,headers){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!0,this.isCancel=!1,this.isError=!1,this.progress=100,this.index=null,this.onSuccess(response,status,headers)},FileItem.prototype._onError=function(response,status,headers){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!1,this.isCancel=!1,this.isError=!0,this.progress=0,this.index=null,this.onError(response,status,headers)},FileItem.prototype._onCancel=function(response,status,headers){this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!0,this.isError=!1,this.progress=0,this.index=null,this.onCancel(response,status,headers)},FileItem.prototype._onComplete=function(response,status,headers){this.onComplete(response,status,headers),this.removeAfterUpload&&this.remove()},FileItem.prototype._destroy=function(){this._input&&this._input.remove(),this._form&&this._form.remove(),delete this._form,delete this._input},FileItem.prototype._prepareToUploading=function(){this.index=this.index||++this.uploader._nextIndex,this.isReady=!0},FileItem.prototype._replaceNode=function(input){var clone=$compile(input.clone())(input.scope());clone.prop("value",null),input.css("display","none"),input.after(clone)},FileDirective.prototype.events={},FileDirective.prototype.bind=function(){for(var key in this.events){var prop=this.events[key];this.element.bind(key,this[prop])}},FileDirective.prototype.unbind=function(){for(var key in this.events)this.element.unbind(key,this.events[key])},FileDirective.prototype.destroy=function(){var index=this.uploader._directives[this.prop].indexOf(this);this.uploader._directives[this.prop].splice(index,1),this.unbind()},FileDirective.prototype._saveLinks=function(){for(var key in this.events){var prop=this.events[key];this[prop]=this[prop].bind(this)}},FileUploader.inherit(FileSelect,FileDirective),FileSelect.prototype.events={$destroy:"destroy",change:"onChange"},FileSelect.prototype.prop="select",FileSelect.prototype.getOptions=function(){},FileSelect.prototype.getFilters=function(){},FileSelect.prototype.isEmptyAfterSelection=function(){return!!this.element.attr("multiple")},FileSelect.prototype.onChange=function(){var files=this.uploader.isHTML5?this.element[0].files:this.element[0],options=this.getOptions(),filters=this.getFilters();this.uploader.isHTML5||this.destroy(),this.uploader.addToQueue(files,options,filters),this.isEmptyAfterSelection()&&this.element.prop("value",null)},FileUploader.inherit(FileDrop,FileDirective),FileDrop.prototype.events={$destroy:"destroy",drop:"onDrop",dragover:"onDragOver",dragleave:"onDragLeave"},FileDrop.prototype.prop="drop",FileDrop.prototype.getOptions=function(){},FileDrop.prototype.getFilters=function(){},FileDrop.prototype.onDrop=function(event){var transfer=this._getTransfer(event);if(transfer){var options=this.getOptions(),filters=this.getFilters();this._preventAndStop(event),angular.forEach(this.uploader._directives.over,this._removeOverClass,this),this.uploader.addToQueue(transfer.files,options,filters)}},FileDrop.prototype.onDragOver=function(event){var transfer=this._getTransfer(event);this._haveFiles(transfer.types)&&(transfer.dropEffect="copy",this._preventAndStop(event),angular.forEach(this.uploader._directives.over,this._addOverClass,this))},FileDrop.prototype.onDragLeave=function(event){event.currentTarget===this.element[0]&&(this._preventAndStop(event),angular.forEach(this.uploader._directives.over,this._removeOverClass,this))},FileDrop.prototype._getTransfer=function(event){return event.dataTransfer?event.dataTransfer:event.originalEvent.dataTransfer},FileDrop.prototype._preventAndStop=function(event){event.preventDefault(),event.stopPropagation()},FileDrop.prototype._haveFiles=function(types){return!!types&&(types.indexOf?types.indexOf("Files")!==-1:!!types.contains&&types.contains("Files"))},FileDrop.prototype._addOverClass=function(item){item.addOverClass()},FileDrop.prototype._removeOverClass=function(item){item.removeOverClass()},FileUploader.inherit(FileOver,FileDirective),FileOver.prototype.events={$destroy:"destroy"},FileOver.prototype.prop="over",FileOver.prototype.overClass="nv-file-over",FileOver.prototype.addOverClass=function(){this.element.addClass(this.getOverClass())},FileOver.prototype.removeOverClass=function(){this.element.removeClass(this.getOverClass())},FileOver.prototype.getOverClass=function(){return this.overClass},FileUploader}]).directive("nvFileSelect",["$parse","FileUploader",function($parse,FileUploader){return{link:function(scope,element,attributes){var uploader=scope.$eval(attributes.uploader);if(!(uploader instanceof FileUploader))throw new TypeError('"Uploader" must be an instance of FileUploader');var object=new FileUploader.FileSelect({uploader:uploader,element:element});object.getOptions=$parse(attributes.options).bind(object,scope),object.getFilters=function(){return attributes.filters}}}}]).directive("nvFileDrop",["$parse","FileUploader",function($parse,FileUploader){return{link:function(scope,element,attributes){var uploader=scope.$eval(attributes.uploader);if(!(uploader instanceof FileUploader))throw new TypeError('"Uploader" must be an instance of FileUploader');if(uploader.isHTML5){var object=new FileUploader.FileDrop({uploader:uploader,element:element});object.getOptions=$parse(attributes.options).bind(object,scope),object.getFilters=function(){return attributes.filters}}}}}]).directive("nvFileOver",["FileUploader",function(FileUploader){return{link:function(scope,element,attributes){var uploader=scope.$eval(attributes.uploader);if(!(uploader instanceof FileUploader))throw new TypeError('"Uploader" must be an instance of FileUploader');var object=new FileUploader.FileOver({uploader:uploader,element:element});object.getOverClass=function(){return attributes.overClass||this.overClass}}}}]),module}),function(factory){"function"==typeof define&&define.amd?define(["jquery"],factory):factory("object"==typeof exports?require("jquery"):jQuery)}(function($){"use strict";function splitAccesskey(val){for(var k,t=val.split(/\s+/),keys=[],i=0;k=t[i];i++)k=k.charAt(0).toUpperCase(),keys.push(k);return keys}function inputLabel(node){return node.id&&$('label[for="'+node.id+'"]').val()||node.name}function menuChildren(items,$children,counter){return counter||(counter=0),$children.each(function(){var label,item,$node=$(this),node=this,nodeName=this.nodeName.toLowerCase();switch("label"===nodeName&&$node.find("input, textarea, select").length&&(label=$node.text(),$node=$node.children().first(),node=$node.get(0),nodeName=node.nodeName.toLowerCase()),nodeName){case"menu":item={name:$node.attr("label"),items:{}},counter=menuChildren(item.items,$node.children(),counter);break;case"a":case"button":item={name:$node.text(),disabled:!!$node.attr("disabled"),callback:function(){return function(){$node.click()}}()};break;case"menuitem":case"command":switch($node.attr("type")){case void 0:case"command":case"menuitem":item={name:$node.attr("label"),disabled:!!$node.attr("disabled"),icon:$node.attr("icon"),callback:function(){return function(){$node.click()}}()};break;case"checkbox":item={type:"checkbox",disabled:!!$node.attr("disabled"),name:$node.attr("label"),selected:!!$node.attr("checked")};break;case"radio":item={type:"radio",disabled:!!$node.attr("disabled"),name:$node.attr("label"),radio:$node.attr("radiogroup"),value:$node.attr("id"),selected:!!$node.attr("checked")};break;default:item=void 0}break;case"hr":item="-------";break;case"input":switch($node.attr("type")){case"text":item={type:"text",name:label||inputLabel(node),disabled:!!$node.attr("disabled"),value:$node.val()};break;case"checkbox":item={type:"checkbox",name:label||inputLabel(node),disabled:!!$node.attr("disabled"),selected:!!$node.attr("checked")};break;case"radio":item={type:"radio",name:label||inputLabel(node),disabled:!!$node.attr("disabled"),radio:!!$node.attr("name"),value:$node.val(),selected:!!$node.attr("checked")};break;default:item=void 0}break;case"select":item={type:"select",name:label||inputLabel(node),disabled:!!$node.attr("disabled"),selected:$node.val(),options:{}},$node.children().each(function(){item.options[this.value]=$(this).text()});break;case"textarea":item={type:"textarea",name:label||inputLabel(node),disabled:!!$node.attr("disabled"),value:$node.val()};break;case"label":break;default:item={type:"html",html:$node.clone(!0)}}item&&(counter++,items["key"+counter]=item)}),counter}if($.support.htmlMenuitem="HTMLMenuItemElement"in window,$.support.htmlCommand="HTMLCommandElement"in window,$.support.eventSelectstart="onselectstart"in document.documentElement,!$.ui||!$.ui.widget){var _cleanData=$.cleanData;$.cleanData=function(elems){for(var elem,i=0;null!=(elem=elems[i]);i++)try{$(elem).triggerHandler("remove")}catch(e){}_cleanData(elems)}}var $currentTrigger=null,initialized=!1,$win=$(window),counter=0,namespaces={},menus={},types={},defaults={selector:null,appendTo:null,trigger:"right",autoHide:!1,delay:200,reposition:!0,determinePosition:function($menu){if($.ui&&$.ui.position)$menu.css("display","block").position({my:"center top",at:"center bottom",of:this,offset:"0 5",collision:"fit"}).css("display","none");else{var offset=this.offset();offset.top+=this.outerHeight(),offset.left+=this.outerWidth()/2-$menu.outerWidth()/2,$menu.css(offset)}},position:function(opt,x,y){var offset;if(!x&&!y)return void opt.determinePosition.call(this,opt.$menu);offset="maintain"===x&&"maintain"===y?opt.$menu.position():{top:y,left:x};var bottom=$win.scrollTop()+$win.height(),right=$win.scrollLeft()+$win.width(),height=opt.$menu.outerHeight(),width=opt.$menu.outerWidth();offset.top+height>bottom&&(offset.top-=height),offset.top<0&&(offset.top=0),offset.left+width>right&&(offset.left-=width),opt.$menu.css(offset)},positionSubmenu:function($menu){if($.ui&&$.ui.position)$menu.css("display","block").position({my:"left top",at:"right top",of:this,collision:"flipfit fit"}).css("display","");else{var offset={top:0,left:this.outerWidth()};$menu.css(offset)}},zIndex:1,animation:{duration:50,show:"slideDown",hide:"slideUp"},events:{show:$.noop,hide:$.noop},callback:null,items:{}},hoveract={timer:null,pageX:null,pageY:null},zindex=function($t){for(var zin=0,$tt=$t;;)if(zin=Math.max(zin,parseInt($tt.css("z-index"),10)||0),$tt=$tt.parent(),!$tt||!$tt.length||"html body".indexOf($tt.prop("nodeName").toLowerCase())>-1)break;return zin},handle={abortevent:function(e){e.preventDefault(),e.stopImmediatePropagation()},contextmenu:function(e){var $this=$(this);if("right"===e.data.trigger&&(e.preventDefault(),e.stopImmediatePropagation()),!("right"!==e.data.trigger&&"demand"!==e.data.trigger&&e.originalEvent||$this.hasClass("context-menu-active")||$this.hasClass("context-menu-disabled"))){if($currentTrigger=$this,e.data.build){var built=e.data.build($currentTrigger,e);if(built===!1)return;if(e.data=$.extend(!0,{},defaults,e.data,built||{}),!e.data.items||$.isEmptyObject(e.data.items))throw window.console&&(console.error||console.log).call(console,"No items specified to show in contextMenu"),new Error("No Items specified");e.data.$trigger=$currentTrigger,op.create(e.data)}var showMenu=!1;for(var item in e.data.items)if(e.data.items.hasOwnProperty(item)){var visible;visible=$.isFunction(e.data.items[item].visible)?e.data.items[item].visible.call($(e.currentTarget),item,e.data):"undefined"==typeof item.visible||e.data.items[item].visible===!0,visible&&(showMenu=!0)}showMenu&&op.show.call($this,e.data,e.pageX,e.pageY)}},click:function(e){e.preventDefault(),e.stopImmediatePropagation(),$(this).trigger($.Event("contextmenu",{data:e.data,pageX:e.pageX,pageY:e.pageY}))},mousedown:function(e){var $this=$(this);$currentTrigger&&$currentTrigger.length&&!$currentTrigger.is($this)&&$currentTrigger.data("contextMenu").$menu.trigger("contextmenu:hide"),2===e.button&&($currentTrigger=$this.data("contextMenuActive",!0))},mouseup:function(e){var $this=$(this);$this.data("contextMenuActive")&&$currentTrigger&&$currentTrigger.length&&$currentTrigger.is($this)&&!$this.hasClass("context-menu-disabled")&&(e.preventDefault(),e.stopImmediatePropagation(),$currentTrigger=$this,$this.trigger($.Event("contextmenu",{data:e.data,pageX:e.pageX,pageY:e.pageY}))),$this.removeData("contextMenuActive")},mouseenter:function(e){var $this=$(this),$related=$(e.relatedTarget),$document=$(document);$related.is(".context-menu-list")||$related.closest(".context-menu-list").length||$currentTrigger&&$currentTrigger.length||(hoveract.pageX=e.pageX,hoveract.pageY=e.pageY,hoveract.data=e.data,$document.on("mousemove.contextMenuShow",handle.mousemove),hoveract.timer=setTimeout(function(){hoveract.timer=null,$document.off("mousemove.contextMenuShow"),$currentTrigger=$this,$this.trigger($.Event("contextmenu",{data:hoveract.data,pageX:hoveract.pageX,pageY:hoveract.pageY}))},e.data.delay))},mousemove:function(e){hoveract.pageX=e.pageX,hoveract.pageY=e.pageY},mouseleave:function(e){var $related=$(e.relatedTarget);if(!$related.is(".context-menu-list")&&!$related.closest(".context-menu-list").length){try{clearTimeout(hoveract.timer)}catch(e){}hoveract.timer=null}},layerClick:function(e){var target,offset,$this=$(this),root=$this.data("contextMenuRoot"),button=e.button,x=e.pageX,y=e.pageY;e.preventDefault(),e.stopImmediatePropagation(),setTimeout(function(){var $window,triggerAction="left"===root.trigger&&0===button||"right"===root.trigger&&2===button;if(document.elementFromPoint&&(root.$layer.hide(),target=document.elementFromPoint(x-$win.scrollLeft(),y-$win.scrollTop()),root.$layer.show()),root.reposition&&triggerAction)if(document.elementFromPoint){if(root.$trigger.is(target)||root.$trigger.has(target).length)return void root.position.call(root.$trigger,root,x,y)}else if(offset=root.$trigger.offset(),$window=$(window),offset.top+=$window.scrollTop(),offset.top<=e.pageY&&(offset.left+=$window.scrollLeft(),offset.left<=e.pageX&&(offset.bottom=offset.top+root.$trigger.outerHeight(),offset.bottom>=e.pageY&&(offset.right=offset.left+root.$trigger.outerWidth(),offset.right>=e.pageX))))return void root.position.call(root.$trigger,root,x,y);target&&triggerAction&&root.$trigger.one("contextmenu:hidden",function(){$(target).contextMenu({x:x,y:y})}),root.$menu.trigger("contextmenu:hide")},50)},keyStop:function(e,opt){opt.isInput||e.preventDefault(),e.stopPropagation()},key:function(e){var opt={};switch($currentTrigger&&(opt=$currentTrigger.data("contextMenu")||{}),e.keyCode){case 9:case 38:if(handle.keyStop(e,opt),opt.isInput){if(9===e.keyCode&&e.shiftKey)return e.preventDefault(),opt.$selected&&opt.$selected.find("input, textarea, select").blur(),void opt.$menu.trigger("prevcommand");if(38===e.keyCode&&"checkbox"===opt.$selected.find("input, textarea, select").prop("type"))return void e.preventDefault()}else if(9!==e.keyCode||e.shiftKey)return void opt.$menu.trigger("prevcommand");case 40:if(handle.keyStop(e,opt),!opt.isInput)return void opt.$menu.trigger("nextcommand");if(9===e.keyCode)return e.preventDefault(),opt.$selected&&opt.$selected.find("input, textarea, select").blur(),void opt.$menu.trigger("nextcommand");if(40===e.keyCode&&"checkbox"===opt.$selected.find("input, textarea, select").prop("type"))return void e.preventDefault();break;case 37:if(handle.keyStop(e,opt),opt.isInput||!opt.$selected||!opt.$selected.length)break;if(!opt.$selected.parent().hasClass("context-menu-root")){var $parent=opt.$selected.parent().parent();return opt.$selected.trigger("contextmenu:blur"),void(opt.$selected=$parent)}break;case 39:if(handle.keyStop(e,opt),opt.isInput||!opt.$selected||!opt.$selected.length)break;var itemdata=opt.$selected.data("contextMenu")||{};if(itemdata.$menu&&opt.$selected.hasClass("context-menu-submenu"))return opt.$selected=null,itemdata.$selected=null,void itemdata.$menu.trigger("nextcommand");break;case 35:case 36:return opt.$selected&&opt.$selected.find("input, textarea, select").length?void 0:((opt.$selected&&opt.$selected.parent()||opt.$menu).children(":not(.disabled, .not-selectable)")[36===e.keyCode?"first":"last"]().trigger("contextmenu:focus"),void e.preventDefault());case 13:if(handle.keyStop(e,opt),opt.isInput){if(opt.$selected&&!opt.$selected.is("textarea, select"))return void e.preventDefault();break}return void("undefined"!=typeof opt.$selected&&opt.$selected.trigger("mouseup"));case 32:case 33:case 34:return void handle.keyStop(e,opt);case 27:return handle.keyStop(e,opt),void opt.$menu.trigger("contextmenu:hide");default:var k=String.fromCharCode(e.keyCode).toUpperCase();if(opt.accesskeys&&opt.accesskeys[k])return void opt.accesskeys[k].$node.trigger(opt.accesskeys[k].$menu?"contextmenu:focus":"mouseup")}e.stopPropagation(),"undefined"!=typeof opt.$selected&&opt.$selected.trigger(e)},prevItem:function(e){e.stopPropagation();var opt=$(this).data("contextMenu")||{};if(opt.$selected){var $s=opt.$selected;opt=opt.$selected.parent().data("contextMenu")||{},opt.$selected=$s}for(var $children=opt.$menu.children(),$prev=opt.$selected&&opt.$selected.prev().length?opt.$selected.prev():$children.last(),$round=$prev;$prev.hasClass("disabled")||$prev.hasClass("not-selectable");)if($prev=$prev.prev().length?$prev.prev():$children.last(),$prev.is($round))return;opt.$selected&&handle.itemMouseleave.call(opt.$selected.get(0),e),handle.itemMouseenter.call($prev.get(0),e);var $input=$prev.find("input, textarea, select");$input.length&&$input.focus()},nextItem:function(e){e.stopPropagation();var opt=$(this).data("contextMenu")||{};if(opt.$selected){var $s=opt.$selected;opt=opt.$selected.parent().data("contextMenu")||{},opt.$selected=$s}for(var $children=opt.$menu.children(),$next=opt.$selected&&opt.$selected.next().length?opt.$selected.next():$children.first(),$round=$next;$next.hasClass("disabled")||$next.hasClass("not-selectable");)if($next=$next.next().length?$next.next():$children.first(),$next.is($round))return;opt.$selected&&handle.itemMouseleave.call(opt.$selected.get(0),e),handle.itemMouseenter.call($next.get(0),e);var $input=$next.find("input, textarea, select");$input.length&&$input.focus()},focusInput:function(){var $this=$(this).closest(".context-menu-item"),data=$this.data(),opt=data.contextMenu,root=data.contextMenuRoot;root.$selected=opt.$selected=$this,root.isInput=opt.isInput=!0},blurInput:function(){var $this=$(this).closest(".context-menu-item"),data=$this.data(),opt=data.contextMenu,root=data.contextMenuRoot;root.isInput=opt.isInput=!1},menuMouseenter:function(){var root=$(this).data().contextMenuRoot;root.hovering=!0},menuMouseleave:function(e){var root=$(this).data().contextMenuRoot;root.$layer&&root.$layer.is(e.relatedTarget)&&(root.hovering=!1)},itemMouseenter:function(e){var $this=$(this),data=$this.data(),opt=data.contextMenu,root=data.contextMenuRoot;return root.hovering=!0,e&&root.$layer&&root.$layer.is(e.relatedTarget)&&(e.preventDefault(),e.stopImmediatePropagation()),(opt.$menu?opt:root).$menu.children(".hover").trigger("contextmenu:blur"),$this.hasClass("disabled")||$this.hasClass("not-selectable")?void(opt.$selected=null):void $this.trigger("contextmenu:focus")},itemMouseleave:function(e){var $this=$(this),data=$this.data(),opt=data.contextMenu,root=data.contextMenuRoot;return root!==opt&&root.$layer&&root.$layer.is(e.relatedTarget)?("undefined"!=typeof root.$selected&&root.$selected.trigger("contextmenu:blur"),e.preventDefault(),e.stopImmediatePropagation(),void(root.$selected=opt.$selected=opt.$node)):void $this.trigger("contextmenu:blur")},itemClick:function(e){var callback,$this=$(this),data=$this.data(),opt=data.contextMenu,root=data.contextMenuRoot,key=data.contextMenuKey;if(opt.items[key]&&!$this.is(".disabled, .context-menu-submenu, .context-menu-separator, .not-selectable")){if(e.preventDefault(),e.stopImmediatePropagation(),$.isFunction(root.callbacks[key])&&Object.prototype.hasOwnProperty.call(root.callbacks,key))callback=root.callbacks[key];else{if(!$.isFunction(root.callback))return;callback=root.callback}callback.call(root.$trigger,key,root)!==!1?root.$menu.trigger("contextmenu:hide"):root.$menu.parent().length&&op.update.call(root.$trigger,root)}},inputClick:function(e){e.stopImmediatePropagation()},hideMenu:function(e,data){var root=$(this).data("contextMenuRoot");op.hide.call(root.$trigger,root,data&&data.force)},focusItem:function(e){e.stopPropagation();var $this=$(this),data=$this.data(),opt=data.contextMenu,root=data.contextMenuRoot;$this.addClass("hover visible").siblings().removeClass("visible").filter(".hover").trigger("contextmenu:blur"),opt.$selected=root.$selected=$this,opt.$node&&root.positionSubmenu.call(opt.$node,opt.$menu)},blurItem:function(e){e.stopPropagation();var $this=$(this),data=$this.data(),opt=data.contextMenu;opt.autoHide&&$this.removeClass("visible"),$this.removeClass("hover"),opt.$selected=null}},op={show:function(opt,x,y){var $trigger=$(this),css={};return $("#context-menu-layer").trigger("mousedown"),opt.$trigger=$trigger,opt.events.show.call($trigger,opt)===!1?void($currentTrigger=null):(op.update.call($trigger,opt),opt.position.call($trigger,opt,x,y),opt.zIndex&&(css.zIndex=zindex($trigger)+opt.zIndex),op.layer.call(opt.$menu,opt,css.zIndex),opt.$menu.find("ul").css("zIndex",css.zIndex+1),opt.$menu.css(css)[opt.animation.show](opt.animation.duration,function(){$trigger.trigger("contextmenu:visible")}),$trigger.data("contextMenu",opt).addClass("context-menu-active"),$(document).off("keydown.contextMenu").on("keydown.contextMenu",handle.key),void(opt.autoHide&&$(document).on("mousemove.contextMenuAutoHide",function(e){var pos=$trigger.offset();pos.right=pos.left+$trigger.outerWidth(),pos.bottom=pos.top+$trigger.outerHeight(),!opt.$layer||opt.hovering||e.pageX>=pos.left&&e.pageX<=pos.right&&e.pageY>=pos.top&&e.pageY<=pos.bottom||opt.$menu.trigger("contextmenu:hide")})))},hide:function(opt,force){var $trigger=$(this);if(opt||(opt=$trigger.data("contextMenu")||{}),force||!opt.events||opt.events.hide.call($trigger,opt)!==!1){if($trigger.removeData("contextMenu").removeClass("context-menu-active"),opt.$layer){setTimeout(function($layer){return function(){$layer.remove()}}(opt.$layer),10);try{delete opt.$layer}catch(e){opt.$layer=null}}$currentTrigger=null,opt.$menu.find(".hover").trigger("contextmenu:blur"),opt.$selected=null,$(document).off(".contextMenuAutoHide").off("keydown.contextMenu"),opt.$menu&&opt.$menu[opt.animation.hide](opt.animation.duration,function(){opt.build&&(opt.$menu.remove(),$.each(opt,function(key){switch(key){case"ns":case"selector":case"build":case"trigger":return!0;default:opt[key]=void 0;try{delete opt[key]}catch(e){}return!0}})),setTimeout(function(){$trigger.trigger("contextmenu:hidden")},10)})}},create:function(opt,root){void 0===root&&(root=opt),opt.$menu=$('<ul class="context-menu-list"></ul>').addClass(opt.className||"").data({contextMenu:opt,contextMenuRoot:root}),$.each(["callbacks","commands","inputs"],function(i,k){opt[k]={},root[k]||(root[k]={})}),root.accesskeys||(root.accesskeys={}),$.each(opt.items,function(key,item){var $t=$('<li class="context-menu-item"></li>').addClass(item.className||""),$label=null,$input=null;if($t.on("click",$.noop),item.$node=$t.data({contextMenu:opt,contextMenuRoot:root,contextMenuKey:key}),"undefined"!=typeof item.accesskey)for(var ak,aks=splitAccesskey(item.accesskey),i=0;ak=aks[i];i++)if(!root.accesskeys[ak]){root.accesskeys[ak]=item,item._name=item.name.replace(new RegExp("("+ak+")","i"),'<span class="context-menu-accesskey">$1</span>');break}if("string"==typeof item)$t.addClass("context-menu-separator not-selectable");else if(item.type&&types[item.type])types[item.type].call($t,item,opt,root),$.each([opt,root],function(i,k){k.commands[key]=item,$.isFunction(item.callback)&&(k.callbacks[key]=item.callback)});else{switch("html"===item.type?$t.addClass("context-menu-html not-selectable"):item.type?($label=$("<label></label>").appendTo($t),$("<span></span>").html(item._name||item.name).appendTo($label),$t.addClass("context-menu-input"),opt.hasTypes=!0,$.each([opt,root],function(i,k){k.commands[key]=item,k.inputs[key]=item})):item.items&&(item.type="sub"),item.type){case"text":$input=$('<input type="text" value="1" name="" value="">').attr("name","context-menu-input-"+key).val(item.value||"").appendTo($label);break;case"textarea":$input=$('<textarea name=""></textarea>').attr("name","context-menu-input-"+key).val(item.value||"").appendTo($label),item.height&&$input.height(item.height);break;case"checkbox":$input=$('<input type="checkbox" value="1" name="" value="">').attr("name","context-menu-input-"+key).val(item.value||"").prop("checked",!!item.selected).prependTo($label);break;case"radio":$input=$('<input type="radio" value="1" name="" value="">').attr("name","context-menu-input-"+item.radio).val(item.value||"").prop("checked",!!item.selected).prependTo($label);break;case"select":$input=$('<select name="">').attr("name","context-menu-input-"+key).appendTo($label),item.options&&($.each(item.options,function(value,text){$("<option></option>").val(value).text(text).appendTo($input)}),$input.val(item.selected));break;case"sub":$("<span></span>").html(item._name||item.name).appendTo($t),item.appendTo=item.$node,op.create(item,root),$t.data("contextMenu",item).addClass("context-menu-submenu"),item.callback=null;break;case"html":$(item.html).appendTo($t);break;default:$.each([opt,root],function(i,k){k.commands[key]=item,$.isFunction(item.callback)&&(k.callbacks[key]=item.callback)}),$("<span></span>").html(item._name||item.name||"").appendTo($t)}item.type&&"sub"!==item.type&&"html"!==item.type&&($input.on("focus",handle.focusInput).on("blur",handle.blurInput),item.events&&$input.on(item.events,opt)),item.icon&&($.isFunction(item.icon)?item._icon=item.icon.call(this,$t,key,item):item._icon="icon icon-"+item.icon,$t.addClass(item._icon))}item.$input=$input,item.$label=$label,$t.appendTo(opt.$menu),!opt.hasTypes&&$.support.eventSelectstart&&$t.on("selectstart.disableTextSelect",handle.abortevent)}),opt.$node||opt.$menu.css("display","none").addClass("context-menu-root"),
opt.$menu.appendTo(opt.appendTo||document.body)},resize:function($menu,nested){$menu.css({position:"absolute",display:"block"}),$menu.data("width",Math.ceil($menu.width())),$menu.css({position:"static",minWidth:"0px",maxWidth:"100000px"}),$menu.find("> li > ul").each(function(){op.resize($(this),!0)}),nested||$menu.find("ul").addBack().css({position:"",display:"",minWidth:"",maxWidth:""}).width(function(){return $(this).data("width")})},update:function(opt,root){var $trigger=this;void 0===root&&(root=opt,op.resize(opt.$menu)),opt.$menu.children().each(function(){var visible,$item=$(this),key=$item.data("contextMenuKey"),item=opt.items[key],disabled=$.isFunction(item.disabled)&&item.disabled.call($trigger,key,root)||item.disabled===!0;if(visible=$.isFunction(item.visible)?item.visible.call($trigger,key,root):"undefined"==typeof item.visible||item.visible===!0,$item[visible?"show":"hide"](),$item[disabled?"addClass":"removeClass"]("disabled"),$.isFunction(item.icon)&&($item.removeClass(item._icon),item._icon=item.icon.call(this,$trigger,key,item),$item.addClass(item._icon)),item.type)switch($item.find("input, select, textarea").prop("disabled",disabled),item.type){case"text":case"textarea":item.$input.val(item.value||"");break;case"checkbox":case"radio":item.$input.val(item.value||"").prop("checked",!!item.selected);break;case"select":item.$input.val(item.selected||"")}item.$menu&&op.update.call($trigger,item,root)})},layer:function(opt,zIndex){var $layer=opt.$layer=$('<div id="context-menu-layer" style="position:fixed; z-index:'+zIndex+'; top:0; left:0; opacity: 0; filter: alpha(opacity=0); background-color: #000;"></div>').css({height:$win.height(),width:$win.width(),display:"block"}).data("contextMenuRoot",opt).insertBefore(this).on("contextmenu",handle.abortevent).on("mousedown",handle.layerClick);return void 0===document.body.style.maxWidth&&$layer.css({position:"absolute",height:$(document).height()}),$layer}};$.fn.contextMenu=function(operation){var $t=this,$o=operation;if(this.length>0)if(void 0===operation)this.first().trigger("contextmenu");else if(operation.x&&operation.y)this.first().trigger($.Event("contextmenu",{pageX:operation.x,pageY:operation.y}));else if("hide"===operation){var $menu=this.first().data("contextMenu")?this.first().data("contextMenu").$menu:null;$menu&&$menu.trigger("contextmenu:hide")}else"destroy"===operation?$.contextMenu("destroy",{context:this}):$.isPlainObject(operation)?(operation.context=this,$.contextMenu("create",operation)):operation?this.removeClass("context-menu-disabled"):operation||this.addClass("context-menu-disabled");else $.each(menus,function(){this.selector===$t.selector&&($o.data=this,$.extend($o.data,{trigger:"demand"}))}),handle.contextmenu.call($o.target,$o);return this},$.contextMenu=function(operation,options){"string"!=typeof operation&&(options=operation,operation="create"),"string"==typeof options?options={selector:options}:void 0===options&&(options={});var o=$.extend(!0,{},defaults,options||{}),$document=$(document),$context=$document,_hasContext=!1;switch(o.context&&o.context.length?($context=$(o.context).first(),o.context=$context.get(0),_hasContext=o.context!==document):o.context=document,operation){case"create":if(!o.selector)throw new Error("No selector specified");if(o.selector.match(/.context-menu-(list|item|input)($|\s)/))throw new Error('Cannot bind to selector "'+o.selector+'" as it contains a reserved className');if(!o.build&&(!o.items||$.isEmptyObject(o.items)))throw new Error("No Items specified");switch(counter++,o.ns=".contextMenu"+counter,_hasContext||(namespaces[o.selector]=o.ns),menus[o.ns]=o,o.trigger||(o.trigger="right"),initialized||($document.on({"contextmenu:hide.contextMenu":handle.hideMenu,"prevcommand.contextMenu":handle.prevItem,"nextcommand.contextMenu":handle.nextItem,"contextmenu.contextMenu":handle.abortevent,"mouseenter.contextMenu":handle.menuMouseenter,"mouseleave.contextMenu":handle.menuMouseleave},".context-menu-list").on("mouseup.contextMenu",".context-menu-input",handle.inputClick).on({"mouseup.contextMenu":handle.itemClick,"contextmenu:focus.contextMenu":handle.focusItem,"contextmenu:blur.contextMenu":handle.blurItem,"contextmenu.contextMenu":handle.abortevent,"mouseenter.contextMenu":handle.itemMouseenter,"mouseleave.contextMenu":handle.itemMouseleave},".context-menu-item"),initialized=!0),$context.on("contextmenu"+o.ns,o.selector,o,handle.contextmenu),_hasContext&&$context.on("remove"+o.ns,function(){$(this).contextMenu("destroy")}),o.trigger){case"hover":$context.on("mouseenter"+o.ns,o.selector,o,handle.mouseenter).on("mouseleave"+o.ns,o.selector,o,handle.mouseleave);break;case"left":$context.on("click"+o.ns,o.selector,o,handle.click)}o.build||op.create(o);break;case"destroy":var $visibleMenu;if(_hasContext){var context=o.context;$.each(menus,function(ns,o){if(o.context!==context)return!0;$visibleMenu=$(".context-menu-list").filter(":visible"),$visibleMenu.length&&$visibleMenu.data().contextMenuRoot.$trigger.is($(o.context).find(o.selector))&&$visibleMenu.trigger("contextmenu:hide",{force:!0});try{menus[o.ns].$menu&&menus[o.ns].$menu.remove(),delete menus[o.ns]}catch(e){menus[o.ns]=null}return $(o.context).off(o.ns),!0})}else if(o.selector){if(namespaces[o.selector]){$visibleMenu=$(".context-menu-list").filter(":visible"),$visibleMenu.length&&$visibleMenu.data().contextMenuRoot.$trigger.is(o.selector)&&$visibleMenu.trigger("contextmenu:hide",{force:!0});try{menus[namespaces[o.selector]].$menu&&menus[namespaces[o.selector]].$menu.remove(),delete menus[namespaces[o.selector]]}catch(e){menus[namespaces[o.selector]]=null}$document.off(namespaces[o.selector])}}else $document.off(".contextMenu .contextMenuAutoHide"),$.each(menus,function(ns,o){$(o.context).off(o.ns)}),namespaces={},menus={},counter=0,initialized=!1,$("#context-menu-layer, .context-menu-list").remove();break;case"html5":(!$.support.htmlCommand&&!$.support.htmlMenuitem||"boolean"==typeof options&&options)&&$('menu[type="context"]').each(function(){this.id&&$.contextMenu({selector:"[contextmenu="+this.id+"]",items:$.contextMenu.fromMenu(this)})}).css("display","none");break;default:throw new Error('Unknown operation "'+operation+'"')}return this},$.contextMenu.setInputValues=function(opt,data){void 0===data&&(data={}),$.each(opt.inputs,function(key,item){switch(item.type){case"text":case"textarea":item.value=data[key]||"";break;case"checkbox":item.selected=!!data[key];break;case"radio":item.selected=(data[item.radio]||"")===item.value;break;case"select":item.selected=data[key]||""}})},$.contextMenu.getInputValues=function(opt,data){return void 0===data&&(data={}),$.each(opt.inputs,function(key,item){switch(item.type){case"text":case"textarea":case"select":data[key]=item.$input.val();break;case"checkbox":data[key]=item.$input.prop("checked");break;case"radio":item.$input.prop("checked")&&(data[item.radio]=item.value)}}),data},$.contextMenu.fromMenu=function(element){var $this=$(element),items={};return menuChildren(items,$this.children()),items},$.contextMenu.defaults=defaults,$.contextMenu.types=types,$.contextMenu.handle=handle,$.contextMenu.op=op,$.contextMenu.menus=menus}),function(factory){"function"==typeof define&&define.amd?define(["jquery"],factory):factory(jQuery)}(function($){function visible(element){for(var visibility=element.css("visibility");"inherit"===visibility;)element=element.parent(),visibility=element.css("visibility");return"hidden"!==visibility}function datepicker_getZindex(elem){for(var position,value;elem.length&&elem[0]!==document;){if(position=elem.css("position"),("absolute"===position||"relative"===position||"fixed"===position)&&(value=parseInt(elem.css("zIndex"),10),!isNaN(value)&&0!==value))return value;elem=elem.parent()}return 0}function Datepicker(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.regional.en=$.extend(!0,{},this.regional[""]),this.regional["en-US"]=$.extend(!0,{},this.regional.en),this.dpDiv=datepicker_bindHover($("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function datepicker_bindHover(dpDiv){var selector="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return dpDiv.on("mouseout",selector,function(){$(this).removeClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&$(this).removeClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&$(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",selector,datepicker_handleMouseover)}function datepicker_handleMouseover(){$.datepicker._isDisabledDatepicker(datepicker_instActive.inline?datepicker_instActive.dpDiv.parent()[0]:datepicker_instActive.input[0])||($(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),$(this).addClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&$(this).addClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&$(this).addClass("ui-datepicker-next-hover"))}function datepicker_extendRemove(target,props){$.extend(target,props);for(var name in props)null==props[name]&&(target[name]=props[name]);return target}function spinnerModifer(fn){return function(){var previous=this.element.val();fn.apply(this,arguments),this._refresh(),previous!==this.element.val()&&this._trigger("change")}}$.ui=$.ui||{};var widgetUuid=($.ui.version="1.12.1",0),widgetSlice=Array.prototype.slice;$.cleanData=function(orig){return function(elems){var events,elem,i;for(i=0;null!=(elem=elems[i]);i++)try{events=$._data(elem,"events"),events&&events.remove&&$(elem).triggerHandler("remove")}catch(e){}orig(elems)}}($.cleanData),$.widget=function(name,base,prototype){var existingConstructor,constructor,basePrototype,proxiedPrototype={},namespace=name.split(".")[0];name=name.split(".")[1];var fullName=namespace+"-"+name;return prototype||(prototype=base,base=$.Widget),$.isArray(prototype)&&(prototype=$.extend.apply(null,[{}].concat(prototype))),$.expr[":"][fullName.toLowerCase()]=function(elem){return!!$.data(elem,fullName)},$[namespace]=$[namespace]||{},existingConstructor=$[namespace][name],constructor=$[namespace][name]=function(options,element){return this._createWidget?void(arguments.length&&this._createWidget(options,element)):new constructor(options,element)},$.extend(constructor,existingConstructor,{version:prototype.version,_proto:$.extend({},prototype),_childConstructors:[]}),basePrototype=new base,basePrototype.options=$.widget.extend({},basePrototype.options),$.each(prototype,function(prop,value){return $.isFunction(value)?void(proxiedPrototype[prop]=function(){function _super(){return base.prototype[prop].apply(this,arguments)}function _superApply(args){return base.prototype[prop].apply(this,args)}return function(){var returnValue,__super=this._super,__superApply=this._superApply;return this._super=_super,this._superApply=_superApply,returnValue=value.apply(this,arguments),this._super=__super,this._superApply=__superApply,returnValue}}()):void(proxiedPrototype[prop]=value)}),constructor.prototype=$.widget.extend(basePrototype,{widgetEventPrefix:existingConstructor?basePrototype.widgetEventPrefix||name:name},proxiedPrototype,{constructor:constructor,namespace:namespace,widgetName:name,widgetFullName:fullName}),existingConstructor?($.each(existingConstructor._childConstructors,function(i,child){var childPrototype=child.prototype;$.widget(childPrototype.namespace+"."+childPrototype.widgetName,constructor,child._proto)}),delete existingConstructor._childConstructors):base._childConstructors.push(constructor),$.widget.bridge(name,constructor),constructor},$.widget.extend=function(target){for(var key,value,input=widgetSlice.call(arguments,1),inputIndex=0,inputLength=input.length;inputIndex<inputLength;inputIndex++)for(key in input[inputIndex])value=input[inputIndex][key],input[inputIndex].hasOwnProperty(key)&&void 0!==value&&($.isPlainObject(value)?target[key]=$.isPlainObject(target[key])?$.widget.extend({},target[key],value):$.widget.extend({},value):target[key]=value);return target},$.widget.bridge=function(name,object){var fullName=object.prototype.widgetFullName||name;$.fn[name]=function(options){var isMethodCall="string"==typeof options,args=widgetSlice.call(arguments,1),returnValue=this;return isMethodCall?this.length||"instance"!==options?this.each(function(){var methodValue,instance=$.data(this,fullName);return"instance"===options?(returnValue=instance,!1):instance?$.isFunction(instance[options])&&"_"!==options.charAt(0)?(methodValue=instance[options].apply(instance,args),methodValue!==instance&&void 0!==methodValue?(returnValue=methodValue&&methodValue.jquery?returnValue.pushStack(methodValue.get()):methodValue,!1):void 0):$.error("no such method '"+options+"' for "+name+" widget instance"):$.error("cannot call methods on "+name+" prior to initialization; attempted to call method '"+options+"'")}):returnValue=void 0:(args.length&&(options=$.widget.extend.apply(null,[options].concat(args))),this.each(function(){var instance=$.data(this,fullName);instance?(instance.option(options||{}),instance._init&&instance._init()):$.data(this,fullName,new object(options,this))})),returnValue}},$.Widget=function(){},$.Widget._childConstructors=[],$.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(options,element){element=$(element||this.defaultElement||this)[0],this.element=$(element),this.uuid=widgetUuid++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=$(),this.hoverable=$(),this.focusable=$(),this.classesElementLookup={},element!==this&&($.data(element,this.widgetFullName,this),this._on(!0,this.element,{remove:function(event){event.target===element&&this.destroy()}}),this.document=$(element.style?element.ownerDocument:element.document||element),this.window=$(this.document[0].defaultView||this.document[0].parentWindow)),this.options=$.widget.extend({},this.options,this._getCreateOptions(),options),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:$.noop,_create:$.noop,_init:$.noop,destroy:function(){var that=this;this._destroy(),$.each(this.classesElementLookup,function(key,value){that._removeClass(value,key)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:$.noop,widget:function(){return this.element},option:function(key,value){var parts,curOption,i,options=key;if(0===arguments.length)return $.widget.extend({},this.options);if("string"==typeof key)if(options={},parts=key.split("."),key=parts.shift(),parts.length){for(curOption=options[key]=$.widget.extend({},this.options[key]),i=0;i<parts.length-1;i++)curOption[parts[i]]=curOption[parts[i]]||{},curOption=curOption[parts[i]];if(key=parts.pop(),1===arguments.length)return void 0===curOption[key]?null:curOption[key];curOption[key]=value}else{if(1===arguments.length)return void 0===this.options[key]?null:this.options[key];options[key]=value}return this._setOptions(options),this},_setOptions:function(options){var key;for(key in options)this._setOption(key,options[key]);return this},_setOption:function(key,value){return"classes"===key&&this._setOptionClasses(value),this.options[key]=value,"disabled"===key&&this._setOptionDisabled(value),this},_setOptionClasses:function(value){var classKey,elements,currentElements;for(classKey in value)currentElements=this.classesElementLookup[classKey],value[classKey]!==this.options.classes[classKey]&&currentElements&&currentElements.length&&(elements=$(currentElements.get()),this._removeClass(currentElements,classKey),elements.addClass(this._classes({element:elements,keys:classKey,classes:value,add:!0})))},_setOptionDisabled:function(value){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!value),value&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(options){function processClassString(classes,checkOption){var current,i;for(i=0;i<classes.length;i++)current=that.classesElementLookup[classes[i]]||$(),current=$(options.add?$.unique(current.get().concat(options.element.get())):current.not(options.element).get()),that.classesElementLookup[classes[i]]=current,full.push(classes[i]),checkOption&&options.classes[classes[i]]&&full.push(options.classes[classes[i]])}var full=[],that=this;return options=$.extend({element:this.element,classes:this.options.classes||{}},options),this._on(options.element,{remove:"_untrackClassesElement"}),options.keys&&processClassString(options.keys.match(/\S+/g)||[],!0),options.extra&&processClassString(options.extra.match(/\S+/g)||[]),full.join(" ")},_untrackClassesElement:function(event){var that=this;$.each(that.classesElementLookup,function(key,value){$.inArray(event.target,value)!==-1&&(that.classesElementLookup[key]=$(value.not(event.target).get()))})},_removeClass:function(element,keys,extra){return this._toggleClass(element,keys,extra,!1)},_addClass:function(element,keys,extra){return this._toggleClass(element,keys,extra,!0)},_toggleClass:function(element,keys,extra,add){add="boolean"==typeof add?add:extra;var shift="string"==typeof element||null===element,options={extra:shift?keys:extra,keys:shift?element:keys,element:shift?this.element:element,add:add};return options.element.toggleClass(this._classes(options),add),this},_on:function(suppressDisabledCheck,element,handlers){var delegateElement,instance=this;"boolean"!=typeof suppressDisabledCheck&&(handlers=element,element=suppressDisabledCheck,suppressDisabledCheck=!1),handlers?(element=delegateElement=$(element),this.bindings=this.bindings.add(element)):(handlers=element,element=this.element,delegateElement=this.widget()),$.each(handlers,function(event,handler){function handlerProxy(){if(suppressDisabledCheck||instance.options.disabled!==!0&&!$(this).hasClass("ui-state-disabled"))return("string"==typeof handler?instance[handler]:handler).apply(instance,arguments)}"string"!=typeof handler&&(handlerProxy.guid=handler.guid=handler.guid||handlerProxy.guid||$.guid++);var match=event.match(/^([\w:-]*)\s*(.*)$/),eventName=match[1]+instance.eventNamespace,selector=match[2];selector?delegateElement.on(eventName,selector,handlerProxy):element.on(eventName,handlerProxy)})},_off:function(element,eventName){eventName=(eventName||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,element.off(eventName).off(eventName),this.bindings=$(this.bindings.not(element).get()),this.focusable=$(this.focusable.not(element).get()),this.hoverable=$(this.hoverable.not(element).get())},_delay:function(handler,delay){function handlerProxy(){return("string"==typeof handler?instance[handler]:handler).apply(instance,arguments)}var instance=this;return setTimeout(handlerProxy,delay||0)},_hoverable:function(element){this.hoverable=this.hoverable.add(element),this._on(element,{mouseenter:function(event){this._addClass($(event.currentTarget),null,"ui-state-hover")},mouseleave:function(event){this._removeClass($(event.currentTarget),null,"ui-state-hover")}})},_focusable:function(element){this.focusable=this.focusable.add(element),this._on(element,{focusin:function(event){this._addClass($(event.currentTarget),null,"ui-state-focus")},focusout:function(event){this._removeClass($(event.currentTarget),null,"ui-state-focus")}})},_trigger:function(type,event,data){var prop,orig,callback=this.options[type];if(data=data||{},event=$.Event(event),event.type=(type===this.widgetEventPrefix?type:this.widgetEventPrefix+type).toLowerCase(),event.target=this.element[0],orig=event.originalEvent)for(prop in orig)prop in event||(event[prop]=orig[prop]);return this.element.trigger(event,data),!($.isFunction(callback)&&callback.apply(this.element[0],[event].concat(data))===!1||event.isDefaultPrevented())}},$.each({show:"fadeIn",hide:"fadeOut"},function(method,defaultEffect){$.Widget.prototype["_"+method]=function(element,options,callback){"string"==typeof options&&(options={effect:options});var hasOptions,effectName=options?options===!0||"number"==typeof options?defaultEffect:options.effect||defaultEffect:method;options=options||{},"number"==typeof options&&(options={duration:options}),hasOptions=!$.isEmptyObject(options),options.complete=callback,options.delay&&element.delay(options.delay),hasOptions&&$.effects&&$.effects.effect[effectName]?element[method](options):effectName!==method&&element[effectName]?element[effectName](options.duration,options.easing,callback):element.queue(function(next){$(this)[method](),callback&&callback.call(element[0]),next()})}});$.widget;!function(){function getOffsets(offsets,width,height){return[parseFloat(offsets[0])*(rpercent.test(offsets[0])?width/100:1),parseFloat(offsets[1])*(rpercent.test(offsets[1])?height/100:1)]}function parseCss(element,property){return parseInt($.css(element,property),10)||0}function getDimensions(elem){var raw=elem[0];return 9===raw.nodeType?{width:elem.width(),height:elem.height(),offset:{top:0,left:0}}:$.isWindow(raw)?{width:elem.width(),height:elem.height(),offset:{top:elem.scrollTop(),left:elem.scrollLeft()}}:raw.preventDefault?{width:0,height:0,offset:{top:raw.pageY,left:raw.pageX}}:{width:elem.outerWidth(),height:elem.outerHeight(),offset:elem.offset()}}var cachedScrollbarWidth,max=Math.max,abs=Math.abs,rhorizontal=/left|center|right/,rvertical=/top|center|bottom/,roffset=/[\+\-]\d+(\.[\d]+)?%?/,rposition=/^\w+/,rpercent=/%$/,_position=$.fn.position;$.position={scrollbarWidth:function(){if(void 0!==cachedScrollbarWidth)return cachedScrollbarWidth;var w1,w2,div=$("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),innerDiv=div.children()[0];return $("body").append(div),w1=innerDiv.offsetWidth,div.css("overflow","scroll"),w2=innerDiv.offsetWidth,w1===w2&&(w2=div[0].clientWidth),div.remove(),cachedScrollbarWidth=w1-w2},getScrollInfo:function(within){var overflowX=within.isWindow||within.isDocument?"":within.element.css("overflow-x"),overflowY=within.isWindow||within.isDocument?"":within.element.css("overflow-y"),hasOverflowX="scroll"===overflowX||"auto"===overflowX&&within.width<within.element[0].scrollWidth,hasOverflowY="scroll"===overflowY||"auto"===overflowY&&within.height<within.element[0].scrollHeight;return{width:hasOverflowY?$.position.scrollbarWidth():0,height:hasOverflowX?$.position.scrollbarWidth():0}},getWithinInfo:function(element){var withinElement=$(element||window),isWindow=$.isWindow(withinElement[0]),isDocument=!!withinElement[0]&&9===withinElement[0].nodeType,hasOffset=!isWindow&&!isDocument;return{element:withinElement,isWindow:isWindow,isDocument:isDocument,offset:hasOffset?$(element).offset():{left:0,top:0},scrollLeft:withinElement.scrollLeft(),scrollTop:withinElement.scrollTop(),width:withinElement.outerWidth(),height:withinElement.outerHeight()}}},$.fn.position=function(options){if(!options||!options.of)return _position.apply(this,arguments);options=$.extend({},options);var atOffset,targetWidth,targetHeight,targetOffset,basePosition,dimensions,target=$(options.of),within=$.position.getWithinInfo(options.within),scrollInfo=$.position.getScrollInfo(within),collision=(options.collision||"flip").split(" "),offsets={};return dimensions=getDimensions(target),target[0].preventDefault&&(options.at="left top"),targetWidth=dimensions.width,targetHeight=dimensions.height,targetOffset=dimensions.offset,basePosition=$.extend({},targetOffset),$.each(["my","at"],function(){var horizontalOffset,verticalOffset,pos=(options[this]||"").split(" ");1===pos.length&&(pos=rhorizontal.test(pos[0])?pos.concat(["center"]):rvertical.test(pos[0])?["center"].concat(pos):["center","center"]),pos[0]=rhorizontal.test(pos[0])?pos[0]:"center",pos[1]=rvertical.test(pos[1])?pos[1]:"center",horizontalOffset=roffset.exec(pos[0]),verticalOffset=roffset.exec(pos[1]),offsets[this]=[horizontalOffset?horizontalOffset[0]:0,verticalOffset?verticalOffset[0]:0],options[this]=[rposition.exec(pos[0])[0],rposition.exec(pos[1])[0]]}),1===collision.length&&(collision[1]=collision[0]),"right"===options.at[0]?basePosition.left+=targetWidth:"center"===options.at[0]&&(basePosition.left+=targetWidth/2),"bottom"===options.at[1]?basePosition.top+=targetHeight:"center"===options.at[1]&&(basePosition.top+=targetHeight/2),atOffset=getOffsets(offsets.at,targetWidth,targetHeight),basePosition.left+=atOffset[0],basePosition.top+=atOffset[1],this.each(function(){var collisionPosition,using,elem=$(this),elemWidth=elem.outerWidth(),elemHeight=elem.outerHeight(),marginLeft=parseCss(this,"marginLeft"),marginTop=parseCss(this,"marginTop"),collisionWidth=elemWidth+marginLeft+parseCss(this,"marginRight")+scrollInfo.width,collisionHeight=elemHeight+marginTop+parseCss(this,"marginBottom")+scrollInfo.height,position=$.extend({},basePosition),myOffset=getOffsets(offsets.my,elem.outerWidth(),elem.outerHeight());"right"===options.my[0]?position.left-=elemWidth:"center"===options.my[0]&&(position.left-=elemWidth/2),"bottom"===options.my[1]?position.top-=elemHeight:"center"===options.my[1]&&(position.top-=elemHeight/2),position.left+=myOffset[0],position.top+=myOffset[1],collisionPosition={marginLeft:marginLeft,marginTop:marginTop},$.each(["left","top"],function(i,dir){$.ui.position[collision[i]]&&$.ui.position[collision[i]][dir](position,{targetWidth:targetWidth,targetHeight:targetHeight,elemWidth:elemWidth,elemHeight:elemHeight,collisionPosition:collisionPosition,collisionWidth:collisionWidth,collisionHeight:collisionHeight,offset:[atOffset[0]+myOffset[0],atOffset[1]+myOffset[1]],my:options.my,at:options.at,within:within,elem:elem})}),options.using&&(using=function(props){var left=targetOffset.left-position.left,right=left+targetWidth-elemWidth,top=targetOffset.top-position.top,bottom=top+targetHeight-elemHeight,feedback={target:{element:target,left:targetOffset.left,top:targetOffset.top,width:targetWidth,height:targetHeight},element:{element:elem,left:position.left,top:position.top,width:elemWidth,height:elemHeight},horizontal:right<0?"left":left>0?"right":"center",vertical:bottom<0?"top":top>0?"bottom":"middle"};targetWidth<elemWidth&&abs(left+right)<targetWidth&&(feedback.horizontal="center"),targetHeight<elemHeight&&abs(top+bottom)<targetHeight&&(feedback.vertical="middle"),max(abs(left),abs(right))>max(abs(top),abs(bottom))?feedback.important="horizontal":feedback.important="vertical",options.using.call(this,props,feedback)}),elem.offset($.extend(position,{using:using}))})},$.ui.position={fit:{left:function(position,data){var newOverRight,within=data.within,withinOffset=within.isWindow?within.scrollLeft:within.offset.left,outerWidth=within.width,collisionPosLeft=position.left-data.collisionPosition.marginLeft,overLeft=withinOffset-collisionPosLeft,overRight=collisionPosLeft+data.collisionWidth-outerWidth-withinOffset;data.collisionWidth>outerWidth?overLeft>0&&overRight<=0?(newOverRight=position.left+overLeft+data.collisionWidth-outerWidth-withinOffset,position.left+=overLeft-newOverRight):overRight>0&&overLeft<=0?position.left=withinOffset:overLeft>overRight?position.left=withinOffset+outerWidth-data.collisionWidth:position.left=withinOffset:overLeft>0?position.left+=overLeft:overRight>0?position.left-=overRight:position.left=max(position.left-collisionPosLeft,position.left)},top:function(position,data){var newOverBottom,within=data.within,withinOffset=within.isWindow?within.scrollTop:within.offset.top,outerHeight=data.within.height,collisionPosTop=position.top-data.collisionPosition.marginTop,overTop=withinOffset-collisionPosTop,overBottom=collisionPosTop+data.collisionHeight-outerHeight-withinOffset;data.collisionHeight>outerHeight?overTop>0&&overBottom<=0?(newOverBottom=position.top+overTop+data.collisionHeight-outerHeight-withinOffset,position.top+=overTop-newOverBottom):overBottom>0&&overTop<=0?position.top=withinOffset:overTop>overBottom?position.top=withinOffset+outerHeight-data.collisionHeight:position.top=withinOffset:overTop>0?position.top+=overTop:overBottom>0?position.top-=overBottom:position.top=max(position.top-collisionPosTop,position.top)}},flip:{left:function(position,data){var newOverRight,newOverLeft,within=data.within,withinOffset=within.offset.left+within.scrollLeft,outerWidth=within.width,offsetLeft=within.isWindow?within.scrollLeft:within.offset.left,collisionPosLeft=position.left-data.collisionPosition.marginLeft,overLeft=collisionPosLeft-offsetLeft,overRight=collisionPosLeft+data.collisionWidth-outerWidth-offsetLeft,myOffset="left"===data.my[0]?-data.elemWidth:"right"===data.my[0]?data.elemWidth:0,atOffset="left"===data.at[0]?data.targetWidth:"right"===data.at[0]?-data.targetWidth:0,offset=-2*data.offset[0];overLeft<0?(newOverRight=position.left+myOffset+atOffset+offset+data.collisionWidth-outerWidth-withinOffset,(newOverRight<0||newOverRight<abs(overLeft))&&(position.left+=myOffset+atOffset+offset)):overRight>0&&(newOverLeft=position.left-data.collisionPosition.marginLeft+myOffset+atOffset+offset-offsetLeft,(newOverLeft>0||abs(newOverLeft)<overRight)&&(position.left+=myOffset+atOffset+offset))},top:function(position,data){var newOverTop,newOverBottom,within=data.within,withinOffset=within.offset.top+within.scrollTop,outerHeight=within.height,offsetTop=within.isWindow?within.scrollTop:within.offset.top,collisionPosTop=position.top-data.collisionPosition.marginTop,overTop=collisionPosTop-offsetTop,overBottom=collisionPosTop+data.collisionHeight-outerHeight-offsetTop,top="top"===data.my[1],myOffset=top?-data.elemHeight:"bottom"===data.my[1]?data.elemHeight:0,atOffset="top"===data.at[1]?data.targetHeight:"bottom"===data.at[1]?-data.targetHeight:0,offset=-2*data.offset[1];overTop<0?(newOverBottom=position.top+myOffset+atOffset+offset+data.collisionHeight-outerHeight-withinOffset,(newOverBottom<0||newOverBottom<abs(overTop))&&(position.top+=myOffset+atOffset+offset)):overBottom>0&&(newOverTop=position.top-data.collisionPosition.marginTop+myOffset+atOffset+offset-offsetTop,
(newOverTop>0||abs(newOverTop)<overBottom)&&(position.top+=myOffset+atOffset+offset))}},flipfit:{left:function(){$.ui.position.flip.left.apply(this,arguments),$.ui.position.fit.left.apply(this,arguments)},top:function(){$.ui.position.flip.top.apply(this,arguments),$.ui.position.fit.top.apply(this,arguments)}}}}();var dataSpace=($.ui.position,$.extend($.expr[":"],{data:$.expr.createPseudo?$.expr.createPseudo(function(dataName){return function(elem){return!!$.data(elem,dataName)}}):function(elem,i,match){return!!$.data(elem,match[3])}}),$.fn.extend({disableSelection:function(){var eventType="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(eventType+".ui-disableSelection",function(event){event.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}}),"ui-effects-"),dataSpaceStyle="ui-effects-style",dataSpaceAnimated="ui-effects-animated",jQuery=$;$.effects={effect:{}},function(jQuery,undefined){function clamp(value,prop,allowEmpty){var type=propTypes[prop.type]||{};return null==value?allowEmpty||!prop.def?null:prop.def:(value=type.floor?~~value:parseFloat(value),isNaN(value)?prop.def:type.mod?(value+type.mod)%type.mod:0>value?0:type.max<value?type.max:value)}function stringParse(string){var inst=color(),rgba=inst._rgba=[];return string=string.toLowerCase(),each(stringParsers,function(i,parser){var parsed,match=parser.re.exec(string),values=match&&parser.parse(match),spaceName=parser.space||"rgba";if(values)return parsed=inst[spaceName](values),inst[spaces[spaceName].cache]=parsed[spaces[spaceName].cache],rgba=inst._rgba=parsed._rgba,!1}),rgba.length?("0,0,0,0"===rgba.join()&&jQuery.extend(rgba,colors.transparent),inst):colors[string]}function hue2rgb(p,q,h){return h=(h+1)%1,6*h<1?p+(q-p)*h*6:2*h<1?q:3*h<2?p+(q-p)*(2/3-h)*6:p}var colors,stepHooks="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",rplusequals=/^([\-+])=\s*(\d+\.?\d*)/,stringParsers=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(execResult){return[execResult[1],execResult[2],execResult[3],execResult[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(execResult){return[2.55*execResult[1],2.55*execResult[2],2.55*execResult[3],execResult[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(execResult){return[parseInt(execResult[1],16),parseInt(execResult[2],16),parseInt(execResult[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(execResult){return[parseInt(execResult[1]+execResult[1],16),parseInt(execResult[2]+execResult[2],16),parseInt(execResult[3]+execResult[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(execResult){return[execResult[1],execResult[2]/100,execResult[3]/100,execResult[4]]}}],color=jQuery.Color=function(color,green,blue,alpha){return new jQuery.Color.fn.parse(color,green,blue,alpha)},spaces={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},propTypes={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},support=color.support={},supportElem=jQuery("<p>")[0],each=jQuery.each;supportElem.style.cssText="background-color:rgba(1,1,1,.5)",support.rgba=supportElem.style.backgroundColor.indexOf("rgba")>-1,each(spaces,function(spaceName,space){space.cache="_"+spaceName,space.props.alpha={idx:3,type:"percent",def:1}}),color.fn=jQuery.extend(color.prototype,{parse:function(red,green,blue,alpha){if(red===undefined)return this._rgba=[null,null,null,null],this;(red.jquery||red.nodeType)&&(red=jQuery(red).css(green),green=undefined);var inst=this,type=jQuery.type(red),rgba=this._rgba=[];return green!==undefined&&(red=[red,green,blue,alpha],type="array"),"string"===type?this.parse(stringParse(red)||colors._default):"array"===type?(each(spaces.rgba.props,function(key,prop){rgba[prop.idx]=clamp(red[prop.idx],prop)}),this):"object"===type?(red instanceof color?each(spaces,function(spaceName,space){red[space.cache]&&(inst[space.cache]=red[space.cache].slice())}):each(spaces,function(spaceName,space){var cache=space.cache;each(space.props,function(key,prop){if(!inst[cache]&&space.to){if("alpha"===key||null==red[key])return;inst[cache]=space.to(inst._rgba)}inst[cache][prop.idx]=clamp(red[key],prop,!0)}),inst[cache]&&jQuery.inArray(null,inst[cache].slice(0,3))<0&&(inst[cache][3]=1,space.from&&(inst._rgba=space.from(inst[cache])))}),this):void 0},is:function(compare){var is=color(compare),same=!0,inst=this;return each(spaces,function(_,space){var localCache,isCache=is[space.cache];return isCache&&(localCache=inst[space.cache]||space.to&&space.to(inst._rgba)||[],each(space.props,function(_,prop){if(null!=isCache[prop.idx])return same=isCache[prop.idx]===localCache[prop.idx]})),same}),same},_space:function(){var used=[],inst=this;return each(spaces,function(spaceName,space){inst[space.cache]&&used.push(spaceName)}),used.pop()},transition:function(other,distance){var end=color(other),spaceName=end._space(),space=spaces[spaceName],startColor=0===this.alpha()?color("transparent"):this,start=startColor[space.cache]||space.to(startColor._rgba),result=start.slice();return end=end[space.cache],each(space.props,function(key,prop){var index=prop.idx,startValue=start[index],endValue=end[index],type=propTypes[prop.type]||{};null!==endValue&&(null===startValue?result[index]=endValue:(type.mod&&(endValue-startValue>type.mod/2?startValue+=type.mod:startValue-endValue>type.mod/2&&(startValue-=type.mod)),result[index]=clamp((endValue-startValue)*distance+startValue,prop)))}),this[spaceName](result)},blend:function(opaque){if(1===this._rgba[3])return this;var rgb=this._rgba.slice(),a=rgb.pop(),blend=color(opaque)._rgba;return color(jQuery.map(rgb,function(v,i){return(1-a)*blend[i]+a*v}))},toRgbaString:function(){var prefix="rgba(",rgba=jQuery.map(this._rgba,function(v,i){return null==v?i>2?1:0:v});return 1===rgba[3]&&(rgba.pop(),prefix="rgb("),prefix+rgba.join()+")"},toHslaString:function(){var prefix="hsla(",hsla=jQuery.map(this.hsla(),function(v,i){return null==v&&(v=i>2?1:0),i&&i<3&&(v=Math.round(100*v)+"%"),v});return 1===hsla[3]&&(hsla.pop(),prefix="hsl("),prefix+hsla.join()+")"},toHexString:function(includeAlpha){var rgba=this._rgba.slice(),alpha=rgba.pop();return includeAlpha&&rgba.push(~~(255*alpha)),"#"+jQuery.map(rgba,function(v){return v=(v||0).toString(16),1===v.length?"0"+v:v}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),color.fn.parse.prototype=color.fn,spaces.hsla.to=function(rgba){if(null==rgba[0]||null==rgba[1]||null==rgba[2])return[null,null,null,rgba[3]];var h,s,r=rgba[0]/255,g=rgba[1]/255,b=rgba[2]/255,a=rgba[3],max=Math.max(r,g,b),min=Math.min(r,g,b),diff=max-min,add=max+min,l=.5*add;return h=min===max?0:r===max?60*(g-b)/diff+360:g===max?60*(b-r)/diff+120:60*(r-g)/diff+240,s=0===diff?0:l<=.5?diff/add:diff/(2-add),[Math.round(h)%360,s,l,null==a?1:a]},spaces.hsla.from=function(hsla){if(null==hsla[0]||null==hsla[1]||null==hsla[2])return[null,null,null,hsla[3]];var h=hsla[0]/360,s=hsla[1],l=hsla[2],a=hsla[3],q=l<=.5?l*(1+s):l+s-l*s,p=2*l-q;return[Math.round(255*hue2rgb(p,q,h+1/3)),Math.round(255*hue2rgb(p,q,h)),Math.round(255*hue2rgb(p,q,h-1/3)),a]},each(spaces,function(spaceName,space){var props=space.props,cache=space.cache,to=space.to,from=space.from;color.fn[spaceName]=function(value){if(to&&!this[cache]&&(this[cache]=to(this._rgba)),value===undefined)return this[cache].slice();var ret,type=jQuery.type(value),arr="array"===type||"object"===type?value:arguments,local=this[cache].slice();return each(props,function(key,prop){var val=arr["object"===type?key:prop.idx];null==val&&(val=local[prop.idx]),local[prop.idx]=clamp(val,prop)}),from?(ret=color(from(local)),ret[cache]=local,ret):color(local)},each(props,function(key,prop){color.fn[key]||(color.fn[key]=function(value){var match,vtype=jQuery.type(value),fn="alpha"===key?this._hsla?"hsla":"rgba":spaceName,local=this[fn](),cur=local[prop.idx];return"undefined"===vtype?cur:("function"===vtype&&(value=value.call(this,cur),vtype=jQuery.type(value)),null==value&&prop.empty?this:("string"===vtype&&(match=rplusequals.exec(value),match&&(value=cur+parseFloat(match[2])*("+"===match[1]?1:-1))),local[prop.idx]=value,this[fn](local)))})})}),color.hook=function(hook){var hooks=hook.split(" ");each(hooks,function(i,hook){jQuery.cssHooks[hook]={set:function(elem,value){var parsed,curElem,backgroundColor="";if("transparent"!==value&&("string"!==jQuery.type(value)||(parsed=stringParse(value)))){if(value=color(parsed||value),!support.rgba&&1!==value._rgba[3]){for(curElem="backgroundColor"===hook?elem.parentNode:elem;(""===backgroundColor||"transparent"===backgroundColor)&&curElem&&curElem.style;)try{backgroundColor=jQuery.css(curElem,"backgroundColor"),curElem=curElem.parentNode}catch(e){}value=value.blend(backgroundColor&&"transparent"!==backgroundColor?backgroundColor:"_default")}value=value.toRgbaString()}try{elem.style[hook]=value}catch(e){}}},jQuery.fx.step[hook]=function(fx){fx.colorInit||(fx.start=color(fx.elem,hook),fx.end=color(fx.end),fx.colorInit=!0),jQuery.cssHooks[hook].set(fx.elem,fx.start.transition(fx.end,fx.pos))}})},color.hook(stepHooks),jQuery.cssHooks.borderColor={expand:function(value){var expanded={};return each(["Top","Right","Bottom","Left"],function(i,part){expanded["border"+part+"Color"]=value}),expanded}},colors=jQuery.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function getElementStyles(elem){var key,len,style=elem.ownerDocument.defaultView?elem.ownerDocument.defaultView.getComputedStyle(elem,null):elem.currentStyle,styles={};if(style&&style.length&&style[0]&&style[style[0]])for(len=style.length;len--;)key=style[len],"string"==typeof style[key]&&(styles[$.camelCase(key)]=style[key]);else for(key in style)"string"==typeof style[key]&&(styles[key]=style[key]);return styles}function styleDifference(oldStyle,newStyle){var name,value,diff={};for(name in newStyle)value=newStyle[name],oldStyle[name]!==value&&(shorthandStyles[name]||!$.fx.step[name]&&isNaN(parseFloat(value))||(diff[name]=value));return diff}var classAnimationActions=["add","remove","toggle"],shorthandStyles={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};$.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(_,prop){$.fx.step[prop]=function(fx){("none"!==fx.end&&!fx.setAttr||1===fx.pos&&!fx.setAttr)&&(jQuery.style(fx.elem,prop,fx.end),fx.setAttr=!0)}}),$.fn.addBack||($.fn.addBack=function(selector){return this.add(null==selector?this.prevObject:this.prevObject.filter(selector))}),$.effects.animateClass=function(value,duration,easing,callback){var o=$.speed(duration,easing,callback);return this.queue(function(){var applyClassChange,animated=$(this),baseClass=animated.attr("class")||"",allAnimations=o.children?animated.find("*").addBack():animated;allAnimations=allAnimations.map(function(){var el=$(this);return{el:el,start:getElementStyles(this)}}),applyClassChange=function(){$.each(classAnimationActions,function(i,action){value[action]&&animated[action+"Class"](value[action])})},applyClassChange(),allAnimations=allAnimations.map(function(){return this.end=getElementStyles(this.el[0]),this.diff=styleDifference(this.start,this.end),this}),animated.attr("class",baseClass),allAnimations=allAnimations.map(function(){var styleInfo=this,dfd=$.Deferred(),opts=$.extend({},o,{queue:!1,complete:function(){dfd.resolve(styleInfo)}});return this.el.animate(this.diff,opts),dfd.promise()}),$.when.apply($,allAnimations.get()).done(function(){applyClassChange(),$.each(arguments,function(){var el=this.el;$.each(this.diff,function(key){el.css(key,"")})}),o.complete.call(animated[0])})})},$.fn.extend({addClass:function(orig){return function(classNames,speed,easing,callback){return speed?$.effects.animateClass.call(this,{add:classNames},speed,easing,callback):orig.apply(this,arguments)}}($.fn.addClass),removeClass:function(orig){return function(classNames,speed,easing,callback){return arguments.length>1?$.effects.animateClass.call(this,{remove:classNames},speed,easing,callback):orig.apply(this,arguments)}}($.fn.removeClass),toggleClass:function(orig){return function(classNames,force,speed,easing,callback){return"boolean"==typeof force||void 0===force?speed?$.effects.animateClass.call(this,force?{add:classNames}:{remove:classNames},speed,easing,callback):orig.apply(this,arguments):$.effects.animateClass.call(this,{toggle:classNames},force,speed,easing)}}($.fn.toggleClass),switchClass:function(remove,add,speed,easing,callback){return $.effects.animateClass.call(this,{add:add,remove:remove},speed,easing,callback)}})}(),function(){function _normalizeArguments(effect,options,speed,callback){return $.isPlainObject(effect)&&(options=effect,effect=effect.effect),effect={effect:effect},null==options&&(options={}),$.isFunction(options)&&(callback=options,speed=null,options={}),("number"==typeof options||$.fx.speeds[options])&&(callback=speed,speed=options,options={}),$.isFunction(speed)&&(callback=speed,speed=null),options&&$.extend(effect,options),speed=speed||options.duration,effect.duration=$.fx.off?0:"number"==typeof speed?speed:speed in $.fx.speeds?$.fx.speeds[speed]:$.fx.speeds._default,effect.complete=callback||options.complete,effect}function standardAnimationOption(option){return!(option&&"number"!=typeof option&&!$.fx.speeds[option])||("string"==typeof option&&!$.effects.effect[option]||(!!$.isFunction(option)||"object"==typeof option&&!option.effect))}function parseClip(str,element){var outerWidth=element.outerWidth(),outerHeight=element.outerHeight(),clipRegex=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,values=clipRegex.exec(str)||["",0,outerWidth,outerHeight,0];return{top:parseFloat(values[1])||0,right:"auto"===values[2]?outerWidth:parseFloat(values[2]),bottom:"auto"===values[3]?outerHeight:parseFloat(values[3]),left:parseFloat(values[4])||0}}$.expr&&$.expr.filters&&$.expr.filters.animated&&($.expr.filters.animated=function(orig){return function(elem){return!!$(elem).data(dataSpaceAnimated)||orig(elem)}}($.expr.filters.animated)),$.uiBackCompat!==!1&&$.extend($.effects,{save:function(element,set){for(var i=0,length=set.length;i<length;i++)null!==set[i]&&element.data(dataSpace+set[i],element[0].style[set[i]])},restore:function(element,set){for(var val,i=0,length=set.length;i<length;i++)null!==set[i]&&(val=element.data(dataSpace+set[i]),element.css(set[i],val))},setMode:function(el,mode){return"toggle"===mode&&(mode=el.is(":hidden")?"show":"hide"),mode},createWrapper:function(element){if(element.parent().is(".ui-effects-wrapper"))return element.parent();var props={width:element.outerWidth(!0),height:element.outerHeight(!0),"float":element.css("float")},wrapper=$("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),size={width:element.width(),height:element.height()},active=document.activeElement;try{active.id}catch(e){active=document.body}return element.wrap(wrapper),(element[0]===active||$.contains(element[0],active))&&$(active).trigger("focus"),wrapper=element.parent(),"static"===element.css("position")?(wrapper.css({position:"relative"}),element.css({position:"relative"})):($.extend(props,{position:element.css("position"),zIndex:element.css("z-index")}),$.each(["top","left","bottom","right"],function(i,pos){props[pos]=element.css(pos),isNaN(parseInt(props[pos],10))&&(props[pos]="auto")}),element.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),element.css(size),wrapper.css(props).show()},removeWrapper:function(element){var active=document.activeElement;return element.parent().is(".ui-effects-wrapper")&&(element.parent().replaceWith(element),(element[0]===active||$.contains(element[0],active))&&$(active).trigger("focus")),element}}),$.extend($.effects,{version:"1.12.1",define:function(name,mode,effect){return effect||(effect=mode,mode="effect"),$.effects.effect[name]=effect,$.effects.effect[name].mode=mode,effect},scaledDimensions:function(element,percent,direction){if(0===percent)return{height:0,width:0,outerHeight:0,outerWidth:0};var x="horizontal"!==direction?(percent||100)/100:1,y="vertical"!==direction?(percent||100)/100:1;return{height:element.height()*y,width:element.width()*x,outerHeight:element.outerHeight()*y,outerWidth:element.outerWidth()*x}},clipToBox:function(animation){return{width:animation.clip.right-animation.clip.left,height:animation.clip.bottom-animation.clip.top,left:animation.clip.left,top:animation.clip.top}},unshift:function(element,queueLength,count){var queue=element.queue();queueLength>1&&queue.splice.apply(queue,[1,0].concat(queue.splice(queueLength,count))),element.dequeue()},saveStyle:function(element){element.data(dataSpaceStyle,element[0].style.cssText)},restoreStyle:function(element){element[0].style.cssText=element.data(dataSpaceStyle)||"",element.removeData(dataSpaceStyle)},mode:function(element,mode){var hidden=element.is(":hidden");return"toggle"===mode&&(mode=hidden?"show":"hide"),(hidden?"hide"===mode:"show"===mode)&&(mode="none"),mode},getBaseline:function(origin,original){var y,x;switch(origin[0]){case"top":y=0;break;case"middle":y=.5;break;case"bottom":y=1;break;default:y=origin[0]/original.height}switch(origin[1]){case"left":x=0;break;case"center":x=.5;break;case"right":x=1;break;default:x=origin[1]/original.width}return{x:x,y:y}},createPlaceholder:function(element){var placeholder,cssPosition=element.css("position"),position=element.position();return element.css({marginTop:element.css("marginTop"),marginBottom:element.css("marginBottom"),marginLeft:element.css("marginLeft"),marginRight:element.css("marginRight")}).outerWidth(element.outerWidth()).outerHeight(element.outerHeight()),/^(static|relative)/.test(cssPosition)&&(cssPosition="absolute",placeholder=$("<"+element[0].nodeName+">").insertAfter(element).css({display:/^(inline|ruby)/.test(element.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:element.css("marginTop"),marginBottom:element.css("marginBottom"),marginLeft:element.css("marginLeft"),marginRight:element.css("marginRight"),"float":element.css("float")}).outerWidth(element.outerWidth()).outerHeight(element.outerHeight()).addClass("ui-effects-placeholder"),element.data(dataSpace+"placeholder",placeholder)),element.css({position:cssPosition,left:position.left,top:position.top}),placeholder},removePlaceholder:function(element){var dataKey=dataSpace+"placeholder",placeholder=element.data(dataKey);placeholder&&(placeholder.remove(),element.removeData(dataKey))},cleanUp:function(element){$.effects.restoreStyle(element),$.effects.removePlaceholder(element)},setTransition:function(element,list,factor,value){return value=value||{},$.each(list,function(i,x){var unit=element.cssUnit(x);unit[0]>0&&(value[x]=unit[0]*factor+unit[1])}),value}}),$.fn.extend({effect:function(){function run(next){function cleanup(){elem.removeData(dataSpaceAnimated),$.effects.cleanUp(elem),"hide"===args.mode&&elem.hide(),done()}function done(){$.isFunction(complete)&&complete.call(elem[0]),$.isFunction(next)&&next()}var elem=$(this);args.mode=modes.shift(),$.uiBackCompat===!1||defaultMode?"none"===args.mode?(elem[mode](),done()):effectMethod.call(elem[0],args,cleanup):(elem.is(":hidden")?"hide"===mode:"show"===mode)?(elem[mode](),done()):effectMethod.call(elem[0],args,done)}var args=_normalizeArguments.apply(this,arguments),effectMethod=$.effects.effect[args.effect],defaultMode=effectMethod.mode,queue=args.queue,queueName=queue||"fx",complete=args.complete,mode=args.mode,modes=[],prefilter=function(next){var el=$(this),normalizedMode=$.effects.mode(el,mode)||defaultMode;el.data(dataSpaceAnimated,!0),modes.push(normalizedMode),defaultMode&&("show"===normalizedMode||normalizedMode===defaultMode&&"hide"===normalizedMode)&&el.show(),defaultMode&&"none"===normalizedMode||$.effects.saveStyle(el),$.isFunction(next)&&next()};return $.fx.off||!effectMethod?mode?this[mode](args.duration,complete):this.each(function(){complete&&complete.call(this)}):queue===!1?this.each(prefilter).each(run):this.queue(queueName,prefilter).queue(queueName,run)},show:function(orig){return function(option){if(standardAnimationOption(option))return orig.apply(this,arguments);var args=_normalizeArguments.apply(this,arguments);return args.mode="show",this.effect.call(this,args)}}($.fn.show),hide:function(orig){return function(option){if(standardAnimationOption(option))return orig.apply(this,arguments);var args=_normalizeArguments.apply(this,arguments);return args.mode="hide",this.effect.call(this,args)}}($.fn.hide),toggle:function(orig){return function(option){if(standardAnimationOption(option)||"boolean"==typeof option)return orig.apply(this,arguments);var args=_normalizeArguments.apply(this,arguments);return args.mode="toggle",this.effect.call(this,args)}}($.fn.toggle),cssUnit:function(key){var style=this.css(key),val=[];return $.each(["em","px","%","pt"],function(i,unit){style.indexOf(unit)>0&&(val=[parseFloat(style),unit])}),val},cssClip:function(clipObj){return clipObj?this.css("clip","rect("+clipObj.top+"px "+clipObj.right+"px "+clipObj.bottom+"px "+clipObj.left+"px)"):parseClip(this.css("clip"),this)},transfer:function(options,done){var element=$(this),target=$(options.to),targetFixed="fixed"===target.css("position"),body=$("body"),fixTop=targetFixed?body.scrollTop():0,fixLeft=targetFixed?body.scrollLeft():0,endPosition=target.offset(),animation={top:endPosition.top-fixTop,left:endPosition.left-fixLeft,height:target.innerHeight(),width:target.innerWidth()},startPosition=element.offset(),transfer=$("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(options.className).css({top:startPosition.top-fixTop,left:startPosition.left-fixLeft,height:element.innerHeight(),width:element.innerWidth(),position:targetFixed?"fixed":"absolute"}).animate(animation,options.duration,options.easing,function(){transfer.remove(),$.isFunction(done)&&done()})}}),$.fx.step.clip=function(fx){fx.clipInit||(fx.start=$(fx.elem).cssClip(),"string"==typeof fx.end&&(fx.end=parseClip(fx.end,fx.elem)),fx.clipInit=!0),$(fx.elem).cssClip({top:fx.pos*(fx.end.top-fx.start.top)+fx.start.top,right:fx.pos*(fx.end.right-fx.start.right)+fx.start.right,bottom:fx.pos*(fx.end.bottom-fx.start.bottom)+fx.start.bottom,left:fx.pos*(fx.end.left-fx.start.left)+fx.start.left})}}(),function(){var baseEasings={};$.each(["Quad","Cubic","Quart","Quint","Expo"],function(i,name){baseEasings[name]=function(p){return Math.pow(p,i+2)}}),$.extend(baseEasings,{Sine:function(p){return 1-Math.cos(p*Math.PI/2)},Circ:function(p){return 1-Math.sqrt(1-p*p)},Elastic:function(p){return 0===p||1===p?p:-Math.pow(2,8*(p-1))*Math.sin((80*(p-1)-7.5)*Math.PI/15)},Back:function(p){return p*p*(3*p-2)},Bounce:function(p){for(var pow2,bounce=4;p<((pow2=Math.pow(2,--bounce))-1)/11;);return 1/Math.pow(4,3-bounce)-7.5625*Math.pow((3*pow2-2)/22-p,2)}}),$.each(baseEasings,function(name,easeIn){$.easing["easeIn"+name]=easeIn,$.easing["easeOut"+name]=function(p){return 1-easeIn(1-p)},$.easing["easeInOut"+name]=function(p){return p<.5?easeIn(2*p)/2:1-easeIn(p*-2+2)/2}})}();var effect,effect=$.effects;$.effects.define("blind","hide",function(options,done){var map={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},element=$(this),direction=options.direction||"up",start=element.cssClip(),animate={clip:$.extend({},start)},placeholder=$.effects.createPlaceholder(element);animate.clip[map[direction][0]]=animate.clip[map[direction][1]],"show"===options.mode&&(element.cssClip(animate.clip),placeholder&&placeholder.css($.effects.clipToBox(animate)),animate.clip=start),placeholder&&placeholder.animate($.effects.clipToBox(animate),options.duration,options.easing),element.animate(animate,{queue:!1,duration:options.duration,easing:options.easing,complete:done})}),$.effects.define("bounce",function(options,done){var upAnim,downAnim,refValue,element=$(this),mode=options.mode,hide="hide"===mode,show="show"===mode,direction=options.direction||"up",distance=options.distance,times=options.times||5,anims=2*times+(show||hide?1:0),speed=options.duration/anims,easing=options.easing,ref="up"===direction||"down"===direction?"top":"left",motion="up"===direction||"left"===direction,i=0,queuelen=element.queue().length;for($.effects.createPlaceholder(element),refValue=element.css(ref),distance||(distance=element["top"===ref?"outerHeight":"outerWidth"]()/3),show&&(downAnim={opacity:1},downAnim[ref]=refValue,element.css("opacity",0).css(ref,motion?2*-distance:2*distance).animate(downAnim,speed,easing)),hide&&(distance/=Math.pow(2,times-1)),downAnim={},downAnim[ref]=refValue;i<times;i++)upAnim={},upAnim[ref]=(motion?"-=":"+=")+distance,element.animate(upAnim,speed,easing).animate(downAnim,speed,easing),distance=hide?2*distance:distance/2;hide&&(upAnim={opacity:0},upAnim[ref]=(motion?"-=":"+=")+distance,element.animate(upAnim,speed,easing)),element.queue(done),$.effects.unshift(element,queuelen,anims+1)}),$.effects.define("clip","hide",function(options,done){var start,animate={},element=$(this),direction=options.direction||"vertical",both="both"===direction,horizontal=both||"horizontal"===direction,vertical=both||"vertical"===direction;start=element.cssClip(),animate.clip={top:vertical?(start.bottom-start.top)/2:start.top,right:horizontal?(start.right-start.left)/2:start.right,bottom:vertical?(start.bottom-start.top)/2:start.bottom,left:horizontal?(start.right-start.left)/2:start.left},$.effects.createPlaceholder(element),"show"===options.mode&&(element.cssClip(animate.clip),animate.clip=start),element.animate(animate,{queue:!1,duration:options.duration,easing:options.easing,complete:done})}),$.effects.define("drop","hide",function(options,done){var distance,element=$(this),mode=options.mode,show="show"===mode,direction=options.direction||"left",ref="up"===direction||"down"===direction?"top":"left",motion="up"===direction||"left"===direction?"-=":"+=",oppositeMotion="+="===motion?"-=":"+=",animation={opacity:0};$.effects.createPlaceholder(element),distance=options.distance||element["top"===ref?"outerHeight":"outerWidth"](!0)/2,animation[ref]=motion+distance,show&&(element.css(animation),animation[ref]=oppositeMotion+distance,animation.opacity=1),element.animate(animation,{queue:!1,duration:options.duration,easing:options.easing,complete:done})}),$.effects.define("explode","hide",function(options,done){function childComplete(){pieces.push(this),pieces.length===rows*cells&&animComplete()}function animComplete(){element.css({visibility:"visible"}),$(pieces).remove(),done()}var i,j,left,top,mx,my,rows=options.pieces?Math.round(Math.sqrt(options.pieces)):3,cells=rows,element=$(this),mode=options.mode,show="show"===mode,offset=element.show().css("visibility","hidden").offset(),width=Math.ceil(element.outerWidth()/cells),height=Math.ceil(element.outerHeight()/rows),pieces=[];for(i=0;i<rows;i++)for(top=offset.top+i*height,my=i-(rows-1)/2,j=0;j<cells;j++)left=offset.left+j*width,mx=j-(cells-1)/2,element.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-j*width,top:-i*height}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:width,height:height,left:left+(show?mx*width:0),top:top+(show?my*height:0),opacity:show?0:1}).animate({left:left+(show?0:mx*width),top:top+(show?0:my*height),opacity:show?1:0},options.duration||500,options.easing,childComplete)}),$.effects.define("fade","toggle",function(options,done){var show="show"===options.mode;$(this).css("opacity",show?0:1).animate({opacity:show?1:0},{queue:!1,duration:options.duration,easing:options.easing,complete:done})}),$.effects.define("fold","hide",function(options,done){var element=$(this),mode=options.mode,show="show"===mode,hide="hide"===mode,size=options.size||15,percent=/([0-9]+)%/.exec(size),horizFirst=!!options.horizFirst,ref=horizFirst?["right","bottom"]:["bottom","right"],duration=options.duration/2,placeholder=$.effects.createPlaceholder(element),start=element.cssClip(),animation1={clip:$.extend({},start)},animation2={clip:$.extend({},start)},distance=[start[ref[0]],start[ref[1]]],queuelen=element.queue().length;percent&&(size=parseInt(percent[1],10)/100*distance[hide?0:1]),animation1.clip[ref[0]]=size,animation2.clip[ref[0]]=size,animation2.clip[ref[1]]=0,show&&(element.cssClip(animation2.clip),placeholder&&placeholder.css($.effects.clipToBox(animation2)),animation2.clip=start),element.queue(function(next){placeholder&&placeholder.animate($.effects.clipToBox(animation1),duration,options.easing).animate($.effects.clipToBox(animation2),duration,options.easing),next()}).animate(animation1,duration,options.easing).animate(animation2,duration,options.easing).queue(done),$.effects.unshift(element,queuelen,4)}),$.effects.define("highlight","show",function(options,done){var element=$(this),animation={backgroundColor:element.css("backgroundColor")};"hide"===options.mode&&(animation.opacity=0),$.effects.saveStyle(element),element.css({backgroundImage:"none",backgroundColor:options.color||"#ffff99"}).animate(animation,{queue:!1,duration:options.duration,easing:options.easing,complete:done})}),$.effects.define("size",function(options,done){var baseline,factor,temp,element=$(this),cProps=["fontSize"],vProps=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],hProps=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],mode=options.mode,restore="effect"!==mode,scale=options.scale||"both",origin=options.origin||["middle","center"],position=element.css("position"),pos=element.position(),original=$.effects.scaledDimensions(element),from=options.from||original,to=options.to||$.effects.scaledDimensions(element,0);$.effects.createPlaceholder(element),"show"===mode&&(temp=from,from=to,to=temp),factor={from:{y:from.height/original.height,x:from.width/original.width},to:{y:to.height/original.height,x:to.width/original.width}},"box"!==scale&&"both"!==scale||(factor.from.y!==factor.to.y&&(from=$.effects.setTransition(element,vProps,factor.from.y,from),to=$.effects.setTransition(element,vProps,factor.to.y,to)),factor.from.x!==factor.to.x&&(from=$.effects.setTransition(element,hProps,factor.from.x,from),to=$.effects.setTransition(element,hProps,factor.to.x,to))),"content"!==scale&&"both"!==scale||factor.from.y!==factor.to.y&&(from=$.effects.setTransition(element,cProps,factor.from.y,from),to=$.effects.setTransition(element,cProps,factor.to.y,to)),origin&&(baseline=$.effects.getBaseline(origin,original),from.top=(original.outerHeight-from.outerHeight)*baseline.y+pos.top,from.left=(original.outerWidth-from.outerWidth)*baseline.x+pos.left,to.top=(original.outerHeight-to.outerHeight)*baseline.y+pos.top,to.left=(original.outerWidth-to.outerWidth)*baseline.x+pos.left),element.css(from),"content"!==scale&&"both"!==scale||(vProps=vProps.concat(["marginTop","marginBottom"]).concat(cProps),hProps=hProps.concat(["marginLeft","marginRight"]),element.find("*[width]").each(function(){var child=$(this),childOriginal=$.effects.scaledDimensions(child),childFrom={height:childOriginal.height*factor.from.y,
width:childOriginal.width*factor.from.x,outerHeight:childOriginal.outerHeight*factor.from.y,outerWidth:childOriginal.outerWidth*factor.from.x},childTo={height:childOriginal.height*factor.to.y,width:childOriginal.width*factor.to.x,outerHeight:childOriginal.height*factor.to.y,outerWidth:childOriginal.width*factor.to.x};factor.from.y!==factor.to.y&&(childFrom=$.effects.setTransition(child,vProps,factor.from.y,childFrom),childTo=$.effects.setTransition(child,vProps,factor.to.y,childTo)),factor.from.x!==factor.to.x&&(childFrom=$.effects.setTransition(child,hProps,factor.from.x,childFrom),childTo=$.effects.setTransition(child,hProps,factor.to.x,childTo)),restore&&$.effects.saveStyle(child),child.css(childFrom),child.animate(childTo,options.duration,options.easing,function(){restore&&$.effects.restoreStyle(child)})})),element.animate(to,{queue:!1,duration:options.duration,easing:options.easing,complete:function(){var offset=element.offset();0===to.opacity&&element.css("opacity",from.opacity),restore||(element.css("position","static"===position?"relative":position).offset(offset),$.effects.saveStyle(element)),done()}})}),$.effects.define("scale",function(options,done){var el=$(this),mode=options.mode,percent=parseInt(options.percent,10)||(0===parseInt(options.percent,10)?0:"effect"!==mode?0:100),newOptions=$.extend(!0,{from:$.effects.scaledDimensions(el),to:$.effects.scaledDimensions(el,percent,options.direction||"both"),origin:options.origin||["middle","center"]},options);options.fade&&(newOptions.from.opacity=1,newOptions.to.opacity=0),$.effects.effect.size.call(this,newOptions,done)}),$.effects.define("puff","hide",function(options,done){var newOptions=$.extend(!0,{},options,{fade:!0,percent:parseInt(options.percent,10)||150});$.effects.effect.scale.call(this,newOptions,done)}),$.effects.define("pulsate","show",function(options,done){var element=$(this),mode=options.mode,show="show"===mode,hide="hide"===mode,showhide=show||hide,anims=2*(options.times||5)+(showhide?1:0),duration=options.duration/anims,animateTo=0,i=1,queuelen=element.queue().length;for(!show&&element.is(":visible")||(element.css("opacity",0).show(),animateTo=1);i<anims;i++)element.animate({opacity:animateTo},duration,options.easing),animateTo=1-animateTo;element.animate({opacity:animateTo},duration,options.easing),element.queue(done),$.effects.unshift(element,queuelen,anims+1)}),$.effects.define("shake",function(options,done){var i=1,element=$(this),direction=options.direction||"left",distance=options.distance||20,times=options.times||3,anims=2*times+1,speed=Math.round(options.duration/anims),ref="up"===direction||"down"===direction?"top":"left",positiveMotion="up"===direction||"left"===direction,animation={},animation1={},animation2={},queuelen=element.queue().length;for($.effects.createPlaceholder(element),animation[ref]=(positiveMotion?"-=":"+=")+distance,animation1[ref]=(positiveMotion?"+=":"-=")+2*distance,animation2[ref]=(positiveMotion?"-=":"+=")+2*distance,element.animate(animation,speed,options.easing);i<times;i++)element.animate(animation1,speed,options.easing).animate(animation2,speed,options.easing);element.animate(animation1,speed,options.easing).animate(animation,speed/2,options.easing).queue(done),$.effects.unshift(element,queuelen,anims+1)}),$.effects.define("slide","show",function(options,done){var startClip,startRef,element=$(this),map={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},mode=options.mode,direction=options.direction||"left",ref="up"===direction||"down"===direction?"top":"left",positiveMotion="up"===direction||"left"===direction,distance=options.distance||element["top"===ref?"outerHeight":"outerWidth"](!0),animation={};$.effects.createPlaceholder(element),startClip=element.cssClip(),startRef=element.position()[ref],animation[ref]=(positiveMotion?-1:1)*distance+startRef,animation.clip=element.cssClip(),animation.clip[map[direction][1]]=animation.clip[map[direction][0]],"show"===mode&&(element.cssClip(animation.clip),element.css(ref,animation[ref]),animation.clip=startClip,animation[ref]=startRef),element.animate(animation,{queue:!1,duration:options.duration,easing:options.easing,complete:done})});$.uiBackCompat!==!1&&(effect=$.effects.define("transfer",function(options,done){$(this).transfer(options,done)}));$.ui.focusable=function(element,hasTabindex){var map,mapName,img,focusableIfVisible,fieldset,nodeName=element.nodeName.toLowerCase();return"area"===nodeName?(map=element.parentNode,mapName=map.name,!(!element.href||!mapName||"map"!==map.nodeName.toLowerCase())&&(img=$("img[usemap='#"+mapName+"']"),img.length>0&&img.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(nodeName)?(focusableIfVisible=!element.disabled,focusableIfVisible&&(fieldset=$(element).closest("fieldset")[0],fieldset&&(focusableIfVisible=!fieldset.disabled))):focusableIfVisible="a"===nodeName?element.href||hasTabindex:hasTabindex,focusableIfVisible&&$(element).is(":visible")&&visible($(element)))},$.extend($.expr[":"],{focusable:function(element){return $.ui.focusable(element,null!=$.attr(element,"tabindex"))}});$.ui.focusable,$.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):$(this[0].form)},$.ui.formResetMixin={_formResetHandler:function(){var form=$(this);setTimeout(function(){var instances=form.data("ui-form-reset-instances");$.each(instances,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var instances=this.form.data("ui-form-reset-instances")||[];instances.length||this.form.on("reset.ui-form-reset",this._formResetHandler),instances.push(this),this.form.data("ui-form-reset-instances",instances)}},_unbindFormResetHandler:function(){if(this.form.length){var instances=this.form.data("ui-form-reset-instances");instances.splice($.inArray(this,instances),1),instances.length?this.form.data("ui-form-reset-instances",instances):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}};"1.7"===$.fn.jquery.substring(0,3)&&($.each(["Width","Height"],function(i,name){function reduce(elem,size,border,margin){return $.each(side,function(){size-=parseFloat($.css(elem,"padding"+this))||0,border&&(size-=parseFloat($.css(elem,"border"+this+"Width"))||0),margin&&(size-=parseFloat($.css(elem,"margin"+this))||0)}),size}var side="Width"===name?["Left","Right"]:["Top","Bottom"],type=name.toLowerCase(),orig={innerWidth:$.fn.innerWidth,innerHeight:$.fn.innerHeight,outerWidth:$.fn.outerWidth,outerHeight:$.fn.outerHeight};$.fn["inner"+name]=function(size){return void 0===size?orig["inner"+name].call(this):this.each(function(){$(this).css(type,reduce(this,size)+"px")})},$.fn["outer"+name]=function(size,margin){return"number"!=typeof size?orig["outer"+name].call(this,size):this.each(function(){$(this).css(type,reduce(this,size,!0,margin)+"px")})}}),$.fn.addBack=function(selector){return this.add(null==selector?this.prevObject:this.prevObject.filter(selector))});$.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},$.ui.escapeSelector=function(){var selectorEscape=/([!"#$%&'()*+,.\/:;<=>?@[\]^`{|}~])/g;return function(selector){return selector.replace(selectorEscape,"\\$1")}}(),$.fn.labels=function(){var ancestor,selector,id,labels,ancestors;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(labels=this.eq(0).parents("label"),id=this.attr("id"),id&&(ancestor=this.eq(0).parents().last(),ancestors=ancestor.add(ancestor.length?ancestor.siblings():this.siblings()),selector="label[for='"+$.ui.escapeSelector(id)+"']",labels=labels.add(ancestors.find(selector).addBack(selector))),this.pushStack(labels))},$.fn.scrollParent=function(includeHidden){var position=this.css("position"),excludeStaticParent="absolute"===position,overflowRegex=includeHidden?/(auto|scroll|hidden)/:/(auto|scroll)/,scrollParent=this.parents().filter(function(){var parent=$(this);return(!excludeStaticParent||"static"!==parent.css("position"))&&overflowRegex.test(parent.css("overflow")+parent.css("overflow-y")+parent.css("overflow-x"))}).eq(0);return"fixed"!==position&&scrollParent.length?scrollParent:$(this[0].ownerDocument||document)},$.extend($.expr[":"],{tabbable:function(element){var tabIndex=$.attr(element,"tabindex"),hasTabindex=null!=tabIndex;return(!hasTabindex||tabIndex>=0)&&$.ui.focusable(element,hasTabindex)}}),$.fn.extend({uniqueId:function(){var uuid=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++uuid)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&$(this).removeAttr("id")})}}),$.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var options=this.options;this.prevShow=this.prevHide=$(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),options.collapsible||options.active!==!1&&null!=options.active||(options.active=0),this._processPanels(),options.active<0&&(options.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():$()}},_createIcons:function(){var icon,children,icons=this.options.icons;icons&&(icon=$("<span>"),this._addClass(icon,"ui-accordion-header-icon","ui-icon "+icons.header),icon.prependTo(this.headers),children=this.active.children(".ui-accordion-header-icon"),this._removeClass(children,icons.header)._addClass(children,null,icons.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var contents;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),contents=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&contents.css("height","")},_setOption:function(key,value){return"active"===key?void this._activate(value):("event"===key&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(value)),this._super(key,value),"collapsible"!==key||value||this.options.active!==!1||this._activate(0),void("icons"===key&&(this._destroyIcons(),value&&this._createIcons())))},_setOptionDisabled:function(value){this._super(value),this.element.attr("aria-disabled",value),this._toggleClass(null,"ui-state-disabled",!!value),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!value)},_keydown:function(event){if(!event.altKey&&!event.ctrlKey){var keyCode=$.ui.keyCode,length=this.headers.length,currentIndex=this.headers.index(event.target),toFocus=!1;switch(event.keyCode){case keyCode.RIGHT:case keyCode.DOWN:toFocus=this.headers[(currentIndex+1)%length];break;case keyCode.LEFT:case keyCode.UP:toFocus=this.headers[(currentIndex-1+length)%length];break;case keyCode.SPACE:case keyCode.ENTER:this._eventHandler(event);break;case keyCode.HOME:toFocus=this.headers[0];break;case keyCode.END:toFocus=this.headers[length-1]}toFocus&&($(event.target).attr("tabIndex",-1),$(toFocus).attr("tabIndex",0),$(toFocus).trigger("focus"),event.preventDefault())}},_panelKeyDown:function(event){event.keyCode===$.ui.keyCode.UP&&event.ctrlKey&&$(event.currentTarget).prev().trigger("focus")},refresh:function(){var options=this.options;this._processPanels(),options.active===!1&&options.collapsible===!0||!this.headers.length?(options.active=!1,this.active=$()):options.active===!1?this._activate(0):this.active.length&&!$.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(options.active=!1,this.active=$()):this._activate(Math.max(0,options.active-1)):options.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var prevHeaders=this.headers,prevPanels=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),prevPanels&&(this._off(prevHeaders.not(this.headers)),this._off(prevPanels.not(this.panels)))},_refresh:function(){var maxHeight,options=this.options,heightStyle=options.heightStyle,parent=this.element.parent();this.active=this._findActive(options.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var header=$(this),headerId=header.uniqueId().attr("id"),panel=header.next(),panelId=panel.uniqueId().attr("id");header.attr("aria-controls",panelId),panel.attr("aria-labelledby",headerId)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(options.event),"fill"===heightStyle?(maxHeight=parent.height(),this.element.siblings(":visible").each(function(){var elem=$(this),position=elem.css("position");"absolute"!==position&&"fixed"!==position&&(maxHeight-=elem.outerHeight(!0))}),this.headers.each(function(){maxHeight-=$(this).outerHeight(!0)}),this.headers.next().each(function(){$(this).height(Math.max(0,maxHeight-$(this).innerHeight()+$(this).height()))}).css("overflow","auto")):"auto"===heightStyle&&(maxHeight=0,this.headers.next().each(function(){var isVisible=$(this).is(":visible");isVisible||$(this).show(),maxHeight=Math.max(maxHeight,$(this).css("height","").height()),isVisible||$(this).hide()}).height(maxHeight))},_activate:function(index){var active=this._findActive(index)[0];active!==this.active[0]&&(active=active||this.active[0],this._eventHandler({target:active,currentTarget:active,preventDefault:$.noop}))},_findActive:function(selector){return"number"==typeof selector?this.headers.eq(selector):$()},_setupEvents:function(event){var events={keydown:"_keydown"};event&&$.each(event.split(" "),function(index,eventName){events[eventName]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,events),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(event){var activeChildren,clickedChildren,options=this.options,active=this.active,clicked=$(event.currentTarget),clickedIsActive=clicked[0]===active[0],collapsing=clickedIsActive&&options.collapsible,toShow=collapsing?$():clicked.next(),toHide=active.next(),eventData={oldHeader:active,oldPanel:toHide,newHeader:collapsing?$():clicked,newPanel:toShow};event.preventDefault(),clickedIsActive&&!options.collapsible||this._trigger("beforeActivate",event,eventData)===!1||(options.active=!collapsing&&this.headers.index(clicked),this.active=clickedIsActive?$():clicked,this._toggle(eventData),this._removeClass(active,"ui-accordion-header-active","ui-state-active"),options.icons&&(activeChildren=active.children(".ui-accordion-header-icon"),this._removeClass(activeChildren,null,options.icons.activeHeader)._addClass(activeChildren,null,options.icons.header)),clickedIsActive||(this._removeClass(clicked,"ui-accordion-header-collapsed")._addClass(clicked,"ui-accordion-header-active","ui-state-active"),options.icons&&(clickedChildren=clicked.children(".ui-accordion-header-icon"),this._removeClass(clickedChildren,null,options.icons.header)._addClass(clickedChildren,null,options.icons.activeHeader)),this._addClass(clicked.next(),"ui-accordion-content-active")))},_toggle:function(data){var toShow=data.newPanel,toHide=this.prevShow.length?this.prevShow:data.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=toShow,this.prevHide=toHide,this.options.animate?this._animate(toShow,toHide,data):(toHide.hide(),toShow.show(),this._toggleComplete(data)),toHide.attr({"aria-hidden":"true"}),toHide.prev().attr({"aria-selected":"false","aria-expanded":"false"}),toShow.length&&toHide.length?toHide.prev().attr({tabIndex:-1,"aria-expanded":"false"}):toShow.length&&this.headers.filter(function(){return 0===parseInt($(this).attr("tabIndex"),10)}).attr("tabIndex",-1),toShow.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(toShow,toHide,data){var total,easing,duration,that=this,adjust=0,boxSizing=toShow.css("box-sizing"),down=toShow.length&&(!toHide.length||toShow.index()<toHide.index()),animate=this.options.animate||{},options=down&&animate.down||animate,complete=function(){that._toggleComplete(data)};return"number"==typeof options&&(duration=options),"string"==typeof options&&(easing=options),easing=easing||options.easing||animate.easing,duration=duration||options.duration||animate.duration,toHide.length?toShow.length?(total=toShow.show().outerHeight(),toHide.animate(this.hideProps,{duration:duration,easing:easing,step:function(now,fx){fx.now=Math.round(now)}}),void toShow.hide().animate(this.showProps,{duration:duration,easing:easing,complete:complete,step:function(now,fx){fx.now=Math.round(now),"height"!==fx.prop?"content-box"===boxSizing&&(adjust+=fx.now):"content"!==that.options.heightStyle&&(fx.now=Math.round(total-toHide.outerHeight()-adjust),adjust=0)}})):toHide.animate(this.hideProps,duration,easing,complete):toShow.animate(this.showProps,duration,easing,complete)},_toggleComplete:function(data){var toHide=data.oldPanel,prev=toHide.prev();this._removeClass(toHide,"ui-accordion-content-active"),this._removeClass(prev,"ui-accordion-header-active")._addClass(prev,"ui-accordion-header-collapsed"),toHide.length&&(toHide.parent()[0].className=toHide.parent()[0].className),this._trigger("activate",null,data)}}),$.ui.safeActiveElement=function(document){var activeElement;try{activeElement=document.activeElement}catch(error){activeElement=document.body}return activeElement||(activeElement=document.body),activeElement.nodeName||(activeElement=document.body),activeElement},$.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(event){event.preventDefault()},"click .ui-menu-item":function(event){var target=$(event.target),active=$($.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&target.not(".ui-state-disabled").length&&(this.select(event),event.isPropagationStopped()||(this.mouseHandled=!0),target.has(".ui-menu").length?this.expand(event):!this.element.is(":focus")&&active.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(event){if(!this.previousFilter){var actualTarget=$(event.target).closest(".ui-menu-item"),target=$(event.currentTarget);actualTarget[0]===target[0]&&(this._removeClass(target.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(event,target))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(event,keepActiveItem){var item=this.active||this.element.find(this.options.items).eq(0);keepActiveItem||this.focus(event,item)},blur:function(event){this._delay(function(){var notContained=!$.contains(this.element[0],$.ui.safeActiveElement(this.document[0]));notContained&&this.collapseAll(event)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(event){this._closeOnDocumentClick(event)&&this.collapseAll(event),this.mouseHandled=!1}})},_destroy:function(){var items=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),submenus=items.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),submenus.children().each(function(){var elem=$(this);elem.data("ui-menu-submenu-caret")&&elem.remove()})},_keydown:function(event){var match,prev,character,skip,preventDefault=!0;switch(event.keyCode){case $.ui.keyCode.PAGE_UP:this.previousPage(event);break;case $.ui.keyCode.PAGE_DOWN:this.nextPage(event);break;case $.ui.keyCode.HOME:this._move("first","first",event);break;case $.ui.keyCode.END:this._move("last","last",event);break;case $.ui.keyCode.UP:this.previous(event);break;case $.ui.keyCode.DOWN:this.next(event);break;case $.ui.keyCode.LEFT:this.collapse(event);break;case $.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(event);break;case $.ui.keyCode.ENTER:case $.ui.keyCode.SPACE:this._activate(event);break;case $.ui.keyCode.ESCAPE:this.collapse(event);break;default:preventDefault=!1,prev=this.previousFilter||"",skip=!1,character=event.keyCode>=96&&event.keyCode<=105?(event.keyCode-96).toString():String.fromCharCode(event.keyCode),clearTimeout(this.filterTimer),character===prev?skip=!0:character=prev+character,match=this._filterMenuItems(character),match=skip&&match.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):match,match.length||(character=String.fromCharCode(event.keyCode),match=this._filterMenuItems(character)),match.length?(this.focus(event,match),this.previousFilter=character,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}preventDefault&&event.preventDefault()},_activate:function(event){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(event):this.select(event))},refresh:function(){var menus,items,newSubmenus,newItems,newWrappers,that=this,icon=this.options.icons.submenu,submenus=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),newSubmenus=submenus.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var menu=$(this),item=menu.prev(),submenuCaret=$("<span>").data("ui-menu-submenu-caret",!0);that._addClass(submenuCaret,"ui-menu-icon","ui-icon "+icon),item.attr("aria-haspopup","true").prepend(submenuCaret),menu.attr("aria-labelledby",item.attr("id"))}),this._addClass(newSubmenus,"ui-menu","ui-widget ui-widget-content ui-front"),menus=submenus.add(this.element),items=menus.find(this.options.items),items.not(".ui-menu-item").each(function(){var item=$(this);that._isDivider(item)&&that._addClass(item,"ui-menu-divider","ui-widget-content")}),newItems=items.not(".ui-menu-item, .ui-menu-divider"),newWrappers=newItems.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(newItems,"ui-menu-item")._addClass(newWrappers,"ui-menu-item-wrapper"),items.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!$.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(key,value){if("icons"===key){var icons=this.element.find(".ui-menu-icon");this._removeClass(icons,null,this.options.icons.submenu)._addClass(icons,null,value.submenu)}this._super(key,value)},_setOptionDisabled:function(value){this._super(value),this.element.attr("aria-disabled",String(value)),this._toggleClass(null,"ui-state-disabled",!!value)},focus:function(event,item){var nested,focused,activeParent;this.blur(event,event&&"focus"===event.type),this._scrollIntoView(item),this.active=item.first(),focused=this.active.children(".ui-menu-item-wrapper"),this._addClass(focused,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",focused.attr("id")),activeParent=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(activeParent,null,"ui-state-active"),event&&"keydown"===event.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),nested=item.children(".ui-menu"),nested.length&&event&&/^mouse/.test(event.type)&&this._startOpening(nested),this.activeMenu=item.parent(),this._trigger("focus",event,{item:item})},_scrollIntoView:function(item){var borderTop,paddingTop,offset,scroll,elementHeight,itemHeight;this._hasScroll()&&(borderTop=parseFloat($.css(this.activeMenu[0],"borderTopWidth"))||0,paddingTop=parseFloat($.css(this.activeMenu[0],"paddingTop"))||0,offset=item.offset().top-this.activeMenu.offset().top-borderTop-paddingTop,scroll=this.activeMenu.scrollTop(),elementHeight=this.activeMenu.height(),itemHeight=item.outerHeight(),offset<0?this.activeMenu.scrollTop(scroll+offset):offset+itemHeight>elementHeight&&this.activeMenu.scrollTop(scroll+offset-elementHeight+itemHeight))},blur:function(event,fromFocus){fromFocus||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",event,{item:this.active}),this.active=null)},_startOpening:function(submenu){clearTimeout(this.timer),"true"===submenu.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(submenu)},this.delay))},_open:function(submenu){var position=$.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(submenu.parents(".ui-menu")).hide().attr("aria-hidden","true"),submenu.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(position)},collapseAll:function(event,all){clearTimeout(this.timer),this.timer=this._delay(function(){var currentMenu=all?this.element:$(event&&event.target).closest(this.element.find(".ui-menu"));currentMenu.length||(currentMenu=this.element),this._close(currentMenu),this.blur(event),this._removeClass(currentMenu.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=currentMenu},this.delay)},_close:function(startMenu){startMenu||(startMenu=this.active?this.active.parent():this.element),startMenu.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(event){return!$(event.target).closest(".ui-menu").length},_isDivider:function(item){return!/[^\-\u2014\u2013\s]/.test(item.text())},collapse:function(event){var newItem=this.active&&this.active.parent().closest(".ui-menu-item",this.element);newItem&&newItem.length&&(this._close(),this.focus(event,newItem))},expand:function(event){var newItem=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();newItem&&newItem.length&&(this._open(newItem.parent()),this._delay(function(){this.focus(event,newItem)}))},next:function(event){this._move("next","first",event)},previous:function(event){this._move("prev","last",event)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(direction,filter,event){var next;this.active&&(next="first"===direction||"last"===direction?this.active["first"===direction?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[direction+"All"](".ui-menu-item").eq(0)),next&&next.length&&this.active||(next=this.activeMenu.find(this.options.items)[filter]()),this.focus(event,next)},nextPage:function(event){var item,base,height;return this.active?void(this.isLastItem()||(this._hasScroll()?(base=this.active.offset().top,height=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return item=$(this),item.offset().top-base-height<0}),this.focus(event,item)):this.focus(event,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(event)},previousPage:function(event){var item,base,height;return this.active?void(this.isFirstItem()||(this._hasScroll()?(base=this.active.offset().top,height=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return item=$(this),item.offset().top-base+height>0}),this.focus(event,item)):this.focus(event,this.activeMenu.find(this.options.items).first()))):void this.next(event)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(event){this.active=this.active||$(event.target).closest(".ui-menu-item");var ui={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(event,!0),this._trigger("select",event,ui)},_filterMenuItems:function(character){var escapedCharacter=character.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),regex=new RegExp("^"+escapedCharacter,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return regex.test($.trim($(this).children(".ui-menu-item-wrapper").text()))})}});$.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var suppressKeyPress,suppressKeyPressRepeat,suppressInput,nodeName=this.element[0].nodeName.toLowerCase(),isTextarea="textarea"===nodeName,isInput="input"===nodeName;this.isMultiLine=isTextarea||!isInput&&this._isContentEditable(this.element),this.valueMethod=this.element[isTextarea||isInput?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(event){if(this.element.prop("readOnly"))return suppressKeyPress=!0,suppressInput=!0,void(suppressKeyPressRepeat=!0);suppressKeyPress=!1,suppressInput=!1,suppressKeyPressRepeat=!1;var keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.PAGE_UP:suppressKeyPress=!0,this._move("previousPage",event);break;case keyCode.PAGE_DOWN:suppressKeyPress=!0,this._move("nextPage",event);break;case keyCode.UP:suppressKeyPress=!0,this._keyEvent("previous",event);break;case keyCode.DOWN:suppressKeyPress=!0,this._keyEvent("next",event);break;case keyCode.ENTER:this.menu.active&&(suppressKeyPress=!0,event.preventDefault(),this.menu.select(event));break;case keyCode.TAB:this.menu.active&&this.menu.select(event);break;case keyCode.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(event),event.preventDefault());break;default:suppressKeyPressRepeat=!0,this._searchTimeout(event)}},keypress:function(event){if(suppressKeyPress)return suppressKeyPress=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||event.preventDefault());if(!suppressKeyPressRepeat){var keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.PAGE_UP:this._move("previousPage",event);
break;case keyCode.PAGE_DOWN:this._move("nextPage",event);break;case keyCode.UP:this._keyEvent("previous",event);break;case keyCode.DOWN:this._keyEvent("next",event)}}},input:function(event){return suppressInput?(suppressInput=!1,void event.preventDefault()):void this._searchTimeout(event)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(event){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(event),void this._change(event))}}),this._initSource(),this.menu=$("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(event){event.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==$.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(event,ui){var label,item;return this.isNewMenu&&(this.isNewMenu=!1,event.originalEvent&&/^mouse/.test(event.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){$(event.target).trigger(event.originalEvent)})):(item=ui.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",event,{item:item})&&event.originalEvent&&/^key/.test(event.originalEvent.type)&&this._value(item.value),label=ui.item.attr("aria-label")||item.value,void(label&&$.trim(label).length&&(this.liveRegion.children().hide(),$("<div>").text(label).appendTo(this.liveRegion))))},menuselect:function(event,ui){var item=ui.item.data("ui-autocomplete-item"),previous=this.previous;this.element[0]!==$.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=previous,this._delay(function(){this.previous=previous,this.selectedItem=item})),!1!==this._trigger("select",event,{item:item})&&this._value(item.value),this.term=this._value(),this.close(event),this.selectedItem=item}}),this.liveRegion=$("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(key,value){this._super(key,value),"source"===key&&this._initSource(),"appendTo"===key&&this.menu.element.appendTo(this._appendTo()),"disabled"===key&&value&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(event){var menuElement=this.menu.element[0];return event.target===this.element[0]||event.target===menuElement||$.contains(menuElement,event.target)},_closeOnClickOutside:function(event){this._isEventTargetInWidget(event)||this.close()},_appendTo:function(){var element=this.options.appendTo;return element&&(element=element.jquery||element.nodeType?$(element):this.document.find(element).eq(0)),element&&element[0]||(element=this.element.closest(".ui-front, dialog")),element.length||(element=this.document[0].body),element},_initSource:function(){var array,url,that=this;$.isArray(this.options.source)?(array=this.options.source,this.source=function(request,response){response($.ui.autocomplete.filter(array,request.term))}):"string"==typeof this.options.source?(url=this.options.source,this.source=function(request,response){that.xhr&&that.xhr.abort(),that.xhr=$.ajax({url:url,data:request,dataType:"json",success:function(data){response(data)},error:function(){response([])}})}):this.source=this.options.source},_searchTimeout:function(event){clearTimeout(this.searching),this.searching=this._delay(function(){var equalValues=this.term===this._value(),menuVisible=this.menu.element.is(":visible"),modifierKey=event.altKey||event.ctrlKey||event.metaKey||event.shiftKey;equalValues&&(!equalValues||menuVisible||modifierKey)||(this.selectedItem=null,this.search(null,event))},this.options.delay)},search:function(value,event){return value=null!=value?value:this._value(),this.term=this._value(),value.length<this.options.minLength?this.close(event):this._trigger("search",event)!==!1?this._search(value):void 0},_search:function(value){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:value},this._response())},_response:function(){var index=++this.requestIndex;return $.proxy(function(content){index===this.requestIndex&&this.__response(content),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(content){content&&(content=this._normalize(content)),this._trigger("response",null,{content:content}),!this.options.disabled&&content&&content.length&&!this.cancelSearch?(this._suggest(content),this._trigger("open")):this._close()},close:function(event){this.cancelSearch=!0,this._close(event)},_close:function(event){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",event))},_change:function(event){this.previous!==this._value()&&this._trigger("change",event,{item:this.selectedItem})},_normalize:function(items){return items.length&&items[0].label&&items[0].value?items:$.map(items,function(item){return"string"==typeof item?{label:item,value:item}:$.extend({},item,{label:item.label||item.value,value:item.value||item.label})})},_suggest:function(items){var ul=this.menu.element.empty();this._renderMenu(ul,items),this.isNewMenu=!0,this.menu.refresh(),ul.show(),this._resizeMenu(),ul.position($.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var ul=this.menu.element;ul.outerWidth(Math.max(ul.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(ul,items){var that=this;$.each(items,function(index,item){that._renderItemData(ul,item)})},_renderItemData:function(ul,item){return this._renderItem(ul,item).data("ui-autocomplete-item",item)},_renderItem:function(ul,item){return $("<li>").append($("<div>").text(item.label)).appendTo(ul)},_move:function(direction,event){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(direction)||this.menu.isLastItem()&&/^next/.test(direction)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[direction](event):void this.search(null,event)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(keyEvent,event){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(keyEvent,event),event.preventDefault())},_isContentEditable:function(element){if(!element.length)return!1;var editable=element.prop("contentEditable");return"inherit"===editable?this._isContentEditable(element.parent()):"true"===editable}}),$.extend($.ui.autocomplete,{escapeRegex:function(value){return value.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(array,term){var matcher=new RegExp($.ui.autocomplete.escapeRegex(term),"i");return $.grep(array,function(value){return matcher.test(value.label||value.value||value)})}}),$.widget("ui.autocomplete",$.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(amount){return amount+(amount>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(content){var message;this._superApply(arguments),this.options.disabled||this.cancelSearch||(message=content&&content.length?this.options.messages.results(content.length):this.options.messages.noResults,this.liveRegion.children().hide(),$("<div>").text(message).appendTo(this.liveRegion))}});var controlgroupCornerRegex=($.ui.autocomplete,/ui-corner-([a-z]){2,6}/g);$.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var that=this,childWidgets=[];$.each(this.options.items,function(widget,selector){var labels,options={};if(selector)return"controlgroupLabel"===widget?(labels=that.element.find(selector),labels.each(function(){var element=$(this);element.children(".ui-controlgroup-label-contents").length||element.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),that._addClass(labels,null,"ui-widget ui-widget-content ui-state-default"),void(childWidgets=childWidgets.concat(labels.get()))):void($.fn[widget]&&(options=that["_"+widget+"Options"]?that["_"+widget+"Options"]("middle"):{classes:{}},that.element.find(selector).each(function(){var element=$(this),instance=element[widget]("instance"),instanceOptions=$.widget.extend({},options);if("button"!==widget||!element.parent(".ui-spinner").length){instance||(instance=element[widget]()[widget]("instance")),instance&&(instanceOptions.classes=that._resolveClassesValues(instanceOptions.classes,instance)),element[widget](instanceOptions);var widgetElement=element[widget]("widget");$.data(widgetElement[0],"ui-controlgroup-data",instance?instance:element[widget]("instance")),childWidgets.push(widgetElement[0])}})))}),this.childWidgets=$($.unique(childWidgets)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(method){this.childWidgets.each(function(){var element=$(this),data=element.data("ui-controlgroup-data");data&&data[method]&&data[method]()})},_updateCornerClass:function(element,position){var remove="ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all",add=this._buildSimpleOptions(position,"label").classes.label;this._removeClass(element,null,remove),this._addClass(element,null,add)},_buildSimpleOptions:function(position,key){var direction="vertical"===this.options.direction,result={classes:{}};return result.classes[key]={middle:"",first:"ui-corner-"+(direction?"top":"left"),last:"ui-corner-"+(direction?"bottom":"right"),only:"ui-corner-all"}[position],result},_spinnerOptions:function(position){var options=this._buildSimpleOptions(position,"ui-spinner");return options.classes["ui-spinner-up"]="",options.classes["ui-spinner-down"]="",options},_buttonOptions:function(position){return this._buildSimpleOptions(position,"ui-button")},_checkboxradioOptions:function(position){return this._buildSimpleOptions(position,"ui-checkboxradio-label")},_selectmenuOptions:function(position){var direction="vertical"===this.options.direction;return{width:!!direction&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(direction?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(direction?"top":"left")},last:{"ui-selectmenu-button-open":direction?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(direction?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[position]}},_resolveClassesValues:function(classes,instance){var result={};return $.each(classes,function(key){var current=instance.options.classes[key]||"";current=$.trim(current.replace(controlgroupCornerRegex,"")),result[key]=(current+" "+classes[key]).replace(/\s+/g," ")}),result},_setOption:function(key,value){return"direction"===key&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(key,value),"disabled"===key?void this._callChildMethod(value?"disable":"enable"):void this.refresh()},refresh:function(){var children,that=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),children=this.childWidgets,this.options.onlyVisible&&(children=children.filter(":visible")),children.length&&($.each(["first","last"],function(index,value){var instance=children[value]().data("ui-controlgroup-data");if(instance&&that["_"+instance.widgetName+"Options"]){var options=that["_"+instance.widgetName+"Options"](1===children.length?"only":value);options.classes=that._resolveClassesValues(options.classes,instance),instance.element[instance.widgetName](options)}else that._updateCornerClass(children[value](),value)}),this._callChildMethod("refresh"))}});$.widget("ui.checkboxradio",[$.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var disabled,labels,that=this,options=this._super()||{};return this._readType(),labels=this.element.labels(),this.label=$(labels[labels.length-1]),this.label.length||$.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){that.originalLabel+=3===this.nodeType?$(this).text():this.outerHTML}),this.originalLabel&&(options.label=this.originalLabel),disabled=this.element[0].disabled,null!=disabled&&(options.disabled=disabled),options},_create:function(){var checked=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),checked&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var nodeName=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===nodeName&&/radio|checkbox/.test(this.type)||$.error("Can't create checkboxradio on element.nodeName="+nodeName+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var group,name=this.element[0].name,nameSelector="input[name='"+$.ui.escapeSelector(name)+"']";return name?(group=this.form.length?$(this.form[0].elements).filter(nameSelector):$(nameSelector).filter(function(){return 0===$(this).form().length}),group.not(this.element)):$([])},_toggleClasses:function(){var checked=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",checked),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",checked)._toggleClass(this.icon,null,"ui-icon-blank",!checked),"radio"===this.type&&this._getRadioGroup().each(function(){var instance=$(this).checkboxradio("instance");instance&&instance._removeClass(instance.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(key,value){if("label"!==key||value)return this._super(key,value),"disabled"===key?(this._toggleClass(this.label,null,"ui-state-disabled",value),void(this.element[0].disabled=value)):void this.refresh()},_updateIcon:function(checked){var toAdd="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=$("<span>"),this.iconSpace=$("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(toAdd+=checked?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,checked?"ui-icon-blank":"ui-icon-check")):toAdd+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",toAdd),checked||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var contents=this.label.contents().not(this.element[0]);this.icon&&(contents=contents.not(this.icon[0])),this.iconSpace&&(contents=contents.not(this.iconSpace[0])),contents.remove(),this.label.append(this.options.label)},refresh:function(){var checked=this.element[0].checked,isDisabled=this.element[0].disabled;this._updateIcon(checked),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",checked),null!==this.options.label&&this._updateLabel(),isDisabled!==this.options.disabled&&this._setOptions({disabled:isDisabled})}}]);$.ui.checkboxradio;$.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var disabled,options=this._super()||{};return this.isInput=this.element.is("input"),disabled=this.element[0].disabled,null!=disabled&&(options.disabled=disabled),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(options.label=this.originalLabel),options},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(event){event.keyCode===$.ui.keyCode.SPACE&&(event.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(option,value){var icon="iconPosition"!==option,position=icon?this.options.iconPosition:value,displayBlock="top"===position||"bottom"===position;this.icon?icon&&this._removeClass(this.icon,null,this.options.icon):(this.icon=$("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),icon&&this._addClass(this.icon,null,value),this._attachIcon(position),displayBlock?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=$("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(position))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(iconPosition){this.icon[/^(?:end|bottom)/.test(iconPosition)?"before":"after"](this.iconSpace)},_attachIcon:function(iconPosition){this.element[/^(?:end|bottom)/.test(iconPosition)?"append":"prepend"](this.icon)},_setOptions:function(options){var newShowLabel=void 0===options.showLabel?this.options.showLabel:options.showLabel,newIcon=void 0===options.icon?this.options.icon:options.icon;newShowLabel||newIcon||(options.showLabel=!0),this._super(options)},_setOption:function(key,value){"icon"===key&&(value?this._updateIcon(key,value):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===key&&this._updateIcon(key,value),"showLabel"===key&&(this._toggleClass("ui-button-icon-only",null,!value),this._updateTooltip()),"label"===key&&(this.isInput?this.element.val(value):(this.element.html(value),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(key,value),"disabled"===key&&(this._toggleClass(null,"ui-state-disabled",value),this.element[0].disabled=value,value&&this.element.blur())},refresh:function(){var isDisabled=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");isDisabled!==this.options.disabled&&this._setOptions({disabled:isDisabled}),this._updateTooltip()}}),$.uiBackCompat!==!1&&($.widget("ui.button",$.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(key,value){return"text"===key?void this._super("showLabel",value):("showLabel"===key&&(this.options.text=value),"icon"===key&&(this.options.icons.primary=value),"icons"===key&&(value.primary?(this._super("icon",value.primary),this._super("iconPosition","beginning")):value.secondary&&(this._super("icon",value.secondary),this._super("iconPosition","end"))),void this._superApply(arguments))}}),$.fn.button=function(orig){return function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?orig.apply(this,arguments):($.ui.checkboxradio||$.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}($.fn.button),$.fn.buttonset=function(){return $.ui.controlgroup||$.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))});$.ui.button;$.extend($.ui,{datepicker:{version:"1.12.1"}});var datepicker_instActive;$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(settings){return datepicker_extendRemove(this._defaults,settings||{}),this},_attachDatepicker:function(target,settings){var nodeName,inline,inst;nodeName=target.nodeName.toLowerCase(),inline="div"===nodeName||"span"===nodeName,target.id||(this.uuid+=1,target.id="dp"+this.uuid),inst=this._newInst($(target),inline),inst.settings=$.extend({},settings||{}),"input"===nodeName?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(target,inline){var id=target[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:id,input:target,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:inline,dpDiv:inline?datepicker_bindHover($("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(target,inst){var input=$(target);inst.append=$([]),inst.trigger=$([]),input.hasClass(this.markerClassName)||(this._attachments(input,inst),input.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(inst),$.data(target,"datepicker",inst),inst.settings.disabled&&this._disableDatepicker(target))},_attachments:function(input,inst){var showOn,buttonText,buttonImage,appendText=this._get(inst,"appendText"),isRTL=this._get(inst,"isRTL");inst.append&&inst.append.remove(),appendText&&(inst.append=$("<span class='"+this._appendClass+"'>"+appendText+"</span>"),input[isRTL?"before":"after"](inst.append)),input.off("focus",this._showDatepicker),inst.trigger&&inst.trigger.remove(),showOn=this._get(inst,"showOn"),"focus"!==showOn&&"both"!==showOn||input.on("focus",this._showDatepicker),"button"!==showOn&&"both"!==showOn||(buttonText=this._get(inst,"buttonText"),buttonImage=this._get(inst,"buttonImage"),inst.trigger=$(this._get(inst,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:buttonImage,alt:buttonText,title:buttonText}):$("<button type='button'></button>").addClass(this._triggerClass).html(buttonImage?$("<img/>").attr({src:buttonImage,alt:buttonText,title:buttonText}):buttonText)),input[isRTL?"before":"after"](inst.trigger),inst.trigger.on("click",function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput===input[0]?$.datepicker._hideDatepicker():$.datepicker._datepickerShowing&&$.datepicker._lastInput!==input[0]?($.datepicker._hideDatepicker(),$.datepicker._showDatepicker(input[0])):$.datepicker._showDatepicker(input[0]),!1}))},_autoSize:function(inst){if(this._get(inst,"autoSize")&&!inst.inline){var findMax,max,maxI,i,date=new Date(2009,11,20),dateFormat=this._get(inst,"dateFormat");dateFormat.match(/[DM]/)&&(findMax=function(names){for(max=0,maxI=0,i=0;i<names.length;i++)names[i].length>max&&(max=names[i].length,maxI=i);return maxI},date.setMonth(findMax(this._get(inst,dateFormat.match(/MM/)?"monthNames":"monthNamesShort"))),date.setDate(findMax(this._get(inst,dateFormat.match(/DD/)?"dayNames":"dayNamesShort"))+20-date.getDay())),inst.input.attr("size",this._formatDate(inst,date).length)}},_inlineDatepicker:function(target,inst){var divSpan=$(target);divSpan.hasClass(this.markerClassName)||(divSpan.addClass(this.markerClassName).append(inst.dpDiv),$.data(target,"datepicker",inst),this._setDate(inst,this._getDefaultDate(inst),!0),this._updateDatepicker(inst),this._updateAlternate(inst),inst.settings.disabled&&this._disableDatepicker(target),inst.dpDiv.css("display","block"))},_dialogDatepicker:function(input,date,onSelect,settings,pos){var id,browserWidth,browserHeight,scrollX,scrollY,inst=this._dialogInst;return inst||(this.uuid+=1,id="dp"+this.uuid,this._dialogInput=$("<input type='text' id='"+id+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),$("body").append(this._dialogInput),inst=this._dialogInst=this._newInst(this._dialogInput,!1),inst.settings={},$.data(this._dialogInput[0],"datepicker",inst)),datepicker_extendRemove(inst.settings,settings||{}),date=date&&date.constructor===Date?this._formatDate(inst,date):date,this._dialogInput.val(date),this._pos=pos?pos.length?pos:[pos.pageX,pos.pageY]:null,this._pos||(browserWidth=document.documentElement.clientWidth,browserHeight=document.documentElement.clientHeight,scrollX=document.documentElement.scrollLeft||document.body.scrollLeft,scrollY=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[browserWidth/2-100+scrollX,browserHeight/2-150+scrollY]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),inst.settings.onSelect=onSelect,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],"datepicker",inst),this},_destroyDatepicker:function(target){var nodeName,$target=$(target),inst=$.data(target,"datepicker");$target.hasClass(this.markerClassName)&&(nodeName=target.nodeName.toLowerCase(),$.removeData(target,"datepicker"),"input"===nodeName?(inst.append.remove(),inst.trigger.remove(),$target.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==nodeName&&"span"!==nodeName||$target.removeClass(this.markerClassName).empty(),datepicker_instActive===inst&&(datepicker_instActive=null))},_enableDatepicker:function(target){var nodeName,inline,$target=$(target),inst=$.data(target,"datepicker");$target.hasClass(this.markerClassName)&&(nodeName=target.nodeName.toLowerCase(),"input"===nodeName?(target.disabled=!1,inst.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==nodeName&&"span"!==nodeName||(inline=$target.children("."+this._inlineClass),inline.children().removeClass("ui-state-disabled"),inline.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=$.map(this._disabledInputs,function(value){return value===target?null:value}))},_disableDatepicker:function(target){var nodeName,inline,$target=$(target),inst=$.data(target,"datepicker");$target.hasClass(this.markerClassName)&&(nodeName=target.nodeName.toLowerCase(),"input"===nodeName?(target.disabled=!0,inst.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==nodeName&&"span"!==nodeName||(inline=$target.children("."+this._inlineClass),inline.children().addClass("ui-state-disabled"),inline.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=$.map(this._disabledInputs,function(value){return value===target?null:value}),this._disabledInputs[this._disabledInputs.length]=target)},_isDisabledDatepicker:function(target){if(!target)return!1;for(var i=0;i<this._disabledInputs.length;i++)if(this._disabledInputs[i]===target)return!0;return!1},_getInst:function(target){try{return $.data(target,"datepicker")}catch(err){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(target,name,value){var settings,date,minDate,maxDate,inst=this._getInst(target);return 2===arguments.length&&"string"==typeof name?"defaults"===name?$.extend({},$.datepicker._defaults):inst?"all"===name?$.extend({},inst.settings):this._get(inst,name):null:(settings=name||{},"string"==typeof name&&(settings={},settings[name]=value),void(inst&&(this._curInst===inst&&this._hideDatepicker(),date=this._getDateDatepicker(target,!0),minDate=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max"),datepicker_extendRemove(inst.settings,settings),null!==minDate&&void 0!==settings.dateFormat&&void 0===settings.minDate&&(inst.settings.minDate=this._formatDate(inst,minDate)),null!==maxDate&&void 0!==settings.dateFormat&&void 0===settings.maxDate&&(inst.settings.maxDate=this._formatDate(inst,maxDate)),"disabled"in settings&&(settings.disabled?this._disableDatepicker(target):this._enableDatepicker(target)),this._attachments($(target),inst),this._autoSize(inst),this._setDate(inst,date),this._updateAlternate(inst),this._updateDatepicker(inst))))},_changeDatepicker:function(target,name,value){this._optionDatepicker(target,name,value)},_refreshDatepicker:function(target){var inst=this._getInst(target);inst&&this._updateDatepicker(inst)},_setDateDatepicker:function(target,date){var inst=this._getInst(target);inst&&(this._setDate(inst,date),this._updateDatepicker(inst),this._updateAlternate(inst))},_getDateDatepicker:function(target,noDefault){var inst=this._getInst(target);return inst&&!inst.inline&&this._setDateFromField(inst,noDefault),inst?this._getDate(inst):null},_doKeyDown:function(event){
var onSelect,dateStr,sel,inst=$.datepicker._getInst(event.target),handled=!0,isRTL=inst.dpDiv.is(".ui-datepicker-rtl");if(inst._keyEvent=!0,$.datepicker._datepickerShowing)switch(event.keyCode){case 9:$.datepicker._hideDatepicker(),handled=!1;break;case 13:return sel=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",inst.dpDiv),sel[0]&&$.datepicker._selectDay(event.target,inst.selectedMonth,inst.selectedYear,sel[0]),onSelect=$.datepicker._get(inst,"onSelect"),onSelect?(dateStr=$.datepicker._formatDate(inst),onSelect.apply(inst.input?inst.input[0]:null,[dateStr,inst])):$.datepicker._hideDatepicker(),!1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(event.target,event.ctrlKey?-$.datepicker._get(inst,"stepBigMonths"):-$.datepicker._get(inst,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(event.target,event.ctrlKey?+$.datepicker._get(inst,"stepBigMonths"):+$.datepicker._get(inst,"stepMonths"),"M");break;case 35:(event.ctrlKey||event.metaKey)&&$.datepicker._clearDate(event.target),handled=event.ctrlKey||event.metaKey;break;case 36:(event.ctrlKey||event.metaKey)&&$.datepicker._gotoToday(event.target),handled=event.ctrlKey||event.metaKey;break;case 37:(event.ctrlKey||event.metaKey)&&$.datepicker._adjustDate(event.target,isRTL?1:-1,"D"),handled=event.ctrlKey||event.metaKey,event.originalEvent.altKey&&$.datepicker._adjustDate(event.target,event.ctrlKey?-$.datepicker._get(inst,"stepBigMonths"):-$.datepicker._get(inst,"stepMonths"),"M");break;case 38:(event.ctrlKey||event.metaKey)&&$.datepicker._adjustDate(event.target,-7,"D"),handled=event.ctrlKey||event.metaKey;break;case 39:(event.ctrlKey||event.metaKey)&&$.datepicker._adjustDate(event.target,isRTL?-1:1,"D"),handled=event.ctrlKey||event.metaKey,event.originalEvent.altKey&&$.datepicker._adjustDate(event.target,event.ctrlKey?+$.datepicker._get(inst,"stepBigMonths"):+$.datepicker._get(inst,"stepMonths"),"M");break;case 40:(event.ctrlKey||event.metaKey)&&$.datepicker._adjustDate(event.target,7,"D"),handled=event.ctrlKey||event.metaKey;break;default:handled=!1}else 36===event.keyCode&&event.ctrlKey?$.datepicker._showDatepicker(this):handled=!1;handled&&(event.preventDefault(),event.stopPropagation())},_doKeyPress:function(event){var chars,chr,inst=$.datepicker._getInst(event.target);if($.datepicker._get(inst,"constrainInput"))return chars=$.datepicker._possibleChars($.datepicker._get(inst,"dateFormat")),chr=String.fromCharCode(null==event.charCode?event.keyCode:event.charCode),event.ctrlKey||event.metaKey||chr<" "||!chars||chars.indexOf(chr)>-1},_doKeyUp:function(event){var date,inst=$.datepicker._getInst(event.target);if(inst.input.val()!==inst.lastVal)try{date=$.datepicker.parseDate($.datepicker._get(inst,"dateFormat"),inst.input?inst.input.val():null,$.datepicker._getFormatConfig(inst)),date&&($.datepicker._setDateFromField(inst),$.datepicker._updateAlternate(inst),$.datepicker._updateDatepicker(inst))}catch(err){}return!0},_showDatepicker:function(input){if(input=input.target||input,"input"!==input.nodeName.toLowerCase()&&(input=$("input",input.parentNode)[0]),!$.datepicker._isDisabledDatepicker(input)&&$.datepicker._lastInput!==input){var inst,beforeShow,beforeShowSettings,isFixed,offset,showAnim,duration;inst=$.datepicker._getInst(input),$.datepicker._curInst&&$.datepicker._curInst!==inst&&($.datepicker._curInst.dpDiv.stop(!0,!0),inst&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0])),beforeShow=$.datepicker._get(inst,"beforeShow"),beforeShowSettings=beforeShow?beforeShow.apply(input,[input,inst]):{},beforeShowSettings!==!1&&(datepicker_extendRemove(inst.settings,beforeShowSettings),inst.lastVal=null,$.datepicker._lastInput=input,$.datepicker._setDateFromField(inst),$.datepicker._inDialog&&(input.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(input),$.datepicker._pos[1]+=input.offsetHeight),isFixed=!1,$(input).parents().each(function(){return isFixed|="fixed"===$(this).css("position"),!isFixed}),offset={left:$.datepicker._pos[0],top:$.datepicker._pos[1]},$.datepicker._pos=null,inst.dpDiv.empty(),inst.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(inst),offset=$.datepicker._checkOffset(inst,offset,isFixed),inst.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":isFixed?"fixed":"absolute",display:"none",left:offset.left+"px",top:offset.top+"px"}),inst.inline||(showAnim=$.datepicker._get(inst,"showAnim"),duration=$.datepicker._get(inst,"duration"),inst.dpDiv.css("z-index",datepicker_getZindex($(input))+1),$.datepicker._datepickerShowing=!0,$.effects&&$.effects.effect[showAnim]?inst.dpDiv.show(showAnim,$.datepicker._get(inst,"showOptions"),duration):inst.dpDiv[showAnim||"show"](showAnim?duration:null),$.datepicker._shouldFocusInput(inst)&&inst.input.trigger("focus"),$.datepicker._curInst=inst))}},_updateDatepicker:function(inst){this.maxRows=4,datepicker_instActive=inst,inst.dpDiv.empty().append(this._generateHTML(inst)),this._attachHandlers(inst);var origyearshtml,numMonths=this._getNumberOfMonths(inst),cols=numMonths[1],width=17,activeCell=inst.dpDiv.find("."+this._dayOverClass+" a");activeCell.length>0&&datepicker_handleMouseover.apply(activeCell.get(0)),inst.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),cols>1&&inst.dpDiv.addClass("ui-datepicker-multi-"+cols).css("width",width*cols+"em"),inst.dpDiv[(1!==numMonths[0]||1!==numMonths[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),inst.dpDiv[(this._get(inst,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),inst===$.datepicker._curInst&&$.datepicker._datepickerShowing&&$.datepicker._shouldFocusInput(inst)&&inst.input.trigger("focus"),inst.yearshtml&&(origyearshtml=inst.yearshtml,setTimeout(function(){origyearshtml===inst.yearshtml&&inst.yearshtml&&inst.dpDiv.find("select.ui-datepicker-year:first").replaceWith(inst.yearshtml),origyearshtml=inst.yearshtml=null},0))},_shouldFocusInput:function(inst){return inst.input&&inst.input.is(":visible")&&!inst.input.is(":disabled")&&!inst.input.is(":focus")},_checkOffset:function(inst,offset,isFixed){var dpWidth=inst.dpDiv.outerWidth(),dpHeight=inst.dpDiv.outerHeight(),inputWidth=inst.input?inst.input.outerWidth():0,inputHeight=inst.input?inst.input.outerHeight():0,viewWidth=document.documentElement.clientWidth+(isFixed?0:$(document).scrollLeft()),viewHeight=document.documentElement.clientHeight+(isFixed?0:$(document).scrollTop());return offset.left-=this._get(inst,"isRTL")?dpWidth-inputWidth:0,offset.left-=isFixed&&offset.left===inst.input.offset().left?$(document).scrollLeft():0,offset.top-=isFixed&&offset.top===inst.input.offset().top+inputHeight?$(document).scrollTop():0,offset.left-=Math.min(offset.left,offset.left+dpWidth>viewWidth&&viewWidth>dpWidth?Math.abs(offset.left+dpWidth-viewWidth):0),offset.top-=Math.min(offset.top,offset.top+dpHeight>viewHeight&&viewHeight>dpHeight?Math.abs(dpHeight+inputHeight):0),offset},_findPos:function(obj){for(var position,inst=this._getInst(obj),isRTL=this._get(inst,"isRTL");obj&&("hidden"===obj.type||1!==obj.nodeType||$.expr.filters.hidden(obj));)obj=obj[isRTL?"previousSibling":"nextSibling"];return position=$(obj).offset(),[position.left,position.top]},_hideDatepicker:function(input){var showAnim,duration,postProcess,onClose,inst=this._curInst;!inst||input&&inst!==$.data(input,"datepicker")||this._datepickerShowing&&(showAnim=this._get(inst,"showAnim"),duration=this._get(inst,"duration"),postProcess=function(){$.datepicker._tidyDialog(inst)},$.effects&&($.effects.effect[showAnim]||$.effects[showAnim])?inst.dpDiv.hide(showAnim,$.datepicker._get(inst,"showOptions"),duration,postProcess):inst.dpDiv["slideDown"===showAnim?"slideUp":"fadeIn"===showAnim?"fadeOut":"hide"](showAnim?duration:null,postProcess),showAnim||postProcess(),this._datepickerShowing=!1,onClose=this._get(inst,"onClose"),onClose&&onClose.apply(inst.input?inst.input[0]:null,[inst.input?inst.input.val():"",inst]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(inst){inst.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(event){if($.datepicker._curInst){var $target=$(event.target),inst=$.datepicker._getInst($target[0]);($target[0].id===$.datepicker._mainDivId||0!==$target.parents("#"+$.datepicker._mainDivId).length||$target.hasClass($.datepicker.markerClassName)||$target.closest("."+$.datepicker._triggerClass).length||!$.datepicker._datepickerShowing||$.datepicker._inDialog&&$.blockUI)&&(!$target.hasClass($.datepicker.markerClassName)||$.datepicker._curInst===inst)||$.datepicker._hideDatepicker()}},_adjustDate:function(id,offset,period){var target=$(id),inst=this._getInst(target[0]);this._isDisabledDatepicker(target[0])||(this._adjustInstDate(inst,offset+("M"===period?this._get(inst,"showCurrentAtPos"):0),period),this._updateDatepicker(inst))},_gotoToday:function(id){var date,target=$(id),inst=this._getInst(target[0]);this._get(inst,"gotoCurrent")&&inst.currentDay?(inst.selectedDay=inst.currentDay,inst.drawMonth=inst.selectedMonth=inst.currentMonth,inst.drawYear=inst.selectedYear=inst.currentYear):(date=new Date,inst.selectedDay=date.getDate(),inst.drawMonth=inst.selectedMonth=date.getMonth(),inst.drawYear=inst.selectedYear=date.getFullYear()),this._notifyChange(inst),this._adjustDate(target)},_selectMonthYear:function(id,select,period){var target=$(id),inst=this._getInst(target[0]);inst["selected"+("M"===period?"Month":"Year")]=inst["draw"+("M"===period?"Month":"Year")]=parseInt(select.options[select.selectedIndex].value,10),this._notifyChange(inst),this._adjustDate(target)},_selectDay:function(id,month,year,td){var inst,target=$(id);$(td).hasClass(this._unselectableClass)||this._isDisabledDatepicker(target[0])||(inst=this._getInst(target[0]),inst.selectedDay=inst.currentDay=$("a",td).html(),inst.selectedMonth=inst.currentMonth=month,inst.selectedYear=inst.currentYear=year,this._selectDate(id,this._formatDate(inst,inst.currentDay,inst.currentMonth,inst.currentYear)))},_clearDate:function(id){var target=$(id);this._selectDate(target,"")},_selectDate:function(id,dateStr){var onSelect,target=$(id),inst=this._getInst(target[0]);dateStr=null!=dateStr?dateStr:this._formatDate(inst),inst.input&&inst.input.val(dateStr),this._updateAlternate(inst),onSelect=this._get(inst,"onSelect"),onSelect?onSelect.apply(inst.input?inst.input[0]:null,[dateStr,inst]):inst.input&&inst.input.trigger("change"),inst.inline?this._updateDatepicker(inst):(this._hideDatepicker(),this._lastInput=inst.input[0],"object"!=typeof inst.input[0]&&inst.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(inst){var altFormat,date,dateStr,altField=this._get(inst,"altField");altField&&(altFormat=this._get(inst,"altFormat")||this._get(inst,"dateFormat"),date=this._getDate(inst),dateStr=this.formatDate(altFormat,date,this._getFormatConfig(inst)),$(altField).val(dateStr))},noWeekends:function(date){var day=date.getDay();return[day>0&&day<6,""]},iso8601Week:function(date){var time,checkDate=new Date(date.getTime());return checkDate.setDate(checkDate.getDate()+4-(checkDate.getDay()||7)),time=checkDate.getTime(),checkDate.setMonth(0),checkDate.setDate(1),Math.floor(Math.round((time-checkDate)/864e5)/7)+1},parseDate:function(format,value,settings){if(null==format||null==value)throw"Invalid arguments";if(value="object"==typeof value?value.toString():value+"",""===value)return null;var iFormat,dim,extra,date,iValue=0,shortYearCutoffTemp=(settings?settings.shortYearCutoff:null)||this._defaults.shortYearCutoff,shortYearCutoff="string"!=typeof shortYearCutoffTemp?shortYearCutoffTemp:(new Date).getFullYear()%100+parseInt(shortYearCutoffTemp,10),dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort,dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames,monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort,monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames,year=-1,month=-1,day=-1,doy=-1,literal=!1,lookAhead=function(match){var matches=iFormat+1<format.length&&format.charAt(iFormat+1)===match;return matches&&iFormat++,matches},getNumber=function(match){var isDoubled=lookAhead(match),size="@"===match?14:"!"===match?20:"y"===match&&isDoubled?4:"o"===match?3:2,minSize="y"===match?size:1,digits=new RegExp("^\\d{"+minSize+","+size+"}"),num=value.substring(iValue).match(digits);if(!num)throw"Missing number at position "+iValue;return iValue+=num[0].length,parseInt(num[0],10)},getName=function(match,shortNames,longNames){var index=-1,names=$.map(lookAhead(match)?longNames:shortNames,function(v,k){return[[k,v]]}).sort(function(a,b){return-(a[1].length-b[1].length)});if($.each(names,function(i,pair){var name=pair[1];if(value.substr(iValue,name.length).toLowerCase()===name.toLowerCase())return index=pair[0],iValue+=name.length,!1}),index!==-1)return index+1;throw"Unknown name at position "+iValue},checkLiteral=function(){if(value.charAt(iValue)!==format.charAt(iFormat))throw"Unexpected literal at position "+iValue;iValue++};for(iFormat=0;iFormat<format.length;iFormat++)if(literal)"'"!==format.charAt(iFormat)||lookAhead("'")?checkLiteral():literal=!1;else switch(format.charAt(iFormat)){case"d":day=getNumber("d");break;case"D":getName("D",dayNamesShort,dayNames);break;case"o":doy=getNumber("o");break;case"m":month=getNumber("m");break;case"M":month=getName("M",monthNamesShort,monthNames);break;case"y":year=getNumber("y");break;case"@":date=new Date(getNumber("@")),year=date.getFullYear(),month=date.getMonth()+1,day=date.getDate();break;case"!":date=new Date((getNumber("!")-this._ticksTo1970)/1e4),year=date.getFullYear(),month=date.getMonth()+1,day=date.getDate();break;case"'":lookAhead("'")?checkLiteral():literal=!0;break;default:checkLiteral()}if(iValue<value.length&&(extra=value.substr(iValue),!/^\s+/.test(extra)))throw"Extra/unparsed characters found in date: "+extra;if(year===-1?year=(new Date).getFullYear():year<100&&(year+=(new Date).getFullYear()-(new Date).getFullYear()%100+(year<=shortYearCutoff?0:-100)),doy>-1)for(month=1,day=doy;;){if(dim=this._getDaysInMonth(year,month-1),day<=dim)break;month++,day-=dim}if(date=this._daylightSavingAdjust(new Date(year,month-1,day)),date.getFullYear()!==year||date.getMonth()+1!==month||date.getDate()!==day)throw"Invalid date";return date},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(format,date,settings){if(!date)return"";var iFormat,dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort,dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames,monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort,monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames,lookAhead=function(match){var matches=iFormat+1<format.length&&format.charAt(iFormat+1)===match;return matches&&iFormat++,matches},formatNumber=function(match,value,len){var num=""+value;if(lookAhead(match))for(;num.length<len;)num="0"+num;return num},formatName=function(match,value,shortNames,longNames){return lookAhead(match)?longNames[value]:shortNames[value]},output="",literal=!1;if(date)for(iFormat=0;iFormat<format.length;iFormat++)if(literal)"'"!==format.charAt(iFormat)||lookAhead("'")?output+=format.charAt(iFormat):literal=!1;else switch(format.charAt(iFormat)){case"d":output+=formatNumber("d",date.getDate(),2);break;case"D":output+=formatName("D",date.getDay(),dayNamesShort,dayNames);break;case"o":output+=formatNumber("o",Math.round((new Date(date.getFullYear(),date.getMonth(),date.getDate()).getTime()-new Date(date.getFullYear(),0,0).getTime())/864e5),3);break;case"m":output+=formatNumber("m",date.getMonth()+1,2);break;case"M":output+=formatName("M",date.getMonth(),monthNamesShort,monthNames);break;case"y":output+=lookAhead("y")?date.getFullYear():(date.getFullYear()%100<10?"0":"")+date.getFullYear()%100;break;case"@":output+=date.getTime();break;case"!":output+=1e4*date.getTime()+this._ticksTo1970;break;case"'":lookAhead("'")?output+="'":literal=!0;break;default:output+=format.charAt(iFormat)}return output},_possibleChars:function(format){var iFormat,chars="",literal=!1,lookAhead=function(match){var matches=iFormat+1<format.length&&format.charAt(iFormat+1)===match;return matches&&iFormat++,matches};for(iFormat=0;iFormat<format.length;iFormat++)if(literal)"'"!==format.charAt(iFormat)||lookAhead("'")?chars+=format.charAt(iFormat):literal=!1;else switch(format.charAt(iFormat)){case"d":case"m":case"y":case"@":chars+="0123456789";break;case"D":case"M":return null;case"'":lookAhead("'")?chars+="'":literal=!0;break;default:chars+=format.charAt(iFormat)}return chars},_get:function(inst,name){return void 0!==inst.settings[name]?inst.settings[name]:this._defaults[name]},_setDateFromField:function(inst,noDefault){if(inst.input.val()!==inst.lastVal){var dateFormat=this._get(inst,"dateFormat"),dates=inst.lastVal=inst.input?inst.input.val():null,defaultDate=this._getDefaultDate(inst),date=defaultDate,settings=this._getFormatConfig(inst);try{date=this.parseDate(dateFormat,dates,settings)||defaultDate}catch(event){dates=noDefault?"":dates}inst.selectedDay=date.getDate(),inst.drawMonth=inst.selectedMonth=date.getMonth(),inst.drawYear=inst.selectedYear=date.getFullYear(),inst.currentDay=dates?date.getDate():0,inst.currentMonth=dates?date.getMonth():0,inst.currentYear=dates?date.getFullYear():0,this._adjustInstDate(inst)}},_getDefaultDate:function(inst){return this._restrictMinMax(inst,this._determineDate(inst,this._get(inst,"defaultDate"),new Date))},_determineDate:function(inst,date,defaultDate){var offsetNumeric=function(offset){var date=new Date;return date.setDate(date.getDate()+offset),date},offsetString=function(offset){try{return $.datepicker.parseDate($.datepicker._get(inst,"dateFormat"),offset,$.datepicker._getFormatConfig(inst))}catch(e){}for(var date=(offset.toLowerCase().match(/^c/)?$.datepicker._getDate(inst):null)||new Date,year=date.getFullYear(),month=date.getMonth(),day=date.getDate(),pattern=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,matches=pattern.exec(offset);matches;){switch(matches[2]||"d"){case"d":case"D":day+=parseInt(matches[1],10);break;case"w":case"W":day+=7*parseInt(matches[1],10);break;case"m":case"M":month+=parseInt(matches[1],10),day=Math.min(day,$.datepicker._getDaysInMonth(year,month));break;case"y":case"Y":year+=parseInt(matches[1],10),day=Math.min(day,$.datepicker._getDaysInMonth(year,month))}matches=pattern.exec(offset)}return new Date(year,month,day)},newDate=null==date||""===date?defaultDate:"string"==typeof date?offsetString(date):"number"==typeof date?isNaN(date)?defaultDate:offsetNumeric(date):new Date(date.getTime());return newDate=newDate&&"Invalid Date"===newDate.toString()?defaultDate:newDate,newDate&&(newDate.setHours(0),newDate.setMinutes(0),newDate.setSeconds(0),newDate.setMilliseconds(0)),this._daylightSavingAdjust(newDate)},_daylightSavingAdjust:function(date){return date?(date.setHours(date.getHours()>12?date.getHours()+2:0),date):null},_setDate:function(inst,date,noChange){var clear=!date,origMonth=inst.selectedMonth,origYear=inst.selectedYear,newDate=this._restrictMinMax(inst,this._determineDate(inst,date,new Date));inst.selectedDay=inst.currentDay=newDate.getDate(),inst.drawMonth=inst.selectedMonth=inst.currentMonth=newDate.getMonth(),inst.drawYear=inst.selectedYear=inst.currentYear=newDate.getFullYear(),origMonth===inst.selectedMonth&&origYear===inst.selectedYear||noChange||this._notifyChange(inst),this._adjustInstDate(inst),inst.input&&inst.input.val(clear?"":this._formatDate(inst))},_getDate:function(inst){var startDate=!inst.currentYear||inst.input&&""===inst.input.val()?null:this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay));return startDate},_attachHandlers:function(inst){var stepMonths=this._get(inst,"stepMonths"),id="#"+inst.id.replace(/\\\\/g,"\\");inst.dpDiv.find("[data-handler]").map(function(){var handler={prev:function(){$.datepicker._adjustDate(id,-stepMonths,"M")},next:function(){$.datepicker._adjustDate(id,+stepMonths,"M")},hide:function(){$.datepicker._hideDatepicker()},today:function(){$.datepicker._gotoToday(id)},selectDay:function(){return $.datepicker._selectDay(id,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return $.datepicker._selectMonthYear(id,this,"M"),!1},selectYear:function(){return $.datepicker._selectMonthYear(id,this,"Y"),!1}};$(this).on(this.getAttribute("data-event"),handler[this.getAttribute("data-handler")])})},_generateHTML:function(inst){var maxDraw,prevText,prev,nextText,next,currentText,gotoDate,controls,buttonPanel,firstDay,showWeek,dayNames,dayNamesMin,monthNames,monthNamesShort,beforeShowDay,showOtherMonths,selectOtherMonths,defaultDate,html,dow,row,group,col,selectedDate,cornerClass,calender,thead,day,daysInMonth,leadDays,curRows,numRows,printDate,dRow,tbody,daySettings,otherMonth,unselectable,tempDate=new Date,today=this._daylightSavingAdjust(new Date(tempDate.getFullYear(),tempDate.getMonth(),tempDate.getDate())),isRTL=this._get(inst,"isRTL"),showButtonPanel=this._get(inst,"showButtonPanel"),hideIfNoPrevNext=this._get(inst,"hideIfNoPrevNext"),navigationAsDateFormat=this._get(inst,"navigationAsDateFormat"),numMonths=this._getNumberOfMonths(inst),showCurrentAtPos=this._get(inst,"showCurrentAtPos"),stepMonths=this._get(inst,"stepMonths"),isMultiMonth=1!==numMonths[0]||1!==numMonths[1],currentDate=this._daylightSavingAdjust(inst.currentDay?new Date(inst.currentYear,inst.currentMonth,inst.currentDay):new Date(9999,9,9)),minDate=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max"),drawMonth=inst.drawMonth-showCurrentAtPos,drawYear=inst.drawYear;if(drawMonth<0&&(drawMonth+=12,drawYear--),maxDate)for(maxDraw=this._daylightSavingAdjust(new Date(maxDate.getFullYear(),maxDate.getMonth()-numMonths[0]*numMonths[1]+1,maxDate.getDate())),maxDraw=minDate&&maxDraw<minDate?minDate:maxDraw;this._daylightSavingAdjust(new Date(drawYear,drawMonth,1))>maxDraw;)drawMonth--,drawMonth<0&&(drawMonth=11,drawYear--);for(inst.drawMonth=drawMonth,inst.drawYear=drawYear,prevText=this._get(inst,"prevText"),prevText=navigationAsDateFormat?this.formatDate(prevText,this._daylightSavingAdjust(new Date(drawYear,drawMonth-stepMonths,1)),this._getFormatConfig(inst)):prevText,prev=this._canAdjustMonth(inst,-1,drawYear,drawMonth)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+prevText+"'><span class='ui-icon ui-icon-circle-triangle-"+(isRTL?"e":"w")+"'>"+prevText+"</span></a>":hideIfNoPrevNext?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+prevText+"'><span class='ui-icon ui-icon-circle-triangle-"+(isRTL?"e":"w")+"'>"+prevText+"</span></a>",nextText=this._get(inst,"nextText"),nextText=navigationAsDateFormat?this.formatDate(nextText,this._daylightSavingAdjust(new Date(drawYear,drawMonth+stepMonths,1)),this._getFormatConfig(inst)):nextText,next=this._canAdjustMonth(inst,1,drawYear,drawMonth)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+nextText+"'><span class='ui-icon ui-icon-circle-triangle-"+(isRTL?"w":"e")+"'>"+nextText+"</span></a>":hideIfNoPrevNext?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+nextText+"'><span class='ui-icon ui-icon-circle-triangle-"+(isRTL?"w":"e")+"'>"+nextText+"</span></a>",currentText=this._get(inst,"currentText"),gotoDate=this._get(inst,"gotoCurrent")&&inst.currentDay?currentDate:today,currentText=navigationAsDateFormat?this.formatDate(currentText,gotoDate,this._getFormatConfig(inst)):currentText,controls=inst.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(inst,"closeText")+"</button>",buttonPanel=showButtonPanel?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(isRTL?controls:"")+(this._isInRange(inst,gotoDate)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+currentText+"</button>":"")+(isRTL?"":controls)+"</div>":"",firstDay=parseInt(this._get(inst,"firstDay"),10),firstDay=isNaN(firstDay)?0:firstDay,showWeek=this._get(inst,"showWeek"),dayNames=this._get(inst,"dayNames"),dayNamesMin=this._get(inst,"dayNamesMin"),monthNames=this._get(inst,"monthNames"),monthNamesShort=this._get(inst,"monthNamesShort"),beforeShowDay=this._get(inst,"beforeShowDay"),showOtherMonths=this._get(inst,"showOtherMonths"),selectOtherMonths=this._get(inst,"selectOtherMonths"),defaultDate=this._getDefaultDate(inst),html="",row=0;row<numMonths[0];row++){for(group="",this.maxRows=4,col=0;col<numMonths[1];col++){if(selectedDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,inst.selectedDay)),cornerClass=" ui-corner-all",calender="",isMultiMonth){if(calender+="<div class='ui-datepicker-group",numMonths[1]>1)switch(col){case 0:calender+=" ui-datepicker-group-first",cornerClass=" ui-corner-"+(isRTL?"right":"left");break;case numMonths[1]-1:calender+=" ui-datepicker-group-last",cornerClass=" ui-corner-"+(isRTL?"left":"right");break;default:calender+=" ui-datepicker-group-middle",cornerClass=""}calender+="'>"}for(calender+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+cornerClass+"'>"+(/all|left/.test(cornerClass)&&0===row?isRTL?next:prev:"")+(/all|right/.test(cornerClass)&&0===row?isRTL?prev:next:"")+this._generateMonthYearHeader(inst,drawMonth,drawYear,minDate,maxDate,row>0||col>0,monthNames,monthNamesShort)+"</div><table class='ui-datepicker-calendar'><thead><tr>",thead=showWeek?"<th class='ui-datepicker-week-col'>"+this._get(inst,"weekHeader")+"</th>":"",dow=0;dow<7;dow++)day=(dow+firstDay)%7,thead+="<th scope='col'"+((dow+firstDay+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+dayNames[day]+"'>"+dayNamesMin[day]+"</span></th>";for(calender+=thead+"</tr></thead><tbody>",daysInMonth=this._getDaysInMonth(drawYear,drawMonth),drawYear===inst.selectedYear&&drawMonth===inst.selectedMonth&&(inst.selectedDay=Math.min(inst.selectedDay,daysInMonth)),leadDays=(this._getFirstDayOfMonth(drawYear,drawMonth)-firstDay+7)%7,curRows=Math.ceil((leadDays+daysInMonth)/7),numRows=isMultiMonth&&this.maxRows>curRows?this.maxRows:curRows,this.maxRows=numRows,printDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,1-leadDays)),dRow=0;dRow<numRows;dRow++){for(calender+="<tr>",tbody=showWeek?"<td class='ui-datepicker-week-col'>"+this._get(inst,"calculateWeek")(printDate)+"</td>":"",dow=0;dow<7;dow++)daySettings=beforeShowDay?beforeShowDay.apply(inst.input?inst.input[0]:null,[printDate]):[!0,""],otherMonth=printDate.getMonth()!==drawMonth,unselectable=otherMonth&&!selectOtherMonths||!daySettings[0]||minDate&&printDate<minDate||maxDate&&printDate>maxDate,tbody+="<td class='"+((dow+firstDay+6)%7>=5?" ui-datepicker-week-end":"")+(otherMonth?" ui-datepicker-other-month":"")+(printDate.getTime()===selectedDate.getTime()&&drawMonth===inst.selectedMonth&&inst._keyEvent||defaultDate.getTime()===printDate.getTime()&&defaultDate.getTime()===selectedDate.getTime()?" "+this._dayOverClass:"")+(unselectable?" "+this._unselectableClass+" ui-state-disabled":"")+(otherMonth&&!showOtherMonths?"":" "+daySettings[1]+(printDate.getTime()===currentDate.getTime()?" "+this._currentClass:"")+(printDate.getTime()===today.getTime()?" ui-datepicker-today":""))+"'"+(otherMonth&&!showOtherMonths||!daySettings[2]?"":" title='"+daySettings[2].replace(/'/g,"&#39;")+"'")+(unselectable?"":" data-handler='selectDay' data-event='click' data-month='"+printDate.getMonth()+"' data-year='"+printDate.getFullYear()+"'")+">"+(otherMonth&&!showOtherMonths?"&#xa0;":unselectable?"<span class='ui-state-default'>"+printDate.getDate()+"</span>":"<a class='ui-state-default"+(printDate.getTime()===today.getTime()?" ui-state-highlight":"")+(printDate.getTime()===currentDate.getTime()?" ui-state-active":"")+(otherMonth?" ui-priority-secondary":"")+"' href='#'>"+printDate.getDate()+"</a>")+"</td>",printDate.setDate(printDate.getDate()+1),printDate=this._daylightSavingAdjust(printDate);calender+=tbody+"</tr>"}drawMonth++,drawMonth>11&&(drawMonth=0,drawYear++),calender+="</tbody></table>"+(isMultiMonth?"</div>"+(numMonths[0]>0&&col===numMonths[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),group+=calender}html+=group}return html+=buttonPanel,inst._keyEvent=!1,html},_generateMonthYearHeader:function(inst,drawMonth,drawYear,minDate,maxDate,secondary,monthNames,monthNamesShort){var inMinYear,inMaxYear,month,years,thisYear,determineYear,year,endYear,changeMonth=this._get(inst,"changeMonth"),changeYear=this._get(inst,"changeYear"),showMonthAfterYear=this._get(inst,"showMonthAfterYear"),html="<div class='ui-datepicker-title'>",monthHtml="";if(secondary||!changeMonth)monthHtml+="<span class='ui-datepicker-month'>"+monthNames[drawMonth]+"</span>";else{for(inMinYear=minDate&&minDate.getFullYear()===drawYear,inMaxYear=maxDate&&maxDate.getFullYear()===drawYear,monthHtml+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",month=0;month<12;month++)(!inMinYear||month>=minDate.getMonth())&&(!inMaxYear||month<=maxDate.getMonth())&&(monthHtml+="<option value='"+month+"'"+(month===drawMonth?" selected='selected'":"")+">"+monthNamesShort[month]+"</option>");monthHtml+="</select>"}if(showMonthAfterYear||(html+=monthHtml+(!secondary&&changeMonth&&changeYear?"":"&#xa0;")),!inst.yearshtml)if(inst.yearshtml="",secondary||!changeYear)html+="<span class='ui-datepicker-year'>"+drawYear+"</span>";else{for(years=this._get(inst,"yearRange").split(":"),thisYear=(new Date).getFullYear(),determineYear=function(value){var year=value.match(/c[+\-].*/)?drawYear+parseInt(value.substring(1),10):value.match(/[+\-].*/)?thisYear+parseInt(value,10):parseInt(value,10);return isNaN(year)?thisYear:year},year=determineYear(years[0]),endYear=Math.max(year,determineYear(years[1]||"")),year=minDate?Math.max(year,minDate.getFullYear()):year,endYear=maxDate?Math.min(endYear,maxDate.getFullYear()):endYear,inst.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";year<=endYear;year++)inst.yearshtml+="<option value='"+year+"'"+(year===drawYear?" selected='selected'":"")+">"+year+"</option>";inst.yearshtml+="</select>",html+=inst.yearshtml,inst.yearshtml=null}return html+=this._get(inst,"yearSuffix"),showMonthAfterYear&&(html+=(!secondary&&changeMonth&&changeYear?"":"&#xa0;")+monthHtml),html+="</div>"},_adjustInstDate:function(inst,offset,period){var year=inst.selectedYear+("Y"===period?offset:0),month=inst.selectedMonth+("M"===period?offset:0),day=Math.min(inst.selectedDay,this._getDaysInMonth(year,month))+("D"===period?offset:0),date=this._restrictMinMax(inst,this._daylightSavingAdjust(new Date(year,month,day)));inst.selectedDay=date.getDate(),inst.drawMonth=inst.selectedMonth=date.getMonth(),inst.drawYear=inst.selectedYear=date.getFullYear(),"M"!==period&&"Y"!==period||this._notifyChange(inst)},_restrictMinMax:function(inst,date){var minDate=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max"),newDate=minDate&&date<minDate?minDate:date;return maxDate&&newDate>maxDate?maxDate:newDate},_notifyChange:function(inst){var onChange=this._get(inst,"onChangeMonthYear");onChange&&onChange.apply(inst.input?inst.input[0]:null,[inst.selectedYear,inst.selectedMonth+1,inst])},
_getNumberOfMonths:function(inst){var numMonths=this._get(inst,"numberOfMonths");return null==numMonths?[1,1]:"number"==typeof numMonths?[1,numMonths]:numMonths},_getMinMaxDate:function(inst,minMax){return this._determineDate(inst,this._get(inst,minMax+"Date"),null)},_getDaysInMonth:function(year,month){return 32-this._daylightSavingAdjust(new Date(year,month,32)).getDate()},_getFirstDayOfMonth:function(year,month){return new Date(year,month,1).getDay()},_canAdjustMonth:function(inst,offset,curYear,curMonth){var numMonths=this._getNumberOfMonths(inst),date=this._daylightSavingAdjust(new Date(curYear,curMonth+(offset<0?offset:numMonths[0]*numMonths[1]),1));return offset<0&&date.setDate(this._getDaysInMonth(date.getFullYear(),date.getMonth())),this._isInRange(inst,date)},_isInRange:function(inst,date){var yearSplit,currentYear,minDate=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max"),minYear=null,maxYear=null,years=this._get(inst,"yearRange");return years&&(yearSplit=years.split(":"),currentYear=(new Date).getFullYear(),minYear=parseInt(yearSplit[0],10),maxYear=parseInt(yearSplit[1],10),yearSplit[0].match(/[+\-].*/)&&(minYear+=currentYear),yearSplit[1].match(/[+\-].*/)&&(maxYear+=currentYear)),(!minDate||date.getTime()>=minDate.getTime())&&(!maxDate||date.getTime()<=maxDate.getTime())&&(!minYear||date.getFullYear()>=minYear)&&(!maxYear||date.getFullYear()<=maxYear)},_getFormatConfig:function(inst){var shortYearCutoff=this._get(inst,"shortYearCutoff");return shortYearCutoff="string"!=typeof shortYearCutoff?shortYearCutoff:(new Date).getFullYear()%100+parseInt(shortYearCutoff,10),{shortYearCutoff:shortYearCutoff,dayNamesShort:this._get(inst,"dayNamesShort"),dayNames:this._get(inst,"dayNames"),monthNamesShort:this._get(inst,"monthNamesShort"),monthNames:this._get(inst,"monthNames")}},_formatDate:function(inst,day,month,year){day||(inst.currentDay=inst.selectedDay,inst.currentMonth=inst.selectedMonth,inst.currentYear=inst.selectedYear);var date=day?"object"==typeof day?day:this._daylightSavingAdjust(new Date(year,month,day)):this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay));return this.formatDate(this._get(inst,"dateFormat"),date,this._getFormatConfig(inst))}}),$.fn.datepicker=function(options){if(!this.length)return this;$.datepicker.initialized||($(document).on("mousedown",$.datepicker._checkExternalClick),$.datepicker.initialized=!0),0===$("#"+$.datepicker._mainDivId).length&&$("body").append($.datepicker.dpDiv);var otherArgs=Array.prototype.slice.call(arguments,1);return"string"!=typeof options||"isDisabled"!==options&&"getDate"!==options&&"widget"!==options?"option"===options&&2===arguments.length&&"string"==typeof arguments[1]?$.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this[0]].concat(otherArgs)):this.each(function(){"string"==typeof options?$.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this].concat(otherArgs)):$.datepicker._attachDatepicker(this,options)}):$.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this[0]].concat(otherArgs))},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.12.1";var mouseHandled=($.datepicker,$.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),!1);$(document).on("mouseup",function(){mouseHandled=!1});$.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var that=this;this.element.on("mousedown."+this.widgetName,function(event){return that._mouseDown(event)}).on("click."+this.widgetName,function(event){if(!0===$.data(event.target,that.widgetName+".preventClickEvent"))return $.removeData(event.target,that.widgetName+".preventClickEvent"),event.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(event){if(!mouseHandled){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(event),this._mouseDownEvent=event;var that=this,btnIsLeft=1===event.which,elIsCancel=!("string"!=typeof this.options.cancel||!event.target.nodeName)&&$(event.target).closest(this.options.cancel).length;return!(btnIsLeft&&!elIsCancel&&this._mouseCapture(event))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){that.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(event)&&this._mouseDelayMet(event)&&(this._mouseStarted=this._mouseStart(event)!==!1,!this._mouseStarted)?(event.preventDefault(),!0):(!0===$.data(event.target,this.widgetName+".preventClickEvent")&&$.removeData(event.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(event){return that._mouseMove(event)},this._mouseUpDelegate=function(event){return that._mouseUp(event)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),event.preventDefault(),mouseHandled=!0,!0))}},_mouseMove:function(event){if(this._mouseMoved){if($.ui.ie&&(!document.documentMode||document.documentMode<9)&&!event.button)return this._mouseUp(event);if(!event.which)if(event.originalEvent.altKey||event.originalEvent.ctrlKey||event.originalEvent.metaKey||event.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(event)}return(event.which||event.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(event),event.preventDefault()):(this._mouseDistanceMet(event)&&this._mouseDelayMet(event)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,event)!==!1,this._mouseStarted?this._mouseDrag(event):this._mouseUp(event)),!this._mouseStarted)},_mouseUp:function(event){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,event.target===this._mouseDownEvent.target&&$.data(event.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(event)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,mouseHandled=!1,event.preventDefault()},_mouseDistanceMet:function(event){return Math.max(Math.abs(this._mouseDownEvent.pageX-event.pageX),Math.abs(this._mouseDownEvent.pageY-event.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),$.ui.plugin={add:function(module,option,set){var i,proto=$.ui[module].prototype;for(i in set)proto.plugins[i]=proto.plugins[i]||[],proto.plugins[i].push([option,set[i]])},call:function(instance,name,args,allowDisconnected){var i,set=instance.plugins[name];if(set&&(allowDisconnected||instance.element[0].parentNode&&11!==instance.element[0].parentNode.nodeType))for(i=0;i<set.length;i++)instance.options[set[i][0]]&&set[i][1].apply(instance.element,args)}},$.ui.safeBlur=function(element){element&&"body"!==element.nodeName.toLowerCase()&&$(element).trigger("blur")};$.widget("ui.draggable",$.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(key,value){this._super(key,value),"handle"===key&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(event){var o=this.options;return!(this.helper||o.disabled||$(event.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(event),!!this.handle&&(this._blurActiveElement(event),this._blockFrames(o.iframeFix===!0?"iframe":o.iframeFix),!0))},_blockFrames:function(selector){this.iframeBlocks=this.document.find(selector).map(function(){var iframe=$(this);return $("<div>").css("position","absolute").appendTo(iframe.parent()).outerWidth(iframe.outerWidth()).outerHeight(iframe.outerHeight()).offset(iframe.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(event){var activeElement=$.ui.safeActiveElement(this.document[0]),target=$(event.target);target.closest(activeElement).length||$.ui.safeBlur(activeElement)},_mouseStart:function(event){var o=this.options;return this.helper=this._createHelper(event),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),$.ui.ddmanager&&($.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===$(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(event),this.originalPosition=this.position=this._generatePosition(event,!1),this.originalPageX=event.pageX,this.originalPageY=event.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this._setContainment(),this._trigger("start",event)===!1?(this._clear(),!1):(this._cacheHelperProportions(),$.ui.ddmanager&&!o.dropBehaviour&&$.ui.ddmanager.prepareOffsets(this,event),this._mouseDrag(event,!0),$.ui.ddmanager&&$.ui.ddmanager.dragStart(this,event),!0)},_refreshOffsets:function(event){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:event.pageX-this.offset.left,top:event.pageY-this.offset.top}},_mouseDrag:function(event,noPropagation){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(event,!0),this.positionAbs=this._convertPositionTo("absolute"),!noPropagation){var ui=this._uiHash();if(this._trigger("drag",event,ui)===!1)return this._mouseUp(new $.Event("mouseup",event)),!1;this.position=ui.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",$.ui.ddmanager&&$.ui.ddmanager.drag(this,event),!1},_mouseStop:function(event){var that=this,dropped=!1;return $.ui.ddmanager&&!this.options.dropBehaviour&&(dropped=$.ui.ddmanager.drop(this,event)),this.dropped&&(dropped=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!dropped||"valid"===this.options.revert&&dropped||this.options.revert===!0||$.isFunction(this.options.revert)&&this.options.revert.call(this.element,dropped)?$(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){that._trigger("stop",event)!==!1&&that._clear()}):this._trigger("stop",event)!==!1&&this._clear(),!1},_mouseUp:function(event){return this._unblockFrames(),$.ui.ddmanager&&$.ui.ddmanager.dragStop(this,event),this.handleElement.is(event.target)&&this.element.trigger("focus"),$.ui.mouse.prototype._mouseUp.call(this,event)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new $.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(event){return!this.options.handle||!!$(event.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(event){var o=this.options,helperIsFunction=$.isFunction(o.helper),helper=helperIsFunction?$(o.helper.apply(this.element[0],[event])):"clone"===o.helper?this.element.clone().removeAttr("id"):this.element;return helper.parents("body").length||helper.appendTo("parent"===o.appendTo?this.element[0].parentNode:o.appendTo),helperIsFunction&&helper[0]===this.element[0]&&this._setPositionRelative(),helper[0]===this.element[0]||/(fixed|absolute)/.test(helper.css("position"))||helper.css("position","absolute"),helper},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(obj){"string"==typeof obj&&(obj=obj.split(" ")),$.isArray(obj)&&(obj={left:+obj[0],top:+obj[1]||0}),"left"in obj&&(this.offset.click.left=obj.left+this.margins.left),"right"in obj&&(this.offset.click.left=this.helperProportions.width-obj.right+this.margins.left),"top"in obj&&(this.offset.click.top=obj.top+this.margins.top),"bottom"in obj&&(this.offset.click.top=this.helperProportions.height-obj.bottom+this.margins.top)},_isRootNode:function(element){return/(html|body)/i.test(element.tagName)||element===this.document[0]},_getParentOffset:function(){var po=this.offsetParent.offset(),document=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&$.contains(this.scrollParent[0],this.offsetParent[0])&&(po.left+=this.scrollParent.scrollLeft(),po.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(po={top:0,left:0}),{top:po.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:po.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var p=this.element.position(),scrollIsRootNode=this._isRootNode(this.scrollParent[0]);return{top:p.top-(parseInt(this.helper.css("top"),10)||0)+(scrollIsRootNode?0:this.scrollParent.scrollTop()),left:p.left-(parseInt(this.helper.css("left"),10)||0)+(scrollIsRootNode?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var isUserScrollable,c,ce,o=this.options,document=this.document[0];return this.relativeContainer=null,o.containment?"window"===o.containment?void(this.containment=[$(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,$(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,$(window).scrollLeft()+$(window).width()-this.helperProportions.width-this.margins.left,$(window).scrollTop()+($(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===o.containment?void(this.containment=[0,0,$(document).width()-this.helperProportions.width-this.margins.left,($(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):o.containment.constructor===Array?void(this.containment=o.containment):("parent"===o.containment&&(o.containment=this.helper[0].parentNode),c=$(o.containment),ce=c[0],void(ce&&(isUserScrollable=/(scroll|auto)/.test(c.css("overflow")),this.containment=[(parseInt(c.css("borderLeftWidth"),10)||0)+(parseInt(c.css("paddingLeft"),10)||0),(parseInt(c.css("borderTopWidth"),10)||0)+(parseInt(c.css("paddingTop"),10)||0),(isUserScrollable?Math.max(ce.scrollWidth,ce.offsetWidth):ce.offsetWidth)-(parseInt(c.css("borderRightWidth"),10)||0)-(parseInt(c.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(isUserScrollable?Math.max(ce.scrollHeight,ce.offsetHeight):ce.offsetHeight)-(parseInt(c.css("borderBottomWidth"),10)||0)-(parseInt(c.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=c))):void(this.containment=null)},_convertPositionTo:function(d,pos){pos||(pos=this.position);var mod="absolute"===d?1:-1,scrollIsRootNode=this._isRootNode(this.scrollParent[0]);return{top:pos.top+this.offset.relative.top*mod+this.offset.parent.top*mod-("fixed"===this.cssPosition?-this.offset.scroll.top:scrollIsRootNode?0:this.offset.scroll.top)*mod,left:pos.left+this.offset.relative.left*mod+this.offset.parent.left*mod-("fixed"===this.cssPosition?-this.offset.scroll.left:scrollIsRootNode?0:this.offset.scroll.left)*mod}},_generatePosition:function(event,constrainPosition){var containment,co,top,left,o=this.options,scrollIsRootNode=this._isRootNode(this.scrollParent[0]),pageX=event.pageX,pageY=event.pageY;return scrollIsRootNode&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),constrainPosition&&(this.containment&&(this.relativeContainer?(co=this.relativeContainer.offset(),containment=[this.containment[0]+co.left,this.containment[1]+co.top,this.containment[2]+co.left,this.containment[3]+co.top]):containment=this.containment,event.pageX-this.offset.click.left<containment[0]&&(pageX=containment[0]+this.offset.click.left),event.pageY-this.offset.click.top<containment[1]&&(pageY=containment[1]+this.offset.click.top),event.pageX-this.offset.click.left>containment[2]&&(pageX=containment[2]+this.offset.click.left),event.pageY-this.offset.click.top>containment[3]&&(pageY=containment[3]+this.offset.click.top)),o.grid&&(top=o.grid[1]?this.originalPageY+Math.round((pageY-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,pageY=containment?top-this.offset.click.top>=containment[1]||top-this.offset.click.top>containment[3]?top:top-this.offset.click.top>=containment[1]?top-o.grid[1]:top+o.grid[1]:top,left=o.grid[0]?this.originalPageX+Math.round((pageX-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,pageX=containment?left-this.offset.click.left>=containment[0]||left-this.offset.click.left>containment[2]?left:left-this.offset.click.left>=containment[0]?left-o.grid[0]:left+o.grid[0]:left),"y"===o.axis&&(pageX=this.originalPageX),"x"===o.axis&&(pageY=this.originalPageY)),{top:pageY-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:scrollIsRootNode?0:this.offset.scroll.top),left:pageX-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:scrollIsRootNode?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(type,event,ui){return ui=ui||this._uiHash(),$.ui.plugin.call(this,type,[event,ui,this],!0),/^(drag|start|stop)/.test(type)&&(this.positionAbs=this._convertPositionTo("absolute"),ui.offset=this.positionAbs),$.Widget.prototype._trigger.call(this,type,event,ui)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),$.ui.plugin.add("draggable","connectToSortable",{start:function(event,ui,draggable){var uiSortable=$.extend({},ui,{item:draggable.element});draggable.sortables=[],$(draggable.options.connectToSortable).each(function(){var sortable=$(this).sortable("instance");sortable&&!sortable.options.disabled&&(draggable.sortables.push(sortable),sortable.refreshPositions(),sortable._trigger("activate",event,uiSortable))})},stop:function(event,ui,draggable){var uiSortable=$.extend({},ui,{item:draggable.element});draggable.cancelHelperRemoval=!1,$.each(draggable.sortables,function(){var sortable=this;sortable.isOver?(sortable.isOver=0,draggable.cancelHelperRemoval=!0,sortable.cancelHelperRemoval=!1,sortable._storedCSS={position:sortable.placeholder.css("position"),top:sortable.placeholder.css("top"),left:sortable.placeholder.css("left")},sortable._mouseStop(event),sortable.options.helper=sortable.options._helper):(sortable.cancelHelperRemoval=!0,sortable._trigger("deactivate",event,uiSortable))})},drag:function(event,ui,draggable){$.each(draggable.sortables,function(){var innermostIntersecting=!1,sortable=this;sortable.positionAbs=draggable.positionAbs,sortable.helperProportions=draggable.helperProportions,sortable.offset.click=draggable.offset.click,sortable._intersectsWith(sortable.containerCache)&&(innermostIntersecting=!0,$.each(draggable.sortables,function(){return this.positionAbs=draggable.positionAbs,this.helperProportions=draggable.helperProportions,this.offset.click=draggable.offset.click,this!==sortable&&this._intersectsWith(this.containerCache)&&$.contains(sortable.element[0],this.element[0])&&(innermostIntersecting=!1),innermostIntersecting})),innermostIntersecting?(sortable.isOver||(sortable.isOver=1,draggable._parent=ui.helper.parent(),sortable.currentItem=ui.helper.appendTo(sortable.element).data("ui-sortable-item",!0),sortable.options._helper=sortable.options.helper,sortable.options.helper=function(){return ui.helper[0]},event.target=sortable.currentItem[0],sortable._mouseCapture(event,!0),sortable._mouseStart(event,!0,!0),sortable.offset.click.top=draggable.offset.click.top,sortable.offset.click.left=draggable.offset.click.left,sortable.offset.parent.left-=draggable.offset.parent.left-sortable.offset.parent.left,sortable.offset.parent.top-=draggable.offset.parent.top-sortable.offset.parent.top,draggable._trigger("toSortable",event),draggable.dropped=sortable.element,$.each(draggable.sortables,function(){this.refreshPositions()}),draggable.currentItem=draggable.element,sortable.fromOutside=draggable),sortable.currentItem&&(sortable._mouseDrag(event),ui.position=sortable.position)):sortable.isOver&&(sortable.isOver=0,sortable.cancelHelperRemoval=!0,sortable.options._revert=sortable.options.revert,sortable.options.revert=!1,sortable._trigger("out",event,sortable._uiHash(sortable)),sortable._mouseStop(event,!0),sortable.options.revert=sortable.options._revert,sortable.options.helper=sortable.options._helper,sortable.placeholder&&sortable.placeholder.remove(),ui.helper.appendTo(draggable._parent),draggable._refreshOffsets(event),ui.position=draggable._generatePosition(event,!0),draggable._trigger("fromSortable",event),draggable.dropped=!1,$.each(draggable.sortables,function(){this.refreshPositions()}))})}}),$.ui.plugin.add("draggable","cursor",{start:function(event,ui,instance){var t=$("body"),o=instance.options;t.css("cursor")&&(o._cursor=t.css("cursor")),t.css("cursor",o.cursor)},stop:function(event,ui,instance){var o=instance.options;o._cursor&&$("body").css("cursor",o._cursor)}}),$.ui.plugin.add("draggable","opacity",{start:function(event,ui,instance){var t=$(ui.helper),o=instance.options;t.css("opacity")&&(o._opacity=t.css("opacity")),t.css("opacity",o.opacity)},stop:function(event,ui,instance){var o=instance.options;o._opacity&&$(ui.helper).css("opacity",o._opacity)}}),$.ui.plugin.add("draggable","scroll",{start:function(event,ui,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(event,ui,i){var o=i.options,scrolled=!1,scrollParent=i.scrollParentNotHidden[0],document=i.document[0];scrollParent!==document&&"HTML"!==scrollParent.tagName?(o.axis&&"x"===o.axis||(i.overflowOffset.top+scrollParent.offsetHeight-event.pageY<o.scrollSensitivity?scrollParent.scrollTop=scrolled=scrollParent.scrollTop+o.scrollSpeed:event.pageY-i.overflowOffset.top<o.scrollSensitivity&&(scrollParent.scrollTop=scrolled=scrollParent.scrollTop-o.scrollSpeed)),o.axis&&"y"===o.axis||(i.overflowOffset.left+scrollParent.offsetWidth-event.pageX<o.scrollSensitivity?scrollParent.scrollLeft=scrolled=scrollParent.scrollLeft+o.scrollSpeed:event.pageX-i.overflowOffset.left<o.scrollSensitivity&&(scrollParent.scrollLeft=scrolled=scrollParent.scrollLeft-o.scrollSpeed))):(o.axis&&"x"===o.axis||(event.pageY-$(document).scrollTop()<o.scrollSensitivity?scrolled=$(document).scrollTop($(document).scrollTop()-o.scrollSpeed):$(window).height()-(event.pageY-$(document).scrollTop())<o.scrollSensitivity&&(scrolled=$(document).scrollTop($(document).scrollTop()+o.scrollSpeed))),o.axis&&"y"===o.axis||(event.pageX-$(document).scrollLeft()<o.scrollSensitivity?scrolled=$(document).scrollLeft($(document).scrollLeft()-o.scrollSpeed):$(window).width()-(event.pageX-$(document).scrollLeft())<o.scrollSensitivity&&(scrolled=$(document).scrollLeft($(document).scrollLeft()+o.scrollSpeed)))),scrolled!==!1&&$.ui.ddmanager&&!o.dropBehaviour&&$.ui.ddmanager.prepareOffsets(i,event)}}),$.ui.plugin.add("draggable","snap",{start:function(event,ui,i){var o=i.options;i.snapElements=[],$(o.snap.constructor!==String?o.snap.items||":data(ui-draggable)":o.snap).each(function(){var $t=$(this),$o=$t.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:$t.outerWidth(),height:$t.outerHeight(),top:$o.top,left:$o.left})})},drag:function(event,ui,inst){var ts,bs,ls,rs,l,r,t,b,i,first,o=inst.options,d=o.snapTolerance,x1=ui.offset.left,x2=x1+inst.helperProportions.width,y1=ui.offset.top,y2=y1+inst.helperProportions.height;for(i=inst.snapElements.length-1;i>=0;i--)l=inst.snapElements[i].left-inst.margins.left,r=l+inst.snapElements[i].width,t=inst.snapElements[i].top-inst.margins.top,b=t+inst.snapElements[i].height,x2<l-d||x1>r+d||y2<t-d||y1>b+d||!$.contains(inst.snapElements[i].item.ownerDocument,inst.snapElements[i].item)?(inst.snapElements[i].snapping&&inst.options.snap.release&&inst.options.snap.release.call(inst.element,event,$.extend(inst._uiHash(),{snapItem:inst.snapElements[i].item})),inst.snapElements[i].snapping=!1):("inner"!==o.snapMode&&(ts=Math.abs(t-y2)<=d,bs=Math.abs(b-y1)<=d,ls=Math.abs(l-x2)<=d,rs=Math.abs(r-x1)<=d,ts&&(ui.position.top=inst._convertPositionTo("relative",{top:t-inst.helperProportions.height,left:0}).top),bs&&(ui.position.top=inst._convertPositionTo("relative",{top:b,left:0}).top),ls&&(ui.position.left=inst._convertPositionTo("relative",{top:0,left:l-inst.helperProportions.width}).left),rs&&(ui.position.left=inst._convertPositionTo("relative",{top:0,left:r}).left)),first=ts||bs||ls||rs,"outer"!==o.snapMode&&(ts=Math.abs(t-y1)<=d,bs=Math.abs(b-y2)<=d,ls=Math.abs(l-x1)<=d,rs=Math.abs(r-x2)<=d,ts&&(ui.position.top=inst._convertPositionTo("relative",{top:t,left:0}).top),bs&&(ui.position.top=inst._convertPositionTo("relative",{top:b-inst.helperProportions.height,left:0}).top),ls&&(ui.position.left=inst._convertPositionTo("relative",{top:0,left:l}).left),rs&&(ui.position.left=inst._convertPositionTo("relative",{top:0,left:r-inst.helperProportions.width}).left)),!inst.snapElements[i].snapping&&(ts||bs||ls||rs||first)&&inst.options.snap.snap&&inst.options.snap.snap.call(inst.element,event,$.extend(inst._uiHash(),{snapItem:inst.snapElements[i].item})),inst.snapElements[i].snapping=ts||bs||ls||rs||first)}}),$.ui.plugin.add("draggable","stack",{start:function(event,ui,instance){var min,o=instance.options,group=$.makeArray($(o.stack)).sort(function(a,b){return(parseInt($(a).css("zIndex"),10)||0)-(parseInt($(b).css("zIndex"),10)||0)});group.length&&(min=parseInt($(group[0]).css("zIndex"),10)||0,$(group).each(function(i){$(this).css("zIndex",min+i)}),this.css("zIndex",min+group.length))}}),$.ui.plugin.add("draggable","zIndex",{start:function(event,ui,instance){var t=$(ui.helper),o=instance.options;t.css("zIndex")&&(o._zIndex=t.css("zIndex")),t.css("zIndex",o.zIndex)},stop:function(event,ui,instance){var o=instance.options;o._zIndex&&$(ui.helper).css("zIndex",o._zIndex)}});$.ui.draggable;$.widget("ui.resizable",$.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(value){return parseFloat(value)||0},_isNumber:function(value){return!isNaN(parseFloat(value))},_hasScroll:function(el,a){if("hidden"===$(el).css("overflow"))return!1;var scroll=a&&"left"===a?"scrollLeft":"scrollTop",has=!1;return el[scroll]>0||(el[scroll]=1,has=el[scroll]>0,el[scroll]=0,has)},_create:function(){var margins,o=this.options,that=this;this._addClass("ui-resizable"),$.extend(this,{_aspectRatio:!!o.aspectRatio,aspectRatio:o.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:o.helper||o.ghost||o.animate?o.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap($("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,margins={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(margins),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(margins),this._proportionallyResize()),this._setupHandles(),o.autoHide&&$(this.element).on("mouseenter",function(){o.disabled||(that._removeClass("ui-resizable-autohide"),that._handles.show())}).on("mouseleave",function(){o.disabled||that.resizing||(that._addClass("ui-resizable-autohide"),that._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var wrapper,_destroy=function(exp){$(exp).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(_destroy(this.element),wrapper=this.element,this.originalElement.css({position:wrapper.css("position"),width:wrapper.outerWidth(),height:wrapper.outerHeight(),top:wrapper.css("top"),left:wrapper.css("left")}).insertAfter(wrapper),wrapper.remove()),this.originalElement.css("resize",this.originalResizeStyle),_destroy(this.originalElement),this},_setOption:function(key,value){switch(this._super(key,value),key){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var handle,i,n,hname,axis,o=this.options,that=this;if(this.handles=o.handles||($(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=$(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),n=this.handles.split(","),this.handles={},i=0;i<n.length;i++)handle=$.trim(n[i]),hname="ui-resizable-"+handle,axis=$("<div>"),this._addClass(axis,"ui-resizable-handle "+hname),axis.css({zIndex:o.zIndex}),this.handles[handle]=".ui-resizable-"+handle,this.element.append(axis);this._renderAxis=function(target){var i,axis,padPos,padWrapper;target=target||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=$(this.handles[i]),
this._on(this.handles[i],{mousedown:that._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(axis=$(this.handles[i],this.element),padWrapper=/sw|ne|nw|se|n|s/.test(i)?axis.outerHeight():axis.outerWidth(),padPos=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),target.css(padPos,padWrapper),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){that.resizing||(this.className&&(axis=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),that.axis=axis&&axis[1]?axis[1]:"se")}),o.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(event){var i,handle,capture=!1;for(i in this.handles)handle=$(this.handles[i])[0],(handle===event.target||$.contains(handle,event.target))&&(capture=!0);return!this.options.disabled&&capture},_mouseStart:function(event){var curleft,curtop,cursor,o=this.options,el=this.element;return this.resizing=!0,this._renderProxy(),curleft=this._num(this.helper.css("left")),curtop=this._num(this.helper.css("top")),o.containment&&(curleft+=$(o.containment).scrollLeft()||0,curtop+=$(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:curleft,top:curtop},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:el.width(),height:el.height()},this.originalSize=this._helper?{width:el.outerWidth(),height:el.outerHeight()}:{width:el.width(),height:el.height()},this.sizeDiff={width:el.outerWidth()-el.width(),height:el.outerHeight()-el.height()},this.originalPosition={left:curleft,top:curtop},this.originalMousePosition={left:event.pageX,top:event.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,cursor=$(".ui-resizable-"+this.axis).css("cursor"),$("body").css("cursor","auto"===cursor?this.axis+"-resize":cursor),this._addClass("ui-resizable-resizing"),this._propagate("start",event),!0},_mouseDrag:function(event){var data,props,smp=this.originalMousePosition,a=this.axis,dx=event.pageX-smp.left||0,dy=event.pageY-smp.top||0,trigger=this._change[a];return this._updatePrevProperties(),!!trigger&&(data=trigger.apply(this,[event,dx,dy]),this._updateVirtualBoundaries(event.shiftKey),(this._aspectRatio||event.shiftKey)&&(data=this._updateRatio(data,event)),data=this._respectSize(data,event),this._updateCache(data),this._propagate("resize",event),props=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),$.isEmptyObject(props)||(this._updatePrevProperties(),this._trigger("resize",event,this.ui()),this._applyChanges()),!1)},_mouseStop:function(event){this.resizing=!1;var pr,ista,soffseth,soffsetw,s,left,top,o=this.options,that=this;return this._helper&&(pr=this._proportionallyResizeElements,ista=pr.length&&/textarea/i.test(pr[0].nodeName),soffseth=ista&&this._hasScroll(pr[0],"left")?0:that.sizeDiff.height,soffsetw=ista?0:that.sizeDiff.width,s={width:that.helper.width()-soffsetw,height:that.helper.height()-soffseth},left=parseFloat(that.element.css("left"))+(that.position.left-that.originalPosition.left)||null,top=parseFloat(that.element.css("top"))+(that.position.top-that.originalPosition.top)||null,o.animate||this.element.css($.extend(s,{top:top,left:left})),that.helper.height(that.size.height),that.helper.width(that.size.width),this._helper&&!o.animate&&this._proportionallyResize()),$("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",event),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var props={};return this.position.top!==this.prevPosition.top&&(props.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(props.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(props.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(props.height=this.size.height+"px"),this.helper.css(props),props},_updateVirtualBoundaries:function(forceAspectRatio){var pMinWidth,pMaxWidth,pMinHeight,pMaxHeight,b,o=this.options;b={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:1/0,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||forceAspectRatio)&&(pMinWidth=b.minHeight*this.aspectRatio,pMinHeight=b.minWidth/this.aspectRatio,pMaxWidth=b.maxHeight*this.aspectRatio,pMaxHeight=b.maxWidth/this.aspectRatio,pMinWidth>b.minWidth&&(b.minWidth=pMinWidth),pMinHeight>b.minHeight&&(b.minHeight=pMinHeight),pMaxWidth<b.maxWidth&&(b.maxWidth=pMaxWidth),pMaxHeight<b.maxHeight&&(b.maxHeight=pMaxHeight)),this._vBoundaries=b},_updateCache:function(data){this.offset=this.helper.offset(),this._isNumber(data.left)&&(this.position.left=data.left),this._isNumber(data.top)&&(this.position.top=data.top),this._isNumber(data.height)&&(this.size.height=data.height),this._isNumber(data.width)&&(this.size.width=data.width)},_updateRatio:function(data){var cpos=this.position,csize=this.size,a=this.axis;return this._isNumber(data.height)?data.width=data.height*this.aspectRatio:this._isNumber(data.width)&&(data.height=data.width/this.aspectRatio),"sw"===a&&(data.left=cpos.left+(csize.width-data.width),data.top=null),"nw"===a&&(data.top=cpos.top+(csize.height-data.height),data.left=cpos.left+(csize.width-data.width)),data},_respectSize:function(data){var o=this._vBoundaries,a=this.axis,ismaxw=this._isNumber(data.width)&&o.maxWidth&&o.maxWidth<data.width,ismaxh=this._isNumber(data.height)&&o.maxHeight&&o.maxHeight<data.height,isminw=this._isNumber(data.width)&&o.minWidth&&o.minWidth>data.width,isminh=this._isNumber(data.height)&&o.minHeight&&o.minHeight>data.height,dw=this.originalPosition.left+this.originalSize.width,dh=this.originalPosition.top+this.originalSize.height,cw=/sw|nw|w/.test(a),ch=/nw|ne|n/.test(a);return isminw&&(data.width=o.minWidth),isminh&&(data.height=o.minHeight),ismaxw&&(data.width=o.maxWidth),ismaxh&&(data.height=o.maxHeight),isminw&&cw&&(data.left=dw-o.minWidth),ismaxw&&cw&&(data.left=dw-o.maxWidth),isminh&&ch&&(data.top=dh-o.minHeight),ismaxh&&ch&&(data.top=dh-o.maxHeight),data.width||data.height||data.left||!data.top?data.width||data.height||data.top||!data.left||(data.left=null):data.top=null,data},_getPaddingPlusBorderDimensions:function(element){for(var i=0,widths=[],borders=[element.css("borderTopWidth"),element.css("borderRightWidth"),element.css("borderBottomWidth"),element.css("borderLeftWidth")],paddings=[element.css("paddingTop"),element.css("paddingRight"),element.css("paddingBottom"),element.css("paddingLeft")];i<4;i++)widths[i]=parseFloat(borders[i])||0,widths[i]+=parseFloat(paddings[i])||0;return{height:widths[0]+widths[2],width:widths[1]+widths[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var prel,i=0,element=this.helper||this.element;i<this._proportionallyResizeElements.length;i++)prel=this._proportionallyResizeElements[i],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(prel)),prel.css({height:element.height()-this.outerDimensions.height||0,width:element.width()-this.outerDimensions.width||0})},_renderProxy:function(){var el=this.element,o=this.options;this.elementOffset=el.offset(),this._helper?(this.helper=this.helper||$("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++o.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(event,dx){return{width:this.originalSize.width+dx}},w:function(event,dx){var cs=this.originalSize,sp=this.originalPosition;return{left:sp.left+dx,width:cs.width-dx}},n:function(event,dx,dy){var cs=this.originalSize,sp=this.originalPosition;return{top:sp.top+dy,height:cs.height-dy}},s:function(event,dx,dy){return{height:this.originalSize.height+dy}},se:function(event,dx,dy){return $.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[event,dx,dy]))},sw:function(event,dx,dy){return $.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[event,dx,dy]))},ne:function(event,dx,dy){return $.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[event,dx,dy]))},nw:function(event,dx,dy){return $.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[event,dx,dy]))}},_propagate:function(n,event){$.ui.plugin.call(this,n,[event,this.ui()]),"resize"!==n&&this._trigger(n,event,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),$.ui.plugin.add("resizable","animate",{stop:function(event){var that=$(this).resizable("instance"),o=that.options,pr=that._proportionallyResizeElements,ista=pr.length&&/textarea/i.test(pr[0].nodeName),soffseth=ista&&that._hasScroll(pr[0],"left")?0:that.sizeDiff.height,soffsetw=ista?0:that.sizeDiff.width,style={width:that.size.width-soffsetw,height:that.size.height-soffseth},left=parseFloat(that.element.css("left"))+(that.position.left-that.originalPosition.left)||null,top=parseFloat(that.element.css("top"))+(that.position.top-that.originalPosition.top)||null;that.element.animate($.extend(style,top&&left?{top:top,left:left}:{}),{duration:o.animateDuration,easing:o.animateEasing,step:function(){var data={width:parseFloat(that.element.css("width")),height:parseFloat(that.element.css("height")),top:parseFloat(that.element.css("top")),left:parseFloat(that.element.css("left"))};pr&&pr.length&&$(pr[0]).css({width:data.width,height:data.height}),that._updateCache(data),that._propagate("resize",event)}})}}),$.ui.plugin.add("resizable","containment",{start:function(){var element,p,co,ch,cw,width,height,that=$(this).resizable("instance"),o=that.options,el=that.element,oc=o.containment,ce=oc instanceof $?oc.get(0):/parent/.test(oc)?el.parent().get(0):oc;ce&&(that.containerElement=$(ce),/document/.test(oc)||oc===document?(that.containerOffset={left:0,top:0},that.containerPosition={left:0,top:0},that.parentData={element:$(document),left:0,top:0,width:$(document).width(),height:$(document).height()||document.body.parentNode.scrollHeight}):(element=$(ce),p=[],$(["Top","Right","Left","Bottom"]).each(function(i,name){p[i]=that._num(element.css("padding"+name))}),that.containerOffset=element.offset(),that.containerPosition=element.position(),that.containerSize={height:element.innerHeight()-p[3],width:element.innerWidth()-p[1]},co=that.containerOffset,ch=that.containerSize.height,cw=that.containerSize.width,width=that._hasScroll(ce,"left")?ce.scrollWidth:cw,height=that._hasScroll(ce)?ce.scrollHeight:ch,that.parentData={element:ce,left:co.left,top:co.top,width:width,height:height}))},resize:function(event){var woset,hoset,isParent,isOffsetRelative,that=$(this).resizable("instance"),o=that.options,co=that.containerOffset,cp=that.position,pRatio=that._aspectRatio||event.shiftKey,cop={top:0,left:0},ce=that.containerElement,continueResize=!0;ce[0]!==document&&/static/.test(ce.css("position"))&&(cop=co),cp.left<(that._helper?co.left:0)&&(that.size.width=that.size.width+(that._helper?that.position.left-co.left:that.position.left-cop.left),pRatio&&(that.size.height=that.size.width/that.aspectRatio,continueResize=!1),that.position.left=o.helper?co.left:0),cp.top<(that._helper?co.top:0)&&(that.size.height=that.size.height+(that._helper?that.position.top-co.top:that.position.top),pRatio&&(that.size.width=that.size.height*that.aspectRatio,continueResize=!1),that.position.top=that._helper?co.top:0),isParent=that.containerElement.get(0)===that.element.parent().get(0),isOffsetRelative=/relative|absolute/.test(that.containerElement.css("position")),isParent&&isOffsetRelative?(that.offset.left=that.parentData.left+that.position.left,that.offset.top=that.parentData.top+that.position.top):(that.offset.left=that.element.offset().left,that.offset.top=that.element.offset().top),woset=Math.abs(that.sizeDiff.width+(that._helper?that.offset.left-cop.left:that.offset.left-co.left)),hoset=Math.abs(that.sizeDiff.height+(that._helper?that.offset.top-cop.top:that.offset.top-co.top)),woset+that.size.width>=that.parentData.width&&(that.size.width=that.parentData.width-woset,pRatio&&(that.size.height=that.size.width/that.aspectRatio,continueResize=!1)),hoset+that.size.height>=that.parentData.height&&(that.size.height=that.parentData.height-hoset,pRatio&&(that.size.width=that.size.height*that.aspectRatio,continueResize=!1)),continueResize||(that.position.left=that.prevPosition.left,that.position.top=that.prevPosition.top,that.size.width=that.prevSize.width,that.size.height=that.prevSize.height)},stop:function(){var that=$(this).resizable("instance"),o=that.options,co=that.containerOffset,cop=that.containerPosition,ce=that.containerElement,helper=$(that.helper),ho=helper.offset(),w=helper.outerWidth()-that.sizeDiff.width,h=helper.outerHeight()-that.sizeDiff.height;that._helper&&!o.animate&&/relative/.test(ce.css("position"))&&$(this).css({left:ho.left-cop.left-co.left,width:w,height:h}),that._helper&&!o.animate&&/static/.test(ce.css("position"))&&$(this).css({left:ho.left-cop.left-co.left,width:w,height:h})}}),$.ui.plugin.add("resizable","alsoResize",{start:function(){var that=$(this).resizable("instance"),o=that.options;$(o.alsoResize).each(function(){var el=$(this);el.data("ui-resizable-alsoresize",{width:parseFloat(el.width()),height:parseFloat(el.height()),left:parseFloat(el.css("left")),top:parseFloat(el.css("top"))})})},resize:function(event,ui){var that=$(this).resizable("instance"),o=that.options,os=that.originalSize,op=that.originalPosition,delta={height:that.size.height-os.height||0,width:that.size.width-os.width||0,top:that.position.top-op.top||0,left:that.position.left-op.left||0};$(o.alsoResize).each(function(){var el=$(this),start=$(this).data("ui-resizable-alsoresize"),style={},css=el.parents(ui.originalElement[0]).length?["width","height"]:["width","height","top","left"];$.each(css,function(i,prop){var sum=(start[prop]||0)+(delta[prop]||0);sum&&sum>=0&&(style[prop]=sum||null)}),el.css(style)})},stop:function(){$(this).removeData("ui-resizable-alsoresize")}}),$.ui.plugin.add("resizable","ghost",{start:function(){var that=$(this).resizable("instance"),cs=that.size;that.ghost=that.originalElement.clone(),that.ghost.css({opacity:.25,display:"block",position:"relative",height:cs.height,width:cs.width,margin:0,left:0,top:0}),that._addClass(that.ghost,"ui-resizable-ghost"),$.uiBackCompat!==!1&&"string"==typeof that.options.ghost&&that.ghost.addClass(this.options.ghost),that.ghost.appendTo(that.helper)},resize:function(){var that=$(this).resizable("instance");that.ghost&&that.ghost.css({position:"relative",height:that.size.height,width:that.size.width})},stop:function(){var that=$(this).resizable("instance");that.ghost&&that.helper&&that.helper.get(0).removeChild(that.ghost.get(0))}}),$.ui.plugin.add("resizable","grid",{resize:function(){var outerDimensions,that=$(this).resizable("instance"),o=that.options,cs=that.size,os=that.originalSize,op=that.originalPosition,a=that.axis,grid="number"==typeof o.grid?[o.grid,o.grid]:o.grid,gridX=grid[0]||1,gridY=grid[1]||1,ox=Math.round((cs.width-os.width)/gridX)*gridX,oy=Math.round((cs.height-os.height)/gridY)*gridY,newWidth=os.width+ox,newHeight=os.height+oy,isMaxWidth=o.maxWidth&&o.maxWidth<newWidth,isMaxHeight=o.maxHeight&&o.maxHeight<newHeight,isMinWidth=o.minWidth&&o.minWidth>newWidth,isMinHeight=o.minHeight&&o.minHeight>newHeight;o.grid=grid,isMinWidth&&(newWidth+=gridX),isMinHeight&&(newHeight+=gridY),isMaxWidth&&(newWidth-=gridX),isMaxHeight&&(newHeight-=gridY),/^(se|s|e)$/.test(a)?(that.size.width=newWidth,that.size.height=newHeight):/^(ne)$/.test(a)?(that.size.width=newWidth,that.size.height=newHeight,that.position.top=op.top-oy):/^(sw)$/.test(a)?(that.size.width=newWidth,that.size.height=newHeight,that.position.left=op.left-ox):((newHeight-gridY<=0||newWidth-gridX<=0)&&(outerDimensions=that._getPaddingPlusBorderDimensions(this)),newHeight-gridY>0?(that.size.height=newHeight,that.position.top=op.top-oy):(newHeight=gridY-outerDimensions.height,that.size.height=newHeight,that.position.top=op.top+os.height-newHeight),newWidth-gridX>0?(that.size.width=newWidth,that.position.left=op.left-ox):(newWidth=gridX-outerDimensions.width,that.size.width=newWidth,that.position.left=op.left+os.width-newWidth))}});$.ui.resizable;$.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(pos){var topOffset=$(this).css(pos).offset().top;topOffset<0&&$(this).css("top",pos.top-topOffset)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&$.fn.draggable&&this._makeDraggable(),this.options.resizable&&$.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var element=this.options.appendTo;return element&&(element.jquery||element.nodeType)?$(element):this.document.find(element||"body").eq(0)},_destroy:function(){var next,originalPosition=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),next=originalPosition.parent.children().eq(originalPosition.index),next.length&&next[0]!==this.element[0]?next.before(this.element):originalPosition.parent.append(this.element)},widget:function(){return this.uiDialog},disable:$.noop,enable:$.noop,close:function(event){var that=this;this._isOpen&&this._trigger("beforeClose",event)!==!1&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||$.ui.safeBlur($.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){that._trigger("close",event)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(event,silent){var moved=!1,zIndices=this.uiDialog.siblings(".ui-front:visible").map(function(){return+$(this).css("z-index")}).get(),zIndexMax=Math.max.apply(null,zIndices);return zIndexMax>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",zIndexMax+1),moved=!0),moved&&!silent&&this._trigger("focus",event),moved},open:function(){var that=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=$($.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){that._focusTabbable(),that._trigger("focus")}),this._makeFocusTarget(),void this._trigger("open"))},_focusTabbable:function(){var hasFocus=this._focusedElement;hasFocus||(hasFocus=this.element.find("[autofocus]")),hasFocus.length||(hasFocus=this.element.find(":tabbable")),hasFocus.length||(hasFocus=this.uiDialogButtonPane.find(":tabbable")),hasFocus.length||(hasFocus=this.uiDialogTitlebarClose.filter(":tabbable")),hasFocus.length||(hasFocus=this.uiDialog),hasFocus.eq(0).trigger("focus")},_keepFocus:function(event){function checkFocus(){var activeElement=$.ui.safeActiveElement(this.document[0]),isActive=this.uiDialog[0]===activeElement||$.contains(this.uiDialog[0],activeElement);isActive||this._focusTabbable()}event.preventDefault(),checkFocus.call(this),this._delay(checkFocus)},_createWrapper:function(){this.uiDialog=$("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(event){if(this.options.closeOnEscape&&!event.isDefaultPrevented()&&event.keyCode&&event.keyCode===$.ui.keyCode.ESCAPE)return event.preventDefault(),void this.close(event);if(event.keyCode===$.ui.keyCode.TAB&&!event.isDefaultPrevented()){var tabbables=this.uiDialog.find(":tabbable"),first=tabbables.filter(":first"),last=tabbables.filter(":last");event.target!==last[0]&&event.target!==this.uiDialog[0]||event.shiftKey?event.target!==first[0]&&event.target!==this.uiDialog[0]||!event.shiftKey||(this._delay(function(){last.trigger("focus")}),event.preventDefault()):(this._delay(function(){first.trigger("focus")}),event.preventDefault())}},mousedown:function(event){this._moveToTop(event)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var uiDialogTitle;this.uiDialogTitlebar=$("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(event){$(event.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=$("<button type='button'></button>").button({label:$("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(event){event.preventDefault(),this.close(event)}}),uiDialogTitle=$("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(uiDialogTitle,"ui-dialog-title"),this._title(uiDialogTitle),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":uiDialogTitle.attr("id")})},_title:function(title){this.options.title?title.text(this.options.title):title.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=$("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=$("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var that=this,buttons=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),$.isEmptyObject(buttons)||$.isArray(buttons)&&!buttons.length?void this._removeClass(this.uiDialog,"ui-dialog-buttons"):($.each(buttons,function(name,props){var click,buttonOptions;props=$.isFunction(props)?{click:props,text:name}:props,props=$.extend({type:"button"},props),click=props.click,buttonOptions={icon:props.icon,iconPosition:props.iconPosition,showLabel:props.showLabel,icons:props.icons,text:props.text},delete props.click,delete props.icon,delete props.iconPosition,delete props.showLabel,delete props.icons,"boolean"==typeof props.text&&delete props.text,$("<button></button>",props).button(buttonOptions).appendTo(that.uiButtonSet).on("click",function(){click.apply(that.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function filteredUi(ui){return{position:ui.position,offset:ui.offset}}var that=this,options=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(event,ui){that._addClass($(this),"ui-dialog-dragging"),that._blockFrames(),that._trigger("dragStart",event,filteredUi(ui))},drag:function(event,ui){that._trigger("drag",event,filteredUi(ui))},stop:function(event,ui){var left=ui.offset.left-that.document.scrollLeft(),top=ui.offset.top-that.document.scrollTop();options.position={my:"left top",at:"left"+(left>=0?"+":"")+left+" top"+(top>=0?"+":"")+top,of:that.window},that._removeClass($(this),"ui-dialog-dragging"),that._unblockFrames(),that._trigger("dragStop",event,filteredUi(ui))}})},_makeResizable:function(){function filteredUi(ui){return{originalPosition:ui.originalPosition,originalSize:ui.originalSize,position:ui.position,size:ui.size}}var that=this,options=this.options,handles=options.resizable,position=this.uiDialog.css("position"),resizeHandles="string"==typeof handles?handles:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:options.maxWidth,maxHeight:options.maxHeight,minWidth:options.minWidth,minHeight:this._minHeight(),handles:resizeHandles,start:function(event,ui){that._addClass($(this),"ui-dialog-resizing"),that._blockFrames(),that._trigger("resizeStart",event,filteredUi(ui))},resize:function(event,ui){that._trigger("resize",event,filteredUi(ui))},stop:function(event,ui){var offset=that.uiDialog.offset(),left=offset.left-that.document.scrollLeft(),top=offset.top-that.document.scrollTop();options.height=that.uiDialog.height(),options.width=that.uiDialog.width(),options.position={my:"left top",at:"left"+(left>=0?"+":"")+left+" top"+(top>=0?"+":"")+top,of:that.window},that._removeClass($(this),"ui-dialog-resizing"),that._unblockFrames(),that._trigger("resizeStop",event,filteredUi(ui))}}).css("position",position)},_trackFocus:function(){this._on(this.widget(),{focusin:function(event){this._makeFocusTarget(),this._focusedElement=$(event.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var instances=this._trackingInstances(),exists=$.inArray(this,instances);exists!==-1&&instances.splice(exists,1)},_trackingInstances:function(){var instances=this.document.data("ui-dialog-instances");return instances||(instances=[],this.document.data("ui-dialog-instances",instances)),instances},_minHeight:function(){var options=this.options;return"auto"===options.height?options.minHeight:Math.min(options.minHeight,options.height)},_position:function(){var isVisible=this.uiDialog.is(":visible");isVisible||this.uiDialog.show(),this.uiDialog.position(this.options.position),isVisible||this.uiDialog.hide()},_setOptions:function(options){var that=this,resize=!1,resizableOptions={};$.each(options,function(key,value){that._setOption(key,value),key in that.sizeRelatedOptions&&(resize=!0),key in that.resizableRelatedOptions&&(resizableOptions[key]=value)}),resize&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",resizableOptions)},_setOption:function(key,value){var isDraggable,isResizable,uiDialog=this.uiDialog;"disabled"!==key&&(this._super(key,value),"appendTo"===key&&this.uiDialog.appendTo(this._appendTo()),"buttons"===key&&this._createButtons(),"closeText"===key&&this.uiDialogTitlebarClose.button({label:$("<a>").text(""+this.options.closeText).html()}),"draggable"===key&&(isDraggable=uiDialog.is(":data(ui-draggable)"),isDraggable&&!value&&uiDialog.draggable("destroy"),!isDraggable&&value&&this._makeDraggable()),"position"===key&&this._position(),"resizable"===key&&(isResizable=uiDialog.is(":data(ui-resizable)"),isResizable&&!value&&uiDialog.resizable("destroy"),isResizable&&"string"==typeof value&&uiDialog.resizable("option","handles",value),isResizable||value===!1||this._makeResizable()),"title"===key&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var nonContentHeight,minContentHeight,maxContentHeight,options=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),options.minWidth>options.width&&(options.width=options.minWidth),nonContentHeight=this.uiDialog.css({height:"auto",width:options.width}).outerHeight(),minContentHeight=Math.max(0,options.minHeight-nonContentHeight),maxContentHeight="number"==typeof options.maxHeight?Math.max(0,options.maxHeight-nonContentHeight):"none","auto"===options.height?this.element.css({minHeight:minContentHeight,maxHeight:maxContentHeight,height:"auto"}):this.element.height(Math.max(0,options.height-nonContentHeight)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var iframe=$(this);return $("<div>").css({position:"absolute",width:iframe.outerWidth(),height:iframe.outerHeight()}).appendTo(iframe.parent()).offset(iframe.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(event){return!!$(event.target).closest(".ui-dialog").length||!!$(event.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var isOpening=!0;this._delay(function(){isOpening=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(event){isOpening||this._allowInteraction(event)||(event.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=$("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var overlays=this.document.data("ui-dialog-overlays")-1;overlays?this.document.data("ui-dialog-overlays",overlays):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),$.uiBackCompat!==!1&&$.widget("ui.dialog",$.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(key,value){"dialogClass"===key&&this.uiDialog.removeClass(this.options.dialogClass).addClass(value),this._superApply(arguments)}});$.ui.dialog;$.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var proportions,o=this.options,accept=o.accept;this.isover=!1,this.isout=!0,this.accept=$.isFunction(accept)?accept:function(d){return d.is(accept)},this.proportions=function(){return arguments.length?void(proportions=arguments[0]):proportions?proportions:proportions={
width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(o.scope),o.addClasses&&this._addClass("ui-droppable")},_addToManager:function(scope){$.ui.ddmanager.droppables[scope]=$.ui.ddmanager.droppables[scope]||[],$.ui.ddmanager.droppables[scope].push(this)},_splice:function(drop){for(var i=0;i<drop.length;i++)drop[i]===this&&drop.splice(i,1)},_destroy:function(){var drop=$.ui.ddmanager.droppables[this.options.scope];this._splice(drop)},_setOption:function(key,value){if("accept"===key)this.accept=$.isFunction(value)?value:function(d){return d.is(value)};else if("scope"===key){var drop=$.ui.ddmanager.droppables[this.options.scope];this._splice(drop),this._addToManager(value)}this._super(key,value)},_activate:function(event){var draggable=$.ui.ddmanager.current;this._addActiveClass(),draggable&&this._trigger("activate",event,this.ui(draggable))},_deactivate:function(event){var draggable=$.ui.ddmanager.current;this._removeActiveClass(),draggable&&this._trigger("deactivate",event,this.ui(draggable))},_over:function(event){var draggable=$.ui.ddmanager.current;draggable&&(draggable.currentItem||draggable.element)[0]!==this.element[0]&&this.accept.call(this.element[0],draggable.currentItem||draggable.element)&&(this._addHoverClass(),this._trigger("over",event,this.ui(draggable)))},_out:function(event){var draggable=$.ui.ddmanager.current;draggable&&(draggable.currentItem||draggable.element)[0]!==this.element[0]&&this.accept.call(this.element[0],draggable.currentItem||draggable.element)&&(this._removeHoverClass(),this._trigger("out",event,this.ui(draggable)))},_drop:function(event,custom){var draggable=custom||$.ui.ddmanager.current,childrenIntersection=!1;return!(!draggable||(draggable.currentItem||draggable.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var inst=$(this).droppable("instance");if(inst.options.greedy&&!inst.options.disabled&&inst.options.scope===draggable.options.scope&&inst.accept.call(inst.element[0],draggable.currentItem||draggable.element)&&intersect(draggable,$.extend(inst,{offset:inst.element.offset()}),inst.options.tolerance,event))return childrenIntersection=!0,!1}),!childrenIntersection&&(!!this.accept.call(this.element[0],draggable.currentItem||draggable.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",event,this.ui(draggable)),this.element)))},ui:function(c){return{draggable:c.currentItem||c.element,helper:c.helper,position:c.position,offset:c.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var intersect=$.ui.intersect=function(){function isOverAxis(x,reference,size){return x>=reference&&x<reference+size}return function(draggable,droppable,toleranceMode,event){if(!droppable.offset)return!1;var x1=(draggable.positionAbs||draggable.position.absolute).left+draggable.margins.left,y1=(draggable.positionAbs||draggable.position.absolute).top+draggable.margins.top,x2=x1+draggable.helperProportions.width,y2=y1+draggable.helperProportions.height,l=droppable.offset.left,t=droppable.offset.top,r=l+droppable.proportions().width,b=t+droppable.proportions().height;switch(toleranceMode){case"fit":return l<=x1&&x2<=r&&t<=y1&&y2<=b;case"intersect":return l<x1+draggable.helperProportions.width/2&&x2-draggable.helperProportions.width/2<r&&t<y1+draggable.helperProportions.height/2&&y2-draggable.helperProportions.height/2<b;case"pointer":return isOverAxis(event.pageY,t,droppable.proportions().height)&&isOverAxis(event.pageX,l,droppable.proportions().width);case"touch":return(y1>=t&&y1<=b||y2>=t&&y2<=b||y1<t&&y2>b)&&(x1>=l&&x1<=r||x2>=l&&x2<=r||x1<l&&x2>r);default:return!1}}}();$.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,event){var i,j,m=$.ui.ddmanager.droppables[t.options.scope]||[],type=event?event.type:null,list=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();droppablesLoop:for(i=0;i<m.length;i++)if(!(m[i].options.disabled||t&&!m[i].accept.call(m[i].element[0],t.currentItem||t.element))){for(j=0;j<list.length;j++)if(list[j]===m[i].element[0]){m[i].proportions().height=0;continue droppablesLoop}m[i].visible="none"!==m[i].element.css("display"),m[i].visible&&("mousedown"===type&&m[i]._activate.call(m[i],event),m[i].offset=m[i].element.offset(),m[i].proportions({width:m[i].element[0].offsetWidth,height:m[i].element[0].offsetHeight}))}},drop:function(draggable,event){var dropped=!1;return $.each(($.ui.ddmanager.droppables[draggable.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&intersect(draggable,this,this.options.tolerance,event)&&(dropped=this._drop.call(this,event)||dropped),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],draggable.currentItem||draggable.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,event)))}),dropped},dragStart:function(draggable,event){draggable.element.parentsUntil("body").on("scroll.droppable",function(){draggable.options.refreshPositions||$.ui.ddmanager.prepareOffsets(draggable,event)})},drag:function(draggable,event){draggable.options.refreshPositions&&$.ui.ddmanager.prepareOffsets(draggable,event),$.each($.ui.ddmanager.droppables[draggable.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var parentInstance,scope,parent,intersects=intersect(draggable,this,this.options.tolerance,event),c=!intersects&&this.isover?"isout":intersects&&!this.isover?"isover":null;c&&(this.options.greedy&&(scope=this.options.scope,parent=this.element.parents(":data(ui-droppable)").filter(function(){return $(this).droppable("instance").options.scope===scope}),parent.length&&(parentInstance=$(parent[0]).droppable("instance"),parentInstance.greedyChild="isover"===c)),parentInstance&&"isover"===c&&(parentInstance.isover=!1,parentInstance.isout=!0,parentInstance._out.call(parentInstance,event)),this[c]=!0,this["isout"===c?"isover":"isout"]=!1,this["isover"===c?"_over":"_out"].call(this,event),parentInstance&&"isout"===c&&(parentInstance.isout=!1,parentInstance.isover=!0,parentInstance._over.call(parentInstance,event)))}})},dragStop:function(draggable,event){draggable.element.parentsUntil("body").off("scroll.droppable"),draggable.options.refreshPositions||$.ui.ddmanager.prepareOffsets(draggable,event)}},$.uiBackCompat!==!1&&$.widget("ui.droppable",$.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}});$.ui.droppable,$.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=$("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(newValue){return void 0===newValue?this.options.value:(this.options.value=this._constrainedValue(newValue),void this._refreshValue())},_constrainedValue:function(newValue){return void 0===newValue&&(newValue=this.options.value),this.indeterminate=newValue===!1,"number"!=typeof newValue&&(newValue=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,newValue))},_setOptions:function(options){var value=options.value;delete options.value,this._super(options),this.options.value=this._constrainedValue(value),this._refreshValue()},_setOption:function(key,value){"max"===key&&(value=Math.max(this.min,value)),this._super(key,value)},_setOptionDisabled:function(value){this._super(value),this.element.attr("aria-disabled",value),this._toggleClass(null,"ui-state-disabled",!!value)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var value=this.options.value,percentage=this._percentage();this.valueDiv.toggle(this.indeterminate||value>this.min).width(percentage.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,value===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=$("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":value}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==value&&(this.oldValue=value,this._trigger("change")),value===this.options.max&&this._trigger("complete")}}),$.widget("ui.selectable",$.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var that=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){that.elementPos=$(that.element[0]).offset(),that.selectees=$(that.options.filter,that.element[0]),that._addClass(that.selectees,"ui-selectee"),that.selectees.each(function(){var $this=$(this),selecteeOffset=$this.offset(),pos={left:selecteeOffset.left-that.elementPos.left,top:selecteeOffset.top-that.elementPos.top};$.data(this,"selectable-item",{element:this,$element:$this,left:pos.left,top:pos.top,right:pos.left+$this.outerWidth(),bottom:pos.top+$this.outerHeight(),startselected:!1,selected:$this.hasClass("ui-selected"),selecting:$this.hasClass("ui-selecting"),unselecting:$this.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=$("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(event){var that=this,options=this.options;this.opos=[event.pageX,event.pageY],this.elementPos=$(this.element[0]).offset(),this.options.disabled||(this.selectees=$(options.filter,this.element[0]),this._trigger("start",event),$(options.appendTo).append(this.helper),this.helper.css({left:event.pageX,top:event.pageY,width:0,height:0}),options.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var selectee=$.data(this,"selectable-item");selectee.startselected=!0,event.metaKey||event.ctrlKey||(that._removeClass(selectee.$element,"ui-selected"),selectee.selected=!1,that._addClass(selectee.$element,"ui-unselecting"),selectee.unselecting=!0,that._trigger("unselecting",event,{unselecting:selectee.element}))}),$(event.target).parents().addBack().each(function(){var doSelect,selectee=$.data(this,"selectable-item");if(selectee)return doSelect=!event.metaKey&&!event.ctrlKey||!selectee.$element.hasClass("ui-selected"),that._removeClass(selectee.$element,doSelect?"ui-unselecting":"ui-selected")._addClass(selectee.$element,doSelect?"ui-selecting":"ui-unselecting"),selectee.unselecting=!doSelect,selectee.selecting=doSelect,selectee.selected=doSelect,doSelect?that._trigger("selecting",event,{selecting:selectee.element}):that._trigger("unselecting",event,{unselecting:selectee.element}),!1}))},_mouseDrag:function(event){if(this.dragged=!0,!this.options.disabled){var tmp,that=this,options=this.options,x1=this.opos[0],y1=this.opos[1],x2=event.pageX,y2=event.pageY;return x1>x2&&(tmp=x2,x2=x1,x1=tmp),y1>y2&&(tmp=y2,y2=y1,y1=tmp),this.helper.css({left:x1,top:y1,width:x2-x1,height:y2-y1}),this.selectees.each(function(){var selectee=$.data(this,"selectable-item"),hit=!1,offset={};selectee&&selectee.element!==that.element[0]&&(offset.left=selectee.left+that.elementPos.left,offset.right=selectee.right+that.elementPos.left,offset.top=selectee.top+that.elementPos.top,offset.bottom=selectee.bottom+that.elementPos.top,"touch"===options.tolerance?hit=!(offset.left>x2||offset.right<x1||offset.top>y2||offset.bottom<y1):"fit"===options.tolerance&&(hit=offset.left>x1&&offset.right<x2&&offset.top>y1&&offset.bottom<y2),hit?(selectee.selected&&(that._removeClass(selectee.$element,"ui-selected"),selectee.selected=!1),selectee.unselecting&&(that._removeClass(selectee.$element,"ui-unselecting"),selectee.unselecting=!1),selectee.selecting||(that._addClass(selectee.$element,"ui-selecting"),selectee.selecting=!0,that._trigger("selecting",event,{selecting:selectee.element}))):(selectee.selecting&&((event.metaKey||event.ctrlKey)&&selectee.startselected?(that._removeClass(selectee.$element,"ui-selecting"),selectee.selecting=!1,that._addClass(selectee.$element,"ui-selected"),selectee.selected=!0):(that._removeClass(selectee.$element,"ui-selecting"),selectee.selecting=!1,selectee.startselected&&(that._addClass(selectee.$element,"ui-unselecting"),selectee.unselecting=!0),that._trigger("unselecting",event,{unselecting:selectee.element}))),selectee.selected&&(event.metaKey||event.ctrlKey||selectee.startselected||(that._removeClass(selectee.$element,"ui-selected"),selectee.selected=!1,that._addClass(selectee.$element,"ui-unselecting"),selectee.unselecting=!0,that._trigger("unselecting",event,{unselecting:selectee.element})))))}),!1}},_mouseStop:function(event){var that=this;return this.dragged=!1,$(".ui-unselecting",this.element[0]).each(function(){var selectee=$.data(this,"selectable-item");that._removeClass(selectee.$element,"ui-unselecting"),selectee.unselecting=!1,selectee.startselected=!1,that._trigger("unselected",event,{unselected:selectee.element})}),$(".ui-selecting",this.element[0]).each(function(){var selectee=$.data(this,"selectable-item");that._removeClass(selectee.$element,"ui-selecting")._addClass(selectee.$element,"ui-selected"),selectee.selecting=!1,selectee.selected=!0,selectee.startselected=!0,that._trigger("selected",event,{selected:selectee.element})}),this._trigger("stop",event),this.helper.remove(),!1}}),$.widget("ui.selectmenu",[$.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var selectmenuId=this.element.uniqueId().attr("id");this.ids={element:selectmenuId,button:selectmenuId+"-button",menu:selectmenuId+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=$()},_drawButton:function(){var icon,that=this,item=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(event){this.button.focus(),event.preventDefault()}}),this.element.hide(),this.button=$("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),icon=$("<span>").appendTo(this.button),this._addClass(icon,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(item).appendTo(this.button),this.options.width!==!1&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){that._rendered||that._refreshMenu()})},_drawMenu:function(){var that=this;this.menu=$("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=$("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(event,ui){event.preventDefault(),that._setSelection(),that._select(ui.item.data("ui-selectmenu-item"),event)},focus:function(event,ui){var item=ui.item.data("ui-selectmenu-item");null!=that.focusIndex&&item.index!==that.focusIndex&&(that._trigger("focus",event,{item:item}),that.isOpen||that._select(item,event)),that.focusIndex=item.index,that.button.attr("aria-activedescendant",that.menuItems.eq(item.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var item,options=this.element.find("option");this.menu.empty(),this._parseOptions(options),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,options.length&&(item=this._getSelectedItem(),this.menuInstance.focus(null,item),this._setAria(item.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(event){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",event)))},_position:function(){this.menuWrap.position($.extend({of:this.button},this.options.position))},close:function(event){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",event))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(item){var buttonItem=$("<span>");return this._setText(buttonItem,item.label),this._addClass(buttonItem,"ui-selectmenu-text"),buttonItem},_renderMenu:function(ul,items){var that=this,currentOptgroup="";$.each(items,function(index,item){var li;item.optgroup!==currentOptgroup&&(li=$("<li>",{text:item.optgroup}),that._addClass(li,"ui-selectmenu-optgroup","ui-menu-divider"+(item.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),li.appendTo(ul),currentOptgroup=item.optgroup),that._renderItemData(ul,item)})},_renderItemData:function(ul,item){return this._renderItem(ul,item).data("ui-selectmenu-item",item)},_renderItem:function(ul,item){var li=$("<li>"),wrapper=$("<div>",{title:item.element.attr("title")});return item.disabled&&this._addClass(li,null,"ui-state-disabled"),this._setText(wrapper,item.label),li.append(wrapper).appendTo(ul)},_setText:function(element,value){value?element.text(value):element.html("&#160;")},_move:function(direction,event){var item,next,filter=".ui-menu-item";this.isOpen?item=this.menuItems.eq(this.focusIndex).parent("li"):(item=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),filter+=":not(.ui-state-disabled)"),next="first"===direction||"last"===direction?item["first"===direction?"prevAll":"nextAll"](filter).eq(-1):item[direction+"All"](filter).eq(0),next.length&&this.menuInstance.focus(event,next)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(event){this[this.isOpen?"close":"open"](event)},_setSelection:function(){var selection;this.range&&(window.getSelection?(selection=window.getSelection(),selection.removeAllRanges(),selection.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(event){this.isOpen&&($(event.target).closest(".ui-selectmenu-menu, #"+$.ui.escapeSelector(this.ids.button)).length||this.close(event))}},_buttonEvents:{mousedown:function(){var selection;window.getSelection?(selection=window.getSelection(),selection.rangeCount&&(this.range=selection.getRangeAt(0))):this.range=document.selection.createRange()},click:function(event){this._setSelection(),this._toggle(event)},keydown:function(event){var preventDefault=!0;switch(event.keyCode){case $.ui.keyCode.TAB:case $.ui.keyCode.ESCAPE:this.close(event),preventDefault=!1;break;case $.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(event);break;case $.ui.keyCode.UP:event.altKey?this._toggle(event):this._move("prev",event);break;case $.ui.keyCode.DOWN:event.altKey?this._toggle(event):this._move("next",event);break;case $.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(event):this._toggle(event);break;case $.ui.keyCode.LEFT:this._move("prev",event);break;case $.ui.keyCode.RIGHT:this._move("next",event);break;case $.ui.keyCode.HOME:case $.ui.keyCode.PAGE_UP:this._move("first",event);break;case $.ui.keyCode.END:case $.ui.keyCode.PAGE_DOWN:this._move("last",event);break;default:this.menu.trigger(event),preventDefault=!1}preventDefault&&event.preventDefault()}},_selectFocusedItem:function(event){var item=this.menuItems.eq(this.focusIndex).parent("li");item.hasClass("ui-state-disabled")||this._select(item.data("ui-selectmenu-item"),event)},_select:function(item,event){var oldIndex=this.element[0].selectedIndex;this.element[0].selectedIndex=item.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(item)),this._setAria(item),this._trigger("select",event,{item:item}),item.index!==oldIndex&&this._trigger("change",event,{item:item}),this.close(event)},_setAria:function(item){var id=this.menuItems.eq(item.index).attr("id");this.button.attr({"aria-labelledby":id,"aria-activedescendant":id}),this.menu.attr("aria-activedescendant",id)},_setOption:function(key,value){if("icons"===key){var icon=this.button.find("span.ui-icon");this._removeClass(icon,null,this.options.icons.button)._addClass(icon,null,value.button)}this._super(key,value),"appendTo"===key&&this.menuWrap.appendTo(this._appendTo()),"width"===key&&this._resizeButton()},_setOptionDisabled:function(value){this._super(value),this.menuInstance.option("disabled",value),this.button.attr("aria-disabled",value),this._toggleClass(this.button,null,"ui-state-disabled",value),this.element.prop("disabled",value),value?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var element=this.options.appendTo;return element&&(element=element.jquery||element.nodeType?$(element):this.document.find(element).eq(0)),element&&element[0]||(element=this.element.closest(".ui-front, dialog")),element.length||(element=this.document[0].body),element},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var width=this.options.width;return width===!1?void this.button.css("width",""):(null===width&&(width=this.element.show().outerWidth(),this.element.hide()),void this.button.outerWidth(width))},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var options=this._super();return options.disabled=this.element.prop("disabled"),options},_parseOptions:function(options){var that=this,data=[];options.each(function(index,item){data.push(that._parseOption($(item),index))}),this.items=data},_parseOption:function(option,index){var optgroup=option.parent("optgroup");return{element:option,index:index,value:option.val(),label:option.text(),optgroup:optgroup.attr("label")||"",disabled:optgroup.prop("disabled")||option.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),$.widget("ui.slider",$.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var i,handleCount,options=this.options,existingHandles=this.element.find(".ui-slider-handle"),handle="<span tabindex='0'></span>",handles=[];for(handleCount=options.values&&options.values.length||1,existingHandles.length>handleCount&&(existingHandles.slice(handleCount).remove(),existingHandles=existingHandles.slice(0,handleCount)),i=existingHandles.length;i<handleCount;i++)handles.push(handle);this.handles=existingHandles.add($(handles.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(i){$(this).data("ui-slider-handle-index",i).attr("tabIndex",0)})},_createRange:function(){var options=this.options;options.range?(options.range===!0&&(options.values?options.values.length&&2!==options.values.length?options.values=[options.values[0],options.values[0]]:$.isArray(options.values)&&(options.values=options.values.slice(0)):options.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=$("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==options.range&&"max"!==options.range||this._addClass(this.range,"ui-slider-range-"+options.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(event){var position,normValue,distance,closestHandle,index,allowed,offset,mouseOverHandle,that=this,o=this.options;return!o.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),position={x:event.pageX,y:event.pageY},normValue=this._normValueFromMouse(position),distance=this._valueMax()-this._valueMin()+1,this.handles.each(function(i){var thisDistance=Math.abs(normValue-that.values(i));(distance>thisDistance||distance===thisDistance&&(i===that._lastChangedValue||that.values(i)===o.min))&&(distance=thisDistance,closestHandle=$(this),index=i)}),allowed=this._start(event,index),allowed!==!1&&(this._mouseSliding=!0,this._handleIndex=index,this._addClass(closestHandle,null,"ui-state-active"),closestHandle.trigger("focus"),offset=closestHandle.offset(),mouseOverHandle=!$(event.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=mouseOverHandle?{left:0,top:0}:{left:event.pageX-offset.left-closestHandle.width()/2,top:event.pageY-offset.top-closestHandle.height()/2-(parseInt(closestHandle.css("borderTopWidth"),10)||0)-(parseInt(closestHandle.css("borderBottomWidth"),10)||0)+(parseInt(closestHandle.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(event,index,normValue),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(event){var position={x:event.pageX,y:event.pageY},normValue=this._normValueFromMouse(position);return this._slide(event,this._handleIndex,normValue),!1},_mouseStop:function(event){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(event,this._handleIndex),this._change(event,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(position){var pixelTotal,pixelMouse,percentMouse,valueTotal,valueMouse;return"horizontal"===this.orientation?(pixelTotal=this.elementSize.width,pixelMouse=position.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(pixelTotal=this.elementSize.height,pixelMouse=position.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),percentMouse=pixelMouse/pixelTotal,percentMouse>1&&(percentMouse=1),percentMouse<0&&(percentMouse=0),"vertical"===this.orientation&&(percentMouse=1-percentMouse),valueTotal=this._valueMax()-this._valueMin(),valueMouse=this._valueMin()+percentMouse*valueTotal,this._trimAlignValue(valueMouse)},_uiHash:function(index,value,values){var uiHash={handle:this.handles[index],handleIndex:index,value:void 0!==value?value:this.value()};return this._hasMultipleValues()&&(uiHash.value=void 0!==value?value:this.values(index),uiHash.values=values||this.values()),uiHash},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(event,index){return this._trigger("start",event,this._uiHash(index))},_slide:function(event,index,newVal){var allowed,otherVal,currentValue=this.value(),newValues=this.values();this._hasMultipleValues()&&(otherVal=this.values(index?0:1),currentValue=this.values(index),2===this.options.values.length&&this.options.range===!0&&(newVal=0===index?Math.min(otherVal,newVal):Math.max(otherVal,newVal)),newValues[index]=newVal),newVal!==currentValue&&(allowed=this._trigger("slide",event,this._uiHash(index,newVal,newValues)),allowed!==!1&&(this._hasMultipleValues()?this.values(index,newVal):this.value(newVal)))},_stop:function(event,index){this._trigger("stop",event,this._uiHash(index))},_change:function(event,index){this._keySliding||this._mouseSliding||(this._lastChangedValue=index,this._trigger("change",event,this._uiHash(index)))},value:function(newValue){return arguments.length?(this.options.value=this._trimAlignValue(newValue),this._refreshValue(),void this._change(null,0)):this._value()},values:function(index,newValue){var vals,newValues,i;if(arguments.length>1)return this.options.values[index]=this._trimAlignValue(newValue),this._refreshValue(),void this._change(null,index);if(!arguments.length)return this._values();if(!$.isArray(arguments[0]))return this._hasMultipleValues()?this._values(index):this.value();for(vals=this.options.values,newValues=arguments[0],i=0;i<vals.length;i+=1)vals[i]=this._trimAlignValue(newValues[i]),this._change(null,i);this._refreshValue()},_setOption:function(key,value){var i,valsLength=0;switch("range"===key&&this.options.range===!0&&("min"===value?(this.options.value=this._values(0),this.options.values=null):"max"===value&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),$.isArray(this.options.values)&&(valsLength=this.options.values.length),
this._super(key,value),key){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(value),this.handles.css("horizontal"===value?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=valsLength-1;i>=0;i--)this._change(null,i);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(value){this._super(value),this._toggleClass(null,"ui-state-disabled",!!value)},_value:function(){var val=this.options.value;return val=this._trimAlignValue(val)},_values:function(index){var val,vals,i;if(arguments.length)return val=this.options.values[index],val=this._trimAlignValue(val);if(this._hasMultipleValues()){for(vals=this.options.values.slice(),i=0;i<vals.length;i+=1)vals[i]=this._trimAlignValue(vals[i]);return vals}return[]},_trimAlignValue:function(val){if(val<=this._valueMin())return this._valueMin();if(val>=this._valueMax())return this._valueMax();var step=this.options.step>0?this.options.step:1,valModStep=(val-this._valueMin())%step,alignValue=val-valModStep;return 2*Math.abs(valModStep)>=step&&(alignValue+=valModStep>0?step:-step),parseFloat(alignValue.toFixed(5))},_calculateNewMax:function(){var max=this.options.max,min=this._valueMin(),step=this.options.step,aboveMin=Math.round((max-min)/step)*step;max=aboveMin+min,max>this.options.max&&(max-=step),this.max=parseFloat(max.toFixed(this._precision()))},_precision:function(){var precision=this._precisionOf(this.options.step);return null!==this.options.min&&(precision=Math.max(precision,this._precisionOf(this.options.min))),precision},_precisionOf:function(num){var str=num.toString(),decimal=str.indexOf(".");return decimal===-1?0:str.length-decimal-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(orientation){"vertical"===orientation&&this.range.css({width:"",left:""}),"horizontal"===orientation&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var lastValPercent,valPercent,value,valueMin,valueMax,oRange=this.options.range,o=this.options,that=this,animate=!this._animateOff&&o.animate,_set={};this._hasMultipleValues()?this.handles.each(function(i){valPercent=(that.values(i)-that._valueMin())/(that._valueMax()-that._valueMin())*100,_set["horizontal"===that.orientation?"left":"bottom"]=valPercent+"%",$(this).stop(1,1)[animate?"animate":"css"](_set,o.animate),that.options.range===!0&&("horizontal"===that.orientation?(0===i&&that.range.stop(1,1)[animate?"animate":"css"]({left:valPercent+"%"},o.animate),1===i&&that.range[animate?"animate":"css"]({width:valPercent-lastValPercent+"%"},{queue:!1,duration:o.animate})):(0===i&&that.range.stop(1,1)[animate?"animate":"css"]({bottom:valPercent+"%"},o.animate),1===i&&that.range[animate?"animate":"css"]({height:valPercent-lastValPercent+"%"},{queue:!1,duration:o.animate}))),lastValPercent=valPercent}):(value=this.value(),valueMin=this._valueMin(),valueMax=this._valueMax(),valPercent=valueMax!==valueMin?(value-valueMin)/(valueMax-valueMin)*100:0,_set["horizontal"===this.orientation?"left":"bottom"]=valPercent+"%",this.handle.stop(1,1)[animate?"animate":"css"](_set,o.animate),"min"===oRange&&"horizontal"===this.orientation&&this.range.stop(1,1)[animate?"animate":"css"]({width:valPercent+"%"},o.animate),"max"===oRange&&"horizontal"===this.orientation&&this.range.stop(1,1)[animate?"animate":"css"]({width:100-valPercent+"%"},o.animate),"min"===oRange&&"vertical"===this.orientation&&this.range.stop(1,1)[animate?"animate":"css"]({height:valPercent+"%"},o.animate),"max"===oRange&&"vertical"===this.orientation&&this.range.stop(1,1)[animate?"animate":"css"]({height:100-valPercent+"%"},o.animate))},_handleEvents:{keydown:function(event){var allowed,curVal,newVal,step,index=$(event.target).data("ui-slider-handle-index");switch(event.keyCode){case $.ui.keyCode.HOME:case $.ui.keyCode.END:case $.ui.keyCode.PAGE_UP:case $.ui.keyCode.PAGE_DOWN:case $.ui.keyCode.UP:case $.ui.keyCode.RIGHT:case $.ui.keyCode.DOWN:case $.ui.keyCode.LEFT:if(event.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass($(event.target),null,"ui-state-active"),allowed=this._start(event,index),allowed===!1))return}switch(step=this.options.step,curVal=newVal=this._hasMultipleValues()?this.values(index):this.value(),event.keyCode){case $.ui.keyCode.HOME:newVal=this._valueMin();break;case $.ui.keyCode.END:newVal=this._valueMax();break;case $.ui.keyCode.PAGE_UP:newVal=this._trimAlignValue(curVal+(this._valueMax()-this._valueMin())/this.numPages);break;case $.ui.keyCode.PAGE_DOWN:newVal=this._trimAlignValue(curVal-(this._valueMax()-this._valueMin())/this.numPages);break;case $.ui.keyCode.UP:case $.ui.keyCode.RIGHT:if(curVal===this._valueMax())return;newVal=this._trimAlignValue(curVal+step);break;case $.ui.keyCode.DOWN:case $.ui.keyCode.LEFT:if(curVal===this._valueMin())return;newVal=this._trimAlignValue(curVal-step)}this._slide(event,index,newVal)},keyup:function(event){var index=$(event.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(event,index),this._change(event,index),this._removeClass($(event.target),null,"ui-state-active"))}}}),$.widget("ui.sortable",$.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(x,reference,size){return x>=reference&&x<reference+size},_isFloating:function(item){return/left|right/.test(item.css("float"))||/inline|table-cell/.test(item.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(key,value){this._super(key,value),"handle"===key&&this._setHandleClassName()},_setHandleClassName:function(){var that=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),$.each(this.items,function(){that._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var i=this.items.length-1;i>=0;i--)this.items[i].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(event,overrideHandle){var currentItem=null,validHandle=!1,that=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(event),$(event.target).parents().each(function(){if($.data(this,that.widgetName+"-item")===that)return currentItem=$(this),!1}),$.data(event.target,that.widgetName+"-item")===that&&(currentItem=$(event.target)),!!currentItem&&(!(this.options.handle&&!overrideHandle&&($(this.options.handle,currentItem).find("*").addBack().each(function(){this===event.target&&(validHandle=!0)}),!validHandle))&&(this.currentItem=currentItem,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(event,overrideHandle,noActivation){var i,body,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(event),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},$.extend(this.offset,{click:{left:event.pageX-this.offset.left,top:event.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(event),this.originalPageX=event.pageX,this.originalPageY=event.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(body=this.document.find("body"),this.storedCursor=body.css("cursor"),body.css("cursor",o.cursor),this.storedStylesheet=$("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(body)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",event,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!noActivation)for(i=this.containers.length-1;i>=0;i--)this.containers[i]._trigger("activate",event,this._uiHash(this));return $.ui.ddmanager&&($.ui.ddmanager.current=this),$.ui.ddmanager&&!o.dropBehaviour&&$.ui.ddmanager.prepareOffsets(this,event),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(event),!0},_mouseDrag:function(event){var i,item,itemElement,intersection,o=this.options,scrolled=!1;for(this.position=this._generatePosition(event),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-event.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=scrolled=this.scrollParent[0].scrollTop+o.scrollSpeed:event.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=scrolled=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-event.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=scrolled=this.scrollParent[0].scrollLeft+o.scrollSpeed:event.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=scrolled=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(event.pageY-this.document.scrollTop()<o.scrollSensitivity?scrolled=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed):this.window.height()-(event.pageY-this.document.scrollTop())<o.scrollSensitivity&&(scrolled=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)),event.pageX-this.document.scrollLeft()<o.scrollSensitivity?scrolled=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed):this.window.width()-(event.pageX-this.document.scrollLeft())<o.scrollSensitivity&&(scrolled=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed))),scrolled!==!1&&$.ui.ddmanager&&!o.dropBehaviour&&$.ui.ddmanager.prepareOffsets(this,event)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(item=this.items[i],itemElement=item.item[0],intersection=this._intersectsWithPointer(item),intersection&&item.instance===this.currentContainer&&!(itemElement===this.currentItem[0]||this.placeholder[1===intersection?"next":"prev"]()[0]===itemElement||$.contains(this.placeholder[0],itemElement)||"semi-dynamic"===this.options.type&&$.contains(this.element[0],itemElement))){if(this.direction=1===intersection?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(item))break;this._rearrange(event,item),this._trigger("change",event,this._uiHash());break}return this._contactContainers(event),$.ui.ddmanager&&$.ui.ddmanager.drag(this,event),this._trigger("sort",event,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(event,noPropagation){if(event){if($.ui.ddmanager&&!this.options.dropBehaviour&&$.ui.ddmanager.drop(this,event),this.options.revert){var that=this,cur=this.placeholder.offset(),axis=this.options.axis,animation={};axis&&"x"!==axis||(animation.left=cur.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),axis&&"y"!==axis||(animation.top=cur.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,$(this.helper).animate(animation,parseInt(this.options.revert,10)||500,function(){that._clear(event)})}else this._clear(event,noPropagation);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new $.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var i=this.containers.length-1;i>=0;i--)this.containers[i]._trigger("deactivate",null,this._uiHash(this)),this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",null,this._uiHash(this)),this.containers[i].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),$.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?$(this.domPosition.prev).after(this.currentItem):$(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(o){var items=this._getItemsAsjQuery(o&&o.connected),str=[];return o=o||{},$(items).each(function(){var res=($(o.item||this).attr(o.attribute||"id")||"").match(o.expression||/(.+)[\-=_](.+)/);res&&str.push((o.key||res[1]+"[]")+"="+(o.key&&o.expression?res[1]:res[2]))}),!str.length&&o.key&&str.push(o.key+"="),str.join("&")},toArray:function(o){var items=this._getItemsAsjQuery(o&&o.connected),ret=[];return o=o||{},items.each(function(){ret.push($(o.item||this).attr(o.attribute||"id")||"")}),ret},_intersectsWith:function(item){var x1=this.positionAbs.left,x2=x1+this.helperProportions.width,y1=this.positionAbs.top,y2=y1+this.helperProportions.height,l=item.left,r=l+item.width,t=item.top,b=t+item.height,dyClick=this.offset.click.top,dxClick=this.offset.click.left,isOverElementHeight="x"===this.options.axis||y1+dyClick>t&&y1+dyClick<b,isOverElementWidth="y"===this.options.axis||x1+dxClick>l&&x1+dxClick<r,isOverElement=isOverElementHeight&&isOverElementWidth;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>item[this.floating?"width":"height"]?isOverElement:l<x1+this.helperProportions.width/2&&x2-this.helperProportions.width/2<r&&t<y1+this.helperProportions.height/2&&y2-this.helperProportions.height/2<b},_intersectsWithPointer:function(item){var verticalDirection,horizontalDirection,isOverElementHeight="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,item.top,item.height),isOverElementWidth="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,item.left,item.width),isOverElement=isOverElementHeight&&isOverElementWidth;return!!isOverElement&&(verticalDirection=this._getDragVerticalDirection(),horizontalDirection=this._getDragHorizontalDirection(),this.floating?"right"===horizontalDirection||"down"===verticalDirection?2:1:verticalDirection&&("down"===verticalDirection?2:1))},_intersectsWithSides:function(item){var isOverBottomHalf=this._isOverAxis(this.positionAbs.top+this.offset.click.top,item.top+item.height/2,item.height),isOverRightHalf=this._isOverAxis(this.positionAbs.left+this.offset.click.left,item.left+item.width/2,item.width),verticalDirection=this._getDragVerticalDirection(),horizontalDirection=this._getDragHorizontalDirection();return this.floating&&horizontalDirection?"right"===horizontalDirection&&isOverRightHalf||"left"===horizontalDirection&&!isOverRightHalf:verticalDirection&&("down"===verticalDirection&&isOverBottomHalf||"up"===verticalDirection&&!isOverBottomHalf)},_getDragVerticalDirection:function(){var delta=this.positionAbs.top-this.lastPositionAbs.top;return 0!==delta&&(delta>0?"down":"up")},_getDragHorizontalDirection:function(){var delta=this.positionAbs.left-this.lastPositionAbs.left;return 0!==delta&&(delta>0?"right":"left")},refresh:function(event){return this._refreshItems(event),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var options=this.options;return options.connectWith.constructor===String?[options.connectWith]:options.connectWith},_getItemsAsjQuery:function(connected){function addItems(){items.push(this)}var i,j,cur,inst,items=[],queries=[],connectWith=this._connectWith();if(connectWith&&connected)for(i=connectWith.length-1;i>=0;i--)for(cur=$(connectWith[i],this.document[0]),j=cur.length-1;j>=0;j--)inst=$.data(cur[j],this.widgetFullName),inst&&inst!==this&&!inst.options.disabled&&queries.push([$.isFunction(inst.options.items)?inst.options.items.call(inst.element):$(inst.options.items,inst.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),inst]);for(queries.push([$.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):$(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=queries.length-1;i>=0;i--)queries[i][0].each(addItems);return $(items)},_removeCurrentsFromItems:function(){var list=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=$.grep(this.items,function(item){for(var j=0;j<list.length;j++)if(list[j]===item.item[0])return!1;return!0})},_refreshItems:function(event){this.items=[],this.containers=[this];var i,j,cur,inst,targetData,_queries,item,queriesLength,items=this.items,queries=[[$.isFunction(this.options.items)?this.options.items.call(this.element[0],event,{item:this.currentItem}):$(this.options.items,this.element),this]],connectWith=this._connectWith();if(connectWith&&this.ready)for(i=connectWith.length-1;i>=0;i--)for(cur=$(connectWith[i],this.document[0]),j=cur.length-1;j>=0;j--)inst=$.data(cur[j],this.widgetFullName),inst&&inst!==this&&!inst.options.disabled&&(queries.push([$.isFunction(inst.options.items)?inst.options.items.call(inst.element[0],event,{item:this.currentItem}):$(inst.options.items,inst.element),inst]),this.containers.push(inst));for(i=queries.length-1;i>=0;i--)for(targetData=queries[i][1],_queries=queries[i][0],j=0,queriesLength=_queries.length;j<queriesLength;j++)item=$(_queries[j]),item.data(this.widgetName+"-item",targetData),items.push({item:item,instance:targetData,width:0,height:0,left:0,top:0})},refreshPositions:function(fast){this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,item,t,p;for(i=this.items.length-1;i>=0;i--)item=this.items[i],item.instance!==this.currentContainer&&this.currentContainer&&item.item[0]!==this.currentItem[0]||(t=this.options.toleranceElement?$(this.options.toleranceElement,item.item):item.item,fast||(item.width=t.outerWidth(),item.height=t.outerHeight()),p=t.offset(),item.left=p.left,item.top=p.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)p=this.containers[i].element.offset(),this.containers[i].containerCache.left=p.left,this.containers[i].containerCache.top=p.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(that){that=that||this;var className,o=that.options;o.placeholder&&o.placeholder.constructor!==String||(className=o.placeholder,o.placeholder={element:function(){var nodeName=that.currentItem[0].nodeName.toLowerCase(),element=$("<"+nodeName+">",that.document[0]);return that._addClass(element,"ui-sortable-placeholder",className||that.currentItem[0].className)._removeClass(element,"ui-sortable-helper"),"tbody"===nodeName?that._createTrPlaceholder(that.currentItem.find("tr").eq(0),$("<tr>",that.document[0]).appendTo(element)):"tr"===nodeName?that._createTrPlaceholder(that.currentItem,element):"img"===nodeName&&element.attr("src",that.currentItem.attr("src")),className||element.css("visibility","hidden"),element},update:function(container,p){className&&!o.forcePlaceholderSize||(p.height()||p.height(that.currentItem.innerHeight()-parseInt(that.currentItem.css("paddingTop")||0,10)-parseInt(that.currentItem.css("paddingBottom")||0,10)),p.width()||p.width(that.currentItem.innerWidth()-parseInt(that.currentItem.css("paddingLeft")||0,10)-parseInt(that.currentItem.css("paddingRight")||0,10)))}}),that.placeholder=$(o.placeholder.element.call(that.element,that.currentItem)),that.currentItem.after(that.placeholder),o.placeholder.update(that,that.placeholder)},_createTrPlaceholder:function(sourceTr,targetTr){var that=this;sourceTr.children().each(function(){$("<td>&#160;</td>",that.document[0]).attr("colspan",$(this).attr("colspan")||1).appendTo(targetTr)})},_contactContainers:function(event){var i,j,dist,itemWithLeastDistance,posProperty,sizeProperty,cur,nearBottom,floating,axis,innermostContainer=null,innermostIndex=null;for(i=this.containers.length-1;i>=0;i--)if(!$.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(innermostContainer&&$.contains(this.containers[i].element[0],innermostContainer.element[0]))continue;innermostContainer=this.containers[i],innermostIndex=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",event,this._uiHash(this)),this.containers[i].containerCache.over=0);if(innermostContainer)if(1===this.containers.length)this.containers[innermostIndex].containerCache.over||(this.containers[innermostIndex]._trigger("over",event,this._uiHash(this)),this.containers[innermostIndex].containerCache.over=1);else{for(dist=1e4,itemWithLeastDistance=null,floating=innermostContainer.floating||this._isFloating(this.currentItem),posProperty=floating?"left":"top",sizeProperty=floating?"width":"height",axis=floating?"pageX":"pageY",j=this.items.length-1;j>=0;j--)$.contains(this.containers[innermostIndex].element[0],this.items[j].item[0])&&this.items[j].item[0]!==this.currentItem[0]&&(cur=this.items[j].item.offset()[posProperty],nearBottom=!1,event[axis]-cur>this.items[j][sizeProperty]/2&&(nearBottom=!0),Math.abs(event[axis]-cur)<dist&&(dist=Math.abs(event[axis]-cur),itemWithLeastDistance=this.items[j],this.direction=nearBottom?"up":"down"));if(!itemWithLeastDistance&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[innermostIndex])return void(this.currentContainer.containerCache.over||(this.containers[innermostIndex]._trigger("over",event,this._uiHash()),this.currentContainer.containerCache.over=1));itemWithLeastDistance?this._rearrange(event,itemWithLeastDistance,null,!0):this._rearrange(event,null,this.containers[innermostIndex].element,!0),this._trigger("change",event,this._uiHash()),this.containers[innermostIndex]._trigger("change",event,this._uiHash(this)),this.currentContainer=this.containers[innermostIndex],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[innermostIndex]._trigger("over",event,this._uiHash(this)),this.containers[innermostIndex].containerCache.over=1}},_createHelper:function(event){var o=this.options,helper=$.isFunction(o.helper)?$(o.helper.apply(this.element[0],[event,this.currentItem])):"clone"===o.helper?this.currentItem.clone():this.currentItem;return helper.parents("body").length||$("parent"!==o.appendTo?o.appendTo:this.currentItem[0].parentNode)[0].appendChild(helper[0]),helper[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),helper[0].style.width&&!o.forceHelperSize||helper.width(this.currentItem.width()),helper[0].style.height&&!o.forceHelperSize||helper.height(this.currentItem.height()),helper},_adjustOffsetFromHelper:function(obj){"string"==typeof obj&&(obj=obj.split(" ")),$.isArray(obj)&&(obj={left:+obj[0],top:+obj[1]||0}),"left"in obj&&(this.offset.click.left=obj.left+this.margins.left),"right"in obj&&(this.offset.click.left=this.helperProportions.width-obj.right+this.margins.left),"top"in obj&&(this.offset.click.top=obj.top+this.margins.top),"bottom"in obj&&(this.offset.click.top=this.helperProportions.height-obj.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var po=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&$.contains(this.scrollParent[0],this.offsetParent[0])&&(po.left+=this.scrollParent.scrollLeft(),po.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&$.ui.ie)&&(po={top:0,left:0}),{top:po.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:po.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var p=this.currentItem.position();return{top:p.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:p.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var ce,co,over,o=this.options;"parent"===o.containment&&(o.containment=this.helper[0].parentNode),"document"!==o.containment&&"window"!==o.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===o.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===o.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(o.containment)||(ce=$(o.containment)[0],co=$(o.containment).offset(),over="hidden"!==$(ce).css("overflow"),this.containment=[co.left+(parseInt($(ce).css("borderLeftWidth"),10)||0)+(parseInt($(ce).css("paddingLeft"),10)||0)-this.margins.left,co.top+(parseInt($(ce).css("borderTopWidth"),10)||0)+(parseInt($(ce).css("paddingTop"),10)||0)-this.margins.top,co.left+(over?Math.max(ce.scrollWidth,ce.offsetWidth):ce.offsetWidth)-(parseInt($(ce).css("borderLeftWidth"),10)||0)-(parseInt($(ce).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,co.top+(over?Math.max(ce.scrollHeight,ce.offsetHeight):ce.offsetHeight)-(parseInt($(ce).css("borderTopWidth"),10)||0)-(parseInt($(ce).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(d,pos){pos||(pos=this.position);var mod="absolute"===d?1:-1,scroll="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&$.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,scrollIsRootNode=/(html|body)/i.test(scroll[0].tagName);return{top:pos.top+this.offset.relative.top*mod+this.offset.parent.top*mod-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():scrollIsRootNode?0:scroll.scrollTop())*mod,left:pos.left+this.offset.relative.left*mod+this.offset.parent.left*mod-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():scrollIsRootNode?0:scroll.scrollLeft())*mod}},_generatePosition:function(event){var top,left,o=this.options,pageX=event.pageX,pageY=event.pageY,scroll="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&$.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,scrollIsRootNode=/(html|body)/i.test(scroll[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(event.pageX-this.offset.click.left<this.containment[0]&&(pageX=this.containment[0]+this.offset.click.left),event.pageY-this.offset.click.top<this.containment[1]&&(pageY=this.containment[1]+this.offset.click.top),event.pageX-this.offset.click.left>this.containment[2]&&(pageX=this.containment[2]+this.offset.click.left),event.pageY-this.offset.click.top>this.containment[3]&&(pageY=this.containment[3]+this.offset.click.top)),o.grid&&(top=this.originalPageY+Math.round((pageY-this.originalPageY)/o.grid[1])*o.grid[1],pageY=this.containment?top-this.offset.click.top>=this.containment[1]&&top-this.offset.click.top<=this.containment[3]?top:top-this.offset.click.top>=this.containment[1]?top-o.grid[1]:top+o.grid[1]:top,left=this.originalPageX+Math.round((pageX-this.originalPageX)/o.grid[0])*o.grid[0],pageX=this.containment?left-this.offset.click.left>=this.containment[0]&&left-this.offset.click.left<=this.containment[2]?left:left-this.offset.click.left>=this.containment[0]?left-o.grid[0]:left+o.grid[0]:left)),{top:pageY-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():scrollIsRootNode?0:scroll.scrollTop()),left:pageX-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():scrollIsRootNode?0:scroll.scrollLeft())}},_rearrange:function(event,i,a,hardRefresh){a?a[0].appendChild(this.placeholder[0]):i.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?i.item[0]:i.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var counter=this.counter;this._delay(function(){counter===this.counter&&this.refreshPositions(!hardRefresh)})},_clear:function(event,noPropagation){function delayEvent(type,instance,container){return function(event){container._trigger(type,event,instance._uiHash(instance))}}this.reverting=!1;var i,delayedTriggers=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!noPropagation&&delayedTriggers.push(function(event){this._trigger("receive",event,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||noPropagation||delayedTriggers.push(function(event){this._trigger("update",event,this._uiHash())}),this!==this.currentContainer&&(noPropagation||(delayedTriggers.push(function(event){
this._trigger("remove",event,this._uiHash())}),delayedTriggers.push(function(c){return function(event){c._trigger("receive",event,this._uiHash(this))}}.call(this,this.currentContainer)),delayedTriggers.push(function(c){return function(event){c._trigger("update",event,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)noPropagation||delayedTriggers.push(delayEvent("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(delayedTriggers.push(delayEvent("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,noPropagation||this._trigger("beforeStop",event,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!noPropagation){for(i=0;i<delayedTriggers.length;i++)delayedTriggers[i].call(this,event);this._trigger("stop",event,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){$.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(_inst){var inst=_inst||this;return{helper:inst.helper,placeholder:inst.placeholder||$([]),position:inst.position,originalPosition:inst.originalPosition,offset:inst.positionAbs,item:inst.currentItem,sender:_inst?_inst.element:null}}});$.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var options=this._super(),element=this.element;return $.each(["min","max","step"],function(i,option){var value=element.attr(option);null!=value&&value.length&&(options[option]=value)}),options},_events:{keydown:function(event){this._start(event)&&this._keydown(event)&&event.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(event){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",event)))},mousewheel:function(event,delta){if(delta){if(!this.spinning&&!this._start(event))return!1;this._spin((delta>0?1:-1)*this.options.step,event),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(event)},100),event.preventDefault()}},"mousedown .ui-spinner-button":function(event){function checkFocus(){var isActive=this.element[0]===$.ui.safeActiveElement(this.document[0]);isActive||(this.element.trigger("focus"),this.previous=previous,this._delay(function(){this.previous=previous}))}var previous;previous=this.element[0]===$.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),event.preventDefault(),checkFocus.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,checkFocus.call(this)}),this._start(event)!==!1&&this._repeat(null,$(event.currentTarget).hasClass("ui-spinner-up")?1:-1,event)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(event){if($(event.currentTarget).hasClass("ui-state-active"))return this._start(event)!==!1&&void this._repeat(null,$(event.currentTarget).hasClass("ui-spinner-up")?1:-1,event)},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(event){var options=this.options,keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.UP:return this._repeat(null,1,event),!0;case keyCode.DOWN:return this._repeat(null,-1,event),!0;case keyCode.PAGE_UP:return this._repeat(null,options.page,event),!0;case keyCode.PAGE_DOWN:return this._repeat(null,-options.page,event),!0}return!1},_start:function(event){return!(!this.spinning&&this._trigger("start",event)===!1)&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(i,steps,event){i=i||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,steps,event)},i),this._spin(steps*this.options.step,event)},_spin:function(step,event){var value=this.value()||0;this.counter||(this.counter=1),value=this._adjustValue(value+step*this._increment(this.counter)),this.spinning&&this._trigger("spin",event,{value:value})===!1||(this._value(value),this.counter++)},_increment:function(i){var incremental=this.options.incremental;return incremental?$.isFunction(incremental)?incremental(i):Math.floor(i*i*i/5e4-i*i/500+17*i/200+1):1},_precision:function(){var precision=this._precisionOf(this.options.step);return null!==this.options.min&&(precision=Math.max(precision,this._precisionOf(this.options.min))),precision},_precisionOf:function(num){var str=num.toString(),decimal=str.indexOf(".");return decimal===-1?0:str.length-decimal-1},_adjustValue:function(value){var base,aboveMin,options=this.options;return base=null!==options.min?options.min:0,aboveMin=value-base,aboveMin=Math.round(aboveMin/options.step)*options.step,value=base+aboveMin,value=parseFloat(value.toFixed(this._precision())),null!==options.max&&value>options.max?options.max:null!==options.min&&value<options.min?options.min:value},_stop:function(event){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",event))},_setOption:function(key,value){var prevValue,first,last;return"culture"===key||"numberFormat"===key?(prevValue=this._parse(this.element.val()),this.options[key]=value,void this.element.val(this._format(prevValue))):("max"!==key&&"min"!==key&&"step"!==key||"string"==typeof value&&(value=this._parse(value)),"icons"===key&&(first=this.buttons.first().find(".ui-icon"),this._removeClass(first,null,this.options.icons.up),this._addClass(first,null,value.up),last=this.buttons.last().find(".ui-icon"),this._removeClass(last,null,this.options.icons.down),this._addClass(last,null,value.down)),void this._super(key,value))},_setOptionDisabled:function(value){this._super(value),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!value),this.element.prop("disabled",!!value),this.buttons.button(value?"disable":"enable")},_setOptions:spinnerModifer(function(options){this._super(options)}),_parse:function(val){return"string"==typeof val&&""!==val&&(val=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(val,10,this.options.culture):+val),""===val||isNaN(val)?null:val},_format:function(value){return""===value?"":window.Globalize&&this.options.numberFormat?Globalize.format(value,this.options.numberFormat,this.options.culture):value},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var value=this.value();return null!==value&&value===this._adjustValue(value)},_value:function(value,allowAny){var parsed;""!==value&&(parsed=this._parse(value),null!==parsed&&(allowAny||(parsed=this._adjustValue(parsed)),value=this._format(parsed))),this.element.val(value),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:spinnerModifer(function(steps){this._stepUp(steps)}),_stepUp:function(steps){this._start()&&(this._spin((steps||1)*this.options.step),this._stop())},stepDown:spinnerModifer(function(steps){this._stepDown(steps)}),_stepDown:function(steps){this._start()&&(this._spin((steps||1)*-this.options.step),this._stop())},pageUp:spinnerModifer(function(pages){this._stepUp((pages||1)*this.options.page)}),pageDown:spinnerModifer(function(pages){this._stepDown((pages||1)*this.options.page)}),value:function(newVal){return arguments.length?void spinnerModifer(this._value).call(this,newVal):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),$.uiBackCompat!==!1&&$.widget("ui.spinner",$.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}});$.ui.spinner;$.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var rhash=/#.*$/;return function(anchor){var anchorUrl,locationUrl;anchorUrl=anchor.href.replace(rhash,""),locationUrl=location.href.replace(rhash,"");try{anchorUrl=decodeURIComponent(anchorUrl)}catch(error){}try{locationUrl=decodeURIComponent(locationUrl)}catch(error){}return anchor.hash.length>1&&anchorUrl===locationUrl}}(),_create:function(){var that=this,options=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,options.collapsible),this._processTabs(),options.active=this._initialActive(),$.isArray(options.disabled)&&(options.disabled=$.unique(options.disabled.concat($.map(this.tabs.filter(".ui-state-disabled"),function(li){return that.tabs.index(li)}))).sort()),this.options.active!==!1&&this.anchors.length?this.active=this._findActive(options.active):this.active=$(),this._refresh(),this.active.length&&this.load(options.active)},_initialActive:function(){var active=this.options.active,collapsible=this.options.collapsible,locationHash=location.hash.substring(1);return null===active&&(locationHash&&this.tabs.each(function(i,tab){if($(tab).attr("aria-controls")===locationHash)return active=i,!1}),null===active&&(active=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==active&&active!==-1||(active=!!this.tabs.length&&0)),active!==!1&&(active=this.tabs.index(this.tabs.eq(active)),active===-1&&(active=!collapsible&&0)),!collapsible&&active===!1&&this.anchors.length&&(active=0),active},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):$()}},_tabKeydown:function(event){var focusedTab=$($.ui.safeActiveElement(this.document[0])).closest("li"),selectedIndex=this.tabs.index(focusedTab),goingForward=!0;if(!this._handlePageNav(event)){switch(event.keyCode){case $.ui.keyCode.RIGHT:case $.ui.keyCode.DOWN:selectedIndex++;break;case $.ui.keyCode.UP:case $.ui.keyCode.LEFT:goingForward=!1,selectedIndex--;break;case $.ui.keyCode.END:selectedIndex=this.anchors.length-1;break;case $.ui.keyCode.HOME:selectedIndex=0;break;case $.ui.keyCode.SPACE:return event.preventDefault(),clearTimeout(this.activating),void this._activate(selectedIndex);case $.ui.keyCode.ENTER:return event.preventDefault(),clearTimeout(this.activating),void this._activate(selectedIndex!==this.options.active&&selectedIndex);default:return}event.preventDefault(),clearTimeout(this.activating),selectedIndex=this._focusNextTab(selectedIndex,goingForward),event.ctrlKey||event.metaKey||(focusedTab.attr("aria-selected","false"),this.tabs.eq(selectedIndex).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",selectedIndex)},this.delay))}},_panelKeydown:function(event){this._handlePageNav(event)||event.ctrlKey&&event.keyCode===$.ui.keyCode.UP&&(event.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(event){return event.altKey&&event.keyCode===$.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):event.altKey&&event.keyCode===$.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(index,goingForward){function constrain(){return index>lastTabIndex&&(index=0),index<0&&(index=lastTabIndex),index}for(var lastTabIndex=this.tabs.length-1;$.inArray(constrain(),this.options.disabled)!==-1;)index=goingForward?index+1:index-1;return index},_focusNextTab:function(index,goingForward){return index=this._findNextTab(index,goingForward),this.tabs.eq(index).trigger("focus"),index},_setOption:function(key,value){return"active"===key?void this._activate(value):(this._super(key,value),"collapsible"===key&&(this._toggleClass("ui-tabs-collapsible",null,value),value||this.options.active!==!1||this._activate(0)),"event"===key&&this._setupEvents(value),void("heightStyle"===key&&this._setupHeightStyle(value)))},_sanitizeSelector:function(hash){return hash?hash.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var options=this.options,lis=this.tablist.children(":has(a[href])");options.disabled=$.map(lis.filter(".ui-state-disabled"),function(tab){return lis.index(tab)}),this._processTabs(),options.active!==!1&&this.anchors.length?this.active.length&&!$.contains(this.tablist[0],this.active[0])?this.tabs.length===options.disabled.length?(options.active=!1,this.active=$()):this._activate(this._findNextTab(Math.max(0,options.active-1),!1)):options.active=this.tabs.index(this.active):(options.active=!1,this.active=$()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var that=this,prevTabs=this.tabs,prevAnchors=this.anchors,prevPanels=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(event){$(this).is(".ui-state-disabled")&&event.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){$(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return $("a",this)[0]}).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=$(),this.anchors.each(function(i,anchor){var selector,panel,panelId,anchorId=$(anchor).uniqueId().attr("id"),tab=$(anchor).closest("li"),originalAriaControls=tab.attr("aria-controls");that._isLocal(anchor)?(selector=anchor.hash,panelId=selector.substring(1),panel=that.element.find(that._sanitizeSelector(selector))):(panelId=tab.attr("aria-controls")||$({}).uniqueId()[0].id,selector="#"+panelId,panel=that.element.find(selector),panel.length||(panel=that._createPanel(panelId),panel.insertAfter(that.panels[i-1]||that.tablist)),panel.attr("aria-live","polite")),panel.length&&(that.panels=that.panels.add(panel)),originalAriaControls&&tab.data("ui-tabs-aria-controls",originalAriaControls),tab.attr({"aria-controls":panelId,"aria-labelledby":anchorId}),panel.attr("aria-labelledby",anchorId)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),prevTabs&&(this._off(prevTabs.not(this.tabs)),this._off(prevAnchors.not(this.anchors)),this._off(prevPanels.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(id){return $("<div>").attr("id",id).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(disabled){var currentItem,li,i;for($.isArray(disabled)&&(disabled.length?disabled.length===this.anchors.length&&(disabled=!0):disabled=!1),i=0;li=this.tabs[i];i++)currentItem=$(li),disabled===!0||$.inArray(i,disabled)!==-1?(currentItem.attr("aria-disabled","true"),this._addClass(currentItem,null,"ui-state-disabled")):(currentItem.removeAttr("aria-disabled"),this._removeClass(currentItem,null,"ui-state-disabled"));this.options.disabled=disabled,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,disabled===!0)},_setupEvents:function(event){var events={};event&&$.each(event.split(" "),function(index,eventName){events[eventName]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(event){event.preventDefault()}}),this._on(this.anchors,events),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(heightStyle){var maxHeight,parent=this.element.parent();"fill"===heightStyle?(maxHeight=parent.height(),maxHeight-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var elem=$(this),position=elem.css("position");"absolute"!==position&&"fixed"!==position&&(maxHeight-=elem.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){maxHeight-=$(this).outerHeight(!0)}),this.panels.each(function(){$(this).height(Math.max(0,maxHeight-$(this).innerHeight()+$(this).height()))}).css("overflow","auto")):"auto"===heightStyle&&(maxHeight=0,this.panels.each(function(){maxHeight=Math.max(maxHeight,$(this).height("").height())}).height(maxHeight))},_eventHandler:function(event){var options=this.options,active=this.active,anchor=$(event.currentTarget),tab=anchor.closest("li"),clickedIsActive=tab[0]===active[0],collapsing=clickedIsActive&&options.collapsible,toShow=collapsing?$():this._getPanelForTab(tab),toHide=active.length?this._getPanelForTab(active):$(),eventData={oldTab:active,oldPanel:toHide,newTab:collapsing?$():tab,newPanel:toShow};event.preventDefault(),tab.hasClass("ui-state-disabled")||tab.hasClass("ui-tabs-loading")||this.running||clickedIsActive&&!options.collapsible||this._trigger("beforeActivate",event,eventData)===!1||(options.active=!collapsing&&this.tabs.index(tab),this.active=clickedIsActive?$():tab,this.xhr&&this.xhr.abort(),toHide.length||toShow.length||$.error("jQuery UI Tabs: Mismatching fragment identifier."),toShow.length&&this.load(this.tabs.index(tab),event),this._toggle(event,eventData))},_toggle:function(event,eventData){function complete(){that.running=!1,that._trigger("activate",event,eventData)}function show(){that._addClass(eventData.newTab.closest("li"),"ui-tabs-active","ui-state-active"),toShow.length&&that.options.show?that._show(toShow,that.options.show,complete):(toShow.show(),complete())}var that=this,toShow=eventData.newPanel,toHide=eventData.oldPanel;this.running=!0,toHide.length&&this.options.hide?this._hide(toHide,this.options.hide,function(){that._removeClass(eventData.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),show()}):(this._removeClass(eventData.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),toHide.hide(),show()),toHide.attr("aria-hidden","true"),eventData.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),toShow.length&&toHide.length?eventData.oldTab.attr("tabIndex",-1):toShow.length&&this.tabs.filter(function(){return 0===$(this).attr("tabIndex")}).attr("tabIndex",-1),toShow.attr("aria-hidden","false"),eventData.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(index){var anchor,active=this._findActive(index);active[0]!==this.active[0]&&(active.length||(active=this.active),anchor=active.find(".ui-tabs-anchor")[0],this._eventHandler({target:anchor,currentTarget:anchor,preventDefault:$.noop}))},_findActive:function(index){return index===!1?$():this.tabs.eq(index)},_getIndex:function(index){return"string"==typeof index&&(index=this.anchors.index(this.anchors.filter("[href$='"+$.ui.escapeSelector(index)+"']"))),index},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){$.data(this,"ui-tabs-destroy")?$(this).remove():$(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var li=$(this),prev=li.data("ui-tabs-aria-controls");prev?li.attr("aria-controls",prev).removeData("ui-tabs-aria-controls"):li.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(index){var disabled=this.options.disabled;disabled!==!1&&(void 0===index?disabled=!1:(index=this._getIndex(index),disabled=$.isArray(disabled)?$.map(disabled,function(num){return num!==index?num:null}):$.map(this.tabs,function(li,num){return num!==index?num:null})),this._setOptionDisabled(disabled))},disable:function(index){var disabled=this.options.disabled;if(disabled!==!0){if(void 0===index)disabled=!0;else{if(index=this._getIndex(index),$.inArray(index,disabled)!==-1)return;disabled=$.isArray(disabled)?$.merge([index],disabled).sort():[index]}this._setOptionDisabled(disabled)}},load:function(index,event){index=this._getIndex(index);var that=this,tab=this.tabs.eq(index),anchor=tab.find(".ui-tabs-anchor"),panel=this._getPanelForTab(tab),eventData={tab:tab,panel:panel},complete=function(jqXHR,status){"abort"===status&&that.panels.stop(!1,!0),that._removeClass(tab,"ui-tabs-loading"),panel.removeAttr("aria-busy"),jqXHR===that.xhr&&delete that.xhr};this._isLocal(anchor[0])||(this.xhr=$.ajax(this._ajaxSettings(anchor,event,eventData)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(tab,"ui-tabs-loading"),panel.attr("aria-busy","true"),this.xhr.done(function(response,status,jqXHR){setTimeout(function(){panel.html(response),that._trigger("load",event,eventData),complete(jqXHR,status)},1)}).fail(function(jqXHR,status){setTimeout(function(){complete(jqXHR,status)},1)})))},_ajaxSettings:function(anchor,event,eventData){var that=this;return{url:anchor.attr("href").replace(/#.*$/,""),beforeSend:function(jqXHR,settings){return that._trigger("beforeLoad",event,$.extend({jqXHR:jqXHR,ajaxSettings:settings},eventData))}}},_getPanelForTab:function(tab){var id=$(tab).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+id))}}),$.uiBackCompat!==!1&&$.widget("ui.tabs",$.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}});$.ui.tabs;$.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var title=$(this).attr("title")||"";return $("<a>").text(title).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(elem,id){var describedby=(elem.attr("aria-describedby")||"").split(/\s+/);describedby.push(id),elem.data("ui-tooltip-id",id).attr("aria-describedby",$.trim(describedby.join(" ")))},_removeDescribedBy:function(elem){var id=elem.data("ui-tooltip-id"),describedby=(elem.attr("aria-describedby")||"").split(/\s+/),index=$.inArray(id,describedby);index!==-1&&describedby.splice(index,1),elem.removeData("ui-tooltip-id"),describedby=$.trim(describedby.join(" ")),describedby?elem.attr("aria-describedby",describedby):elem.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=$("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=$([])},_setOption:function(key,value){var that=this;this._super(key,value),"content"===key&&$.each(this.tooltips,function(id,tooltipData){that._updateContent(tooltipData.element)})},_setOptionDisabled:function(value){this[value?"_disable":"_enable"]()},_disable:function(){var that=this;$.each(this.tooltips,function(id,tooltipData){var event=$.Event("blur");event.target=event.currentTarget=tooltipData.element[0],that.close(event,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var element=$(this);if(element.is("[title]"))return element.data("ui-tooltip-title",element.attr("title")).removeAttr("title")}))},_enable:function(){this.disabledTitles.each(function(){var element=$(this);element.data("ui-tooltip-title")&&element.attr("title",element.data("ui-tooltip-title"))}),this.disabledTitles=$([])},open:function(event){var that=this,target=$(event?event.target:this.element).closest(this.options.items);target.length&&!target.data("ui-tooltip-id")&&(target.attr("title")&&target.data("ui-tooltip-title",target.attr("title")),target.data("ui-tooltip-open",!0),event&&"mouseover"===event.type&&target.parents().each(function(){var blurEvent,parent=$(this);parent.data("ui-tooltip-open")&&(blurEvent=$.Event("blur"),blurEvent.target=blurEvent.currentTarget=this,that.close(blurEvent,!0)),parent.attr("title")&&(parent.uniqueId(),that.parents[this.id]={element:this,title:parent.attr("title")},parent.attr("title",""))}),this._registerCloseHandlers(event,target),this._updateContent(target,event))},_updateContent:function(target,event){var content,contentOption=this.options.content,that=this,eventType=event?event.type:null;return"string"==typeof contentOption||contentOption.nodeType||contentOption.jquery?this._open(event,target,contentOption):(content=contentOption.call(target[0],function(response){that._delay(function(){target.data("ui-tooltip-open")&&(event&&(event.type=eventType),this._open(event,target,response))})}),void(content&&this._open(event,target,content)))},_open:function(event,target,content){function position(event){positionOption.of=event,tooltip.is(":hidden")||tooltip.position(positionOption)}var tooltipData,tooltip,delayedShow,a11yContent,positionOption=$.extend({},this.options.position);if(content){if(tooltipData=this._find(target))return void tooltipData.tooltip.find(".ui-tooltip-content").html(content);target.is("[title]")&&(event&&"mouseover"===event.type?target.attr("title",""):target.removeAttr("title")),tooltipData=this._tooltip(target),tooltip=tooltipData.tooltip,this._addDescribedBy(target,tooltip.attr("id")),tooltip.find(".ui-tooltip-content").html(content),this.liveRegion.children().hide(),a11yContent=$("<div>").html(tooltip.find(".ui-tooltip-content").html()),a11yContent.removeAttr("name").find("[name]").removeAttr("name"),a11yContent.removeAttr("id").find("[id]").removeAttr("id"),a11yContent.appendTo(this.liveRegion),this.options.track&&event&&/^mouse/.test(event.type)?(this._on(this.document,{mousemove:position}),position(event)):tooltip.position($.extend({of:target},this.options.position)),tooltip.hide(),this._show(tooltip,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(delayedShow=this.delayedShow=setInterval(function(){tooltip.is(":visible")&&(position(positionOption.of),clearInterval(delayedShow))},$.fx.interval)),this._trigger("open",event,{tooltip:tooltip})}},_registerCloseHandlers:function(event,target){var events={keyup:function(event){if(event.keyCode===$.ui.keyCode.ESCAPE){var fakeEvent=$.Event(event);fakeEvent.currentTarget=target[0],this.close(fakeEvent,!0)}}};target[0]!==this.element[0]&&(events.remove=function(){this._removeTooltip(this._find(target).tooltip)}),event&&"mouseover"!==event.type||(events.mouseleave="close"),event&&"focusin"!==event.type||(events.focusout="close"),this._on(!0,target,events)},close:function(event){var tooltip,that=this,target=$(event?event.currentTarget:this.element),tooltipData=this._find(target);return tooltipData?(tooltip=tooltipData.tooltip,void(tooltipData.closing||(clearInterval(this.delayedShow),target.data("ui-tooltip-title")&&!target.attr("title")&&target.attr("title",target.data("ui-tooltip-title")),this._removeDescribedBy(target),tooltipData.hiding=!0,tooltip.stop(!0),this._hide(tooltip,this.options.hide,function(){that._removeTooltip($(this))}),target.removeData("ui-tooltip-open"),this._off(target,"mouseleave focusout keyup"),target[0]!==this.element[0]&&this._off(target,"remove"),this._off(this.document,"mousemove"),event&&"mouseleave"===event.type&&$.each(this.parents,function(id,parent){$(parent.element).attr("title",parent.title),delete that.parents[id]}),tooltipData.closing=!0,this._trigger("close",event,{tooltip:tooltip}),tooltipData.hiding||(tooltipData.closing=!1)))):void target.removeData("ui-tooltip-open")},_tooltip:function(element){var tooltip=$("<div>").attr("role","tooltip"),content=$("<div>").appendTo(tooltip),id=tooltip.uniqueId().attr("id");return this._addClass(content,"ui-tooltip-content"),this._addClass(tooltip,"ui-tooltip","ui-widget ui-widget-content"),tooltip.appendTo(this._appendTo(element)),this.tooltips[id]={element:element,tooltip:tooltip}},_find:function(target){var id=target.data("ui-tooltip-id");return id?this.tooltips[id]:null},_removeTooltip:function(tooltip){tooltip.remove(),delete this.tooltips[tooltip.attr("id")]},_appendTo:function(target){var element=target.closest(".ui-front, dialog");return element.length||(element=this.document[0].body),element},_destroy:function(){var that=this;$.each(this.tooltips,function(id,tooltipData){var event=$.Event("blur"),element=tooltipData.element;event.target=event.currentTarget=element[0],that.close(event,!0),$("#"+id).remove(),element.data("ui-tooltip-title")&&(element.attr("title")||element.attr("title",element.data("ui-tooltip-title")),element.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),$.uiBackCompat!==!1&&$.widget("ui.tooltip",$.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var tooltipData=this._superApply(arguments);return this.options.tooltipClass&&tooltipData.tooltip.addClass(this.options.tooltipClass),tooltipData}});$.ui.tooltip}),function(){function baseCompareAscending(value,other){if(value!==other){var valIsNull=null===value,valIsUndef=value===undefined,valIsReflexive=value===value,othIsNull=null===other,othIsUndef=other===undefined,othIsReflexive=other===other;if(value>other&&!othIsNull||!valIsReflexive||valIsNull&&!othIsUndef&&othIsReflexive||valIsUndef&&othIsReflexive)return 1;if(value<other&&!valIsNull||!othIsReflexive||othIsNull&&!valIsUndef&&valIsReflexive||othIsUndef&&valIsReflexive)return-1}return 0}function baseFindIndex(array,predicate,fromRight){
for(var length=array.length,index=fromRight?length:-1;fromRight?index--:++index<length;)if(predicate(array[index],index,array))return index;return-1}function baseIndexOf(array,value,fromIndex){if(value!==value)return indexOfNaN(array,fromIndex);for(var index=fromIndex-1,length=array.length;++index<length;)if(array[index]===value)return index;return-1}function baseIsFunction(value){return"function"==typeof value||!1}function baseToString(value){return"string"==typeof value?value:null==value?"":value+""}function charsLeftIndex(string,chars){for(var index=-1,length=string.length;++index<length&&chars.indexOf(string.charAt(index))>-1;);return index}function charsRightIndex(string,chars){for(var index=string.length;index--&&chars.indexOf(string.charAt(index))>-1;);return index}function compareAscending(object,other){return baseCompareAscending(object.criteria,other.criteria)||object.index-other.index}function compareMultiple(object,other,orders){for(var index=-1,objCriteria=object.criteria,othCriteria=other.criteria,length=objCriteria.length,ordersLength=orders.length;++index<length;){var result=baseCompareAscending(objCriteria[index],othCriteria[index]);if(result)return index>=ordersLength?result:result*(orders[index]?1:-1)}return object.index-other.index}function deburrLetter(letter){return deburredLetters[letter]}function escapeHtmlChar(chr){return htmlEscapes[chr]}function escapeStringChar(chr){return"\\"+stringEscapes[chr]}function indexOfNaN(array,fromIndex,fromRight){for(var length=array.length,index=fromIndex+(fromRight?0:-1);fromRight?index--:++index<length;){var other=array[index];if(other!==other)return index}return-1}function isObjectLike(value){return!!value&&"object"==typeof value}function isSpace(charCode){return charCode<=160&&charCode>=9&&charCode<=13||32==charCode||160==charCode||5760==charCode||6158==charCode||charCode>=8192&&(charCode<=8202||8232==charCode||8233==charCode||8239==charCode||8287==charCode||12288==charCode||65279==charCode)}function replaceHolders(array,placeholder){for(var index=-1,length=array.length,resIndex=-1,result=[];++index<length;)array[index]===placeholder&&(array[index]=PLACEHOLDER,result[++resIndex]=index);return result}function sortedUniq(array,iteratee){for(var seen,index=-1,length=array.length,resIndex=-1,result=[];++index<length;){var value=array[index],computed=iteratee?iteratee(value,index,array):value;index&&seen===computed||(seen=computed,result[++resIndex]=value)}return result}function trimmedLeftIndex(string){for(var index=-1,length=string.length;++index<length&&isSpace(string.charCodeAt(index)););return index}function trimmedRightIndex(string){for(var index=string.length;index--&&isSpace(string.charCodeAt(index)););return index}function unescapeHtmlChar(chr){return htmlUnescapes[chr]}function runInContext(context){function lodash(value){if(isObjectLike(value)&&!isArray(value)&&!(value instanceof LazyWrapper)){if(value instanceof LodashWrapper)return value;if(hasOwnProperty.call(value,"__chain__")&&hasOwnProperty.call(value,"__wrapped__"))return wrapperClone(value)}return new LodashWrapper(value)}function baseLodash(){}function LodashWrapper(value,chainAll,actions){this.__wrapped__=value,this.__actions__=actions||[],this.__chain__=!!chainAll}function LazyWrapper(value){this.__wrapped__=value,this.__actions__=null,this.__dir__=1,this.__dropCount__=0,this.__filtered__=!1,this.__iteratees__=null,this.__takeCount__=POSITIVE_INFINITY,this.__views__=null}function lazyClone(){var actions=this.__actions__,iteratees=this.__iteratees__,views=this.__views__,result=new LazyWrapper(this.__wrapped__);return result.__actions__=actions?arrayCopy(actions):null,result.__dir__=this.__dir__,result.__filtered__=this.__filtered__,result.__iteratees__=iteratees?arrayCopy(iteratees):null,result.__takeCount__=this.__takeCount__,result.__views__=views?arrayCopy(views):null,result}function lazyReverse(){if(this.__filtered__){var result=new LazyWrapper(this);result.__dir__=-1,result.__filtered__=!0}else result=this.clone(),result.__dir__*=-1;return result}function lazyValue(){var array=this.__wrapped__.value();if(!isArray(array))return baseWrapperValue(array,this.__actions__);var dir=this.__dir__,isRight=dir<0,view=getView(0,array.length,this.__views__),start=view.start,end=view.end,length=end-start,index=isRight?end:start-1,takeCount=nativeMin(length,this.__takeCount__),iteratees=this.__iteratees__,iterLength=iteratees?iteratees.length:0,resIndex=0,result=[];outer:for(;length--&&resIndex<takeCount;){index+=dir;for(var iterIndex=-1,value=array[index];++iterIndex<iterLength;){var data=iteratees[iterIndex],iteratee=data.iteratee,type=data.type;if(type==LAZY_DROP_WHILE_FLAG){if(data.done&&(isRight?index>data.index:index<data.index)&&(data.count=0,data.done=!1),data.index=index,!data.done){var limit=data.limit;if(!(data.done=limit>-1?data.count++>=limit:!iteratee(value)))continue outer}}else{var computed=iteratee(value);if(type==LAZY_MAP_FLAG)value=computed;else if(!computed){if(type==LAZY_FILTER_FLAG)continue outer;break outer}}}result[resIndex++]=value}return result}function MapCache(){this.__data__={}}function mapDelete(key){return this.has(key)&&delete this.__data__[key]}function mapGet(key){return"__proto__"==key?undefined:this.__data__[key]}function mapHas(key){return"__proto__"!=key&&hasOwnProperty.call(this.__data__,key)}function mapSet(key,value){return"__proto__"!=key&&(this.__data__[key]=value),this}function SetCache(values){var length=values?values.length:0;for(this.data={hash:nativeCreate(null),set:new Set};length--;)this.push(values[length])}function cacheIndexOf(cache,value){var data=cache.data,result="string"==typeof value||isObject(value)?data.set.has(value):data.hash[value];return result?0:-1}function cachePush(value){var data=this.data;"string"==typeof value||isObject(value)?data.set.add(value):data.hash[value]=!0}function arrayCopy(source,array){var index=-1,length=source.length;for(array||(array=Array(length));++index<length;)array[index]=source[index];return array}function arrayEach(array,iteratee){for(var index=-1,length=array.length;++index<length&&iteratee(array[index],index,array)!==!1;);return array}function arrayEachRight(array,iteratee){for(var length=array.length;length--&&iteratee(array[length],length,array)!==!1;);return array}function arrayEvery(array,predicate){for(var index=-1,length=array.length;++index<length;)if(!predicate(array[index],index,array))return!1;return!0}function arrayExtremum(array,iteratee,comparator,exValue){for(var index=-1,length=array.length,computed=exValue,result=computed;++index<length;){var value=array[index],current=+iteratee(value);comparator(current,computed)&&(computed=current,result=value)}return result}function arrayFilter(array,predicate){for(var index=-1,length=array.length,resIndex=-1,result=[];++index<length;){var value=array[index];predicate(value,index,array)&&(result[++resIndex]=value)}return result}function arrayMap(array,iteratee){for(var index=-1,length=array.length,result=Array(length);++index<length;)result[index]=iteratee(array[index],index,array);return result}function arrayReduce(array,iteratee,accumulator,initFromArray){var index=-1,length=array.length;for(initFromArray&&length&&(accumulator=array[++index]);++index<length;)accumulator=iteratee(accumulator,array[index],index,array);return accumulator}function arrayReduceRight(array,iteratee,accumulator,initFromArray){var length=array.length;for(initFromArray&&length&&(accumulator=array[--length]);length--;)accumulator=iteratee(accumulator,array[length],length,array);return accumulator}function arraySome(array,predicate){for(var index=-1,length=array.length;++index<length;)if(predicate(array[index],index,array))return!0;return!1}function arraySum(array){for(var length=array.length,result=0;length--;)result+=+array[length]||0;return result}function assignDefaults(objectValue,sourceValue){return objectValue===undefined?sourceValue:objectValue}function assignOwnDefaults(objectValue,sourceValue,key,object){return objectValue!==undefined&&hasOwnProperty.call(object,key)?objectValue:sourceValue}function assignWith(object,source,customizer){for(var index=-1,props=keys(source),length=props.length;++index<length;){var key=props[index],value=object[key],result=customizer(value,source[key],key,object,source);(result===result?result===value:value!==value)&&(value!==undefined||key in object)||(object[key]=result)}return object}function baseAssign(object,source){return null==source?object:baseCopy(source,keys(source),object)}function baseAt(collection,props){for(var index=-1,isNil=null==collection,isArr=!isNil&&isArrayLike(collection),length=isArr?collection.length:0,propsLength=props.length,result=Array(propsLength);++index<propsLength;){var key=props[index];isArr?result[index]=isIndex(key,length)?collection[key]:undefined:result[index]=isNil?undefined:collection[key]}return result}function baseCopy(source,props,object){object||(object={});for(var index=-1,length=props.length;++index<length;){var key=props[index];object[key]=source[key]}return object}function baseCallback(func,thisArg,argCount){var type=typeof func;return"function"==type?thisArg===undefined?func:bindCallback(func,thisArg,argCount):null==func?identity:"object"==type?baseMatches(func):thisArg===undefined?property(func):baseMatchesProperty(func,thisArg)}function baseClone(value,isDeep,customizer,key,object,stackA,stackB){var result;if(customizer&&(result=object?customizer(value,key,object):customizer(value)),result!==undefined)return result;if(!isObject(value))return value;var isArr=isArray(value);if(isArr){if(result=initCloneArray(value),!isDeep)return arrayCopy(value,result)}else{var tag=objToString.call(value),isFunc=tag==funcTag;if(tag!=objectTag&&tag!=argsTag&&(!isFunc||object))return cloneableTags[tag]?initCloneByTag(value,tag,isDeep):object?value:{};if(result=initCloneObject(isFunc?{}:value),!isDeep)return baseAssign(result,value)}stackA||(stackA=[]),stackB||(stackB=[]);for(var length=stackA.length;length--;)if(stackA[length]==value)return stackB[length];return stackA.push(value),stackB.push(result),(isArr?arrayEach:baseForOwn)(value,function(subValue,key){result[key]=baseClone(subValue,isDeep,customizer,key,value,stackA,stackB)}),result}function baseDelay(func,wait,args){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return setTimeout(function(){func.apply(undefined,args)},wait)}function baseDifference(array,values){var length=array?array.length:0,result=[];if(!length)return result;var index=-1,indexOf=getIndexOf(),isCommon=indexOf==baseIndexOf,cache=isCommon&&values.length>=200?createCache(values):null,valuesLength=values.length;cache&&(indexOf=cacheIndexOf,isCommon=!1,values=cache);outer:for(;++index<length;){var value=array[index];if(isCommon&&value===value){for(var valuesIndex=valuesLength;valuesIndex--;)if(values[valuesIndex]===value)continue outer;result.push(value)}else indexOf(values,value,0)<0&&result.push(value)}return result}function baseEvery(collection,predicate){var result=!0;return baseEach(collection,function(value,index,collection){return result=!!predicate(value,index,collection)}),result}function baseExtremum(collection,iteratee,comparator,exValue){var computed=exValue,result=computed;return baseEach(collection,function(value,index,collection){var current=+iteratee(value,index,collection);(comparator(current,computed)||current===exValue&&current===result)&&(computed=current,result=value)}),result}function baseFill(array,value,start,end){var length=array.length;for(start=null==start?0:+start||0,start<0&&(start=-start>length?0:length+start),end=end===undefined||end>length?length:+end||0,end<0&&(end+=length),length=start>end?0:end>>>0,start>>>=0;start<length;)array[start++]=value;return array}function baseFilter(collection,predicate){var result=[];return baseEach(collection,function(value,index,collection){predicate(value,index,collection)&&result.push(value)}),result}function baseFind(collection,predicate,eachFunc,retKey){var result;return eachFunc(collection,function(value,key,collection){if(predicate(value,key,collection))return result=retKey?key:value,!1}),result}function baseFlatten(array,isDeep,isStrict){for(var index=-1,length=array.length,resIndex=-1,result=[];++index<length;){var value=array[index];if(isObjectLike(value)&&isArrayLike(value)&&(isStrict||isArray(value)||isArguments(value))){isDeep&&(value=baseFlatten(value,isDeep,isStrict));for(var valIndex=-1,valLength=value.length;++valIndex<valLength;)result[++resIndex]=value[valIndex]}else isStrict||(result[++resIndex]=value)}return result}function baseForIn(object,iteratee){return baseFor(object,iteratee,keysIn)}function baseForOwn(object,iteratee){return baseFor(object,iteratee,keys)}function baseForOwnRight(object,iteratee){return baseForRight(object,iteratee,keys)}function baseFunctions(object,props){for(var index=-1,length=props.length,resIndex=-1,result=[];++index<length;){var key=props[index];isFunction(object[key])&&(result[++resIndex]=key)}return result}function baseGet(object,path,pathKey){if(null!=object){pathKey!==undefined&&pathKey in toObject(object)&&(path=[pathKey]);for(var index=0,length=path.length;null!=object&&index<length;)object=object[path[index++]];return index&&index==length?object:undefined}}function baseIsEqual(value,other,customizer,isLoose,stackA,stackB){return value===other||(null==value||null==other||!isObject(value)&&!isObjectLike(other)?value!==value&&other!==other:baseIsEqualDeep(value,other,baseIsEqual,customizer,isLoose,stackA,stackB))}function baseIsEqualDeep(object,other,equalFunc,customizer,isLoose,stackA,stackB){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=arrayTag,othTag=arrayTag;objIsArr||(objTag=objToString.call(object),objTag==argsTag?objTag=objectTag:objTag!=objectTag&&(objIsArr=isTypedArray(object))),othIsArr||(othTag=objToString.call(other),othTag==argsTag?othTag=objectTag:othTag!=objectTag&&(othIsArr=isTypedArray(other)));var objIsObj=objTag==objectTag,othIsObj=othTag==objectTag,isSameTag=objTag==othTag;if(isSameTag&&!objIsArr&&!objIsObj)return equalByTag(object,other,objTag);if(!isLoose){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped)return equalFunc(objIsWrapped?object.value():object,othIsWrapped?other.value():other,customizer,isLoose,stackA,stackB)}if(!isSameTag)return!1;stackA||(stackA=[]),stackB||(stackB=[]);for(var length=stackA.length;length--;)if(stackA[length]==object)return stackB[length]==other;stackA.push(object),stackB.push(other);var result=(objIsArr?equalArrays:equalObjects)(object,other,equalFunc,customizer,isLoose,stackA,stackB);return stackA.pop(),stackB.pop(),result}function baseIsMatch(object,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(null==object)return!length;for(object=toObject(object);index--;){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object))return!1}for(;++index<length;){data=matchData[index];var key=data[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(objValue===undefined&&!(key in object))return!1}else{var result=customizer?customizer(objValue,srcValue,key):undefined;if(!(result===undefined?baseIsEqual(srcValue,objValue,customizer,!0):result))return!1}}return!0}function baseMap(collection,iteratee){var index=-1,result=isArrayLike(collection)?Array(collection.length):[];return baseEach(collection,function(value,key,collection){result[++index]=iteratee(value,key,collection)}),result}function baseMatches(source){var matchData=getMatchData(source);if(1==matchData.length&&matchData[0][2]){var key=matchData[0][0],value=matchData[0][1];return function(object){return null!=object&&(object[key]===value&&(value!==undefined||key in toObject(object)))}}return function(object){return baseIsMatch(object,matchData)}}function baseMatchesProperty(path,srcValue){var isArr=isArray(path),isCommon=isKey(path)&&isStrictComparable(srcValue),pathKey=path+"";return path=toPath(path),function(object){if(null==object)return!1;var key=pathKey;if(object=toObject(object),(isArr||!isCommon)&&!(key in object)){if(object=1==path.length?object:baseGet(object,baseSlice(path,0,-1)),null==object)return!1;key=last(path),object=toObject(object)}return object[key]===srcValue?srcValue!==undefined||key in object:baseIsEqual(srcValue,object[key],undefined,!0)}}function baseMerge(object,source,customizer,stackA,stackB){if(!isObject(object))return object;var isSrcArr=isArrayLike(source)&&(isArray(source)||isTypedArray(source)),props=isSrcArr?null:keys(source);return arrayEach(props||source,function(srcValue,key){if(props&&(key=srcValue,srcValue=source[key]),isObjectLike(srcValue))stackA||(stackA=[]),stackB||(stackB=[]),baseMergeDeep(object,source,key,baseMerge,customizer,stackA,stackB);else{var value=object[key],result=customizer?customizer(value,srcValue,key,object,source):undefined,isCommon=result===undefined;isCommon&&(result=srcValue),result===undefined&&(!isSrcArr||key in object)||!isCommon&&(result===result?result===value:value!==value)||(object[key]=result)}}),object}function baseMergeDeep(object,source,key,mergeFunc,customizer,stackA,stackB){for(var length=stackA.length,srcValue=source[key];length--;)if(stackA[length]==srcValue)return void(object[key]=stackB[length]);var value=object[key],result=customizer?customizer(value,srcValue,key,object,source):undefined,isCommon=result===undefined;isCommon&&(result=srcValue,isArrayLike(srcValue)&&(isArray(srcValue)||isTypedArray(srcValue))?result=isArray(value)?value:isArrayLike(value)?arrayCopy(value):[]:isPlainObject(srcValue)||isArguments(srcValue)?result=isArguments(value)?toPlainObject(value):isPlainObject(value)?value:{}:isCommon=!1),stackA.push(srcValue),stackB.push(result),isCommon?object[key]=mergeFunc(result,srcValue,customizer,stackA,stackB):(result===result?result!==value:value===value)&&(object[key]=result)}function baseProperty(key){return function(object){return null==object?undefined:object[key]}}function basePropertyDeep(path){var pathKey=path+"";return path=toPath(path),function(object){return baseGet(object,path,pathKey)}}function basePullAt(array,indexes){for(var length=array?indexes.length:0;length--;){var index=indexes[length];if(index!=previous&&isIndex(index)){var previous=index;splice.call(array,index,1)}}return array}function baseRandom(min,max){return min+floor(nativeRandom()*(max-min+1))}function baseReduce(collection,iteratee,accumulator,initFromCollection,eachFunc){return eachFunc(collection,function(value,index,collection){accumulator=initFromCollection?(initFromCollection=!1,value):iteratee(accumulator,value,index,collection)}),accumulator}function baseSlice(array,start,end){var index=-1,length=array.length;start=null==start?0:+start||0,start<0&&(start=-start>length?0:length+start),end=end===undefined||end>length?length:+end||0,end<0&&(end+=length),length=start>end?0:end-start>>>0,start>>>=0;for(var result=Array(length);++index<length;)result[index]=array[index+start];return result}function baseSome(collection,predicate){var result;return baseEach(collection,function(value,index,collection){return result=predicate(value,index,collection),!result}),!!result}function baseSortBy(array,comparer){var length=array.length;for(array.sort(comparer);length--;)array[length]=array[length].value;return array}function baseSortByOrder(collection,iteratees,orders){var callback=getCallback(),index=-1;iteratees=arrayMap(iteratees,function(iteratee){return callback(iteratee)});var result=baseMap(collection,function(value){var criteria=arrayMap(iteratees,function(iteratee){return iteratee(value)});return{criteria:criteria,index:++index,value:value}});return baseSortBy(result,function(object,other){return compareMultiple(object,other,orders)})}function baseSum(collection,iteratee){var result=0;return baseEach(collection,function(value,index,collection){result+=+iteratee(value,index,collection)||0}),result}function baseUniq(array,iteratee){var index=-1,indexOf=getIndexOf(),length=array.length,isCommon=indexOf==baseIndexOf,isLarge=isCommon&&length>=200,seen=isLarge?createCache():null,result=[];seen?(indexOf=cacheIndexOf,isCommon=!1):(isLarge=!1,seen=iteratee?[]:result);outer:for(;++index<length;){var value=array[index],computed=iteratee?iteratee(value,index,array):value;if(isCommon&&value===value){for(var seenIndex=seen.length;seenIndex--;)if(seen[seenIndex]===computed)continue outer;iteratee&&seen.push(computed),result.push(value)}else indexOf(seen,computed,0)<0&&((iteratee||isLarge)&&seen.push(computed),result.push(value))}return result}function baseValues(object,props){for(var index=-1,length=props.length,result=Array(length);++index<length;)result[index]=object[props[index]];return result}function baseWhile(array,predicate,isDrop,fromRight){for(var length=array.length,index=fromRight?length:-1;(fromRight?index--:++index<length)&&predicate(array[index],index,array););return isDrop?baseSlice(array,fromRight?0:index,fromRight?index+1:length):baseSlice(array,fromRight?index+1:0,fromRight?length:index)}function baseWrapperValue(value,actions){var result=value;result instanceof LazyWrapper&&(result=result.value());for(var index=-1,length=actions.length;++index<length;){var args=[result],action=actions[index];push.apply(args,action.args),result=action.func.apply(action.thisArg,args)}return result}function binaryIndex(array,value,retHighest){var low=0,high=array?array.length:low;if("number"==typeof value&&value===value&&high<=HALF_MAX_ARRAY_LENGTH){for(;low<high;){var mid=low+high>>>1,computed=array[mid];(retHighest?computed<=value:computed<value)&&null!==computed?low=mid+1:high=mid}return high}return binaryIndexBy(array,value,identity,retHighest)}function binaryIndexBy(array,value,iteratee,retHighest){value=iteratee(value);for(var low=0,high=array?array.length:0,valIsNaN=value!==value,valIsNull=null===value,valIsUndef=value===undefined;low<high;){var mid=floor((low+high)/2),computed=iteratee(array[mid]),isDef=computed!==undefined,isReflexive=computed===computed;if(valIsNaN)var setLow=isReflexive||retHighest;else setLow=valIsNull?isReflexive&&isDef&&(retHighest||null!=computed):valIsUndef?isReflexive&&(retHighest||isDef):null!=computed&&(retHighest?computed<=value:computed<value);setLow?low=mid+1:high=mid}return nativeMin(high,MAX_ARRAY_INDEX)}function bindCallback(func,thisArg,argCount){if("function"!=typeof func)return identity;if(thisArg===undefined)return func;switch(argCount){case 1:return function(value){return func.call(thisArg,value)};case 3:return function(value,index,collection){return func.call(thisArg,value,index,collection)};case 4:return function(accumulator,value,index,collection){return func.call(thisArg,accumulator,value,index,collection)};case 5:return function(value,other,key,object,source){return func.call(thisArg,value,other,key,object,source)}}return function(){return func.apply(thisArg,arguments)}}function bufferClone(buffer){return bufferSlice.call(buffer,0)}function composeArgs(args,partials,holders){for(var holdersLength=holders.length,argsIndex=-1,argsLength=nativeMax(args.length-holdersLength,0),leftIndex=-1,leftLength=partials.length,result=Array(argsLength+leftLength);++leftIndex<leftLength;)result[leftIndex]=partials[leftIndex];for(;++argsIndex<holdersLength;)result[holders[argsIndex]]=args[argsIndex];for(;argsLength--;)result[leftIndex++]=args[argsIndex++];return result}function composeArgsRight(args,partials,holders){for(var holdersIndex=-1,holdersLength=holders.length,argsIndex=-1,argsLength=nativeMax(args.length-holdersLength,0),rightIndex=-1,rightLength=partials.length,result=Array(argsLength+rightLength);++argsIndex<argsLength;)result[argsIndex]=args[argsIndex];for(var offset=argsIndex;++rightIndex<rightLength;)result[offset+rightIndex]=partials[rightIndex];for(;++holdersIndex<holdersLength;)result[offset+holders[holdersIndex]]=args[argsIndex++];return result}function createAggregator(setter,initializer){return function(collection,iteratee,thisArg){var result=initializer?initializer():{};if(iteratee=getCallback(iteratee,thisArg,3),isArray(collection))for(var index=-1,length=collection.length;++index<length;){var value=collection[index];setter(result,value,iteratee(value,index,collection),collection)}else baseEach(collection,function(value,key,collection){setter(result,value,iteratee(value,key,collection),collection)});return result}}function createAssigner(assigner){return restParam(function(object,sources){var index=-1,length=null==object?0:sources.length,customizer=length>2?sources[length-2]:undefined,guard=length>2?sources[2]:undefined,thisArg=length>1?sources[length-1]:undefined;for("function"==typeof customizer?(customizer=bindCallback(customizer,thisArg,5),length-=2):(customizer="function"==typeof thisArg?thisArg:undefined,length-=customizer?1:0),guard&&isIterateeCall(sources[0],sources[1],guard)&&(customizer=length<3?undefined:customizer,length=1);++index<length;){var source=sources[index];source&&assigner(object,source,customizer)}return object})}function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){var length=collection?getLength(collection):0;if(!isLength(length))return eachFunc(collection,iteratee);for(var index=fromRight?length:-1,iterable=toObject(collection);(fromRight?index--:++index<length)&&iteratee(iterable[index],index,iterable)!==!1;);return collection}}function createBaseFor(fromRight){return function(object,iteratee,keysFunc){for(var iterable=toObject(object),props=keysFunc(object),length=props.length,index=fromRight?length:-1;fromRight?index--:++index<length;){var key=props[index];if(iteratee(iterable[key],key,iterable)===!1)break}return object}}function createBindWrapper(func,thisArg){function wrapper(){var fn=this&&this!==root&&this instanceof wrapper?Ctor:func;return fn.apply(thisArg,arguments)}var Ctor=createCtorWrapper(func);return wrapper}function createCompounder(callback){return function(string){for(var index=-1,array=words(deburr(string)),length=array.length,result="";++index<length;)result=callback(result,array[index],index);return result}}function createCtorWrapper(Ctor){return function(){var args=arguments;switch(args.length){case 0:return new Ctor;case 1:return new Ctor(args[0]);case 2:return new Ctor(args[0],args[1]);case 3:return new Ctor(args[0],args[1],args[2]);case 4:return new Ctor(args[0],args[1],args[2],args[3]);case 5:return new Ctor(args[0],args[1],args[2],args[3],args[4])}var thisBinding=baseCreate(Ctor.prototype),result=Ctor.apply(thisBinding,args);return isObject(result)?result:thisBinding}}function createCurry(flag){function curryFunc(func,arity,guard){guard&&isIterateeCall(func,arity,guard)&&(arity=null);var result=createWrapper(func,flag,null,null,null,null,null,arity);return result.placeholder=curryFunc.placeholder,result}return curryFunc}function createExtremum(comparator,exValue){return function(collection,iteratee,thisArg){if(thisArg&&isIterateeCall(collection,iteratee,thisArg)&&(iteratee=null),iteratee=getCallback(iteratee,thisArg,3),1==iteratee.length){collection=toIterable(collection);var result=arrayExtremum(collection,iteratee,comparator,exValue);if(!collection.length||result!==exValue)return result}return baseExtremum(collection,iteratee,comparator,exValue)}}function createFind(eachFunc,fromRight){return function(collection,predicate,thisArg){if(predicate=getCallback(predicate,thisArg,3),isArray(collection)){var index=baseFindIndex(collection,predicate,fromRight);return index>-1?collection[index]:undefined}return baseFind(collection,predicate,eachFunc)}}function createFindIndex(fromRight){return function(array,predicate,thisArg){return array&&array.length?(predicate=getCallback(predicate,thisArg,3),baseFindIndex(array,predicate,fromRight)):-1}}function createFindKey(objectFunc){return function(object,predicate,thisArg){return predicate=getCallback(predicate,thisArg,3),baseFind(object,predicate,objectFunc,!0)}}function createFlow(fromRight){return function(){for(var wrapper,length=arguments.length,index=fromRight?length:-1,leftIndex=0,funcs=Array(length);fromRight?index--:++index<length;){var func=funcs[leftIndex++]=arguments[index];if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);!wrapper&&LodashWrapper.prototype.thru&&"wrapper"==getFuncName(func)&&(wrapper=new LodashWrapper([]))}for(index=wrapper?-1:length;++index<length;){func=funcs[index];var funcName=getFuncName(func),data="wrapper"==funcName?getData(func):null;wrapper=data&&isLaziable(data[0])&&data[1]==(ARY_FLAG|CURRY_FLAG|PARTIAL_FLAG|REARG_FLAG)&&!data[4].length&&1==data[9]?wrapper[getFuncName(data[0])].apply(wrapper,data[3]):1==func.length&&isLaziable(func)?wrapper[funcName]():wrapper.thru(func)}return function(){var args=arguments;if(wrapper&&1==args.length&&isArray(args[0]))return wrapper.plant(args[0]).value();for(var index=0,result=length?funcs[index].apply(this,args):args[0];++index<length;)result=funcs[index].call(this,result);return result}}}function createForEach(arrayFunc,eachFunc){return function(collection,iteratee,thisArg){return"function"==typeof iteratee&&thisArg===undefined&&isArray(collection)?arrayFunc(collection,iteratee):eachFunc(collection,bindCallback(iteratee,thisArg,3))}}function createForIn(objectFunc){return function(object,iteratee,thisArg){return"function"==typeof iteratee&&thisArg===undefined||(iteratee=bindCallback(iteratee,thisArg,3)),objectFunc(object,iteratee,keysIn)}}function createForOwn(objectFunc){return function(object,iteratee,thisArg){return"function"==typeof iteratee&&thisArg===undefined||(iteratee=bindCallback(iteratee,thisArg,3)),objectFunc(object,iteratee)}}function createObjectMapper(isMapKeys){return function(object,iteratee,thisArg){var result={};return iteratee=getCallback(iteratee,thisArg,3),baseForOwn(object,function(value,key,object){var mapped=iteratee(value,key,object);key=isMapKeys?mapped:key,value=isMapKeys?value:mapped,result[key]=value}),result}}function createPadDir(fromRight){return function(string,length,chars){return string=baseToString(string),(fromRight?string:"")+createPadding(string,length,chars)+(fromRight?"":string)}}function createPartial(flag){var partialFunc=restParam(function(func,partials){var holders=replaceHolders(partials,partialFunc.placeholder);return createWrapper(func,flag,null,partials,holders)});return partialFunc}function createReduce(arrayFunc,eachFunc){return function(collection,iteratee,accumulator,thisArg){var initFromArray=arguments.length<3;return"function"==typeof iteratee&&thisArg===undefined&&isArray(collection)?arrayFunc(collection,iteratee,accumulator,initFromArray):baseReduce(collection,getCallback(iteratee,thisArg,4),accumulator,initFromArray,eachFunc)}}function createHybridWrapper(func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity){function wrapper(){for(var length=arguments.length,index=length,args=Array(length);index--;)args[index]=arguments[index];if(partials&&(args=composeArgs(args,partials,holders)),partialsRight&&(args=composeArgsRight(args,partialsRight,holdersRight)),isCurry||isCurryRight){var placeholder=wrapper.placeholder,argsHolders=replaceHolders(args,placeholder);if(length-=argsHolders.length,length<arity){var newArgPos=argPos?arrayCopy(argPos):null,newArity=nativeMax(arity-length,0),newsHolders=isCurry?argsHolders:null,newHoldersRight=isCurry?null:argsHolders,newPartials=isCurry?args:null,newPartialsRight=isCurry?null:args;bitmask|=isCurry?PARTIAL_FLAG:PARTIAL_RIGHT_FLAG,bitmask&=~(isCurry?PARTIAL_RIGHT_FLAG:PARTIAL_FLAG),isCurryBound||(bitmask&=~(BIND_FLAG|BIND_KEY_FLAG));var newData=[func,bitmask,thisArg,newPartials,newsHolders,newPartialsRight,newHoldersRight,newArgPos,ary,newArity],result=createHybridWrapper.apply(undefined,newData);return isLaziable(func)&&setData(result,newData),result.placeholder=placeholder,result}}var thisBinding=isBind?thisArg:this,fn=isBindKey?thisBinding[func]:func;return argPos&&(args=reorder(args,argPos)),
isAry&&ary<args.length&&(args.length=ary),this&&this!==root&&this instanceof wrapper&&(fn=Ctor||createCtorWrapper(func)),fn.apply(thisBinding,args)}var isAry=bitmask&ARY_FLAG,isBind=bitmask&BIND_FLAG,isBindKey=bitmask&BIND_KEY_FLAG,isCurry=bitmask&CURRY_FLAG,isCurryBound=bitmask&CURRY_BOUND_FLAG,isCurryRight=bitmask&CURRY_RIGHT_FLAG,Ctor=isBindKey?null:createCtorWrapper(func);return wrapper}function createPadding(string,length,chars){var strLength=string.length;if(length=+length,strLength>=length||!nativeIsFinite(length))return"";var padLength=length-strLength;return chars=null==chars?" ":chars+"",repeat(chars,ceil(padLength/chars.length)).slice(0,padLength)}function createPartialWrapper(func,bitmask,thisArg,partials){function wrapper(){for(var argsIndex=-1,argsLength=arguments.length,leftIndex=-1,leftLength=partials.length,args=Array(argsLength+leftLength);++leftIndex<leftLength;)args[leftIndex]=partials[leftIndex];for(;argsLength--;)args[leftIndex++]=arguments[++argsIndex];var fn=this&&this!==root&&this instanceof wrapper?Ctor:func;return fn.apply(isBind?thisArg:this,args)}var isBind=bitmask&BIND_FLAG,Ctor=createCtorWrapper(func);return wrapper}function createSortedIndex(retHighest){return function(array,value,iteratee,thisArg){var callback=getCallback(iteratee);return null==iteratee&&callback===baseCallback?binaryIndex(array,value,retHighest):binaryIndexBy(array,value,callback(iteratee,thisArg,1),retHighest)}}function createWrapper(func,bitmask,thisArg,partials,holders,argPos,ary,arity){var isBindKey=bitmask&BIND_KEY_FLAG;if(!isBindKey&&"function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);var length=partials?partials.length:0;if(length||(bitmask&=~(PARTIAL_FLAG|PARTIAL_RIGHT_FLAG),partials=holders=null),length-=holders?holders.length:0,bitmask&PARTIAL_RIGHT_FLAG){var partialsRight=partials,holdersRight=holders;partials=holders=null}var data=isBindKey?null:getData(func),newData=[func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity];if(data&&(mergeData(newData,data),bitmask=newData[1],arity=newData[9]),newData[9]=null==arity?isBindKey?0:func.length:nativeMax(arity-length,0)||0,bitmask==BIND_FLAG)var result=createBindWrapper(newData[0],newData[2]);else result=bitmask!=PARTIAL_FLAG&&bitmask!=(BIND_FLAG|PARTIAL_FLAG)||newData[4].length?createHybridWrapper.apply(undefined,newData):createPartialWrapper.apply(undefined,newData);var setter=data?baseSetData:setData;return setter(result,newData)}function equalArrays(array,other,equalFunc,customizer,isLoose,stackA,stackB){var index=-1,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isLoose&&othLength>arrLength))return!1;for(;++index<arrLength;){var arrValue=array[index],othValue=other[index],result=customizer?customizer(isLoose?othValue:arrValue,isLoose?arrValue:othValue,index):undefined;if(result!==undefined){if(result)continue;return!1}if(isLoose){if(!arraySome(other,function(othValue){return arrValue===othValue||equalFunc(arrValue,othValue,customizer,isLoose,stackA,stackB)}))return!1}else if(arrValue!==othValue&&!equalFunc(arrValue,othValue,customizer,isLoose,stackA,stackB))return!1}return!0}function equalByTag(object,other,tag){switch(tag){case boolTag:case dateTag:return+object==+other;case errorTag:return object.name==other.name&&object.message==other.message;case numberTag:return object!=+object?other!=+other:object==+other;case regexpTag:case stringTag:return object==other+""}return!1}function equalObjects(object,other,equalFunc,customizer,isLoose,stackA,stackB){var objProps=keys(object),objLength=objProps.length,othProps=keys(other),othLength=othProps.length;if(objLength!=othLength&&!isLoose)return!1;for(var index=objLength;index--;){var key=objProps[index];if(!(isLoose?key in other:hasOwnProperty.call(other,key)))return!1}for(var skipCtor=isLoose;++index<objLength;){key=objProps[index];var objValue=object[key],othValue=other[key],result=customizer?customizer(isLoose?othValue:objValue,isLoose?objValue:othValue,key):undefined;if(!(result===undefined?equalFunc(objValue,othValue,customizer,isLoose,stackA,stackB):result))return!1;skipCtor||(skipCtor="constructor"==key)}if(!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;if(objCtor!=othCtor&&"constructor"in object&&"constructor"in other&&!("function"==typeof objCtor&&objCtor instanceof objCtor&&"function"==typeof othCtor&&othCtor instanceof othCtor))return!1}return!0}function getCallback(func,thisArg,argCount){var result=lodash.callback||callback;return result=result===callback?baseCallback:result,argCount?result(func,thisArg,argCount):result}function getFuncName(func){for(var result=func.name,array=realNames[result],length=array?array.length:0;length--;){var data=array[length],otherFunc=data.func;if(null==otherFunc||otherFunc==func)return data.name}return result}function getIndexOf(collection,target,fromIndex){var result=lodash.indexOf||indexOf;return result=result===indexOf?baseIndexOf:result,collection?result(collection,target,fromIndex):result}function getMatchData(object){for(var result=pairs(object),length=result.length;length--;)result[length][2]=isStrictComparable(result[length][1]);return result}function getNative(object,key){var value=null==object?undefined:object[key];return isNative(value)?value:undefined}function getView(start,end,transforms){for(var index=-1,length=transforms?transforms.length:0;++index<length;){var data=transforms[index],size=data.size;switch(data.type){case"drop":start+=size;break;case"dropRight":end-=size;break;case"take":end=nativeMin(end,start+size);break;case"takeRight":start=nativeMax(start,end-size)}}return{start:start,end:end}}function initCloneArray(array){var length=array.length,result=new array.constructor(length);return length&&"string"==typeof array[0]&&hasOwnProperty.call(array,"index")&&(result.index=array.index,result.input=array.input),result}function initCloneObject(object){var Ctor=object.constructor;return"function"==typeof Ctor&&Ctor instanceof Ctor||(Ctor=Object),new Ctor}function initCloneByTag(object,tag,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return bufferClone(object);case boolTag:case dateTag:return new Ctor((+object));case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:var buffer=object.buffer;return new Ctor(isDeep?bufferClone(buffer):buffer,object.byteOffset,object.length);case numberTag:case stringTag:return new Ctor(object);case regexpTag:var result=new Ctor(object.source,reFlags.exec(object));result.lastIndex=object.lastIndex}return result}function invokePath(object,path,args){null==object||isKey(path,object)||(path=toPath(path),object=1==path.length?object:baseGet(object,baseSlice(path,0,-1)),path=last(path));var func=null==object?object:object[path];return null==func?undefined:func.apply(object,args)}function isArrayLike(value){return null!=value&&isLength(getLength(value))}function isIndex(value,length){return value="number"==typeof value||reIsUint.test(value)?+value:-1,length=null==length?MAX_SAFE_INTEGER:length,value>-1&&value%1==0&&value<length}function isIterateeCall(value,index,object){if(!isObject(object))return!1;var type=typeof index;if("number"==type?isArrayLike(object)&&isIndex(index,object.length):"string"==type&&index in object){var other=object[index];return value===value?value===other:other!==other}return!1}function isKey(value,object){var type=typeof value;if("string"==type&&reIsPlainProp.test(value)||"number"==type)return!0;if(isArray(value))return!1;var result=!reIsDeepProp.test(value);return result||null!=object&&value in toObject(object)}function isLaziable(func){var funcName=getFuncName(func);if(!(funcName in LazyWrapper.prototype))return!1;var other=lodash[funcName];if(func===other)return!0;var data=getData(other);return!!data&&func===data[0]}function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isStrictComparable(value){return value===value&&!isObject(value)}function mergeData(data,source){var bitmask=data[1],srcBitmask=source[1],newBitmask=bitmask|srcBitmask,isCommon=newBitmask<ARY_FLAG,isCombo=srcBitmask==ARY_FLAG&&bitmask==CURRY_FLAG||srcBitmask==ARY_FLAG&&bitmask==REARG_FLAG&&data[7].length<=source[8]||srcBitmask==(ARY_FLAG|REARG_FLAG)&&bitmask==CURRY_FLAG;if(!isCommon&&!isCombo)return data;srcBitmask&BIND_FLAG&&(data[2]=source[2],newBitmask|=bitmask&BIND_FLAG?0:CURRY_BOUND_FLAG);var value=source[3];if(value){var partials=data[3];data[3]=partials?composeArgs(partials,value,source[4]):arrayCopy(value),data[4]=partials?replaceHolders(data[3],PLACEHOLDER):arrayCopy(source[4])}return value=source[5],value&&(partials=data[5],data[5]=partials?composeArgsRight(partials,value,source[6]):arrayCopy(value),data[6]=partials?replaceHolders(data[5],PLACEHOLDER):arrayCopy(source[6])),value=source[7],value&&(data[7]=arrayCopy(value)),srcBitmask&ARY_FLAG&&(data[8]=null==data[8]?source[8]:nativeMin(data[8],source[8])),null==data[9]&&(data[9]=source[9]),data[0]=source[0],data[1]=newBitmask,data}function pickByArray(object,props){object=toObject(object);for(var index=-1,length=props.length,result={};++index<length;){var key=props[index];key in object&&(result[key]=object[key])}return result}function pickByCallback(object,predicate){var result={};return baseForIn(object,function(value,key,object){predicate(value,key,object)&&(result[key]=value)}),result}function reorder(array,indexes){for(var arrLength=array.length,length=nativeMin(indexes.length,arrLength),oldArray=arrayCopy(array);length--;){var index=indexes[length];array[length]=isIndex(index,arrLength)?oldArray[index]:undefined}return array}function shimIsPlainObject(value){var Ctor;lodash.support;if(!isObjectLike(value)||objToString.call(value)!=objectTag||!hasOwnProperty.call(value,"constructor")&&(Ctor=value.constructor,"function"==typeof Ctor&&!(Ctor instanceof Ctor)))return!1;var result;return baseForIn(value,function(subValue,key){result=key}),result===undefined||hasOwnProperty.call(value,result)}function shimKeys(object){for(var props=keysIn(object),propsLength=props.length,length=propsLength&&object.length,allowIndexes=!!length&&isLength(length)&&(isArray(object)||isArguments(object)),index=-1,result=[];++index<propsLength;){var key=props[index];(allowIndexes&&isIndex(key,length)||hasOwnProperty.call(object,key))&&result.push(key)}return result}function toIterable(value){return null==value?[]:isArrayLike(value)?isObject(value)?value:Object(value):values(value)}function toObject(value){return isObject(value)?value:Object(value)}function toPath(value){if(isArray(value))return value;var result=[];return baseToString(value).replace(rePropName,function(match,number,quote,string){result.push(quote?string.replace(reEscapeChar,"$1"):number||match)}),result}function wrapperClone(wrapper){return wrapper instanceof LazyWrapper?wrapper.clone():new LodashWrapper(wrapper.__wrapped__,wrapper.__chain__,arrayCopy(wrapper.__actions__))}function chunk(array,size,guard){size=(guard?isIterateeCall(array,size,guard):null==size)?1:nativeMax(+size||1,1);for(var index=0,length=array?array.length:0,resIndex=-1,result=Array(ceil(length/size));index<length;)result[++resIndex]=baseSlice(array,index,index+=size);return result}function compact(array){for(var index=-1,length=array?array.length:0,resIndex=-1,result=[];++index<length;){var value=array[index];value&&(result[++resIndex]=value)}return result}function drop(array,n,guard){var length=array?array.length:0;return length?((guard?isIterateeCall(array,n,guard):null==n)&&(n=1),baseSlice(array,n<0?0:n)):[]}function dropRight(array,n,guard){var length=array?array.length:0;return length?((guard?isIterateeCall(array,n,guard):null==n)&&(n=1),n=length-(+n||0),baseSlice(array,0,n<0?0:n)):[]}function dropRightWhile(array,predicate,thisArg){return array&&array.length?baseWhile(array,getCallback(predicate,thisArg,3),!0,!0):[]}function dropWhile(array,predicate,thisArg){return array&&array.length?baseWhile(array,getCallback(predicate,thisArg,3),!0):[]}function fill(array,value,start,end){var length=array?array.length:0;return length?(start&&"number"!=typeof start&&isIterateeCall(array,value,start)&&(start=0,end=length),baseFill(array,value,start,end)):[]}function first(array){return array?array[0]:undefined}function flatten(array,isDeep,guard){var length=array?array.length:0;return guard&&isIterateeCall(array,isDeep,guard)&&(isDeep=!1),length?baseFlatten(array,isDeep):[]}function flattenDeep(array){var length=array?array.length:0;return length?baseFlatten(array,!0):[]}function indexOf(array,value,fromIndex){var length=array?array.length:0;if(!length)return-1;if("number"==typeof fromIndex)fromIndex=fromIndex<0?nativeMax(length+fromIndex,0):fromIndex;else if(fromIndex){var index=binaryIndex(array,value),other=array[index];return(value===value?value===other:other!==other)?index:-1}return baseIndexOf(array,value,fromIndex||0)}function initial(array){return dropRight(array,1)}function last(array){var length=array?array.length:0;return length?array[length-1]:undefined}function lastIndexOf(array,value,fromIndex){var length=array?array.length:0;if(!length)return-1;var index=length;if("number"==typeof fromIndex)index=(fromIndex<0?nativeMax(length+fromIndex,0):nativeMin(fromIndex||0,length-1))+1;else if(fromIndex){index=binaryIndex(array,value,!0)-1;var other=array[index];return(value===value?value===other:other!==other)?index:-1}if(value!==value)return indexOfNaN(array,index,!0);for(;index--;)if(array[index]===value)return index;return-1}function pull(){var args=arguments,array=args[0];if(!array||!array.length)return array;for(var index=0,indexOf=getIndexOf(),length=args.length;++index<length;)for(var fromIndex=0,value=args[index];(fromIndex=indexOf(array,value,fromIndex))>-1;)splice.call(array,fromIndex,1);return array}function remove(array,predicate,thisArg){var result=[];if(!array||!array.length)return result;var index=-1,indexes=[],length=array.length;for(predicate=getCallback(predicate,thisArg,3);++index<length;){var value=array[index];predicate(value,index,array)&&(result.push(value),indexes.push(index))}return basePullAt(array,indexes),result}function rest(array){return drop(array,1)}function slice(array,start,end){var length=array?array.length:0;return length?(end&&"number"!=typeof end&&isIterateeCall(array,start,end)&&(start=0,end=length),baseSlice(array,start,end)):[]}function take(array,n,guard){var length=array?array.length:0;return length?((guard?isIterateeCall(array,n,guard):null==n)&&(n=1),baseSlice(array,0,n<0?0:n)):[]}function takeRight(array,n,guard){var length=array?array.length:0;return length?((guard?isIterateeCall(array,n,guard):null==n)&&(n=1),n=length-(+n||0),baseSlice(array,n<0?0:n)):[]}function takeRightWhile(array,predicate,thisArg){return array&&array.length?baseWhile(array,getCallback(predicate,thisArg,3),!1,!0):[]}function takeWhile(array,predicate,thisArg){return array&&array.length?baseWhile(array,getCallback(predicate,thisArg,3)):[]}function uniq(array,isSorted,iteratee,thisArg){var length=array?array.length:0;if(!length)return[];null!=isSorted&&"boolean"!=typeof isSorted&&(thisArg=iteratee,iteratee=isIterateeCall(array,isSorted,thisArg)?null:isSorted,isSorted=!1);var callback=getCallback();return null==iteratee&&callback===baseCallback||(iteratee=callback(iteratee,thisArg,3)),isSorted&&getIndexOf()==baseIndexOf?sortedUniq(array,iteratee):baseUniq(array,iteratee)}function unzip(array){if(!array||!array.length)return[];var index=-1,length=0;array=arrayFilter(array,function(group){if(isArrayLike(group))return length=nativeMax(group.length,length),!0});for(var result=Array(length);++index<length;)result[index]=arrayMap(array,baseProperty(index));return result}function unzipWith(array,iteratee,thisArg){var length=array?array.length:0;if(!length)return[];var result=unzip(array);return null==iteratee?result:(iteratee=bindCallback(iteratee,thisArg,4),arrayMap(result,function(group){return arrayReduce(group,iteratee,undefined,!0)}))}function xor(){for(var index=-1,length=arguments.length;++index<length;){var array=arguments[index];if(isArrayLike(array))var result=result?baseDifference(result,array).concat(baseDifference(array,result)):array}return result?baseUniq(result):[]}function zipObject(props,values){var index=-1,length=props?props.length:0,result={};for(!length||values||isArray(props[0])||(values=[]);++index<length;){var key=props[index];values?result[key]=values[index]:key&&(result[key[0]]=key[1])}return result}function chain(value){var result=lodash(value);return result.__chain__=!0,result}function tap(value,interceptor,thisArg){return interceptor.call(thisArg,value),value}function thru(value,interceptor,thisArg){return interceptor.call(thisArg,value)}function wrapperChain(){return chain(this)}function wrapperCommit(){return new LodashWrapper(this.value(),this.__chain__)}function wrapperPlant(value){for(var result,parent=this;parent instanceof baseLodash;){var clone=wrapperClone(parent);result?previous.__wrapped__=clone:result=clone;var previous=clone;parent=parent.__wrapped__}return previous.__wrapped__=value,result}function wrapperReverse(){var value=this.__wrapped__;return value instanceof LazyWrapper?(this.__actions__.length&&(value=new LazyWrapper(this)),new LodashWrapper(value.reverse(),this.__chain__)):this.thru(function(value){return value.reverse()})}function wrapperToString(){return this.value()+""}function wrapperValue(){return baseWrapperValue(this.__wrapped__,this.__actions__)}function every(collection,predicate,thisArg){var func=isArray(collection)?arrayEvery:baseEvery;return thisArg&&isIterateeCall(collection,predicate,thisArg)&&(predicate=null),"function"==typeof predicate&&thisArg===undefined||(predicate=getCallback(predicate,thisArg,3)),func(collection,predicate)}function filter(collection,predicate,thisArg){var func=isArray(collection)?arrayFilter:baseFilter;return predicate=getCallback(predicate,thisArg,3),func(collection,predicate)}function findWhere(collection,source){return find(collection,baseMatches(source))}function includes(collection,target,fromIndex,guard){var length=collection?getLength(collection):0;return isLength(length)||(collection=values(collection),length=collection.length),!!length&&(fromIndex="number"!=typeof fromIndex||guard&&isIterateeCall(target,fromIndex,guard)?0:fromIndex<0?nativeMax(length+fromIndex,0):fromIndex||0,"string"==typeof collection||!isArray(collection)&&isString(collection)?fromIndex<length&&collection.indexOf(target,fromIndex)>-1:getIndexOf(collection,target,fromIndex)>-1)}function map(collection,iteratee,thisArg){var func=isArray(collection)?arrayMap:baseMap;return iteratee=getCallback(iteratee,thisArg,3),func(collection,iteratee)}function pluck(collection,path){return map(collection,property(path))}function reject(collection,predicate,thisArg){var func=isArray(collection)?arrayFilter:baseFilter;return predicate=getCallback(predicate,thisArg,3),func(collection,function(value,index,collection){return!predicate(value,index,collection)})}function sample(collection,n,guard){if(guard?isIterateeCall(collection,n,guard):null==n){collection=toIterable(collection);var length=collection.length;return length>0?collection[baseRandom(0,length-1)]:undefined}var index=-1,result=toArray(collection),length=result.length,lastIndex=length-1;for(n=nativeMin(n<0?0:+n||0,length);++index<n;){var rand=baseRandom(index,lastIndex),value=result[rand];result[rand]=result[index],result[index]=value}return result.length=n,result}function shuffle(collection){return sample(collection,POSITIVE_INFINITY)}function size(collection){var length=collection?getLength(collection):0;return isLength(length)?length:keys(collection).length}function some(collection,predicate,thisArg){var func=isArray(collection)?arraySome:baseSome;return thisArg&&isIterateeCall(collection,predicate,thisArg)&&(predicate=null),"function"==typeof predicate&&thisArg===undefined||(predicate=getCallback(predicate,thisArg,3)),func(collection,predicate)}function sortBy(collection,iteratee,thisArg){if(null==collection)return[];thisArg&&isIterateeCall(collection,iteratee,thisArg)&&(iteratee=null);var index=-1;iteratee=getCallback(iteratee,thisArg,3);var result=baseMap(collection,function(value,key,collection){return{criteria:iteratee(value,key,collection),index:++index,value:value}});return baseSortBy(result,compareAscending)}function sortByOrder(collection,iteratees,orders,guard){return null==collection?[]:(guard&&isIterateeCall(iteratees,orders,guard)&&(orders=null),isArray(iteratees)||(iteratees=null==iteratees?[]:[iteratees]),isArray(orders)||(orders=null==orders?[]:[orders]),baseSortByOrder(collection,iteratees,orders))}function where(collection,source){return filter(collection,baseMatches(source))}function after(n,func){if("function"!=typeof func){if("function"!=typeof n)throw new TypeError(FUNC_ERROR_TEXT);var temp=n;n=func,func=temp}return n=nativeIsFinite(n=+n)?n:0,function(){if(--n<1)return func.apply(this,arguments)}}function ary(func,n,guard){return guard&&isIterateeCall(func,n,guard)&&(n=null),n=func&&null==n?func.length:nativeMax(+n||0,0),createWrapper(func,ARY_FLAG,null,null,null,null,n)}function before(n,func){var result;if("function"!=typeof func){if("function"!=typeof n)throw new TypeError(FUNC_ERROR_TEXT);var temp=n;n=func,func=temp}return function(){return--n>0&&(result=func.apply(this,arguments)),n<=1&&(func=null),result}}function debounce(func,wait,options){function cancel(){timeoutId&&clearTimeout(timeoutId),maxTimeoutId&&clearTimeout(maxTimeoutId),maxTimeoutId=timeoutId=trailingCall=undefined}function delayed(){var remaining=wait-(now()-stamp);if(remaining<=0||remaining>wait){maxTimeoutId&&clearTimeout(maxTimeoutId);var isCalled=trailingCall;maxTimeoutId=timeoutId=trailingCall=undefined,isCalled&&(lastCalled=now(),result=func.apply(thisArg,args),timeoutId||maxTimeoutId||(args=thisArg=null))}else timeoutId=setTimeout(delayed,remaining)}function maxDelayed(){timeoutId&&clearTimeout(timeoutId),maxTimeoutId=timeoutId=trailingCall=undefined,(trailing||maxWait!==wait)&&(lastCalled=now(),result=func.apply(thisArg,args),timeoutId||maxTimeoutId||(args=thisArg=null))}function debounced(){if(args=arguments,stamp=now(),thisArg=this,trailingCall=trailing&&(timeoutId||!leading),maxWait===!1)var leadingCall=leading&&!timeoutId;else{maxTimeoutId||leading||(lastCalled=stamp);var remaining=maxWait-(stamp-lastCalled),isCalled=remaining<=0||remaining>maxWait;isCalled?(maxTimeoutId&&(maxTimeoutId=clearTimeout(maxTimeoutId)),lastCalled=stamp,result=func.apply(thisArg,args)):maxTimeoutId||(maxTimeoutId=setTimeout(maxDelayed,remaining))}return isCalled&&timeoutId?timeoutId=clearTimeout(timeoutId):timeoutId||wait===maxWait||(timeoutId=setTimeout(delayed,wait)),leadingCall&&(isCalled=!0,result=func.apply(thisArg,args)),!isCalled||timeoutId||maxTimeoutId||(args=thisArg=null),result}var args,maxTimeoutId,result,stamp,thisArg,timeoutId,trailingCall,lastCalled=0,maxWait=!1,trailing=!0;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);if(wait=wait<0?0:+wait||0,options===!0){var leading=!0;trailing=!1}else isObject(options)&&(leading=options.leading,maxWait="maxWait"in options&&nativeMax(+options.maxWait||0,wait),trailing="trailing"in options?options.trailing:trailing);return debounced.cancel=cancel,debounced}function memoize(func,resolver){if("function"!=typeof func||resolver&&"function"!=typeof resolver)throw new TypeError(FUNC_ERROR_TEXT);var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key))return cache.get(key);var result=func.apply(this,args);return memoized.cache=cache.set(key,result),result};return memoized.cache=new memoize.Cache,memoized}function negate(predicate){if("function"!=typeof predicate)throw new TypeError(FUNC_ERROR_TEXT);return function(){return!predicate.apply(this,arguments)}}function once(func){return before(2,func)}function restParam(func,start){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return start=nativeMax(start===undefined?func.length-1:+start||0,0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),rest=Array(length);++index<length;)rest[index]=args[start+index];switch(start){case 0:return func.call(this,rest);case 1:return func.call(this,args[0],rest);case 2:return func.call(this,args[0],args[1],rest)}var otherArgs=Array(start+1);for(index=-1;++index<start;)otherArgs[index]=args[index];return otherArgs[start]=rest,func.apply(this,otherArgs)}}function spread(func){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return function(array){return func.apply(this,array)}}function throttle(func,wait,options){var leading=!0,trailing=!0;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return options===!1?leading=!1:isObject(options)&&(leading="leading"in options?!!options.leading:leading,trailing="trailing"in options?!!options.trailing:trailing),debounceOptions.leading=leading,debounceOptions.maxWait=+wait,debounceOptions.trailing=trailing,debounce(func,wait,debounceOptions)}function wrap(value,wrapper){return wrapper=null==wrapper?identity:wrapper,createWrapper(wrapper,PARTIAL_FLAG,null,[value],[])}function clone(value,isDeep,customizer,thisArg){return isDeep&&"boolean"!=typeof isDeep&&isIterateeCall(value,isDeep,customizer)?isDeep=!1:"function"==typeof isDeep&&(thisArg=customizer,customizer=isDeep,isDeep=!1),"function"==typeof customizer?baseClone(value,isDeep,bindCallback(customizer,thisArg,1)):baseClone(value,isDeep)}function cloneDeep(value,customizer,thisArg){return"function"==typeof customizer?baseClone(value,!0,bindCallback(customizer,thisArg,1)):baseClone(value,!0)}function gt(value,other){return value>other}function gte(value,other){return value>=other}function isArguments(value){return isObjectLike(value)&&isArrayLike(value)&&objToString.call(value)==argsTag}function isBoolean(value){return value===!0||value===!1||isObjectLike(value)&&objToString.call(value)==boolTag}function isDate(value){return isObjectLike(value)&&objToString.call(value)==dateTag}function isElement(value){return!!value&&1===value.nodeType&&isObjectLike(value)&&objToString.call(value).indexOf("Element")>-1}function isEmpty(value){return null==value||(isArrayLike(value)&&(isArray(value)||isString(value)||isArguments(value)||isObjectLike(value)&&isFunction(value.splice))?!value.length:!keys(value).length)}function isEqual(value,other,customizer,thisArg){customizer="function"==typeof customizer?bindCallback(customizer,thisArg,3):undefined;var result=customizer?customizer(value,other):undefined;return result===undefined?baseIsEqual(value,other,customizer):!!result}function isError(value){return isObjectLike(value)&&"string"==typeof value.message&&objToString.call(value)==errorTag}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}function isMatch(object,source,customizer,thisArg){return customizer="function"==typeof customizer?bindCallback(customizer,thisArg,3):undefined,baseIsMatch(object,getMatchData(source),customizer)}function isNaN(value){return isNumber(value)&&value!=+value}function isNative(value){return null!=value&&(objToString.call(value)==funcTag?reIsNative.test(fnToString.call(value)):isObjectLike(value)&&reIsHostCtor.test(value))}function isNull(value){return null===value}function isNumber(value){return"number"==typeof value||isObjectLike(value)&&objToString.call(value)==numberTag}function isRegExp(value){return isObjectLike(value)&&objToString.call(value)==regexpTag}function isString(value){return"string"==typeof value||isObjectLike(value)&&objToString.call(value)==stringTag}function isTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[objToString.call(value)]}function isUndefined(value){return value===undefined}function lt(value,other){return value<other}function lte(value,other){return value<=other}function toArray(value){var length=value?getLength(value):0;return isLength(length)?length?arrayCopy(value):[]:values(value)}function toPlainObject(value){return baseCopy(value,keysIn(value))}function create(prototype,properties,guard){var result=baseCreate(prototype);return guard&&isIterateeCall(prototype,properties,guard)&&(properties=null),properties?baseAssign(result,properties):result}function functions(object){return baseFunctions(object,keysIn(object))}function get(object,path,defaultValue){var result=null==object?undefined:baseGet(object,toPath(path),path+"");return result===undefined?defaultValue:result}function has(object,path){if(null==object)return!1;var result=hasOwnProperty.call(object,path);if(!result&&!isKey(path)){if(path=toPath(path),object=1==path.length?object:baseGet(object,baseSlice(path,0,-1)),null==object)return!1;path=last(path),result=hasOwnProperty.call(object,path)}return result||isLength(object.length)&&isIndex(path,object.length)&&(isArray(object)||isArguments(object))}function invert(object,multiValue,guard){guard&&isIterateeCall(object,multiValue,guard)&&(multiValue=null);for(var index=-1,props=keys(object),length=props.length,result={};++index<length;){var key=props[index],value=object[key];multiValue?hasOwnProperty.call(result,value)?result[value].push(key):result[value]=[key]:result[value]=key}return result}function keysIn(object){if(null==object)return[];isObject(object)||(object=Object(object));var length=object.length;length=length&&isLength(length)&&(isArray(object)||isArguments(object))&&length||0;for(var Ctor=object.constructor,index=-1,isProto="function"==typeof Ctor&&Ctor.prototype===object,result=Array(length),skipIndexes=length>0;++index<length;)result[index]=index+"";for(var key in object)skipIndexes&&isIndex(key,length)||"constructor"==key&&(isProto||!hasOwnProperty.call(object,key))||result.push(key);return result}function pairs(object){object=toObject(object);for(var index=-1,props=keys(object),length=props.length,result=Array(length);++index<length;){var key=props[index];result[index]=[key,object[key]]}return result}function result(object,path,defaultValue){var result=null==object?undefined:object[path];return result===undefined&&(null==object||isKey(path,object)||(path=toPath(path),object=1==path.length?object:baseGet(object,baseSlice(path,0,-1)),result=null==object?undefined:object[last(path)]),result=result===undefined?defaultValue:result),isFunction(result)?result.call(object):result}function set(object,path,value){if(null==object)return object;var pathKey=path+"";path=null!=object[pathKey]||isKey(path,object)?[pathKey]:toPath(path);for(var index=-1,length=path.length,lastIndex=length-1,nested=object;null!=nested&&++index<length;){var key=path[index];isObject(nested)&&(index==lastIndex?nested[key]=value:null==nested[key]&&(nested[key]=isIndex(path[index+1])?[]:{})),nested=nested[key]}return object}function transform(object,iteratee,accumulator,thisArg){var isArr=isArray(object)||isTypedArray(object);if(iteratee=getCallback(iteratee,thisArg,4),null==accumulator)if(isArr||isObject(object)){var Ctor=object.constructor;accumulator=isArr?isArray(object)?new Ctor:[]:baseCreate(isFunction(Ctor)?Ctor.prototype:null)}else accumulator={};return(isArr?arrayEach:baseForOwn)(object,function(value,index,object){return iteratee(accumulator,value,index,object)}),accumulator}function values(object){return baseValues(object,keys(object))}function valuesIn(object){return baseValues(object,keysIn(object))}function inRange(value,start,end){return start=+start||0,"undefined"==typeof end?(end=start,start=0):end=+end||0,value>=nativeMin(start,end)&&value<nativeMax(start,end)}function random(min,max,floating){floating&&isIterateeCall(min,max,floating)&&(max=floating=null);var noMin=null==min,noMax=null==max;if(null==floating&&(noMax&&"boolean"==typeof min?(floating=min,min=1):"boolean"==typeof max&&(floating=max,noMax=!0)),noMin&&noMax&&(max=1,noMax=!1),min=+min||0,noMax?(max=min,min=0):max=+max||0,floating||min%1||max%1){
var rand=nativeRandom();return nativeMin(min+rand*(max-min+parseFloat("1e-"+((rand+"").length-1))),max)}return baseRandom(min,max)}function capitalize(string){return string=baseToString(string),string&&string.charAt(0).toUpperCase()+string.slice(1)}function deburr(string){return string=baseToString(string),string&&string.replace(reLatin1,deburrLetter).replace(reComboMark,"")}function endsWith(string,target,position){string=baseToString(string),target+="";var length=string.length;return position=position===undefined?length:nativeMin(position<0?0:+position||0,length),position-=target.length,position>=0&&string.indexOf(target,position)==position}function escape(string){return string=baseToString(string),string&&reHasUnescapedHtml.test(string)?string.replace(reUnescapedHtml,escapeHtmlChar):string}function escapeRegExp(string){return string=baseToString(string),string&&reHasRegExpChars.test(string)?string.replace(reRegExpChars,"\\$&"):string}function pad(string,length,chars){string=baseToString(string),length=+length;var strLength=string.length;if(strLength>=length||!nativeIsFinite(length))return string;var mid=(length-strLength)/2,leftLength=floor(mid),rightLength=ceil(mid);return chars=createPadding("",rightLength,chars),chars.slice(0,leftLength)+string+chars}function parseInt(string,radix,guard){return guard&&isIterateeCall(string,radix,guard)&&(radix=0),nativeParseInt(string,radix)}function repeat(string,n){var result="";if(string=baseToString(string),n=+n,n<1||!string||!nativeIsFinite(n))return result;do n%2&&(result+=string),n=floor(n/2),string+=string;while(n);return result}function startsWith(string,target,position){return string=baseToString(string),position=null==position?0:nativeMin(position<0?0:+position||0,string.length),string.lastIndexOf(target,position)==position}function template(string,options,otherOptions){var settings=lodash.templateSettings;otherOptions&&isIterateeCall(string,options,otherOptions)&&(options=otherOptions=null),string=baseToString(string),options=assignWith(baseAssign({},otherOptions||options),settings,assignOwnDefaults);var isEscaping,isEvaluating,imports=assignWith(baseAssign({},options.imports),settings.imports,assignOwnDefaults),importsKeys=keys(imports),importsValues=baseValues(imports,importsKeys),index=0,interpolate=options.interpolate||reNoMatch,source="__p += '",reDelimiters=RegExp((options.escape||reNoMatch).source+"|"+interpolate.source+"|"+(interpolate===reInterpolate?reEsTemplate:reNoMatch).source+"|"+(options.evaluate||reNoMatch).source+"|$","g"),sourceURL="//# sourceURL="+("sourceURL"in options?options.sourceURL:"lodash.templateSources["+ ++templateCounter+"]")+"\n";string.replace(reDelimiters,function(match,escapeValue,interpolateValue,esTemplateValue,evaluateValue,offset){return interpolateValue||(interpolateValue=esTemplateValue),source+=string.slice(index,offset).replace(reUnescapedString,escapeStringChar),escapeValue&&(isEscaping=!0,source+="' +\n__e("+escapeValue+") +\n'"),evaluateValue&&(isEvaluating=!0,source+="';\n"+evaluateValue+";\n__p += '"),interpolateValue&&(source+="' +\n((__t = ("+interpolateValue+")) == null ? '' : __t) +\n'"),index=offset+match.length,match}),source+="';\n";var variable=options.variable;variable||(source="with (obj) {\n"+source+"\n}\n"),source=(isEvaluating?source.replace(reEmptyStringLeading,""):source).replace(reEmptyStringMiddle,"$1").replace(reEmptyStringTrailing,"$1;"),source="function("+(variable||"obj")+") {\n"+(variable?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(isEscaping?", __e = _.escape":"")+(isEvaluating?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+source+"return __p\n}";var result=attempt(function(){return Function(importsKeys,sourceURL+"return "+source).apply(undefined,importsValues)});if(result.source=source,isError(result))throw result;return result}function trim(string,chars,guard){var value=string;return(string=baseToString(string))?(guard?isIterateeCall(value,chars,guard):null==chars)?string.slice(trimmedLeftIndex(string),trimmedRightIndex(string)+1):(chars+="",string.slice(charsLeftIndex(string,chars),charsRightIndex(string,chars)+1)):string}function trimLeft(string,chars,guard){var value=string;return string=baseToString(string),string?(guard?isIterateeCall(value,chars,guard):null==chars)?string.slice(trimmedLeftIndex(string)):string.slice(charsLeftIndex(string,chars+"")):string}function trimRight(string,chars,guard){var value=string;return string=baseToString(string),string?(guard?isIterateeCall(value,chars,guard):null==chars)?string.slice(0,trimmedRightIndex(string)+1):string.slice(0,charsRightIndex(string,chars+"")+1):string}function trunc(string,options,guard){guard&&isIterateeCall(string,options,guard)&&(options=null);var length=DEFAULT_TRUNC_LENGTH,omission=DEFAULT_TRUNC_OMISSION;if(null!=options)if(isObject(options)){var separator="separator"in options?options.separator:separator;length="length"in options?+options.length||0:length,omission="omission"in options?baseToString(options.omission):omission}else length=+options||0;if(string=baseToString(string),length>=string.length)return string;var end=length-omission.length;if(end<1)return omission;var result=string.slice(0,end);if(null==separator)return result+omission;if(isRegExp(separator)){if(string.slice(end).search(separator)){var match,newEnd,substring=string.slice(0,end);for(separator.global||(separator=RegExp(separator.source,(reFlags.exec(separator)||"")+"g")),separator.lastIndex=0;match=separator.exec(substring);)newEnd=match.index;result=result.slice(0,null==newEnd?end:newEnd)}}else if(string.indexOf(separator,end)!=end){var index=result.lastIndexOf(separator);index>-1&&(result=result.slice(0,index))}return result+omission}function unescape(string){return string=baseToString(string),string&&reHasEscapedHtml.test(string)?string.replace(reEscapedHtml,unescapeHtmlChar):string}function words(string,pattern,guard){return guard&&isIterateeCall(string,pattern,guard)&&(pattern=null),string=baseToString(string),string.match(pattern||reWords)||[]}function callback(func,thisArg,guard){return guard&&isIterateeCall(func,thisArg,guard)&&(thisArg=null),isObjectLike(func)?matches(func):baseCallback(func,thisArg)}function constant(value){return function(){return value}}function identity(value){return value}function matches(source){return baseMatches(baseClone(source,!0))}function matchesProperty(path,srcValue){return baseMatchesProperty(path,baseClone(srcValue,!0))}function mixin(object,source,options){if(null==options){var isObj=isObject(source),props=isObj?keys(source):null,methodNames=props&&props.length?baseFunctions(source,props):null;(methodNames?methodNames.length:isObj)||(methodNames=!1,options=source,source=object,object=this)}methodNames||(methodNames=baseFunctions(source,keys(source)));var chain=!0,index=-1,isFunc=isFunction(object),length=methodNames.length;options===!1?chain=!1:isObject(options)&&"chain"in options&&(chain=options.chain);for(;++index<length;){var methodName=methodNames[index],func=source[methodName];object[methodName]=func,isFunc&&(object.prototype[methodName]=function(func){return function(){var chainAll=this.__chain__;if(chain||chainAll){var result=object(this.__wrapped__),actions=result.__actions__=arrayCopy(this.__actions__);return actions.push({func:func,args:arguments,thisArg:object}),result.__chain__=chainAll,result}var args=[this.value()];return push.apply(args,arguments),func.apply(object,args)}}(func))}return object}function noConflict(){return context._=oldDash,this}function noop(){}function property(path){return isKey(path)?baseProperty(path):basePropertyDeep(path)}function propertyOf(object){return function(path){return baseGet(object,toPath(path),path+"")}}function range(start,end,step){step&&isIterateeCall(start,end,step)&&(end=step=null),start=+start||0,step=null==step?1:+step||0,null==end?(end=start,start=0):end=+end||0;for(var index=-1,length=nativeMax(ceil((end-start)/(step||1)),0),result=Array(length);++index<length;)result[index]=start,start+=step;return result}function times(n,iteratee,thisArg){if(n=floor(n),n<1||!nativeIsFinite(n))return[];var index=-1,result=Array(nativeMin(n,MAX_ARRAY_LENGTH));for(iteratee=bindCallback(iteratee,thisArg,1);++index<n;)index<MAX_ARRAY_LENGTH?result[index]=iteratee(index):iteratee(index);return result}function uniqueId(prefix){var id=++idCounter;return baseToString(prefix)+id}function add(augend,addend){return(+augend||0)+(+addend||0)}function sum(collection,iteratee,thisArg){thisArg&&isIterateeCall(collection,iteratee,thisArg)&&(iteratee=null);var callback=getCallback(),noIteratee=null==iteratee;return noIteratee&&callback===baseCallback||(noIteratee=!1,iteratee=callback(iteratee,thisArg,3)),noIteratee?arraySum(isArray(collection)?collection:toIterable(collection)):baseSum(collection,iteratee)}context=context?_.defaults(root.Object(),context,_.pick(root,contextProps)):root;var Array=context.Array,Date=context.Date,Error=context.Error,Function=context.Function,Math=context.Math,Number=context.Number,Object=context.Object,RegExp=context.RegExp,String=context.String,TypeError=context.TypeError,arrayProto=Array.prototype,objectProto=Object.prototype,stringProto=String.prototype,document=(document=context.window)?document.document:null,fnToString=Function.prototype.toString,hasOwnProperty=objectProto.hasOwnProperty,idCounter=0,objToString=objectProto.toString,oldDash=context._,reIsNative=RegExp("^"+escapeRegExp(fnToString.call(hasOwnProperty)).replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ArrayBuffer=getNative(context,"ArrayBuffer"),bufferSlice=getNative(ArrayBuffer&&new ArrayBuffer(0),"slice"),ceil=Math.ceil,clearTimeout=context.clearTimeout,floor=Math.floor,getPrototypeOf=getNative(Object,"getPrototypeOf"),parseFloat=context.parseFloat,push=arrayProto.push,Set=getNative(context,"Set"),setTimeout=context.setTimeout,splice=arrayProto.splice,Uint8Array=getNative(context,"Uint8Array"),WeakMap=getNative(context,"WeakMap"),Float64Array=function(){try{var func=getNative(context,"Float64Array"),result=new func(new ArrayBuffer(10),0,1)&&func}catch(e){}return result||null}(),nativeCreate=getNative(Object,"create"),nativeIsArray=getNative(Array,"isArray"),nativeIsFinite=context.isFinite,nativeKeys=getNative(Object,"keys"),nativeMax=Math.max,nativeMin=Math.min,nativeNow=getNative(Date,"now"),nativeNumIsFinite=getNative(Number,"isFinite"),nativeParseInt=context.parseInt,nativeRandom=Math.random,NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,POSITIVE_INFINITY=Number.POSITIVE_INFINITY,MAX_ARRAY_LENGTH=4294967295,MAX_ARRAY_INDEX=MAX_ARRAY_LENGTH-1,HALF_MAX_ARRAY_LENGTH=MAX_ARRAY_LENGTH>>>1,FLOAT64_BYTES_PER_ELEMENT=Float64Array?Float64Array.BYTES_PER_ELEMENT:0,MAX_SAFE_INTEGER=9007199254740991,metaMap=WeakMap&&new WeakMap,realNames={},support=lodash.support={};!function(x){var Ctor=function(){this.x=x},props=[];Ctor.prototype={valueOf:x,y:x};for(var key in new Ctor)props.push(key);try{support.dom=11===document.createDocumentFragment().nodeType}catch(e){support.dom=!1}}(1,0),lodash.templateSettings={escape:reEscape,evaluate:reEvaluate,interpolate:reInterpolate,variable:"",imports:{_:lodash}};var baseCreate=function(){function object(){}return function(prototype){if(isObject(prototype)){object.prototype=prototype;var result=new object;object.prototype=null}return result||{}}}(),baseEach=createBaseEach(baseForOwn),baseEachRight=createBaseEach(baseForOwnRight,!0),baseFor=createBaseFor(),baseForRight=createBaseFor(!0),baseSetData=metaMap?function(func,data){return metaMap.set(func,data),func}:identity;bufferSlice||(bufferClone=ArrayBuffer&&Uint8Array?function(buffer){var byteLength=buffer.byteLength,floatLength=Float64Array?floor(byteLength/FLOAT64_BYTES_PER_ELEMENT):0,offset=floatLength*FLOAT64_BYTES_PER_ELEMENT,result=new ArrayBuffer(byteLength);if(floatLength){var view=new Float64Array(result,0,floatLength);view.set(new Float64Array(buffer,0,floatLength))}return byteLength!=offset&&(view=new Uint8Array(result,offset),view.set(new Uint8Array(buffer,offset))),result}:constant(null));var createCache=nativeCreate&&Set?function(values){return new SetCache(values)}:constant(null),getData=metaMap?function(func){return metaMap.get(func)}:noop,getLength=baseProperty("length"),setData=function(){var count=0,lastCalled=0;return function(key,value){var stamp=now(),remaining=HOT_SPAN-(stamp-lastCalled);if(lastCalled=stamp,remaining>0){if(++count>=HOT_COUNT)return key}else count=0;return baseSetData(key,value)}}(),difference=restParam(function(array,values){return isArrayLike(array)?baseDifference(array,baseFlatten(values,!1,!0)):[]}),findIndex=createFindIndex(),findLastIndex=createFindIndex(!0),intersection=restParam(function(arrays){for(var othLength=arrays.length,othIndex=othLength,caches=Array(length),indexOf=getIndexOf(),isCommon=indexOf==baseIndexOf,result=[];othIndex--;){var value=arrays[othIndex]=isArrayLike(value=arrays[othIndex])?value:[];caches[othIndex]=isCommon&&value.length>=120?createCache(othIndex&&value):null}var array=arrays[0],index=-1,length=array?array.length:0,seen=caches[0];outer:for(;++index<length;)if(value=array[index],(seen?cacheIndexOf(seen,value):indexOf(result,value,0))<0){for(var othIndex=othLength;--othIndex;){var cache=caches[othIndex];if((cache?cacheIndexOf(cache,value):indexOf(arrays[othIndex],value,0))<0)continue outer}seen&&seen.push(value),result.push(value)}return result}),pullAt=restParam(function(array,indexes){indexes=baseFlatten(indexes);var result=baseAt(array,indexes);return basePullAt(array,indexes.sort(baseCompareAscending)),result}),sortedIndex=createSortedIndex(),sortedLastIndex=createSortedIndex(!0),union=restParam(function(arrays){return baseUniq(baseFlatten(arrays,!1,!0))}),without=restParam(function(array,values){return isArrayLike(array)?baseDifference(array,values):[]}),zip=restParam(unzip),zipWith=restParam(function(arrays){var length=arrays.length,iteratee=length>2?arrays[length-2]:undefined,thisArg=length>1?arrays[length-1]:undefined;return length>2&&"function"==typeof iteratee?length-=2:(iteratee=length>1&&"function"==typeof thisArg?(--length,thisArg):undefined,thisArg=undefined),arrays.length=length,unzipWith(arrays,iteratee,thisArg)}),at=restParam(function(collection,props){return baseAt(collection,baseFlatten(props))}),countBy=createAggregator(function(result,value,key){hasOwnProperty.call(result,key)?++result[key]:result[key]=1}),find=createFind(baseEach),findLast=createFind(baseEachRight,!0),forEach=createForEach(arrayEach,baseEach),forEachRight=createForEach(arrayEachRight,baseEachRight),groupBy=createAggregator(function(result,value,key){hasOwnProperty.call(result,key)?result[key].push(value):result[key]=[value]}),indexBy=createAggregator(function(result,value,key){result[key]=value}),invoke=restParam(function(collection,path,args){var index=-1,isFunc="function"==typeof path,isProp=isKey(path),result=isArrayLike(collection)?Array(collection.length):[];return baseEach(collection,function(value){var func=isFunc?path:isProp&&null!=value?value[path]:null;result[++index]=func?func.apply(value,args):invokePath(value,path,args)}),result}),partition=createAggregator(function(result,value,key){result[key?0:1].push(value)},function(){return[[],[]]}),reduce=createReduce(arrayReduce,baseEach),reduceRight=createReduce(arrayReduceRight,baseEachRight),sortByAll=restParam(function(collection,iteratees){if(null==collection)return[];var guard=iteratees[2];return guard&&isIterateeCall(iteratees[0],iteratees[1],guard)&&(iteratees.length=1),baseSortByOrder(collection,baseFlatten(iteratees),[])}),now=nativeNow||function(){return(new Date).getTime()},bind=restParam(function(func,thisArg,partials){var bitmask=BIND_FLAG;if(partials.length){var holders=replaceHolders(partials,bind.placeholder);bitmask|=PARTIAL_FLAG}return createWrapper(func,bitmask,thisArg,partials,holders)}),bindAll=restParam(function(object,methodNames){methodNames=methodNames.length?baseFlatten(methodNames):functions(object);for(var index=-1,length=methodNames.length;++index<length;){var key=methodNames[index];object[key]=createWrapper(object[key],BIND_FLAG,object)}return object}),bindKey=restParam(function(object,key,partials){var bitmask=BIND_FLAG|BIND_KEY_FLAG;if(partials.length){var holders=replaceHolders(partials,bindKey.placeholder);bitmask|=PARTIAL_FLAG}return createWrapper(key,bitmask,object,partials,holders)}),curry=createCurry(CURRY_FLAG),curryRight=createCurry(CURRY_RIGHT_FLAG),defer=restParam(function(func,args){return baseDelay(func,1,args)}),delay=restParam(function(func,wait,args){return baseDelay(func,wait,args)}),flow=createFlow(),flowRight=createFlow(!0),partial=createPartial(PARTIAL_FLAG),partialRight=createPartial(PARTIAL_RIGHT_FLAG),rearg=restParam(function(func,indexes){return createWrapper(func,REARG_FLAG,null,null,null,baseFlatten(indexes))}),isArray=nativeIsArray||function(value){return isObjectLike(value)&&isLength(value.length)&&objToString.call(value)==arrayTag};support.dom||(isElement=function(value){return!!value&&1===value.nodeType&&isObjectLike(value)&&!isPlainObject(value)});var isFinite=nativeNumIsFinite||function(value){return"number"==typeof value&&nativeIsFinite(value)},isFunction=baseIsFunction(/x/)||Uint8Array&&!baseIsFunction(Uint8Array)?function(value){return objToString.call(value)==funcTag}:baseIsFunction,isPlainObject=getPrototypeOf?function(value){if(!value||objToString.call(value)!=objectTag)return!1;var valueOf=getNative(value,"valueOf"),objProto=valueOf&&(objProto=getPrototypeOf(valueOf))&&getPrototypeOf(objProto);return objProto?value==objProto||getPrototypeOf(value)==objProto:shimIsPlainObject(value)}:shimIsPlainObject,assign=createAssigner(function(object,source,customizer){return customizer?assignWith(object,source,customizer):baseAssign(object,source)}),defaults=restParam(function(args){var object=args[0];return null==object?object:(args.push(assignDefaults),assign.apply(undefined,args))}),findKey=createFindKey(baseForOwn),findLastKey=createFindKey(baseForOwnRight),forIn=createForIn(baseFor),forInRight=createForIn(baseForRight),forOwn=createForOwn(baseForOwn),forOwnRight=createForOwn(baseForOwnRight),keys=nativeKeys?function(object){var Ctor=null==object?null:object.constructor;return"function"==typeof Ctor&&Ctor.prototype===object||"function"!=typeof object&&isArrayLike(object)?shimKeys(object):isObject(object)?nativeKeys(object):[]}:shimKeys,mapKeys=createObjectMapper(!0),mapValues=createObjectMapper(),merge=createAssigner(baseMerge),omit=restParam(function(object,props){if(null==object)return{};if("function"!=typeof props[0]){var props=arrayMap(baseFlatten(props),String);return pickByArray(object,baseDifference(keysIn(object),props))}var predicate=bindCallback(props[0],props[1],3);return pickByCallback(object,function(value,key,object){return!predicate(value,key,object)})}),pick=restParam(function(object,props){return null==object?{}:"function"==typeof props[0]?pickByCallback(object,bindCallback(props[0],props[1],3)):pickByArray(object,baseFlatten(props))}),camelCase=createCompounder(function(result,word,index){return word=word.toLowerCase(),result+(index?word.charAt(0).toUpperCase()+word.slice(1):word)}),kebabCase=createCompounder(function(result,word,index){return result+(index?"-":"")+word.toLowerCase()}),padLeft=createPadDir(),padRight=createPadDir(!0);8!=nativeParseInt(whitespace+"08")&&(parseInt=function(string,radix,guard){return(guard?isIterateeCall(string,radix,guard):null==radix)?radix=0:radix&&(radix=+radix),string=trim(string),nativeParseInt(string,radix||(reHasHexPrefix.test(string)?16:10))});var snakeCase=createCompounder(function(result,word,index){return result+(index?"_":"")+word.toLowerCase()}),startCase=createCompounder(function(result,word,index){return result+(index?" ":"")+(word.charAt(0).toUpperCase()+word.slice(1))}),attempt=restParam(function(func,args){try{return func.apply(undefined,args)}catch(e){return isError(e)?e:new Error(e)}}),method=restParam(function(path,args){return function(object){return invokePath(object,path,args)}}),methodOf=restParam(function(object,args){return function(path){return invokePath(object,path,args)}}),max=createExtremum(gt,NEGATIVE_INFINITY),min=createExtremum(lt,POSITIVE_INFINITY);return lodash.prototype=baseLodash.prototype,LodashWrapper.prototype=baseCreate(baseLodash.prototype),LodashWrapper.prototype.constructor=LodashWrapper,LazyWrapper.prototype=baseCreate(baseLodash.prototype),LazyWrapper.prototype.constructor=LazyWrapper,MapCache.prototype["delete"]=mapDelete,MapCache.prototype.get=mapGet,MapCache.prototype.has=mapHas,MapCache.prototype.set=mapSet,SetCache.prototype.push=cachePush,memoize.Cache=MapCache,lodash.after=after,lodash.ary=ary,lodash.assign=assign,lodash.at=at,lodash.before=before,lodash.bind=bind,lodash.bindAll=bindAll,lodash.bindKey=bindKey,lodash.callback=callback,lodash.chain=chain,lodash.chunk=chunk,lodash.compact=compact,lodash.constant=constant,lodash.countBy=countBy,lodash.create=create,lodash.curry=curry,lodash.curryRight=curryRight,lodash.debounce=debounce,lodash.defaults=defaults,lodash.defer=defer,lodash.delay=delay,lodash.difference=difference,lodash.drop=drop,lodash.dropRight=dropRight,lodash.dropRightWhile=dropRightWhile,lodash.dropWhile=dropWhile,lodash.fill=fill,lodash.filter=filter,lodash.flatten=flatten,lodash.flattenDeep=flattenDeep,lodash.flow=flow,lodash.flowRight=flowRight,lodash.forEach=forEach,lodash.forEachRight=forEachRight,lodash.forIn=forIn,lodash.forInRight=forInRight,lodash.forOwn=forOwn,lodash.forOwnRight=forOwnRight,lodash.functions=functions,lodash.groupBy=groupBy,lodash.indexBy=indexBy,lodash.initial=initial,lodash.intersection=intersection,lodash.invert=invert,lodash.invoke=invoke,lodash.keys=keys,lodash.keysIn=keysIn,lodash.map=map,lodash.mapKeys=mapKeys,lodash.mapValues=mapValues,lodash.matches=matches,lodash.matchesProperty=matchesProperty,lodash.memoize=memoize,lodash.merge=merge,lodash.method=method,lodash.methodOf=methodOf,lodash.mixin=mixin,lodash.negate=negate,lodash.omit=omit,lodash.once=once,lodash.pairs=pairs,lodash.partial=partial,lodash.partialRight=partialRight,lodash.partition=partition,lodash.pick=pick,lodash.pluck=pluck,lodash.property=property,lodash.propertyOf=propertyOf,lodash.pull=pull,lodash.pullAt=pullAt,lodash.range=range,lodash.rearg=rearg,lodash.reject=reject,lodash.remove=remove,lodash.rest=rest,lodash.restParam=restParam,lodash.set=set,lodash.shuffle=shuffle,lodash.slice=slice,lodash.sortBy=sortBy,lodash.sortByAll=sortByAll,lodash.sortByOrder=sortByOrder,lodash.spread=spread,lodash.take=take,lodash.takeRight=takeRight,lodash.takeRightWhile=takeRightWhile,lodash.takeWhile=takeWhile,lodash.tap=tap,lodash.throttle=throttle,lodash.thru=thru,lodash.times=times,lodash.toArray=toArray,lodash.toPlainObject=toPlainObject,lodash.transform=transform,lodash.union=union,lodash.uniq=uniq,lodash.unzip=unzip,lodash.unzipWith=unzipWith,lodash.values=values,lodash.valuesIn=valuesIn,lodash.where=where,lodash.without=without,lodash.wrap=wrap,lodash.xor=xor,lodash.zip=zip,lodash.zipObject=zipObject,lodash.zipWith=zipWith,lodash.backflow=flowRight,lodash.collect=map,lodash.compose=flowRight,lodash.each=forEach,lodash.eachRight=forEachRight,lodash.extend=assign,lodash.iteratee=callback,lodash.methods=functions,lodash.object=zipObject,lodash.select=filter,lodash.tail=rest,lodash.unique=uniq,mixin(lodash,lodash),lodash.add=add,lodash.attempt=attempt,lodash.camelCase=camelCase,lodash.capitalize=capitalize,lodash.clone=clone,lodash.cloneDeep=cloneDeep,lodash.deburr=deburr,lodash.endsWith=endsWith,lodash.escape=escape,lodash.escapeRegExp=escapeRegExp,lodash.every=every,lodash.find=find,lodash.findIndex=findIndex,lodash.findKey=findKey,lodash.findLast=findLast,lodash.findLastIndex=findLastIndex,lodash.findLastKey=findLastKey,lodash.findWhere=findWhere,lodash.first=first,lodash.get=get,lodash.gt=gt,lodash.gte=gte,lodash.has=has,lodash.identity=identity,lodash.includes=includes,lodash.indexOf=indexOf,lodash.inRange=inRange,lodash.isArguments=isArguments,lodash.isArray=isArray,lodash.isBoolean=isBoolean,lodash.isDate=isDate,lodash.isElement=isElement,lodash.isEmpty=isEmpty,lodash.isEqual=isEqual,lodash.isError=isError,lodash.isFinite=isFinite,lodash.isFunction=isFunction,lodash.isMatch=isMatch,lodash.isNaN=isNaN,lodash.isNative=isNative,lodash.isNull=isNull,lodash.isNumber=isNumber,lodash.isObject=isObject,lodash.isPlainObject=isPlainObject,lodash.isRegExp=isRegExp,lodash.isString=isString,lodash.isTypedArray=isTypedArray,lodash.isUndefined=isUndefined,lodash.kebabCase=kebabCase,lodash.last=last,lodash.lastIndexOf=lastIndexOf,lodash.lt=lt,lodash.lte=lte,lodash.max=max,lodash.min=min,lodash.noConflict=noConflict,lodash.noop=noop,lodash.now=now,lodash.pad=pad,lodash.padLeft=padLeft,lodash.padRight=padRight,lodash.parseInt=parseInt,lodash.random=random,lodash.reduce=reduce,lodash.reduceRight=reduceRight,lodash.repeat=repeat,lodash.result=result,lodash.runInContext=runInContext,lodash.size=size,lodash.snakeCase=snakeCase,lodash.some=some,lodash.sortedIndex=sortedIndex,lodash.sortedLastIndex=sortedLastIndex,lodash.startCase=startCase,lodash.startsWith=startsWith,lodash.sum=sum,lodash.template=template,lodash.trim=trim,lodash.trimLeft=trimLeft,lodash.trimRight=trimRight,lodash.trunc=trunc,lodash.unescape=unescape,lodash.uniqueId=uniqueId,lodash.words=words,lodash.all=every,lodash.any=some,lodash.contains=includes,lodash.eq=isEqual,lodash.detect=find,lodash.foldl=reduce,lodash.foldr=reduceRight,lodash.head=first,lodash.include=includes,lodash.inject=reduce,mixin(lodash,function(){var source={};return baseForOwn(lodash,function(func,methodName){lodash.prototype[methodName]||(source[methodName]=func)}),source}(),!1),lodash.sample=sample,lodash.prototype.sample=function(n){return this.__chain__||null!=n?this.thru(function(value){return sample(value,n)}):sample(this.value())},lodash.VERSION=VERSION,arrayEach(["bind","bindKey","curry","curryRight","partial","partialRight"],function(methodName){lodash[methodName].placeholder=lodash}),arrayEach(["dropWhile","filter","map","takeWhile"],function(methodName,type){var isFilter=type!=LAZY_MAP_FLAG,isDropWhile=type==LAZY_DROP_WHILE_FLAG;LazyWrapper.prototype[methodName]=function(iteratee,thisArg){var filtered=this.__filtered__,result=filtered&&isDropWhile?new LazyWrapper(this):this.clone(),iteratees=result.__iteratees__||(result.__iteratees__=[]);return iteratees.push({done:!1,count:0,index:0,iteratee:getCallback(iteratee,thisArg,1),limit:-1,type:type}),result.__filtered__=filtered||isFilter,result}}),arrayEach(["drop","take"],function(methodName,index){var whileName=methodName+"While";LazyWrapper.prototype[methodName]=function(n){var filtered=this.__filtered__,result=filtered&&!index?this.dropWhile():this.clone();if(n=null==n?1:nativeMax(floor(n)||0,0),filtered)index?result.__takeCount__=nativeMin(result.__takeCount__,n):last(result.__iteratees__).limit=n;else{var views=result.__views__||(result.__views__=[]);views.push({size:n,type:methodName+(result.__dir__<0?"Right":"")})}return result},LazyWrapper.prototype[methodName+"Right"]=function(n){return this.reverse()[methodName](n).reverse()},LazyWrapper.prototype[methodName+"RightWhile"]=function(predicate,thisArg){return this.reverse()[whileName](predicate,thisArg).reverse()}}),arrayEach(["first","last"],function(methodName,index){var takeName="take"+(index?"Right":"");LazyWrapper.prototype[methodName]=function(){return this[takeName](1).value()[0]}}),arrayEach(["initial","rest"],function(methodName,index){var dropName="drop"+(index?"":"Right");LazyWrapper.prototype[methodName]=function(){return this[dropName](1)}}),arrayEach(["pluck","where"],function(methodName,index){var operationName=index?"filter":"map",createCallback=index?baseMatches:property;LazyWrapper.prototype[methodName]=function(value){return this[operationName](createCallback(value))}}),LazyWrapper.prototype.compact=function(){return this.filter(identity)},LazyWrapper.prototype.reject=function(predicate,thisArg){return predicate=getCallback(predicate,thisArg,1),this.filter(function(value){return!predicate(value)})},LazyWrapper.prototype.slice=function(start,end){start=null==start?0:+start||0;var result=this;return start<0?result=this.takeRight(-start):start&&(result=this.drop(start)),end!==undefined&&(end=+end||0,result=end<0?result.dropRight(-end):result.take(end-start)),result},LazyWrapper.prototype.toArray=function(){return this.drop(0)},baseForOwn(LazyWrapper.prototype,function(func,methodName){var lodashFunc=lodash[methodName];if(lodashFunc){var checkIteratee=/^(?:filter|map|reject)|While$/.test(methodName),retUnwrapped=/^(?:first|last)$/.test(methodName);lodash.prototype[methodName]=function(){var args=arguments,chainAll=this.__chain__,value=this.__wrapped__,isHybrid=!!this.__actions__.length,isLazy=value instanceof LazyWrapper,iteratee=args[0],useLazy=isLazy||isArray(value);useLazy&&checkIteratee&&"function"==typeof iteratee&&1!=iteratee.length&&(isLazy=useLazy=!1);var onlyLazy=isLazy&&!isHybrid;if(retUnwrapped&&!chainAll)return onlyLazy?func.call(value):lodashFunc.call(lodash,this.value());var interceptor=function(value){var otherArgs=[value];return push.apply(otherArgs,args),lodashFunc.apply(lodash,otherArgs)};if(useLazy){var wrapper=onlyLazy?value:new LazyWrapper(this),result=func.apply(wrapper,args);if(!retUnwrapped&&(isHybrid||result.__actions__)){var actions=result.__actions__||(result.__actions__=[]);actions.push({func:thru,args:[interceptor],thisArg:lodash})}return new LodashWrapper(result,chainAll)}return this.thru(interceptor)}}}),arrayEach(["concat","join","pop","push","replace","shift","sort","splice","split","unshift"],function(methodName){var func=(/^(?:replace|split)$/.test(methodName)?stringProto:arrayProto)[methodName],chainName=/^(?:push|sort|unshift)$/.test(methodName)?"tap":"thru",retUnwrapped=/^(?:join|pop|replace|shift)$/.test(methodName);lodash.prototype[methodName]=function(){var args=arguments;return retUnwrapped&&!this.__chain__?func.apply(this.value(),args):this[chainName](function(value){return func.apply(value,args)})}}),baseForOwn(LazyWrapper.prototype,function(func,methodName){var lodashFunc=lodash[methodName];if(lodashFunc){var key=lodashFunc.name,names=realNames[key]||(realNames[key]=[]);names.push({name:methodName,func:lodashFunc})}}),realNames[createHybridWrapper(null,BIND_KEY_FLAG).name]=[{name:"wrapper",func:null}],LazyWrapper.prototype.clone=lazyClone,LazyWrapper.prototype.reverse=lazyReverse,LazyWrapper.prototype.value=lazyValue,lodash.prototype.chain=wrapperChain,lodash.prototype.commit=wrapperCommit,lodash.prototype.plant=wrapperPlant,lodash.prototype.reverse=wrapperReverse,lodash.prototype.toString=wrapperToString,lodash.prototype.run=lodash.prototype.toJSON=lodash.prototype.valueOf=lodash.prototype.value=wrapperValue,lodash.prototype.collect=lodash.prototype.map,lodash.prototype.head=lodash.prototype.first,lodash.prototype.select=lodash.prototype.filter,lodash.prototype.tail=lodash.prototype.rest,lodash}var undefined,VERSION="3.9.3",BIND_FLAG=1,BIND_KEY_FLAG=2,CURRY_BOUND_FLAG=4,CURRY_FLAG=8,CURRY_RIGHT_FLAG=16,PARTIAL_FLAG=32,PARTIAL_RIGHT_FLAG=64,ARY_FLAG=128,REARG_FLAG=256,DEFAULT_TRUNC_LENGTH=30,DEFAULT_TRUNC_OMISSION="...",HOT_COUNT=150,HOT_SPAN=16,LAZY_DROP_WHILE_FLAG=0,LAZY_FILTER_FLAG=1,LAZY_MAP_FLAG=2,FUNC_ERROR_TEXT="Expected a function",PLACEHOLDER="__lodash_placeholder__",argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",reEmptyStringLeading=/\b__p \+= '';/g,reEmptyStringMiddle=/\b(__p \+=) '' \+/g,reEmptyStringTrailing=/(__e\(.*?\)|\b__t\)) \+\n'';/g,reEscapedHtml=/&(?:amp|lt|gt|quot|#39|#96);/g,reUnescapedHtml=/[&<>"'`]/g,reHasEscapedHtml=RegExp(reEscapedHtml.source),reHasUnescapedHtml=RegExp(reUnescapedHtml.source),reEscape=/<%-([\s\S]+?)%>/g,reEvaluate=/<%([\s\S]+?)%>/g,reInterpolate=/<%=([\s\S]+?)%>/g,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,reRegExpChars=/[.*+?^${}()|[\]\/\\]/g,reHasRegExpChars=RegExp(reRegExpChars.source),reComboMark=/[\u0300-\u036f\ufe20-\ufe23]/g,reEscapeChar=/\\(\\)?/g,reEsTemplate=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,reFlags=/\w*$/,reHasHexPrefix=/^0[xX]/,reIsHostCtor=/^\[object .+?Constructor\]$/,reIsUint=/^\d+$/,reLatin1=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,reNoMatch=/($^)/,reUnescapedString=/['\n\r\u2028\u2029\\]/g,reWords=function(){
var upper="[A-Z\\xc0-\\xd6\\xd8-\\xde]",lower="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(upper+"+(?="+upper+lower+")|"+upper+"?"+lower+"|"+upper+"+|[0-9]+","g")}(),whitespace=" \t\x0B\f \ufeff\n\r\u2028\u2029 ᠎             　",contextProps=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","document","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","window"],templateCounter=-1,typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;var cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[stringTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0,cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[mapTag]=cloneableTags[setTag]=cloneableTags[weakMapTag]=!1;var debounceOptions={leading:!1,maxWait:0,trailing:!1},deburredLetters={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},htmlEscapes={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},htmlUnescapes={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},objectTypes={"function":!0,object:!0},stringEscapes={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},freeExports=objectTypes[typeof exports]&&exports&&!exports.nodeType&&exports,freeModule=objectTypes[typeof module]&&module&&!module.nodeType&&module,freeGlobal=freeExports&&freeModule&&"object"==typeof global&&global&&global.Object&&global,freeSelf=objectTypes[typeof self]&&self&&self.Object&&self,freeWindow=objectTypes[typeof window]&&window&&window.Object&&window,moduleExports=freeModule&&freeModule.exports===freeExports&&freeExports,root=freeGlobal||freeWindow!==(this&&this.window)&&freeWindow||freeSelf||this,_=runInContext();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(root._=_,define(function(){return _})):freeExports&&freeModule?moduleExports?(freeModule.exports=_)._=_:freeExports._=_:root._=_}.call(this),function(mod){if("object"==typeof exports&&"object"==typeof module)module.exports=mod();else{if("function"==typeof define&&define.amd)return define([],mod);this.CodeMirror=mod()}}(function(){"use strict";function CodeMirror(place,options){if(!(this instanceof CodeMirror))return new CodeMirror(place,options);this.options=options=options?copyObj(options):{},copyObj(defaults,options,!1),setGuttersForLineNumbers(options);var doc=options.value;"string"==typeof doc&&(doc=new Doc(doc,options.mode)),this.doc=doc;var input=new CodeMirror.inputStyles[options.inputStyle](this),display=this.display=new Display(place,doc,input);display.wrapper.CodeMirror=this,updateGutters(this),themeChanged(this),options.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),options.autofocus&&!mobile&&display.input.focus(),initScrollbars(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,draggingText:!1,highlight:new Delayed,keySeq:null};var cm=this;ie&&ie_version<11&&setTimeout(function(){cm.display.input.reset(!0)},20),registerEventHandlers(this),ensureGlobalHandlers(),startOperation(this),this.curOp.forceUpdate=!0,attachDoc(this,doc),options.autofocus&&!mobile||cm.hasFocus()?setTimeout(bind(onFocus,this),20):onBlur(this);for(var opt in optionHandlers)optionHandlers.hasOwnProperty(opt)&&optionHandlers[opt](this,options[opt],Init);maybeUpdateLineNumberWidth(this),options.finishInit&&options.finishInit(this);for(var i=0;i<initHooks.length;++i)initHooks[i](this);endOperation(this),webkit&&options.lineWrapping&&"optimizelegibility"==getComputedStyle(display.lineDiv).textRendering&&(display.lineDiv.style.textRendering="auto")}function Display(place,doc,input){var d=this;this.input=input,d.scrollbarFiller=elt("div",null,"CodeMirror-scrollbar-filler"),d.scrollbarFiller.setAttribute("cm-not-content","true"),d.gutterFiller=elt("div",null,"CodeMirror-gutter-filler"),d.gutterFiller.setAttribute("cm-not-content","true"),d.lineDiv=elt("div",null,"CodeMirror-code"),d.selectionDiv=elt("div",null,null,"position: relative; z-index: 1"),d.cursorDiv=elt("div",null,"CodeMirror-cursors"),d.measure=elt("div",null,"CodeMirror-measure"),d.lineMeasure=elt("div",null,"CodeMirror-measure"),d.lineSpace=elt("div",[d.measure,d.lineMeasure,d.selectionDiv,d.cursorDiv,d.lineDiv],null,"position: relative; outline: none"),d.mover=elt("div",[elt("div",[d.lineSpace],"CodeMirror-lines")],null,"position: relative"),d.sizer=elt("div",[d.mover],"CodeMirror-sizer"),d.sizerWidth=null,d.heightForcer=elt("div",null,null,"position: absolute; height: "+scrollerGap+"px; width: 1px;"),d.gutters=elt("div",null,"CodeMirror-gutters"),d.lineGutter=null,d.scroller=elt("div",[d.sizer,d.heightForcer,d.gutters],"CodeMirror-scroll"),d.scroller.setAttribute("tabIndex","-1"),d.wrapper=elt("div",[d.scrollbarFiller,d.gutterFiller,d.scroller],"CodeMirror"),ie&&ie_version<8&&(d.gutters.style.zIndex=-1,d.scroller.style.paddingRight=0),webkit||gecko&&mobile||(d.scroller.draggable=!0),place&&(place.appendChild?place.appendChild(d.wrapper):place(d.wrapper)),d.viewFrom=d.viewTo=doc.first,d.reportedViewFrom=d.reportedViewTo=doc.first,d.view=[],d.renderedView=null,d.externalMeasured=null,d.viewOffset=0,d.lastWrapHeight=d.lastWrapWidth=0,d.updateLineNumbers=null,d.nativeBarWidth=d.barHeight=d.barWidth=0,d.scrollbarsClipped=!1,d.lineNumWidth=d.lineNumInnerWidth=d.lineNumChars=null,d.alignWidgets=!1,d.cachedCharWidth=d.cachedTextHeight=d.cachedPaddingH=null,d.maxLine=null,d.maxLineLength=0,d.maxLineChanged=!1,d.wheelDX=d.wheelDY=d.wheelStartX=d.wheelStartY=null,d.shift=!1,d.selForContextMenu=null,d.activeTouch=null,input.init(d)}function loadMode(cm){cm.doc.mode=CodeMirror.getMode(cm.options,cm.doc.modeOption),resetModeState(cm)}function resetModeState(cm){cm.doc.iter(function(line){line.stateAfter&&(line.stateAfter=null),line.styles&&(line.styles=null)}),cm.doc.frontier=cm.doc.first,startWorker(cm,100),cm.state.modeGen++,cm.curOp&&regChange(cm)}function wrappingChanged(cm){cm.options.lineWrapping?(addClass(cm.display.wrapper,"CodeMirror-wrap"),cm.display.sizer.style.minWidth="",cm.display.sizerWidth=null):(rmClass(cm.display.wrapper,"CodeMirror-wrap"),findMaxLine(cm)),estimateLineHeights(cm),regChange(cm),clearCaches(cm),setTimeout(function(){updateScrollbars(cm)},100)}function estimateHeight(cm){var th=textHeight(cm.display),wrapping=cm.options.lineWrapping,perLine=wrapping&&Math.max(5,cm.display.scroller.clientWidth/charWidth(cm.display)-3);return function(line){if(lineIsHidden(cm.doc,line))return 0;var widgetsHeight=0;if(line.widgets)for(var i=0;i<line.widgets.length;i++)line.widgets[i].height&&(widgetsHeight+=line.widgets[i].height);return wrapping?widgetsHeight+(Math.ceil(line.text.length/perLine)||1)*th:widgetsHeight+th}}function estimateLineHeights(cm){var doc=cm.doc,est=estimateHeight(cm);doc.iter(function(line){var estHeight=est(line);estHeight!=line.height&&updateLineHeight(line,estHeight)})}function themeChanged(cm){cm.display.wrapper.className=cm.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+cm.options.theme.replace(/(^|\s)\s*/g," cm-s-"),clearCaches(cm)}function guttersChanged(cm){updateGutters(cm),regChange(cm),setTimeout(function(){alignHorizontally(cm)},20)}function updateGutters(cm){var gutters=cm.display.gutters,specs=cm.options.gutters;removeChildren(gutters);for(var i=0;i<specs.length;++i){var gutterClass=specs[i],gElt=gutters.appendChild(elt("div",null,"CodeMirror-gutter "+gutterClass));"CodeMirror-linenumbers"==gutterClass&&(cm.display.lineGutter=gElt,gElt.style.width=(cm.display.lineNumWidth||1)+"px")}gutters.style.display=i?"":"none",updateGutterSpace(cm)}function updateGutterSpace(cm){var width=cm.display.gutters.offsetWidth;cm.display.sizer.style.marginLeft=width+"px"}function lineLength(line){if(0==line.height)return 0;for(var merged,len=line.text.length,cur=line;merged=collapsedSpanAtStart(cur);){var found=merged.find(0,!0);cur=found.from.line,len+=found.from.ch-found.to.ch}for(cur=line;merged=collapsedSpanAtEnd(cur);){var found=merged.find(0,!0);len-=cur.text.length-found.from.ch,cur=found.to.line,len+=cur.text.length-found.to.ch}return len}function findMaxLine(cm){var d=cm.display,doc=cm.doc;d.maxLine=getLine(doc,doc.first),d.maxLineLength=lineLength(d.maxLine),d.maxLineChanged=!0,doc.iter(function(line){var len=lineLength(line);len>d.maxLineLength&&(d.maxLineLength=len,d.maxLine=line)})}function setGuttersForLineNumbers(options){var found=indexOf(options.gutters,"CodeMirror-linenumbers");found==-1&&options.lineNumbers?options.gutters=options.gutters.concat(["CodeMirror-linenumbers"]):found>-1&&!options.lineNumbers&&(options.gutters=options.gutters.slice(0),options.gutters.splice(found,1))}function measureForScrollbars(cm){var d=cm.display,gutterW=d.gutters.offsetWidth,docH=Math.round(cm.doc.height+paddingVert(cm.display));return{clientHeight:d.scroller.clientHeight,viewHeight:d.wrapper.clientHeight,scrollWidth:d.scroller.scrollWidth,clientWidth:d.scroller.clientWidth,viewWidth:d.wrapper.clientWidth,barLeft:cm.options.fixedGutter?gutterW:0,docHeight:docH,scrollHeight:docH+scrollGap(cm)+d.barHeight,nativeBarWidth:d.nativeBarWidth,gutterWidth:gutterW}}function NativeScrollbars(place,scroll,cm){this.cm=cm;var vert=this.vert=elt("div",[elt("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),horiz=this.horiz=elt("div",[elt("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");place(vert),place(horiz),on(vert,"scroll",function(){vert.clientHeight&&scroll(vert.scrollTop,"vertical")}),on(horiz,"scroll",function(){horiz.clientWidth&&scroll(horiz.scrollLeft,"horizontal")}),this.checkedOverlay=!1,ie&&ie_version<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function NullScrollbars(){}function initScrollbars(cm){cm.display.scrollbars&&(cm.display.scrollbars.clear(),cm.display.scrollbars.addClass&&rmClass(cm.display.wrapper,cm.display.scrollbars.addClass)),cm.display.scrollbars=new CodeMirror.scrollbarModel[cm.options.scrollbarStyle](function(node){cm.display.wrapper.insertBefore(node,cm.display.scrollbarFiller),on(node,"mousedown",function(){cm.state.focused&&setTimeout(function(){cm.display.input.focus()},0)}),node.setAttribute("cm-not-content","true")},function(pos,axis){"horizontal"==axis?setScrollLeft(cm,pos):setScrollTop(cm,pos)},cm),cm.display.scrollbars.addClass&&addClass(cm.display.wrapper,cm.display.scrollbars.addClass)}function updateScrollbars(cm,measure){measure||(measure=measureForScrollbars(cm));var startWidth=cm.display.barWidth,startHeight=cm.display.barHeight;updateScrollbarsInner(cm,measure);for(var i=0;i<4&&startWidth!=cm.display.barWidth||startHeight!=cm.display.barHeight;i++)startWidth!=cm.display.barWidth&&cm.options.lineWrapping&&updateHeightsInViewport(cm),updateScrollbarsInner(cm,measureForScrollbars(cm)),startWidth=cm.display.barWidth,startHeight=cm.display.barHeight}function updateScrollbarsInner(cm,measure){var d=cm.display,sizes=d.scrollbars.update(measure);d.sizer.style.paddingRight=(d.barWidth=sizes.right)+"px",d.sizer.style.paddingBottom=(d.barHeight=sizes.bottom)+"px",sizes.right&&sizes.bottom?(d.scrollbarFiller.style.display="block",d.scrollbarFiller.style.height=sizes.bottom+"px",d.scrollbarFiller.style.width=sizes.right+"px"):d.scrollbarFiller.style.display="",sizes.bottom&&cm.options.coverGutterNextToScrollbar&&cm.options.fixedGutter?(d.gutterFiller.style.display="block",d.gutterFiller.style.height=sizes.bottom+"px",d.gutterFiller.style.width=measure.gutterWidth+"px"):d.gutterFiller.style.display=""}function visibleLines(display,doc,viewport){var top=viewport&&null!=viewport.top?Math.max(0,viewport.top):display.scroller.scrollTop;top=Math.floor(top-paddingTop(display));var bottom=viewport&&null!=viewport.bottom?viewport.bottom:top+display.wrapper.clientHeight,from=lineAtHeight(doc,top),to=lineAtHeight(doc,bottom);if(viewport&&viewport.ensure){var ensureFrom=viewport.ensure.from.line,ensureTo=viewport.ensure.to.line;ensureFrom<from?(from=ensureFrom,to=lineAtHeight(doc,heightAtLine(getLine(doc,ensureFrom))+display.wrapper.clientHeight)):Math.min(ensureTo,doc.lastLine())>=to&&(from=lineAtHeight(doc,heightAtLine(getLine(doc,ensureTo))-display.wrapper.clientHeight),to=ensureTo)}return{from:from,to:Math.max(to,from+1)}}function alignHorizontally(cm){var display=cm.display,view=display.view;if(display.alignWidgets||display.gutters.firstChild&&cm.options.fixedGutter){for(var comp=compensateForHScroll(display)-display.scroller.scrollLeft+cm.doc.scrollLeft,gutterW=display.gutters.offsetWidth,left=comp+"px",i=0;i<view.length;i++)if(!view[i].hidden){cm.options.fixedGutter&&view[i].gutter&&(view[i].gutter.style.left=left);var align=view[i].alignable;if(align)for(var j=0;j<align.length;j++)align[j].style.left=left}cm.options.fixedGutter&&(display.gutters.style.left=comp+gutterW+"px")}}function maybeUpdateLineNumberWidth(cm){if(!cm.options.lineNumbers)return!1;var doc=cm.doc,last=lineNumberFor(cm.options,doc.first+doc.size-1),display=cm.display;if(last.length!=display.lineNumChars){var test=display.measure.appendChild(elt("div",[elt("div",last)],"CodeMirror-linenumber CodeMirror-gutter-elt")),innerW=test.firstChild.offsetWidth,padding=test.offsetWidth-innerW;return display.lineGutter.style.width="",display.lineNumInnerWidth=Math.max(innerW,display.lineGutter.offsetWidth-padding),display.lineNumWidth=display.lineNumInnerWidth+padding,display.lineNumChars=display.lineNumInnerWidth?last.length:-1,display.lineGutter.style.width=display.lineNumWidth+"px",updateGutterSpace(cm),!0}return!1}function lineNumberFor(options,i){return String(options.lineNumberFormatter(i+options.firstLineNumber))}function compensateForHScroll(display){return display.scroller.getBoundingClientRect().left-display.sizer.getBoundingClientRect().left}function DisplayUpdate(cm,viewport,force){var display=cm.display;this.viewport=viewport,this.visible=visibleLines(display,cm.doc,viewport),this.editorIsHidden=!display.wrapper.offsetWidth,this.wrapperHeight=display.wrapper.clientHeight,this.wrapperWidth=display.wrapper.clientWidth,this.oldDisplayWidth=displayWidth(cm),this.force=force,this.dims=getDimensions(cm),this.events=[]}function maybeClipScrollbars(cm){var display=cm.display;!display.scrollbarsClipped&&display.scroller.offsetWidth&&(display.nativeBarWidth=display.scroller.offsetWidth-display.scroller.clientWidth,display.heightForcer.style.height=scrollGap(cm)+"px",display.sizer.style.marginBottom=-display.nativeBarWidth+"px",display.sizer.style.borderRightWidth=scrollGap(cm)+"px",display.scrollbarsClipped=!0)}function updateDisplayIfNeeded(cm,update){var display=cm.display,doc=cm.doc;if(update.editorIsHidden)return resetView(cm),!1;if(!update.force&&update.visible.from>=display.viewFrom&&update.visible.to<=display.viewTo&&(null==display.updateLineNumbers||display.updateLineNumbers>=display.viewTo)&&display.renderedView==display.view&&0==countDirtyView(cm))return!1;maybeUpdateLineNumberWidth(cm)&&(resetView(cm),update.dims=getDimensions(cm));var end=doc.first+doc.size,from=Math.max(update.visible.from-cm.options.viewportMargin,doc.first),to=Math.min(end,update.visible.to+cm.options.viewportMargin);display.viewFrom<from&&from-display.viewFrom<20&&(from=Math.max(doc.first,display.viewFrom)),display.viewTo>to&&display.viewTo-to<20&&(to=Math.min(end,display.viewTo)),sawCollapsedSpans&&(from=visualLineNo(cm.doc,from),to=visualLineEndNo(cm.doc,to));var different=from!=display.viewFrom||to!=display.viewTo||display.lastWrapHeight!=update.wrapperHeight||display.lastWrapWidth!=update.wrapperWidth;adjustView(cm,from,to),display.viewOffset=heightAtLine(getLine(cm.doc,display.viewFrom)),cm.display.mover.style.top=display.viewOffset+"px";var toUpdate=countDirtyView(cm);if(!different&&0==toUpdate&&!update.force&&display.renderedView==display.view&&(null==display.updateLineNumbers||display.updateLineNumbers>=display.viewTo))return!1;var focused=activeElt();return toUpdate>4&&(display.lineDiv.style.display="none"),patchDisplay(cm,display.updateLineNumbers,update.dims),toUpdate>4&&(display.lineDiv.style.display=""),display.renderedView=display.view,focused&&activeElt()!=focused&&focused.offsetHeight&&focused.focus(),removeChildren(display.cursorDiv),removeChildren(display.selectionDiv),display.gutters.style.height=0,different&&(display.lastWrapHeight=update.wrapperHeight,display.lastWrapWidth=update.wrapperWidth,startWorker(cm,400)),display.updateLineNumbers=null,!0}function postUpdateDisplay(cm,update){for(var force=update.force,viewport=update.viewport,first=!0;;first=!1){if(first&&cm.options.lineWrapping&&update.oldDisplayWidth!=displayWidth(cm))force=!0;else if(force=!1,viewport&&null!=viewport.top&&(viewport={top:Math.min(cm.doc.height+paddingVert(cm.display)-displayHeight(cm),viewport.top)}),update.visible=visibleLines(cm.display,cm.doc,viewport),update.visible.from>=cm.display.viewFrom&&update.visible.to<=cm.display.viewTo)break;if(!updateDisplayIfNeeded(cm,update))break;updateHeightsInViewport(cm);var barMeasure=measureForScrollbars(cm);updateSelection(cm),setDocumentHeight(cm,barMeasure),updateScrollbars(cm,barMeasure)}update.signal(cm,"update",cm),cm.display.viewFrom==cm.display.reportedViewFrom&&cm.display.viewTo==cm.display.reportedViewTo||(update.signal(cm,"viewportChange",cm,cm.display.viewFrom,cm.display.viewTo),cm.display.reportedViewFrom=cm.display.viewFrom,cm.display.reportedViewTo=cm.display.viewTo)}function updateDisplaySimple(cm,viewport){var update=new DisplayUpdate(cm,viewport);if(updateDisplayIfNeeded(cm,update)){updateHeightsInViewport(cm),postUpdateDisplay(cm,update);var barMeasure=measureForScrollbars(cm);updateSelection(cm),setDocumentHeight(cm,barMeasure),updateScrollbars(cm,barMeasure),update.finish()}}function setDocumentHeight(cm,measure){cm.display.sizer.style.minHeight=measure.docHeight+"px";var total=measure.docHeight+cm.display.barHeight;cm.display.heightForcer.style.top=total+"px",cm.display.gutters.style.height=Math.max(total+scrollGap(cm),measure.clientHeight)+"px"}function updateHeightsInViewport(cm){for(var display=cm.display,prevBottom=display.lineDiv.offsetTop,i=0;i<display.view.length;i++){var height,cur=display.view[i];if(!cur.hidden){if(ie&&ie_version<8){var bot=cur.node.offsetTop+cur.node.offsetHeight;height=bot-prevBottom,prevBottom=bot}else{var box=cur.node.getBoundingClientRect();height=box.bottom-box.top}var diff=cur.line.height-height;if(height<2&&(height=textHeight(display)),(diff>.001||diff<-.001)&&(updateLineHeight(cur.line,height),updateWidgetHeight(cur.line),cur.rest))for(var j=0;j<cur.rest.length;j++)updateWidgetHeight(cur.rest[j])}}}function updateWidgetHeight(line){if(line.widgets)for(var i=0;i<line.widgets.length;++i)line.widgets[i].height=line.widgets[i].node.offsetHeight}function getDimensions(cm){for(var d=cm.display,left={},width={},gutterLeft=d.gutters.clientLeft,n=d.gutters.firstChild,i=0;n;n=n.nextSibling,++i)left[cm.options.gutters[i]]=n.offsetLeft+n.clientLeft+gutterLeft,width[cm.options.gutters[i]]=n.clientWidth;return{fixedPos:compensateForHScroll(d),gutterTotalWidth:d.gutters.offsetWidth,gutterLeft:left,gutterWidth:width,wrapperWidth:d.wrapper.clientWidth}}function patchDisplay(cm,updateNumbersFrom,dims){function rm(node){var next=node.nextSibling;return webkit&&mac&&cm.display.currentWheelTarget==node?node.style.display="none":node.parentNode.removeChild(node),next}for(var display=cm.display,lineNumbers=cm.options.lineNumbers,container=display.lineDiv,cur=container.firstChild,view=display.view,lineN=display.viewFrom,i=0;i<view.length;i++){var lineView=view[i];if(lineView.hidden);else if(lineView.node&&lineView.node.parentNode==container){for(;cur!=lineView.node;)cur=rm(cur);var updateNumber=lineNumbers&&null!=updateNumbersFrom&&updateNumbersFrom<=lineN&&lineView.lineNumber;lineView.changes&&(indexOf(lineView.changes,"gutter")>-1&&(updateNumber=!1),updateLineForChanges(cm,lineView,lineN,dims)),updateNumber&&(removeChildren(lineView.lineNumber),lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options,lineN)))),cur=lineView.node.nextSibling}else{var node=buildLineElement(cm,lineView,lineN,dims);container.insertBefore(node,cur)}lineN+=lineView.size}for(;cur;)cur=rm(cur)}function updateLineForChanges(cm,lineView,lineN,dims){for(var j=0;j<lineView.changes.length;j++){var type=lineView.changes[j];"text"==type?updateLineText(cm,lineView):"gutter"==type?updateLineGutter(cm,lineView,lineN,dims):"class"==type?updateLineClasses(lineView):"widget"==type&&updateLineWidgets(cm,lineView,dims)}lineView.changes=null}function ensureLineWrapped(lineView){return lineView.node==lineView.text&&(lineView.node=elt("div",null,null,"position: relative"),lineView.text.parentNode&&lineView.text.parentNode.replaceChild(lineView.node,lineView.text),lineView.node.appendChild(lineView.text),ie&&ie_version<8&&(lineView.node.style.zIndex=2)),lineView.node}function updateLineBackground(lineView){var cls=lineView.bgClass?lineView.bgClass+" "+(lineView.line.bgClass||""):lineView.line.bgClass;if(cls&&(cls+=" CodeMirror-linebackground"),lineView.background)cls?lineView.background.className=cls:(lineView.background.parentNode.removeChild(lineView.background),lineView.background=null);else if(cls){var wrap=ensureLineWrapped(lineView);lineView.background=wrap.insertBefore(elt("div",null,cls),wrap.firstChild)}}function getLineContent(cm,lineView){var ext=cm.display.externalMeasured;return ext&&ext.line==lineView.line?(cm.display.externalMeasured=null,lineView.measure=ext.measure,ext.built):buildLineContent(cm,lineView)}function updateLineText(cm,lineView){var cls=lineView.text.className,built=getLineContent(cm,lineView);lineView.text==lineView.node&&(lineView.node=built.pre),lineView.text.parentNode.replaceChild(built.pre,lineView.text),lineView.text=built.pre,built.bgClass!=lineView.bgClass||built.textClass!=lineView.textClass?(lineView.bgClass=built.bgClass,lineView.textClass=built.textClass,updateLineClasses(lineView)):cls&&(lineView.text.className=cls)}function updateLineClasses(lineView){updateLineBackground(lineView),lineView.line.wrapClass?ensureLineWrapped(lineView).className=lineView.line.wrapClass:lineView.node!=lineView.text&&(lineView.node.className="");var textClass=lineView.textClass?lineView.textClass+" "+(lineView.line.textClass||""):lineView.line.textClass;lineView.text.className=textClass||""}function updateLineGutter(cm,lineView,lineN,dims){lineView.gutter&&(lineView.node.removeChild(lineView.gutter),lineView.gutter=null);var markers=lineView.line.gutterMarkers;if(cm.options.lineNumbers||markers){var wrap=ensureLineWrapped(lineView),gutterWrap=lineView.gutter=elt("div",null,"CodeMirror-gutter-wrapper","left: "+(cm.options.fixedGutter?dims.fixedPos:-dims.gutterTotalWidth)+"px; width: "+dims.gutterTotalWidth+"px");if(cm.display.input.setUneditable(gutterWrap),wrap.insertBefore(gutterWrap,lineView.text),lineView.line.gutterClass&&(gutterWrap.className+=" "+lineView.line.gutterClass),!cm.options.lineNumbers||markers&&markers["CodeMirror-linenumbers"]||(lineView.lineNumber=gutterWrap.appendChild(elt("div",lineNumberFor(cm.options,lineN),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+dims.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+cm.display.lineNumInnerWidth+"px"))),markers)for(var k=0;k<cm.options.gutters.length;++k){var id=cm.options.gutters[k],found=markers.hasOwnProperty(id)&&markers[id];found&&gutterWrap.appendChild(elt("div",[found],"CodeMirror-gutter-elt","left: "+dims.gutterLeft[id]+"px; width: "+dims.gutterWidth[id]+"px"))}}}function updateLineWidgets(cm,lineView,dims){lineView.alignable&&(lineView.alignable=null);for(var next,node=lineView.node.firstChild;node;node=next){var next=node.nextSibling;"CodeMirror-linewidget"==node.className&&lineView.node.removeChild(node)}insertLineWidgets(cm,lineView,dims)}function buildLineElement(cm,lineView,lineN,dims){var built=getLineContent(cm,lineView);return lineView.text=lineView.node=built.pre,built.bgClass&&(lineView.bgClass=built.bgClass),built.textClass&&(lineView.textClass=built.textClass),updateLineClasses(lineView),updateLineGutter(cm,lineView,lineN,dims),insertLineWidgets(cm,lineView,dims),lineView.node}function insertLineWidgets(cm,lineView,dims){if(insertLineWidgetsFor(cm,lineView.line,lineView,dims,!0),lineView.rest)for(var i=0;i<lineView.rest.length;i++)insertLineWidgetsFor(cm,lineView.rest[i],lineView,dims,!1)}function insertLineWidgetsFor(cm,line,lineView,dims,allowAbove){if(line.widgets)for(var wrap=ensureLineWrapped(lineView),i=0,ws=line.widgets;i<ws.length;++i){var widget=ws[i],node=elt("div",[widget.node],"CodeMirror-linewidget");widget.handleMouseEvents||node.setAttribute("cm-ignore-events","true"),positionLineWidget(widget,node,lineView,dims),cm.display.input.setUneditable(node),allowAbove&&widget.above?wrap.insertBefore(node,lineView.gutter||lineView.text):wrap.appendChild(node),signalLater(widget,"redraw")}}function positionLineWidget(widget,node,lineView,dims){if(widget.noHScroll){(lineView.alignable||(lineView.alignable=[])).push(node);var width=dims.wrapperWidth;node.style.left=dims.fixedPos+"px",widget.coverGutter||(width-=dims.gutterTotalWidth,node.style.paddingLeft=dims.gutterTotalWidth+"px"),node.style.width=width+"px"}widget.coverGutter&&(node.style.zIndex=5,node.style.position="relative",widget.noHScroll||(node.style.marginLeft=-dims.gutterTotalWidth+"px"))}function copyPos(x){return Pos(x.line,x.ch)}function maxPos(a,b){return cmp(a,b)<0?b:a}function minPos(a,b){return cmp(a,b)<0?a:b}function ensureFocus(cm){cm.state.focused||(cm.display.input.focus(),onFocus(cm))}function isReadOnly(cm){return cm.options.readOnly||cm.doc.cantEdit}function applyTextInput(cm,inserted,deleted,sel){var doc=cm.doc;cm.display.shift=!1,sel||(sel=doc.sel);var textLines=splitLines(inserted),multiPaste=null;cm.state.pasteIncoming&&sel.ranges.length>1&&(lastCopied&&lastCopied.join("\n")==inserted?multiPaste=sel.ranges.length%lastCopied.length==0&&map(lastCopied,splitLines):textLines.length==sel.ranges.length&&(multiPaste=map(textLines,function(l){return[l]})));for(var i=sel.ranges.length-1;i>=0;i--){var range=sel.ranges[i],from=range.from(),to=range.to();range.empty()&&(deleted&&deleted>0?from=Pos(from.line,from.ch-deleted):cm.state.overwrite&&!cm.state.pasteIncoming&&(to=Pos(to.line,Math.min(getLine(doc,to.line).text.length,to.ch+lst(textLines).length))));var updateInput=cm.curOp.updateInput,changeEvent={from:from,to:to,text:multiPaste?multiPaste[i%multiPaste.length]:textLines,origin:cm.state.pasteIncoming?"paste":cm.state.cutIncoming?"cut":"+input"};if(makeChange(cm.doc,changeEvent),signalLater(cm,"inputRead",cm,changeEvent),inserted&&!cm.state.pasteIncoming&&cm.options.electricChars&&cm.options.smartIndent&&range.head.ch<100&&(!i||sel.ranges[i-1].head.line!=range.head.line)){var mode=cm.getModeAt(range.head),end=changeEnd(changeEvent);if(mode.electricChars){for(var j=0;j<mode.electricChars.length;j++)if(inserted.indexOf(mode.electricChars.charAt(j))>-1){indentLine(cm,end.line,"smart");break}}else mode.electricInput&&mode.electricInput.test(getLine(doc,end.line).text.slice(0,end.ch))&&indentLine(cm,end.line,"smart")}}ensureCursorVisible(cm),cm.curOp.updateInput=updateInput,cm.curOp.typing=!0,cm.state.pasteIncoming=cm.state.cutIncoming=!1}function copyableRanges(cm){for(var text=[],ranges=[],i=0;i<cm.doc.sel.ranges.length;i++){var line=cm.doc.sel.ranges[i].head.line,lineRange={anchor:Pos(line,0),head:Pos(line+1,0)};ranges.push(lineRange),text.push(cm.getRange(lineRange.anchor,lineRange.head))}return{text:text,ranges:ranges}}function disableBrowserMagic(field){field.setAttribute("autocorrect","off"),field.setAttribute("autocapitalize","off"),field.setAttribute("spellcheck","false")}function TextareaInput(cm){this.cm=cm,this.prevInput="",this.pollingFast=!1,this.polling=new Delayed,this.inaccurateSelection=!1,this.hasSelection=!1}function hiddenTextarea(){var te=elt("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none"),div=elt("div",[te],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return webkit?te.style.width="1000px":te.setAttribute("wrap","off"),ios&&(te.style.border="1px solid black"),disableBrowserMagic(te),div}function ContentEditableInput(cm){this.cm=cm,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Delayed}function posToDOM(cm,pos){var view=findViewForLine(cm,pos.line);if(!view||view.hidden)return null;var line=getLine(cm.doc,pos.line),info=mapFromLineView(view,line,pos.line),order=getOrder(line),side="left";if(order){var partPos=getBidiPartAt(order,pos.ch);side=partPos%2?"right":"left"}var result=nodeAndOffsetInLineMap(info.map,pos.ch,"left");return result.offset="right"==result.collapse?result.end:result.start,result}function badPos(pos,bad){return bad&&(pos.bad=!0),pos}function domToPos(cm,node,offset){var lineNode;if(node==cm.display.lineDiv){if(lineNode=cm.display.lineDiv.childNodes[offset],!lineNode)return badPos(cm.clipPos(Pos(cm.display.viewTo-1)),!0);node=null,offset=0}else for(lineNode=node;;lineNode=lineNode.parentNode){if(!lineNode||lineNode==cm.display.lineDiv)return null;if(lineNode.parentNode&&lineNode.parentNode==cm.display.lineDiv)break}for(var i=0;i<cm.display.view.length;i++){var lineView=cm.display.view[i];if(lineView.node==lineNode)return locateNodeInLineView(lineView,node,offset)}}function locateNodeInLineView(lineView,node,offset){function find(textNode,topNode,offset){for(var i=-1;i<(maps?maps.length:0);i++)for(var map=i<0?measure.map:maps[i],j=0;j<map.length;j+=3){var curNode=map[j+2];if(curNode==textNode||curNode==topNode){var line=lineNo(i<0?lineView.line:lineView.rest[i]),ch=map[j]+offset;return(offset<0||curNode!=textNode)&&(ch=map[j+(offset?1:0)]),Pos(line,ch)}}}var wrapper=lineView.text.firstChild,bad=!1;if(!node||!contains(wrapper,node))return badPos(Pos(lineNo(lineView.line),0),!0);if(node==wrapper&&(bad=!0,node=wrapper.childNodes[offset],offset=0,!node)){var line=lineView.rest?lst(lineView.rest):lineView.line;return badPos(Pos(lineNo(line),line.text.length),bad)}var textNode=3==node.nodeType?node:null,topNode=node;for(textNode||1!=node.childNodes.length||3!=node.firstChild.nodeType||(textNode=node.firstChild,offset&&(offset=textNode.nodeValue.length));topNode.parentNode!=wrapper;)topNode=topNode.parentNode;var measure=lineView.measure,maps=measure.maps,found=find(textNode,topNode,offset);if(found)return badPos(found,bad);for(var after=topNode.nextSibling,dist=textNode?textNode.nodeValue.length-offset:0;after;after=after.nextSibling){
if(found=find(after,after.firstChild,0))return badPos(Pos(found.line,found.ch-dist),bad);dist+=after.textContent.length}for(var before=topNode.previousSibling,dist=offset;before;before=before.previousSibling){if(found=find(before,before.firstChild,-1))return badPos(Pos(found.line,found.ch+dist),bad);dist+=after.textContent.length}}function domTextBetween(cm,from,to,fromLine,toLine){function recognizeMarker(id){return function(marker){return marker.id==id}}function walk(node){if(1==node.nodeType){var cmText=node.getAttribute("cm-text");if(null!=cmText)return""==cmText&&(cmText=node.textContent.replace(/\u200b/g,"")),void(text+=cmText);var range,markerID=node.getAttribute("cm-marker");if(markerID){var found=cm.findMarks(Pos(fromLine,0),Pos(toLine+1,0),recognizeMarker(+markerID));return void(found.length&&(range=found[0].find())&&(text+=getBetween(cm.doc,range.from,range.to).join("\n")))}if("false"==node.getAttribute("contenteditable"))return;for(var i=0;i<node.childNodes.length;i++)walk(node.childNodes[i]);/^(pre|div|p)$/i.test(node.nodeName)&&(closing=!0)}else if(3==node.nodeType){var val=node.nodeValue;if(!val)return;closing&&(text+="\n",closing=!1),text+=val}}for(var text="",closing=!1;walk(from),from!=to;)from=from.nextSibling;return text}function Selection(ranges,primIndex){this.ranges=ranges,this.primIndex=primIndex}function Range(anchor,head){this.anchor=anchor,this.head=head}function normalizeSelection(ranges,primIndex){var prim=ranges[primIndex];ranges.sort(function(a,b){return cmp(a.from(),b.from())}),primIndex=indexOf(ranges,prim);for(var i=1;i<ranges.length;i++){var cur=ranges[i],prev=ranges[i-1];if(cmp(prev.to(),cur.from())>=0){var from=minPos(prev.from(),cur.from()),to=maxPos(prev.to(),cur.to()),inv=prev.empty()?cur.from()==cur.head:prev.from()==prev.head;i<=primIndex&&--primIndex,ranges.splice(--i,2,new Range(inv?to:from,inv?from:to))}}return new Selection(ranges,primIndex)}function simpleSelection(anchor,head){return new Selection([new Range(anchor,head||anchor)],0)}function clipLine(doc,n){return Math.max(doc.first,Math.min(n,doc.first+doc.size-1))}function clipPos(doc,pos){if(pos.line<doc.first)return Pos(doc.first,0);var last=doc.first+doc.size-1;return pos.line>last?Pos(last,getLine(doc,last).text.length):clipToLen(pos,getLine(doc,pos.line).text.length)}function clipToLen(pos,linelen){var ch=pos.ch;return null==ch||ch>linelen?Pos(pos.line,linelen):ch<0?Pos(pos.line,0):pos}function isLine(doc,l){return l>=doc.first&&l<doc.first+doc.size}function clipPosArray(doc,array){for(var out=[],i=0;i<array.length;i++)out[i]=clipPos(doc,array[i]);return out}function extendRange(doc,range,head,other){if(doc.cm&&doc.cm.display.shift||doc.extend){var anchor=range.anchor;if(other){var posBefore=cmp(head,anchor)<0;posBefore!=cmp(other,anchor)<0?(anchor=head,head=other):posBefore!=cmp(head,other)<0&&(head=other)}return new Range(anchor,head)}return new Range(other||head,head)}function extendSelection(doc,head,other,options){setSelection(doc,new Selection([extendRange(doc,doc.sel.primary(),head,other)],0),options)}function extendSelections(doc,heads,options){for(var out=[],i=0;i<doc.sel.ranges.length;i++)out[i]=extendRange(doc,doc.sel.ranges[i],heads[i],null);var newSel=normalizeSelection(out,doc.sel.primIndex);setSelection(doc,newSel,options)}function replaceOneSelection(doc,i,range,options){var ranges=doc.sel.ranges.slice(0);ranges[i]=range,setSelection(doc,normalizeSelection(ranges,doc.sel.primIndex),options)}function setSimpleSelection(doc,anchor,head,options){setSelection(doc,simpleSelection(anchor,head),options)}function filterSelectionChange(doc,sel){var obj={ranges:sel.ranges,update:function(ranges){this.ranges=[];for(var i=0;i<ranges.length;i++)this.ranges[i]=new Range(clipPos(doc,ranges[i].anchor),clipPos(doc,ranges[i].head))}};return signal(doc,"beforeSelectionChange",doc,obj),doc.cm&&signal(doc.cm,"beforeSelectionChange",doc.cm,obj),obj.ranges!=sel.ranges?normalizeSelection(obj.ranges,obj.ranges.length-1):sel}function setSelectionReplaceHistory(doc,sel,options){var done=doc.history.done,last=lst(done);last&&last.ranges?(done[done.length-1]=sel,setSelectionNoUndo(doc,sel,options)):setSelection(doc,sel,options)}function setSelection(doc,sel,options){setSelectionNoUndo(doc,sel,options),addSelectionToHistory(doc,doc.sel,doc.cm?doc.cm.curOp.id:NaN,options)}function setSelectionNoUndo(doc,sel,options){(hasHandler(doc,"beforeSelectionChange")||doc.cm&&hasHandler(doc.cm,"beforeSelectionChange"))&&(sel=filterSelectionChange(doc,sel));var bias=options&&options.bias||(cmp(sel.primary().head,doc.sel.primary().head)<0?-1:1);setSelectionInner(doc,skipAtomicInSelection(doc,sel,bias,!0)),options&&options.scroll===!1||!doc.cm||ensureCursorVisible(doc.cm)}function setSelectionInner(doc,sel){sel.equals(doc.sel)||(doc.sel=sel,doc.cm&&(doc.cm.curOp.updateInput=doc.cm.curOp.selectionChanged=!0,signalCursorActivity(doc.cm)),signalLater(doc,"cursorActivity",doc))}function reCheckSelection(doc){setSelectionInner(doc,skipAtomicInSelection(doc,doc.sel,null,!1),sel_dontScroll)}function skipAtomicInSelection(doc,sel,bias,mayClear){for(var out,i=0;i<sel.ranges.length;i++){var range=sel.ranges[i],newAnchor=skipAtomic(doc,range.anchor,bias,mayClear),newHead=skipAtomic(doc,range.head,bias,mayClear);(out||newAnchor!=range.anchor||newHead!=range.head)&&(out||(out=sel.ranges.slice(0,i)),out[i]=new Range(newAnchor,newHead))}return out?normalizeSelection(out,sel.primIndex):sel}function skipAtomic(doc,pos,bias,mayClear){var flipped=!1,curPos=pos,dir=bias||1;doc.cantEdit=!1;search:for(;;){var line=getLine(doc,curPos.line);if(line.markedSpans)for(var i=0;i<line.markedSpans.length;++i){var sp=line.markedSpans[i],m=sp.marker;if((null==sp.from||(m.inclusiveLeft?sp.from<=curPos.ch:sp.from<curPos.ch))&&(null==sp.to||(m.inclusiveRight?sp.to>=curPos.ch:sp.to>curPos.ch))){if(mayClear&&(signal(m,"beforeCursorEnter"),m.explicitlyCleared)){if(line.markedSpans){--i;continue}break}if(!m.atomic)continue;var newPos=m.find(dir<0?-1:1);if(0==cmp(newPos,curPos)&&(newPos.ch+=dir,newPos.ch<0?newPos=newPos.line>doc.first?clipPos(doc,Pos(newPos.line-1)):null:newPos.ch>line.text.length&&(newPos=newPos.line<doc.first+doc.size-1?Pos(newPos.line+1,0):null),!newPos)){if(flipped)return mayClear?(doc.cantEdit=!0,Pos(doc.first,0)):skipAtomic(doc,pos,bias,!0);flipped=!0,newPos=pos,dir=-dir}curPos=newPos;continue search}}return curPos}}function updateSelection(cm){cm.display.input.showSelection(cm.display.input.prepareSelection())}function prepareSelection(cm,primary){for(var doc=cm.doc,result={},curFragment=result.cursors=document.createDocumentFragment(),selFragment=result.selection=document.createDocumentFragment(),i=0;i<doc.sel.ranges.length;i++)if(primary!==!1||i!=doc.sel.primIndex){var range=doc.sel.ranges[i],collapsed=range.empty();(collapsed||cm.options.showCursorWhenSelecting)&&drawSelectionCursor(cm,range,curFragment),collapsed||drawSelectionRange(cm,range,selFragment)}return result}function drawSelectionCursor(cm,range,output){var pos=cursorCoords(cm,range.head,"div",null,null,!cm.options.singleCursorHeightPerLine),cursor=output.appendChild(elt("div"," ","CodeMirror-cursor"));if(cursor.style.left=pos.left+"px",cursor.style.top=pos.top+"px",cursor.style.height=Math.max(0,pos.bottom-pos.top)*cm.options.cursorHeight+"px",pos.other){var otherCursor=output.appendChild(elt("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));otherCursor.style.display="",otherCursor.style.left=pos.other.left+"px",otherCursor.style.top=pos.other.top+"px",otherCursor.style.height=.85*(pos.other.bottom-pos.other.top)+"px"}}function drawSelectionRange(cm,range,output){function add(left,top,width,bottom){top<0&&(top=0),top=Math.round(top),bottom=Math.round(bottom),fragment.appendChild(elt("div",null,"CodeMirror-selected","position: absolute; left: "+left+"px; top: "+top+"px; width: "+(null==width?rightSide-left:width)+"px; height: "+(bottom-top)+"px"))}function drawForLine(line,fromArg,toArg){function coords(ch,bias){return charCoords(cm,Pos(line,ch),"div",lineObj,bias)}var start,end,lineObj=getLine(doc,line),lineLen=lineObj.text.length;return iterateBidiSections(getOrder(lineObj),fromArg||0,null==toArg?lineLen:toArg,function(from,to,dir){var rightPos,left,right,leftPos=coords(from,"left");if(from==to)rightPos=leftPos,left=right=leftPos.left;else{if(rightPos=coords(to-1,"right"),"rtl"==dir){var tmp=leftPos;leftPos=rightPos,rightPos=tmp}left=leftPos.left,right=rightPos.right}null==fromArg&&0==from&&(left=leftSide),rightPos.top-leftPos.top>3&&(add(left,leftPos.top,null,leftPos.bottom),left=leftSide,leftPos.bottom<rightPos.top&&add(left,leftPos.bottom,null,rightPos.top)),null==toArg&&to==lineLen&&(right=rightSide),(!start||leftPos.top<start.top||leftPos.top==start.top&&leftPos.left<start.left)&&(start=leftPos),(!end||rightPos.bottom>end.bottom||rightPos.bottom==end.bottom&&rightPos.right>end.right)&&(end=rightPos),left<leftSide+1&&(left=leftSide),add(left,rightPos.top,right-left,rightPos.bottom)}),{start:start,end:end}}var display=cm.display,doc=cm.doc,fragment=document.createDocumentFragment(),padding=paddingH(cm.display),leftSide=padding.left,rightSide=Math.max(display.sizerWidth,displayWidth(cm)-display.sizer.offsetLeft)-padding.right,sFrom=range.from(),sTo=range.to();if(sFrom.line==sTo.line)drawForLine(sFrom.line,sFrom.ch,sTo.ch);else{var fromLine=getLine(doc,sFrom.line),toLine=getLine(doc,sTo.line),singleVLine=visualLine(fromLine)==visualLine(toLine),leftEnd=drawForLine(sFrom.line,sFrom.ch,singleVLine?fromLine.text.length+1:null).end,rightStart=drawForLine(sTo.line,singleVLine?0:null,sTo.ch).start;singleVLine&&(leftEnd.top<rightStart.top-2?(add(leftEnd.right,leftEnd.top,null,leftEnd.bottom),add(leftSide,rightStart.top,rightStart.left,rightStart.bottom)):add(leftEnd.right,leftEnd.top,rightStart.left-leftEnd.right,leftEnd.bottom)),leftEnd.bottom<rightStart.top&&add(leftSide,leftEnd.bottom,null,rightStart.top)}output.appendChild(fragment)}function restartBlink(cm){if(cm.state.focused){var display=cm.display;clearInterval(display.blinker);var on=!0;display.cursorDiv.style.visibility="",cm.options.cursorBlinkRate>0?display.blinker=setInterval(function(){display.cursorDiv.style.visibility=(on=!on)?"":"hidden"},cm.options.cursorBlinkRate):cm.options.cursorBlinkRate<0&&(display.cursorDiv.style.visibility="hidden")}}function startWorker(cm,time){cm.doc.mode.startState&&cm.doc.frontier<cm.display.viewTo&&cm.state.highlight.set(time,bind(highlightWorker,cm))}function highlightWorker(cm){var doc=cm.doc;if(doc.frontier<doc.first&&(doc.frontier=doc.first),!(doc.frontier>=cm.display.viewTo)){var end=+new Date+cm.options.workTime,state=copyState(doc.mode,getStateBefore(cm,doc.frontier)),changedLines=[];doc.iter(doc.frontier,Math.min(doc.first+doc.size,cm.display.viewTo+500),function(line){if(doc.frontier>=cm.display.viewFrom){var oldStyles=line.styles,highlighted=highlightLine(cm,line,state,!0);line.styles=highlighted.styles;var oldCls=line.styleClasses,newCls=highlighted.classes;newCls?line.styleClasses=newCls:oldCls&&(line.styleClasses=null);for(var ischange=!oldStyles||oldStyles.length!=line.styles.length||oldCls!=newCls&&(!oldCls||!newCls||oldCls.bgClass!=newCls.bgClass||oldCls.textClass!=newCls.textClass),i=0;!ischange&&i<oldStyles.length;++i)ischange=oldStyles[i]!=line.styles[i];ischange&&changedLines.push(doc.frontier),line.stateAfter=copyState(doc.mode,state)}else processLine(cm,line.text,state),line.stateAfter=doc.frontier%5==0?copyState(doc.mode,state):null;if(++doc.frontier,+new Date>end)return startWorker(cm,cm.options.workDelay),!0}),changedLines.length&&runInOp(cm,function(){for(var i=0;i<changedLines.length;i++)regLineChange(cm,changedLines[i],"text")})}}function findStartLine(cm,n,precise){for(var minindent,minline,doc=cm.doc,lim=precise?-1:n-(cm.doc.mode.innerMode?1e3:100),search=n;search>lim;--search){if(search<=doc.first)return doc.first;var line=getLine(doc,search-1);if(line.stateAfter&&(!precise||search<=doc.frontier))return search;var indented=countColumn(line.text,null,cm.options.tabSize);(null==minline||minindent>indented)&&(minline=search-1,minindent=indented)}return minline}function getStateBefore(cm,n,precise){var doc=cm.doc,display=cm.display;if(!doc.mode.startState)return!0;var pos=findStartLine(cm,n,precise),state=pos>doc.first&&getLine(doc,pos-1).stateAfter;return state=state?copyState(doc.mode,state):startState(doc.mode),doc.iter(pos,n,function(line){processLine(cm,line.text,state);var save=pos==n-1||pos%5==0||pos>=display.viewFrom&&pos<display.viewTo;line.stateAfter=save?copyState(doc.mode,state):null,++pos}),precise&&(doc.frontier=pos),state}function paddingTop(display){return display.lineSpace.offsetTop}function paddingVert(display){return display.mover.offsetHeight-display.lineSpace.offsetHeight}function paddingH(display){if(display.cachedPaddingH)return display.cachedPaddingH;var e=removeChildrenAndAdd(display.measure,elt("pre","x")),style=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,data={left:parseInt(style.paddingLeft),right:parseInt(style.paddingRight)};return isNaN(data.left)||isNaN(data.right)||(display.cachedPaddingH=data),data}function scrollGap(cm){return scrollerGap-cm.display.nativeBarWidth}function displayWidth(cm){return cm.display.scroller.clientWidth-scrollGap(cm)-cm.display.barWidth}function displayHeight(cm){return cm.display.scroller.clientHeight-scrollGap(cm)-cm.display.barHeight}function ensureLineHeights(cm,lineView,rect){var wrapping=cm.options.lineWrapping,curWidth=wrapping&&displayWidth(cm);if(!lineView.measure.heights||wrapping&&lineView.measure.width!=curWidth){var heights=lineView.measure.heights=[];if(wrapping){lineView.measure.width=curWidth;for(var rects=lineView.text.firstChild.getClientRects(),i=0;i<rects.length-1;i++){var cur=rects[i],next=rects[i+1];Math.abs(cur.bottom-next.bottom)>2&&heights.push((cur.bottom+next.top)/2-rect.top)}}heights.push(rect.bottom-rect.top)}}function mapFromLineView(lineView,line,lineN){if(lineView.line==line)return{map:lineView.measure.map,cache:lineView.measure.cache};for(var i=0;i<lineView.rest.length;i++)if(lineView.rest[i]==line)return{map:lineView.measure.maps[i],cache:lineView.measure.caches[i]};for(var i=0;i<lineView.rest.length;i++)if(lineNo(lineView.rest[i])>lineN)return{map:lineView.measure.maps[i],cache:lineView.measure.caches[i],before:!0}}function updateExternalMeasurement(cm,line){line=visualLine(line);var lineN=lineNo(line),view=cm.display.externalMeasured=new LineView(cm.doc,line,lineN);view.lineN=lineN;var built=view.built=buildLineContent(cm,view);return view.text=built.pre,removeChildrenAndAdd(cm.display.lineMeasure,built.pre),view}function measureChar(cm,line,ch,bias){return measureCharPrepared(cm,prepareMeasureForLine(cm,line),ch,bias)}function findViewForLine(cm,lineN){if(lineN>=cm.display.viewFrom&&lineN<cm.display.viewTo)return cm.display.view[findViewIndex(cm,lineN)];var ext=cm.display.externalMeasured;return ext&&lineN>=ext.lineN&&lineN<ext.lineN+ext.size?ext:void 0}function prepareMeasureForLine(cm,line){var lineN=lineNo(line),view=findViewForLine(cm,lineN);view&&!view.text?view=null:view&&view.changes&&updateLineForChanges(cm,view,lineN,getDimensions(cm)),view||(view=updateExternalMeasurement(cm,line));var info=mapFromLineView(view,line,lineN);return{line:line,view:view,rect:null,map:info.map,cache:info.cache,before:info.before,hasHeights:!1}}function measureCharPrepared(cm,prepared,ch,bias,varHeight){prepared.before&&(ch=-1);var found,key=ch+(bias||"");return prepared.cache.hasOwnProperty(key)?found=prepared.cache[key]:(prepared.rect||(prepared.rect=prepared.view.text.getBoundingClientRect()),prepared.hasHeights||(ensureLineHeights(cm,prepared.view,prepared.rect),prepared.hasHeights=!0),found=measureCharInner(cm,prepared,ch,bias),found.bogus||(prepared.cache[key]=found)),{left:found.left,right:found.right,top:varHeight?found.rtop:found.top,bottom:varHeight?found.rbottom:found.bottom}}function nodeAndOffsetInLineMap(map,ch,bias){for(var node,start,end,collapse,i=0;i<map.length;i+=3){var mStart=map[i],mEnd=map[i+1];if(ch<mStart?(start=0,end=1,collapse="left"):ch<mEnd?(start=ch-mStart,end=start+1):(i==map.length-3||ch==mEnd&&map[i+3]>ch)&&(end=mEnd-mStart,start=end-1,ch>=mEnd&&(collapse="right")),null!=start){if(node=map[i+2],mStart==mEnd&&bias==(node.insertLeft?"left":"right")&&(collapse=bias),"left"==bias&&0==start)for(;i&&map[i-2]==map[i-3]&&map[i-1].insertLeft;)node=map[(i-=3)+2],collapse="left";if("right"==bias&&start==mEnd-mStart)for(;i<map.length-3&&map[i+3]==map[i+4]&&!map[i+5].insertLeft;)node=map[(i+=3)+2],collapse="right";break}}return{node:node,start:start,end:end,collapse:collapse,coverStart:mStart,coverEnd:mEnd}}function measureCharInner(cm,prepared,ch,bias){var rect,place=nodeAndOffsetInLineMap(prepared.map,ch,bias),node=place.node,start=place.start,end=place.end,collapse=place.collapse;if(3==node.nodeType){for(var i=0;i<4;i++){for(;start&&isExtendingChar(prepared.line.text.charAt(place.coverStart+start));)--start;for(;place.coverStart+end<place.coverEnd&&isExtendingChar(prepared.line.text.charAt(place.coverStart+end));)++end;if(ie&&ie_version<9&&0==start&&end==place.coverEnd-place.coverStart)rect=node.parentNode.getBoundingClientRect();else if(ie&&cm.options.lineWrapping){var rects=range(node,start,end).getClientRects();rect=rects.length?rects["right"==bias?rects.length-1:0]:nullRect}else rect=range(node,start,end).getBoundingClientRect()||nullRect;if(rect.left||rect.right||0==start)break;end=start,start-=1,collapse="right"}ie&&ie_version<11&&(rect=maybeUpdateRectForZooming(cm.display.measure,rect))}else{start>0&&(collapse=bias="right");var rects;rect=cm.options.lineWrapping&&(rects=node.getClientRects()).length>1?rects["right"==bias?rects.length-1:0]:node.getBoundingClientRect()}if(ie&&ie_version<9&&!start&&(!rect||!rect.left&&!rect.right)){var rSpan=node.parentNode.getClientRects()[0];rect=rSpan?{left:rSpan.left,right:rSpan.left+charWidth(cm.display),top:rSpan.top,bottom:rSpan.bottom}:nullRect}for(var rtop=rect.top-prepared.rect.top,rbot=rect.bottom-prepared.rect.top,mid=(rtop+rbot)/2,heights=prepared.view.measure.heights,i=0;i<heights.length-1&&!(mid<heights[i]);i++);var top=i?heights[i-1]:0,bot=heights[i],result={left:("right"==collapse?rect.right:rect.left)-prepared.rect.left,right:("left"==collapse?rect.left:rect.right)-prepared.rect.left,top:top,bottom:bot};return rect.left||rect.right||(result.bogus=!0),cm.options.singleCursorHeightPerLine||(result.rtop=rtop,result.rbottom=rbot),result}function maybeUpdateRectForZooming(measure,rect){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!hasBadZoomedRects(measure))return rect;var scaleX=screen.logicalXDPI/screen.deviceXDPI,scaleY=screen.logicalYDPI/screen.deviceYDPI;return{left:rect.left*scaleX,right:rect.right*scaleX,top:rect.top*scaleY,bottom:rect.bottom*scaleY}}function clearLineMeasurementCacheFor(lineView){if(lineView.measure&&(lineView.measure.cache={},lineView.measure.heights=null,lineView.rest))for(var i=0;i<lineView.rest.length;i++)lineView.measure.caches[i]={}}function clearLineMeasurementCache(cm){cm.display.externalMeasure=null,removeChildren(cm.display.lineMeasure);for(var i=0;i<cm.display.view.length;i++)clearLineMeasurementCacheFor(cm.display.view[i])}function clearCaches(cm){clearLineMeasurementCache(cm),cm.display.cachedCharWidth=cm.display.cachedTextHeight=cm.display.cachedPaddingH=null,cm.options.lineWrapping||(cm.display.maxLineChanged=!0),cm.display.lineNumChars=null}function pageScrollX(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function pageScrollY(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function intoCoordSystem(cm,lineObj,rect,context){if(lineObj.widgets)for(var i=0;i<lineObj.widgets.length;++i)if(lineObj.widgets[i].above){var size=widgetHeight(lineObj.widgets[i]);rect.top+=size,rect.bottom+=size}if("line"==context)return rect;context||(context="local");var yOff=heightAtLine(lineObj);if("local"==context?yOff+=paddingTop(cm.display):yOff-=cm.display.viewOffset,"page"==context||"window"==context){var lOff=cm.display.lineSpace.getBoundingClientRect();yOff+=lOff.top+("window"==context?0:pageScrollY());var xOff=lOff.left+("window"==context?0:pageScrollX());rect.left+=xOff,rect.right+=xOff}return rect.top+=yOff,rect.bottom+=yOff,rect}function fromCoordSystem(cm,coords,context){if("div"==context)return coords;var left=coords.left,top=coords.top;if("page"==context)left-=pageScrollX(),top-=pageScrollY();else if("local"==context||!context){var localBox=cm.display.sizer.getBoundingClientRect();left+=localBox.left,top+=localBox.top}var lineSpaceBox=cm.display.lineSpace.getBoundingClientRect();return{left:left-lineSpaceBox.left,top:top-lineSpaceBox.top}}function charCoords(cm,pos,context,lineObj,bias){return lineObj||(lineObj=getLine(cm.doc,pos.line)),intoCoordSystem(cm,lineObj,measureChar(cm,lineObj,pos.ch,bias),context)}function cursorCoords(cm,pos,context,lineObj,preparedMeasure,varHeight){function get(ch,right){var m=measureCharPrepared(cm,preparedMeasure,ch,right?"right":"left",varHeight);return right?m.left=m.right:m.right=m.left,intoCoordSystem(cm,lineObj,m,context)}function getBidi(ch,partPos){var part=order[partPos],right=part.level%2;return ch==bidiLeft(part)&&partPos&&part.level<order[partPos-1].level?(part=order[--partPos],ch=bidiRight(part)-(part.level%2?0:1),right=!0):ch==bidiRight(part)&&partPos<order.length-1&&part.level<order[partPos+1].level&&(part=order[++partPos],ch=bidiLeft(part)-part.level%2,right=!1),right&&ch==part.to&&ch>part.from?get(ch-1):get(ch,right)}lineObj=lineObj||getLine(cm.doc,pos.line),preparedMeasure||(preparedMeasure=prepareMeasureForLine(cm,lineObj));var order=getOrder(lineObj),ch=pos.ch;if(!order)return get(ch);var partPos=getBidiPartAt(order,ch),val=getBidi(ch,partPos);return null!=bidiOther&&(val.other=getBidi(ch,bidiOther)),val}function estimateCoords(cm,pos){var left=0,pos=clipPos(cm.doc,pos);cm.options.lineWrapping||(left=charWidth(cm.display)*pos.ch);var lineObj=getLine(cm.doc,pos.line),top=heightAtLine(lineObj)+paddingTop(cm.display);return{left:left,right:left,top:top,bottom:top+lineObj.height}}function PosWithInfo(line,ch,outside,xRel){var pos=Pos(line,ch);return pos.xRel=xRel,outside&&(pos.outside=!0),pos}function coordsChar(cm,x,y){var doc=cm.doc;if(y+=cm.display.viewOffset,y<0)return PosWithInfo(doc.first,0,!0,-1);var lineN=lineAtHeight(doc,y),last=doc.first+doc.size-1;if(lineN>last)return PosWithInfo(doc.first+doc.size-1,getLine(doc,last).text.length,!0,1);x<0&&(x=0);for(var lineObj=getLine(doc,lineN);;){var found=coordsCharInner(cm,lineObj,lineN,x,y),merged=collapsedSpanAtEnd(lineObj),mergedPos=merged&&merged.find(0,!0);if(!merged||!(found.ch>mergedPos.from.ch||found.ch==mergedPos.from.ch&&found.xRel>0))return found;lineN=lineNo(lineObj=mergedPos.to.line)}}function coordsCharInner(cm,lineObj,lineNo,x,y){function getX(ch){var sp=cursorCoords(cm,Pos(lineNo,ch),"line",lineObj,preparedMeasure);return wrongLine=!0,innerOff>sp.bottom?sp.left-adjust:innerOff<sp.top?sp.left+adjust:(wrongLine=!1,sp.left)}var innerOff=y-heightAtLine(lineObj),wrongLine=!1,adjust=2*cm.display.wrapper.clientWidth,preparedMeasure=prepareMeasureForLine(cm,lineObj),bidi=getOrder(lineObj),dist=lineObj.text.length,from=lineLeft(lineObj),to=lineRight(lineObj),fromX=getX(from),fromOutside=wrongLine,toX=getX(to),toOutside=wrongLine;if(x>toX)return PosWithInfo(lineNo,to,toOutside,1);for(;;){if(bidi?to==from||to==moveVisually(lineObj,from,1):to-from<=1){for(var ch=x<fromX||x-fromX<=toX-x?from:to,xDiff=x-(ch==from?fromX:toX);isExtendingChar(lineObj.text.charAt(ch));)++ch;var pos=PosWithInfo(lineNo,ch,ch==from?fromOutside:toOutside,xDiff<-1?-1:xDiff>1?1:0);return pos}var step=Math.ceil(dist/2),middle=from+step;if(bidi){middle=from;for(var i=0;i<step;++i)middle=moveVisually(lineObj,middle,1)}var middleX=getX(middle);middleX>x?(to=middle,toX=middleX,(toOutside=wrongLine)&&(toX+=1e3),dist=step):(from=middle,fromX=middleX,fromOutside=wrongLine,dist-=step)}}function textHeight(display){if(null!=display.cachedTextHeight)return display.cachedTextHeight;if(null==measureText){measureText=elt("pre");for(var i=0;i<49;++i)measureText.appendChild(document.createTextNode("x")),measureText.appendChild(elt("br"));measureText.appendChild(document.createTextNode("x"))}removeChildrenAndAdd(display.measure,measureText);var height=measureText.offsetHeight/50;return height>3&&(display.cachedTextHeight=height),removeChildren(display.measure),height||1}function charWidth(display){if(null!=display.cachedCharWidth)return display.cachedCharWidth;var anchor=elt("span","xxxxxxxxxx"),pre=elt("pre",[anchor]);removeChildrenAndAdd(display.measure,pre);var rect=anchor.getBoundingClientRect(),width=(rect.right-rect.left)/10;return width>2&&(display.cachedCharWidth=width),width||10}function startOperation(cm){cm.curOp={cm:cm,viewChanged:!1,startHeight:cm.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,id:++nextOpId},operationGroup?operationGroup.ops.push(cm.curOp):cm.curOp.ownsGroup=operationGroup={ops:[cm.curOp],delayedCallbacks:[]}}function fireCallbacksForOps(group){var callbacks=group.delayedCallbacks,i=0;do{for(;i<callbacks.length;i++)callbacks[i]();for(var j=0;j<group.ops.length;j++){var op=group.ops[j];if(op.cursorActivityHandlers)for(;op.cursorActivityCalled<op.cursorActivityHandlers.length;)op.cursorActivityHandlers[op.cursorActivityCalled++](op.cm)}}while(i<callbacks.length)}function endOperation(cm){var op=cm.curOp,group=op.ownsGroup;if(group)try{fireCallbacksForOps(group)}finally{operationGroup=null;for(var i=0;i<group.ops.length;i++)group.ops[i].cm.curOp=null;endOperations(group)}}function endOperations(group){for(var ops=group.ops,i=0;i<ops.length;i++)endOperation_R1(ops[i]);for(var i=0;i<ops.length;i++)endOperation_W1(ops[i]);for(var i=0;i<ops.length;i++)endOperation_R2(ops[i]);for(var i=0;i<ops.length;i++)endOperation_W2(ops[i]);for(var i=0;i<ops.length;i++)endOperation_finish(ops[i])}function endOperation_R1(op){var cm=op.cm,display=cm.display;maybeClipScrollbars(cm),op.updateMaxLine&&findMaxLine(cm),op.mustUpdate=op.viewChanged||op.forceUpdate||null!=op.scrollTop||op.scrollToPos&&(op.scrollToPos.from.line<display.viewFrom||op.scrollToPos.to.line>=display.viewTo)||display.maxLineChanged&&cm.options.lineWrapping,op.update=op.mustUpdate&&new DisplayUpdate(cm,op.mustUpdate&&{top:op.scrollTop,ensure:op.scrollToPos},op.forceUpdate)}function endOperation_W1(op){op.updatedDisplay=op.mustUpdate&&updateDisplayIfNeeded(op.cm,op.update)}function endOperation_R2(op){var cm=op.cm,display=cm.display;op.updatedDisplay&&updateHeightsInViewport(cm),op.barMeasure=measureForScrollbars(cm),display.maxLineChanged&&!cm.options.lineWrapping&&(op.adjustWidthTo=measureChar(cm,display.maxLine,display.maxLine.text.length).left+3,cm.display.sizerWidth=op.adjustWidthTo,op.barMeasure.scrollWidth=Math.max(display.scroller.clientWidth,display.sizer.offsetLeft+op.adjustWidthTo+scrollGap(cm)+cm.display.barWidth),op.maxScrollLeft=Math.max(0,display.sizer.offsetLeft+op.adjustWidthTo-displayWidth(cm))),(op.updatedDisplay||op.selectionChanged)&&(op.preparedSelection=display.input.prepareSelection())}function endOperation_W2(op){var cm=op.cm;null!=op.adjustWidthTo&&(cm.display.sizer.style.minWidth=op.adjustWidthTo+"px",op.maxScrollLeft<cm.doc.scrollLeft&&setScrollLeft(cm,Math.min(cm.display.scroller.scrollLeft,op.maxScrollLeft),!0),cm.display.maxLineChanged=!1),op.preparedSelection&&cm.display.input.showSelection(op.preparedSelection),op.updatedDisplay&&setDocumentHeight(cm,op.barMeasure),(op.updatedDisplay||op.startHeight!=cm.doc.height)&&updateScrollbars(cm,op.barMeasure),op.selectionChanged&&restartBlink(cm),cm.state.focused&&op.updateInput&&cm.display.input.reset(op.typing)}function endOperation_finish(op){var cm=op.cm,display=cm.display,doc=cm.doc;if(op.updatedDisplay&&postUpdateDisplay(cm,op.update),null==display.wheelStartX||null==op.scrollTop&&null==op.scrollLeft&&!op.scrollToPos||(display.wheelStartX=display.wheelStartY=null),null==op.scrollTop||display.scroller.scrollTop==op.scrollTop&&!op.forceScroll||(doc.scrollTop=Math.max(0,Math.min(display.scroller.scrollHeight-display.scroller.clientHeight,op.scrollTop)),display.scrollbars.setScrollTop(doc.scrollTop),display.scroller.scrollTop=doc.scrollTop),null==op.scrollLeft||display.scroller.scrollLeft==op.scrollLeft&&!op.forceScroll||(doc.scrollLeft=Math.max(0,Math.min(display.scroller.scrollWidth-displayWidth(cm),op.scrollLeft)),display.scrollbars.setScrollLeft(doc.scrollLeft),display.scroller.scrollLeft=doc.scrollLeft,alignHorizontally(cm)),op.scrollToPos){var coords=scrollPosIntoView(cm,clipPos(doc,op.scrollToPos.from),clipPos(doc,op.scrollToPos.to),op.scrollToPos.margin);op.scrollToPos.isCursor&&cm.state.focused&&maybeScrollWindow(cm,coords)}var hidden=op.maybeHiddenMarkers,unhidden=op.maybeUnhiddenMarkers;if(hidden)for(var i=0;i<hidden.length;++i)hidden[i].lines.length||signal(hidden[i],"hide");if(unhidden)for(var i=0;i<unhidden.length;++i)unhidden[i].lines.length&&signal(unhidden[i],"unhide");display.wrapper.offsetHeight&&(doc.scrollTop=cm.display.scroller.scrollTop),op.changeObjs&&signal(cm,"changes",cm,op.changeObjs),op.update&&op.update.finish()}function runInOp(cm,f){if(cm.curOp)return f();startOperation(cm);try{return f()}finally{endOperation(cm)}}function operation(cm,f){return function(){if(cm.curOp)return f.apply(cm,arguments);startOperation(cm);try{return f.apply(cm,arguments)}finally{endOperation(cm)}}}function methodOp(f){return function(){if(this.curOp)return f.apply(this,arguments);startOperation(this);try{return f.apply(this,arguments)}finally{endOperation(this)}}}function docMethodOp(f){return function(){var cm=this.cm;if(!cm||cm.curOp)return f.apply(this,arguments);startOperation(cm);try{return f.apply(this,arguments)}finally{endOperation(cm)}}}function LineView(doc,line,lineN){this.line=line,this.rest=visualLineContinued(line),this.size=this.rest?lineNo(lst(this.rest))-lineN+1:1,this.node=this.text=null,this.hidden=lineIsHidden(doc,line)}function buildViewArray(cm,from,to){for(var nextPos,array=[],pos=from;pos<to;pos=nextPos){var view=new LineView(cm.doc,getLine(cm.doc,pos),pos);nextPos=pos+view.size,array.push(view)}return array}function regChange(cm,from,to,lendiff){null==from&&(from=cm.doc.first),null==to&&(to=cm.doc.first+cm.doc.size),lendiff||(lendiff=0);var display=cm.display;if(lendiff&&to<display.viewTo&&(null==display.updateLineNumbers||display.updateLineNumbers>from)&&(display.updateLineNumbers=from),cm.curOp.viewChanged=!0,from>=display.viewTo)sawCollapsedSpans&&visualLineNo(cm.doc,from)<display.viewTo&&resetView(cm);else if(to<=display.viewFrom)sawCollapsedSpans&&visualLineEndNo(cm.doc,to+lendiff)>display.viewFrom?resetView(cm):(display.viewFrom+=lendiff,display.viewTo+=lendiff);else if(from<=display.viewFrom&&to>=display.viewTo)resetView(cm);else if(from<=display.viewFrom){var cut=viewCuttingPoint(cm,to,to+lendiff,1);cut?(display.view=display.view.slice(cut.index),display.viewFrom=cut.lineN,display.viewTo+=lendiff):resetView(cm)}else if(to>=display.viewTo){var cut=viewCuttingPoint(cm,from,from,-1);cut?(display.view=display.view.slice(0,cut.index),display.viewTo=cut.lineN):resetView(cm)}else{var cutTop=viewCuttingPoint(cm,from,from,-1),cutBot=viewCuttingPoint(cm,to,to+lendiff,1);cutTop&&cutBot?(display.view=display.view.slice(0,cutTop.index).concat(buildViewArray(cm,cutTop.lineN,cutBot.lineN)).concat(display.view.slice(cutBot.index)),display.viewTo+=lendiff):resetView(cm)}var ext=display.externalMeasured;ext&&(to<ext.lineN?ext.lineN+=lendiff:from<ext.lineN+ext.size&&(display.externalMeasured=null))}function regLineChange(cm,line,type){cm.curOp.viewChanged=!0;var display=cm.display,ext=cm.display.externalMeasured;if(ext&&line>=ext.lineN&&line<ext.lineN+ext.size&&(display.externalMeasured=null),
!(line<display.viewFrom||line>=display.viewTo)){var lineView=display.view[findViewIndex(cm,line)];if(null!=lineView.node){var arr=lineView.changes||(lineView.changes=[]);indexOf(arr,type)==-1&&arr.push(type)}}}function resetView(cm){cm.display.viewFrom=cm.display.viewTo=cm.doc.first,cm.display.view=[],cm.display.viewOffset=0}function findViewIndex(cm,n){if(n>=cm.display.viewTo)return null;if(n-=cm.display.viewFrom,n<0)return null;for(var view=cm.display.view,i=0;i<view.length;i++)if(n-=view[i].size,n<0)return i}function viewCuttingPoint(cm,oldN,newN,dir){var diff,index=findViewIndex(cm,oldN),view=cm.display.view;if(!sawCollapsedSpans||newN==cm.doc.first+cm.doc.size)return{index:index,lineN:newN};for(var i=0,n=cm.display.viewFrom;i<index;i++)n+=view[i].size;if(n!=oldN){if(dir>0){if(index==view.length-1)return null;diff=n+view[index].size-oldN,index++}else diff=n-oldN;oldN+=diff,newN+=diff}for(;visualLineNo(cm.doc,newN)!=newN;){if(index==(dir<0?0:view.length-1))return null;newN+=dir*view[index-(dir<0?1:0)].size,index+=dir}return{index:index,lineN:newN}}function adjustView(cm,from,to){var display=cm.display,view=display.view;0==view.length||from>=display.viewTo||to<=display.viewFrom?(display.view=buildViewArray(cm,from,to),display.viewFrom=from):(display.viewFrom>from?display.view=buildViewArray(cm,from,display.viewFrom).concat(display.view):display.viewFrom<from&&(display.view=display.view.slice(findViewIndex(cm,from))),display.viewFrom=from,display.viewTo<to?display.view=display.view.concat(buildViewArray(cm,display.viewTo,to)):display.viewTo>to&&(display.view=display.view.slice(0,findViewIndex(cm,to)))),display.viewTo=to}function countDirtyView(cm){for(var view=cm.display.view,dirty=0,i=0;i<view.length;i++){var lineView=view[i];lineView.hidden||lineView.node&&!lineView.changes||++dirty}return dirty}function registerEventHandlers(cm){function finishTouch(){d.activeTouch&&(touchFinished=setTimeout(function(){d.activeTouch=null},1e3),prevTouch=d.activeTouch,prevTouch.end=+new Date)}function isMouseLikeTouchEvent(e){if(1!=e.touches.length)return!1;var touch=e.touches[0];return touch.radiusX<=1&&touch.radiusY<=1}function farAway(touch,other){if(null==other.left)return!0;var dx=other.left-touch.left,dy=other.top-touch.top;return dx*dx+dy*dy>400}function drag_(e){signalDOMEvent(cm,e)||e_stop(e)}var d=cm.display;on(d.scroller,"mousedown",operation(cm,onMouseDown)),ie&&ie_version<11?on(d.scroller,"dblclick",operation(cm,function(e){if(!signalDOMEvent(cm,e)){var pos=posFromMouse(cm,e);if(pos&&!clickInGutter(cm,e)&&!eventInWidget(cm.display,e)){e_preventDefault(e);var word=cm.findWordAt(pos);extendSelection(cm.doc,word.anchor,word.head)}}})):on(d.scroller,"dblclick",function(e){signalDOMEvent(cm,e)||e_preventDefault(e)}),captureRightClick||on(d.scroller,"contextmenu",function(e){onContextMenu(cm,e)});var touchFinished,prevTouch={end:0};on(d.scroller,"touchstart",function(e){if(!isMouseLikeTouchEvent(e)){clearTimeout(touchFinished);var now=+new Date;d.activeTouch={start:now,moved:!1,prev:now-prevTouch.end<=300?prevTouch:null},1==e.touches.length&&(d.activeTouch.left=e.touches[0].pageX,d.activeTouch.top=e.touches[0].pageY)}}),on(d.scroller,"touchmove",function(){d.activeTouch&&(d.activeTouch.moved=!0)}),on(d.scroller,"touchend",function(e){var touch=d.activeTouch;if(touch&&!eventInWidget(d,e)&&null!=touch.left&&!touch.moved&&new Date-touch.start<300){var range,pos=cm.coordsChar(d.activeTouch,"page");range=!touch.prev||farAway(touch,touch.prev)?new Range(pos,pos):!touch.prev.prev||farAway(touch,touch.prev.prev)?cm.findWordAt(pos):new Range(Pos(pos.line,0),clipPos(cm.doc,Pos(pos.line+1,0))),cm.setSelection(range.anchor,range.head),cm.focus(),e_preventDefault(e)}finishTouch()}),on(d.scroller,"touchcancel",finishTouch),on(d.scroller,"scroll",function(){d.scroller.clientHeight&&(setScrollTop(cm,d.scroller.scrollTop),setScrollLeft(cm,d.scroller.scrollLeft,!0),signal(cm,"scroll",cm))}),on(d.scroller,"mousewheel",function(e){onScrollWheel(cm,e)}),on(d.scroller,"DOMMouseScroll",function(e){onScrollWheel(cm,e)}),on(d.wrapper,"scroll",function(){d.wrapper.scrollTop=d.wrapper.scrollLeft=0}),cm.options.dragDrop&&(on(d.scroller,"dragstart",function(e){onDragStart(cm,e)}),on(d.scroller,"dragenter",drag_),on(d.scroller,"dragover",drag_),on(d.scroller,"drop",operation(cm,onDrop)));var inp=d.input.getField();on(inp,"keyup",function(e){onKeyUp.call(cm,e)}),on(inp,"keydown",operation(cm,onKeyDown)),on(inp,"keypress",operation(cm,onKeyPress)),on(inp,"focus",bind(onFocus,cm)),on(inp,"blur",bind(onBlur,cm))}function onResize(cm){var d=cm.display;d.lastWrapHeight==d.wrapper.clientHeight&&d.lastWrapWidth==d.wrapper.clientWidth||(d.cachedCharWidth=d.cachedTextHeight=d.cachedPaddingH=null,d.scrollbarsClipped=!1,cm.setSize())}function eventInWidget(display,e){for(var n=e_target(e);n!=display.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==display.sizer&&n!=display.mover)return!0}function posFromMouse(cm,e,liberal,forRect){var display=cm.display;if(!liberal&&"true"==e_target(e).getAttribute("cm-not-content"))return null;var x,y,space=display.lineSpace.getBoundingClientRect();try{x=e.clientX-space.left,y=e.clientY-space.top}catch(e){return null}var line,coords=coordsChar(cm,x,y);if(forRect&&1==coords.xRel&&(line=getLine(cm.doc,coords.line).text).length==coords.ch){var colDiff=countColumn(line,line.length,cm.options.tabSize)-line.length;coords=Pos(coords.line,Math.max(0,Math.round((x-paddingH(cm.display).left)/charWidth(cm.display))-colDiff))}return coords}function onMouseDown(e){var cm=this,display=cm.display;if(!(display.activeTouch&&display.input.supportsTouch()||signalDOMEvent(cm,e))){if(display.shift=e.shiftKey,eventInWidget(display,e))return void(webkit||(display.scroller.draggable=!1,setTimeout(function(){display.scroller.draggable=!0},100)));if(!clickInGutter(cm,e)){var start=posFromMouse(cm,e);switch(window.focus(),e_button(e)){case 1:start?leftButtonDown(cm,e,start):e_target(e)==display.scroller&&e_preventDefault(e);break;case 2:webkit&&(cm.state.lastMiddleDown=+new Date),start&&extendSelection(cm.doc,start),setTimeout(function(){display.input.focus()},20),e_preventDefault(e);break;case 3:captureRightClick&&onContextMenu(cm,e)}}}}function leftButtonDown(cm,e,start){ie?setTimeout(bind(ensureFocus,cm),0):ensureFocus(cm);var type,now=+new Date;lastDoubleClick&&lastDoubleClick.time>now-400&&0==cmp(lastDoubleClick.pos,start)?type="triple":lastClick&&lastClick.time>now-400&&0==cmp(lastClick.pos,start)?(type="double",lastDoubleClick={time:now,pos:start}):(type="single",lastClick={time:now,pos:start});var contained,sel=cm.doc.sel,modifier=mac?e.metaKey:e.ctrlKey;cm.options.dragDrop&&dragAndDrop&&!isReadOnly(cm)&&"single"==type&&(contained=sel.contains(start))>-1&&!sel.ranges[contained].empty()?leftButtonStartDrag(cm,e,start,modifier):leftButtonSelect(cm,e,start,type,modifier)}function leftButtonStartDrag(cm,e,start,modifier){var display=cm.display,dragEnd=operation(cm,function(e2){webkit&&(display.scroller.draggable=!1),cm.state.draggingText=!1,off(document,"mouseup",dragEnd),off(display.scroller,"drop",dragEnd),Math.abs(e.clientX-e2.clientX)+Math.abs(e.clientY-e2.clientY)<10&&(e_preventDefault(e2),modifier||extendSelection(cm.doc,start),display.input.focus(),ie&&9==ie_version&&setTimeout(function(){document.body.focus(),display.input.focus()},20))});webkit&&(display.scroller.draggable=!0),cm.state.draggingText=dragEnd,display.scroller.dragDrop&&display.scroller.dragDrop(),on(document,"mouseup",dragEnd),on(display.scroller,"drop",dragEnd)}function leftButtonSelect(cm,e,start,type,addNew){function extendTo(pos){if(0!=cmp(lastPos,pos))if(lastPos=pos,"rect"==type){for(var ranges=[],tabSize=cm.options.tabSize,startCol=countColumn(getLine(doc,start.line).text,start.ch,tabSize),posCol=countColumn(getLine(doc,pos.line).text,pos.ch,tabSize),left=Math.min(startCol,posCol),right=Math.max(startCol,posCol),line=Math.min(start.line,pos.line),end=Math.min(cm.lastLine(),Math.max(start.line,pos.line));line<=end;line++){var text=getLine(doc,line).text,leftPos=findColumn(text,left,tabSize);left==right?ranges.push(new Range(Pos(line,leftPos),Pos(line,leftPos))):text.length>leftPos&&ranges.push(new Range(Pos(line,leftPos),Pos(line,findColumn(text,right,tabSize))))}ranges.length||ranges.push(new Range(start,start)),setSelection(doc,normalizeSelection(startSel.ranges.slice(0,ourIndex).concat(ranges),ourIndex),{origin:"*mouse",scroll:!1}),cm.scrollIntoView(pos)}else{var oldRange=ourRange,anchor=oldRange.anchor,head=pos;if("single"!=type){if("double"==type)var range=cm.findWordAt(pos);else var range=new Range(Pos(pos.line,0),clipPos(doc,Pos(pos.line+1,0)));cmp(range.anchor,anchor)>0?(head=range.head,anchor=minPos(oldRange.from(),range.anchor)):(head=range.anchor,anchor=maxPos(oldRange.to(),range.head))}var ranges=startSel.ranges.slice(0);ranges[ourIndex]=new Range(clipPos(doc,anchor),head),setSelection(doc,normalizeSelection(ranges,ourIndex),sel_mouse)}}function extend(e){var curCount=++counter,cur=posFromMouse(cm,e,!0,"rect"==type);if(cur)if(0!=cmp(cur,lastPos)){ensureFocus(cm),extendTo(cur);var visible=visibleLines(display,doc);(cur.line>=visible.to||cur.line<visible.from)&&setTimeout(operation(cm,function(){counter==curCount&&extend(e)}),150)}else{var outside=e.clientY<editorSize.top?-20:e.clientY>editorSize.bottom?20:0;outside&&setTimeout(operation(cm,function(){counter==curCount&&(display.scroller.scrollTop+=outside,extend(e))}),50)}}function done(e){counter=1/0,e_preventDefault(e),display.input.focus(),off(document,"mousemove",move),off(document,"mouseup",up),doc.history.lastSelOrigin=null}var display=cm.display,doc=cm.doc;e_preventDefault(e);var ourRange,ourIndex,startSel=doc.sel,ranges=startSel.ranges;if(addNew&&!e.shiftKey?(ourIndex=doc.sel.contains(start),ourRange=ourIndex>-1?ranges[ourIndex]:new Range(start,start)):ourRange=doc.sel.primary(),e.altKey)type="rect",addNew||(ourRange=new Range(start,start)),start=posFromMouse(cm,e,!0,!0),ourIndex=-1;else if("double"==type){var word=cm.findWordAt(start);ourRange=cm.display.shift||doc.extend?extendRange(doc,ourRange,word.anchor,word.head):word}else if("triple"==type){var line=new Range(Pos(start.line,0),clipPos(doc,Pos(start.line+1,0)));ourRange=cm.display.shift||doc.extend?extendRange(doc,ourRange,line.anchor,line.head):line}else ourRange=extendRange(doc,ourRange,start);addNew?ourIndex==-1?(ourIndex=ranges.length,setSelection(doc,normalizeSelection(ranges.concat([ourRange]),ourIndex),{scroll:!1,origin:"*mouse"})):ranges.length>1&&ranges[ourIndex].empty()&&"single"==type?(setSelection(doc,normalizeSelection(ranges.slice(0,ourIndex).concat(ranges.slice(ourIndex+1)),0)),startSel=doc.sel):replaceOneSelection(doc,ourIndex,ourRange,sel_mouse):(ourIndex=0,setSelection(doc,new Selection([ourRange],0),sel_mouse),startSel=doc.sel);var lastPos=start,editorSize=display.wrapper.getBoundingClientRect(),counter=0,move=operation(cm,function(e){e_button(e)?extend(e):done(e)}),up=operation(cm,done);on(document,"mousemove",move),on(document,"mouseup",up)}function gutterEvent(cm,e,type,prevent,signalfn){try{var mX=e.clientX,mY=e.clientY}catch(e){return!1}if(mX>=Math.floor(cm.display.gutters.getBoundingClientRect().right))return!1;prevent&&e_preventDefault(e);var display=cm.display,lineBox=display.lineDiv.getBoundingClientRect();if(mY>lineBox.bottom||!hasHandler(cm,type))return e_defaultPrevented(e);mY-=lineBox.top-display.viewOffset;for(var i=0;i<cm.options.gutters.length;++i){var g=display.gutters.childNodes[i];if(g&&g.getBoundingClientRect().right>=mX){var line=lineAtHeight(cm.doc,mY),gutter=cm.options.gutters[i];return signalfn(cm,type,cm,line,gutter,e),e_defaultPrevented(e)}}}function clickInGutter(cm,e){return gutterEvent(cm,e,"gutterClick",!0,signalLater)}function onDrop(e){var cm=this;if(!signalDOMEvent(cm,e)&&!eventInWidget(cm.display,e)){e_preventDefault(e),ie&&(lastDrop=+new Date);var pos=posFromMouse(cm,e,!0),files=e.dataTransfer.files;if(pos&&!isReadOnly(cm))if(files&&files.length&&window.FileReader&&window.File)for(var n=files.length,text=Array(n),read=0,loadFile=function(file,i){var reader=new FileReader;reader.onload=operation(cm,function(){if(text[i]=reader.result,++read==n){pos=clipPos(cm.doc,pos);var change={from:pos,to:pos,text:splitLines(text.join("\n")),origin:"paste"};makeChange(cm.doc,change),setSelectionReplaceHistory(cm.doc,simpleSelection(pos,changeEnd(change)))}}),reader.readAsText(file)},i=0;i<n;++i)loadFile(files[i],i);else{if(cm.state.draggingText&&cm.doc.sel.contains(pos)>-1)return cm.state.draggingText(e),void setTimeout(function(){cm.display.input.focus()},20);try{var text=e.dataTransfer.getData("Text");if(text){if(cm.state.draggingText&&!(mac?e.metaKey:e.ctrlKey))var selected=cm.listSelections();if(setSelectionNoUndo(cm.doc,simpleSelection(pos,pos)),selected)for(var i=0;i<selected.length;++i)replaceRange(cm.doc,"",selected[i].anchor,selected[i].head,"drag");cm.replaceSelection(text,"around","paste"),cm.display.input.focus()}}catch(e){}}}}function onDragStart(cm,e){if(ie&&(!cm.state.draggingText||+new Date-lastDrop<100))return void e_stop(e);if(!signalDOMEvent(cm,e)&&!eventInWidget(cm.display,e)&&(e.dataTransfer.setData("Text",cm.getSelection()),e.dataTransfer.setDragImage&&!safari)){var img=elt("img",null,null,"position: fixed; left: 0; top: 0;");img.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",presto&&(img.width=img.height=1,cm.display.wrapper.appendChild(img),img._top=img.offsetTop),e.dataTransfer.setDragImage(img,0,0),presto&&img.parentNode.removeChild(img)}}function setScrollTop(cm,val){Math.abs(cm.doc.scrollTop-val)<2||(cm.doc.scrollTop=val,gecko||updateDisplaySimple(cm,{top:val}),cm.display.scroller.scrollTop!=val&&(cm.display.scroller.scrollTop=val),cm.display.scrollbars.setScrollTop(val),gecko&&updateDisplaySimple(cm),startWorker(cm,100))}function setScrollLeft(cm,val,isScroller){(isScroller?val==cm.doc.scrollLeft:Math.abs(cm.doc.scrollLeft-val)<2)||(val=Math.min(val,cm.display.scroller.scrollWidth-cm.display.scroller.clientWidth),cm.doc.scrollLeft=val,alignHorizontally(cm),cm.display.scroller.scrollLeft!=val&&(cm.display.scroller.scrollLeft=val),cm.display.scrollbars.setScrollLeft(val))}function onScrollWheel(cm,e){var delta=wheelEventDelta(e),dx=delta.x,dy=delta.y,display=cm.display,scroll=display.scroller;if(dx&&scroll.scrollWidth>scroll.clientWidth||dy&&scroll.scrollHeight>scroll.clientHeight){if(dy&&mac&&webkit)outer:for(var cur=e.target,view=display.view;cur!=scroll;cur=cur.parentNode)for(var i=0;i<view.length;i++)if(view[i].node==cur){cm.display.currentWheelTarget=cur;break outer}if(dx&&!gecko&&!presto&&null!=wheelPixelsPerUnit)return dy&&setScrollTop(cm,Math.max(0,Math.min(scroll.scrollTop+dy*wheelPixelsPerUnit,scroll.scrollHeight-scroll.clientHeight))),setScrollLeft(cm,Math.max(0,Math.min(scroll.scrollLeft+dx*wheelPixelsPerUnit,scroll.scrollWidth-scroll.clientWidth))),e_preventDefault(e),void(display.wheelStartX=null);if(dy&&null!=wheelPixelsPerUnit){var pixels=dy*wheelPixelsPerUnit,top=cm.doc.scrollTop,bot=top+display.wrapper.clientHeight;pixels<0?top=Math.max(0,top+pixels-50):bot=Math.min(cm.doc.height,bot+pixels+50),updateDisplaySimple(cm,{top:top,bottom:bot})}wheelSamples<20&&(null==display.wheelStartX?(display.wheelStartX=scroll.scrollLeft,display.wheelStartY=scroll.scrollTop,display.wheelDX=dx,display.wheelDY=dy,setTimeout(function(){if(null!=display.wheelStartX){var movedX=scroll.scrollLeft-display.wheelStartX,movedY=scroll.scrollTop-display.wheelStartY,sample=movedY&&display.wheelDY&&movedY/display.wheelDY||movedX&&display.wheelDX&&movedX/display.wheelDX;display.wheelStartX=display.wheelStartY=null,sample&&(wheelPixelsPerUnit=(wheelPixelsPerUnit*wheelSamples+sample)/(wheelSamples+1),++wheelSamples)}},200)):(display.wheelDX+=dx,display.wheelDY+=dy))}}function doHandleBinding(cm,bound,dropShift){if("string"==typeof bound&&(bound=commands[bound],!bound))return!1;cm.display.input.ensurePolled();var prevShift=cm.display.shift,done=!1;try{isReadOnly(cm)&&(cm.state.suppressEdits=!0),dropShift&&(cm.display.shift=!1),done=bound(cm)!=Pass}finally{cm.display.shift=prevShift,cm.state.suppressEdits=!1}return done}function lookupKeyForEditor(cm,name,handle){for(var i=0;i<cm.state.keyMaps.length;i++){var result=lookupKey(name,cm.state.keyMaps[i],handle,cm);if(result)return result}return cm.options.extraKeys&&lookupKey(name,cm.options.extraKeys,handle,cm)||lookupKey(name,cm.options.keyMap,handle,cm)}function dispatchKey(cm,name,e,handle){var seq=cm.state.keySeq;if(seq){if(isModifierKey(name))return"handled";stopSeq.set(50,function(){cm.state.keySeq==seq&&(cm.state.keySeq=null,cm.display.input.reset())}),name=seq+" "+name}var result=lookupKeyForEditor(cm,name,handle);return"multi"==result&&(cm.state.keySeq=name),"handled"==result&&signalLater(cm,"keyHandled",cm,name,e),"handled"!=result&&"multi"!=result||(e_preventDefault(e),restartBlink(cm)),seq&&!result&&/\'$/.test(name)?(e_preventDefault(e),!0):!!result}function handleKeyBinding(cm,e){var name=keyName(e,!0);return!!name&&(e.shiftKey&&!cm.state.keySeq?dispatchKey(cm,"Shift-"+name,e,function(b){return doHandleBinding(cm,b,!0)})||dispatchKey(cm,name,e,function(b){if("string"==typeof b?/^go[A-Z]/.test(b):b.motion)return doHandleBinding(cm,b)}):dispatchKey(cm,name,e,function(b){return doHandleBinding(cm,b)}))}function handleCharBinding(cm,e,ch){return dispatchKey(cm,"'"+ch+"'",e,function(b){return doHandleBinding(cm,b,!0)})}function onKeyDown(e){var cm=this;if(ensureFocus(cm),!signalDOMEvent(cm,e)){ie&&ie_version<11&&27==e.keyCode&&(e.returnValue=!1);var code=e.keyCode;cm.display.shift=16==code||e.shiftKey;var handled=handleKeyBinding(cm,e);presto&&(lastStoppedKey=handled?code:null,!handled&&88==code&&!hasCopyEvent&&(mac?e.metaKey:e.ctrlKey)&&cm.replaceSelection("",null,"cut")),18!=code||/\bCodeMirror-crosshair\b/.test(cm.display.lineDiv.className)||showCrossHair(cm)}}function showCrossHair(cm){function up(e){18!=e.keyCode&&e.altKey||(rmClass(lineDiv,"CodeMirror-crosshair"),off(document,"keyup",up),off(document,"mouseover",up))}var lineDiv=cm.display.lineDiv;addClass(lineDiv,"CodeMirror-crosshair"),on(document,"keyup",up),on(document,"mouseover",up)}function onKeyUp(e){16==e.keyCode&&(this.doc.sel.shift=!1),signalDOMEvent(this,e)}function onKeyPress(e){var cm=this;if(!(eventInWidget(cm.display,e)||signalDOMEvent(cm,e)||e.ctrlKey&&!e.altKey||mac&&e.metaKey)){var keyCode=e.keyCode,charCode=e.charCode;if(presto&&keyCode==lastStoppedKey)return lastStoppedKey=null,void e_preventDefault(e);if(!presto||e.which&&!(e.which<10)||!handleKeyBinding(cm,e)){var ch=String.fromCharCode(null==charCode?keyCode:charCode);handleCharBinding(cm,e,ch)||cm.display.input.onKeyPress(e)}}}function onFocus(cm){"nocursor"!=cm.options.readOnly&&(cm.state.focused||(signal(cm,"focus",cm),cm.state.focused=!0,addClass(cm.display.wrapper,"CodeMirror-focused"),cm.curOp||cm.display.selForContextMenu==cm.doc.sel||(cm.display.input.reset(),webkit&&setTimeout(function(){cm.display.input.reset(!0)},20)),cm.display.input.receivedFocus()),restartBlink(cm))}function onBlur(cm){cm.state.focused&&(signal(cm,"blur",cm),cm.state.focused=!1,rmClass(cm.display.wrapper,"CodeMirror-focused")),clearInterval(cm.display.blinker),setTimeout(function(){cm.state.focused||(cm.display.shift=!1)},150)}function onContextMenu(cm,e){eventInWidget(cm.display,e)||contextMenuInGutter(cm,e)||cm.display.input.onContextMenu(e)}function contextMenuInGutter(cm,e){return!!hasHandler(cm,"gutterContextMenu")&&gutterEvent(cm,e,"gutterContextMenu",!1,signal)}function adjustForChange(pos,change){if(cmp(pos,change.from)<0)return pos;if(cmp(pos,change.to)<=0)return changeEnd(change);var line=pos.line+change.text.length-(change.to.line-change.from.line)-1,ch=pos.ch;return pos.line==change.to.line&&(ch+=changeEnd(change).ch-change.to.ch),Pos(line,ch)}function computeSelAfterChange(doc,change){for(var out=[],i=0;i<doc.sel.ranges.length;i++){var range=doc.sel.ranges[i];out.push(new Range(adjustForChange(range.anchor,change),adjustForChange(range.head,change)))}return normalizeSelection(out,doc.sel.primIndex)}function offsetPos(pos,old,nw){return pos.line==old.line?Pos(nw.line,pos.ch-old.ch+nw.ch):Pos(nw.line+(pos.line-old.line),pos.ch)}function computeReplacedSel(doc,changes,hint){for(var out=[],oldPrev=Pos(doc.first,0),newPrev=oldPrev,i=0;i<changes.length;i++){var change=changes[i],from=offsetPos(change.from,oldPrev,newPrev),to=offsetPos(changeEnd(change),oldPrev,newPrev);if(oldPrev=change.to,newPrev=to,"around"==hint){var range=doc.sel.ranges[i],inv=cmp(range.head,range.anchor)<0;out[i]=new Range(inv?to:from,inv?from:to)}else out[i]=new Range(from,from)}return new Selection(out,doc.sel.primIndex)}function filterChange(doc,change,update){var obj={canceled:!1,from:change.from,to:change.to,text:change.text,origin:change.origin,cancel:function(){this.canceled=!0}};return update&&(obj.update=function(from,to,text,origin){from&&(this.from=clipPos(doc,from)),to&&(this.to=clipPos(doc,to)),text&&(this.text=text),void 0!==origin&&(this.origin=origin)}),signal(doc,"beforeChange",doc,obj),doc.cm&&signal(doc.cm,"beforeChange",doc.cm,obj),obj.canceled?null:{from:obj.from,to:obj.to,text:obj.text,origin:obj.origin}}function makeChange(doc,change,ignoreReadOnly){if(doc.cm){if(!doc.cm.curOp)return operation(doc.cm,makeChange)(doc,change,ignoreReadOnly);if(doc.cm.state.suppressEdits)return}if(!(hasHandler(doc,"beforeChange")||doc.cm&&hasHandler(doc.cm,"beforeChange"))||(change=filterChange(doc,change,!0))){var split=sawReadOnlySpans&&!ignoreReadOnly&&removeReadOnlyRanges(doc,change.from,change.to);if(split)for(var i=split.length-1;i>=0;--i)makeChangeInner(doc,{from:split[i].from,to:split[i].to,text:i?[""]:change.text});else makeChangeInner(doc,change)}}function makeChangeInner(doc,change){if(1!=change.text.length||""!=change.text[0]||0!=cmp(change.from,change.to)){var selAfter=computeSelAfterChange(doc,change);addChangeToHistory(doc,change,selAfter,doc.cm?doc.cm.curOp.id:NaN),makeChangeSingleDoc(doc,change,selAfter,stretchSpansOverChange(doc,change));var rebased=[];linkedDocs(doc,function(doc,sharedHist){sharedHist||indexOf(rebased,doc.history)!=-1||(rebaseHist(doc.history,change),rebased.push(doc.history)),makeChangeSingleDoc(doc,change,null,stretchSpansOverChange(doc,change))})}}function makeChangeFromHistory(doc,type,allowSelectionOnly){if(!doc.cm||!doc.cm.state.suppressEdits){for(var event,hist=doc.history,selAfter=doc.sel,source="undo"==type?hist.done:hist.undone,dest="undo"==type?hist.undone:hist.done,i=0;i<source.length&&(event=source[i],allowSelectionOnly?!event.ranges||event.equals(doc.sel):event.ranges);i++);if(i!=source.length){for(hist.lastOrigin=hist.lastSelOrigin=null;event=source.pop(),event.ranges;){if(pushSelectionToHistory(event,dest),allowSelectionOnly&&!event.equals(doc.sel))return void setSelection(doc,event,{clearRedo:!1});selAfter=event}var antiChanges=[];pushSelectionToHistory(selAfter,dest),dest.push({changes:antiChanges,generation:hist.generation}),hist.generation=event.generation||++hist.maxGeneration;for(var filter=hasHandler(doc,"beforeChange")||doc.cm&&hasHandler(doc.cm,"beforeChange"),i=event.changes.length-1;i>=0;--i){var change=event.changes[i];if(change.origin=type,filter&&!filterChange(doc,change,!1))return void(source.length=0);antiChanges.push(historyChangeFromChange(doc,change));var after=i?computeSelAfterChange(doc,change):lst(source);makeChangeSingleDoc(doc,change,after,mergeOldSpans(doc,change)),!i&&doc.cm&&doc.cm.scrollIntoView({from:change.from,to:changeEnd(change)});var rebased=[];linkedDocs(doc,function(doc,sharedHist){sharedHist||indexOf(rebased,doc.history)!=-1||(rebaseHist(doc.history,change),rebased.push(doc.history)),makeChangeSingleDoc(doc,change,null,mergeOldSpans(doc,change))})}}}}function shiftDoc(doc,distance){if(0!=distance&&(doc.first+=distance,doc.sel=new Selection(map(doc.sel.ranges,function(range){return new Range(Pos(range.anchor.line+distance,range.anchor.ch),Pos(range.head.line+distance,range.head.ch))}),doc.sel.primIndex),doc.cm)){regChange(doc.cm,doc.first,doc.first-distance,distance);for(var d=doc.cm.display,l=d.viewFrom;l<d.viewTo;l++)regLineChange(doc.cm,l,"gutter")}}function makeChangeSingleDoc(doc,change,selAfter,spans){if(doc.cm&&!doc.cm.curOp)return operation(doc.cm,makeChangeSingleDoc)(doc,change,selAfter,spans);if(change.to.line<doc.first)return void shiftDoc(doc,change.text.length-1-(change.to.line-change.from.line));if(!(change.from.line>doc.lastLine())){if(change.from.line<doc.first){var shift=change.text.length-1-(doc.first-change.from.line);shiftDoc(doc,shift),change={from:Pos(doc.first,0),to:Pos(change.to.line+shift,change.to.ch),text:[lst(change.text)],origin:change.origin}}var last=doc.lastLine();change.to.line>last&&(change={from:change.from,to:Pos(last,getLine(doc,last).text.length),text:[change.text[0]],origin:change.origin}),change.removed=getBetween(doc,change.from,change.to),selAfter||(selAfter=computeSelAfterChange(doc,change)),doc.cm?makeChangeSingleDocInEditor(doc.cm,change,spans):updateDoc(doc,change,spans),setSelectionNoUndo(doc,selAfter,sel_dontScroll)}}function makeChangeSingleDocInEditor(cm,change,spans){var doc=cm.doc,display=cm.display,from=change.from,to=change.to,recomputeMaxLength=!1,checkWidthStart=from.line;cm.options.lineWrapping||(checkWidthStart=lineNo(visualLine(getLine(doc,from.line))),doc.iter(checkWidthStart,to.line+1,function(line){if(line==display.maxLine)return recomputeMaxLength=!0,!0})),doc.sel.contains(change.from,change.to)>-1&&signalCursorActivity(cm),updateDoc(doc,change,spans,estimateHeight(cm)),cm.options.lineWrapping||(doc.iter(checkWidthStart,from.line+change.text.length,function(line){var len=lineLength(line);len>display.maxLineLength&&(display.maxLine=line,display.maxLineLength=len,display.maxLineChanged=!0,recomputeMaxLength=!1)}),recomputeMaxLength&&(cm.curOp.updateMaxLine=!0)),doc.frontier=Math.min(doc.frontier,from.line),startWorker(cm,400);var lendiff=change.text.length-(to.line-from.line)-1;change.full?regChange(cm):from.line!=to.line||1!=change.text.length||isWholeLineUpdate(cm.doc,change)?regChange(cm,from.line,to.line+1,lendiff):regLineChange(cm,from.line,"text");var changesHandler=hasHandler(cm,"changes"),changeHandler=hasHandler(cm,"change");if(changeHandler||changesHandler){var obj={from:from,to:to,text:change.text,removed:change.removed,origin:change.origin};changeHandler&&signalLater(cm,"change",cm,obj),changesHandler&&(cm.curOp.changeObjs||(cm.curOp.changeObjs=[])).push(obj)}cm.display.selForContextMenu=null}function replaceRange(doc,code,from,to,origin){if(to||(to=from),cmp(to,from)<0){var tmp=to;to=from,from=tmp}"string"==typeof code&&(code=splitLines(code)),makeChange(doc,{from:from,to:to,text:code,origin:origin})}function maybeScrollWindow(cm,coords){if(!signalDOMEvent(cm,"scrollCursorIntoView")){var display=cm.display,box=display.sizer.getBoundingClientRect(),doScroll=null;if(coords.top+box.top<0?doScroll=!0:coords.bottom+box.top>(window.innerHeight||document.documentElement.clientHeight)&&(doScroll=!1),null!=doScroll&&!phantom){var scrollNode=elt("div","​",null,"position: absolute; top: "+(coords.top-display.viewOffset-paddingTop(cm.display))+"px; height: "+(coords.bottom-coords.top+scrollGap(cm)+display.barHeight)+"px; left: "+coords.left+"px; width: 2px;");cm.display.lineSpace.appendChild(scrollNode),scrollNode.scrollIntoView(doScroll),cm.display.lineSpace.removeChild(scrollNode)}}}function scrollPosIntoView(cm,pos,end,margin){null==margin&&(margin=0);for(var limit=0;limit<5;limit++){var changed=!1,coords=cursorCoords(cm,pos),endCoords=end&&end!=pos?cursorCoords(cm,end):coords,scrollPos=calculateScrollPos(cm,Math.min(coords.left,endCoords.left),Math.min(coords.top,endCoords.top)-margin,Math.max(coords.left,endCoords.left),Math.max(coords.bottom,endCoords.bottom)+margin),startTop=cm.doc.scrollTop,startLeft=cm.doc.scrollLeft;if(null!=scrollPos.scrollTop&&(setScrollTop(cm,scrollPos.scrollTop),Math.abs(cm.doc.scrollTop-startTop)>1&&(changed=!0)),null!=scrollPos.scrollLeft&&(setScrollLeft(cm,scrollPos.scrollLeft),Math.abs(cm.doc.scrollLeft-startLeft)>1&&(changed=!0)),!changed)break}return coords}function scrollIntoView(cm,x1,y1,x2,y2){var scrollPos=calculateScrollPos(cm,x1,y1,x2,y2);null!=scrollPos.scrollTop&&setScrollTop(cm,scrollPos.scrollTop),null!=scrollPos.scrollLeft&&setScrollLeft(cm,scrollPos.scrollLeft)}function calculateScrollPos(cm,x1,y1,x2,y2){var display=cm.display,snapMargin=textHeight(cm.display);y1<0&&(y1=0);var screentop=cm.curOp&&null!=cm.curOp.scrollTop?cm.curOp.scrollTop:display.scroller.scrollTop,screen=displayHeight(cm),result={};y2-y1>screen&&(y2=y1+screen);var docBottom=cm.doc.height+paddingVert(display),atTop=y1<snapMargin,atBottom=y2>docBottom-snapMargin;if(y1<screentop)result.scrollTop=atTop?0:y1;else if(y2>screentop+screen){var newTop=Math.min(y1,(atBottom?docBottom:y2)-screen);newTop!=screentop&&(result.scrollTop=newTop)}var screenleft=cm.curOp&&null!=cm.curOp.scrollLeft?cm.curOp.scrollLeft:display.scroller.scrollLeft,screenw=displayWidth(cm)-(cm.options.fixedGutter?display.gutters.offsetWidth:0),tooWide=x2-x1>screenw;return tooWide&&(x2=x1+screenw),x1<10?result.scrollLeft=0:x1<screenleft?result.scrollLeft=Math.max(0,x1-(tooWide?0:10)):x2>screenw+screenleft-3&&(result.scrollLeft=x2+(tooWide?0:10)-screenw),result}function addToScrollPos(cm,left,top){null==left&&null==top||resolveScrollToPos(cm),null!=left&&(cm.curOp.scrollLeft=(null==cm.curOp.scrollLeft?cm.doc.scrollLeft:cm.curOp.scrollLeft)+left),null!=top&&(cm.curOp.scrollTop=(null==cm.curOp.scrollTop?cm.doc.scrollTop:cm.curOp.scrollTop)+top)}function ensureCursorVisible(cm){resolveScrollToPos(cm);var cur=cm.getCursor(),from=cur,to=cur;cm.options.lineWrapping||(from=cur.ch?Pos(cur.line,cur.ch-1):cur,to=Pos(cur.line,cur.ch+1)),cm.curOp.scrollToPos={from:from,to:to,margin:cm.options.cursorScrollMargin,isCursor:!0}}function resolveScrollToPos(cm){var range=cm.curOp.scrollToPos;if(range){cm.curOp.scrollToPos=null;var from=estimateCoords(cm,range.from),to=estimateCoords(cm,range.to),sPos=calculateScrollPos(cm,Math.min(from.left,to.left),Math.min(from.top,to.top)-range.margin,Math.max(from.right,to.right),Math.max(from.bottom,to.bottom)+range.margin);cm.scrollTo(sPos.scrollLeft,sPos.scrollTop)}}function indentLine(cm,n,how,aggressive){var state,doc=cm.doc;null==how&&(how="add"),"smart"==how&&(doc.mode.indent?state=getStateBefore(cm,n):how="prev");var tabSize=cm.options.tabSize,line=getLine(doc,n),curSpace=countColumn(line.text,null,tabSize);line.stateAfter&&(line.stateAfter=null);var indentation,curSpaceString=line.text.match(/^\s*/)[0];if(aggressive||/\S/.test(line.text)){if("smart"==how&&(indentation=doc.mode.indent(state,line.text.slice(curSpaceString.length),line.text),indentation==Pass||indentation>150)){if(!aggressive)return;how="prev"}}else indentation=0,how="not";"prev"==how?indentation=n>doc.first?countColumn(getLine(doc,n-1).text,null,tabSize):0:"add"==how?indentation=curSpace+cm.options.indentUnit:"subtract"==how?indentation=curSpace-cm.options.indentUnit:"number"==typeof how&&(indentation=curSpace+how),indentation=Math.max(0,indentation);var indentString="",pos=0;if(cm.options.indentWithTabs)for(var i=Math.floor(indentation/tabSize);i;--i)pos+=tabSize,indentString+="\t";if(pos<indentation&&(indentString+=spaceStr(indentation-pos)),indentString!=curSpaceString)replaceRange(doc,indentString,Pos(n,0),Pos(n,curSpaceString.length),"+input");else for(var i=0;i<doc.sel.ranges.length;i++){var range=doc.sel.ranges[i];if(range.head.line==n&&range.head.ch<curSpaceString.length){var pos=Pos(n,curSpaceString.length);replaceOneSelection(doc,i,new Range(pos,pos));break}}line.stateAfter=null}function changeLine(doc,handle,changeType,op){var no=handle,line=handle;return"number"==typeof handle?line=getLine(doc,clipLine(doc,handle)):no=lineNo(handle),null==no?null:(op(line,no)&&doc.cm&&regLineChange(doc.cm,no,changeType),
line)}function deleteNearSelection(cm,compute){for(var ranges=cm.doc.sel.ranges,kill=[],i=0;i<ranges.length;i++){for(var toKill=compute(ranges[i]);kill.length&&cmp(toKill.from,lst(kill).to)<=0;){var replaced=kill.pop();if(cmp(replaced.from,toKill.from)<0){toKill.from=replaced.from;break}}kill.push(toKill)}runInOp(cm,function(){for(var i=kill.length-1;i>=0;i--)replaceRange(cm.doc,"",kill[i].from,kill[i].to,"+delete");ensureCursorVisible(cm)})}function findPosH(doc,pos,dir,unit,visually){function findNextLine(){var l=line+dir;return l<doc.first||l>=doc.first+doc.size?possible=!1:(line=l,lineObj=getLine(doc,l))}function moveOnce(boundToLine){var next=(visually?moveVisually:moveLogically)(lineObj,ch,dir,!0);if(null==next){if(boundToLine||!findNextLine())return possible=!1;ch=visually?(dir<0?lineRight:lineLeft)(lineObj):dir<0?lineObj.text.length:0}else ch=next;return!0}var line=pos.line,ch=pos.ch,origDir=dir,lineObj=getLine(doc,line),possible=!0;if("char"==unit)moveOnce();else if("column"==unit)moveOnce(!0);else if("word"==unit||"group"==unit)for(var sawType=null,group="group"==unit,helper=doc.cm&&doc.cm.getHelper(pos,"wordChars"),first=!0;!(dir<0)||moveOnce(!first);first=!1){var cur=lineObj.text.charAt(ch)||"\n",type=isWordChar(cur,helper)?"w":group&&"\n"==cur?"n":!group||/\s/.test(cur)?null:"p";if(!group||first||type||(type="s"),sawType&&sawType!=type){dir<0&&(dir=1,moveOnce());break}if(type&&(sawType=type),dir>0&&!moveOnce(!first))break}var result=skipAtomic(doc,Pos(line,ch),origDir,!0);return possible||(result.hitSide=!0),result}function findPosV(cm,pos,dir,unit){var y,doc=cm.doc,x=pos.left;if("page"==unit){var pageSize=Math.min(cm.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);y=pos.top+dir*(pageSize-(dir<0?1.5:.5)*textHeight(cm.display))}else"line"==unit&&(y=dir>0?pos.bottom+3:pos.top-3);for(;;){var target=coordsChar(cm,x,y);if(!target.outside)break;if(dir<0?y<=0:y>=doc.height){target.hitSide=!0;break}y+=5*dir}return target}function option(name,deflt,handle,notOnInit){CodeMirror.defaults[name]=deflt,handle&&(optionHandlers[name]=notOnInit?function(cm,val,old){old!=Init&&handle(cm,val,old)}:handle)}function normalizeKeyName(name){for(var alt,ctrl,shift,cmd,parts=name.split(/-(?!$)/),name=parts[parts.length-1],i=0;i<parts.length-1;i++){var mod=parts[i];if(/^(cmd|meta|m)$/i.test(mod))cmd=!0;else if(/^a(lt)?$/i.test(mod))alt=!0;else if(/^(c|ctrl|control)$/i.test(mod))ctrl=!0;else{if(!/^s(hift)$/i.test(mod))throw new Error("Unrecognized modifier name: "+mod);shift=!0}}return alt&&(name="Alt-"+name),ctrl&&(name="Ctrl-"+name),cmd&&(name="Cmd-"+name),shift&&(name="Shift-"+name),name}function getKeyMap(val){return"string"==typeof val?keyMap[val]:val}function markText(doc,from,to,options,type){if(options&&options.shared)return markTextShared(doc,from,to,options,type);if(doc.cm&&!doc.cm.curOp)return operation(doc.cm,markText)(doc,from,to,options,type);var marker=new TextMarker(doc,type),diff=cmp(from,to);if(options&&copyObj(options,marker,!1),diff>0||0==diff&&marker.clearWhenEmpty!==!1)return marker;if(marker.replacedWith&&(marker.collapsed=!0,marker.widgetNode=elt("span",[marker.replacedWith],"CodeMirror-widget"),options.handleMouseEvents||marker.widgetNode.setAttribute("cm-ignore-events","true"),options.insertLeft&&(marker.widgetNode.insertLeft=!0)),marker.collapsed){if(conflictingCollapsedRange(doc,from.line,from,to,marker)||from.line!=to.line&&conflictingCollapsedRange(doc,to.line,from,to,marker))throw new Error("Inserting collapsed marker partially overlapping an existing one");sawCollapsedSpans=!0}marker.addToHistory&&addChangeToHistory(doc,{from:from,to:to,origin:"markText"},doc.sel,NaN);var updateMaxLine,curLine=from.line,cm=doc.cm;if(doc.iter(curLine,to.line+1,function(line){cm&&marker.collapsed&&!cm.options.lineWrapping&&visualLine(line)==cm.display.maxLine&&(updateMaxLine=!0),marker.collapsed&&curLine!=from.line&&updateLineHeight(line,0),addMarkedSpan(line,new MarkedSpan(marker,curLine==from.line?from.ch:null,curLine==to.line?to.ch:null)),++curLine}),marker.collapsed&&doc.iter(from.line,to.line+1,function(line){lineIsHidden(doc,line)&&updateLineHeight(line,0)}),marker.clearOnEnter&&on(marker,"beforeCursorEnter",function(){marker.clear()}),marker.readOnly&&(sawReadOnlySpans=!0,(doc.history.done.length||doc.history.undone.length)&&doc.clearHistory()),marker.collapsed&&(marker.id=++nextMarkerId,marker.atomic=!0),cm){if(updateMaxLine&&(cm.curOp.updateMaxLine=!0),marker.collapsed)regChange(cm,from.line,to.line+1);else if(marker.className||marker.title||marker.startStyle||marker.endStyle||marker.css)for(var i=from.line;i<=to.line;i++)regLineChange(cm,i,"text");marker.atomic&&reCheckSelection(cm.doc),signalLater(cm,"markerAdded",cm,marker)}return marker}function markTextShared(doc,from,to,options,type){options=copyObj(options),options.shared=!1;var markers=[markText(doc,from,to,options,type)],primary=markers[0],widget=options.widgetNode;return linkedDocs(doc,function(doc){widget&&(options.widgetNode=widget.cloneNode(!0)),markers.push(markText(doc,clipPos(doc,from),clipPos(doc,to),options,type));for(var i=0;i<doc.linked.length;++i)if(doc.linked[i].isParent)return;primary=lst(markers)}),new SharedTextMarker(markers,primary)}function findSharedMarkers(doc){return doc.findMarks(Pos(doc.first,0),doc.clipPos(Pos(doc.lastLine())),function(m){return m.parent})}function copySharedMarkers(doc,markers){for(var i=0;i<markers.length;i++){var marker=markers[i],pos=marker.find(),mFrom=doc.clipPos(pos.from),mTo=doc.clipPos(pos.to);if(cmp(mFrom,mTo)){var subMark=markText(doc,mFrom,mTo,marker.primary,marker.primary.type);marker.markers.push(subMark),subMark.parent=marker}}}function detachSharedMarkers(markers){for(var i=0;i<markers.length;i++){var marker=markers[i],linked=[marker.primary.doc];linkedDocs(marker.primary.doc,function(d){linked.push(d)});for(var j=0;j<marker.markers.length;j++){var subMarker=marker.markers[j];indexOf(linked,subMarker.doc)==-1&&(subMarker.parent=null,marker.markers.splice(j--,1))}}}function MarkedSpan(marker,from,to){this.marker=marker,this.from=from,this.to=to}function getMarkedSpanFor(spans,marker){if(spans)for(var i=0;i<spans.length;++i){var span=spans[i];if(span.marker==marker)return span}}function removeMarkedSpan(spans,span){for(var r,i=0;i<spans.length;++i)spans[i]!=span&&(r||(r=[])).push(spans[i]);return r}function addMarkedSpan(line,span){line.markedSpans=line.markedSpans?line.markedSpans.concat([span]):[span],span.marker.attachLine(line)}function markedSpansBefore(old,startCh,isInsert){if(old)for(var nw,i=0;i<old.length;++i){var span=old[i],marker=span.marker,startsBefore=null==span.from||(marker.inclusiveLeft?span.from<=startCh:span.from<startCh);if(startsBefore||span.from==startCh&&"bookmark"==marker.type&&(!isInsert||!span.marker.insertLeft)){var endsAfter=null==span.to||(marker.inclusiveRight?span.to>=startCh:span.to>startCh);(nw||(nw=[])).push(new MarkedSpan(marker,span.from,endsAfter?null:span.to))}}return nw}function markedSpansAfter(old,endCh,isInsert){if(old)for(var nw,i=0;i<old.length;++i){var span=old[i],marker=span.marker,endsAfter=null==span.to||(marker.inclusiveRight?span.to>=endCh:span.to>endCh);if(endsAfter||span.from==endCh&&"bookmark"==marker.type&&(!isInsert||span.marker.insertLeft)){var startsBefore=null==span.from||(marker.inclusiveLeft?span.from<=endCh:span.from<endCh);(nw||(nw=[])).push(new MarkedSpan(marker,startsBefore?null:span.from-endCh,null==span.to?null:span.to-endCh))}}return nw}function stretchSpansOverChange(doc,change){if(change.full)return null;var oldFirst=isLine(doc,change.from.line)&&getLine(doc,change.from.line).markedSpans,oldLast=isLine(doc,change.to.line)&&getLine(doc,change.to.line).markedSpans;if(!oldFirst&&!oldLast)return null;var startCh=change.from.ch,endCh=change.to.ch,isInsert=0==cmp(change.from,change.to),first=markedSpansBefore(oldFirst,startCh,isInsert),last=markedSpansAfter(oldLast,endCh,isInsert),sameLine=1==change.text.length,offset=lst(change.text).length+(sameLine?startCh:0);if(first)for(var i=0;i<first.length;++i){var span=first[i];if(null==span.to){var found=getMarkedSpanFor(last,span.marker);found?sameLine&&(span.to=null==found.to?null:found.to+offset):span.to=startCh}}if(last)for(var i=0;i<last.length;++i){var span=last[i];if(null!=span.to&&(span.to+=offset),null==span.from){var found=getMarkedSpanFor(first,span.marker);found||(span.from=offset,sameLine&&(first||(first=[])).push(span))}else span.from+=offset,sameLine&&(first||(first=[])).push(span)}first&&(first=clearEmptySpans(first)),last&&last!=first&&(last=clearEmptySpans(last));var newMarkers=[first];if(!sameLine){var gapMarkers,gap=change.text.length-2;if(gap>0&&first)for(var i=0;i<first.length;++i)null==first[i].to&&(gapMarkers||(gapMarkers=[])).push(new MarkedSpan(first[i].marker,null,null));for(var i=0;i<gap;++i)newMarkers.push(gapMarkers);newMarkers.push(last)}return newMarkers}function clearEmptySpans(spans){for(var i=0;i<spans.length;++i){var span=spans[i];null!=span.from&&span.from==span.to&&span.marker.clearWhenEmpty!==!1&&spans.splice(i--,1)}return spans.length?spans:null}function mergeOldSpans(doc,change){var old=getOldSpans(doc,change),stretched=stretchSpansOverChange(doc,change);if(!old)return stretched;if(!stretched)return old;for(var i=0;i<old.length;++i){var oldCur=old[i],stretchCur=stretched[i];if(oldCur&&stretchCur)spans:for(var j=0;j<stretchCur.length;++j){for(var span=stretchCur[j],k=0;k<oldCur.length;++k)if(oldCur[k].marker==span.marker)continue spans;oldCur.push(span)}else stretchCur&&(old[i]=stretchCur)}return old}function removeReadOnlyRanges(doc,from,to){var markers=null;if(doc.iter(from.line,to.line+1,function(line){if(line.markedSpans)for(var i=0;i<line.markedSpans.length;++i){var mark=line.markedSpans[i].marker;!mark.readOnly||markers&&indexOf(markers,mark)!=-1||(markers||(markers=[])).push(mark)}}),!markers)return null;for(var parts=[{from:from,to:to}],i=0;i<markers.length;++i)for(var mk=markers[i],m=mk.find(0),j=0;j<parts.length;++j){var p=parts[j];if(!(cmp(p.to,m.from)<0||cmp(p.from,m.to)>0)){var newParts=[j,1],dfrom=cmp(p.from,m.from),dto=cmp(p.to,m.to);(dfrom<0||!mk.inclusiveLeft&&!dfrom)&&newParts.push({from:p.from,to:m.from}),(dto>0||!mk.inclusiveRight&&!dto)&&newParts.push({from:m.to,to:p.to}),parts.splice.apply(parts,newParts),j+=newParts.length-1}}return parts}function detachMarkedSpans(line){var spans=line.markedSpans;if(spans){for(var i=0;i<spans.length;++i)spans[i].marker.detachLine(line);line.markedSpans=null}}function attachMarkedSpans(line,spans){if(spans){for(var i=0;i<spans.length;++i)spans[i].marker.attachLine(line);line.markedSpans=spans}}function extraLeft(marker){return marker.inclusiveLeft?-1:0}function extraRight(marker){return marker.inclusiveRight?1:0}function compareCollapsedMarkers(a,b){var lenDiff=a.lines.length-b.lines.length;if(0!=lenDiff)return lenDiff;var aPos=a.find(),bPos=b.find(),fromCmp=cmp(aPos.from,bPos.from)||extraLeft(a)-extraLeft(b);if(fromCmp)return-fromCmp;var toCmp=cmp(aPos.to,bPos.to)||extraRight(a)-extraRight(b);return toCmp?toCmp:b.id-a.id}function collapsedSpanAtSide(line,start){var found,sps=sawCollapsedSpans&&line.markedSpans;if(sps)for(var sp,i=0;i<sps.length;++i)sp=sps[i],sp.marker.collapsed&&null==(start?sp.from:sp.to)&&(!found||compareCollapsedMarkers(found,sp.marker)<0)&&(found=sp.marker);return found}function collapsedSpanAtStart(line){return collapsedSpanAtSide(line,!0)}function collapsedSpanAtEnd(line){return collapsedSpanAtSide(line,!1)}function conflictingCollapsedRange(doc,lineNo,from,to,marker){var line=getLine(doc,lineNo),sps=sawCollapsedSpans&&line.markedSpans;if(sps)for(var i=0;i<sps.length;++i){var sp=sps[i];if(sp.marker.collapsed){var found=sp.marker.find(0),fromCmp=cmp(found.from,from)||extraLeft(sp.marker)-extraLeft(marker),toCmp=cmp(found.to,to)||extraRight(sp.marker)-extraRight(marker);if(!(fromCmp>=0&&toCmp<=0||fromCmp<=0&&toCmp>=0)&&(fromCmp<=0&&(cmp(found.to,from)>0||sp.marker.inclusiveRight&&marker.inclusiveLeft)||fromCmp>=0&&(cmp(found.from,to)<0||sp.marker.inclusiveLeft&&marker.inclusiveRight)))return!0}}}function visualLine(line){for(var merged;merged=collapsedSpanAtStart(line);)line=merged.find(-1,!0).line;return line}function visualLineContinued(line){for(var merged,lines;merged=collapsedSpanAtEnd(line);)line=merged.find(1,!0).line,(lines||(lines=[])).push(line);return lines}function visualLineNo(doc,lineN){var line=getLine(doc,lineN),vis=visualLine(line);return line==vis?lineN:lineNo(vis)}function visualLineEndNo(doc,lineN){if(lineN>doc.lastLine())return lineN;var merged,line=getLine(doc,lineN);if(!lineIsHidden(doc,line))return lineN;for(;merged=collapsedSpanAtEnd(line);)line=merged.find(1,!0).line;return lineNo(line)+1}function lineIsHidden(doc,line){var sps=sawCollapsedSpans&&line.markedSpans;if(sps)for(var sp,i=0;i<sps.length;++i)if(sp=sps[i],sp.marker.collapsed){if(null==sp.from)return!0;if(!sp.marker.widgetNode&&0==sp.from&&sp.marker.inclusiveLeft&&lineIsHiddenInner(doc,line,sp))return!0}}function lineIsHiddenInner(doc,line,span){if(null==span.to){var end=span.marker.find(1,!0);return lineIsHiddenInner(doc,end.line,getMarkedSpanFor(end.line.markedSpans,span.marker))}if(span.marker.inclusiveRight&&span.to==line.text.length)return!0;for(var sp,i=0;i<line.markedSpans.length;++i)if(sp=line.markedSpans[i],sp.marker.collapsed&&!sp.marker.widgetNode&&sp.from==span.to&&(null==sp.to||sp.to!=span.from)&&(sp.marker.inclusiveLeft||span.marker.inclusiveRight)&&lineIsHiddenInner(doc,line,sp))return!0}function adjustScrollWhenAboveVisible(cm,line,diff){heightAtLine(line)<(cm.curOp&&cm.curOp.scrollTop||cm.doc.scrollTop)&&addToScrollPos(cm,null,diff)}function widgetHeight(widget){if(null!=widget.height)return widget.height;if(!contains(document.body,widget.node)){var parentStyle="position: relative;";widget.coverGutter&&(parentStyle+="margin-left: -"+widget.cm.display.gutters.offsetWidth+"px;"),widget.noHScroll&&(parentStyle+="width: "+widget.cm.display.wrapper.clientWidth+"px;"),removeChildrenAndAdd(widget.cm.display.measure,elt("div",[widget.node],null,parentStyle))}return widget.height=widget.node.offsetHeight}function addLineWidget(cm,handle,node,options){var widget=new LineWidget(cm,node,options);return widget.noHScroll&&(cm.display.alignWidgets=!0),changeLine(cm.doc,handle,"widget",function(line){var widgets=line.widgets||(line.widgets=[]);if(null==widget.insertAt?widgets.push(widget):widgets.splice(Math.min(widgets.length-1,Math.max(0,widget.insertAt)),0,widget),widget.line=line,!lineIsHidden(cm.doc,line)){var aboveVisible=heightAtLine(line)<cm.doc.scrollTop;updateLineHeight(line,line.height+widgetHeight(widget)),aboveVisible&&addToScrollPos(cm,null,widget.height),cm.curOp.forceUpdate=!0}return!0}),widget}function updateLine(line,text,markedSpans,estimateHeight){line.text=text,line.stateAfter&&(line.stateAfter=null),line.styles&&(line.styles=null),null!=line.order&&(line.order=null),detachMarkedSpans(line),attachMarkedSpans(line,markedSpans);var estHeight=estimateHeight?estimateHeight(line):1;estHeight!=line.height&&updateLineHeight(line,estHeight)}function cleanUpLine(line){line.parent=null,detachMarkedSpans(line)}function extractLineClasses(type,output){if(type)for(;;){var lineClass=type.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!lineClass)break;type=type.slice(0,lineClass.index)+type.slice(lineClass.index+lineClass[0].length);var prop=lineClass[1]?"bgClass":"textClass";null==output[prop]?output[prop]=lineClass[2]:new RegExp("(?:^|s)"+lineClass[2]+"(?:$|s)").test(output[prop])||(output[prop]+=" "+lineClass[2])}return type}function callBlankLine(mode,state){if(mode.blankLine)return mode.blankLine(state);if(mode.innerMode){var inner=CodeMirror.innerMode(mode,state);return inner.mode.blankLine?inner.mode.blankLine(inner.state):void 0}}function readToken(mode,stream,state,inner){for(var i=0;i<10;i++){inner&&(inner[0]=CodeMirror.innerMode(mode,state).mode);var style=mode.token(stream,state);if(stream.pos>stream.start)return style}throw new Error("Mode "+mode.name+" failed to advance stream.")}function takeToken(cm,pos,precise,asArray){function getObj(copy){return{start:stream.start,end:stream.pos,string:stream.current(),type:style||null,state:copy?copyState(doc.mode,state):state}}var style,doc=cm.doc,mode=doc.mode;pos=clipPos(doc,pos);var tokens,line=getLine(doc,pos.line),state=getStateBefore(cm,pos.line,precise),stream=new StringStream(line.text,cm.options.tabSize);for(asArray&&(tokens=[]);(asArray||stream.pos<pos.ch)&&!stream.eol();)stream.start=stream.pos,style=readToken(mode,stream,state),asArray&&tokens.push(getObj(!0));return asArray?tokens:getObj()}function runMode(cm,text,mode,state,f,lineClasses,forceToEnd){var flattenSpans=mode.flattenSpans;null==flattenSpans&&(flattenSpans=cm.options.flattenSpans);var style,curStart=0,curStyle=null,stream=new StringStream(text,cm.options.tabSize),inner=cm.options.addModeClass&&[null];for(""==text&&extractLineClasses(callBlankLine(mode,state),lineClasses);!stream.eol();){if(stream.pos>cm.options.maxHighlightLength?(flattenSpans=!1,forceToEnd&&processLine(cm,text,state,stream.pos),stream.pos=text.length,style=null):style=extractLineClasses(readToken(mode,stream,state,inner),lineClasses),inner){var mName=inner[0].name;mName&&(style="m-"+(style?mName+" "+style:mName))}if(!flattenSpans||curStyle!=style){for(;curStart<stream.start;)curStart=Math.min(stream.start,curStart+5e4),f(curStart,curStyle);curStyle=style}stream.start=stream.pos}for(;curStart<stream.pos;){var pos=Math.min(stream.pos,curStart+5e4);f(pos,curStyle),curStart=pos}}function highlightLine(cm,line,state,forceToEnd){var st=[cm.state.modeGen],lineClasses={};runMode(cm,line.text,cm.doc.mode,state,function(end,style){st.push(end,style)},lineClasses,forceToEnd);for(var o=0;o<cm.state.overlays.length;++o){var overlay=cm.state.overlays[o],i=1,at=0;runMode(cm,line.text,overlay.mode,!0,function(end,style){for(var start=i;at<end;){var i_end=st[i];i_end>end&&st.splice(i,1,end,st[i+1],i_end),i+=2,at=Math.min(end,i_end)}if(style)if(overlay.opaque)st.splice(start,i-start,end,"cm-overlay "+style),i=start+2;else for(;start<i;start+=2){var cur=st[start+1];st[start+1]=(cur?cur+" ":"")+"cm-overlay "+style}},lineClasses)}return{styles:st,classes:lineClasses.bgClass||lineClasses.textClass?lineClasses:null}}function getLineStyles(cm,line,updateFrontier){if(!line.styles||line.styles[0]!=cm.state.modeGen){var result=highlightLine(cm,line,line.stateAfter=getStateBefore(cm,lineNo(line)));line.styles=result.styles,result.classes?line.styleClasses=result.classes:line.styleClasses&&(line.styleClasses=null),updateFrontier===cm.doc.frontier&&cm.doc.frontier++}return line.styles}function processLine(cm,text,state,startAt){var mode=cm.doc.mode,stream=new StringStream(text,cm.options.tabSize);for(stream.start=stream.pos=startAt||0,""==text&&callBlankLine(mode,state);!stream.eol()&&stream.pos<=cm.options.maxHighlightLength;)readToken(mode,stream,state),stream.start=stream.pos}function interpretTokenStyle(style,options){if(!style||/^\s*$/.test(style))return null;var cache=options.addModeClass?styleToClassCacheWithMode:styleToClassCache;return cache[style]||(cache[style]=style.replace(/\S+/g,"cm-$&"))}function buildLineContent(cm,lineView){var content=elt("span",null,null,webkit?"padding-right: .1px":null),builder={pre:elt("pre",[content]),content:content,col:0,pos:0,cm:cm};lineView.measure={};for(var i=0;i<=(lineView.rest?lineView.rest.length:0);i++){var order,line=i?lineView.rest[i-1]:lineView.line;builder.pos=0,builder.addToken=buildToken,(ie||webkit)&&cm.getOption("lineWrapping")&&(builder.addToken=buildTokenSplitSpaces(builder.addToken)),hasBadBidiRects(cm.display.measure)&&(order=getOrder(line))&&(builder.addToken=buildTokenBadBidi(builder.addToken,order)),builder.map=[];var allowFrontierUpdate=lineView!=cm.display.externalMeasured&&lineNo(line);insertLineContent(line,builder,getLineStyles(cm,line,allowFrontierUpdate)),line.styleClasses&&(line.styleClasses.bgClass&&(builder.bgClass=joinClasses(line.styleClasses.bgClass,builder.bgClass||"")),line.styleClasses.textClass&&(builder.textClass=joinClasses(line.styleClasses.textClass,builder.textClass||""))),0==builder.map.length&&builder.map.push(0,0,builder.content.appendChild(zeroWidthElement(cm.display.measure))),0==i?(lineView.measure.map=builder.map,lineView.measure.cache={}):((lineView.measure.maps||(lineView.measure.maps=[])).push(builder.map),(lineView.measure.caches||(lineView.measure.caches=[])).push({}))}return webkit&&/\bcm-tab\b/.test(builder.content.lastChild.className)&&(builder.content.className="cm-tab-wrap-hack"),signal(cm,"renderLine",cm,lineView.line,builder.pre),builder.pre.className&&(builder.textClass=joinClasses(builder.pre.className,builder.textClass||"")),builder}function defaultSpecialCharPlaceholder(ch){var token=elt("span","•","cm-invalidchar");return token.title="\\u"+ch.charCodeAt(0).toString(16),token.setAttribute("aria-label",token.title),token}function buildToken(builder,text,style,startStyle,endStyle,title,css){if(text){var special=builder.cm.options.specialChars,mustWrap=!1;if(special.test(text))for(var content=document.createDocumentFragment(),pos=0;;){special.lastIndex=pos;var m=special.exec(text),skipped=m?m.index-pos:text.length-pos;if(skipped){var txt=document.createTextNode(text.slice(pos,pos+skipped));ie&&ie_version<9?content.appendChild(elt("span",[txt])):content.appendChild(txt),builder.map.push(builder.pos,builder.pos+skipped,txt),builder.col+=skipped,builder.pos+=skipped}if(!m)break;if(pos+=skipped+1,"\t"==m[0]){var tabSize=builder.cm.options.tabSize,tabWidth=tabSize-builder.col%tabSize,txt=content.appendChild(elt("span",spaceStr(tabWidth),"cm-tab"));txt.setAttribute("role","presentation"),txt.setAttribute("cm-text","\t"),builder.col+=tabWidth}else{var txt=builder.cm.options.specialCharPlaceholder(m[0]);txt.setAttribute("cm-text",m[0]),ie&&ie_version<9?content.appendChild(elt("span",[txt])):content.appendChild(txt),builder.col+=1}builder.map.push(builder.pos,builder.pos+1,txt),builder.pos++}else{builder.col+=text.length;var content=document.createTextNode(text);builder.map.push(builder.pos,builder.pos+text.length,content),ie&&ie_version<9&&(mustWrap=!0),builder.pos+=text.length}if(style||startStyle||endStyle||mustWrap||css){var fullStyle=style||"";startStyle&&(fullStyle+=startStyle),endStyle&&(fullStyle+=endStyle);var token=elt("span",[content],fullStyle,css);return title&&(token.title=title),builder.content.appendChild(token)}builder.content.appendChild(content)}}function buildTokenSplitSpaces(inner){function split(old){for(var out=" ",i=0;i<old.length-2;++i)out+=i%2?" ":" ";return out+=" "}return function(builder,text,style,startStyle,endStyle,title){inner(builder,text.replace(/ {3,}/g,split),style,startStyle,endStyle,title)}}function buildTokenBadBidi(inner,order){return function(builder,text,style,startStyle,endStyle,title){style=style?style+" cm-force-border":"cm-force-border";for(var start=builder.pos,end=start+text.length;;){for(var i=0;i<order.length;i++){var part=order[i];if(part.to>start&&part.from<=start)break}if(part.to>=end)return inner(builder,text,style,startStyle,endStyle,title);inner(builder,text.slice(0,part.to-start),style,startStyle,null,title),startStyle=null,text=text.slice(part.to-start),start=part.to}}}function buildCollapsedSpan(builder,size,marker,ignoreWidget){var widget=!ignoreWidget&&marker.widgetNode;widget&&builder.map.push(builder.pos,builder.pos+size,widget),!ignoreWidget&&builder.cm.display.input.needsContentAttribute&&(widget||(widget=builder.content.appendChild(document.createElement("span"))),widget.setAttribute("cm-marker",marker.id)),widget&&(builder.cm.display.input.setUneditable(widget),builder.content.appendChild(widget)),builder.pos+=size}function insertLineContent(line,builder,styles){var spans=line.markedSpans,allText=line.text,at=0;if(spans)for(var style,css,spanStyle,spanEndStyle,spanStartStyle,title,collapsed,len=allText.length,pos=0,i=1,text="",nextChange=0;;){if(nextChange==pos){spanStyle=spanEndStyle=spanStartStyle=title=css="",collapsed=null,nextChange=1/0;for(var foundBookmarks=[],j=0;j<spans.length;++j){var sp=spans[j],m=sp.marker;sp.from<=pos&&(null==sp.to||sp.to>pos)?(null!=sp.to&&nextChange>sp.to&&(nextChange=sp.to,spanEndStyle=""),m.className&&(spanStyle+=" "+m.className),m.css&&(css=m.css),m.startStyle&&sp.from==pos&&(spanStartStyle+=" "+m.startStyle),m.endStyle&&sp.to==nextChange&&(spanEndStyle+=" "+m.endStyle),m.title&&!title&&(title=m.title),m.collapsed&&(!collapsed||compareCollapsedMarkers(collapsed.marker,m)<0)&&(collapsed=sp)):sp.from>pos&&nextChange>sp.from&&(nextChange=sp.from),"bookmark"==m.type&&sp.from==pos&&m.widgetNode&&foundBookmarks.push(m)}if(collapsed&&(collapsed.from||0)==pos&&(buildCollapsedSpan(builder,(null==collapsed.to?len+1:collapsed.to)-pos,collapsed.marker,null==collapsed.from),null==collapsed.to))return;if(!collapsed&&foundBookmarks.length)for(var j=0;j<foundBookmarks.length;++j)buildCollapsedSpan(builder,0,foundBookmarks[j])}if(pos>=len)break;for(var upto=Math.min(len,nextChange);;){if(text){var end=pos+text.length;if(!collapsed){var tokenText=end>upto?text.slice(0,upto-pos):text;builder.addToken(builder,tokenText,style?style+spanStyle:spanStyle,spanStartStyle,pos+tokenText.length==nextChange?spanEndStyle:"",title,css)}if(end>=upto){text=text.slice(upto-pos),pos=upto;break}pos=end,spanStartStyle=""}text=allText.slice(at,at=styles[i++]),style=interpretTokenStyle(styles[i++],builder.cm.options)}}else for(var i=1;i<styles.length;i+=2)builder.addToken(builder,allText.slice(at,at=styles[i]),interpretTokenStyle(styles[i+1],builder.cm.options))}function isWholeLineUpdate(doc,change){return 0==change.from.ch&&0==change.to.ch&&""==lst(change.text)&&(!doc.cm||doc.cm.options.wholeLineUpdateBefore)}function updateDoc(doc,change,markedSpans,estimateHeight){function spansFor(n){return markedSpans?markedSpans[n]:null}function update(line,text,spans){updateLine(line,text,spans,estimateHeight),signalLater(line,"change",line,change)}function linesFor(start,end){for(var i=start,result=[];i<end;++i)result.push(new Line(text[i],spansFor(i),estimateHeight));return result}var from=change.from,to=change.to,text=change.text,firstLine=getLine(doc,from.line),lastLine=getLine(doc,to.line),lastText=lst(text),lastSpans=spansFor(text.length-1),nlines=to.line-from.line;if(change.full)doc.insert(0,linesFor(0,text.length)),doc.remove(text.length,doc.size-text.length);else if(isWholeLineUpdate(doc,change)){var added=linesFor(0,text.length-1);update(lastLine,lastLine.text,lastSpans),nlines&&doc.remove(from.line,nlines),added.length&&doc.insert(from.line,added)}else if(firstLine==lastLine)if(1==text.length)update(firstLine,firstLine.text.slice(0,from.ch)+lastText+firstLine.text.slice(to.ch),lastSpans);else{var added=linesFor(1,text.length-1);added.push(new Line(lastText+firstLine.text.slice(to.ch),lastSpans,estimateHeight)),update(firstLine,firstLine.text.slice(0,from.ch)+text[0],spansFor(0)),doc.insert(from.line+1,added)}else if(1==text.length)update(firstLine,firstLine.text.slice(0,from.ch)+text[0]+lastLine.text.slice(to.ch),spansFor(0)),doc.remove(from.line+1,nlines);else{update(firstLine,firstLine.text.slice(0,from.ch)+text[0],spansFor(0)),update(lastLine,lastText+lastLine.text.slice(to.ch),lastSpans);var added=linesFor(1,text.length-1);nlines>1&&doc.remove(from.line+1,nlines-1),doc.insert(from.line+1,added)}signalLater(doc,"change",doc,change)}function LeafChunk(lines){this.lines=lines,this.parent=null;for(var i=0,height=0;i<lines.length;++i)lines[i].parent=this,height+=lines[i].height;this.height=height}function BranchChunk(children){this.children=children;for(var size=0,height=0,i=0;i<children.length;++i){var ch=children[i];size+=ch.chunkSize(),height+=ch.height,ch.parent=this}this.size=size,this.height=height,this.parent=null}function linkedDocs(doc,f,sharedHistOnly){function propagate(doc,skip,sharedHist){if(doc.linked)for(var i=0;i<doc.linked.length;++i){var rel=doc.linked[i];if(rel.doc!=skip){var shared=sharedHist&&rel.sharedHist;sharedHistOnly&&!shared||(f(rel.doc,shared),propagate(rel.doc,doc,shared))}}}propagate(doc,null,!0)}function attachDoc(cm,doc){if(doc.cm)throw new Error("This document is already in use.");cm.doc=doc,doc.cm=cm,estimateLineHeights(cm),loadMode(cm),cm.options.lineWrapping||findMaxLine(cm),cm.options.mode=doc.modeOption,regChange(cm)}function getLine(doc,n){if(n-=doc.first,n<0||n>=doc.size)throw new Error("There is no line "+(n+doc.first)+" in the document.");for(var chunk=doc;!chunk.lines;)for(var i=0;;++i){var child=chunk.children[i],sz=child.chunkSize();if(n<sz){chunk=child;break}n-=sz}return chunk.lines[n]}function getBetween(doc,start,end){var out=[],n=start.line;return doc.iter(start.line,end.line+1,function(line){var text=line.text;n==end.line&&(text=text.slice(0,end.ch)),n==start.line&&(text=text.slice(start.ch)),out.push(text),++n}),out}function getLines(doc,from,to){var out=[];return doc.iter(from,to,function(line){out.push(line.text)}),out}function updateLineHeight(line,height){var diff=height-line.height;if(diff)for(var n=line;n;n=n.parent)n.height+=diff}function lineNo(line){if(null==line.parent)return null;for(var cur=line.parent,no=indexOf(cur.lines,line),chunk=cur.parent;chunk;cur=chunk,chunk=chunk.parent)for(var i=0;chunk.children[i]!=cur;++i)no+=chunk.children[i].chunkSize();return no+cur.first}function lineAtHeight(chunk,h){var n=chunk.first;outer:do{for(var i=0;i<chunk.children.length;++i){var child=chunk.children[i],ch=child.height;if(h<ch){chunk=child;continue outer}h-=ch,n+=child.chunkSize()}return n}while(!chunk.lines);for(var i=0;i<chunk.lines.length;++i){var line=chunk.lines[i],lh=line.height;if(h<lh)break;h-=lh}return n+i}function heightAtLine(lineObj){lineObj=visualLine(lineObj);for(var h=0,chunk=lineObj.parent,i=0;i<chunk.lines.length;++i){var line=chunk.lines[i];if(line==lineObj)break;h+=line.height}for(var p=chunk.parent;p;chunk=p,p=chunk.parent)for(var i=0;i<p.children.length;++i){var cur=p.children[i];if(cur==chunk)break;h+=cur.height}return h}function getOrder(line){var order=line.order;return null==order&&(order=line.order=bidiOrdering(line.text)),order}function History(startGen){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=startGen||1}function historyChangeFromChange(doc,change){var histChange={from:copyPos(change.from),to:changeEnd(change),text:getBetween(doc,change.from,change.to)};return attachLocalSpans(doc,histChange,change.from.line,change.to.line+1),linkedDocs(doc,function(doc){attachLocalSpans(doc,histChange,change.from.line,change.to.line+1)},!0),histChange}function clearSelectionEvents(array){for(;array.length;){var last=lst(array);if(!last.ranges)break;array.pop()}}function lastChangeEvent(hist,force){return force?(clearSelectionEvents(hist.done),lst(hist.done)):hist.done.length&&!lst(hist.done).ranges?lst(hist.done):hist.done.length>1&&!hist.done[hist.done.length-2].ranges?(hist.done.pop(),lst(hist.done)):void 0}function addChangeToHistory(doc,change,selAfter,opId){var hist=doc.history;hist.undone.length=0;var cur,time=+new Date;if((hist.lastOp==opId||hist.lastOrigin==change.origin&&change.origin&&("+"==change.origin.charAt(0)&&doc.cm&&hist.lastModTime>time-doc.cm.options.historyEventDelay||"*"==change.origin.charAt(0)))&&(cur=lastChangeEvent(hist,hist.lastOp==opId))){var last=lst(cur.changes);0==cmp(change.from,change.to)&&0==cmp(change.from,last.to)?last.to=changeEnd(change):cur.changes.push(historyChangeFromChange(doc,change))}else{var before=lst(hist.done);for(before&&before.ranges||pushSelectionToHistory(doc.sel,hist.done),cur={changes:[historyChangeFromChange(doc,change)],generation:hist.generation},hist.done.push(cur);hist.done.length>hist.undoDepth;)hist.done.shift(),hist.done[0].ranges||hist.done.shift()}hist.done.push(selAfter),hist.generation=++hist.maxGeneration,
hist.lastModTime=hist.lastSelTime=time,hist.lastOp=hist.lastSelOp=opId,hist.lastOrigin=hist.lastSelOrigin=change.origin,last||signal(doc,"historyAdded")}function selectionEventCanBeMerged(doc,origin,prev,sel){var ch=origin.charAt(0);return"*"==ch||"+"==ch&&prev.ranges.length==sel.ranges.length&&prev.somethingSelected()==sel.somethingSelected()&&new Date-doc.history.lastSelTime<=(doc.cm?doc.cm.options.historyEventDelay:500)}function addSelectionToHistory(doc,sel,opId,options){var hist=doc.history,origin=options&&options.origin;opId==hist.lastSelOp||origin&&hist.lastSelOrigin==origin&&(hist.lastModTime==hist.lastSelTime&&hist.lastOrigin==origin||selectionEventCanBeMerged(doc,origin,lst(hist.done),sel))?hist.done[hist.done.length-1]=sel:pushSelectionToHistory(sel,hist.done),hist.lastSelTime=+new Date,hist.lastSelOrigin=origin,hist.lastSelOp=opId,options&&options.clearRedo!==!1&&clearSelectionEvents(hist.undone)}function pushSelectionToHistory(sel,dest){var top=lst(dest);top&&top.ranges&&top.equals(sel)||dest.push(sel)}function attachLocalSpans(doc,change,from,to){var existing=change["spans_"+doc.id],n=0;doc.iter(Math.max(doc.first,from),Math.min(doc.first+doc.size,to),function(line){line.markedSpans&&((existing||(existing=change["spans_"+doc.id]={}))[n]=line.markedSpans),++n})}function removeClearedSpans(spans){if(!spans)return null;for(var out,i=0;i<spans.length;++i)spans[i].marker.explicitlyCleared?out||(out=spans.slice(0,i)):out&&out.push(spans[i]);return out?out.length?out:null:spans}function getOldSpans(doc,change){var found=change["spans_"+doc.id];if(!found)return null;for(var i=0,nw=[];i<change.text.length;++i)nw.push(removeClearedSpans(found[i]));return nw}function copyHistoryArray(events,newGroup,instantiateSel){for(var i=0,copy=[];i<events.length;++i){var event=events[i];if(event.ranges)copy.push(instantiateSel?Selection.prototype.deepCopy.call(event):event);else{var changes=event.changes,newChanges=[];copy.push({changes:newChanges});for(var j=0;j<changes.length;++j){var m,change=changes[j];if(newChanges.push({from:change.from,to:change.to,text:change.text}),newGroup)for(var prop in change)(m=prop.match(/^spans_(\d+)$/))&&indexOf(newGroup,Number(m[1]))>-1&&(lst(newChanges)[prop]=change[prop],delete change[prop])}}}return copy}function rebaseHistSelSingle(pos,from,to,diff){to<pos.line?pos.line+=diff:from<pos.line&&(pos.line=from,pos.ch=0)}function rebaseHistArray(array,from,to,diff){for(var i=0;i<array.length;++i){var sub=array[i],ok=!0;if(sub.ranges){sub.copied||(sub=array[i]=sub.deepCopy(),sub.copied=!0);for(var j=0;j<sub.ranges.length;j++)rebaseHistSelSingle(sub.ranges[j].anchor,from,to,diff),rebaseHistSelSingle(sub.ranges[j].head,from,to,diff)}else{for(var j=0;j<sub.changes.length;++j){var cur=sub.changes[j];if(to<cur.from.line)cur.from=Pos(cur.from.line+diff,cur.from.ch),cur.to=Pos(cur.to.line+diff,cur.to.ch);else if(from<=cur.to.line){ok=!1;break}}ok||(array.splice(0,i+1),i=0)}}}function rebaseHist(hist,change){var from=change.from.line,to=change.to.line,diff=change.text.length-(to-from)-1;rebaseHistArray(hist.done,from,to,diff),rebaseHistArray(hist.undone,from,to,diff)}function e_defaultPrevented(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function e_target(e){return e.target||e.srcElement}function e_button(e){var b=e.which;return null==b&&(1&e.button?b=1:2&e.button?b=3:4&e.button&&(b=2)),mac&&e.ctrlKey&&1==b&&(b=3),b}function signalLater(emitter,type){function bnd(f){return function(){f.apply(null,args)}}var arr=emitter._handlers&&emitter._handlers[type];if(arr){var list,args=Array.prototype.slice.call(arguments,2);operationGroup?list=operationGroup.delayedCallbacks:orphanDelayedCallbacks?list=orphanDelayedCallbacks:(list=orphanDelayedCallbacks=[],setTimeout(fireOrphanDelayed,0));for(var i=0;i<arr.length;++i)list.push(bnd(arr[i]))}}function fireOrphanDelayed(){var delayed=orphanDelayedCallbacks;orphanDelayedCallbacks=null;for(var i=0;i<delayed.length;++i)delayed[i]()}function signalDOMEvent(cm,e,override){return"string"==typeof e&&(e={type:e,preventDefault:function(){this.defaultPrevented=!0}}),signal(cm,override||e.type,cm,e),e_defaultPrevented(e)||e.codemirrorIgnore}function signalCursorActivity(cm){var arr=cm._handlers&&cm._handlers.cursorActivity;if(arr)for(var set=cm.curOp.cursorActivityHandlers||(cm.curOp.cursorActivityHandlers=[]),i=0;i<arr.length;++i)indexOf(set,arr[i])==-1&&set.push(arr[i])}function hasHandler(emitter,type){var arr=emitter._handlers&&emitter._handlers[type];return arr&&arr.length>0}function eventMixin(ctor){ctor.prototype.on=function(type,f){on(this,type,f)},ctor.prototype.off=function(type,f){off(this,type,f)}}function Delayed(){this.id=null}function findColumn(string,goal,tabSize){for(var pos=0,col=0;;){var nextTab=string.indexOf("\t",pos);nextTab==-1&&(nextTab=string.length);var skipped=nextTab-pos;if(nextTab==string.length||col+skipped>=goal)return pos+Math.min(skipped,goal-col);if(col+=nextTab-pos,col+=tabSize-col%tabSize,pos=nextTab+1,col>=goal)return pos}}function spaceStr(n){for(;spaceStrs.length<=n;)spaceStrs.push(lst(spaceStrs)+" ");return spaceStrs[n]}function lst(arr){return arr[arr.length-1]}function indexOf(array,elt){for(var i=0;i<array.length;++i)if(array[i]==elt)return i;return-1}function map(array,f){for(var out=[],i=0;i<array.length;i++)out[i]=f(array[i],i);return out}function nothing(){}function createObj(base,props){var inst;return Object.create?inst=Object.create(base):(nothing.prototype=base,inst=new nothing),props&&copyObj(props,inst),inst}function copyObj(obj,target,overwrite){target||(target={});for(var prop in obj)!obj.hasOwnProperty(prop)||overwrite===!1&&target.hasOwnProperty(prop)||(target[prop]=obj[prop]);return target}function bind(f){var args=Array.prototype.slice.call(arguments,1);return function(){return f.apply(null,args)}}function isWordChar(ch,helper){return helper?!!(helper.source.indexOf("\\w")>-1&&isWordCharBasic(ch))||helper.test(ch):isWordCharBasic(ch)}function isEmpty(obj){for(var n in obj)if(obj.hasOwnProperty(n)&&obj[n])return!1;return!0}function isExtendingChar(ch){return ch.charCodeAt(0)>=768&&extendingChars.test(ch)}function elt(tag,content,className,style){var e=document.createElement(tag);if(className&&(e.className=className),style&&(e.style.cssText=style),"string"==typeof content)e.appendChild(document.createTextNode(content));else if(content)for(var i=0;i<content.length;++i)e.appendChild(content[i]);return e}function removeChildren(e){for(var count=e.childNodes.length;count>0;--count)e.removeChild(e.firstChild);return e}function removeChildrenAndAdd(parent,e){return removeChildren(parent).appendChild(e)}function activeElt(){return document.activeElement}function classTest(cls){return new RegExp("(^|\\s)"+cls+"(?:$|\\s)\\s*")}function joinClasses(a,b){for(var as=a.split(" "),i=0;i<as.length;i++)as[i]&&!classTest(as[i]).test(b)&&(b+=" "+as[i]);return b}function forEachCodeMirror(f){if(document.body.getElementsByClassName)for(var byClass=document.body.getElementsByClassName("CodeMirror"),i=0;i<byClass.length;i++){var cm=byClass[i].CodeMirror;cm&&f(cm)}}function ensureGlobalHandlers(){globalsRegistered||(registerGlobalHandlers(),globalsRegistered=!0)}function registerGlobalHandlers(){var resizeTimer;on(window,"resize",function(){null==resizeTimer&&(resizeTimer=setTimeout(function(){resizeTimer=null,forEachCodeMirror(onResize)},100))}),on(window,"blur",function(){forEachCodeMirror(onBlur)})}function zeroWidthElement(measure){if(null==zwspSupported){var test=elt("span","​");removeChildrenAndAdd(measure,elt("span",[test,document.createTextNode("x")])),0!=measure.firstChild.offsetHeight&&(zwspSupported=test.offsetWidth<=1&&test.offsetHeight>2&&!(ie&&ie_version<8))}var node=zwspSupported?elt("span","​"):elt("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return node.setAttribute("cm-text",""),node}function hasBadBidiRects(measure){if(null!=badBidiRects)return badBidiRects;var txt=removeChildrenAndAdd(measure,document.createTextNode("AخA")),r0=range(txt,0,1).getBoundingClientRect();if(!r0||r0.left==r0.right)return!1;var r1=range(txt,1,2).getBoundingClientRect();return badBidiRects=r1.right-r0.right<3}function hasBadZoomedRects(measure){if(null!=badZoomedRects)return badZoomedRects;var node=removeChildrenAndAdd(measure,elt("span","x")),normal=node.getBoundingClientRect(),fromRange=range(node,0,1).getBoundingClientRect();return badZoomedRects=Math.abs(normal.left-fromRange.left)>1}function iterateBidiSections(order,from,to,f){if(!order)return f(from,to,"ltr");for(var found=!1,i=0;i<order.length;++i){var part=order[i];(part.from<to&&part.to>from||from==to&&part.to==from)&&(f(Math.max(part.from,from),Math.min(part.to,to),1==part.level?"rtl":"ltr"),found=!0)}found||f(from,to,"ltr")}function bidiLeft(part){return part.level%2?part.to:part.from}function bidiRight(part){return part.level%2?part.from:part.to}function lineLeft(line){var order=getOrder(line);return order?bidiLeft(order[0]):0}function lineRight(line){var order=getOrder(line);return order?bidiRight(lst(order)):line.text.length}function lineStart(cm,lineN){var line=getLine(cm.doc,lineN),visual=visualLine(line);visual!=line&&(lineN=lineNo(visual));var order=getOrder(visual),ch=order?order[0].level%2?lineRight(visual):lineLeft(visual):0;return Pos(lineN,ch)}function lineEnd(cm,lineN){for(var merged,line=getLine(cm.doc,lineN);merged=collapsedSpanAtEnd(line);)line=merged.find(1,!0).line,lineN=null;var order=getOrder(line),ch=order?order[0].level%2?lineLeft(line):lineRight(line):line.text.length;return Pos(null==lineN?lineNo(line):lineN,ch)}function lineStartSmart(cm,pos){var start=lineStart(cm,pos.line),line=getLine(cm.doc,start.line),order=getOrder(line);if(!order||0==order[0].level){var firstNonWS=Math.max(0,line.text.search(/\S/)),inWS=pos.line==start.line&&pos.ch<=firstNonWS&&pos.ch;return Pos(start.line,inWS?0:firstNonWS)}return start}function compareBidiLevel(order,a,b){var linedir=order[0].level;return a==linedir||b!=linedir&&a<b}function getBidiPartAt(order,pos){bidiOther=null;for(var found,i=0;i<order.length;++i){var cur=order[i];if(cur.from<pos&&cur.to>pos)return i;if(cur.from==pos||cur.to==pos){if(null!=found)return compareBidiLevel(order,cur.level,order[found].level)?(cur.from!=cur.to&&(bidiOther=found),i):(cur.from!=cur.to&&(bidiOther=i),found);found=i}}return found}function moveInLine(line,pos,dir,byUnit){if(!byUnit)return pos+dir;do pos+=dir;while(pos>0&&isExtendingChar(line.text.charAt(pos)));return pos}function moveVisually(line,start,dir,byUnit){var bidi=getOrder(line);if(!bidi)return moveLogically(line,start,dir,byUnit);for(var pos=getBidiPartAt(bidi,start),part=bidi[pos],target=moveInLine(line,start,part.level%2?-dir:dir,byUnit);;){if(target>part.from&&target<part.to)return target;if(target==part.from||target==part.to)return getBidiPartAt(bidi,target)==pos?target:(part=bidi[pos+=dir],dir>0==part.level%2?part.to:part.from);if(part=bidi[pos+=dir],!part)return null;target=dir>0==part.level%2?moveInLine(line,part.to,-1,byUnit):moveInLine(line,part.from,1,byUnit)}}function moveLogically(line,start,dir,byUnit){var target=start+dir;if(byUnit)for(;target>0&&isExtendingChar(line.text.charAt(target));)target+=dir;return target<0||target>line.text.length?null:target}var gecko=/gecko\/\d/i.test(navigator.userAgent),ie_upto10=/MSIE \d/.test(navigator.userAgent),ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),ie=ie_upto10||ie_11up,ie_version=ie&&(ie_upto10?document.documentMode||6:ie_11up[1]),webkit=/WebKit\//.test(navigator.userAgent),qtwebkit=webkit&&/Qt\/\d+\.\d+/.test(navigator.userAgent),chrome=/Chrome\//.test(navigator.userAgent),presto=/Opera\//.test(navigator.userAgent),safari=/Apple Computer/.test(navigator.vendor),mac_geMountainLion=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),phantom=/PhantomJS/.test(navigator.userAgent),ios=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),mobile=ios||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),mac=ios||/Mac/.test(navigator.platform),windows=/win/i.test(navigator.platform),presto_version=presto&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);presto_version&&(presto_version=Number(presto_version[1])),presto_version&&presto_version>=15&&(presto=!1,webkit=!0);var flipCtrlCmd=mac&&(qtwebkit||presto&&(null==presto_version||presto_version<12.11)),captureRightClick=gecko||ie&&ie_version>=9,sawReadOnlySpans=!1,sawCollapsedSpans=!1;NativeScrollbars.prototype=copyObj({update:function(measure){var needsH=measure.scrollWidth>measure.clientWidth+1,needsV=measure.scrollHeight>measure.clientHeight+1,sWidth=measure.nativeBarWidth;if(needsV){this.vert.style.display="block",this.vert.style.bottom=needsH?sWidth+"px":"0";var totalHeight=measure.viewHeight-(needsH?sWidth:0);this.vert.firstChild.style.height=Math.max(0,measure.scrollHeight-measure.clientHeight+totalHeight)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(needsH){this.horiz.style.display="block",this.horiz.style.right=needsV?sWidth+"px":"0",this.horiz.style.left=measure.barLeft+"px";var totalWidth=measure.viewWidth-measure.barLeft-(needsV?sWidth:0);this.horiz.firstChild.style.width=measure.scrollWidth-measure.clientWidth+totalWidth+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedOverlay&&measure.clientHeight>0&&(0==sWidth&&this.overlayHack(),this.checkedOverlay=!0),{right:needsV?sWidth:0,bottom:needsH?sWidth:0}},setScrollLeft:function(pos){this.horiz.scrollLeft!=pos&&(this.horiz.scrollLeft=pos)},setScrollTop:function(pos){this.vert.scrollTop!=pos&&(this.vert.scrollTop=pos)},overlayHack:function(){var w=mac&&!mac_geMountainLion?"12px":"18px";this.horiz.style.minHeight=this.vert.style.minWidth=w;var self=this,barMouseDown=function(e){e_target(e)!=self.vert&&e_target(e)!=self.horiz&&operation(self.cm,onMouseDown)(e)};on(this.vert,"mousedown",barMouseDown),on(this.horiz,"mousedown",barMouseDown)},clear:function(){var parent=this.horiz.parentNode;parent.removeChild(this.horiz),parent.removeChild(this.vert)}},NativeScrollbars.prototype),NullScrollbars.prototype=copyObj({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},NullScrollbars.prototype),CodeMirror.scrollbarModel={"native":NativeScrollbars,"null":NullScrollbars},DisplayUpdate.prototype.signal=function(emitter,type){hasHandler(emitter,type)&&this.events.push(arguments)},DisplayUpdate.prototype.finish=function(){for(var i=0;i<this.events.length;i++)signal.apply(null,this.events[i])};var Pos=CodeMirror.Pos=function(line,ch){return this instanceof Pos?(this.line=line,void(this.ch=ch)):new Pos(line,ch)},cmp=CodeMirror.cmpPos=function(a,b){return a.line-b.line||a.ch-b.ch},lastCopied=null;TextareaInput.prototype=copyObj({init:function(display){function prepareCopyCut(e){if(cm.somethingSelected())lastCopied=cm.getSelections(),input.inaccurateSelection&&(input.prevInput="",input.inaccurateSelection=!1,te.value=lastCopied.join("\n"),selectInput(te));else{var ranges=copyableRanges(cm);lastCopied=ranges.text,"cut"==e.type?cm.setSelections(ranges.ranges,null,sel_dontScroll):(input.prevInput="",te.value=ranges.text.join("\n"),selectInput(te))}"cut"==e.type&&(cm.state.cutIncoming=!0)}var input=this,cm=this.cm,div=this.wrapper=hiddenTextarea(),te=this.textarea=div.firstChild;display.wrapper.insertBefore(div,display.wrapper.firstChild),ios&&(te.style.width="0px"),on(te,"input",function(){ie&&ie_version>=9&&input.hasSelection&&(input.hasSelection=null),input.poll()}),on(te,"paste",function(){if(webkit&&!cm.state.fakedLastChar&&!(new Date-cm.state.lastMiddleDown<200)){var start=te.selectionStart,end=te.selectionEnd;te.value+="$",te.selectionEnd=end,te.selectionStart=start,cm.state.fakedLastChar=!0}cm.state.pasteIncoming=!0,input.fastPoll()}),on(te,"cut",prepareCopyCut),on(te,"copy",prepareCopyCut),on(display.scroller,"paste",function(e){eventInWidget(display,e)||(cm.state.pasteIncoming=!0,input.focus())}),on(display.lineSpace,"selectstart",function(e){eventInWidget(display,e)||e_preventDefault(e)})},prepareSelection:function(){var cm=this.cm,display=cm.display,doc=cm.doc,result=prepareSelection(cm);if(cm.options.moveInputWithCursor){var headPos=cursorCoords(cm,doc.sel.primary().head,"div"),wrapOff=display.wrapper.getBoundingClientRect(),lineOff=display.lineDiv.getBoundingClientRect();result.teTop=Math.max(0,Math.min(display.wrapper.clientHeight-10,headPos.top+lineOff.top-wrapOff.top)),result.teLeft=Math.max(0,Math.min(display.wrapper.clientWidth-10,headPos.left+lineOff.left-wrapOff.left))}return result},showSelection:function(drawn){var cm=this.cm,display=cm.display;removeChildrenAndAdd(display.cursorDiv,drawn.cursors),removeChildrenAndAdd(display.selectionDiv,drawn.selection),null!=drawn.teTop&&(this.wrapper.style.top=drawn.teTop+"px",this.wrapper.style.left=drawn.teLeft+"px")},reset:function(typing){if(!this.contextMenuPending){var minimal,selected,cm=this.cm,doc=cm.doc;if(cm.somethingSelected()){this.prevInput="";var range=doc.sel.primary();minimal=hasCopyEvent&&(range.to().line-range.from().line>100||(selected=cm.getSelection()).length>1e3);var content=minimal?"-":selected||cm.getSelection();this.textarea.value=content,cm.state.focused&&selectInput(this.textarea),ie&&ie_version>=9&&(this.hasSelection=content)}else typing||(this.prevInput=this.textarea.value="",ie&&ie_version>=9&&(this.hasSelection=null));this.inaccurateSelection=minimal}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!mobile||activeElt()!=this.textarea))try{this.textarea.focus()}catch(e){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var input=this;input.pollingFast||input.polling.set(this.cm.options.pollInterval,function(){input.poll(),input.cm.state.focused&&input.slowPoll()})},fastPoll:function(){function p(){var changed=input.poll();changed||missed?(input.pollingFast=!1,input.slowPoll()):(missed=!0,input.polling.set(60,p))}var missed=!1,input=this;input.pollingFast=!0,input.polling.set(20,p)},poll:function(){var cm=this.cm,input=this.textarea,prevInput=this.prevInput;if(!cm.state.focused||hasSelection(input)&&!prevInput||isReadOnly(cm)||cm.options.disableInput||cm.state.keySeq)return!1;cm.state.pasteIncoming&&cm.state.fakedLastChar&&(input.value=input.value.substring(0,input.value.length-1),cm.state.fakedLastChar=!1);var text=input.value;if(text==prevInput&&!cm.somethingSelected())return!1;if(ie&&ie_version>=9&&this.hasSelection===text||mac&&/[\uf700-\uf7ff]/.test(text))return cm.display.input.reset(),!1;8203!=text.charCodeAt(0)||cm.doc.sel!=cm.display.selForContextMenu||prevInput||(prevInput="​");for(var same=0,l=Math.min(prevInput.length,text.length);same<l&&prevInput.charCodeAt(same)==text.charCodeAt(same);)++same;var self=this;return runInOp(cm,function(){applyTextInput(cm,text.slice(same),prevInput.length-same),text.length>1e3||text.indexOf("\n")>-1?input.value=self.prevInput="":self.prevInput=text}),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){ie&&ie_version>=9&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(e){function prepareSelectAllHack(){if(null!=te.selectionStart){var selected=cm.somethingSelected(),extval=te.value="​"+(selected?te.value:"");input.prevInput=selected?"":"​",te.selectionStart=1,te.selectionEnd=extval.length,display.selForContextMenu=cm.doc.sel}}function rehide(){if(input.contextMenuPending=!1,input.wrapper.style.position="relative",te.style.cssText=oldCSS,ie&&ie_version<9&&display.scrollbars.setScrollTop(display.scroller.scrollTop=scrollPos),null!=te.selectionStart){(!ie||ie&&ie_version<9)&&prepareSelectAllHack();var i=0,poll=function(){display.selForContextMenu==cm.doc.sel&&0==te.selectionStart?operation(cm,commands.selectAll)(cm):i++<10?display.detectingSelectAll=setTimeout(poll,500):display.input.reset()};display.detectingSelectAll=setTimeout(poll,200)}}var input=this,cm=input.cm,display=cm.display,te=input.textarea,pos=posFromMouse(cm,e),scrollPos=display.scroller.scrollTop;if(pos&&!presto){var reset=cm.options.resetSelectionOnContextMenu;reset&&cm.doc.sel.contains(pos)==-1&&operation(cm,setSelection)(cm.doc,simpleSelection(pos),sel_dontScroll);var oldCSS=te.style.cssText;if(input.wrapper.style.position="absolute",te.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(e.clientY-5)+"px; left: "+(e.clientX-5)+"px; z-index: 1000; background: "+(ie?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",webkit)var oldScrollY=window.scrollY;if(display.input.focus(),webkit&&window.scrollTo(null,oldScrollY),display.input.reset(),cm.somethingSelected()||(te.value=input.prevInput=" "),input.contextMenuPending=!0,display.selForContextMenu=cm.doc.sel,clearTimeout(display.detectingSelectAll),ie&&ie_version>=9&&prepareSelectAllHack(),captureRightClick){e_stop(e);var mouseup=function(){off(window,"mouseup",mouseup),setTimeout(rehide,20)};on(window,"mouseup",mouseup)}else setTimeout(rehide,50)}},setUneditable:nothing,needsContentAttribute:!1},TextareaInput.prototype),ContentEditableInput.prototype=copyObj({init:function(display){function onCopyCut(e){if(cm.somethingSelected())lastCopied=cm.getSelections(),"cut"==e.type&&cm.replaceSelection("",null,"cut");else{var ranges=copyableRanges(cm);lastCopied=ranges.text,"cut"==e.type&&cm.operation(function(){cm.setSelections(ranges.ranges,0,sel_dontScroll),cm.replaceSelection("",null,"cut")})}if(e.clipboardData&&!ios)e.preventDefault(),e.clipboardData.clearData(),e.clipboardData.setData("text/plain",lastCopied.join("\n"));else{var kludge=hiddenTextarea(),te=kludge.firstChild;cm.display.lineSpace.insertBefore(kludge,cm.display.lineSpace.firstChild),te.value=lastCopied.join("\n");var hadFocus=document.activeElement;selectInput(te),setTimeout(function(){cm.display.lineSpace.removeChild(kludge),hadFocus.focus()},50)}}var input=this,cm=input.cm,div=input.div=display.lineDiv;div.contentEditable="true",disableBrowserMagic(div),on(div,"paste",function(e){var pasted=e.clipboardData&&e.clipboardData.getData("text/plain");pasted&&(e.preventDefault(),cm.replaceSelection(pasted,null,"paste"))}),on(div,"compositionstart",function(e){var data=e.data;if(input.composing={sel:cm.doc.sel,data:data,startData:data},data){var prim=cm.doc.sel.primary(),line=cm.getLine(prim.head.line),found=line.indexOf(data,Math.max(0,prim.head.ch-data.length));found>-1&&found<=prim.head.ch&&(input.composing.sel=simpleSelection(Pos(prim.head.line,found),Pos(prim.head.line,found+data.length)))}}),on(div,"compositionupdate",function(e){input.composing.data=e.data}),on(div,"compositionend",function(e){var ours=input.composing;ours&&(e.data==ours.startData||/\u200b/.test(e.data)||(ours.data=e.data),setTimeout(function(){ours.handled||input.applyComposition(ours),input.composing==ours&&(input.composing=null)},50))}),on(div,"touchstart",function(){input.forceCompositionEnd()}),on(div,"input",function(){input.composing||input.pollContent()||runInOp(input.cm,function(){regChange(cm)})}),on(div,"copy",onCopyCut),on(div,"cut",onCopyCut)},prepareSelection:function(){var result=prepareSelection(this.cm,!1);return result.focus=this.cm.state.focused,result},showSelection:function(info){info&&this.cm.display.view.length&&(info.focus&&this.showPrimarySelection(),this.showMultipleSelections(info))},showPrimarySelection:function(){var sel=window.getSelection(),prim=this.cm.doc.sel.primary(),curAnchor=domToPos(this.cm,sel.anchorNode,sel.anchorOffset),curFocus=domToPos(this.cm,sel.focusNode,sel.focusOffset);if(!curAnchor||curAnchor.bad||!curFocus||curFocus.bad||0!=cmp(minPos(curAnchor,curFocus),prim.from())||0!=cmp(maxPos(curAnchor,curFocus),prim.to())){var start=posToDOM(this.cm,prim.from()),end=posToDOM(this.cm,prim.to());if(start||end){var view=this.cm.display.view,old=sel.rangeCount&&sel.getRangeAt(0);if(start){if(!end){var measure=view[view.length-1].measure,map=measure.maps?measure.maps[measure.maps.length-1]:measure.map;end={node:map[map.length-1],offset:map[map.length-2]-map[map.length-3]}}}else start={node:view[0].measure.map[2],offset:0};try{var rng=range(start.node,start.offset,end.offset,end.node)}catch(e){}rng&&(sel.removeAllRanges(),sel.addRange(rng),old&&null==sel.anchorNode&&sel.addRange(old)),this.rememberSelection()}}},showMultipleSelections:function(info){removeChildrenAndAdd(this.cm.display.cursorDiv,info.cursors),removeChildrenAndAdd(this.cm.display.selectionDiv,info.selection)},rememberSelection:function(){var sel=window.getSelection();this.lastAnchorNode=sel.anchorNode,this.lastAnchorOffset=sel.anchorOffset,this.lastFocusNode=sel.focusNode,this.lastFocusOffset=sel.focusOffset},selectionInEditor:function(){var sel=window.getSelection();if(!sel.rangeCount)return!1;var node=sel.getRangeAt(0).commonAncestorContainer;return contains(this.div,node)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){function poll(){input.cm.state.focused&&(input.pollSelection(),input.polling.set(input.cm.options.pollInterval,poll))}var input=this;this.selectionInEditor()?this.pollSelection():runInOp(this.cm,function(){input.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,poll)},pollSelection:function(){if(!this.composing){var sel=window.getSelection(),cm=this.cm;if(sel.anchorNode!=this.lastAnchorNode||sel.anchorOffset!=this.lastAnchorOffset||sel.focusNode!=this.lastFocusNode||sel.focusOffset!=this.lastFocusOffset){this.rememberSelection();var anchor=domToPos(cm,sel.anchorNode,sel.anchorOffset),head=domToPos(cm,sel.focusNode,sel.focusOffset);anchor&&head&&runInOp(cm,function(){setSelection(cm.doc,simpleSelection(anchor,head),sel_dontScroll),(anchor.bad||head.bad)&&(cm.curOp.selectionChanged=!0)})}}},pollContent:function(){var cm=this.cm,display=cm.display,sel=cm.doc.sel.primary(),from=sel.from(),to=sel.to();if(from.line<display.viewFrom||to.line>display.viewTo-1)return!1;var fromIndex;if(from.line==display.viewFrom||0==(fromIndex=findViewIndex(cm,from.line)))var fromLine=lineNo(display.view[0].line),fromNode=display.view[0].node;else var fromLine=lineNo(display.view[fromIndex].line),fromNode=display.view[fromIndex-1].node.nextSibling;var toIndex=findViewIndex(cm,to.line);if(toIndex==display.view.length-1)var toLine=display.viewTo-1,toNode=display.view[toIndex].node;else var toLine=lineNo(display.view[toIndex+1].line)-1,toNode=display.view[toIndex+1].node.previousSibling;for(var newText=splitLines(domTextBetween(cm,fromNode,toNode,fromLine,toLine)),oldText=getBetween(cm.doc,Pos(fromLine,0),Pos(toLine,getLine(cm.doc,toLine).text.length));newText.length>1&&oldText.length>1;)if(lst(newText)==lst(oldText))newText.pop(),oldText.pop(),toLine--;else{if(newText[0]!=oldText[0])break;newText.shift(),oldText.shift(),fromLine++}for(var cutFront=0,cutEnd=0,newTop=newText[0],oldTop=oldText[0],maxCutFront=Math.min(newTop.length,oldTop.length);cutFront<maxCutFront&&newTop.charCodeAt(cutFront)==oldTop.charCodeAt(cutFront);)++cutFront;for(var newBot=lst(newText),oldBot=lst(oldText),maxCutEnd=Math.min(newBot.length-(1==newText.length?cutFront:0),oldBot.length-(1==oldText.length?cutFront:0));cutEnd<maxCutEnd&&newBot.charCodeAt(newBot.length-cutEnd-1)==oldBot.charCodeAt(oldBot.length-cutEnd-1);)++cutEnd;newText[newText.length-1]=newBot.slice(0,newBot.length-cutEnd),newText[0]=newText[0].slice(cutFront);var chFrom=Pos(fromLine,cutFront),chTo=Pos(toLine,oldText.length?lst(oldText).length-cutEnd:0);return newText.length>1||newText[0]||cmp(chFrom,chTo)?(replaceRange(cm.doc,newText,chFrom,chTo,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(composing){composing.data&&composing.data!=composing.startData&&operation(this.cm,applyTextInput)(this.cm,composing.data,0,composing.sel)},setUneditable:function(node){node.setAttribute("contenteditable","false")},onKeyPress:function(e){e.preventDefault(),operation(this.cm,applyTextInput)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0)},onContextMenu:nothing,resetPosition:nothing,needsContentAttribute:!0},ContentEditableInput.prototype),CodeMirror.inputStyles={textarea:TextareaInput,contenteditable:ContentEditableInput},Selection.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(other){if(other==this)return!0;if(other.primIndex!=this.primIndex||other.ranges.length!=this.ranges.length)return!1;for(var i=0;i<this.ranges.length;i++){var here=this.ranges[i],there=other.ranges[i];if(0!=cmp(here.anchor,there.anchor)||0!=cmp(here.head,there.head))return!1}return!0},deepCopy:function(){for(var out=[],i=0;i<this.ranges.length;i++)out[i]=new Range(copyPos(this.ranges[i].anchor),copyPos(this.ranges[i].head));return new Selection(out,this.primIndex)},somethingSelected:function(){for(var i=0;i<this.ranges.length;i++)if(!this.ranges[i].empty())return!0;return!1},contains:function(pos,end){end||(end=pos);for(var i=0;i<this.ranges.length;i++){var range=this.ranges[i];if(cmp(end,range.from())>=0&&cmp(pos,range.to())<=0)return i}return-1}},Range.prototype={from:function(){return minPos(this.anchor,this.head)},to:function(){return maxPos(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var measureText,lastClick,lastDoubleClick,nullRect={left:0,right:0,top:0,bottom:0},operationGroup=null,nextOpId=0,lastDrop=0,wheelSamples=0,wheelPixelsPerUnit=null;ie?wheelPixelsPerUnit=-.53:gecko?wheelPixelsPerUnit=15:chrome?wheelPixelsPerUnit=-.7:safari&&(wheelPixelsPerUnit=-1/3);var wheelEventDelta=function(e){var dx=e.wheelDeltaX,dy=e.wheelDeltaY;return null==dx&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(dx=e.detail),null==dy&&e.detail&&e.axis==e.VERTICAL_AXIS?dy=e.detail:null==dy&&(dy=e.wheelDelta),{x:dx,y:dy}};CodeMirror.wheelEventPixels=function(e){var delta=wheelEventDelta(e);return delta.x*=wheelPixelsPerUnit,delta.y*=wheelPixelsPerUnit,delta};var stopSeq=new Delayed,lastStoppedKey=null,changeEnd=CodeMirror.changeEnd=function(change){return change.text?Pos(change.from.line+change.text.length-1,lst(change.text).length+(1==change.text.length?change.from.ch:0)):change.to};CodeMirror.prototype={constructor:CodeMirror,focus:function(){window.focus(),this.display.input.focus()},setOption:function(option,value){var options=this.options,old=options[option];options[option]==value&&"mode"!=option||(options[option]=value,optionHandlers.hasOwnProperty(option)&&operation(this,optionHandlers[option])(this,value,old))},getOption:function(option){return this.options[option]},getDoc:function(){return this.doc},addKeyMap:function(map,bottom){this.state.keyMaps[bottom?"push":"unshift"](getKeyMap(map))},removeKeyMap:function(map){for(var maps=this.state.keyMaps,i=0;i<maps.length;++i)if(maps[i]==map||maps[i].name==map)return maps.splice(i,1),!0},addOverlay:methodOp(function(spec,options){var mode=spec.token?spec:CodeMirror.getMode(this.options,spec);if(mode.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:mode,modeSpec:spec,opaque:options&&options.opaque}),this.state.modeGen++,regChange(this)}),removeOverlay:methodOp(function(spec){for(var overlays=this.state.overlays,i=0;i<overlays.length;++i){var cur=overlays[i].modeSpec;if(cur==spec||"string"==typeof spec&&cur.name==spec)return overlays.splice(i,1),
this.state.modeGen++,void regChange(this)}}),indentLine:methodOp(function(n,dir,aggressive){"string"!=typeof dir&&"number"!=typeof dir&&(dir=null==dir?this.options.smartIndent?"smart":"prev":dir?"add":"subtract"),isLine(this.doc,n)&&indentLine(this,n,dir,aggressive)}),indentSelection:methodOp(function(how){for(var ranges=this.doc.sel.ranges,end=-1,i=0;i<ranges.length;i++){var range=ranges[i];if(range.empty())range.head.line>end&&(indentLine(this,range.head.line,how,!0),end=range.head.line,i==this.doc.sel.primIndex&&ensureCursorVisible(this));else{var from=range.from(),to=range.to(),start=Math.max(end,from.line);end=Math.min(this.lastLine(),to.line-(to.ch?0:1))+1;for(var j=start;j<end;++j)indentLine(this,j,how);var newRanges=this.doc.sel.ranges;0==from.ch&&ranges.length==newRanges.length&&newRanges[i].from().ch>0&&replaceOneSelection(this.doc,i,new Range(from,newRanges[i].to()),sel_dontScroll)}}}),getTokenAt:function(pos,precise){return takeToken(this,pos,precise)},getLineTokens:function(line,precise){return takeToken(this,Pos(line),precise,!0)},getTokenTypeAt:function(pos){pos=clipPos(this.doc,pos);var type,styles=getLineStyles(this,getLine(this.doc,pos.line)),before=0,after=(styles.length-1)/2,ch=pos.ch;if(0==ch)type=styles[2];else for(;;){var mid=before+after>>1;if((mid?styles[2*mid-1]:0)>=ch)after=mid;else{if(!(styles[2*mid+1]<ch)){type=styles[2*mid+2];break}before=mid+1}}var cut=type?type.indexOf("cm-overlay "):-1;return cut<0?type:0==cut?null:type.slice(0,cut-1)},getModeAt:function(pos){var mode=this.doc.mode;return mode.innerMode?CodeMirror.innerMode(mode,this.getTokenAt(pos).state).mode:mode},getHelper:function(pos,type){return this.getHelpers(pos,type)[0]},getHelpers:function(pos,type){var found=[];if(!helpers.hasOwnProperty(type))return helpers;var help=helpers[type],mode=this.getModeAt(pos);if("string"==typeof mode[type])help[mode[type]]&&found.push(help[mode[type]]);else if(mode[type])for(var i=0;i<mode[type].length;i++){var val=help[mode[type][i]];val&&found.push(val)}else mode.helperType&&help[mode.helperType]?found.push(help[mode.helperType]):help[mode.name]&&found.push(help[mode.name]);for(var i=0;i<help._global.length;i++){var cur=help._global[i];cur.pred(mode,this)&&indexOf(found,cur.val)==-1&&found.push(cur.val)}return found},getStateAfter:function(line,precise){var doc=this.doc;return line=clipLine(doc,null==line?doc.first+doc.size-1:line),getStateBefore(this,line+1,precise)},cursorCoords:function(start,mode){var pos,range=this.doc.sel.primary();return pos=null==start?range.head:"object"==typeof start?clipPos(this.doc,start):start?range.from():range.to(),cursorCoords(this,pos,mode||"page")},charCoords:function(pos,mode){return charCoords(this,clipPos(this.doc,pos),mode||"page")},coordsChar:function(coords,mode){return coords=fromCoordSystem(this,coords,mode||"page"),coordsChar(this,coords.left,coords.top)},lineAtHeight:function(height,mode){return height=fromCoordSystem(this,{top:height,left:0},mode||"page").top,lineAtHeight(this.doc,height+this.display.viewOffset)},heightAtLine:function(line,mode){var end=!1,last=this.doc.first+this.doc.size-1;line<this.doc.first?line=this.doc.first:line>last&&(line=last,end=!0);var lineObj=getLine(this.doc,line);return intoCoordSystem(this,lineObj,{top:0,left:0},mode||"page").top+(end?this.doc.height-heightAtLine(lineObj):0)},defaultTextHeight:function(){return textHeight(this.display)},defaultCharWidth:function(){return charWidth(this.display)},setGutterMarker:methodOp(function(line,gutterID,value){return changeLine(this.doc,line,"gutter",function(line){var markers=line.gutterMarkers||(line.gutterMarkers={});return markers[gutterID]=value,!value&&isEmpty(markers)&&(line.gutterMarkers=null),!0})}),clearGutter:methodOp(function(gutterID){var cm=this,doc=cm.doc,i=doc.first;doc.iter(function(line){line.gutterMarkers&&line.gutterMarkers[gutterID]&&(line.gutterMarkers[gutterID]=null,regLineChange(cm,i,"gutter"),isEmpty(line.gutterMarkers)&&(line.gutterMarkers=null)),++i})}),addLineWidget:methodOp(function(handle,node,options){return addLineWidget(this,handle,node,options)}),removeLineWidget:function(widget){widget.clear()},lineInfo:function(line){if("number"==typeof line){if(!isLine(this.doc,line))return null;var n=line;if(line=getLine(this.doc,line),!line)return null}else{var n=lineNo(line);if(null==n)return null}return{line:n,handle:line,text:line.text,gutterMarkers:line.gutterMarkers,textClass:line.textClass,bgClass:line.bgClass,wrapClass:line.wrapClass,widgets:line.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(pos,node,scroll,vert,horiz){var display=this.display;pos=cursorCoords(this,clipPos(this.doc,pos));var top=pos.bottom,left=pos.left;if(node.style.position="absolute",node.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(node),display.sizer.appendChild(node),"over"==vert)top=pos.top;else if("above"==vert||"near"==vert){var vspace=Math.max(display.wrapper.clientHeight,this.doc.height),hspace=Math.max(display.sizer.clientWidth,display.lineSpace.clientWidth);("above"==vert||pos.bottom+node.offsetHeight>vspace)&&pos.top>node.offsetHeight?top=pos.top-node.offsetHeight:pos.bottom+node.offsetHeight<=vspace&&(top=pos.bottom),left+node.offsetWidth>hspace&&(left=hspace-node.offsetWidth)}node.style.top=top+"px",node.style.left=node.style.right="","right"==horiz?(left=display.sizer.clientWidth-node.offsetWidth,node.style.right="0px"):("left"==horiz?left=0:"middle"==horiz&&(left=(display.sizer.clientWidth-node.offsetWidth)/2),node.style.left=left+"px"),scroll&&scrollIntoView(this,left,top,left+node.offsetWidth,top+node.offsetHeight)},triggerOnKeyDown:methodOp(onKeyDown),triggerOnKeyPress:methodOp(onKeyPress),triggerOnKeyUp:onKeyUp,execCommand:function(cmd){if(commands.hasOwnProperty(cmd))return commands[cmd](this)},findPosH:function(from,amount,unit,visually){var dir=1;amount<0&&(dir=-1,amount=-amount);for(var i=0,cur=clipPos(this.doc,from);i<amount&&(cur=findPosH(this.doc,cur,dir,unit,visually),!cur.hitSide);++i);return cur},moveH:methodOp(function(dir,unit){var cm=this;cm.extendSelectionsBy(function(range){return cm.display.shift||cm.doc.extend||range.empty()?findPosH(cm.doc,range.head,dir,unit,cm.options.rtlMoveVisually):dir<0?range.from():range.to()},sel_move)}),deleteH:methodOp(function(dir,unit){var sel=this.doc.sel,doc=this.doc;sel.somethingSelected()?doc.replaceSelection("",null,"+delete"):deleteNearSelection(this,function(range){var other=findPosH(doc,range.head,dir,unit,!1);return dir<0?{from:other,to:range.head}:{from:range.head,to:other}})}),findPosV:function(from,amount,unit,goalColumn){var dir=1,x=goalColumn;amount<0&&(dir=-1,amount=-amount);for(var i=0,cur=clipPos(this.doc,from);i<amount;++i){var coords=cursorCoords(this,cur,"div");if(null==x?x=coords.left:coords.left=x,cur=findPosV(this,coords,dir,unit),cur.hitSide)break}return cur},moveV:methodOp(function(dir,unit){var cm=this,doc=this.doc,goals=[],collapse=!cm.display.shift&&!doc.extend&&doc.sel.somethingSelected();if(doc.extendSelectionsBy(function(range){if(collapse)return dir<0?range.from():range.to();var headPos=cursorCoords(cm,range.head,"div");null!=range.goalColumn&&(headPos.left=range.goalColumn),goals.push(headPos.left);var pos=findPosV(cm,headPos,dir,unit);return"page"==unit&&range==doc.sel.primary()&&addToScrollPos(cm,null,charCoords(cm,pos,"div").top-headPos.top),pos},sel_move),goals.length)for(var i=0;i<doc.sel.ranges.length;i++)doc.sel.ranges[i].goalColumn=goals[i]}),findWordAt:function(pos){var doc=this.doc,line=getLine(doc,pos.line).text,start=pos.ch,end=pos.ch;if(line){var helper=this.getHelper(pos,"wordChars");(pos.xRel<0||end==line.length)&&start?--start:++end;for(var startChar=line.charAt(start),check=isWordChar(startChar,helper)?function(ch){return isWordChar(ch,helper)}:/\s/.test(startChar)?function(ch){return/\s/.test(ch)}:function(ch){return!/\s/.test(ch)&&!isWordChar(ch)};start>0&&check(line.charAt(start-1));)--start;for(;end<line.length&&check(line.charAt(end));)++end}return new Range(Pos(pos.line,start),Pos(pos.line,end))},toggleOverwrite:function(value){null!=value&&value==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?addClass(this.display.cursorDiv,"CodeMirror-overwrite"):rmClass(this.display.cursorDiv,"CodeMirror-overwrite"),signal(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==activeElt()},scrollTo:methodOp(function(x,y){null==x&&null==y||resolveScrollToPos(this),null!=x&&(this.curOp.scrollLeft=x),null!=y&&(this.curOp.scrollTop=y)}),getScrollInfo:function(){var scroller=this.display.scroller;return{left:scroller.scrollLeft,top:scroller.scrollTop,height:scroller.scrollHeight-scrollGap(this)-this.display.barHeight,width:scroller.scrollWidth-scrollGap(this)-this.display.barWidth,clientHeight:displayHeight(this),clientWidth:displayWidth(this)}},scrollIntoView:methodOp(function(range,margin){if(null==range?(range={from:this.doc.sel.primary().head,to:null},null==margin&&(margin=this.options.cursorScrollMargin)):"number"==typeof range?range={from:Pos(range,0),to:null}:null==range.from&&(range={from:range,to:null}),range.to||(range.to=range.from),range.margin=margin||0,null!=range.from.line)resolveScrollToPos(this),this.curOp.scrollToPos=range;else{var sPos=calculateScrollPos(this,Math.min(range.from.left,range.to.left),Math.min(range.from.top,range.to.top)-range.margin,Math.max(range.from.right,range.to.right),Math.max(range.from.bottom,range.to.bottom)+range.margin);this.scrollTo(sPos.scrollLeft,sPos.scrollTop)}}),setSize:methodOp(function(width,height){function interpret(val){return"number"==typeof val||/^\d+$/.test(String(val))?val+"px":val}var cm=this;null!=width&&(cm.display.wrapper.style.width=interpret(width)),null!=height&&(cm.display.wrapper.style.height=interpret(height)),cm.options.lineWrapping&&clearLineMeasurementCache(this);var lineNo=cm.display.viewFrom;cm.doc.iter(lineNo,cm.display.viewTo,function(line){if(line.widgets)for(var i=0;i<line.widgets.length;i++)if(line.widgets[i].noHScroll){regLineChange(cm,lineNo,"widget");break}++lineNo}),cm.curOp.forceUpdate=!0,signal(cm,"refresh",this)}),operation:function(f){return runInOp(this,f)},refresh:methodOp(function(){var oldHeight=this.display.cachedTextHeight;regChange(this),this.curOp.forceUpdate=!0,clearCaches(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),updateGutterSpace(this),(null==oldHeight||Math.abs(oldHeight-textHeight(this.display))>.5)&&estimateLineHeights(this),signal(this,"refresh",this)}),swapDoc:methodOp(function(doc){var old=this.doc;return old.cm=null,attachDoc(this,doc),clearCaches(this),this.display.input.reset(),this.scrollTo(doc.scrollLeft,doc.scrollTop),this.curOp.forceScroll=!0,signalLater(this,"swapDoc",this,old),old}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},eventMixin(CodeMirror);var defaults=CodeMirror.defaults={},optionHandlers=CodeMirror.optionHandlers={},Init=CodeMirror.Init={toString:function(){return"CodeMirror.Init"}};option("value","",function(cm,val){cm.setValue(val)},!0),option("mode",null,function(cm,val){cm.doc.modeOption=val,loadMode(cm)},!0),option("indentUnit",2,loadMode,!0),option("indentWithTabs",!1),option("smartIndent",!0),option("tabSize",4,function(cm){resetModeState(cm),clearCaches(cm),regChange(cm)},!0),option("specialChars",/[\t\u0000-\u0019\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(cm,val){cm.options.specialChars=new RegExp(val.source+(val.test("\t")?"":"|\t"),"g"),cm.refresh()},!0),option("specialCharPlaceholder",defaultSpecialCharPlaceholder,function(cm){cm.refresh()},!0),option("electricChars",!0),option("inputStyle",mobile?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),option("rtlMoveVisually",!windows),option("wholeLineUpdateBefore",!0),option("theme","default",function(cm){themeChanged(cm),guttersChanged(cm)},!0),option("keyMap","default",function(cm,val,old){var next=getKeyMap(val),prev=old!=CodeMirror.Init&&getKeyMap(old);prev&&prev.detach&&prev.detach(cm,next),next.attach&&next.attach(cm,prev||null)}),option("extraKeys",null),option("lineWrapping",!1,wrappingChanged,!0),option("gutters",[],function(cm){setGuttersForLineNumbers(cm.options),guttersChanged(cm)},!0),option("fixedGutter",!0,function(cm,val){cm.display.gutters.style.left=val?compensateForHScroll(cm.display)+"px":"0",cm.refresh()},!0),option("coverGutterNextToScrollbar",!1,function(cm){updateScrollbars(cm)},!0),option("scrollbarStyle","native",function(cm){initScrollbars(cm),updateScrollbars(cm),cm.display.scrollbars.setScrollTop(cm.doc.scrollTop),cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft)},!0),option("lineNumbers",!1,function(cm){setGuttersForLineNumbers(cm.options),guttersChanged(cm)},!0),option("firstLineNumber",1,guttersChanged,!0),option("lineNumberFormatter",function(integer){return integer},guttersChanged,!0),option("showCursorWhenSelecting",!1,updateSelection,!0),option("resetSelectionOnContextMenu",!0),option("readOnly",!1,function(cm,val){"nocursor"==val?(onBlur(cm),cm.display.input.blur(),cm.display.disabled=!0):(cm.display.disabled=!1,val||cm.display.input.reset())}),option("disableInput",!1,function(cm,val){val||cm.display.input.reset()},!0),option("dragDrop",!0),option("cursorBlinkRate",530),option("cursorScrollMargin",0),option("cursorHeight",1,updateSelection,!0),option("singleCursorHeightPerLine",!0,updateSelection,!0),option("workTime",100),option("workDelay",100),option("flattenSpans",!0,resetModeState,!0),option("addModeClass",!1,resetModeState,!0),option("pollInterval",100),option("undoDepth",200,function(cm,val){cm.doc.history.undoDepth=val}),option("historyEventDelay",1250),option("viewportMargin",10,function(cm){cm.refresh()},!0),option("maxHighlightLength",1e4,resetModeState,!0),option("moveInputWithCursor",!0,function(cm,val){val||cm.display.input.resetPosition()}),option("tabindex",null,function(cm,val){cm.display.input.getField().tabIndex=val||""}),option("autofocus",null);var modes=CodeMirror.modes={},mimeModes=CodeMirror.mimeModes={};CodeMirror.defineMode=function(name,mode){CodeMirror.defaults.mode||"null"==name||(CodeMirror.defaults.mode=name),arguments.length>2&&(mode.dependencies=Array.prototype.slice.call(arguments,2)),modes[name]=mode},CodeMirror.defineMIME=function(mime,spec){mimeModes[mime]=spec},CodeMirror.resolveMode=function(spec){if("string"==typeof spec&&mimeModes.hasOwnProperty(spec))spec=mimeModes[spec];else if(spec&&"string"==typeof spec.name&&mimeModes.hasOwnProperty(spec.name)){var found=mimeModes[spec.name];"string"==typeof found&&(found={name:found}),spec=createObj(found,spec),spec.name=found.name}else if("string"==typeof spec&&/^[\w\-]+\/[\w\-]+\+xml$/.test(spec))return CodeMirror.resolveMode("application/xml");return"string"==typeof spec?{name:spec}:spec||{name:"null"}},CodeMirror.getMode=function(options,spec){var spec=CodeMirror.resolveMode(spec),mfactory=modes[spec.name];if(!mfactory)return CodeMirror.getMode(options,"text/plain");var modeObj=mfactory(options,spec);if(modeExtensions.hasOwnProperty(spec.name)){var exts=modeExtensions[spec.name];for(var prop in exts)exts.hasOwnProperty(prop)&&(modeObj.hasOwnProperty(prop)&&(modeObj["_"+prop]=modeObj[prop]),modeObj[prop]=exts[prop])}if(modeObj.name=spec.name,spec.helperType&&(modeObj.helperType=spec.helperType),spec.modeProps)for(var prop in spec.modeProps)modeObj[prop]=spec.modeProps[prop];return modeObj},CodeMirror.defineMode("null",function(){return{token:function(stream){stream.skipToEnd()}}}),CodeMirror.defineMIME("text/plain","null");var modeExtensions=CodeMirror.modeExtensions={};CodeMirror.extendMode=function(mode,properties){var exts=modeExtensions.hasOwnProperty(mode)?modeExtensions[mode]:modeExtensions[mode]={};copyObj(properties,exts)},CodeMirror.defineExtension=function(name,func){CodeMirror.prototype[name]=func},CodeMirror.defineDocExtension=function(name,func){Doc.prototype[name]=func},CodeMirror.defineOption=option;var initHooks=[];CodeMirror.defineInitHook=function(f){initHooks.push(f)};var helpers=CodeMirror.helpers={};CodeMirror.registerHelper=function(type,name,value){helpers.hasOwnProperty(type)||(helpers[type]=CodeMirror[type]={_global:[]}),helpers[type][name]=value},CodeMirror.registerGlobalHelper=function(type,name,predicate,value){CodeMirror.registerHelper(type,name,value),helpers[type]._global.push({pred:predicate,val:value})};var copyState=CodeMirror.copyState=function(mode,state){if(state===!0)return state;if(mode.copyState)return mode.copyState(state);var nstate={};for(var n in state){var val=state[n];val instanceof Array&&(val=val.concat([])),nstate[n]=val}return nstate},startState=CodeMirror.startState=function(mode,a1,a2){return!mode.startState||mode.startState(a1,a2)};CodeMirror.innerMode=function(mode,state){for(;mode.innerMode;){var info=mode.innerMode(state);if(!info||info.mode==mode)break;state=info.state,mode=info.mode}return info||{mode:mode,state:state}};var commands=CodeMirror.commands={selectAll:function(cm){cm.setSelection(Pos(cm.firstLine(),0),Pos(cm.lastLine()),sel_dontScroll)},singleSelection:function(cm){cm.setSelection(cm.getCursor("anchor"),cm.getCursor("head"),sel_dontScroll)},killLine:function(cm){deleteNearSelection(cm,function(range){if(range.empty()){var len=getLine(cm.doc,range.head.line).text.length;return range.head.ch==len&&range.head.line<cm.lastLine()?{from:range.head,to:Pos(range.head.line+1,0)}:{from:range.head,to:Pos(range.head.line,len)}}return{from:range.from(),to:range.to()}})},deleteLine:function(cm){deleteNearSelection(cm,function(range){return{from:Pos(range.from().line,0),to:clipPos(cm.doc,Pos(range.to().line+1,0))}})},delLineLeft:function(cm){deleteNearSelection(cm,function(range){return{from:Pos(range.from().line,0),to:range.from()}})},delWrappedLineLeft:function(cm){deleteNearSelection(cm,function(range){var top=cm.charCoords(range.head,"div").top+5,leftPos=cm.coordsChar({left:0,top:top},"div");return{from:leftPos,to:range.from()}})},delWrappedLineRight:function(cm){deleteNearSelection(cm,function(range){var top=cm.charCoords(range.head,"div").top+5,rightPos=cm.coordsChar({left:cm.display.lineDiv.offsetWidth+100,top:top},"div");return{from:range.from(),to:rightPos}})},undo:function(cm){cm.undo()},redo:function(cm){cm.redo()},undoSelection:function(cm){cm.undoSelection()},redoSelection:function(cm){cm.redoSelection()},goDocStart:function(cm){cm.extendSelection(Pos(cm.firstLine(),0))},goDocEnd:function(cm){cm.extendSelection(Pos(cm.lastLine()))},goLineStart:function(cm){cm.extendSelectionsBy(function(range){return lineStart(cm,range.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(cm){cm.extendSelectionsBy(function(range){return lineStartSmart(cm,range.head)},{origin:"+move",bias:1})},goLineEnd:function(cm){cm.extendSelectionsBy(function(range){return lineEnd(cm,range.head.line)},{origin:"+move",bias:-1})},goLineRight:function(cm){cm.extendSelectionsBy(function(range){var top=cm.charCoords(range.head,"div").top+5;return cm.coordsChar({left:cm.display.lineDiv.offsetWidth+100,top:top},"div")},sel_move)},goLineLeft:function(cm){cm.extendSelectionsBy(function(range){var top=cm.charCoords(range.head,"div").top+5;return cm.coordsChar({left:0,top:top},"div")},sel_move)},goLineLeftSmart:function(cm){cm.extendSelectionsBy(function(range){var top=cm.charCoords(range.head,"div").top+5,pos=cm.coordsChar({left:0,top:top},"div");return pos.ch<cm.getLine(pos.line).search(/\S/)?lineStartSmart(cm,range.head):pos},sel_move)},goLineUp:function(cm){cm.moveV(-1,"line")},goLineDown:function(cm){cm.moveV(1,"line")},goPageUp:function(cm){cm.moveV(-1,"page")},goPageDown:function(cm){cm.moveV(1,"page")},goCharLeft:function(cm){cm.moveH(-1,"char")},goCharRight:function(cm){cm.moveH(1,"char")},goColumnLeft:function(cm){cm.moveH(-1,"column")},goColumnRight:function(cm){cm.moveH(1,"column")},goWordLeft:function(cm){cm.moveH(-1,"word")},goGroupRight:function(cm){cm.moveH(1,"group")},goGroupLeft:function(cm){cm.moveH(-1,"group")},goWordRight:function(cm){cm.moveH(1,"word")},delCharBefore:function(cm){cm.deleteH(-1,"char")},delCharAfter:function(cm){cm.deleteH(1,"char")},delWordBefore:function(cm){cm.deleteH(-1,"word")},delWordAfter:function(cm){cm.deleteH(1,"word")},delGroupBefore:function(cm){cm.deleteH(-1,"group")},delGroupAfter:function(cm){cm.deleteH(1,"group")},indentAuto:function(cm){cm.indentSelection("smart")},indentMore:function(cm){cm.indentSelection("add")},indentLess:function(cm){cm.indentSelection("subtract")},insertTab:function(cm){cm.replaceSelection("\t")},insertSoftTab:function(cm){for(var spaces=[],ranges=cm.listSelections(),tabSize=cm.options.tabSize,i=0;i<ranges.length;i++){var pos=ranges[i].from(),col=countColumn(cm.getLine(pos.line),pos.ch,tabSize);spaces.push(new Array(tabSize-col%tabSize+1).join(" "))}cm.replaceSelections(spaces)},defaultTab:function(cm){cm.somethingSelected()?cm.indentSelection("add"):cm.execCommand("insertTab")},transposeChars:function(cm){runInOp(cm,function(){for(var ranges=cm.listSelections(),newSel=[],i=0;i<ranges.length;i++){var cur=ranges[i].head,line=getLine(cm.doc,cur.line).text;if(line)if(cur.ch==line.length&&(cur=new Pos(cur.line,cur.ch-1)),cur.ch>0)cur=new Pos(cur.line,cur.ch+1),cm.replaceRange(line.charAt(cur.ch-1)+line.charAt(cur.ch-2),Pos(cur.line,cur.ch-2),cur,"+transpose");else if(cur.line>cm.doc.first){var prev=getLine(cm.doc,cur.line-1).text;prev&&cm.replaceRange(line.charAt(0)+"\n"+prev.charAt(prev.length-1),Pos(cur.line-1,prev.length-1),Pos(cur.line,1),"+transpose")}newSel.push(new Range(cur,cur))}cm.setSelections(newSel)})},newlineAndIndent:function(cm){runInOp(cm,function(){for(var len=cm.listSelections().length,i=0;i<len;i++){var range=cm.listSelections()[i];cm.replaceRange("\n",range.anchor,range.head,"+input"),cm.indentLine(range.from().line+1,null,!0),ensureCursorVisible(cm)}})},toggleOverwrite:function(cm){cm.toggleOverwrite()}},keyMap=CodeMirror.keyMap={};keyMap.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},keyMap.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},keyMap.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},keyMap.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},keyMap["default"]=mac?keyMap.macDefault:keyMap.pcDefault,CodeMirror.normalizeKeyMap=function(keymap){var copy={};for(var keyname in keymap)if(keymap.hasOwnProperty(keyname)){var value=keymap[keyname];if(/^(name|fallthrough|(de|at)tach)$/.test(keyname))continue;if("..."==value){delete keymap[keyname];continue}for(var keys=map(keyname.split(" "),normalizeKeyName),i=0;i<keys.length;i++){var val,name;i==keys.length-1?(name=keyname,val=value):(name=keys.slice(0,i+1).join(" "),val="...");var prev=copy[name];if(prev){if(prev!=val)throw new Error("Inconsistent bindings for "+name)}else copy[name]=val}delete keymap[keyname]}for(var prop in copy)keymap[prop]=copy[prop];return keymap};var lookupKey=CodeMirror.lookupKey=function(key,map,handle,context){map=getKeyMap(map);var found=map.call?map.call(key,context):map[key];if(found===!1)return"nothing";if("..."===found)return"multi";if(null!=found&&handle(found))return"handled";if(map.fallthrough){if("[object Array]"!=Object.prototype.toString.call(map.fallthrough))return lookupKey(key,map.fallthrough,handle,context);for(var i=0;i<map.fallthrough.length;i++){var result=lookupKey(key,map.fallthrough[i],handle,context);if(result)return result}}},isModifierKey=CodeMirror.isModifierKey=function(value){var name="string"==typeof value?value:keyNames[value.keyCode];return"Ctrl"==name||"Alt"==name||"Shift"==name||"Mod"==name},keyName=CodeMirror.keyName=function(event,noShift){if(presto&&34==event.keyCode&&event["char"])return!1;var base=keyNames[event.keyCode],name=base;return null!=name&&!event.altGraphKey&&(event.altKey&&"Alt"!=base&&(name="Alt-"+name),(flipCtrlCmd?event.metaKey:event.ctrlKey)&&"Ctrl"!=base&&(name="Ctrl-"+name),(flipCtrlCmd?event.ctrlKey:event.metaKey)&&"Cmd"!=base&&(name="Cmd-"+name),!noShift&&event.shiftKey&&"Shift"!=base&&(name="Shift-"+name),name)};CodeMirror.fromTextArea=function(textarea,options){function save(){textarea.value=cm.getValue()}if(options=options?copyObj(options):{},options.value=textarea.value,!options.tabindex&&textarea.tabIndex&&(options.tabindex=textarea.tabIndex),!options.placeholder&&textarea.placeholder&&(options.placeholder=textarea.placeholder),null==options.autofocus){var hasFocus=activeElt();options.autofocus=hasFocus==textarea||null!=textarea.getAttribute("autofocus")&&hasFocus==document.body}if(textarea.form&&(on(textarea.form,"submit",save),!options.leaveSubmitMethodAlone)){var form=textarea.form,realSubmit=form.submit;try{var wrappedSubmit=form.submit=function(){save(),form.submit=realSubmit,form.submit(),form.submit=wrappedSubmit}}catch(e){}}options.finishInit=function(cm){cm.save=save,cm.getTextArea=function(){return textarea},cm.toTextArea=function(){cm.toTextArea=isNaN,save(),textarea.parentNode.removeChild(cm.getWrapperElement()),textarea.style.display="",textarea.form&&(off(textarea.form,"submit",save),"function"==typeof textarea.form.submit&&(textarea.form.submit=realSubmit))}},textarea.style.display="none";var cm=CodeMirror(function(node){textarea.parentNode.insertBefore(node,textarea.nextSibling)},options);return cm};var StringStream=CodeMirror.StringStream=function(string,tabSize){this.pos=this.start=0,this.string=string,this.tabSize=tabSize||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};StringStream.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(match){var ch=this.string.charAt(this.pos);if("string"==typeof match)var ok=ch==match;else var ok=ch&&(match.test?match.test(ch):match(ch));if(ok)return++this.pos,ch},eatWhile:function(match){for(var start=this.pos;this.eat(match););return this.pos>start},eatSpace:function(){for(var start=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>start},skipToEnd:function(){this.pos=this.string.length},skipTo:function(ch){var found=this.string.indexOf(ch,this.pos);if(found>-1)return this.pos=found,!0},backUp:function(n){this.pos-=n},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=countColumn(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?countColumn(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return countColumn(this.string,null,this.tabSize)-(this.lineStart?countColumn(this.string,this.lineStart,this.tabSize):0)},match:function(pattern,consume,caseInsensitive){if("string"!=typeof pattern){var match=this.string.slice(this.pos).match(pattern);return match&&match.index>0?null:(match&&consume!==!1&&(this.pos+=match[0].length),match)}var cased=function(str){return caseInsensitive?str.toLowerCase():str},substr=this.string.substr(this.pos,pattern.length);if(cased(substr)==cased(pattern))return consume!==!1&&(this.pos+=pattern.length),!0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(n,inner){this.lineStart+=n;try{return inner()}finally{this.lineStart-=n}}};var nextMarkerId=0,TextMarker=CodeMirror.TextMarker=function(doc,type){this.lines=[],this.type=type,this.doc=doc,this.id=++nextMarkerId};eventMixin(TextMarker),TextMarker.prototype.clear=function(){if(!this.explicitlyCleared){var cm=this.doc.cm,withOp=cm&&!cm.curOp;if(withOp&&startOperation(cm),hasHandler(this,"clear")){var found=this.find();found&&signalLater(this,"clear",found.from,found.to)}for(var min=null,max=null,i=0;i<this.lines.length;++i){var line=this.lines[i],span=getMarkedSpanFor(line.markedSpans,this);cm&&!this.collapsed?regLineChange(cm,lineNo(line),"text"):cm&&(null!=span.to&&(max=lineNo(line)),null!=span.from&&(min=lineNo(line))),line.markedSpans=removeMarkedSpan(line.markedSpans,span),null==span.from&&this.collapsed&&!lineIsHidden(this.doc,line)&&cm&&updateLineHeight(line,textHeight(cm.display))}if(cm&&this.collapsed&&!cm.options.lineWrapping)for(var i=0;i<this.lines.length;++i){var visual=visualLine(this.lines[i]),len=lineLength(visual);len>cm.display.maxLineLength&&(cm.display.maxLine=visual,cm.display.maxLineLength=len,cm.display.maxLineChanged=!0)}null!=min&&cm&&this.collapsed&&regChange(cm,min,max+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,cm&&reCheckSelection(cm.doc)),cm&&signalLater(cm,"markerCleared",cm,this),withOp&&endOperation(cm),this.parent&&this.parent.clear()}},TextMarker.prototype.find=function(side,lineObj){null==side&&"bookmark"==this.type&&(side=1);for(var from,to,i=0;i<this.lines.length;++i){var line=this.lines[i],span=getMarkedSpanFor(line.markedSpans,this);if(null!=span.from&&(from=Pos(lineObj?line:lineNo(line),span.from),side==-1))return from;if(null!=span.to&&(to=Pos(lineObj?line:lineNo(line),span.to),1==side))return to}return from&&{from:from,to:to}},TextMarker.prototype.changed=function(){var pos=this.find(-1,!0),widget=this,cm=this.doc.cm;pos&&cm&&runInOp(cm,function(){var line=pos.line,lineN=lineNo(pos.line),view=findViewForLine(cm,lineN);if(view&&(clearLineMeasurementCacheFor(view),cm.curOp.selectionChanged=cm.curOp.forceUpdate=!0),cm.curOp.updateMaxLine=!0,!lineIsHidden(widget.doc,line)&&null!=widget.height){var oldHeight=widget.height;widget.height=null;var dHeight=widgetHeight(widget)-oldHeight;dHeight&&updateLineHeight(line,line.height+dHeight)}})},TextMarker.prototype.attachLine=function(line){if(!this.lines.length&&this.doc.cm){var op=this.doc.cm.curOp;op.maybeHiddenMarkers&&indexOf(op.maybeHiddenMarkers,this)!=-1||(op.maybeUnhiddenMarkers||(op.maybeUnhiddenMarkers=[])).push(this);
}this.lines.push(line)},TextMarker.prototype.detachLine=function(line){if(this.lines.splice(indexOf(this.lines,line),1),!this.lines.length&&this.doc.cm){var op=this.doc.cm.curOp;(op.maybeHiddenMarkers||(op.maybeHiddenMarkers=[])).push(this)}};var nextMarkerId=0,SharedTextMarker=CodeMirror.SharedTextMarker=function(markers,primary){this.markers=markers,this.primary=primary;for(var i=0;i<markers.length;++i)markers[i].parent=this};eventMixin(SharedTextMarker),SharedTextMarker.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var i=0;i<this.markers.length;++i)this.markers[i].clear();signalLater(this,"clear")}},SharedTextMarker.prototype.find=function(side,lineObj){return this.primary.find(side,lineObj)};var LineWidget=CodeMirror.LineWidget=function(cm,node,options){if(options)for(var opt in options)options.hasOwnProperty(opt)&&(this[opt]=options[opt]);this.cm=cm,this.node=node};eventMixin(LineWidget),LineWidget.prototype.clear=function(){var cm=this.cm,ws=this.line.widgets,line=this.line,no=lineNo(line);if(null!=no&&ws){for(var i=0;i<ws.length;++i)ws[i]==this&&ws.splice(i--,1);ws.length||(line.widgets=null);var height=widgetHeight(this);runInOp(cm,function(){adjustScrollWhenAboveVisible(cm,line,-height),regLineChange(cm,no,"widget"),updateLineHeight(line,Math.max(0,line.height-height))})}},LineWidget.prototype.changed=function(){var oldH=this.height,cm=this.cm,line=this.line;this.height=null;var diff=widgetHeight(this)-oldH;diff&&runInOp(cm,function(){cm.curOp.forceUpdate=!0,adjustScrollWhenAboveVisible(cm,line,diff),updateLineHeight(line,line.height+diff)})};var Line=CodeMirror.Line=function(text,markedSpans,estimateHeight){this.text=text,attachMarkedSpans(this,markedSpans),this.height=estimateHeight?estimateHeight(this):1};eventMixin(Line),Line.prototype.lineNo=function(){return lineNo(this)};var styleToClassCache={},styleToClassCacheWithMode={};LeafChunk.prototype={chunkSize:function(){return this.lines.length},removeInner:function(at,n){for(var i=at,e=at+n;i<e;++i){var line=this.lines[i];this.height-=line.height,cleanUpLine(line),signalLater(line,"delete")}this.lines.splice(at,n)},collapse:function(lines){lines.push.apply(lines,this.lines)},insertInner:function(at,lines,height){this.height+=height,this.lines=this.lines.slice(0,at).concat(lines).concat(this.lines.slice(at));for(var i=0;i<lines.length;++i)lines[i].parent=this},iterN:function(at,n,op){for(var e=at+n;at<e;++at)if(op(this.lines[at]))return!0}},BranchChunk.prototype={chunkSize:function(){return this.size},removeInner:function(at,n){this.size-=n;for(var i=0;i<this.children.length;++i){var child=this.children[i],sz=child.chunkSize();if(at<sz){var rm=Math.min(n,sz-at),oldHeight=child.height;if(child.removeInner(at,rm),this.height-=oldHeight-child.height,sz==rm&&(this.children.splice(i--,1),child.parent=null),0==(n-=rm))break;at=0}else at-=sz}if(this.size-n<25&&(this.children.length>1||!(this.children[0]instanceof LeafChunk))){var lines=[];this.collapse(lines),this.children=[new LeafChunk(lines)],this.children[0].parent=this}},collapse:function(lines){for(var i=0;i<this.children.length;++i)this.children[i].collapse(lines)},insertInner:function(at,lines,height){this.size+=lines.length,this.height+=height;for(var i=0;i<this.children.length;++i){var child=this.children[i],sz=child.chunkSize();if(at<=sz){if(child.insertInner(at,lines,height),child.lines&&child.lines.length>50){for(;child.lines.length>50;){var spilled=child.lines.splice(child.lines.length-25,25),newleaf=new LeafChunk(spilled);child.height-=newleaf.height,this.children.splice(i+1,0,newleaf),newleaf.parent=this}this.maybeSpill()}break}at-=sz}},maybeSpill:function(){if(!(this.children.length<=10)){var me=this;do{var spilled=me.children.splice(me.children.length-5,5),sibling=new BranchChunk(spilled);if(me.parent){me.size-=sibling.size,me.height-=sibling.height;var myIndex=indexOf(me.parent.children,me);me.parent.children.splice(myIndex+1,0,sibling)}else{var copy=new BranchChunk(me.children);copy.parent=me,me.children=[copy,sibling],me=copy}sibling.parent=me.parent}while(me.children.length>10);me.parent.maybeSpill()}},iterN:function(at,n,op){for(var i=0;i<this.children.length;++i){var child=this.children[i],sz=child.chunkSize();if(at<sz){var used=Math.min(n,sz-at);if(child.iterN(at,used,op))return!0;if(0==(n-=used))break;at=0}else at-=sz}}};var nextDocId=0,Doc=CodeMirror.Doc=function(text,mode,firstLine){if(!(this instanceof Doc))return new Doc(text,mode,firstLine);null==firstLine&&(firstLine=0),BranchChunk.call(this,[new LeafChunk([new Line("",null)])]),this.first=firstLine,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=firstLine;var start=Pos(firstLine,0);this.sel=simpleSelection(start),this.history=new History(null),this.id=++nextDocId,this.modeOption=mode,"string"==typeof text&&(text=splitLines(text)),updateDoc(this,{from:start,to:start,text:text}),setSelection(this,simpleSelection(start),sel_dontScroll)};Doc.prototype=createObj(BranchChunk.prototype,{constructor:Doc,iter:function(from,to,op){op?this.iterN(from-this.first,to-from,op):this.iterN(this.first,this.first+this.size,from)},insert:function(at,lines){for(var height=0,i=0;i<lines.length;++i)height+=lines[i].height;this.insertInner(at-this.first,lines,height)},remove:function(at,n){this.removeInner(at-this.first,n)},getValue:function(lineSep){var lines=getLines(this,this.first,this.first+this.size);return lineSep===!1?lines:lines.join(lineSep||"\n")},setValue:docMethodOp(function(code){var top=Pos(this.first,0),last=this.first+this.size-1;makeChange(this,{from:top,to:Pos(last,getLine(this,last).text.length),text:splitLines(code),origin:"setValue",full:!0},!0),setSelection(this,simpleSelection(top))}),replaceRange:function(code,from,to,origin){from=clipPos(this,from),to=to?clipPos(this,to):from,replaceRange(this,code,from,to,origin)},getRange:function(from,to,lineSep){var lines=getBetween(this,clipPos(this,from),clipPos(this,to));return lineSep===!1?lines:lines.join(lineSep||"\n")},getLine:function(line){var l=this.getLineHandle(line);return l&&l.text},getLineHandle:function(line){if(isLine(this,line))return getLine(this,line)},getLineNumber:function(line){return lineNo(line)},getLineHandleVisualStart:function(line){return"number"==typeof line&&(line=getLine(this,line)),visualLine(line)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(pos){return clipPos(this,pos)},getCursor:function(start){var pos,range=this.sel.primary();return pos=null==start||"head"==start?range.head:"anchor"==start?range.anchor:"end"==start||"to"==start||start===!1?range.to():range.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:docMethodOp(function(line,ch,options){setSimpleSelection(this,clipPos(this,"number"==typeof line?Pos(line,ch||0):line),null,options)}),setSelection:docMethodOp(function(anchor,head,options){setSimpleSelection(this,clipPos(this,anchor),clipPos(this,head||anchor),options)}),extendSelection:docMethodOp(function(head,other,options){extendSelection(this,clipPos(this,head),other&&clipPos(this,other),options)}),extendSelections:docMethodOp(function(heads,options){extendSelections(this,clipPosArray(this,heads,options))}),extendSelectionsBy:docMethodOp(function(f,options){extendSelections(this,map(this.sel.ranges,f),options)}),setSelections:docMethodOp(function(ranges,primary,options){if(ranges.length){for(var i=0,out=[];i<ranges.length;i++)out[i]=new Range(clipPos(this,ranges[i].anchor),clipPos(this,ranges[i].head));null==primary&&(primary=Math.min(ranges.length-1,this.sel.primIndex)),setSelection(this,normalizeSelection(out,primary),options)}}),addSelection:docMethodOp(function(anchor,head,options){var ranges=this.sel.ranges.slice(0);ranges.push(new Range(clipPos(this,anchor),clipPos(this,head||anchor))),setSelection(this,normalizeSelection(ranges,ranges.length-1),options)}),getSelection:function(lineSep){for(var lines,ranges=this.sel.ranges,i=0;i<ranges.length;i++){var sel=getBetween(this,ranges[i].from(),ranges[i].to());lines=lines?lines.concat(sel):sel}return lineSep===!1?lines:lines.join(lineSep||"\n")},getSelections:function(lineSep){for(var parts=[],ranges=this.sel.ranges,i=0;i<ranges.length;i++){var sel=getBetween(this,ranges[i].from(),ranges[i].to());lineSep!==!1&&(sel=sel.join(lineSep||"\n")),parts[i]=sel}return parts},replaceSelection:function(code,collapse,origin){for(var dup=[],i=0;i<this.sel.ranges.length;i++)dup[i]=code;this.replaceSelections(dup,collapse,origin||"+input")},replaceSelections:docMethodOp(function(code,collapse,origin){for(var changes=[],sel=this.sel,i=0;i<sel.ranges.length;i++){var range=sel.ranges[i];changes[i]={from:range.from(),to:range.to(),text:splitLines(code[i]),origin:origin}}for(var newSel=collapse&&"end"!=collapse&&computeReplacedSel(this,changes,collapse),i=changes.length-1;i>=0;i--)makeChange(this,changes[i]);newSel?setSelectionReplaceHistory(this,newSel):this.cm&&ensureCursorVisible(this.cm)}),undo:docMethodOp(function(){makeChangeFromHistory(this,"undo")}),redo:docMethodOp(function(){makeChangeFromHistory(this,"redo")}),undoSelection:docMethodOp(function(){makeChangeFromHistory(this,"undo",!0)}),redoSelection:docMethodOp(function(){makeChangeFromHistory(this,"redo",!0)}),setExtending:function(val){this.extend=val},getExtending:function(){return this.extend},historySize:function(){for(var hist=this.history,done=0,undone=0,i=0;i<hist.done.length;i++)hist.done[i].ranges||++done;for(var i=0;i<hist.undone.length;i++)hist.undone[i].ranges||++undone;return{undo:done,redo:undone}},clearHistory:function(){this.history=new History(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(forceSplit){return forceSplit&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(gen){return this.history.generation==(gen||this.cleanGeneration)},getHistory:function(){return{done:copyHistoryArray(this.history.done),undone:copyHistoryArray(this.history.undone)}},setHistory:function(histData){var hist=this.history=new History(this.history.maxGeneration);hist.done=copyHistoryArray(histData.done.slice(0),null,!0),hist.undone=copyHistoryArray(histData.undone.slice(0),null,!0)},addLineClass:docMethodOp(function(handle,where,cls){return changeLine(this,handle,"gutter"==where?"gutter":"class",function(line){var prop="text"==where?"textClass":"background"==where?"bgClass":"gutter"==where?"gutterClass":"wrapClass";if(line[prop]){if(classTest(cls).test(line[prop]))return!1;line[prop]+=" "+cls}else line[prop]=cls;return!0})}),removeLineClass:docMethodOp(function(handle,where,cls){return changeLine(this,handle,"gutter"==where?"gutter":"class",function(line){var prop="text"==where?"textClass":"background"==where?"bgClass":"gutter"==where?"gutterClass":"wrapClass",cur=line[prop];if(!cur)return!1;if(null==cls)line[prop]=null;else{var found=cur.match(classTest(cls));if(!found)return!1;var end=found.index+found[0].length;line[prop]=cur.slice(0,found.index)+(found.index&&end!=cur.length?" ":"")+cur.slice(end)||null}return!0})}),markText:function(from,to,options){return markText(this,clipPos(this,from),clipPos(this,to),options,"range")},setBookmark:function(pos,options){var realOpts={replacedWith:options&&(null==options.nodeType?options.widget:options),insertLeft:options&&options.insertLeft,clearWhenEmpty:!1,shared:options&&options.shared};return pos=clipPos(this,pos),markText(this,pos,pos,realOpts,"bookmark")},findMarksAt:function(pos){pos=clipPos(this,pos);var markers=[],spans=getLine(this,pos.line).markedSpans;if(spans)for(var i=0;i<spans.length;++i){var span=spans[i];(null==span.from||span.from<=pos.ch)&&(null==span.to||span.to>=pos.ch)&&markers.push(span.marker.parent||span.marker)}return markers},findMarks:function(from,to,filter){from=clipPos(this,from),to=clipPos(this,to);var found=[],lineNo=from.line;return this.iter(from.line,to.line+1,function(line){var spans=line.markedSpans;if(spans)for(var i=0;i<spans.length;i++){var span=spans[i];lineNo==from.line&&from.ch>span.to||null==span.from&&lineNo!=from.line||lineNo==to.line&&span.from>to.ch||filter&&!filter(span.marker)||found.push(span.marker.parent||span.marker)}++lineNo}),found},getAllMarks:function(){var markers=[];return this.iter(function(line){var sps=line.markedSpans;if(sps)for(var i=0;i<sps.length;++i)null!=sps[i].from&&markers.push(sps[i].marker)}),markers},posFromIndex:function(off){var ch,lineNo=this.first;return this.iter(function(line){var sz=line.text.length+1;return sz>off?(ch=off,!0):(off-=sz,void++lineNo)}),clipPos(this,Pos(lineNo,ch))},indexFromPos:function(coords){coords=clipPos(this,coords);var index=coords.ch;return coords.line<this.first||coords.ch<0?0:(this.iter(this.first,coords.line,function(line){index+=line.text.length+1}),index)},copy:function(copyHistory){var doc=new Doc(getLines(this,this.first,this.first+this.size),this.modeOption,this.first);return doc.scrollTop=this.scrollTop,doc.scrollLeft=this.scrollLeft,doc.sel=this.sel,doc.extend=!1,copyHistory&&(doc.history.undoDepth=this.history.undoDepth,doc.setHistory(this.getHistory())),doc},linkedDoc:function(options){options||(options={});var from=this.first,to=this.first+this.size;null!=options.from&&options.from>from&&(from=options.from),null!=options.to&&options.to<to&&(to=options.to);var copy=new Doc(getLines(this,from,to),options.mode||this.modeOption,from);return options.sharedHist&&(copy.history=this.history),(this.linked||(this.linked=[])).push({doc:copy,sharedHist:options.sharedHist}),copy.linked=[{doc:this,isParent:!0,sharedHist:options.sharedHist}],copySharedMarkers(copy,findSharedMarkers(this)),copy},unlinkDoc:function(other){if(other instanceof CodeMirror&&(other=other.doc),this.linked)for(var i=0;i<this.linked.length;++i){var link=this.linked[i];if(link.doc==other){this.linked.splice(i,1),other.unlinkDoc(this),detachSharedMarkers(findSharedMarkers(this));break}}if(other.history==this.history){var splitIds=[other.id];linkedDocs(other,function(doc){splitIds.push(doc.id)},!0),other.history=new History(null),other.history.done=copyHistoryArray(this.history.done,splitIds),other.history.undone=copyHistoryArray(this.history.undone,splitIds)}},iterLinkedDocs:function(f){linkedDocs(this,f)},getMode:function(){return this.mode},getEditor:function(){return this.cm}}),Doc.prototype.eachLine=Doc.prototype.iter;var dontDelegate="iter insert remove copy getEditor".split(" ");for(var prop in Doc.prototype)Doc.prototype.hasOwnProperty(prop)&&indexOf(dontDelegate,prop)<0&&(CodeMirror.prototype[prop]=function(method){return function(){return method.apply(this.doc,arguments)}}(Doc.prototype[prop]));eventMixin(Doc);var e_preventDefault=CodeMirror.e_preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},e_stopPropagation=CodeMirror.e_stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},e_stop=CodeMirror.e_stop=function(e){e_preventDefault(e),e_stopPropagation(e)},on=CodeMirror.on=function(emitter,type,f){if(emitter.addEventListener)emitter.addEventListener(type,f,!1);else if(emitter.attachEvent)emitter.attachEvent("on"+type,f);else{var map=emitter._handlers||(emitter._handlers={}),arr=map[type]||(map[type]=[]);arr.push(f)}},off=CodeMirror.off=function(emitter,type,f){if(emitter.removeEventListener)emitter.removeEventListener(type,f,!1);else if(emitter.detachEvent)emitter.detachEvent("on"+type,f);else{var arr=emitter._handlers&&emitter._handlers[type];if(!arr)return;for(var i=0;i<arr.length;++i)if(arr[i]==f){arr.splice(i,1);break}}},signal=CodeMirror.signal=function(emitter,type){var arr=emitter._handlers&&emitter._handlers[type];if(arr)for(var args=Array.prototype.slice.call(arguments,2),i=0;i<arr.length;++i)arr[i].apply(null,args)},orphanDelayedCallbacks=null,scrollerGap=30,Pass=CodeMirror.Pass={toString:function(){return"CodeMirror.Pass"}},sel_dontScroll={scroll:!1},sel_mouse={origin:"*mouse"},sel_move={origin:"+move"};Delayed.prototype.set=function(ms,f){clearTimeout(this.id),this.id=setTimeout(f,ms)};var countColumn=CodeMirror.countColumn=function(string,end,tabSize,startIndex,startValue){null==end&&(end=string.search(/[^\s\u00a0]/),end==-1&&(end=string.length));for(var i=startIndex||0,n=startValue||0;;){var nextTab=string.indexOf("\t",i);if(nextTab<0||nextTab>=end)return n+(end-i);n+=nextTab-i,n+=tabSize-n%tabSize,i=nextTab+1}},spaceStrs=[""],selectInput=function(node){node.select()};ios?selectInput=function(node){node.selectionStart=0,node.selectionEnd=node.value.length}:ie&&(selectInput=function(node){try{node.select()}catch(_e){}});var range,nonASCIISingleCaseWordChar=/[\u00df\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,isWordCharBasic=CodeMirror.isWordChar=function(ch){return/\w/.test(ch)||ch>""&&(ch.toUpperCase()!=ch.toLowerCase()||nonASCIISingleCaseWordChar.test(ch))},extendingChars=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;range=document.createRange?function(node,start,end,endNode){var r=document.createRange();return r.setEnd(endNode||node,end),r.setStart(node,start),r}:function(node,start,end){var r=document.body.createTextRange();try{r.moveToElementText(node.parentNode)}catch(e){return r}return r.collapse(!0),r.moveEnd("character",end),r.moveStart("character",start),r};var contains=CodeMirror.contains=function(parent,child){if(3==child.nodeType&&(child=child.parentNode),parent.contains)return parent.contains(child);do if(11==child.nodeType&&(child=child.host),child==parent)return!0;while(child=child.parentNode)};ie&&ie_version<11&&(activeElt=function(){try{return document.activeElement}catch(e){return document.body}});var zwspSupported,badBidiRects,rmClass=CodeMirror.rmClass=function(node,cls){var current=node.className,match=classTest(cls).exec(current);if(match){var after=current.slice(match.index+match[0].length);node.className=current.slice(0,match.index)+(after?match[1]+after:"")}},addClass=CodeMirror.addClass=function(node,cls){var current=node.className;classTest(cls).test(current)||(node.className+=(current?" ":"")+cls)},globalsRegistered=!1,dragAndDrop=function(){if(ie&&ie_version<9)return!1;var div=elt("div");return"draggable"in div||"dragDrop"in div}(),splitLines=CodeMirror.splitLines=3!="\n\nb".split(/\n/).length?function(string){for(var pos=0,result=[],l=string.length;pos<=l;){var nl=string.indexOf("\n",pos);nl==-1&&(nl=string.length);var line=string.slice(pos,"\r"==string.charAt(nl-1)?nl-1:nl),rt=line.indexOf("\r");rt!=-1?(result.push(line.slice(0,rt)),pos+=rt+1):(result.push(line),pos=nl+1)}return result}:function(string){return string.split(/\r\n?|\n/)},hasSelection=window.getSelection?function(te){try{return te.selectionStart!=te.selectionEnd}catch(e){return!1}}:function(te){try{var range=te.ownerDocument.selection.createRange()}catch(e){}return!(!range||range.parentElement()!=te)&&0!=range.compareEndPoints("StartToEnd",range)},hasCopyEvent=function(){var e=elt("div");return"oncopy"in e||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),badZoomedRects=null,keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",107:"=",109:"-",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};CodeMirror.keyNames=keyNames,function(){for(var i=0;i<10;i++)keyNames[i+48]=keyNames[i+96]=String(i);for(var i=65;i<=90;i++)keyNames[i]=String.fromCharCode(i);for(var i=1;i<=12;i++)keyNames[i+111]=keyNames[i+63235]="F"+i}();var bidiOther,bidiOrdering=function(){function charType(code){return code<=247?lowTypes.charAt(code):1424<=code&&code<=1524?"R":1536<=code&&code<=1773?arabicTypes.charAt(code-1536):1774<=code&&code<=2220?"r":8192<=code&&code<=8203?"w":8204==code?"b":"L"}function BidiSpan(level,from,to){this.level=level,this.from=from,this.to=to}var lowTypes="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",arabicTypes="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",bidiRE=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,isNeutral=/[stwN]/,isStrong=/[LRr]/,countsAsLeft=/[Lb1n]/,countsAsNum=/[1n]/,outerType="L";return function(str){if(!bidiRE.test(str))return!1;for(var type,len=str.length,types=[],i=0;i<len;++i)types.push(type=charType(str.charCodeAt(i)));for(var i=0,prev=outerType;i<len;++i){var type=types[i];"m"==type?types[i]=prev:prev=type}for(var i=0,cur=outerType;i<len;++i){var type=types[i];"1"==type&&"r"==cur?types[i]="n":isStrong.test(type)&&(cur=type,"r"==type&&(types[i]="R"))}for(var i=1,prev=types[0];i<len-1;++i){var type=types[i];"+"==type&&"1"==prev&&"1"==types[i+1]?types[i]="1":","!=type||prev!=types[i+1]||"1"!=prev&&"n"!=prev||(types[i]=prev),prev=type}for(var i=0;i<len;++i){var type=types[i];if(","==type)types[i]="N";else if("%"==type){for(var end=i+1;end<len&&"%"==types[end];++end);for(var replace=i&&"!"==types[i-1]||end<len&&"1"==types[end]?"1":"N",j=i;j<end;++j)types[j]=replace;i=end-1}}for(var i=0,cur=outerType;i<len;++i){var type=types[i];"L"==cur&&"1"==type?types[i]="L":isStrong.test(type)&&(cur=type)}for(var i=0;i<len;++i)if(isNeutral.test(types[i])){for(var end=i+1;end<len&&isNeutral.test(types[end]);++end);for(var before="L"==(i?types[i-1]:outerType),after="L"==(end<len?types[end]:outerType),replace=before||after?"L":"R",j=i;j<end;++j)types[j]=replace;i=end-1}for(var m,order=[],i=0;i<len;)if(countsAsLeft.test(types[i])){var start=i;for(++i;i<len&&countsAsLeft.test(types[i]);++i);order.push(new BidiSpan(0,start,i))}else{var pos=i,at=order.length;for(++i;i<len&&"L"!=types[i];++i);for(var j=pos;j<i;)if(countsAsNum.test(types[j])){pos<j&&order.splice(at,0,new BidiSpan(1,pos,j));var nstart=j;for(++j;j<i&&countsAsNum.test(types[j]);++j);order.splice(at,0,new BidiSpan(2,nstart,j)),pos=j}else++j;pos<i&&order.splice(at,0,new BidiSpan(1,pos,i))}return 1==order[0].level&&(m=str.match(/^\s+/))&&(order[0].from=m[0].length,order.unshift(new BidiSpan(0,0,m[0].length))),1==lst(order).level&&(m=str.match(/\s+$/))&&(lst(order).to-=m[0].length,order.push(new BidiSpan(0,len-m[0].length,len))),order[0].level!=lst(order).level&&order.push(new BidiSpan(order[0].level,len,len)),order}}();return CodeMirror.version="5.0.0",CodeMirror}),angular.module("ui.codemirror",[]).constant("uiCodemirrorConfig",{}).directive("uiCodemirror",uiCodemirrorDirective),uiCodemirrorDirective.$inject=["$timeout","uiCodemirrorConfig"],function(){"use strict";var KEY={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,COMMAND:91,MAP:{91:"COMMAND",8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSEBREAK",20:"CAPSLOCK",27:"ESC",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",43:"+",44:"PRINTSCREEN",45:"INSERT",46:"DELETE",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NUMLOCK",145:"SCROLLLOCK",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},isControl:function(e){var k=e.which;switch(k){case KEY.COMMAND:case KEY.SHIFT:case KEY.CTRL:case KEY.ALT:return!0}return!!(e.metaKey||e.ctrlKey||e.altKey)},isFunctionKey:function(k){return k=k.which?k.which:k,k>=112&&k<=123},isVerticalMovement:function(k){return~[KEY.UP,KEY.DOWN].indexOf(k)},isHorizontalMovement:function(k){return~[KEY.LEFT,KEY.RIGHT,KEY.BACKSPACE,KEY.DELETE].indexOf(k)},toSeparator:function(k){var sep={ENTER:"\n",TAB:"\t",SPACE:" "}[k];return sep?sep:KEY[k]?void 0:k}};void 0===angular.element.prototype.querySelectorAll&&(angular.element.prototype.querySelectorAll=function(selector){return angular.element(this[0].querySelectorAll(selector))}),void 0===angular.element.prototype.closest&&(angular.element.prototype.closest=function(selector){for(var elem=this[0],matchesSelector=elem.matches||elem.webkitMatchesSelector||elem.mozMatchesSelector||elem.msMatchesSelector;elem;){if(matchesSelector.bind(elem)(selector))return elem;elem=elem.parentElement}return!1});var latestId=0,uis=angular.module("ui.select",[]).constant("uiSelectConfig",{theme:"bootstrap",searchEnabled:!0,sortable:!1,placeholder:"",refreshDelay:1e3,closeOnSelect:!0,skipFocusser:!1,dropdownPosition:"auto",removeSelected:!0,generateId:function(){return latestId++},appendToBody:!1}).service("uiSelectMinErr",function(){var minErr=angular.$$minErr("ui.select");return function(){var error=minErr.apply(this,arguments),message=error.message.replace(new RegExp("\nhttp://errors.angularjs.org/.*"),"");return new Error(message)}}).directive("uisTranscludeAppend",function(){return{link:function(scope,element,attrs,ctrl,transclude){transclude(scope,function(clone){element.append(clone)})}}}).filter("highlight",function(){function escapeRegexp(queryToEscape){return(""+queryToEscape).replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(matchItem,query){return query&&matchItem?(""+matchItem).replace(new RegExp(escapeRegexp(query),"gi"),'<span class="ui-select-highlight">$&</span>'):matchItem}}).factory("uisOffset",["$document","$window",function($document,$window){return function(element){var boundingClientRect=element[0].getBoundingClientRect();return{width:boundingClientRect.width||element.prop("offsetWidth"),height:boundingClientRect.height||element.prop("offsetHeight"),top:boundingClientRect.top+($window.pageYOffset||$document[0].documentElement.scrollTop),left:boundingClientRect.left+($window.pageXOffset||$document[0].documentElement.scrollLeft)}}}]);uis.directive("uiSelectChoices",["uiSelectConfig","uisRepeatParser","uiSelectMinErr","$compile","$window",function(uiSelectConfig,RepeatParser,uiSelectMinErr,$compile,$window){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(tElement){tElement.addClass("ui-select-choices");var theme=tElement.parent().attr("theme")||uiSelectConfig.theme;return theme+"/choices.tpl.html"},compile:function(tElement,tAttrs){if(!tAttrs.repeat)throw uiSelectMinErr("repeat","Expected 'repeat' expression.");var groupByExp=tAttrs.groupBy,groupFilterExp=tAttrs.groupFilter;if(groupByExp){var groups=tElement.querySelectorAll(".ui-select-choices-group");if(1!==groups.length)throw uiSelectMinErr("rows","Expected 1 .ui-select-choices-group but got '{0}'.",groups.length);groups.attr("ng-repeat",RepeatParser.getGroupNgRepeatExpression())}var parserResult=RepeatParser.parse(tAttrs.repeat),choices=tElement.querySelectorAll(".ui-select-choices-row");if(1!==choices.length)throw uiSelectMinErr("rows","Expected 1 .ui-select-choices-row but got '{0}'.",choices.length);choices.attr("ng-repeat",parserResult.repeatExpression(groupByExp)).attr("ng-if","$select.open");var rowsInner=tElement.querySelectorAll(".ui-select-choices-row-inner");if(1!==rowsInner.length)throw uiSelectMinErr("rows","Expected 1 .ui-select-choices-row-inner but got '{0}'.",rowsInner.length);rowsInner.attr("uis-transclude-append","");var clickTarget=$window.document.addEventListener?choices:rowsInner;return clickTarget.attr("ng-click","$select.select("+parserResult.itemName+",$select.skipFocusser,$event)"),function(scope,element,attrs,$select){$select.parseRepeatAttr(attrs.repeat,groupByExp,groupFilterExp),$select.disableChoiceExpression=attrs.uiDisableChoice,$select.onHighlightCallback=attrs.onHighlight,$select.dropdownPosition=attrs.position?attrs.position.toLowerCase():uiSelectConfig.dropdownPosition,scope.$on("$destroy",function(){choices.remove()}),scope.$watch("$select.search",function(newValue){newValue&&!$select.open&&$select.multiple&&$select.activate(!1,!0),$select.activeIndex=$select.tagging.isActivated?-1:0,!attrs.minimumInputLength||$select.search.length>=attrs.minimumInputLength?$select.refresh(attrs.refresh):$select.items=[]}),attrs.$observe("refreshDelay",function(){var refreshDelay=scope.$eval(attrs.refreshDelay);$select.refreshDelay=void 0!==refreshDelay?refreshDelay:uiSelectConfig.refreshDelay})}}}}]),uis.controller("uiSelectCtrl",["$scope","$element","$timeout","$filter","$$uisDebounce","uisRepeatParser","uiSelectMinErr","uiSelectConfig","$parse","$injector","$window",function($scope,$element,$timeout,$filter,$$uisDebounce,RepeatParser,uiSelectMinErr,uiSelectConfig,$parse,$injector,$window){function _findIndex(collection,predicate,thisArg){if(collection.findIndex)return collection.findIndex(predicate,thisArg);for(var value,list=Object(collection),length=list.length>>>0,i=0;i<length;i++)if(value=list[i],predicate.call(thisArg,value,i,list))return i;return-1}function _resetSearchInput(){(ctrl.resetSearchInput||void 0===ctrl.resetSearchInput&&uiSelectConfig.resetSearchInput)&&(ctrl.search=EMPTY_SEARCH,ctrl.selected&&ctrl.items.length&&!ctrl.multiple&&(ctrl.activeIndex=_findIndex(ctrl.items,function(item){return angular.equals(this,item)},ctrl.selected)))}function _groupsFilter(groups,groupNames){
var i,j,result=[];for(i=0;i<groupNames.length;i++)for(j=0;j<groups.length;j++)groups[j].name==[groupNames[i]]&&result.push(groups[j]);return result}function _updateItemDisabled(item,isDisabled){var disabledItemIndex=disabledItems.indexOf(item);isDisabled&&disabledItemIndex===-1&&disabledItems.push(item),!isDisabled&&disabledItemIndex>-1&&disabledItems.splice(disabledItemIndex,0)}function _isItemDisabled(item){return disabledItems.indexOf(item)>-1}function _initaliseLockedChoices(doInitalise){function _updateItemLocked(item,isLocked){var lockedItemIndex=lockedItems.indexOf(item);isLocked&&lockedItemIndex===-1&&lockedItems.push(item),!isLocked&&lockedItemIndex>-1&&lockedItems.splice(lockedItemIndex,0)}function _isItemlocked(item){return lockedItems.indexOf(item)>-1}if(doInitalise){var lockedItems=[];ctrl.isLocked=function(itemScope,itemIndex){var isLocked=!1,item=ctrl.selected[itemIndex];return item&&(itemScope?(isLocked=!!itemScope.$eval(ctrl.lockChoiceExpression),_updateItemLocked(item,isLocked)):isLocked=_isItemlocked(item)),isLocked}}}function _handleDropDownSelection(key){var processed=!0;switch(key){case KEY.DOWN:!ctrl.open&&ctrl.multiple?ctrl.activate(!1,!0):ctrl.activeIndex<ctrl.items.length-1&&ctrl.activeIndex++;break;case KEY.UP:!ctrl.open&&ctrl.multiple?ctrl.activate(!1,!0):(ctrl.activeIndex>0||0===ctrl.search.length&&ctrl.tagging.isActivated&&ctrl.activeIndex>-1)&&ctrl.activeIndex--;break;case KEY.TAB:ctrl.multiple&&!ctrl.open||ctrl.select(ctrl.items[ctrl.activeIndex],!0);break;case KEY.ENTER:ctrl.open&&(ctrl.tagging.isActivated||ctrl.activeIndex>=0)?ctrl.select(ctrl.items[ctrl.activeIndex],ctrl.skipFocusser):ctrl.activate(!1,!0);break;case KEY.ESC:ctrl.close();break;default:processed=!1}return processed}function _ensureHighlightVisible(){var container=$element.querySelectorAll(".ui-select-choices-content"),choices=container.querySelectorAll(".ui-select-choices-row");if(choices.length<1)throw uiSelectMinErr("choices","Expected multiple .ui-select-choices-row but got '{0}'.",choices.length);if(!(ctrl.activeIndex<0)){var highlighted=choices[ctrl.activeIndex],posY=highlighted.offsetTop+highlighted.clientHeight-container[0].scrollTop,height=container[0].offsetHeight;posY>height?container[0].scrollTop+=posY-height:posY<highlighted.clientHeight&&(ctrl.isGrouped&&0===ctrl.activeIndex?container[0].scrollTop=0:container[0].scrollTop-=highlighted.clientHeight-posY)}}var ctrl=this,EMPTY_SEARCH="";if(ctrl.placeholder=uiSelectConfig.placeholder,ctrl.searchEnabled=uiSelectConfig.searchEnabled,ctrl.sortable=uiSelectConfig.sortable,ctrl.refreshDelay=uiSelectConfig.refreshDelay,ctrl.paste=uiSelectConfig.paste,ctrl.removeSelected=uiSelectConfig.removeSelected,ctrl.closeOnSelect=!0,ctrl.skipFocusser=!1,ctrl.search=EMPTY_SEARCH,ctrl.activeIndex=0,ctrl.items=[],ctrl.open=!1,ctrl.focus=!1,ctrl.disabled=!1,ctrl.selected=void 0,ctrl.dropdownPosition="auto",ctrl.focusser=void 0,ctrl.resetSearchInput=!0,ctrl.multiple=void 0,ctrl.disableChoiceExpression=void 0,ctrl.tagging={isActivated:!1,fct:void 0},ctrl.taggingTokens={isActivated:!1,tokens:void 0},ctrl.lockChoiceExpression=void 0,ctrl.clickTriggeredSelect=!1,ctrl.$filter=$filter,ctrl.$element=$element,ctrl.$animate=function(){try{return $injector.get("$animate")}catch(err){return null}}(),ctrl.searchInput=$element.querySelectorAll("input.ui-select-search"),1!==ctrl.searchInput.length)throw uiSelectMinErr("searchInput","Expected 1 input.ui-select-search but got '{0}'.",ctrl.searchInput.length);ctrl.isEmpty=function(){return angular.isUndefined(ctrl.selected)||null===ctrl.selected||""===ctrl.selected||ctrl.multiple&&0===ctrl.selected.length},ctrl.activate=function(initSearchValue,avoidReset){if(!ctrl.disabled&&!ctrl.open){avoidReset||_resetSearchInput(),$scope.$broadcast("uis:activate"),ctrl.open=!0,ctrl.activeIndex=ctrl.activeIndex>=ctrl.items.length?0:ctrl.activeIndex,ctrl.activeIndex===-1&&ctrl.taggingLabel!==!1&&(ctrl.activeIndex=0);var container=$element.querySelectorAll(".ui-select-choices-content"),searchInput=$element.querySelectorAll(".ui-select-search");if(ctrl.$animate&&ctrl.$animate.on&&ctrl.$animate.enabled(container[0])){var animateHandler=function(elem,phase){"start"===phase&&0===ctrl.items.length?(ctrl.$animate.off("removeClass",searchInput[0],animateHandler),$timeout(function(){ctrl.focusSearchInput(initSearchValue)})):"close"===phase&&(ctrl.$animate.off("enter",container[0],animateHandler),$timeout(function(){ctrl.focusSearchInput(initSearchValue)}))};ctrl.items.length>0?ctrl.$animate.on("enter",container[0],animateHandler):ctrl.$animate.on("removeClass",searchInput[0],animateHandler)}else $timeout(function(){ctrl.focusSearchInput(initSearchValue),!ctrl.tagging.isActivated&&ctrl.items.length>1&&_ensureHighlightVisible()})}},ctrl.focusSearchInput=function(initSearchValue){ctrl.search=initSearchValue||ctrl.search,ctrl.searchInput[0].focus()},ctrl.findGroupByName=function(name){return ctrl.groups&&ctrl.groups.filter(function(group){return group.name===name})[0]},ctrl.parseRepeatAttr=function(repeatAttr,groupByExp,groupFilterExp){function updateGroups(items){var groupFn=$scope.$eval(groupByExp);if(ctrl.groups=[],angular.forEach(items,function(item){var groupName=angular.isFunction(groupFn)?groupFn(item):item[groupFn],group=ctrl.findGroupByName(groupName);group?group.items.push(item):ctrl.groups.push({name:groupName,items:[item]})}),groupFilterExp){var groupFilterFn=$scope.$eval(groupFilterExp);angular.isFunction(groupFilterFn)?ctrl.groups=groupFilterFn(ctrl.groups):angular.isArray(groupFilterFn)&&(ctrl.groups=_groupsFilter(ctrl.groups,groupFilterFn))}ctrl.items=[],ctrl.groups.forEach(function(group){ctrl.items=ctrl.items.concat(group.items)})}function setPlainItems(items){ctrl.items=items}ctrl.setItemsFn=groupByExp?updateGroups:setPlainItems,ctrl.parserResult=RepeatParser.parse(repeatAttr),ctrl.isGrouped=!!groupByExp,ctrl.itemProperty=ctrl.parserResult.itemName;var originalSource=ctrl.parserResult.source,createArrayFromObject=function(){var origSrc=originalSource($scope);$scope.$uisSource=Object.keys(origSrc).map(function(v){var result={};return result[ctrl.parserResult.keyName]=v,result.value=origSrc[v],result})};ctrl.parserResult.keyName&&(createArrayFromObject(),ctrl.parserResult.source=$parse("$uisSource"+ctrl.parserResult.filters),$scope.$watch(originalSource,function(newVal,oldVal){newVal!==oldVal&&createArrayFromObject()},!0)),ctrl.refreshItems=function(data){data=data||ctrl.parserResult.source($scope);var selectedItems=ctrl.selected;if(ctrl.isEmpty()||angular.isArray(selectedItems)&&!selectedItems.length||!ctrl.multiple||!ctrl.removeSelected)ctrl.setItemsFn(data);else if(void 0!==data&&null!==data){var filteredItems=data.filter(function(i){return angular.isArray(selectedItems)?selectedItems.every(function(selectedItem){return!angular.equals(i,selectedItem)}):!angular.equals(i,selectedItems)});ctrl.setItemsFn(filteredItems)}"auto"!==ctrl.dropdownPosition&&"up"!==ctrl.dropdownPosition||$scope.calculateDropdownPos(),$scope.$broadcast("uis:refresh")},$scope.$watchCollection(ctrl.parserResult.source,function(items){if(void 0===items||null===items)ctrl.items=[];else{if(!angular.isArray(items))throw uiSelectMinErr("items","Expected an array but got '{0}'.",items);ctrl.refreshItems(items),angular.isDefined(ctrl.ngModel.$modelValue)&&(ctrl.ngModel.$modelValue=null)}})};var _refreshDelayPromise;ctrl.refresh=function(refreshAttr){void 0!==refreshAttr&&(_refreshDelayPromise&&$timeout.cancel(_refreshDelayPromise),_refreshDelayPromise=$timeout(function(){$scope.$eval(refreshAttr)},ctrl.refreshDelay))},ctrl.isActive=function(itemScope){if(!ctrl.open)return!1;var itemIndex=ctrl.items.indexOf(itemScope[ctrl.itemProperty]),isActive=itemIndex==ctrl.activeIndex;return!(!isActive||itemIndex<0)&&(isActive&&!angular.isUndefined(ctrl.onHighlightCallback)&&itemScope.$eval(ctrl.onHighlightCallback),isActive)};var _isItemSelected=function(item){return ctrl.selected&&angular.isArray(ctrl.selected)&&ctrl.selected.filter(function(selection){return angular.equals(selection,item)}).length>0},disabledItems=[];ctrl.isDisabled=function(itemScope){if(ctrl.open){var item=itemScope[ctrl.itemProperty],itemIndex=ctrl.items.indexOf(item),isDisabled=!1;if(itemIndex>=0&&(angular.isDefined(ctrl.disableChoiceExpression)||ctrl.multiple)){if(item.isTag)return!1;ctrl.multiple&&(isDisabled=_isItemSelected(item)),!isDisabled&&angular.isDefined(ctrl.disableChoiceExpression)&&(isDisabled=!!itemScope.$eval(ctrl.disableChoiceExpression)),_updateItemDisabled(item,isDisabled)}return isDisabled}},ctrl.select=function(item,skipFocusser,$event){if(void 0===item||!_isItemDisabled(item)){if(!ctrl.items&&!ctrl.search&&!ctrl.tagging.isActivated)return;if(!item||!_isItemDisabled(item)){if(ctrl.tagging.isActivated){if(ctrl.taggingLabel===!1)if(ctrl.activeIndex<0){if(void 0===item&&(item=void 0!==ctrl.tagging.fct?ctrl.tagging.fct(ctrl.search):ctrl.search),!item||angular.equals(ctrl.items[0],item))return}else item=ctrl.items[ctrl.activeIndex];else if(0===ctrl.activeIndex){if(void 0===item)return;if(void 0!==ctrl.tagging.fct&&"string"==typeof item){if(item=ctrl.tagging.fct(item),!item)return}else"string"==typeof item&&(item=item.replace(ctrl.taggingLabel,"").trim())}if(_isItemSelected(item))return void ctrl.close(skipFocusser)}$scope.$broadcast("uis:select",item);var locals={};locals[ctrl.parserResult.itemName]=item,$timeout(function(){ctrl.onSelectCallback($scope,{$item:item,$model:ctrl.parserResult.modelMapper($scope,locals)})}),ctrl.closeOnSelect&&ctrl.close(skipFocusser),$event&&"click"===$event.type&&(ctrl.clickTriggeredSelect=!0)}}},ctrl.close=function(skipFocusser){ctrl.open&&(ctrl.ngModel&&ctrl.ngModel.$setTouched&&ctrl.ngModel.$setTouched(),_resetSearchInput(),ctrl.open=!1,$scope.$broadcast("uis:close",skipFocusser))},ctrl.setFocus=function(){ctrl.focus||ctrl.focusInput[0].focus()},ctrl.clear=function($event){ctrl.select(void 0),$event.stopPropagation(),$timeout(function(){ctrl.focusser[0].focus()},0,!1)},ctrl.toggle=function(e){ctrl.open?(ctrl.close(),e.preventDefault(),e.stopPropagation()):ctrl.activate()},ctrl.isLocked=function(){return!1},$scope.$watch(function(){return angular.isDefined(ctrl.lockChoiceExpression)&&""!==ctrl.lockChoiceExpression},_initaliseLockedChoices);var sizeWatch=null,updaterScheduled=!1;ctrl.sizeSearchInput=function(){var input=ctrl.searchInput[0],container=ctrl.searchInput.parent().parent()[0],calculateContainerWidth=function(){return container.clientWidth*!!input.offsetParent},updateIfVisible=function(containerWidth){if(0===containerWidth)return!1;var inputWidth=containerWidth-input.offsetLeft-10;return inputWidth<50&&(inputWidth=containerWidth),ctrl.searchInput.css("width",inputWidth+"px"),!0};ctrl.searchInput.css("width","10px"),$timeout(function(){null!==sizeWatch||updateIfVisible(calculateContainerWidth())||(sizeWatch=$scope.$watch(function(){updaterScheduled||(updaterScheduled=!0,$scope.$$postDigest(function(){updaterScheduled=!1,updateIfVisible(calculateContainerWidth())&&(sizeWatch(),sizeWatch=null)}))},angular.noop))})},ctrl.searchInput.on("keydown",function(e){var key=e.which;~[KEY.ENTER,KEY.ESC].indexOf(key)&&(e.preventDefault(),e.stopPropagation()),$scope.$apply(function(){var tagged=!1;if((ctrl.items.length>0||ctrl.tagging.isActivated)&&(_handleDropDownSelection(key),ctrl.taggingTokens.isActivated)){for(var i=0;i<ctrl.taggingTokens.tokens.length;i++)ctrl.taggingTokens.tokens[i]===KEY.MAP[e.keyCode]&&ctrl.search.length>0&&(tagged=!0);tagged&&$timeout(function(){ctrl.searchInput.triggerHandler("tagged");var newItem=ctrl.search.replace(KEY.MAP[e.keyCode],"").trim();ctrl.tagging.fct&&(newItem=ctrl.tagging.fct(newItem)),newItem&&ctrl.select(newItem,!0)})}}),KEY.isVerticalMovement(key)&&ctrl.items.length>0&&_ensureHighlightVisible(),key!==KEY.ENTER&&key!==KEY.ESC||(e.preventDefault(),e.stopPropagation())}),ctrl.searchInput.on("paste",function(e){var data;if(data=window.clipboardData&&window.clipboardData.getData?window.clipboardData.getData("Text"):(e.originalEvent||e).clipboardData.getData("text/plain"),data=ctrl.search+data,data&&data.length>0)if(ctrl.taggingTokens.isActivated){for(var items=[],i=0;i<ctrl.taggingTokens.tokens.length;i++){var separator=KEY.toSeparator(ctrl.taggingTokens.tokens[i])||ctrl.taggingTokens.tokens[i];if(data.indexOf(separator)>-1){items=data.split(separator);break}}0===items.length&&(items=[data]);var oldsearch=ctrl.search;angular.forEach(items,function(item){var newItem=ctrl.tagging.fct?ctrl.tagging.fct(item):item;newItem&&ctrl.select(newItem,!0)}),ctrl.search=oldsearch||EMPTY_SEARCH,e.preventDefault(),e.stopPropagation()}else ctrl.paste&&(ctrl.paste(data),ctrl.search=EMPTY_SEARCH,e.preventDefault(),e.stopPropagation())}),ctrl.searchInput.on("tagged",function(){$timeout(function(){_resetSearchInput()})});var onResize=$$uisDebounce(function(){ctrl.sizeSearchInput()},50);angular.element($window).bind("resize",onResize),$scope.$on("$destroy",function(){ctrl.searchInput.off("keyup keydown tagged blur paste"),angular.element($window).off("resize",onResize)})}]),uis.directive("uiSelect",["$document","uiSelectConfig","uiSelectMinErr","uisOffset","$compile","$parse","$timeout",function($document,uiSelectConfig,uiSelectMinErr,uisOffset,$compile,$parse,$timeout){return{restrict:"EA",templateUrl:function(tElement,tAttrs){var theme=tAttrs.theme||uiSelectConfig.theme;return theme+(angular.isDefined(tAttrs.multiple)?"/select-multiple.tpl.html":"/select.tpl.html")},replace:!0,transclude:!0,require:["uiSelect","^ngModel"],scope:!0,controller:"uiSelectCtrl",controllerAs:"$select",compile:function(tElement,tAttrs){var match=/{(.*)}\s*{(.*)}/.exec(tAttrs.ngClass);if(match){var combined="{"+match[1]+", "+match[2]+"}";tAttrs.ngClass=combined,tElement.attr("ng-class",combined)}return angular.isDefined(tAttrs.multiple)?tElement.append("<ui-select-multiple/>").removeAttr("multiple"):tElement.append("<ui-select-single/>"),tAttrs.inputId&&(tElement.querySelectorAll("input.ui-select-search")[0].id=tAttrs.inputId),function(scope,element,attrs,ctrls,transcludeFn){function onDocumentClick(e){if($select.open){var contains=!1;if(contains=window.jQuery?window.jQuery.contains(element[0],e.target):element[0].contains(e.target),!contains&&!$select.clickTriggeredSelect){var skipFocusser;if($select.skipFocusser)skipFocusser=!0;else{var focusableControls=["input","button","textarea","select"],targetController=angular.element(e.target).controller("uiSelect");skipFocusser=targetController&&targetController!==$select,skipFocusser||(skipFocusser=~focusableControls.indexOf(e.target.tagName.toLowerCase()))}$select.close(skipFocusser),scope.$digest()}$select.clickTriggeredSelect=!1}}function positionDropdown(){var offset=uisOffset(element);placeholder=angular.element('<div class="ui-select-placeholder"></div>'),placeholder[0].style.width=offset.width+"px",placeholder[0].style.height=offset.height+"px",element.after(placeholder),originalWidth=element[0].style.width,$document.find("body").append(element),element[0].style.position="absolute",element[0].style.left=offset.left+"px",element[0].style.top=offset.top+"px",element[0].style.width=offset.width+"px"}function resetDropdown(){null!==placeholder&&(placeholder.replaceWith(element),placeholder=null,element[0].style.position="",element[0].style.left="",element[0].style.top="",element[0].style.width=originalWidth,$select.setFocus())}var $select=ctrls[0],ngModel=ctrls[1];$select.generatedId=uiSelectConfig.generateId(),$select.baseTitle=attrs.title||"Select box",$select.focusserTitle=$select.baseTitle+" focus",$select.focusserId="focusser-"+$select.generatedId,$select.closeOnSelect=function(){return angular.isDefined(attrs.closeOnSelect)?$parse(attrs.closeOnSelect)():uiSelectConfig.closeOnSelect}(),scope.$watch("skipFocusser",function(){var skipFocusser=scope.$eval(attrs.skipFocusser);$select.skipFocusser=void 0!==skipFocusser?skipFocusser:uiSelectConfig.skipFocusser}),$select.onSelectCallback=$parse(attrs.onSelect),$select.onRemoveCallback=$parse(attrs.onRemove),$select.ngModel=ngModel,$select.choiceGrouped=function(group){return $select.isGrouped&&group&&group.name},attrs.tabindex&&attrs.$observe("tabindex",function(value){$select.focusInput.attr("tabindex",value),element.removeAttr("tabindex")}),scope.$watch(function(){return scope.$eval(attrs.searchEnabled)},function(newVal){$select.searchEnabled=void 0!==newVal?newVal:uiSelectConfig.searchEnabled}),scope.$watch("sortable",function(){var sortable=scope.$eval(attrs.sortable);$select.sortable=void 0!==sortable?sortable:uiSelectConfig.sortable}),attrs.$observe("limit",function(){$select.limit=angular.isDefined(attrs.limit)?parseInt(attrs.limit,10):void 0}),scope.$watch("removeSelected",function(){var removeSelected=scope.$eval(attrs.removeSelected);$select.removeSelected=void 0!==removeSelected?removeSelected:uiSelectConfig.removeSelected}),attrs.$observe("disabled",function(){$select.disabled=void 0!==attrs.disabled&&attrs.disabled}),attrs.$observe("resetSearchInput",function(){var resetSearchInput=scope.$eval(attrs.resetSearchInput);$select.resetSearchInput=void 0===resetSearchInput||resetSearchInput}),attrs.$observe("paste",function(){$select.paste=scope.$eval(attrs.paste)}),attrs.$observe("tagging",function(){if(void 0!==attrs.tagging){var taggingEval=scope.$eval(attrs.tagging);$select.tagging={isActivated:!0,fct:taggingEval!==!0?taggingEval:void 0}}else $select.tagging={isActivated:!1,fct:void 0}}),attrs.$observe("taggingLabel",function(){void 0!==attrs.tagging&&("false"===attrs.taggingLabel?$select.taggingLabel=!1:$select.taggingLabel=void 0!==attrs.taggingLabel?attrs.taggingLabel:"(new)")}),attrs.$observe("taggingTokens",function(){if(void 0!==attrs.tagging){var tokens=void 0!==attrs.taggingTokens?attrs.taggingTokens.split("|"):[",","ENTER"];$select.taggingTokens={isActivated:!0,tokens:tokens}}}),angular.isDefined(attrs.autofocus)&&$timeout(function(){$select.setFocus()}),angular.isDefined(attrs.focusOn)&&scope.$on(attrs.focusOn,function(){$timeout(function(){$select.setFocus()})}),$document.on("click",onDocumentClick),scope.$on("$destroy",function(){$document.off("click",onDocumentClick)}),transcludeFn(scope,function(clone){var transcluded=angular.element("<div>").append(clone),transcludedMatch=transcluded.querySelectorAll(".ui-select-match");if(transcludedMatch.removeAttr("ui-select-match"),transcludedMatch.removeAttr("data-ui-select-match"),1!==transcludedMatch.length)throw uiSelectMinErr("transcluded","Expected 1 .ui-select-match but got '{0}'.",transcludedMatch.length);element.querySelectorAll(".ui-select-match").replaceWith(transcludedMatch);var transcludedChoices=transcluded.querySelectorAll(".ui-select-choices");if(transcludedChoices.removeAttr("ui-select-choices"),transcludedChoices.removeAttr("data-ui-select-choices"),1!==transcludedChoices.length)throw uiSelectMinErr("transcluded","Expected 1 .ui-select-choices but got '{0}'.",transcludedChoices.length);element.querySelectorAll(".ui-select-choices").replaceWith(transcludedChoices);var transcludedNoChoice=transcluded.querySelectorAll(".ui-select-no-choice");transcludedNoChoice.removeAttr("ui-select-no-choice"),transcludedNoChoice.removeAttr("data-ui-select-no-choice"),1==transcludedNoChoice.length&&element.querySelectorAll(".ui-select-no-choice").replaceWith(transcludedNoChoice)});var appendToBody=scope.$eval(attrs.appendToBody);(void 0!==appendToBody?appendToBody:uiSelectConfig.appendToBody)&&(scope.$watch("$select.open",function(isOpen){isOpen?positionDropdown():resetDropdown()}),scope.$on("$destroy",function(){resetDropdown()}));var placeholder=null,originalWidth="",dropdown=null,directionUpClassName="direction-up";scope.$watch("$select.open",function(){"auto"!==$select.dropdownPosition&&"up"!==$select.dropdownPosition||scope.calculateDropdownPos()});var setDropdownPosUp=function(offset,offsetDropdown){offset=offset||uisOffset(element),offsetDropdown=offsetDropdown||uisOffset(dropdown),dropdown[0].style.position="absolute",dropdown[0].style.top=offsetDropdown.height*-1+"px",element.addClass(directionUpClassName)},setDropdownPosDown=function(offset,offsetDropdown){element.removeClass(directionUpClassName),offset=offset||uisOffset(element),offsetDropdown=offsetDropdown||uisOffset(dropdown),dropdown[0].style.position="",dropdown[0].style.top=""},calculateDropdownPosAfterAnimation=function(){$timeout(function(){if("up"===$select.dropdownPosition)setDropdownPosUp();else{element.removeClass(directionUpClassName);var offset=uisOffset(element),offsetDropdown=uisOffset(dropdown),scrollTop=$document[0].documentElement.scrollTop||$document[0].body.scrollTop;offset.top+offset.height+offsetDropdown.height>scrollTop+$document[0].documentElement.clientHeight?setDropdownPosUp(offset,offsetDropdown):setDropdownPosDown(offset,offsetDropdown)}dropdown[0].style.opacity=1})};scope.calculateDropdownPos=function(){if($select.open){if(dropdown=angular.element(element).querySelectorAll(".ui-select-dropdown"),0===dropdown.length)return;if(dropdown[0].style.opacity=0,!uisOffset(dropdown).height&&$select.$animate&&$select.$animate.on&&$select.$animate.enabled(dropdown)){var needsCalculated=!0;$select.$animate.on("enter",dropdown,function(elem,phase){"close"===phase&&needsCalculated&&(calculateDropdownPosAfterAnimation(),needsCalculated=!1)})}else calculateDropdownPosAfterAnimation()}else{if(null===dropdown||0===dropdown.length)return;dropdown[0].style.opacity=0,dropdown[0].style.position="",dropdown[0].style.top="",element.removeClass(directionUpClassName)}}}}}}]),uis.directive("uiSelectMatch",["uiSelectConfig",function(uiSelectConfig){function getAttribute(elem,attribute){return elem[0].hasAttribute(attribute)?elem.attr(attribute):elem[0].hasAttribute("data-"+attribute)?elem.attr("data-"+attribute):elem[0].hasAttribute("x-"+attribute)?elem.attr("x-"+attribute):void 0}return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(tElement){tElement.addClass("ui-select-match");var parent=tElement.parent(),theme=getAttribute(parent,"theme")||uiSelectConfig.theme,multi=angular.isDefined(getAttribute(parent,"multiple"));return theme+(multi?"/match-multiple.tpl.html":"/match.tpl.html")},link:function(scope,element,attrs,$select){function setAllowClear(allow){$select.allowClear=!!angular.isDefined(allow)&&(""===allow||"true"===allow.toLowerCase())}$select.lockChoiceExpression=attrs.uiLockChoice,attrs.$observe("placeholder",function(placeholder){$select.placeholder=void 0!==placeholder?placeholder:uiSelectConfig.placeholder}),attrs.$observe("allowClear",setAllowClear),setAllowClear(attrs.allowClear),$select.multiple&&$select.sizeSearchInput()}}}]),uis.directive("uiSelectMultiple",["uiSelectMinErr","$timeout",function(uiSelectMinErr,$timeout){return{restrict:"EA",require:["^uiSelect","^ngModel"],controller:["$scope","$timeout",function($scope,$timeout){var ngModel,ctrl=this,$select=$scope.$select;angular.isUndefined($select.selected)&&($select.selected=[]),$scope.$evalAsync(function(){ngModel=$scope.ngModel}),ctrl.activeMatchIndex=-1,ctrl.updateModel=function(){ngModel.$setViewValue(Date.now()),ctrl.refreshComponent()},ctrl.refreshComponent=function(){$select.refreshItems&&$select.refreshItems(),$select.sizeSearchInput&&$select.sizeSearchInput()},ctrl.removeChoice=function(index){if($select.isLocked(null,index))return!1;var removedChoice=$select.selected[index],locals={};return locals[$select.parserResult.itemName]=removedChoice,$select.selected.splice(index,1),ctrl.activeMatchIndex=-1,$select.sizeSearchInput(),$timeout(function(){$select.onRemoveCallback($scope,{$item:removedChoice,$model:$select.parserResult.modelMapper($scope,locals)})}),ctrl.updateModel(),!0},ctrl.getPlaceholder=function(){if(!$select.selected||!$select.selected.length)return $select.placeholder}}],controllerAs:"$selectMultiple",link:function(scope,element,attrs,ctrls){function _getCaretPosition(el){return angular.isNumber(el.selectionStart)?el.selectionStart:el.value.length}function _handleMatchSelection(key){function getNewActiveMatchIndex(){switch(key){case KEY.LEFT:return~$selectMultiple.activeMatchIndex?prev:last;case KEY.RIGHT:return~$selectMultiple.activeMatchIndex&&curr!==last?next:($select.activate(),!1);case KEY.BACKSPACE:return~$selectMultiple.activeMatchIndex?$selectMultiple.removeChoice(curr)?prev:curr:last;case KEY.DELETE:return!!~$selectMultiple.activeMatchIndex&&($selectMultiple.removeChoice($selectMultiple.activeMatchIndex),curr)}}var caretPosition=_getCaretPosition($select.searchInput[0]),length=$select.selected.length,first=0,last=length-1,curr=$selectMultiple.activeMatchIndex,next=$selectMultiple.activeMatchIndex+1,prev=$selectMultiple.activeMatchIndex-1,newIndex=curr;return!(caretPosition>0||$select.search.length&&key==KEY.RIGHT)&&($select.close(),newIndex=getNewActiveMatchIndex(),$select.selected.length&&newIndex!==!1?$selectMultiple.activeMatchIndex=Math.min(last,Math.max(first,newIndex)):$selectMultiple.activeMatchIndex=-1,!0)}function _findCaseInsensitiveDupe(arr){if(void 0===arr||void 0===$select.search)return!1;var hasDupe=arr.filter(function(origItem){return void 0!==$select.search.toUpperCase()&&void 0!==origItem&&origItem.toUpperCase()===$select.search.toUpperCase()}).length>0;return hasDupe}function _findApproxDupe(haystack,needle){var dupeIndex=-1;if(angular.isArray(haystack))for(var tempArr=angular.copy(haystack),i=0;i<tempArr.length;i++)if(void 0===$select.tagging.fct)tempArr[i]+" "+$select.taggingLabel===needle&&(dupeIndex=i);else{var mockObj=tempArr[i];angular.isObject(mockObj)&&(mockObj.isTag=!0),angular.equals(mockObj,needle)&&(dupeIndex=i)}return dupeIndex}var $select=ctrls[0],ngModel=scope.ngModel=ctrls[1],$selectMultiple=scope.$selectMultiple;$select.multiple=!0,$select.focusInput=$select.searchInput,ngModel.$isEmpty=function(value){return!value||0===value.length},ngModel.$parsers.unshift(function(){for(var result,locals={},resultMultiple=[],j=$select.selected.length-1;j>=0;j--)locals={},locals[$select.parserResult.itemName]=$select.selected[j],result=$select.parserResult.modelMapper(scope,locals),resultMultiple.unshift(result);return resultMultiple}),ngModel.$formatters.unshift(function(inputValue){var result,data=$select.parserResult&&$select.parserResult.source(scope,{$select:{search:""}}),locals={};if(!data)return inputValue;var resultMultiple=[],checkFnMultiple=function(list,value){if(list&&list.length){for(var p=list.length-1;p>=0;p--){if(locals[$select.parserResult.itemName]=list[p],result=$select.parserResult.modelMapper(scope,locals),$select.parserResult.trackByExp){var propsItemNameMatches=/(\w*)\./.exec($select.parserResult.trackByExp),matches=/\.([^\s]+)/.exec($select.parserResult.trackByExp);if(propsItemNameMatches&&propsItemNameMatches.length>0&&propsItemNameMatches[1]==$select.parserResult.itemName&&matches&&matches.length>0&&result[matches[1]]==value[matches[1]])return resultMultiple.unshift(list[p]),!0}if(angular.equals(result,value))return resultMultiple.unshift(list[p]),!0}return!1}};if(!inputValue)return resultMultiple;for(var k=inputValue.length-1;k>=0;k--)checkFnMultiple($select.selected,inputValue[k])||checkFnMultiple(data,inputValue[k])||resultMultiple.unshift(inputValue[k]);return resultMultiple}),scope.$watchCollection(function(){return ngModel.$modelValue},function(newValue,oldValue){oldValue!=newValue&&(angular.isDefined(ngModel.$modelValue)&&(ngModel.$modelValue=null),$selectMultiple.refreshComponent())}),ngModel.$render=function(){if(!angular.isArray(ngModel.$viewValue)){if(!angular.isUndefined(ngModel.$viewValue)&&null!==ngModel.$viewValue)throw uiSelectMinErr("multiarr","Expected model value to be array but got '{0}'",ngModel.$viewValue);ngModel.$viewValue=[]}$select.selected=ngModel.$viewValue,$selectMultiple.refreshComponent(),scope.$evalAsync()},scope.$on("uis:select",function(event,item){$select.selected.length>=$select.limit||($select.selected.push(item),$selectMultiple.updateModel())}),scope.$on("uis:activate",function(){$selectMultiple.activeMatchIndex=-1}),scope.$watch("$select.disabled",function(newValue,oldValue){oldValue&&!newValue&&$select.sizeSearchInput()}),$select.searchInput.on("keydown",function(e){var key=e.which;scope.$apply(function(){var processed=!1;KEY.isHorizontalMovement(key)&&(processed=_handleMatchSelection(key)),processed&&key!=KEY.TAB&&(e.preventDefault(),e.stopPropagation())})}),$select.searchInput.on("keyup",function(e){if(KEY.isVerticalMovement(e.which)||scope.$evalAsync(function(){$select.activeIndex=$select.taggingLabel===!1?-1:0}),$select.tagging.isActivated&&$select.search.length>0){if(e.which===KEY.TAB||KEY.isControl(e)||KEY.isFunctionKey(e)||e.which===KEY.ESC||KEY.isVerticalMovement(e.which))return;if($select.activeIndex=$select.taggingLabel===!1?-1:0,$select.taggingLabel===!1)return;var newItem,item,tagItems,tagItem,items=angular.copy($select.items),stashArr=angular.copy($select.items),hasTag=!1,dupeIndex=-1;if(void 0!==$select.tagging.fct){if(tagItems=$select.$filter("filter")(items,{isTag:!0}),tagItems.length>0&&(tagItem=tagItems[0]),items.length>0&&tagItem&&(hasTag=!0,items=items.slice(1,items.length),stashArr=stashArr.slice(1,stashArr.length)),newItem=$select.tagging.fct($select.search),stashArr.some(function(origItem){return angular.equals(origItem,newItem)})||$select.selected.some(function(origItem){return angular.equals(origItem,newItem)}))return void scope.$evalAsync(function(){$select.activeIndex=0,$select.items=items});newItem&&(newItem.isTag=!0)}else{if(tagItems=$select.$filter("filter")(items,function(item){return item.match($select.taggingLabel)}),tagItems.length>0&&(tagItem=tagItems[0]),item=items[0],void 0!==item&&items.length>0&&tagItem&&(hasTag=!0,items=items.slice(1,items.length),stashArr=stashArr.slice(1,stashArr.length)),newItem=$select.search+" "+$select.taggingLabel,_findApproxDupe($select.selected,$select.search)>-1)return;if(_findCaseInsensitiveDupe(stashArr.concat($select.selected)))return void(hasTag&&(items=stashArr,scope.$evalAsync(function(){$select.activeIndex=0,$select.items=items})));if(_findCaseInsensitiveDupe(stashArr))return void(hasTag&&($select.items=stashArr.slice(1,stashArr.length)))}hasTag&&(dupeIndex=_findApproxDupe($select.selected,newItem)),dupeIndex>-1?items=items.slice(dupeIndex+1,items.length-1):(items=[],newItem&&items.push(newItem),items=items.concat(stashArr)),scope.$evalAsync(function(){if($select.activeIndex=0,$select.items=items,$select.isGrouped){var itemsWithoutTag=newItem?items.slice(1):items;$select.setItemsFn(itemsWithoutTag),newItem&&($select.items.unshift(newItem),$select.groups.unshift({name:"",items:[newItem],tagging:!0}))}})}}),$select.searchInput.on("blur",function(){$timeout(function(){$selectMultiple.activeMatchIndex=-1})})}}}]),uis.directive("uiSelectNoChoice",["uiSelectConfig",function(uiSelectConfig){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(tElement){tElement.addClass("ui-select-no-choice");var theme=tElement.parent().attr("theme")||uiSelectConfig.theme;return theme+"/no-choice.tpl.html"}}}]),uis.directive("uiSelectSingle",["$timeout","$compile",function($timeout,$compile){return{restrict:"EA",require:["^uiSelect","^ngModel"],link:function(scope,element,attrs,ctrls){var $select=ctrls[0],ngModel=ctrls[1];ngModel.$parsers.unshift(function(inputValue){var result,locals={};return locals[$select.parserResult.itemName]=inputValue,result=$select.parserResult.modelMapper(scope,locals)}),ngModel.$formatters.unshift(function(inputValue){var result,data=$select.parserResult&&$select.parserResult.source(scope,{$select:{search:""}}),locals={};if(data){var checkFnSingle=function(d){return locals[$select.parserResult.itemName]=d,result=$select.parserResult.modelMapper(scope,locals),result===inputValue};if($select.selected&&checkFnSingle($select.selected))return $select.selected;for(var i=data.length-1;i>=0;i--)if(checkFnSingle(data[i]))return data[i]}return inputValue}),scope.$watch("$select.selected",function(newValue){ngModel.$viewValue!==newValue&&ngModel.$setViewValue(newValue);
}),ngModel.$render=function(){$select.selected=ngModel.$viewValue},scope.$on("uis:select",function(event,item){$select.selected=item}),scope.$on("uis:close",function(event,skipFocusser){$timeout(function(){$select.focusser.prop("disabled",!1),skipFocusser||$select.focusser[0].focus()},0,!1)}),scope.$on("uis:activate",function(){focusser.prop("disabled",!0)});var focusser=angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button' />");$compile(focusser)(scope),$select.focusser=focusser,$select.focusInput=focusser,element.parent().append(focusser),focusser.bind("focus",function(){scope.$evalAsync(function(){$select.focus=!0})}),focusser.bind("blur",function(){scope.$evalAsync(function(){$select.focus=!1})}),focusser.bind("keydown",function(e){return e.which===KEY.BACKSPACE?(e.preventDefault(),e.stopPropagation(),$select.select(void 0),void scope.$apply()):void(e.which===KEY.TAB||KEY.isControl(e)||KEY.isFunctionKey(e)||e.which===KEY.ESC||(e.which!=KEY.DOWN&&e.which!=KEY.UP&&e.which!=KEY.ENTER&&e.which!=KEY.SPACE||(e.preventDefault(),e.stopPropagation(),$select.activate()),scope.$digest()))}),focusser.bind("keyup input",function(e){e.which===KEY.TAB||KEY.isControl(e)||KEY.isFunctionKey(e)||e.which===KEY.ESC||e.which==KEY.ENTER||e.which===KEY.BACKSPACE||($select.activate(focusser.val()),focusser.val(""),scope.$digest())})}}}]),uis.directive("uiSelectSort",["$timeout","uiSelectConfig","uiSelectMinErr",function($timeout,uiSelectConfig,uiSelectMinErr){return{require:["^^uiSelect","^ngModel"],link:function(scope,element,attrs,ctrls){if(null===scope[attrs.uiSelectSort])throw uiSelectMinErr("sort","Expected a list to sort");var $select=ctrls[0],$ngModel=ctrls[1],options=angular.extend({axis:"horizontal"},scope.$eval(attrs.uiSelectSortOptions)),axis=options.axis,draggingClassName="dragging",droppingClassName="dropping",droppingBeforeClassName="dropping-before",droppingAfterClassName="dropping-after";scope.$watch(function(){return $select.sortable},function(newValue){newValue?element.attr("draggable",!0):element.removeAttr("draggable")}),element.on("dragstart",function(event){element.addClass(draggingClassName),(event.dataTransfer||event.originalEvent.dataTransfer).setData("text",scope.$index.toString())}),element.on("dragend",function(){removeClass(draggingClassName)});var dropTimeout,move=function(from,to){this.splice(to,0,this.splice(from,1)[0])},removeClass=function(className){angular.forEach($select.$element.querySelectorAll("."+className),function(el){angular.element(el).removeClass(className)})},dragOverHandler=function(event){event.preventDefault();var offset="vertical"===axis?event.offsetY||event.layerY||(event.originalEvent?event.originalEvent.offsetY:0):event.offsetX||event.layerX||(event.originalEvent?event.originalEvent.offsetX:0);offset<this["vertical"===axis?"offsetHeight":"offsetWidth"]/2?(removeClass(droppingAfterClassName),element.addClass(droppingBeforeClassName)):(removeClass(droppingBeforeClassName),element.addClass(droppingAfterClassName))},dropHandler=function(event){event.preventDefault();var droppedItemIndex=parseInt((event.dataTransfer||event.originalEvent.dataTransfer).getData("text"),10);$timeout.cancel(dropTimeout),dropTimeout=$timeout(function(){_dropHandler(droppedItemIndex)},20)},_dropHandler=function(droppedItemIndex){var theList=scope.$eval(attrs.uiSelectSort),itemToMove=theList[droppedItemIndex],newIndex=null;newIndex=element.hasClass(droppingBeforeClassName)?droppedItemIndex<scope.$index?scope.$index-1:scope.$index:droppedItemIndex<scope.$index?scope.$index:scope.$index+1,move.apply(theList,[droppedItemIndex,newIndex]),$ngModel.$setViewValue(Date.now()),scope.$apply(function(){scope.$emit("uiSelectSort:change",{array:theList,item:itemToMove,from:droppedItemIndex,to:newIndex})}),removeClass(droppingClassName),removeClass(droppingBeforeClassName),removeClass(droppingAfterClassName),element.off("drop",dropHandler)};element.on("dragenter",function(){element.hasClass(draggingClassName)||(element.addClass(droppingClassName),element.on("dragover",dragOverHandler),element.on("drop",dropHandler))}),element.on("dragleave",function(event){event.target==element&&(removeClass(droppingClassName),removeClass(droppingBeforeClassName),removeClass(droppingAfterClassName),element.off("dragover",dragOverHandler),element.off("drop",dropHandler))})}}}]),uis.factory("$$uisDebounce",["$timeout",function($timeout){return function(callback,debounceTime){var timeoutPromise;return function(){var self=this,args=Array.prototype.slice.call(arguments);timeoutPromise&&$timeout.cancel(timeoutPromise),timeoutPromise=$timeout(function(){callback.apply(self,args)},debounceTime)}}}]),uis.service("uisRepeatParser",["uiSelectMinErr","$parse",function(uiSelectMinErr,$parse){var self=this;self.parse=function(expression){var match;if(match=expression.match(/^\s*(?:([\s\S]+?)\s+as\s+)?(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(\s*[\s\S]+?)?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),!match)throw uiSelectMinErr("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",expression);var source=match[5],filters="";if(match[3]){source=match[5].replace(/(^\()|(\)$)/g,"");var filterMatch=match[5].match(/^\s*(?:[\s\S]+?)(?:[^\|]|\|\|)+([\s\S]*)\s*$/);filterMatch&&filterMatch[1].trim()&&(filters=filterMatch[1],source=source.replace(filters,""))}return{itemName:match[4]||match[2],keyName:match[3],source:$parse(source),filters:filters,trackByExp:match[6],modelMapper:$parse(match[1]||match[4]||match[2]),repeatExpression:function(grouped){var expression=this.itemName+" in "+(grouped?"$group.items":"$select.items");return this.trackByExp&&(expression+=" track by "+this.trackByExp),expression}}},self.getGroupNgRepeatExpression=function(){return"$group in $select.groups"}}])}(),angular.module("ui.select").run(["$templateCache",function($templateCache){$templateCache.put("bootstrap/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu" role="listbox" ng-show="$select.open && $select.items.length > 0"><li class="ui-select-choices-group" id="ui-select-choices-{{ $select.generatedId }}"><div class="divider" ng-show="$select.isGrouped && $index > 0"></div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header" ng-bind="$group.name"></div><div ng-attr-id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}" role="option"><a href="" class="ui-select-choices-row-inner"></a></div></li></ul>'),$templateCache.put("bootstrap/match-multiple.tpl.html",'<span class="ui-select-match"><span ng-repeat="$item in $select.selected track by $index"><span class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&nbsp;&times;</span> <span uis-transclude-append=""></span></span></span></span>'),$templateCache.put("bootstrap/match.tpl.html",'<div class="ui-select-match" ng-hide="$select.open && $select.searchEnabled" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="{{ $select.baseTitle }} activate" ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left" ng-class="{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""></span> <i class="caret pull-right" ng-click="$select.toggle($event)"></i> <a ng-show="$select.allowClear && !$select.isEmpty() && ($select.disabled !== true)" aria-label="{{ $select.baseTitle }} clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right"><i class="glyphicon glyphicon-remove" aria-hidden="true"></i></a></span></div>'),$templateCache.put("bootstrap/no-choice.tpl.html",'<ul class="ui-select-no-choice dropdown-menu" ng-show="$select.items.length == 0"><li ng-transclude=""></li></ul>'),$templateCache.put("bootstrap/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"></div><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-click="$select.activate()" ng-model="$select.search" role="combobox" aria-label="{{ $select.baseTitle }}" ondrop="return false;"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>'),$templateCache.put("bootstrap/select.tpl.html",'<div class="ui-select-container ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"></div><input type="search" autocomplete="off" tabindex="-1" aria-expanded="true" aria-label="{{ $select.baseTitle }}" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="form-control ui-select-search" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.searchEnabled && $select.open"><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>'),$templateCache.put("select2/choices.tpl.html",'<ul tabindex="-1" class="ui-select-choices ui-select-choices-content select2-results"><li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }"><div ng-show="$select.choiceGrouped($group)" class="ui-select-choices-group-label select2-result-label" ng-bind="$group.name"></div><ul role="listbox" id="ui-select-choices-{{ $select.generatedId }}" ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }"><li role="option" ng-attr-id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}"><div class="select2-result-label ui-select-choices-row-inner"></div></li></ul></li></ul>'),$templateCache.put("select2/match-multiple.tpl.html",'<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected track by $index" ng-class="{\'select2-search-choice-focus\':$selectMultiple.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span uis-transclude-append=""></span> <a href="javascript:;" class="ui-select-match-close select2-search-choice-close" ng-click="$selectMultiple.removeChoice($index)" tabindex="-1"></a></li></span>'),$templateCache.put("select2/match.tpl.html",'<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.toggle($event)" aria-label="{{ $select.baseTitle }} select"><span ng-show="$select.isEmpty()" class="select2-chosen">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""></span> <abbr ng-if="$select.allowClear && !$select.isEmpty()" class="select2-search-choice-close" ng-click="$select.clear($event)"></abbr> <span class="select2-arrow ui-select-toggle"><b></b></span></a>'),$templateCache.put("select2/no-choice.tpl.html",'<div class="ui-select-no-choice dropdown" ng-show="$select.items.length == 0"><div class="dropdown-content"><div data-selectable="" ng-transclude=""></div></div></div>'),$templateCache.put("select2/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices"><span class="ui-select-match"></span><li class="select2-search-field"><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="select2-input ui-select-search" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search" ng-click="$select.activate()" style="width: 34px;" ondrop="return false;"></li></ul><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open || $select.items.length === 0}"><div class="ui-select-choices"></div></div></div>'),$templateCache.put("select2/select.tpl.html",'<div class="ui-select-container select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled, \'select2-container-active\': $select.focus, \'select2-allowclear\': $select.allowClear && !$select.isEmpty()}"><div class="ui-select-match"></div><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="select2-search" ng-show="$select.searchEnabled"><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="ui-select-search select2-input" ng-model="$select.search"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div></div>'),$templateCache.put("selectize/choices.tpl.html",'<div ng-show="$select.open" class="ui-select-choices ui-select-dropdown selectize-dropdown single"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup" role="listbox"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header" ng-bind="$group.name"></div><div role="option" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""></div></div></div></div></div>'),$templateCache.put("selectize/match.tpl.html",'<div ng-hide="$select.searchEnabled && ($select.open || $select.isEmpty())" class="ui-select-match" ng-transclude=""></div>'),$templateCache.put("selectize/no-choice.tpl.html",'<div class="ui-select-no-choice selectize-dropdown" ng-show="$select.items.length == 0"><div class="selectize-dropdown-content"><div data-selectable="" ng-transclude=""></div></div></div>'),$templateCache.put("selectize/select.tpl.html",'<div class="ui-select-container selectize-control single" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.open && !$select.searchEnabled ? $select.toggle($event) : $select.activate()"><div class="ui-select-match"></div><input type="search" autocomplete="off" tabindex="-1" class="ui-select-search ui-select-toggle" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="!$select.searchEnabled || (!$select.isEmpty() && !$select.open)" ng-disabled="$select.disabled" aria-label="{{ $select.baseTitle }}"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>')}]),function(window,undefined){"use strict";var _zcSwfVersion,_currentElement,_copyTarget,_window=window,_document=_window.document,_navigator=_window.navigator,_setTimeout=_window.setTimeout,_clearTimeout=_window.clearTimeout,_setInterval=_window.setInterval,_clearInterval=_window.clearInterval,_getComputedStyle=_window.getComputedStyle,_encodeURIComponent=_window.encodeURIComponent,_ActiveXObject=_window.ActiveXObject,_Error=_window.Error,_parseInt=_window.Number.parseInt||_window.parseInt,_parseFloat=_window.Number.parseFloat||_window.parseFloat,_isNaN=_window.Number.isNaN||_window.isNaN,_now=_window.Date.now,_keys=_window.Object.keys,_defineProperty=_window.Object.defineProperty,_hasOwn=_window.Object.prototype.hasOwnProperty,_slice=_window.Array.prototype.slice,_unwrap=function(){var unwrapper=function(el){return el};if("function"==typeof _window.wrap&&"function"==typeof _window.unwrap)try{var div=_document.createElement("div"),unwrappedDiv=_window.unwrap(div);1===div.nodeType&&unwrappedDiv&&1===unwrappedDiv.nodeType&&(unwrapper=_window.unwrap)}catch(e){}return unwrapper}(),_args=function(argumentsObj){return _slice.call(argumentsObj,0)},_extend=function(){var i,len,arg,prop,src,copy,args=_args(arguments),target=args[0]||{};for(i=1,len=args.length;i<len;i++)if(null!=(arg=args[i]))for(prop in arg)_hasOwn.call(arg,prop)&&(src=target[prop],copy=arg[prop],target!==copy&&copy!==undefined&&(target[prop]=copy));return target},_deepCopy=function(source){var copy,i,len,prop;if("object"!=typeof source||null==source||"number"==typeof source.nodeType)copy=source;else if("number"==typeof source.length)for(copy=[],i=0,len=source.length;i<len;i++)_hasOwn.call(source,i)&&(copy[i]=_deepCopy(source[i]));else{copy={};for(prop in source)_hasOwn.call(source,prop)&&(copy[prop]=_deepCopy(source[prop]))}return copy},_pick=function(obj,keys){for(var newObj={},i=0,len=keys.length;i<len;i++)keys[i]in obj&&(newObj[keys[i]]=obj[keys[i]]);return newObj},_omit=function(obj,keys){var newObj={};for(var prop in obj)keys.indexOf(prop)===-1&&(newObj[prop]=obj[prop]);return newObj},_deleteOwnProperties=function(obj){if(obj)for(var prop in obj)_hasOwn.call(obj,prop)&&delete obj[prop];return obj},_containedBy=function(el,ancestorEl){if(el&&1===el.nodeType&&el.ownerDocument&&ancestorEl&&(1===ancestorEl.nodeType&&ancestorEl.ownerDocument&&ancestorEl.ownerDocument===el.ownerDocument||9===ancestorEl.nodeType&&!ancestorEl.ownerDocument&&ancestorEl===el.ownerDocument))do{if(el===ancestorEl)return!0;el=el.parentNode}while(el);return!1},_getDirPathOfUrl=function(url){var dir;return"string"==typeof url&&url&&(dir=url.split("#")[0].split("?")[0],dir=url.slice(0,url.lastIndexOf("/")+1)),dir},_getCurrentScriptUrlFromErrorStack=function(stack){var url,matches;return"string"==typeof stack&&stack&&(matches=stack.match(/^(?:|[^:@]*@|.+\)@(?=http[s]?|file)|.+?\s+(?: at |@)(?:[^:\(]+ )*[\(]?)((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),matches&&matches[1]?url=matches[1]:(matches=stack.match(/\)@((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),matches&&matches[1]&&(url=matches[1]))),url},_getCurrentScriptUrlFromError=function(){var url,err;try{throw new _Error}catch(e){err=e}return err&&(url=err.sourceURL||err.fileName||_getCurrentScriptUrlFromErrorStack(err.stack)),url},_getCurrentScriptUrl=function(){var jsPath,scripts,i;if(_document.currentScript&&(jsPath=_document.currentScript.src))return jsPath;if(scripts=_document.getElementsByTagName("script"),1===scripts.length)return scripts[0].src||undefined;if("readyState"in scripts[0])for(i=scripts.length;i--;)if("interactive"===scripts[i].readyState&&(jsPath=scripts[i].src))return jsPath;return"loading"===_document.readyState&&(jsPath=scripts[scripts.length-1].src)?jsPath:(jsPath=_getCurrentScriptUrlFromError())?jsPath:undefined},_getUnanimousScriptParentDir=function(){var i,jsDir,jsPath,scripts=_document.getElementsByTagName("script");for(i=scripts.length;i--;){if(!(jsPath=scripts[i].src)){jsDir=null;break}if(jsPath=_getDirPathOfUrl(jsPath),null==jsDir)jsDir=jsPath;else if(jsDir!==jsPath){jsDir=null;break}}return jsDir||undefined},_getDefaultSwfPath=function(){var jsDir=_getDirPathOfUrl(_getCurrentScriptUrl())||_getUnanimousScriptParentDir()||"";return jsDir+"ZeroClipboard.swf"},_pageIsFramed=function(){return null==window.opener&&(!!window.top&&window!=window.top||!!window.parent&&window!=window.parent)}(),_flashState={bridge:null,version:"0.0.0",pluginType:"unknown",disabled:null,outdated:null,sandboxed:null,unavailable:null,degraded:null,deactivated:null,overdue:null,ready:null},_minimumFlashVersion="11.0.0",_handlers={},_clipData={},_clipDataFormatMap=null,_flashCheckTimeout=0,_swfFallbackCheckInterval=0,_eventMessages={ready:"Flash communication is established",error:{"flash-disabled":"Flash is disabled or not installed. May also be attempting to run Flash in a sandboxed iframe, which is impossible.","flash-outdated":"Flash is too outdated to support ZeroClipboard","flash-sandboxed":"Attempting to run Flash in a sandboxed iframe, which is impossible","flash-unavailable":"Flash is unable to communicate bidirectionally with JavaScript","flash-degraded":"Flash is unable to preserve data fidelity when communicating with JavaScript","flash-deactivated":"Flash is too outdated for your browser and/or is configured as click-to-activate.\nThis may also mean that the ZeroClipboard SWF object could not be loaded, so please check your `swfPath` configuration and/or network connectivity.\nMay also be attempting to run Flash in a sandboxed iframe, which is impossible.","flash-overdue":"Flash communication was established but NOT within the acceptable time limit","version-mismatch":"ZeroClipboard JS version number does not match ZeroClipboard SWF version number","clipboard-error":"At least one error was thrown while ZeroClipboard was attempting to inject your data into the clipboard","config-mismatch":"ZeroClipboard configuration does not match Flash's reality","swf-not-found":"The ZeroClipboard SWF object could not be loaded, so please check your `swfPath` configuration and/or network connectivity"}},_errorsThatOnlyOccurAfterFlashLoads=["flash-unavailable","flash-degraded","flash-overdue","version-mismatch","config-mismatch","clipboard-error"],_flashStateErrorNames=["flash-disabled","flash-outdated","flash-sandboxed","flash-unavailable","flash-degraded","flash-deactivated","flash-overdue"],_flashStateErrorNameMatchingRegex=new RegExp("^flash-("+_flashStateErrorNames.map(function(errorName){return errorName.replace(/^flash-/,"")}).join("|")+")$"),_flashStateEnabledErrorNameMatchingRegex=new RegExp("^flash-("+_flashStateErrorNames.slice(1).map(function(errorName){return errorName.replace(/^flash-/,"")}).join("|")+")$"),_globalConfig={swfPath:_getDefaultSwfPath(),trustedDomains:window.location.host?[window.location.host]:[],cacheBust:!0,forceEnhancedClipboard:!1,flashLoadTimeout:3e4,autoActivate:!0,bubbleEvents:!0,containerId:"global-zeroclipboard-html-bridge",containerClass:"global-zeroclipboard-container",swfObjectId:"global-zeroclipboard-flash-bridge",hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active",forceHandCursor:!1,title:null,zIndex:999999999},_config=function(options){if("object"==typeof options&&null!==options)for(var prop in options)if(_hasOwn.call(options,prop))if(/^(?:forceHandCursor|title|zIndex|bubbleEvents)$/.test(prop))_globalConfig[prop]=options[prop];else if(null==_flashState.bridge)if("containerId"===prop||"swfObjectId"===prop){if(!_isValidHtml4Id(options[prop]))throw new Error("The specified `"+prop+"` value is not valid as an HTML4 Element ID");_globalConfig[prop]=options[prop]}else _globalConfig[prop]=options[prop];{if("string"!=typeof options||!options)return _deepCopy(_globalConfig);if(_hasOwn.call(_globalConfig,options))return _globalConfig[options]}},_state=function(){return _detectSandbox(),{browser:_pick(_navigator,["userAgent","platform","appName"]),flash:_omit(_flashState,["bridge"]),zeroclipboard:{version:ZeroClipboard.version,config:ZeroClipboard.config()}}},_isFlashUnusable=function(){return!!(_flashState.disabled||_flashState.outdated||_flashState.sandboxed||_flashState.unavailable||_flashState.degraded||_flashState.deactivated)},_on=function(eventType,listener){var i,len,events,added={};if("string"==typeof eventType&&eventType)events=eventType.toLowerCase().split(/\s+/);else if("object"==typeof eventType&&eventType&&"undefined"==typeof listener)for(i in eventType)_hasOwn.call(eventType,i)&&"string"==typeof i&&i&&"function"==typeof eventType[i]&&ZeroClipboard.on(i,eventType[i]);if(events&&events.length){for(i=0,len=events.length;i<len;i++)eventType=events[i].replace(/^on/,""),added[eventType]=!0,_handlers[eventType]||(_handlers[eventType]=[]),_handlers[eventType].push(listener);if(added.ready&&_flashState.ready&&ZeroClipboard.emit({type:"ready"}),added.error){for(i=0,len=_flashStateErrorNames.length;i<len;i++)if(_flashState[_flashStateErrorNames[i].replace(/^flash-/,"")]===!0){ZeroClipboard.emit({type:"error",name:_flashStateErrorNames[i]});break}_zcSwfVersion!==undefined&&ZeroClipboard.version!==_zcSwfVersion&&ZeroClipboard.emit({type:"error",name:"version-mismatch",jsVersion:ZeroClipboard.version,swfVersion:_zcSwfVersion})}}return ZeroClipboard},_off=function(eventType,listener){var i,len,foundIndex,events,perEventHandlers;if(0===arguments.length)events=_keys(_handlers);else if("string"==typeof eventType&&eventType)events=eventType.split(/\s+/);else if("object"==typeof eventType&&eventType&&"undefined"==typeof listener)for(i in eventType)_hasOwn.call(eventType,i)&&"string"==typeof i&&i&&"function"==typeof eventType[i]&&ZeroClipboard.off(i,eventType[i]);if(events&&events.length)for(i=0,len=events.length;i<len;i++)if(eventType=events[i].toLowerCase().replace(/^on/,""),perEventHandlers=_handlers[eventType],perEventHandlers&&perEventHandlers.length)if(listener)for(foundIndex=perEventHandlers.indexOf(listener);foundIndex!==-1;)perEventHandlers.splice(foundIndex,1),foundIndex=perEventHandlers.indexOf(listener,foundIndex);else perEventHandlers.length=0;return ZeroClipboard},_listeners=function(eventType){var copy;return copy="string"==typeof eventType&&eventType?_deepCopy(_handlers[eventType])||null:_deepCopy(_handlers)},_emit=function(event){var eventCopy,returnVal,tmp;if(event=_createEvent(event),event&&!_preprocessEvent(event))return"ready"===event.type&&_flashState.overdue===!0?ZeroClipboard.emit({type:"error",name:"flash-overdue"}):(eventCopy=_extend({},event),_dispatchCallbacks.call(this,eventCopy),"copy"===event.type&&(tmp=_mapClipDataToFlash(_clipData),returnVal=tmp.data,_clipDataFormatMap=tmp.formatMap),returnVal)},_create=function(){var previousState=_flashState.sandboxed;if(_detectSandbox(),"boolean"!=typeof _flashState.ready&&(_flashState.ready=!1),_flashState.sandboxed!==previousState&&_flashState.sandboxed===!0)_flashState.ready=!1,ZeroClipboard.emit({type:"error",name:"flash-sandboxed"});else if(!ZeroClipboard.isFlashUnusable()&&null===_flashState.bridge){var maxWait=_globalConfig.flashLoadTimeout;"number"==typeof maxWait&&maxWait>=0&&(_flashCheckTimeout=_setTimeout(function(){"boolean"!=typeof _flashState.deactivated&&(_flashState.deactivated=!0),_flashState.deactivated===!0&&ZeroClipboard.emit({type:"error",name:"flash-deactivated"})},maxWait)),_flashState.overdue=!1,_embedSwf()}},_destroy=function(){ZeroClipboard.clearData(),ZeroClipboard.blur(),ZeroClipboard.emit("destroy"),_unembedSwf(),ZeroClipboard.off()},_setData=function(format,data){var dataObj;if("object"==typeof format&&format&&"undefined"==typeof data)dataObj=format,ZeroClipboard.clearData();else{if("string"!=typeof format||!format)return;dataObj={},dataObj[format]=data}for(var dataFormat in dataObj)"string"==typeof dataFormat&&dataFormat&&_hasOwn.call(dataObj,dataFormat)&&"string"==typeof dataObj[dataFormat]&&dataObj[dataFormat]&&(_clipData[dataFormat]=dataObj[dataFormat])},_clearData=function(format){"undefined"==typeof format?(_deleteOwnProperties(_clipData),_clipDataFormatMap=null):"string"==typeof format&&_hasOwn.call(_clipData,format)&&delete _clipData[format]},_getData=function(format){return"undefined"==typeof format?_deepCopy(_clipData):"string"==typeof format&&_hasOwn.call(_clipData,format)?_clipData[format]:void 0},_focus=function(element){if(element&&1===element.nodeType){_currentElement&&(_removeClass(_currentElement,_globalConfig.activeClass),_currentElement!==element&&_removeClass(_currentElement,_globalConfig.hoverClass)),_currentElement=element,_addClass(element,_globalConfig.hoverClass);var newTitle=element.getAttribute("title")||_globalConfig.title;if("string"==typeof newTitle&&newTitle){var htmlBridge=_getHtmlBridge(_flashState.bridge);htmlBridge&&htmlBridge.setAttribute("title",newTitle)}var useHandCursor=_globalConfig.forceHandCursor===!0||"pointer"===_getStyle(element,"cursor");_setHandCursor(useHandCursor),_reposition()}},_blur=function(){var htmlBridge=_getHtmlBridge(_flashState.bridge);htmlBridge&&(htmlBridge.removeAttribute("title"),htmlBridge.style.left="0px",htmlBridge.style.top="-9999px",htmlBridge.style.width="1px",htmlBridge.style.height="1px"),_currentElement&&(_removeClass(_currentElement,_globalConfig.hoverClass),_removeClass(_currentElement,_globalConfig.activeClass),_currentElement=null)},_activeElement=function(){return _currentElement||null},_isValidHtml4Id=function(id){return"string"==typeof id&&id&&/^[A-Za-z][A-Za-z0-9_:\-\.]*$/.test(id)},_createEvent=function(event){var eventType;if("string"==typeof event&&event?(eventType=event,event={}):"object"==typeof event&&event&&"string"==typeof event.type&&event.type&&(eventType=event.type),eventType){eventType=eventType.toLowerCase(),!event.target&&(/^(copy|aftercopy|_click)$/.test(eventType)||"error"===eventType&&"clipboard-error"===event.name)&&(event.target=_copyTarget),_extend(event,{type:eventType,target:event.target||_currentElement||null,relatedTarget:event.relatedTarget||null,currentTarget:_flashState&&_flashState.bridge||null,timeStamp:event.timeStamp||_now()||null});var msg=_eventMessages[event.type];return"error"===event.type&&event.name&&msg&&(msg=msg[event.name]),msg&&(event.message=msg),"ready"===event.type&&_extend(event,{target:null,version:_flashState.version}),"error"===event.type&&(_flashStateErrorNameMatchingRegex.test(event.name)&&_extend(event,{target:null,minimumVersion:_minimumFlashVersion}),_flashStateEnabledErrorNameMatchingRegex.test(event.name)&&_extend(event,{version:_flashState.version})),"copy"===event.type&&(event.clipboardData={setData:ZeroClipboard.setData,clearData:ZeroClipboard.clearData}),"aftercopy"===event.type&&(event=_mapClipResultsFromFlash(event,_clipDataFormatMap)),event.target&&!event.relatedTarget&&(event.relatedTarget=_getRelatedTarget(event.target)),_addMouseData(event)}},_getRelatedTarget=function(targetEl){var relatedTargetId=targetEl&&targetEl.getAttribute&&targetEl.getAttribute("data-clipboard-target");return relatedTargetId?_document.getElementById(relatedTargetId):null},_addMouseData=function(event){if(event&&/^_(?:click|mouse(?:over|out|down|up|move))$/.test(event.type)){var srcElement=event.target,fromElement="_mouseover"===event.type&&event.relatedTarget?event.relatedTarget:undefined,toElement="_mouseout"===event.type&&event.relatedTarget?event.relatedTarget:undefined,pos=_getElementPosition(srcElement),screenLeft=_window.screenLeft||_window.screenX||0,screenTop=_window.screenTop||_window.screenY||0,scrollLeft=_document.body.scrollLeft+_document.documentElement.scrollLeft,scrollTop=_document.body.scrollTop+_document.documentElement.scrollTop,pageX=pos.left+("number"==typeof event._stageX?event._stageX:0),pageY=pos.top+("number"==typeof event._stageY?event._stageY:0),clientX=pageX-scrollLeft,clientY=pageY-scrollTop,screenX=screenLeft+clientX,screenY=screenTop+clientY,moveX="number"==typeof event.movementX?event.movementX:0,moveY="number"==typeof event.movementY?event.movementY:0;
delete event._stageX,delete event._stageY,_extend(event,{srcElement:srcElement,fromElement:fromElement,toElement:toElement,screenX:screenX,screenY:screenY,pageX:pageX,pageY:pageY,clientX:clientX,clientY:clientY,x:clientX,y:clientY,movementX:moveX,movementY:moveY,offsetX:0,offsetY:0,layerX:0,layerY:0})}return event},_shouldPerformAsync=function(event){var eventType=event&&"string"==typeof event.type&&event.type||"";return!/^(?:(?:before)?copy|destroy)$/.test(eventType)},_dispatchCallback=function(func,context,args,async){async?_setTimeout(function(){func.apply(context,args)},0):func.apply(context,args)},_dispatchCallbacks=function(event){if("object"==typeof event&&event&&event.type){var async=_shouldPerformAsync(event),wildcardTypeHandlers=_handlers["*"]||[],specificTypeHandlers=_handlers[event.type]||[],handlers=wildcardTypeHandlers.concat(specificTypeHandlers);if(handlers&&handlers.length){var i,len,func,context,eventCopy,originalContext=this;for(i=0,len=handlers.length;i<len;i++)func=handlers[i],context=originalContext,"string"==typeof func&&"function"==typeof _window[func]&&(func=_window[func]),"object"==typeof func&&func&&"function"==typeof func.handleEvent&&(context=func,func=func.handleEvent),"function"==typeof func&&(eventCopy=_extend({},event),_dispatchCallback(func,context,[eventCopy],async))}return this}},_getSandboxStatusFromErrorEvent=function(event){var isSandboxed=null;return(_pageIsFramed===!1||event&&"error"===event.type&&event.name&&_errorsThatOnlyOccurAfterFlashLoads.indexOf(event.name)!==-1)&&(isSandboxed=!1),isSandboxed},_preprocessEvent=function(event){var element=event.target||_currentElement||null,sourceIsSwf="swf"===event._source;switch(delete event._source,event.type){case"error":var isSandboxed="flash-sandboxed"===event.name||_getSandboxStatusFromErrorEvent(event);"boolean"==typeof isSandboxed&&(_flashState.sandboxed=isSandboxed),_flashStateErrorNames.indexOf(event.name)!==-1?_extend(_flashState,{disabled:"flash-disabled"===event.name,outdated:"flash-outdated"===event.name,unavailable:"flash-unavailable"===event.name,degraded:"flash-degraded"===event.name,deactivated:"flash-deactivated"===event.name,overdue:"flash-overdue"===event.name,ready:!1}):"version-mismatch"===event.name&&(_zcSwfVersion=event.swfVersion,_extend(_flashState,{disabled:!1,outdated:!1,unavailable:!1,degraded:!1,deactivated:!1,overdue:!1,ready:!1})),_clearTimeoutsAndPolling();break;case"ready":_zcSwfVersion=event.swfVersion;var wasDeactivated=_flashState.deactivated===!0;_extend(_flashState,{disabled:!1,outdated:!1,sandboxed:!1,unavailable:!1,degraded:!1,deactivated:!1,overdue:wasDeactivated,ready:!wasDeactivated}),_clearTimeoutsAndPolling();break;case"beforecopy":_copyTarget=element;break;case"copy":var textContent,htmlContent,targetEl=event.relatedTarget;!_clipData["text/html"]&&!_clipData["text/plain"]&&targetEl&&(htmlContent=targetEl.value||targetEl.outerHTML||targetEl.innerHTML)&&(textContent=targetEl.value||targetEl.textContent||targetEl.innerText)?(event.clipboardData.clearData(),event.clipboardData.setData("text/plain",textContent),htmlContent!==textContent&&event.clipboardData.setData("text/html",htmlContent)):!_clipData["text/plain"]&&event.target&&(textContent=event.target.getAttribute("data-clipboard-text"))&&(event.clipboardData.clearData(),event.clipboardData.setData("text/plain",textContent));break;case"aftercopy":_queueEmitClipboardErrors(event),ZeroClipboard.clearData(),element&&element!==_safeActiveElement()&&element.focus&&element.focus();break;case"_mouseover":ZeroClipboard.focus(element),_globalConfig.bubbleEvents===!0&&sourceIsSwf&&(element&&element!==event.relatedTarget&&!_containedBy(event.relatedTarget,element)&&_fireMouseEvent(_extend({},event,{type:"mouseenter",bubbles:!1,cancelable:!1})),_fireMouseEvent(_extend({},event,{type:"mouseover"})));break;case"_mouseout":ZeroClipboard.blur(),_globalConfig.bubbleEvents===!0&&sourceIsSwf&&(element&&element!==event.relatedTarget&&!_containedBy(event.relatedTarget,element)&&_fireMouseEvent(_extend({},event,{type:"mouseleave",bubbles:!1,cancelable:!1})),_fireMouseEvent(_extend({},event,{type:"mouseout"})));break;case"_mousedown":_addClass(element,_globalConfig.activeClass),_globalConfig.bubbleEvents===!0&&sourceIsSwf&&_fireMouseEvent(_extend({},event,{type:event.type.slice(1)}));break;case"_mouseup":_removeClass(element,_globalConfig.activeClass),_globalConfig.bubbleEvents===!0&&sourceIsSwf&&_fireMouseEvent(_extend({},event,{type:event.type.slice(1)}));break;case"_click":_copyTarget=null,_globalConfig.bubbleEvents===!0&&sourceIsSwf&&_fireMouseEvent(_extend({},event,{type:event.type.slice(1)}));break;case"_mousemove":_globalConfig.bubbleEvents===!0&&sourceIsSwf&&_fireMouseEvent(_extend({},event,{type:event.type.slice(1)}))}if(/^_(?:click|mouse(?:over|out|down|up|move))$/.test(event.type))return!0},_queueEmitClipboardErrors=function(aftercopyEvent){if(aftercopyEvent.errors&&aftercopyEvent.errors.length>0){var errorEvent=_deepCopy(aftercopyEvent);_extend(errorEvent,{type:"error",name:"clipboard-error"}),delete errorEvent.success,_setTimeout(function(){ZeroClipboard.emit(errorEvent)},0)}},_fireMouseEvent=function(event){if(event&&"string"==typeof event.type&&event){var e,target=event.target||null,doc=target&&target.ownerDocument||_document,defaults={view:doc.defaultView||_window,canBubble:!0,cancelable:!0,detail:"click"===event.type?1:0,button:"number"==typeof event.which?event.which-1:"number"==typeof event.button?event.button:doc.createEvent?0:1},args=_extend(defaults,event);target&&doc.createEvent&&target.dispatchEvent&&(args=[args.type,args.canBubble,args.cancelable,args.view,args.detail,args.screenX,args.screenY,args.clientX,args.clientY,args.ctrlKey,args.altKey,args.shiftKey,args.metaKey,args.button,args.relatedTarget],e=doc.createEvent("MouseEvents"),e.initMouseEvent&&(e.initMouseEvent.apply(e,args),e._source="js",target.dispatchEvent(e)))}},_watchForSwfFallbackContent=function(){var maxWait=_globalConfig.flashLoadTimeout;if("number"==typeof maxWait&&maxWait>=0){var pollWait=Math.min(1e3,maxWait/10),fallbackContentId=_globalConfig.swfObjectId+"_fallbackContent";_swfFallbackCheckInterval=_setInterval(function(){var el=_document.getElementById(fallbackContentId);_isElementVisible(el)&&(_clearTimeoutsAndPolling(),_flashState.deactivated=null,ZeroClipboard.emit({type:"error",name:"swf-not-found"}))},pollWait)}},_createHtmlBridge=function(){var container=_document.createElement("div");return container.id=_globalConfig.containerId,container.className=_globalConfig.containerClass,container.style.position="absolute",container.style.left="0px",container.style.top="-9999px",container.style.width="1px",container.style.height="1px",container.style.zIndex=""+_getSafeZIndex(_globalConfig.zIndex),container},_getHtmlBridge=function(flashBridge){for(var htmlBridge=flashBridge&&flashBridge.parentNode;htmlBridge&&"OBJECT"===htmlBridge.nodeName&&htmlBridge.parentNode;)htmlBridge=htmlBridge.parentNode;return htmlBridge||null},_embedSwf=function(){var len,flashBridge=_flashState.bridge,container=_getHtmlBridge(flashBridge);if(!flashBridge){var allowScriptAccess=_determineScriptAccess(_window.location.host,_globalConfig),allowNetworking="never"===allowScriptAccess?"none":"all",flashvars=_vars(_extend({jsVersion:ZeroClipboard.version},_globalConfig)),swfUrl=_globalConfig.swfPath+_cacheBust(_globalConfig.swfPath,_globalConfig);container=_createHtmlBridge();var divToBeReplaced=_document.createElement("div");container.appendChild(divToBeReplaced),_document.body.appendChild(container);var tmpDiv=_document.createElement("div"),usingActiveX="activex"===_flashState.pluginType;tmpDiv.innerHTML='<object id="'+_globalConfig.swfObjectId+'" name="'+_globalConfig.swfObjectId+'" width="100%" height="100%" '+(usingActiveX?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"':'type="application/x-shockwave-flash" data="'+swfUrl+'"')+">"+(usingActiveX?'<param name="movie" value="'+swfUrl+'"/>':"")+'<param name="allowScriptAccess" value="'+allowScriptAccess+'"/><param name="allowNetworking" value="'+allowNetworking+'"/><param name="menu" value="false"/><param name="wmode" value="transparent"/><param name="flashvars" value="'+flashvars+'"/><div id="'+_globalConfig.swfObjectId+'_fallbackContent">&nbsp;</div></object>',flashBridge=tmpDiv.firstChild,tmpDiv=null,_unwrap(flashBridge).ZeroClipboard=ZeroClipboard,container.replaceChild(flashBridge,divToBeReplaced),_watchForSwfFallbackContent()}return flashBridge||(flashBridge=_document[_globalConfig.swfObjectId],flashBridge&&(len=flashBridge.length)&&(flashBridge=flashBridge[len-1]),!flashBridge&&container&&(flashBridge=container.firstChild)),_flashState.bridge=flashBridge||null,flashBridge},_unembedSwf=function(){var flashBridge=_flashState.bridge;if(flashBridge){var htmlBridge=_getHtmlBridge(flashBridge);htmlBridge&&("activex"===_flashState.pluginType&&"readyState"in flashBridge?(flashBridge.style.display="none",function removeSwfFromIE(){if(4===flashBridge.readyState){for(var prop in flashBridge)"function"==typeof flashBridge[prop]&&(flashBridge[prop]=null);flashBridge.parentNode&&flashBridge.parentNode.removeChild(flashBridge),htmlBridge.parentNode&&htmlBridge.parentNode.removeChild(htmlBridge)}else _setTimeout(removeSwfFromIE,10)}()):(flashBridge.parentNode&&flashBridge.parentNode.removeChild(flashBridge),htmlBridge.parentNode&&htmlBridge.parentNode.removeChild(htmlBridge))),_clearTimeoutsAndPolling(),_flashState.ready=null,_flashState.bridge=null,_flashState.deactivated=null,_zcSwfVersion=undefined}},_mapClipDataToFlash=function(clipData){var newClipData={},formatMap={};if("object"==typeof clipData&&clipData){for(var dataFormat in clipData)if(dataFormat&&_hasOwn.call(clipData,dataFormat)&&"string"==typeof clipData[dataFormat]&&clipData[dataFormat])switch(dataFormat.toLowerCase()){case"text/plain":case"text":case"air:text":case"flash:text":newClipData.text=clipData[dataFormat],formatMap.text=dataFormat;break;case"text/html":case"html":case"air:html":case"flash:html":newClipData.html=clipData[dataFormat],formatMap.html=dataFormat;break;case"application/rtf":case"text/rtf":case"rtf":case"richtext":case"air:rtf":case"flash:rtf":newClipData.rtf=clipData[dataFormat],formatMap.rtf=dataFormat}return{data:newClipData,formatMap:formatMap}}},_mapClipResultsFromFlash=function(clipResults,formatMap){if("object"!=typeof clipResults||!clipResults||"object"!=typeof formatMap||!formatMap)return clipResults;var newResults={};for(var prop in clipResults)if(_hasOwn.call(clipResults,prop))if("errors"===prop){newResults[prop]=clipResults[prop]?clipResults[prop].slice():[];for(var i=0,len=newResults[prop].length;i<len;i++)newResults[prop][i].format=formatMap[newResults[prop][i].format]}else if("success"!==prop&&"data"!==prop)newResults[prop]=clipResults[prop];else{newResults[prop]={};var tmpHash=clipResults[prop];for(var dataFormat in tmpHash)dataFormat&&_hasOwn.call(tmpHash,dataFormat)&&_hasOwn.call(formatMap,dataFormat)&&(newResults[prop][formatMap[dataFormat]]=tmpHash[dataFormat])}return newResults},_cacheBust=function(path,options){var cacheBust=null==options||options&&options.cacheBust===!0;return cacheBust?(path.indexOf("?")===-1?"?":"&")+"noCache="+_now():""},_vars=function(options){var i,len,domain,domains,str="",trustedOriginsExpanded=[];if(options.trustedDomains&&("string"==typeof options.trustedDomains?domains=[options.trustedDomains]:"object"==typeof options.trustedDomains&&"length"in options.trustedDomains&&(domains=options.trustedDomains)),domains&&domains.length)for(i=0,len=domains.length;i<len;i++)if(_hasOwn.call(domains,i)&&domains[i]&&"string"==typeof domains[i]){if(domain=_extractDomain(domains[i]),!domain)continue;if("*"===domain){trustedOriginsExpanded.length=0,trustedOriginsExpanded.push(domain);break}trustedOriginsExpanded.push.apply(trustedOriginsExpanded,[domain,"//"+domain,_window.location.protocol+"//"+domain])}return trustedOriginsExpanded.length&&(str+="trustedOrigins="+_encodeURIComponent(trustedOriginsExpanded.join(","))),options.forceEnhancedClipboard===!0&&(str+=(str?"&":"")+"forceEnhancedClipboard=true"),"string"==typeof options.swfObjectId&&options.swfObjectId&&(str+=(str?"&":"")+"swfObjectId="+_encodeURIComponent(options.swfObjectId)),"string"==typeof options.jsVersion&&options.jsVersion&&(str+=(str?"&":"")+"jsVersion="+_encodeURIComponent(options.jsVersion)),str},_extractDomain=function(originOrUrl){if(null==originOrUrl||""===originOrUrl)return null;if(originOrUrl=originOrUrl.replace(/^\s+|\s+$/g,""),""===originOrUrl)return null;var protocolIndex=originOrUrl.indexOf("//");originOrUrl=protocolIndex===-1?originOrUrl:originOrUrl.slice(protocolIndex+2);var pathIndex=originOrUrl.indexOf("/");return originOrUrl=pathIndex===-1?originOrUrl:protocolIndex===-1||0===pathIndex?null:originOrUrl.slice(0,pathIndex),originOrUrl&&".swf"===originOrUrl.slice(-4).toLowerCase()?null:originOrUrl||null},_determineScriptAccess=function(){var _extractAllDomains=function(origins){var i,len,tmp,resultsArray=[];if("string"==typeof origins&&(origins=[origins]),"object"!=typeof origins||!origins||"number"!=typeof origins.length)return resultsArray;for(i=0,len=origins.length;i<len;i++)if(_hasOwn.call(origins,i)&&(tmp=_extractDomain(origins[i]))){if("*"===tmp){resultsArray.length=0,resultsArray.push("*");break}resultsArray.indexOf(tmp)===-1&&resultsArray.push(tmp)}return resultsArray};return function(currentDomain,configOptions){var swfDomain=_extractDomain(configOptions.swfPath);null===swfDomain&&(swfDomain=currentDomain);var trustedDomains=_extractAllDomains(configOptions.trustedDomains),len=trustedDomains.length;if(len>0){if(1===len&&"*"===trustedDomains[0])return"always";if(trustedDomains.indexOf(currentDomain)!==-1)return 1===len&&currentDomain===swfDomain?"sameDomain":"always"}return"never"}}(),_safeActiveElement=function(){try{return _document.activeElement}catch(err){return null}},_addClass=function(element,value){var c,cl,className,classNames=[];if("string"==typeof value&&value&&(classNames=value.split(/\s+/)),element&&1===element.nodeType&&classNames.length>0)if(element.classList)for(c=0,cl=classNames.length;c<cl;c++)element.classList.add(classNames[c]);else if(element.hasOwnProperty("className")){for(className=" "+element.className+" ",c=0,cl=classNames.length;c<cl;c++)className.indexOf(" "+classNames[c]+" ")===-1&&(className+=classNames[c]+" ");element.className=className.replace(/^\s+|\s+$/g,"")}return element},_removeClass=function(element,value){var c,cl,className,classNames=[];if("string"==typeof value&&value&&(classNames=value.split(/\s+/)),element&&1===element.nodeType&&classNames.length>0)if(element.classList&&element.classList.length>0)for(c=0,cl=classNames.length;c<cl;c++)element.classList.remove(classNames[c]);else if(element.className){for(className=(" "+element.className+" ").replace(/[\r\n\t]/g," "),c=0,cl=classNames.length;c<cl;c++)className=className.replace(" "+classNames[c]+" "," ");element.className=className.replace(/^\s+|\s+$/g,"")}return element},_getStyle=function(el,prop){var value=_getComputedStyle(el,null).getPropertyValue(prop);return"cursor"!==prop||value&&"auto"!==value||"A"!==el.nodeName?value:"pointer"},_getElementPosition=function(el){var pos={left:0,top:0,width:0,height:0};if(el.getBoundingClientRect){var elRect=el.getBoundingClientRect(),pageXOffset=_window.pageXOffset,pageYOffset=_window.pageYOffset,leftBorderWidth=_document.documentElement.clientLeft||0,topBorderWidth=_document.documentElement.clientTop||0,leftBodyOffset=0,topBodyOffset=0;if("relative"===_getStyle(_document.body,"position")){var bodyRect=_document.body.getBoundingClientRect(),htmlRect=_document.documentElement.getBoundingClientRect();leftBodyOffset=bodyRect.left-htmlRect.left||0,topBodyOffset=bodyRect.top-htmlRect.top||0}pos.left=elRect.left+pageXOffset-leftBorderWidth-leftBodyOffset,pos.top=elRect.top+pageYOffset-topBorderWidth-topBodyOffset,pos.width="width"in elRect?elRect.width:elRect.right-elRect.left,pos.height="height"in elRect?elRect.height:elRect.bottom-elRect.top}return pos},_isElementVisible=function(el){if(!el)return!1;var styles=_getComputedStyle(el,null),hasCssHeight=_parseFloat(styles.height)>0,hasCssWidth=_parseFloat(styles.width)>0,hasCssTop=_parseFloat(styles.top)>=0,hasCssLeft=_parseFloat(styles.left)>=0,cssKnows=hasCssHeight&&hasCssWidth&&hasCssTop&&hasCssLeft,rect=cssKnows?null:_getElementPosition(el),isVisible="none"!==styles.display&&"collapse"!==styles.visibility&&(cssKnows||!!rect&&(hasCssHeight||rect.height>0)&&(hasCssWidth||rect.width>0)&&(hasCssTop||rect.top>=0)&&(hasCssLeft||rect.left>=0));return isVisible},_clearTimeoutsAndPolling=function(){_clearTimeout(_flashCheckTimeout),_flashCheckTimeout=0,_clearInterval(_swfFallbackCheckInterval),_swfFallbackCheckInterval=0},_reposition=function(){var htmlBridge;if(_currentElement&&(htmlBridge=_getHtmlBridge(_flashState.bridge))){var pos=_getElementPosition(_currentElement);_extend(htmlBridge.style,{width:pos.width+"px",height:pos.height+"px",top:pos.top+"px",left:pos.left+"px",zIndex:""+_getSafeZIndex(_globalConfig.zIndex)})}},_setHandCursor=function(enabled){_flashState.ready===!0&&(_flashState.bridge&&"function"==typeof _flashState.bridge.setHandCursor?_flashState.bridge.setHandCursor(enabled):_flashState.ready=!1)},_getSafeZIndex=function(val){if(/^(?:auto|inherit)$/.test(val))return val;var zIndex;return"number"!=typeof val||_isNaN(val)?"string"==typeof val&&(zIndex=_getSafeZIndex(_parseInt(val,10))):zIndex=val,"number"==typeof zIndex?zIndex:"auto"},_detectSandbox=function(doNotReassessFlashSupport){var effectiveScriptOrigin,frame,frameError,previousState=_flashState.sandboxed,isSandboxed=null;if(doNotReassessFlashSupport=doNotReassessFlashSupport===!0,_pageIsFramed===!1)isSandboxed=!1;else{try{frame=window.frameElement||null}catch(e){frameError={name:e.name,message:e.message}}if(frame&&1===frame.nodeType&&"IFRAME"===frame.nodeName)try{isSandboxed=frame.hasAttribute("sandbox")}catch(e){isSandboxed=null}else{try{effectiveScriptOrigin=document.domain||null}catch(e){effectiveScriptOrigin=null}(null===effectiveScriptOrigin||frameError&&"SecurityError"===frameError.name&&/(^|[\s\(\[@])sandbox(es|ed|ing|[\s\.,!\)\]@]|$)/.test(frameError.message.toLowerCase()))&&(isSandboxed=!0)}}return _flashState.sandboxed=isSandboxed,previousState===isSandboxed||doNotReassessFlashSupport||_detectFlashSupport(_ActiveXObject),isSandboxed},_detectFlashSupport=function(ActiveXObject){function parseFlashVersion(desc){var matches=desc.match(/[\d]+/g);return matches.length=3,matches.join(".")}function isPepperFlash(flashPlayerFileName){return!!flashPlayerFileName&&(flashPlayerFileName=flashPlayerFileName.toLowerCase())&&(/^(pepflashplayer\.dll|libpepflashplayer\.so|pepperflashplayer\.plugin)$/.test(flashPlayerFileName)||"chrome.plugin"===flashPlayerFileName.slice(-13))}function inspectPlugin(plugin){plugin&&(hasFlash=!0,plugin.version&&(flashVersion=parseFlashVersion(plugin.version)),!flashVersion&&plugin.description&&(flashVersion=parseFlashVersion(plugin.description)),plugin.filename&&(isPPAPI=isPepperFlash(plugin.filename)))}var plugin,ax,mimeType,hasFlash=!1,isActiveX=!1,isPPAPI=!1,flashVersion="";if(_navigator.plugins&&_navigator.plugins.length)plugin=_navigator.plugins["Shockwave Flash"],inspectPlugin(plugin),_navigator.plugins["Shockwave Flash 2.0"]&&(hasFlash=!0,flashVersion="2.0.0.11");else if(_navigator.mimeTypes&&_navigator.mimeTypes.length)mimeType=_navigator.mimeTypes["application/x-shockwave-flash"],plugin=mimeType&&mimeType.enabledPlugin,inspectPlugin(plugin);else if("undefined"!=typeof ActiveXObject){isActiveX=!0;try{ax=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),hasFlash=!0,flashVersion=parseFlashVersion(ax.GetVariable("$version"))}catch(e1){try{ax=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),hasFlash=!0,flashVersion="6.0.21"}catch(e2){try{ax=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),hasFlash=!0,flashVersion=parseFlashVersion(ax.GetVariable("$version"))}catch(e3){isActiveX=!1}}}}_flashState.disabled=hasFlash!==!0,_flashState.outdated=flashVersion&&_parseFloat(flashVersion)<_parseFloat(_minimumFlashVersion),_flashState.version=flashVersion||"0.0.0",_flashState.pluginType=isPPAPI?"pepper":isActiveX?"activex":hasFlash?"netscape":"unknown"};_detectFlashSupport(_ActiveXObject),_detectSandbox(!0);var ZeroClipboard=function(){return this instanceof ZeroClipboard?void("function"==typeof ZeroClipboard._createClient&&ZeroClipboard._createClient.apply(this,_args(arguments))):new ZeroClipboard};_defineProperty(ZeroClipboard,"version",{value:"2.2.0",writable:!1,configurable:!0,enumerable:!0}),ZeroClipboard.config=function(){return _config.apply(this,_args(arguments))},ZeroClipboard.state=function(){return _state.apply(this,_args(arguments))},ZeroClipboard.isFlashUnusable=function(){return _isFlashUnusable.apply(this,_args(arguments))},ZeroClipboard.on=function(){return _on.apply(this,_args(arguments))},ZeroClipboard.off=function(){return _off.apply(this,_args(arguments))},ZeroClipboard.handlers=function(){return _listeners.apply(this,_args(arguments))},ZeroClipboard.emit=function(){return _emit.apply(this,_args(arguments))},ZeroClipboard.create=function(){return _create.apply(this,_args(arguments))},ZeroClipboard.destroy=function(){return _destroy.apply(this,_args(arguments))},ZeroClipboard.setData=function(){return _setData.apply(this,_args(arguments))},ZeroClipboard.clearData=function(){return _clearData.apply(this,_args(arguments))},ZeroClipboard.getData=function(){return _getData.apply(this,_args(arguments))},ZeroClipboard.focus=ZeroClipboard.activate=function(){return _focus.apply(this,_args(arguments))},ZeroClipboard.blur=ZeroClipboard.deactivate=function(){return _blur.apply(this,_args(arguments))},ZeroClipboard.activeElement=function(){return _activeElement.apply(this,_args(arguments))};var _clientIdCounter=0,_clientMeta={},_elementIdCounter=0,_elementMeta={},_mouseHandlers={};_extend(_globalConfig,{autoActivate:!0});var _clientConstructor=function(elements){var client=this;client.id=""+_clientIdCounter++,_clientMeta[client.id]={instance:client,elements:[],handlers:{}},elements&&client.clip(elements),ZeroClipboard.on("*",function(event){return client.emit(event)}),ZeroClipboard.on("destroy",function(){client.destroy()}),ZeroClipboard.create()},_clientOn=function(eventType,listener){var i,len,events,added={},meta=_clientMeta[this.id],handlers=meta&&meta.handlers;if(!meta)throw new Error("Attempted to add new listener(s) to a destroyed ZeroClipboard client instance");if("string"==typeof eventType&&eventType)events=eventType.toLowerCase().split(/\s+/);else if("object"==typeof eventType&&eventType&&"undefined"==typeof listener)for(i in eventType)_hasOwn.call(eventType,i)&&"string"==typeof i&&i&&"function"==typeof eventType[i]&&this.on(i,eventType[i]);if(events&&events.length){for(i=0,len=events.length;i<len;i++)eventType=events[i].replace(/^on/,""),added[eventType]=!0,handlers[eventType]||(handlers[eventType]=[]),handlers[eventType].push(listener);if(added.ready&&_flashState.ready&&this.emit({type:"ready",client:this}),added.error){for(i=0,len=_flashStateErrorNames.length;i<len;i++)if(_flashState[_flashStateErrorNames[i].replace(/^flash-/,"")]){this.emit({type:"error",name:_flashStateErrorNames[i],client:this});break}_zcSwfVersion!==undefined&&ZeroClipboard.version!==_zcSwfVersion&&this.emit({type:"error",name:"version-mismatch",jsVersion:ZeroClipboard.version,swfVersion:_zcSwfVersion})}}return this},_clientOff=function(eventType,listener){var i,len,foundIndex,events,perEventHandlers,meta=_clientMeta[this.id],handlers=meta&&meta.handlers;if(!handlers)return this;if(0===arguments.length)events=_keys(handlers);else if("string"==typeof eventType&&eventType)events=eventType.split(/\s+/);else if("object"==typeof eventType&&eventType&&"undefined"==typeof listener)for(i in eventType)_hasOwn.call(eventType,i)&&"string"==typeof i&&i&&"function"==typeof eventType[i]&&this.off(i,eventType[i]);if(events&&events.length)for(i=0,len=events.length;i<len;i++)if(eventType=events[i].toLowerCase().replace(/^on/,""),perEventHandlers=handlers[eventType],perEventHandlers&&perEventHandlers.length)if(listener)for(foundIndex=perEventHandlers.indexOf(listener);foundIndex!==-1;)perEventHandlers.splice(foundIndex,1),foundIndex=perEventHandlers.indexOf(listener,foundIndex);else perEventHandlers.length=0;return this},_clientListeners=function(eventType){var copy=null,handlers=_clientMeta[this.id]&&_clientMeta[this.id].handlers;return handlers&&(copy="string"==typeof eventType&&eventType?handlers[eventType]?handlers[eventType].slice(0):[]:_deepCopy(handlers)),copy},_clientEmit=function(event){if(_clientShouldEmit.call(this,event)){"object"==typeof event&&event&&"string"==typeof event.type&&event.type&&(event=_extend({},event));var eventCopy=_extend({},_createEvent(event),{client:this});_clientDispatchCallbacks.call(this,eventCopy)}return this},_clientClip=function(elements){if(!_clientMeta[this.id])throw new Error("Attempted to clip element(s) to a destroyed ZeroClipboard client instance");elements=_prepClip(elements);for(var i=0;i<elements.length;i++)if(_hasOwn.call(elements,i)&&elements[i]&&1===elements[i].nodeType){elements[i].zcClippingId?_elementMeta[elements[i].zcClippingId].indexOf(this.id)===-1&&_elementMeta[elements[i].zcClippingId].push(this.id):(elements[i].zcClippingId="zcClippingId_"+_elementIdCounter++,_elementMeta[elements[i].zcClippingId]=[this.id],_globalConfig.autoActivate===!0&&_addMouseHandlers(elements[i]));var clippedElements=_clientMeta[this.id]&&_clientMeta[this.id].elements;clippedElements.indexOf(elements[i])===-1&&clippedElements.push(elements[i])}return this},_clientUnclip=function(elements){var meta=_clientMeta[this.id];if(!meta)return this;var arrayIndex,clippedElements=meta.elements;elements="undefined"==typeof elements?clippedElements.slice(0):_prepClip(elements);for(var i=elements.length;i--;)if(_hasOwn.call(elements,i)&&elements[i]&&1===elements[i].nodeType){for(arrayIndex=0;(arrayIndex=clippedElements.indexOf(elements[i],arrayIndex))!==-1;)clippedElements.splice(arrayIndex,1);var clientIds=_elementMeta[elements[i].zcClippingId];if(clientIds){for(arrayIndex=0;(arrayIndex=clientIds.indexOf(this.id,arrayIndex))!==-1;)clientIds.splice(arrayIndex,1);0===clientIds.length&&(_globalConfig.autoActivate===!0&&_removeMouseHandlers(elements[i]),delete elements[i].zcClippingId)}}return this},_clientElements=function(){var meta=_clientMeta[this.id];return meta&&meta.elements?meta.elements.slice(0):[]},_clientDestroy=function(){_clientMeta[this.id]&&(this.unclip(),this.off(),delete _clientMeta[this.id])},_clientShouldEmit=function(event){if(!event||!event.type)return!1;if(event.client&&event.client!==this)return!1;var meta=_clientMeta[this.id],clippedEls=meta&&meta.elements,hasClippedEls=!!clippedEls&&clippedEls.length>0,goodTarget=!event.target||hasClippedEls&&clippedEls.indexOf(event.target)!==-1,goodRelTarget=event.relatedTarget&&hasClippedEls&&clippedEls.indexOf(event.relatedTarget)!==-1,goodClient=event.client&&event.client===this;return!(!meta||!(goodTarget||goodRelTarget||goodClient))},_clientDispatchCallbacks=function(event){var meta=_clientMeta[this.id];if("object"==typeof event&&event&&event.type&&meta){var async=_shouldPerformAsync(event),wildcardTypeHandlers=meta&&meta.handlers["*"]||[],specificTypeHandlers=meta&&meta.handlers[event.type]||[],handlers=wildcardTypeHandlers.concat(specificTypeHandlers);if(handlers&&handlers.length){var i,len,func,context,eventCopy,originalContext=this;for(i=0,len=handlers.length;i<len;i++)func=handlers[i],context=originalContext,"string"==typeof func&&"function"==typeof _window[func]&&(func=_window[func]),"object"==typeof func&&func&&"function"==typeof func.handleEvent&&(context=func,func=func.handleEvent),"function"==typeof func&&(eventCopy=_extend({},event),_dispatchCallback(func,context,[eventCopy],async))}}},_prepClip=function(elements){return"string"==typeof elements&&(elements=[]),"number"!=typeof elements.length?[elements]:elements},_addMouseHandlers=function(element){if(element&&1===element.nodeType){var _suppressMouseEvents=function(event){(event||(event=_window.event))&&("js"!==event._source&&(event.stopImmediatePropagation(),event.preventDefault()),delete event._source)},_elementMouseOver=function(event){(event||(event=_window.event))&&(_suppressMouseEvents(event),ZeroClipboard.focus(element))};element.addEventListener("mouseover",_elementMouseOver,!1),element.addEventListener("mouseout",_suppressMouseEvents,!1),element.addEventListener("mouseenter",_suppressMouseEvents,!1),element.addEventListener("mouseleave",_suppressMouseEvents,!1),element.addEventListener("mousemove",_suppressMouseEvents,!1),_mouseHandlers[element.zcClippingId]={mouseover:_elementMouseOver,mouseout:_suppressMouseEvents,mouseenter:_suppressMouseEvents,mouseleave:_suppressMouseEvents,mousemove:_suppressMouseEvents}}},_removeMouseHandlers=function(element){if(element&&1===element.nodeType){var mouseHandlers=_mouseHandlers[element.zcClippingId];if("object"==typeof mouseHandlers&&mouseHandlers){for(var key,val,mouseEvents=["move","leave","enter","out","over"],i=0,len=mouseEvents.length;i<len;i++)key="mouse"+mouseEvents[i],val=mouseHandlers[key],"function"==typeof val&&element.removeEventListener(key,val,!1);delete _mouseHandlers[element.zcClippingId]}}};ZeroClipboard._createClient=function(){_clientConstructor.apply(this,_args(arguments))},ZeroClipboard.prototype.on=function(){return _clientOn.apply(this,_args(arguments))},ZeroClipboard.prototype.off=function(){return _clientOff.apply(this,_args(arguments))},ZeroClipboard.prototype.handlers=function(){return _clientListeners.apply(this,_args(arguments))},ZeroClipboard.prototype.emit=function(){return _clientEmit.apply(this,_args(arguments))},ZeroClipboard.prototype.clip=function(){return _clientClip.apply(this,_args(arguments))},ZeroClipboard.prototype.unclip=function(){return _clientUnclip.apply(this,_args(arguments))},ZeroClipboard.prototype.elements=function(){return _clientElements.apply(this,_args(arguments))},ZeroClipboard.prototype.destroy=function(){return _clientDestroy.apply(this,_args(arguments))},ZeroClipboard.prototype.setText=function(text){if(!_clientMeta[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return ZeroClipboard.setData("text/plain",text),this},ZeroClipboard.prototype.setHtml=function(html){if(!_clientMeta[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return ZeroClipboard.setData("text/html",html),this},ZeroClipboard.prototype.setRichText=function(richText){if(!_clientMeta[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return ZeroClipboard.setData("application/rtf",richText),this},ZeroClipboard.prototype.setData=function(){if(!_clientMeta[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return ZeroClipboard.setData.apply(this,_args(arguments)),this},ZeroClipboard.prototype.clearData=function(){if(!_clientMeta[this.id])throw new Error("Attempted to clear pending clipboard data from a destroyed ZeroClipboard client instance");return ZeroClipboard.clearData.apply(this,_args(arguments)),this},ZeroClipboard.prototype.getData=function(){if(!_clientMeta[this.id])throw new Error("Attempted to get pending clipboard data from a destroyed ZeroClipboard client instance");return ZeroClipboard.getData.apply(this,_args(arguments))},"function"==typeof define&&define.amd?define(function(){return ZeroClipboard}):"object"==typeof module&&module&&"object"==typeof module.exports&&module.exports?module.exports=ZeroClipboard:window.ZeroClipboard=ZeroClipboard}(function(){return this||window}()),!function(a,b){"use strict";b.module("ngClipboard",[]).provider("ngClip",function(){var a=this;return this.path="//cdnjs.cloudflare.com/ajax/libs/zeroclipboard/2.1.6/ZeroClipboard.swf",
{setPath:function(b){a.path=b},setConfig:function(b){a.config=b},$get:function(){return{path:a.path,config:a.config}}}}).run(["ngClip",function(a){var c={swfPath:a.path,trustedDomains:["*"],allowScriptAccess:"always",forceHandCursor:!0};ZeroClipboard.config(b.extend(c,a.config||{}))}]).directive("clipCopy",["ngClip",function(){return{scope:{clipCopy:"&",clipClick:"&",clipClickFallback:"&"},restrict:"A",link:function(a,c,d){if(ZeroClipboard.isFlashUnusable())return void c.bind("click",function(b){a.$apply(a.clipClickFallback({$event:b,copy:a.$eval(a.clipCopy)}))});var e=new ZeroClipboard(c);""===d.clipCopy&&(a.clipCopy=function(){return c[0].previousElementSibling.innerText}),e.on("ready",function(){e.on("copy",function(b){var c=b.clipboardData;c.setData(d.clipCopyMimeType||"text/plain",a.$eval(a.clipCopy))}),e.on("aftercopy",function(){b.isDefined(d.clipClick)&&a.$apply(a.clipClick)}),a.$on("$destroy",function(){e.destroy()})})}}}])}(window,window.angular),angular.module("ui.alias",[]).config(["$compileProvider","uiAliasConfig",function($compileProvider,uiAliasConfig){"use strict";uiAliasConfig=uiAliasConfig||{},angular.forEach(uiAliasConfig,function(config,alias){angular.isString(config)&&(config={replace:!0,template:config}),$compileProvider.directive(alias,function(){return config})})}]),angular.module("ui.event",[]).directive("uiEvent",["$parse",function($parse){"use strict";return function($scope,elm,attrs){var events=$scope.$eval(attrs.uiEvent);angular.forEach(events,function(uiEvent,eventName){var fn=$parse(uiEvent);elm.bind(eventName,function(evt){var params=Array.prototype.slice.call(arguments);params=params.splice(1),fn($scope,{$event:evt,$params:params}),$scope.$$phase||$scope.$apply()})})}}]),angular.module("ui.format",[]).filter("format",function(){"use strict";return function(value,replace){var target=value;if(angular.isString(target)&&void 0!==replace)if(angular.isArray(replace)||angular.isObject(replace)||(replace=[replace]),angular.isArray(replace)){var rlen=replace.length,rfx=function(str,i){return i=parseInt(i,10),i>=0&&i<rlen?replace[i]:str};target=target.replace(/\$([0-9]+)/g,rfx)}else angular.forEach(replace,function(value,key){target=target.split(":"+key).join(value)});return target}}),angular.module("ui.highlight",[]).filter("highlight",function(){"use strict";return function(text,search,caseSensitive){return text&&(search||angular.isNumber(search))?(text=text.toString(),search=search.toString(),caseSensitive?text.split(search).join('<span class="ui-match">'+search+"</span>"):text.replace(new RegExp(search,"gi"),'<span class="ui-match">$&</span>')):text}}),angular.module("ui.include",[]).directive("uiInclude",["$http","$templateCache","$anchorScroll","$compile",function($http,$templateCache,$anchorScroll,$compile){"use strict";return{restrict:"ECA",terminal:!0,compile:function(element,attr){var srcExp=attr.uiInclude||attr.src,fragExp=attr.fragment||"",onloadExp=attr.onload||"",autoScrollExp=attr.autoscroll;return function(scope,element){function ngIncludeWatchAction(){var thisChangeId=++changeCounter,src=scope.$eval(srcExp),fragment=scope.$eval(fragExp);src?$http.get(src,{cache:$templateCache}).success(function(response){if(thisChangeId===changeCounter){childScope&&childScope.$destroy(),childScope=scope.$new();var contents;contents=fragment?angular.element("<div/>").html(response).find(fragment):angular.element("<div/>").html(response).contents(),element.html(contents),$compile(contents)(childScope),!angular.isDefined(autoScrollExp)||autoScrollExp&&!scope.$eval(autoScrollExp)||$anchorScroll(),childScope.$emit("$includeContentLoaded"),scope.$eval(onloadExp)}}).error(function(){thisChangeId===changeCounter&&clearContent()}):clearContent()}var childScope,changeCounter=0,clearContent=function(){childScope&&(childScope.$destroy(),childScope=null),element.html("")};scope.$watch(fragExp,ngIncludeWatchAction),scope.$watch(srcExp,ngIncludeWatchAction)}}}}]),angular.module("ui.indeterminate",[]).directive("uiIndeterminate",[function(){"use strict";return{compile:function(tElm,tAttrs){return tAttrs.type&&"checkbox"===tAttrs.type.toLowerCase()?function($scope,elm,attrs){$scope.$watch(attrs.uiIndeterminate,function(newVal){elm[0].indeterminate=!!newVal})}:angular.noop}}}]),angular.module("ui.inflector",[]).filter("inflector",function(){"use strict";function tokenize(text){return text=text.replace(/([A-Z])|([\-|\_])/g,function(_,$1){return" "+($1||"")}),text.replace(/\s\s+/g," ").trim().toLowerCase().split(" ")}function capitalizeTokens(tokens){var result=[];return angular.forEach(tokens,function(token){result.push(token.charAt(0).toUpperCase()+token.substr(1))}),result}var inflectors={humanize:function(value){return capitalizeTokens(tokenize(value)).join(" ")},underscore:function(value){return tokenize(value).join("_")},variable:function(value){return value=tokenize(value),value=value[0]+capitalizeTokens(value.slice(1)).join("")}};return function(text,inflector){return inflector!==!1&&angular.isString(text)?(inflector=inflector||"humanize",inflectors[inflector](text)):text}}),angular.module("ui.jq",[]).value("uiJqConfig",{}).directive("uiJq",["uiJqConfig","$timeout",function(uiJqConfig,$timeout){"use strict";return{restrict:"A",compile:function(tElm,tAttrs){if(!angular.isFunction(tElm[tAttrs.uiJq]))throw new Error('ui-jq: The "'+tAttrs.uiJq+'" function does not exist');var options=uiJqConfig&&uiJqConfig[tAttrs.uiJq];return function(scope,elm,attrs){function createLinkOptions(){var linkOptions=[];return attrs.uiOptions?(linkOptions=scope.$eval("["+attrs.uiOptions+"]"),angular.isObject(options)&&angular.isObject(linkOptions[0])&&(linkOptions[0]=angular.extend({},options,linkOptions[0]))):options&&(linkOptions=[options]),linkOptions}function callPlugin(){$timeout(function(){elm[attrs.uiJq].apply(elm,createLinkOptions())},0,!1)}attrs.ngModel&&elm.is("select,input,textarea")&&elm.bind("change",function(){elm.trigger("input")}),attrs.uiRefresh&&scope.$watch(attrs.uiRefresh,function(){callPlugin()}),callPlugin()}}}}]),angular.module("ui.keypress",[]).factory("keypressHelper",["$parse",function($parse){"use strict";var keysByCode={8:"backspace",9:"tab",13:"enter",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete"},capitaliseFirstLetter=function(string){return string.charAt(0).toUpperCase()+string.slice(1)};return function(mode,scope,elm,attrs){var params,combinations=[];params=scope.$eval(attrs["ui"+capitaliseFirstLetter(mode)]),angular.forEach(params,function(v,k){var combination,expression;expression=$parse(v),angular.forEach(k.split(" "),function(variation){combination={expression:expression,keys:{}},angular.forEach(variation.split("-"),function(value){combination.keys[value]=!0}),combinations.push(combination)})}),elm.bind(mode,function(event){var metaPressed=!(!event.metaKey||event.ctrlKey),altPressed=!!event.altKey,ctrlPressed=!!event.ctrlKey,shiftPressed=!!event.shiftKey,keyCode=event.keyCode;"keypress"===mode&&!shiftPressed&&keyCode>=97&&keyCode<=122&&(keyCode-=32),angular.forEach(combinations,function(combination){var mainKeyPressed=combination.keys[keysByCode[keyCode]]||combination.keys[keyCode.toString()],metaRequired=!!combination.keys.meta,altRequired=!!combination.keys.alt,ctrlRequired=!!combination.keys.ctrl,shiftRequired=!!combination.keys.shift;mainKeyPressed&&metaRequired===metaPressed&&altRequired===altPressed&&ctrlRequired===ctrlPressed&&shiftRequired===shiftPressed&&scope.$apply(function(){combination.expression(scope,{$event:event})})})})}}]),angular.module("ui.keypress").directive("uiKeydown",["keypressHelper",function(keypressHelper){"use strict";return{link:function(scope,elm,attrs){keypressHelper("keydown",scope,elm,attrs)}}}]),angular.module("ui.keypress").directive("uiKeypress",["keypressHelper",function(keypressHelper){"use strict";return{link:function(scope,elm,attrs){keypressHelper("keypress",scope,elm,attrs)}}}]),angular.module("ui.keypress").directive("uiKeyup",["keypressHelper",function(keypressHelper){"use strict";return{link:function(scope,elm,attrs){keypressHelper("keyup",scope,elm,attrs)}}}]),angular.module("ui.mask",[]).value("uiMaskConfig",{maskDefinitions:{9:/\d/,A:/[a-zA-Z]/,"*":/[a-zA-Z0-9]/},clearOnBlur:!0}).directive("uiMask",["uiMaskConfig","$parse",function(maskConfig,$parse){"use strict";return{priority:100,require:"ngModel",restrict:"A",compile:function(){var options=maskConfig;return function(scope,iElement,iAttrs,controller){function initialize(maskAttr){return angular.isDefined(maskAttr)?(processRawMask(maskAttr),maskProcessed?(initializeElement(),bindEventListeners(),!0):uninitialize()):uninitialize()}function initPlaceholder(placeholderAttr){angular.isDefined(placeholderAttr)&&(maskPlaceholder=placeholderAttr,maskProcessed&&eventHandler())}function formatter(fromModelValue){return maskProcessed?(value=unmaskValue(fromModelValue||""),isValid=validateValue(value),controller.$setValidity("mask",isValid),isValid&&value.length?maskValue(value):void 0):fromModelValue}function parser(fromViewValue){return maskProcessed?(value=unmaskValue(fromViewValue||""),isValid=validateValue(value),controller.$viewValue=value.length?maskValue(value):"",controller.$setValidity("mask",isValid),""===value&&iAttrs.required&&controller.$setValidity("required",!controller.$error.required),isValid?value:void 0):fromViewValue}function uninitialize(){return maskProcessed=!1,unbindEventListeners(),angular.isDefined(originalPlaceholder)?iElement.attr("placeholder",originalPlaceholder):iElement.removeAttr("placeholder"),angular.isDefined(originalMaxlength)?iElement.attr("maxlength",originalMaxlength):iElement.removeAttr("maxlength"),iElement.val(controller.$modelValue),controller.$viewValue=controller.$modelValue,!1}function initializeElement(){value=oldValueUnmasked=unmaskValue(controller.$viewValue||""),valueMasked=oldValue=maskValue(value),isValid=validateValue(value);var viewValue=isValid&&value.length?valueMasked:"";iAttrs.maxlength&&iElement.attr("maxlength",2*maskCaretMap[maskCaretMap.length-1]),iElement.attr("placeholder",maskPlaceholder),iElement.val(viewValue),controller.$viewValue=viewValue}function bindEventListeners(){eventsBound||(iElement.bind("blur",blurHandler),iElement.bind("mousedown mouseup",mouseDownUpHandler),iElement.bind("input keyup click focus",eventHandler),eventsBound=!0)}function unbindEventListeners(){eventsBound&&(iElement.unbind("blur",blurHandler),iElement.unbind("mousedown",mouseDownUpHandler),iElement.unbind("mouseup",mouseDownUpHandler),iElement.unbind("input",eventHandler),iElement.unbind("keyup",eventHandler),iElement.unbind("click",eventHandler),iElement.unbind("focus",eventHandler),eventsBound=!1)}function validateValue(value){return!value.length||value.length>=minRequiredLength}function unmaskValue(value){var valueUnmasked="",maskPatternsCopy=maskPatterns.slice();return value=value.toString(),angular.forEach(maskComponents,function(component){value=value.replace(component,"")}),angular.forEach(value.split(""),function(chr){maskPatternsCopy.length&&maskPatternsCopy[0].test(chr)&&(valueUnmasked+=chr,maskPatternsCopy.shift())}),valueUnmasked}function maskValue(unmaskedValue){var valueMasked="",maskCaretMapCopy=maskCaretMap.slice();return angular.forEach(maskPlaceholder.split(""),function(chr,i){unmaskedValue.length&&i===maskCaretMapCopy[0]?(valueMasked+=unmaskedValue.charAt(0)||"_",unmaskedValue=unmaskedValue.substr(1),maskCaretMapCopy.shift()):valueMasked+=chr}),valueMasked}function getPlaceholderChar(i){var placeholder=iAttrs.placeholder;return"undefined"!=typeof placeholder&&placeholder[i]?placeholder[i]:"_"}function getMaskComponents(){return maskPlaceholder.replace(/[_]+/g,"_").replace(/([^_]+)([a-zA-Z0-9])([^_])/g,"$1$2_$3").split("_")}function processRawMask(mask){var characterCount=0;if(maskCaretMap=[],maskPatterns=[],maskPlaceholder="","string"==typeof mask){minRequiredLength=0;var isOptional=!1,numberOfOptionalCharacters=0,splitMask=mask.split("");angular.forEach(splitMask,function(chr,i){linkOptions.maskDefinitions[chr]?(maskCaretMap.push(characterCount),maskPlaceholder+=getPlaceholderChar(i-numberOfOptionalCharacters),maskPatterns.push(linkOptions.maskDefinitions[chr]),characterCount++,isOptional||minRequiredLength++):"?"===chr?(isOptional=!0,numberOfOptionalCharacters++):(maskPlaceholder+=chr,characterCount++)})}maskCaretMap.push(maskCaretMap.slice().pop()+1),maskComponents=getMaskComponents(),maskProcessed=maskCaretMap.length>1}function blurHandler(){linkOptions.clearOnBlur&&(oldCaretPosition=0,oldSelectionLength=0,isValid&&0!==value.length||(valueMasked="",iElement.val(""),scope.$apply(function(){controller.$setViewValue("")})))}function mouseDownUpHandler(e){"mousedown"===e.type?iElement.bind("mouseout",mouseoutHandler):iElement.unbind("mouseout",mouseoutHandler)}function mouseoutHandler(){oldSelectionLength=getSelectionLength(this),iElement.unbind("mouseout",mouseoutHandler)}function eventHandler(e){e=e||{};var eventWhich=e.which,eventType=e.type;if(16!==eventWhich&&91!==eventWhich){var valMasked,val=iElement.val(),valOld=oldValue,valUnmasked=unmaskValue(val),valUnmaskedOld=oldValueUnmasked,valAltered=!1,caretPos=getCaretPosition(this)||0,caretPosOld=oldCaretPosition||0,caretPosDelta=caretPos-caretPosOld,caretPosMin=maskCaretMap[0],caretPosMax=maskCaretMap[valUnmasked.length]||maskCaretMap.slice().shift(),selectionLenOld=oldSelectionLength||0,isSelected=getSelectionLength(this)>0,wasSelected=selectionLenOld>0,isAddition=val.length>valOld.length||selectionLenOld&&val.length>valOld.length-selectionLenOld,isDeletion=val.length<valOld.length||selectionLenOld&&val.length===valOld.length-selectionLenOld,isSelection=eventWhich>=37&&eventWhich<=40&&e.shiftKey,isKeyLeftArrow=37===eventWhich,isKeyBackspace=8===eventWhich||"keyup"!==eventType&&isDeletion&&caretPosDelta===-1,isKeyDelete=46===eventWhich||"keyup"!==eventType&&isDeletion&&0===caretPosDelta&&!wasSelected,caretBumpBack=(isKeyLeftArrow||isKeyBackspace||"click"===eventType)&&caretPos>caretPosMin;if(oldSelectionLength=getSelectionLength(this),!isSelection&&(!isSelected||"click"!==eventType&&"keyup"!==eventType)){if("input"===eventType&&isDeletion&&!wasSelected&&valUnmasked===valUnmaskedOld){for(;isKeyBackspace&&caretPos>caretPosMin&&!isValidCaretPosition(caretPos);)caretPos--;for(;isKeyDelete&&caretPos<caretPosMax&&maskCaretMap.indexOf(caretPos)===-1;)caretPos++;var charIndex=maskCaretMap.indexOf(caretPos);valUnmasked=valUnmasked.substring(0,charIndex)+valUnmasked.substring(charIndex+1),valAltered=!0}for(valMasked=maskValue(valUnmasked),oldValue=valMasked,oldValueUnmasked=valUnmasked,iElement.val(valMasked),valAltered&&scope.$apply(function(){controller.$setViewValue(valUnmasked)}),isAddition&&caretPos<=caretPosMin&&(caretPos=caretPosMin+1),caretBumpBack&&caretPos--,caretPos=caretPos>caretPosMax?caretPosMax:caretPos<caretPosMin?caretPosMin:caretPos;!isValidCaretPosition(caretPos)&&caretPos>caretPosMin&&caretPos<caretPosMax;)caretPos+=caretBumpBack?-1:1;(caretBumpBack&&caretPos<caretPosMax||isAddition&&!isValidCaretPosition(caretPosOld))&&caretPos++,oldCaretPosition=caretPos,setCaretPosition(this,caretPos)}}}function isValidCaretPosition(pos){return maskCaretMap.indexOf(pos)>-1}function getCaretPosition(input){if(!input)return 0;if(void 0!==input.selectionStart)return input.selectionStart;if(document.selection&&iElement.is(":focus")){input.focus();var selection=document.selection.createRange();return selection.moveStart("character",input.value?-input.value.length:0),selection.text.length}return 0}function setCaretPosition(input,pos){if(!input)return 0;if(0!==input.offsetWidth&&0!==input.offsetHeight)if(input.setSelectionRange)iElement.is(":focus")&&(input.focus(),input.setSelectionRange(pos,pos));else if(input.createTextRange){var range=input.createTextRange();range.collapse(!0),range.moveEnd("character",pos),range.moveStart("character",pos),range.select()}}function getSelectionLength(input){return input?void 0!==input.selectionStart?input.selectionEnd-input.selectionStart:document.selection?document.selection.createRange().text.length:0:0}var maskCaretMap,maskPatterns,maskPlaceholder,maskComponents,minRequiredLength,value,valueMasked,isValid,oldValue,oldValueUnmasked,oldCaretPosition,oldSelectionLength,maskProcessed=!1,eventsBound=!1,originalPlaceholder=iAttrs.placeholder,originalMaxlength=iAttrs.maxlength,linkOptions={};iAttrs.uiOptions?(linkOptions=scope.$eval("["+iAttrs.uiOptions+"]"),angular.isObject(linkOptions[0])&&(linkOptions=function(original,current){for(var i in original)Object.prototype.hasOwnProperty.call(original,i)&&(void 0===current[i]?current[i]=angular.copy(original[i]):angular.extend(current[i],original[i]));return current}(options,linkOptions[0]))):linkOptions=options,iAttrs.$observe("uiMask",initialize),iAttrs.$observe("placeholder",initPlaceholder);var modelViewValue=!1;iAttrs.$observe("modelViewValue",function(val){"true"===val&&(modelViewValue=!0)}),scope.$watch(iAttrs.ngModel,function(val){if(modelViewValue&&val){var model=$parse(iAttrs.ngModel);model.assign(scope,controller.$viewValue)}}),controller.$formatters.push(formatter),controller.$parsers.push(parser),iElement.bind("mousedown mouseup",mouseDownUpHandler),Array.prototype.indexOf||(Array.prototype.indexOf=function(searchElement){if(null===this)throw new TypeError;var t=Object(this),len=t.length>>>0;if(0===len)return-1;var n=0;if(arguments.length>1&&(n=Number(arguments[1]),n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n)))),n>=len)return-1;for(var k=n>=0?n:Math.max(len-Math.abs(n),0);k<len;k++)if(k in t&&t[k]===searchElement)return k;return-1})}}}}]),angular.module("ui.reset",[]).value("uiResetConfig",null).directive("uiReset",["uiResetConfig",function(uiResetConfig){"use strict";var resetValue=null;return void 0!==uiResetConfig&&(resetValue=uiResetConfig),{require:"ngModel",link:function(scope,elm,attrs,ctrl){var aElement;aElement=angular.element('<a class="ui-reset" />'),elm.wrap('<span class="ui-resetwrap" />').after(aElement),aElement.bind("click",function(e){e.preventDefault(),scope.$apply(function(){attrs.uiReset?ctrl.$setViewValue(scope.$eval(attrs.uiReset)):ctrl.$setViewValue(resetValue),ctrl.$render()})})}}}]),angular.module("ui.route",[]).directive("uiRoute",["$location","$parse",function($location,$parse){"use strict";return{restrict:"AC",scope:!0,compile:function(tElement,tAttrs){var useProperty;if(tAttrs.uiRoute)useProperty="uiRoute";else if(tAttrs.ngHref)useProperty="ngHref";else{if(!tAttrs.href)throw new Error("uiRoute missing a route or href property on "+tElement[0]);useProperty="href"}return function($scope,elm,attrs){function staticWatcher(newVal){var hash=newVal.indexOf("#");hash>-1&&(newVal=newVal.substr(hash+1)),(watcher=function(){modelSetter($scope,$location.path().indexOf(newVal)>-1)})()}function regexWatcher(newVal){var hash=newVal.indexOf("#");hash>-1&&(newVal=newVal.substr(hash+1)),(watcher=function(){var regexp=new RegExp("^"+newVal+"$",["i"]);modelSetter($scope,regexp.test($location.path()))})()}var modelSetter=$parse(attrs.ngModel||attrs.routeModel||"$uiRoute").assign,watcher=angular.noop;switch(useProperty){case"uiRoute":attrs.uiRoute?regexWatcher(attrs.uiRoute):attrs.$observe("uiRoute",regexWatcher);break;case"ngHref":attrs.ngHref?staticWatcher(attrs.ngHref):attrs.$observe("ngHref",staticWatcher);break;case"href":staticWatcher(attrs.href)}$scope.$on("$routeChangeSuccess",function(){watcher()}),$scope.$on("$stateChangeSuccess",function(){watcher()})}}}}]),angular.module("ui.scroll.jqlite",["ui.scroll"]).service("jqLiteExtras",["$log","$window",function(console,window){"use strict";return{registerFor:function(element){var convertToPx,css,getMeasurements,getStyle,getWidthHeight,isWindow,scrollTo;return css=angular.element.prototype.css,element.prototype.css=function(name,value){var elem,self;if(self=this,elem=self[0],elem&&3!==elem.nodeType&&8!==elem.nodeType&&elem.style)return css.call(self,name,value)},isWindow=function(obj){return obj&&obj.document&&obj.location&&obj.alert&&obj.setInterval},scrollTo=function(self,direction,value){var elem,method,preserve,prop,_ref;return elem=self[0],_ref={top:["scrollTop","pageYOffset","scrollLeft"],left:["scrollLeft","pageXOffset","scrollTop"]}[direction],method=_ref[0],prop=_ref[1],preserve=_ref[2],isWindow(elem)?angular.isDefined(value)?elem.scrollTo(self[preserve].call(self),value):prop in elem?elem[prop]:elem.document.documentElement[method]:angular.isDefined(value)?elem[method]=value:elem[method]},window.getComputedStyle?(getStyle=function(elem){return window.getComputedStyle(elem,null)},convertToPx=function(elem,value){return parseFloat(value)}):(getStyle=function(elem){return elem.currentStyle},convertToPx=function(elem,value){var core_pnum,left,result,rnumnonpx,rs,rsLeft,style;return core_pnum=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,rnumnonpx=new RegExp("^("+core_pnum+")(?!px)[a-z%]+$","i"),rnumnonpx.test(value)?(style=elem.style,left=style.left,rs=elem.runtimeStyle,rsLeft=rs&&rs.left,rs&&(rs.left=style.left),style.left=value,result=style.pixelLeft,style.left=left,rsLeft&&(rs.left=rsLeft),result):parseFloat(value)}),getMeasurements=function(elem,measure){var base,borderA,borderB,computedMarginA,computedMarginB,computedStyle,dirA,dirB,marginA,marginB,paddingA,paddingB,_ref;return isWindow(elem)?(base=document.documentElement[{height:"clientHeight",width:"clientWidth"}[measure]],{base:base,padding:0,border:0,margin:0}):(_ref={width:[elem.offsetWidth,"Left","Right"],height:[elem.offsetHeight,"Top","Bottom"]}[measure],base=_ref[0],dirA=_ref[1],dirB=_ref[2],computedStyle=getStyle(elem),paddingA=convertToPx(elem,computedStyle["padding"+dirA])||0,paddingB=convertToPx(elem,computedStyle["padding"+dirB])||0,borderA=convertToPx(elem,computedStyle["border"+dirA+"Width"])||0,borderB=convertToPx(elem,computedStyle["border"+dirB+"Width"])||0,computedMarginA=computedStyle["margin"+dirA],computedMarginB=computedStyle["margin"+dirB],marginA=convertToPx(elem,computedMarginA)||0,marginB=convertToPx(elem,computedMarginB)||0,{base:base,padding:paddingA+paddingB,border:borderA+borderB,margin:marginA+marginB})},getWidthHeight=function(elem,direction,measure){var computedStyle,measurements,result;return measurements=getMeasurements(elem,direction),measurements.base>0?{base:measurements.base-measurements.padding-measurements.border,outer:measurements.base,outerfull:measurements.base+measurements.margin}[measure]:(computedStyle=getStyle(elem),result=computedStyle[direction],(result<0||null===result)&&(result=elem.style[direction]||0),result=parseFloat(result)||0,{base:result-measurements.padding-measurements.border,outer:result,outerfull:result+measurements.padding+measurements.border+measurements.margin}[measure])},angular.forEach({before:function(newElem){var children,elem,i,parent,self,_i,_ref;if(self=this,elem=self[0],parent=self.parent(),children=parent.contents(),children[0]===elem)return parent.prepend(newElem);for(i=_i=1,_ref=children.length-1;1<=_ref?_i<=_ref:_i>=_ref;i=1<=_ref?++_i:--_i)if(children[i]===elem)return void angular.element(children[i-1]).after(newElem);throw new Error("invalid DOM structure "+elem.outerHTML)},height:function(value){var self;return self=this,angular.isDefined(value)?(angular.isNumber(value)&&(value+="px"),css.call(self,"height",value)):getWidthHeight(this[0],"height","base")},outerHeight:function(option){return getWidthHeight(this[0],"height",option?"outerfull":"outer")},offset:function(value){var box,doc,docElem,elem,self,win;if(self=this,arguments.length){if(void 0===value)return self;throw new Error("offset setter method is not implemented")}if(box={top:0,left:0},elem=self[0],doc=elem&&elem.ownerDocument)return docElem=doc.documentElement,null!=elem.getBoundingClientRect&&(box=elem.getBoundingClientRect()),win=doc.defaultView||doc.parentWindow,{top:box.top+(win.pageYOffset||docElem.scrollTop)-(docElem.clientTop||0),left:box.left+(win.pageXOffset||docElem.scrollLeft)-(docElem.clientLeft||0)}},scrollTop:function(value){return scrollTo(this,"top",value)},scrollLeft:function(value){return scrollTo(this,"left",value)}},function(value,key){if(!element.prototype[key])return element.prototype[key]=value})}}}]).run(["$log","$window","jqLiteExtras",function(console,window,jqLiteExtras){"use strict";if(!window.jQuery)return jqLiteExtras.registerFor(angular.element)}]),angular.module("ui.scroll",[]).directive("uiScrollViewport",["$log",function(){"use strict";return{controller:["$scope","$element",function(scope,element){return this.viewport=element,this}]}}]).directive("uiScroll",["$log","$injector","$rootScope","$timeout",function(console,$injector,$rootScope,$timeout){"use strict";return{require:["?^uiScrollViewport"],transclude:"element",priority:1e3,terminal:!0,compile:function(elementTemplate,attr,linker){return function($scope,element,$attr,controllers){var adapter,adapterOnScope,adjustBuffer,adjustRowHeight,applyUpdate,bof,bottomVisiblePos,buffer,bufferPadding,bufferSize,builder,clipBottom,clipTop,datasource,datasourceName,doAdjustment,doDelete,doInsert,doUpdate,enqueueFetch,eof,eventListener,fetch,finalize,first,getValueChain,hideElementBeforeAppend,insert,isDatasourceValid,itemName,loading,log,match,next,pending,reload,removeFromBuffer,resizeAndScrollHandler,ridActual,scrollHeight,setValueChain,shouldLoadBottom,shouldLoadTop,showElementAfterRender,topVisible,topVisiblePos,viewport,viewportScope,wheelHandler;if(log=console.debug||console.log,match=$attr.uiScroll.match(/^\s*(\w+)\s+in\s+([\w\.]+)\s*$/),!match)throw new Error("Expected uiScroll in form of '_item_ in _datasource_' but got '"+$attr.uiScroll+"'");if(itemName=match[1],datasourceName=match[2],getValueChain=function(targetScope,target){var chain;if(targetScope)return chain=target.match(/^([\w]+)\.(.+)$/),chain&&3===chain.length?getValueChain(targetScope[chain[1]],chain[2]):targetScope[target]},setValueChain=function(targetScope,target,value,doNotSet){var chain;if(targetScope&&target&&((chain=target.match(/^([\w]+)\.(.+)$/))||target.indexOf(".")===-1))return chain&&3===chain.length?(angular.isObject(targetScope[chain[1]])||doNotSet||(targetScope[chain[1]]={}),setValueChain(targetScope[chain[1]],chain[2],value,doNotSet)):angular.isObject(targetScope[target])||doNotSet?targetScope[target]=value:targetScope[target]=value},datasource=getValueChain($scope,datasourceName),isDatasourceValid=function(){return angular.isObject(datasource)&&"function"==typeof datasource.get},!isDatasourceValid()&&(datasource=$injector.get(datasourceName),!isDatasourceValid()))throw new Error(datasourceName+" is not a valid datasource");return bufferSize=Math.max(3,+$attr.bufferSize||10),bufferPadding=function(){return viewport.outerHeight()*Math.max(.1,+$attr.padding||.1)},scrollHeight=function(elem){var ref;return null!=(ref=elem[0].scrollHeight)?ref:elem[0].document.documentElement.scrollHeight},builder=null,linker($scope.$new(),function(template){var bottomPadding,createPadding,padding,repeaterType,topPadding,viewport;if(repeaterType=template[0].localName,"dl"===repeaterType)throw new Error("ui-scroll directive does not support <"+template[0].localName+"> as a repeating tag: "+template[0].outerHTML);return"li"!==repeaterType&&"tr"!==repeaterType&&(repeaterType="div"),viewport=controllers[0]&&controllers[0].viewport?controllers[0].viewport:angular.element(window),viewport.css({"overflow-y":"auto",display:"block"}),padding=function(repeaterType){var div,result,table;switch(repeaterType){case"tr":return table=angular.element("<table><tr><td><div></div></td></tr></table>"),div=table.find("div"),result=table.find("tr"),result.paddingHeight=function(){return div.height.apply(div,arguments)},result;default:return result=angular.element("<"+repeaterType+"></"+repeaterType+">"),result.paddingHeight=result.height,result}},createPadding=function(padding,element,direction){return element[{top:"before",bottom:"after"}[direction]](padding),{paddingHeight:function(){return padding.paddingHeight.apply(padding,arguments)},insert:function(element){return padding[{top:"after",bottom:"before"}[direction]](element)}}},topPadding=createPadding(padding(repeaterType),element,"top"),bottomPadding=createPadding(padding(repeaterType),element,"bottom"),$scope.$on("$destroy",function(){return template.remove()}),builder={viewport:viewport,topPadding:topPadding.paddingHeight,bottomPadding:bottomPadding.paddingHeight,append:bottomPadding.insert,prepend:topPadding.insert,bottomDataPos:function(){return scrollHeight(viewport)-bottomPadding.paddingHeight()},topDataPos:function(){return topPadding.paddingHeight()}}}),viewport=builder.viewport,viewportScope=viewport.scope()||$rootScope,topVisible=function(item){if(adapter.topVisible=item.scope[itemName],adapter.topVisibleElement=item.element,adapter.topVisibleScope=item.scope,$attr.topVisible&&setValueChain(viewportScope,$attr.topVisible,adapter.topVisible),$attr.topVisibleElement&&setValueChain(viewportScope,$attr.topVisibleElement,adapter.topVisibleElement),$attr.topVisibleScope&&setValueChain(viewportScope,$attr.topVisibleScope,adapter.topVisibleScope),"function"==typeof datasource.topVisible)return datasource.topVisible(item)},loading=function(value){if(adapter.isLoading=value,$attr.isLoading&&setValueChain($scope,$attr.isLoading,value),"function"==typeof datasource.loading)return datasource.loading(value)},ridActual=0,first=1,next=1,buffer=[],pending=[],eof=!1,bof=!1,removeFromBuffer=function(start,stop){var i,j,ref,ref1;for(i=j=ref=start,ref1=stop;ref<=ref1?j<ref1:j>ref1;i=ref<=ref1?++j:--j)buffer[i].scope.$destroy(),buffer[i].element.remove();return buffer.splice(start,stop-start)},reload=function(){return ridActual++,first=1,next=1,removeFromBuffer(0,buffer.length),builder.topPadding(0),builder.bottomPadding(0),pending=[],eof=!1,bof=!1,adjustBuffer(ridActual)},bottomVisiblePos=function(){return viewport.scrollTop()+viewport.outerHeight()},topVisiblePos=function(){return viewport.scrollTop()},shouldLoadBottom=function(){return!eof&&builder.bottomDataPos()<bottomVisiblePos()+bufferPadding()},clipBottom=function(){var bottomHeight,i,item,itemHeight,itemTop,j,newRow,overage,ref,rowTop;for(bottomHeight=0,overage=0,i=j=ref=buffer.length-1;ref<=0?j<=0:j>=0;i=ref<=0?++j:--j)if(item=buffer[i],itemTop=item.element.offset().top,newRow=rowTop!==itemTop,rowTop=itemTop,newRow&&(itemHeight=item.element.outerHeight(!0)),builder.bottomDataPos()-bottomHeight-itemHeight>bottomVisiblePos()+bufferPadding())newRow&&(bottomHeight+=itemHeight),overage++,eof=!1;else{if(newRow)break;overage++}if(overage>0)return builder.bottomPadding(builder.bottomPadding()+bottomHeight),removeFromBuffer(buffer.length-overage,buffer.length),next-=overage},shouldLoadTop=function(){return!bof&&builder.topDataPos()>topVisiblePos()-bufferPadding()},clipTop=function(){var item,itemHeight,itemTop,j,len,newRow,overage,rowTop,topHeight;for(topHeight=0,overage=0,j=0,len=buffer.length;j<len;j++)if(item=buffer[j],itemTop=item.element.offset().top,newRow=rowTop!==itemTop,rowTop=itemTop,newRow&&(itemHeight=item.element.outerHeight(!0)),builder.topDataPos()+topHeight+itemHeight<topVisiblePos()-bufferPadding())newRow&&(topHeight+=itemHeight),overage++,bof=!1;else{if(newRow)break;overage++}if(overage>0)return builder.topPadding(builder.topPadding()+topHeight),removeFromBuffer(0,overage),first+=overage},enqueueFetch=function(rid,direction){if(adapter.isLoading||loading(!0),1===pending.push(direction))return fetch(rid)},hideElementBeforeAppend=function(element){return element.displayTemp=element.css("display"),element.css("display","none")},showElementAfterRender=function(element){if(element.hasOwnProperty("displayTemp"))return element.css("display",element.displayTemp)},insert=function(index,item){var itemScope,toBeAppended,wrapper;return itemScope=$scope.$new(),itemScope[itemName]=item,toBeAppended=index>first,itemScope.$index=index,toBeAppended&&itemScope.$index--,wrapper={scope:itemScope
},linker(itemScope,function(clone){return wrapper.element=clone,toBeAppended?index===next?(hideElementBeforeAppend(clone),builder.append(clone),buffer.push(wrapper)):(buffer[index-first].element.after(clone),buffer.splice(index-first+1,0,wrapper)):(hideElementBeforeAppend(clone),builder.prepend(clone),buffer.unshift(wrapper))}),{appended:toBeAppended,wrapper:wrapper}},adjustRowHeight=function(appended,wrapper){var newHeight;return appended?builder.bottomPadding(Math.max(0,builder.bottomPadding()-wrapper.element.outerHeight(!0))):(newHeight=builder.topPadding()-wrapper.element.outerHeight(!0),newHeight>=0?builder.topPadding(newHeight):viewport.scrollTop(viewport.scrollTop()+wrapper.element.outerHeight(!0)))},doAdjustment=function(rid,finalize){var item,itemHeight,itemTop,j,len,newRow,results,rowTop,topHeight;if(shouldLoadBottom()?enqueueFetch(rid,!0):shouldLoadTop()&&enqueueFetch(rid,!1),finalize&&finalize(rid),0===pending.length){for(topHeight=0,results=[],j=0,len=buffer.length;j<len;j++){if(item=buffer[j],itemTop=item.element.offset().top,newRow=rowTop!==itemTop,rowTop=itemTop,newRow&&(itemHeight=item.element.outerHeight(!0)),!(newRow&&builder.topDataPos()+topHeight+itemHeight<topVisiblePos())){newRow&&topVisible(item);break}results.push(topHeight+=itemHeight)}return results}},adjustBuffer=function(rid,newItems,finalize){return newItems&&newItems.length?$timeout(function(){var elt,itemTop,j,k,len,len1,row,rowTop,rows;for(rows=[],j=0,len=newItems.length;j<len;j++)row=newItems[j],elt=row.wrapper.element,showElementAfterRender(elt),itemTop=elt.offset().top,rowTop!==itemTop&&(rows.push(row),rowTop=itemTop);for(k=0,len1=rows.length;k<len1;k++)row=rows[k],adjustRowHeight(row.appended,row.wrapper);return doAdjustment(rid,finalize)}):doAdjustment(rid,finalize)},finalize=function(rid,newItems){return adjustBuffer(rid,newItems,function(){return pending.shift(),0===pending.length?loading(!1):fetch(rid)})},fetch=function(rid){var direction;return direction=pending[0],direction?buffer.length&&!shouldLoadBottom()?finalize(rid):datasource.get(next,bufferSize,function(result){var item,j,len,newItems;if(!(rid&&rid!==ridActual||$scope.$$destroyed)){if(newItems=[],result.length<bufferSize&&(eof=!0,builder.bottomPadding(0)),result.length>0)for(clipTop(),j=0,len=result.length;j<len;j++)item=result[j],newItems.push(insert(++next,item));return finalize(rid,newItems)}}):buffer.length&&!shouldLoadTop()?finalize(rid):datasource.get(first-bufferSize,bufferSize,function(result){var i,j,newItems,ref;if(!(rid&&rid!==ridActual||$scope.$$destroyed)){if(newItems=[],result.length<bufferSize&&(bof=!0,builder.topPadding(0)),result.length>0)for(buffer.length&&clipBottom(),i=j=ref=result.length-1;ref<=0?j<=0:j>=0;i=ref<=0?++j:--j)newItems.unshift(insert(--first,result[i]));return finalize(rid,newItems)}})},resizeAndScrollHandler=function(){if(!$rootScope.$$phase&&!adapter.isLoading)return adjustBuffer(),$scope.$apply()},wheelHandler=function(event){var scrollTop,yMax;if(scrollTop=viewport[0].scrollTop,yMax=viewport[0].scrollHeight-viewport[0].clientHeight,0===scrollTop&&!bof||scrollTop===yMax&&!eof)return event.preventDefault()},viewport.bind("resize",resizeAndScrollHandler),viewport.bind("scroll",resizeAndScrollHandler),viewport.bind("mousewheel",wheelHandler),$scope.$watch(datasource.revision,reload),eventListener=datasource.scope?datasource.scope.$new():$scope.$new(),$scope.$on("$destroy",function(){var item,j,len;for(j=0,len=buffer.length;j<len;j++)item=buffer[j],item.scope.$destroy(),item.element.remove();return viewport.unbind("resize",resizeAndScrollHandler),viewport.unbind("scroll",resizeAndScrollHandler),viewport.unbind("mousewheel",wheelHandler)}),adapter={},adapter.isLoading=!1,applyUpdate=function(wrapper,newItems){var i,inserted,item,j,k,l,len,len1,len2,ndx,newItem,oldItemNdx;if(inserted=[],angular.isArray(newItems))if(newItems.length){if(1===newItems.length&&newItems[0]===wrapper.scope[itemName])return inserted;for(ndx=wrapper.scope.$index,oldItemNdx=ndx>first?ndx-first:1,i=j=0,len=newItems.length;j<len;i=++j)newItem=newItems[i],inserted.push(insert(ndx+i,newItem));for(removeFromBuffer(oldItemNdx,oldItemNdx+1),i=k=0,len1=buffer.length;k<len1;i=++k)item=buffer[i],item.scope.$index=first+i}else for(removeFromBuffer(wrapper.scope.$index-first,wrapper.scope.$index-first+1),next--,i=l=0,len2=buffer.length;l<len2;i=++l)item=buffer[i],item.scope.$index=first+i;return inserted},adapter.applyUpdates=function(arg1,arg2){var inserted,j,len,ref,ref1,wrapper;if(inserted=[],ridActual++,angular.isFunction(arg1))for(ref=buffer.slice(0),j=0,len=ref.length;j<len;j++)wrapper=ref[j],inserted=inserted.concat(inserted,applyUpdate(wrapper,arg1(wrapper.scope[itemName],wrapper.scope,wrapper.element)));else{if(arg1%1!==0)throw new Error("applyUpdates - "+arg1+" is not a valid index or outside of range");0<=(ref1=arg1-first)&&ref1<buffer.length&&(inserted=applyUpdate(buffer[arg1-first],arg2))}return adjustBuffer(ridActual,inserted)},$attr.adapter&&(adapterOnScope=getValueChain($scope,$attr.adapter),adapterOnScope||(setValueChain($scope,$attr.adapter,{}),adapterOnScope=getValueChain($scope,$attr.adapter)),angular.extend(adapterOnScope,adapter),adapter=adapterOnScope),doUpdate=function(locator,newItem){var fn,j,len,ref,wrapper;if(angular.isFunction(locator))for(fn=function(wrapper){return locator(wrapper.scope)},j=0,len=buffer.length;j<len;j++)wrapper=buffer[j],fn(wrapper);else 0<=(ref=locator-first-1)&&ref<buffer.length&&(buffer[locator-first-1].scope[itemName]=newItem);return null},doDelete=function(locator){var fn,i,item,j,k,l,len,len1,len2,ref,temp,wrapper;if(angular.isFunction(locator)){for(temp=[],j=0,len=buffer.length;j<len;j++)item=buffer[j],temp.unshift(item);for(fn=function(wrapper){if(locator(wrapper.scope))return removeFromBuffer(temp.length-1-i,temp.length-i),next--},i=k=0,len1=temp.length;k<len1;i=++k)wrapper=temp[i],fn(wrapper)}else 0<=(ref=locator-first-1)&&ref<buffer.length&&(removeFromBuffer(locator-first-1,locator-first),next--);for(i=l=0,len2=buffer.length;l<len2;i=++l)item=buffer[i],item.scope.$index=first+i;return adjustBuffer()},doInsert=function(locator,item){var i,inserted,j,len,ref;if(inserted=[],angular.isFunction(locator))throw new Error("not implemented - Insert with locator function");for(0<=(ref=locator-first-1)&&ref<buffer.length&&(inserted.push(insert(locator,item)),next++),i=j=0,len=buffer.length;j<len;i=++j)item=buffer[i],item.scope.$index=first+i;return adjustBuffer(null,inserted)},eventListener.$on("insert.item",function(event,locator,item){return doInsert(locator,item)}),eventListener.$on("update.items",function(event,locator,newItem){return doUpdate(locator,newItem)}),eventListener.$on("delete.items",function(event,locator){return doDelete(locator)})}}}}]),angular.module("ui.scrollfix",[]).directive("uiScrollfix",["$window",function($window){"use strict";function getWindowScrollTop(){if(angular.isDefined($window.pageYOffset))return $window.pageYOffset;var iebody=document.compatMode&&"BackCompat"!==document.compatMode?document.documentElement:document.body;return iebody.scrollTop}return{require:"^?uiScrollfixTarget",link:function(scope,elm,attrs,uiScrollfixTarget){function onScroll(){var limit=absolute?attrs.uiScrollfix:elm[0].offsetTop+shift,offset=uiScrollfixTarget?$target[0].scrollTop:getWindowScrollTop();!elm.hasClass("ui-scrollfix")&&offset>limit?(elm.addClass("ui-scrollfix"),fixLimit=limit):elm.hasClass("ui-scrollfix")&&offset<fixLimit&&elm.removeClass("ui-scrollfix")}var fixLimit,absolute=!0,shift=0,$target=uiScrollfixTarget&&uiScrollfixTarget.$element||angular.element($window);attrs.uiScrollfix?"string"==typeof attrs.uiScrollfix&&("-"===attrs.uiScrollfix.charAt(0)?(absolute=!1,shift=-parseFloat(attrs.uiScrollfix.substr(1))):"+"===attrs.uiScrollfix.charAt(0)&&(absolute=!1,shift=parseFloat(attrs.uiScrollfix.substr(1)))):absolute=!1,fixLimit=absolute?attrs.uiScrollfix:elm[0].offsetTop+shift,$target.on("scroll",onScroll),scope.$on("$destroy",function(){$target.off("scroll",onScroll)})}}}]).directive("uiScrollfixTarget",[function(){"use strict";return{controller:["$element",function($element){this.$element=$element}]}}]),angular.module("ui.showhide",[]).directive("uiShow",[function(){"use strict";return function(scope,elm,attrs){scope.$watch(attrs.uiShow,function(newVal){newVal?elm.addClass("ui-show"):elm.removeClass("ui-show")})}}]).directive("uiHide",[function(){"use strict";return function(scope,elm,attrs){scope.$watch(attrs.uiHide,function(newVal){newVal?elm.addClass("ui-hide"):elm.removeClass("ui-hide")})}}]).directive("uiToggle",[function(){"use strict";return function(scope,elm,attrs){scope.$watch(attrs.uiToggle,function(newVal){newVal?elm.removeClass("ui-hide").addClass("ui-show"):elm.removeClass("ui-show").addClass("ui-hide")})}}]),angular.module("ui.unique",[]).filter("unique",["$parse",function($parse){"use strict";return function(items,filterOn){if(filterOn===!1)return items;if((filterOn||angular.isUndefined(filterOn))&&angular.isArray(items)){var newItems=[],get=angular.isString(filterOn)?$parse(filterOn):function(item){return item},extractValueToCompare=function(item){return angular.isObject(item)?get(item):item};angular.forEach(items,function(item){for(var isDuplicate=!1,i=0;i<newItems.length;i++)if(angular.equals(extractValueToCompare(newItems[i]),extractValueToCompare(item))){isDuplicate=!0;break}isDuplicate||newItems.push(item)}),items=newItems}return items}}]),angular.module("ui.uploader",[]).service("uiUploader",uiUploader),uiUploader.$inject=["$log"],angular.module("ui.validate",[]).directive("uiValidate",function(){"use strict";return{restrict:"A",require:"ngModel",link:function(scope,elm,attrs,ctrl){function apply_watch(watch){return angular.isString(watch)?void scope.$watch(watch,function(){angular.forEach(validators,function(validatorFn){validatorFn(ctrl.$modelValue)})}):angular.isArray(watch)?void angular.forEach(watch,function(expression){scope.$watch(expression,function(){angular.forEach(validators,function(validatorFn){validatorFn(ctrl.$modelValue)})})}):void(angular.isObject(watch)&&angular.forEach(watch,function(expression,validatorKey){angular.isString(expression)&&scope.$watch(expression,function(){validators[validatorKey](ctrl.$modelValue)}),angular.isArray(expression)&&angular.forEach(expression,function(intExpression){scope.$watch(intExpression,function(){validators[validatorKey](ctrl.$modelValue)})})}))}var validateFn,validators={},validateExpr=scope.$eval(attrs.uiValidate);validateExpr&&(angular.isString(validateExpr)&&(validateExpr={validator:validateExpr}),angular.forEach(validateExpr,function(exprssn,key){validateFn=function(valueToValidate){var expression=scope.$eval(exprssn,{$value:valueToValidate});return angular.isObject(expression)&&angular.isFunction(expression.then)?(angular.isUndefined(ctrl.$pending)&&(ctrl.$pending={}),ctrl.$pending[key]=!0,expression.then(function(){ctrl.$setValidity(key,!0)},function(){ctrl.$setValidity(key,!1)}),valueToValidate):expression?(ctrl.$setValidity(key,!0),valueToValidate):(ctrl.$setValidity(key,!1),valueToValidate)},validators[key]=validateFn,ctrl.$formatters.push(validateFn),ctrl.$parsers.push(validateFn)}),attrs.uiValidateWatch&&apply_watch(scope.$eval(attrs.uiValidateWatch)))}}}),angular.module("ui.utils",["ui.event","ui.format","ui.highlight","ui.include","ui.indeterminate","ui.inflector","ui.jq","ui.keypress","ui.mask","ui.reset","ui.route","ui.scrollfix","ui.scroll","ui.scroll.jqlite","ui.showhide","ui.unique","ui.validate"]),jQuery.extend({highlight:function(node,re,nodeName,className){if(3===node.nodeType){var match=node.data.match(re);if(match){var highlight=document.createElement(nodeName||"span");highlight.className=className||"highlight";var wordNode=node.splitText(match.index);wordNode.splitText(match[0].length);var wordClone=wordNode.cloneNode(!0);return highlight.appendChild(wordClone),wordNode.parentNode.replaceChild(highlight,wordNode),1}}else if(1===node.nodeType&&node.childNodes&&!/(script|style)/i.test(node.tagName)&&(node.tagName!==nodeName.toUpperCase()||node.className!==className))for(var i=0;i<node.childNodes.length;i++)i+=jQuery.highlight(node.childNodes[i],re,nodeName,className);return 0}}),jQuery.fn.unhighlight=function(options){var settings={className:"highlight",element:"span"};return jQuery.extend(settings,options),this.find(settings.element+"."+settings.className).each(function(){var parent=this.parentNode;parent.replaceChild(this.firstChild,this),parent.normalize()}).end()},jQuery.fn.highlight=function(words,options){var settings={className:"highlight",element:"span",caseSensitive:!1,wordsOnly:!1};if(jQuery.extend(settings,options),words.constructor===String&&(words=[words]),words=jQuery.grep(words,function(word,i){return""!=word}),words=jQuery.map(words,function(word,i){return word.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}),0==words.length)return this;var flag=settings.caseSensitive?"":"i",pattern="("+words.join("|")+")";settings.wordsOnly&&(pattern="\\b"+pattern+"\\b");var re=new RegExp(pattern,flag);return this.each(function(){jQuery.highlight(this,re,settings.element,settings.className)})},function(e,t,n){function s(t,n){this.bodyOverflowX,this.callbacks={hide:[],show:[]},this.checkInterval=null,this.Content,this.$el=e(t),this.$elProxy,this.elProxyPosition,this.enabled=!0,this.options=e.extend({},i,n),this.mouseIsOverProxy=!1,this.namespace="tooltipster-"+Math.round(1e5*Math.random()),this.Status="hidden",this.timerHide=null,this.timerShow=null,this.$tooltip,this.options.iconTheme=this.options.iconTheme.replace(".",""),this.options.theme=this.options.theme.replace(".",""),this._init()}function o(t,n){var r=!0;return e.each(t,function(e,i){if("undefined"==typeof n[e]||t[e]!==n[e])return r=!1,!1}),r}function f(){return!a&&u}function l(){var e=n.body||n.documentElement,t=e.style,r="transition";if("string"==typeof t[r])return!0;v=["Moz","Webkit","Khtml","O","ms"],r=r.charAt(0).toUpperCase()+r.substr(1);for(var i=0;i<v.length;i++)if("string"==typeof t[v[i]+r])return!0;return!1}var r="tooltipster",i={animation:"fade",arrow:!0,arrowColor:"",autoClose:!0,content:null,contentAsHTML:!1,contentCloning:!0,debug:!0,delay:200,minWidth:0,maxWidth:null,functionInit:function(e,t){},functionBefore:function(e,t){t()},functionReady:function(e,t){},functionAfter:function(e){},hideOnClick:!1,icon:"(?)",iconCloning:!0,iconDesktop:!1,iconTouch:!1,iconTheme:"tooltipster-icon",interactive:!1,interactiveTolerance:350,multiple:!1,offsetX:0,offsetY:0,onlyOne:!1,position:"top",positionTracker:!1,positionTrackerCallback:function(e){"hover"==this.option("trigger")&&this.option("autoClose")&&this.hide()},restoration:"current",speed:350,timer:0,theme:"tooltipster-default",touchDevices:!0,trigger:"hover",updateAnimation:!0};s.prototype={_init:function(){var t=this;if(n.querySelector){var r=null;void 0===t.$el.data("tooltipster-initialTitle")&&(r=t.$el.attr("title"),void 0===r&&(r=null),t.$el.data("tooltipster-initialTitle",r)),null!==t.options.content?t._content_set(t.options.content):t._content_set(r);var i=t.options.functionInit.call(t.$el,t.$el,t.Content);"undefined"!=typeof i&&t._content_set(i),t.$el.removeAttr("title").addClass("tooltipstered"),!u&&t.options.iconDesktop||u&&t.options.iconTouch?("string"==typeof t.options.icon?(t.$elProxy=e('<span class="'+t.options.iconTheme+'"></span>'),t.$elProxy.text(t.options.icon)):t.options.iconCloning?t.$elProxy=t.options.icon.clone(!0):t.$elProxy=t.options.icon,t.$elProxy.insertAfter(t.$el)):t.$elProxy=t.$el,"hover"==t.options.trigger?(t.$elProxy.on("mouseenter."+t.namespace,function(){f()&&!t.options.touchDevices||(t.mouseIsOverProxy=!0,t._show())}).on("mouseleave."+t.namespace,function(){f()&&!t.options.touchDevices||(t.mouseIsOverProxy=!1)}),u&&t.options.touchDevices&&t.$elProxy.on("touchstart."+t.namespace,function(){t._showNow()})):"click"==t.options.trigger&&t.$elProxy.on("click."+t.namespace,function(){f()&&!t.options.touchDevices||t._show()})}},_show:function(){var e=this;"shown"!=e.Status&&"appearing"!=e.Status&&(e.options.delay?e.timerShow=setTimeout(function(){("click"==e.options.trigger||"hover"==e.options.trigger&&e.mouseIsOverProxy)&&e._showNow()},e.options.delay):e._showNow())},_showNow:function(n){var r=this;r.options.functionBefore.call(r.$el,r.$el,function(){if(r.enabled&&null!==r.Content){n&&r.callbacks.show.push(n),r.callbacks.hide=[],clearTimeout(r.timerShow),r.timerShow=null,clearTimeout(r.timerHide),r.timerHide=null,r.options.onlyOne&&e(".tooltipstered").not(r.$el).each(function(t,n){var r=e(n),i=r.data("tooltipster-ns");e.each(i,function(e,t){var n=r.data(t),i=n.status(),s=n.option("autoClose");"hidden"!==i&&"disappearing"!==i&&s&&n.hide()})});var i=function(){r.Status="shown",e.each(r.callbacks.show,function(e,t){t.call(r.$el)}),r.callbacks.show=[]};if("hidden"!==r.Status){var s=0;"disappearing"===r.Status?(r.Status="appearing",l()?(r.$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-"+r.options.animation+"-show"),r.options.speed>0&&r.$tooltip.delay(r.options.speed),r.$tooltip.queue(i)):r.$tooltip.stop().fadeIn(i)):"shown"===r.Status&&i()}else{r.Status="appearing";var s=r.options.speed;r.bodyOverflowX=e("body").css("overflow-x"),e("body").css("overflow-x","hidden");var o="tooltipster-"+r.options.animation,a="-webkit-transition-duration: "+r.options.speed+"ms; -webkit-animation-duration: "+r.options.speed+"ms; -moz-transition-duration: "+r.options.speed+"ms; -moz-animation-duration: "+r.options.speed+"ms; -o-transition-duration: "+r.options.speed+"ms; -o-animation-duration: "+r.options.speed+"ms; -ms-transition-duration: "+r.options.speed+"ms; -ms-animation-duration: "+r.options.speed+"ms; transition-duration: "+r.options.speed+"ms; animation-duration: "+r.options.speed+"ms;",f=r.options.minWidth?"min-width:"+Math.round(r.options.minWidth)+"px;":"",c=r.options.maxWidth?"max-width:"+Math.round(r.options.maxWidth)+"px;":"",h=r.options.interactive?"pointer-events: auto;":"";if(r.$tooltip=e('<div class="tooltipster-base '+r.options.theme+'" style="'+f+" "+c+" "+h+" "+a+'"><div class="tooltipster-content"></div></div>'),l()&&r.$tooltip.addClass(o),r._content_insert(),r.$tooltip.appendTo("body"),r.reposition(),r.options.functionReady.call(r.$el,r.$el,r.$tooltip),l()?(r.$tooltip.addClass(o+"-show"),r.options.speed>0&&r.$tooltip.delay(r.options.speed),r.$tooltip.queue(i)):r.$tooltip.css("display","none").fadeIn(r.options.speed,i),r._interval_set(),e(t).on("scroll."+r.namespace+" resize."+r.namespace,function(){r.reposition()}),r.options.autoClose)if(e("body").off("."+r.namespace),"hover"==r.options.trigger){if(u&&setTimeout(function(){e("body").on("touchstart."+r.namespace,function(){r.hide()})},0),r.options.interactive){u&&r.$tooltip.on("touchstart."+r.namespace,function(e){e.stopPropagation()});var p=null;r.$elProxy.add(r.$tooltip).on("mouseleave."+r.namespace+"-autoClose",function(){clearTimeout(p),p=setTimeout(function(){r.hide()},r.options.interactiveTolerance)}).on("mouseenter."+r.namespace+"-autoClose",function(){clearTimeout(p)})}else r.$elProxy.on("mouseleave."+r.namespace+"-autoClose",function(){r.hide()});r.options.hideOnClick&&r.$elProxy.on("click."+r.namespace+"-autoClose",function(){r.hide()})}else"click"==r.options.trigger&&(setTimeout(function(){e("body").on("click."+r.namespace+" touchstart."+r.namespace,function(){r.hide()})},0),r.options.interactive&&r.$tooltip.on("click."+r.namespace+" touchstart."+r.namespace,function(e){e.stopPropagation()}))}r.options.timer>0&&(r.timerHide=setTimeout(function(){r.timerHide=null,r.hide()},r.options.timer+s))}})},_interval_set:function(){var t=this;t.checkInterval=setInterval(function(){if(0===e("body").find(t.$el).length||0===e("body").find(t.$elProxy).length||"hidden"==t.Status||0===e("body").find(t.$tooltip).length)"shown"!=t.Status&&"appearing"!=t.Status||t.hide(),t._interval_cancel();else if(t.options.positionTracker){var n=t._repositionInfo(t.$elProxy),r=!1;o(n.dimension,t.elProxyPosition.dimension)&&("fixed"===t.$elProxy.css("position")?o(n.position,t.elProxyPosition.position)&&(r=!0):o(n.offset,t.elProxyPosition.offset)&&(r=!0)),r||(t.reposition(),t.options.positionTrackerCallback.call(t,t.$el))}},200)},_interval_cancel:function(){clearInterval(this.checkInterval),this.checkInterval=null},_content_set:function(e){"object"==typeof e&&null!==e&&this.options.contentCloning&&(e=e.clone(!0)),this.Content=e},_content_insert:function(){var e=this,t=this.$tooltip.find(".tooltipster-content");"string"!=typeof e.Content||e.options.contentAsHTML?t.empty().append(e.Content):t.text(e.Content)},_update:function(e){var t=this;t._content_set(e),null!==t.Content?"hidden"!==t.Status&&(t._content_insert(),t.reposition(),t.options.updateAnimation&&(l()?(t.$tooltip.css({width:"","-webkit-transition":"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-moz-transition":"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-o-transition":"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-ms-transition":"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms",transition:"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms"}).addClass("tooltipster-content-changing"),setTimeout(function(){"hidden"!=t.Status&&(t.$tooltip.removeClass("tooltipster-content-changing"),setTimeout(function(){"hidden"!==t.Status&&t.$tooltip.css({"-webkit-transition":t.options.speed+"ms","-moz-transition":t.options.speed+"ms","-o-transition":t.options.speed+"ms","-ms-transition":t.options.speed+"ms",transition:t.options.speed+"ms"})},t.options.speed))},t.options.speed)):t.$tooltip.fadeTo(t.options.speed,.5,function(){"hidden"!=t.Status&&t.$tooltip.fadeTo(t.options.speed,1)}))):t.hide()},_repositionInfo:function(e){return{dimension:{height:e.outerHeight(!1),width:e.outerWidth(!1)},offset:e.offset(),position:{left:parseInt(e.css("left")),top:parseInt(e.css("top"))}}},hide:function(n){var r=this;n&&r.callbacks.hide.push(n),r.callbacks.show=[],clearTimeout(r.timerShow),r.timerShow=null,clearTimeout(r.timerHide),r.timerHide=null;var i=function(){e.each(r.callbacks.hide,function(e,t){t.call(r.$el)}),r.callbacks.hide=[]};if("shown"==r.Status||"appearing"==r.Status){r.Status="disappearing";var s=function(){r.Status="hidden","object"==typeof r.Content&&null!==r.Content&&r.Content.detach(),r.$tooltip.remove(),r.$tooltip=null,e(t).off("."+r.namespace),e("body").off("."+r.namespace).css("overflow-x",r.bodyOverflowX),e("body").off("."+r.namespace),r.$elProxy.off("."+r.namespace+"-autoClose"),r.options.functionAfter.call(r.$el,r.$el),i()};l()?(r.$tooltip.clearQueue().removeClass("tooltipster-"+r.options.animation+"-show").addClass("tooltipster-dying"),r.options.speed>0&&r.$tooltip.delay(r.options.speed),r.$tooltip.queue(s)):r.$tooltip.stop().fadeOut(r.options.speed,s)}else"hidden"==r.Status&&i();return r},show:function(e){return this._showNow(e),this},update:function(e){return this.content(e)},content:function(e){return"undefined"==typeof e?this.Content:(this._update(e),this)},reposition:function(){function H(){var n=e(t).scrollLeft();A-n<0&&(r=A-n,A=n),A+o-n>i&&(r=A-(i+n-o),A=i+n-o)}function B(n,r){s.offset.top-e(t).scrollTop()-a-_-12<0&&r.indexOf("top")>-1&&(P=n),s.offset.top+s.dimension.height+a+12+_>e(t).scrollTop()+e(t).height()&&r.indexOf("bottom")>-1&&(P=n,M=s.offset.top-a-_-12)}var n=this;if(0!==e("body").find(n.$tooltip).length){n.$tooltip.css("width",""),n.elProxyPosition=n._repositionInfo(n.$elProxy);var r=null,i=e(t).width(),s=n.elProxyPosition,o=n.$tooltip.outerWidth(!1),a=(n.$tooltip.innerWidth()+1,n.$tooltip.outerHeight(!1));if(n.$elProxy.is("area")){var f=n.$elProxy.attr("shape"),l=n.$elProxy.parent().attr("name"),c=e('img[usemap="#'+l+'"]'),h=c.offset().left,p=c.offset().top,d=void 0!==n.$elProxy.attr("coords")?n.$elProxy.attr("coords").split(","):void 0;if("circle"==f){var v=parseInt(d[0]),m=parseInt(d[1]),g=parseInt(d[2]);s.dimension.height=2*g,s.dimension.width=2*g,s.offset.top=p+m-g,s.offset.left=h+v-g}else if("rect"==f){var v=parseInt(d[0]),m=parseInt(d[1]),y=parseInt(d[2]),b=parseInt(d[3]);s.dimension.height=b-m,s.dimension.width=y-v,s.offset.top=p+m,s.offset.left=h+v}else if("poly"==f){for(var S=0,x=0,T=0,N=0,C="even",k=0;k<d.length;k++){var L=parseInt(d[k]);"even"==C?(L>T&&(T=L,0===k&&(S=T)),L<S&&(S=L),C="odd"):(L>N&&(N=L,1==k&&(x=N)),L<x&&(x=L),C="even")}s.dimension.height=N-x,s.dimension.width=T-S,s.offset.top=p+x,s.offset.left=h+S}else s.dimension.height=c.outerHeight(!1),s.dimension.width=c.outerWidth(!1),s.offset.top=p,s.offset.left=h}var A=0,O=0,M=0,_=parseInt(n.options.offsetY),D=parseInt(n.options.offsetX),P=n.options.position;if("top"==P){var j=s.offset.left+o-(s.offset.left+s.dimension.width);A=s.offset.left+D-j/2,M=s.offset.top-a-_-12,H(),B("bottom","top")}if("top-left"==P&&(A=s.offset.left+D,M=s.offset.top-a-_-12,H(),B("bottom-left","top-left")),"top-right"==P&&(A=s.offset.left+s.dimension.width+D-o,M=s.offset.top-a-_-12,H(),B("bottom-right","top-right")),"bottom"==P){var j=s.offset.left+o-(s.offset.left+s.dimension.width);A=s.offset.left-j/2+D,M=s.offset.top+s.dimension.height+_+12,H(),B("top","bottom")}if("bottom-left"==P&&(A=s.offset.left+D,M=s.offset.top+s.dimension.height+_+12,H(),B("top-left","bottom-left")),"bottom-right"==P&&(A=s.offset.left+s.dimension.width+D-o,M=s.offset.top+s.dimension.height+_+12,H(),B("top-right","bottom-right")),"left"==P){A=s.offset.left-D-o-12,O=s.offset.left+D+s.dimension.width+12;var F=s.offset.top+a-(s.offset.top+s.dimension.height);if(M=s.offset.top-F/2-_,A<0&&O+o>i){var I=2*parseFloat(n.$tooltip.css("border-width")),q=o+A-I;n.$tooltip.css("width",q+"px"),a=n.$tooltip.outerHeight(!1),A=s.offset.left-D-q-12-I,F=s.offset.top+a-(s.offset.top+s.dimension.height),M=s.offset.top-F/2-_}else A<0&&(A=s.offset.left+D+s.dimension.width+12,r="left")}if("right"==P){A=s.offset.left+D+s.dimension.width+12,O=s.offset.left-D-o-12;var F=s.offset.top+a-(s.offset.top+s.dimension.height);if(M=s.offset.top-F/2-_,A+o>i&&O<0){var I=2*parseFloat(n.$tooltip.css("border-width")),q=i-A-I;n.$tooltip.css("width",q+"px"),a=n.$tooltip.outerHeight(!1),F=s.offset.top+a-(s.offset.top+s.dimension.height),M=s.offset.top-F/2-_}else A+o>i&&(A=s.offset.left-D-o-12,r="right")}if(n.options.arrow){var R="tooltipster-arrow-"+P;if(n.options.arrowColor.length<1)var U=n.$tooltip.css("background-color");else var U=n.options.arrowColor;if(r?"left"==r?(R="tooltipster-arrow-right",r=""):"right"==r?(R="tooltipster-arrow-left",r=""):r="left:"+Math.round(r)+"px;":r="","top"==P||"top-left"==P||"top-right"==P)var z=parseFloat(n.$tooltip.css("border-bottom-width")),W=n.$tooltip.css("border-bottom-color");else if("bottom"==P||"bottom-left"==P||"bottom-right"==P)var z=parseFloat(n.$tooltip.css("border-top-width")),W=n.$tooltip.css("border-top-color");else if("left"==P)var z=parseFloat(n.$tooltip.css("border-right-width")),W=n.$tooltip.css("border-right-color");else if("right"==P)var z=parseFloat(n.$tooltip.css("border-left-width")),W=n.$tooltip.css("border-left-color");else var z=parseFloat(n.$tooltip.css("border-bottom-width")),W=n.$tooltip.css("border-bottom-color");z>1&&z++;var X="";if(0!==z){var V="",J="border-color: "+W+";";R.indexOf("bottom")!==-1?V="margin-top: -"+Math.round(z)+"px;":R.indexOf("top")!==-1?V="margin-bottom: -"+Math.round(z)+"px;":R.indexOf("left")!==-1?V="margin-right: -"+Math.round(z)+"px;":R.indexOf("right")!==-1&&(V="margin-left: -"+Math.round(z)+"px;"),X='<span class="tooltipster-arrow-border" style="'+V+" "+J+';"></span>'}n.$tooltip.find(".tooltipster-arrow").remove();var K='<div class="'+R+' tooltipster-arrow" style="'+r+'">'+X+'<span style="border-color:'+U+';"></span></div>';n.$tooltip.append(K)}n.$tooltip.css({top:Math.round(M)+"px",left:Math.round(A)+"px"})}return n},enable:function(){return this.enabled=!0,this},disable:function(){return this.hide(),this.enabled=!1,this},destroy:function(){var t=this;t.hide(),t.$el[0]!==t.$elProxy[0]&&t.$elProxy.remove(),t.$el.removeData(t.namespace).off("."+t.namespace);var n=t.$el.data("tooltipster-ns");if(1===n.length){var r=null;"previous"===t.options.restoration?r=t.$el.data("tooltipster-initialTitle"):"current"===t.options.restoration&&(r="string"==typeof t.Content?t.Content:e("<div></div>").append(t.Content).html()),r&&t.$el.attr("title",r),t.$el.removeClass("tooltipstered").removeData("tooltipster-ns").removeData("tooltipster-initialTitle")}else n=e.grep(n,function(e,n){return e!==t.namespace}),t.$el.data("tooltipster-ns",n);return t},elementIcon:function(){return this.$el[0]!==this.$elProxy[0]?this.$elProxy[0]:void 0},elementTooltip:function(){return this.$tooltip?this.$tooltip[0]:void 0},option:function(e,t){return"undefined"==typeof t?this.options[e]:(this.options[e]=t,this)},status:function(){return this.Status}},e.fn[r]=function(){var t=arguments;if(0===this.length){if("string"==typeof t[0]){var n=!0;switch(t[0]){case"setDefaults":e.extend(i,t[1]);break;default:n=!1}return!!n||this}return this}if("string"==typeof t[0]){var r="#*$~&";return this.each(function(){var n=e(this).data("tooltipster-ns"),i=n?e(this).data(n[0]):null;if(!i)throw new Error("You called Tooltipster's \""+t[0]+'" method on an uninitialized element');if("function"!=typeof i[t[0]])throw new Error('Unknown method .tooltipster("'+t[0]+'")');var s=i[t[0]](t[1],t[2]);if(s!==i)return r=s,!1}),"#*$~&"!==r?r:this}var o=[],u=t[0]&&"undefined"!=typeof t[0].multiple,a=u&&t[0].multiple||!u&&i.multiple,f=t[0]&&"undefined"!=typeof t[0].debug,l=f&&t[0].debug||!f&&i.debug;return this.each(function(){var n=!1,r=e(this).data("tooltipster-ns"),i=null;r?a?n=!0:l&&console.log('Tooltipster: one or more tooltips are already attached to this element: ignoring. Use the "multiple" option to attach more tooltips.'):n=!0,n&&(i=new s(this,t[0]),r||(r=[]),r.push(i.namespace),e(this).data("tooltipster-ns",r),e(this).data(i.namespace,i)),o.push(i)}),a?o:this};var u=!!("ontouchstart"in t),a=!1;e("body").one("mousemove",function(){a=!0})}(jQuery,window,document),angular.module("angular-capitalize-filter",[]).filter("capitalize",function(){return function(input,format){if(!input)return input;if(format=format||"all","first"===format)return input.charAt(0).toUpperCase()+input.slice(1).toLowerCase();var words=input.split(" "),result=[];return words.forEach(function(word){2===word.length&&"team"===format?result.push(word.toUpperCase()):result.push(word.charAt(0).toUpperCase()+word.slice(1).toLowerCase())}),result.join(" ")}}),function(){"use strict";angular.module("ui.grid.draggable-rows",["ui.grid"]).constant("uiGridDraggableRowsConstants",{featureName:"draggableRows",ROW_OVER_CLASS:"ui-grid-draggable-row-over",ROW_OVER_ABOVE_CLASS:"ui-grid-draggable-row-over--above",ROW_OVER_BELOW_CLASS:"ui-grid-draggable-row-over--below",POSITION_ABOVE:"above",POSITION_BELOW:"below",publicEvents:{draggableRows:{rowDragged:function(scope,info,rowElement){},rowDropped:function(scope,info,targetElement){},rowOverRow:function(scope,info,rowElement){},rowEnterRow:function(scope,info,rowElement){},rowLeavesRow:function(scope,info,rowElement){},rowFinishDrag:function(scope){}}}}).factory("uiGridDraggableRowsCommon",[function(){return{draggedRow:null,draggedRowEntity:null,position:null,fromIndex:null,toIndex:null}}]).service("uiGridDraggableRowsService",["uiGridDraggableRowsConstants",function(uiGridDraggableRowsConstants){this.initializeGrid=function(grid,$scope,$element){grid.api.registerEventsFromObject(uiGridDraggableRowsConstants.publicEvents),grid.api.draggableRows.on.rowFinishDrag($scope,function(){angular.forEach($element[0].querySelectorAll("."+uiGridDraggableRowsConstants.ROW_OVER_CLASS),function(row){row.classList.remove(uiGridDraggableRowsConstants.ROW_OVER_CLASS),row.classList.remove(uiGridDraggableRowsConstants.ROW_OVER_ABOVE_CLASS),row.classList.remove(uiGridDraggableRowsConstants.ROW_OVER_BELOW_CLASS)})})}}]).service("uiGridDraggableRowService",["uiGridDraggableRowsConstants","uiGridDraggableRowsCommon","$parse",function(uiGridDraggableRowsConstants,uiGridDraggableRowsCommon,$parse){
var move=function(from,to){this.splice(to,0,this.splice(from,1)[0])};this.prepareDraggableRow=function($scope,$element){var grid=$scope.grid,row=$element[0],data=function(){return angular.isString(grid.options.data)?$parse(grid.options.data)(grid.appScope):grid.options.data},listeners={onDragOverEventListener:function(e){e.preventDefault&&e.preventDefault();var dataTransfer=e.dataTransfer||e.originalEvent.dataTransfer;dataTransfer.effectAllowed="copyMove",dataTransfer.dropEffect="move";var offset=e.offsetY||e.layerY||(e.originalEvent?e.originalEvent.offsetY:0);offset<this.offsetHeight/2?(uiGridDraggableRowsCommon.position=uiGridDraggableRowsConstants.POSITION_ABOVE,$element.removeClass(uiGridDraggableRowsConstants.ROW_OVER_BELOW_CLASS),$element.addClass(uiGridDraggableRowsConstants.ROW_OVER_ABOVE_CLASS)):(uiGridDraggableRowsCommon.position=uiGridDraggableRowsConstants.POSITION_BELOW,$element.removeClass(uiGridDraggableRowsConstants.ROW_OVER_ABOVE_CLASS),$element.addClass(uiGridDraggableRowsConstants.ROW_OVER_BELOW_CLASS)),grid.api.draggableRows.raise.rowOverRow(uiGridDraggableRowsCommon,this)},onDragStartEventListener:function(e){e.dataTransfer.setData("Text","move"),uiGridDraggableRowsCommon.draggedRow=this,uiGridDraggableRowsCommon.draggedRowEntity=$scope.$parent.$parent.row.entity,uiGridDraggableRowsCommon.position=null,uiGridDraggableRowsCommon.fromIndex=data().indexOf(uiGridDraggableRowsCommon.draggedRowEntity),uiGridDraggableRowsCommon.toIndex=null,grid.api.draggableRows.raise.rowDragged(uiGridDraggableRowsCommon,this)},onDragLeaveEventListener:function(e){grid.api.draggableRows.raise.rowLeavesRow(uiGridDraggableRowsCommon,this)},onDragEnterEventListener:function(e){e.offsetY||e.layerY||(e.originalEvent?e.originalEvent.offsetY:0);$("."+uiGridDraggableRowsConstants.ROW_OVER_CLASS).removeClass(uiGridDraggableRowsConstants.ROW_OVER_CLASS),$element.addClass(uiGridDraggableRowsConstants.ROW_OVER_CLASS),grid.api.draggableRows.raise.rowEnterRow(uiGridDraggableRowsCommon,this)},onDragEndEventListener:function(){grid.api.draggableRows.raise.rowFinishDrag()},onDropEventListener:function(e){var draggedRow=uiGridDraggableRowsCommon.draggedRow;return e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),draggedRow!==this&&(uiGridDraggableRowsCommon.toIndex=data().indexOf($scope.$parent.$parent.row.entity),uiGridDraggableRowsCommon.position===uiGridDraggableRowsConstants.POSITION_ABOVE?uiGridDraggableRowsCommon.fromIndex<uiGridDraggableRowsCommon.toIndex&&(uiGridDraggableRowsCommon.toIndex-=1):uiGridDraggableRowsCommon.fromIndex>=uiGridDraggableRowsCommon.toIndex&&(uiGridDraggableRowsCommon.toIndex+=1),$scope.$apply(function(){move.apply(data(),[uiGridDraggableRowsCommon.fromIndex,uiGridDraggableRowsCommon.toIndex])}),grid.api.draggableRows.raise.rowDropped(uiGridDraggableRowsCommon,this),void e.preventDefault())}};row.addEventListener("dragover",listeners.onDragOverEventListener,!1),row.addEventListener("dragstart",listeners.onDragStartEventListener,!1),row.addEventListener("dragleave",listeners.onDragLeaveEventListener,!1),row.addEventListener("dragenter",listeners.onDragEnterEventListener,!1),row.addEventListener("dragend",listeners.onDragEndEventListener,!1),row.addEventListener("drop",listeners.onDropEventListener)}}]).directive("uiGridDraggableRow",["uiGridDraggableRowService",function(uiGridDraggableRowService){return{restrict:"ACE",scope:{grid:"="},compile:function(){return{pre:function($scope,$element){uiGridDraggableRowService.prepareDraggableRow($scope,$element)}}}}}]).directive("uiGridDraggableRows",["uiGridDraggableRowsService",function(uiGridDraggableRowsService){return{restrict:"A",replace:!0,priority:0,require:"uiGrid",scope:!1,compile:function(){return{pre:function($scope,$element,$attrs,uiGridCtrl){uiGridDraggableRowsService.initializeGrid(uiGridCtrl.grid,$scope,$element)}}}}}])}(),function(window,document){"use strict";var Hamster=function(element){return new Hamster.Instance(element)};Hamster.SUPPORT="wheel",Hamster.ADD_EVENT="addEventListener",Hamster.REMOVE_EVENT="removeEventListener",Hamster.PREFIX="",Hamster.READY=!1,Hamster.Instance=function(element){return Hamster.READY||(Hamster.normalise.browser(),Hamster.READY=!0),this.element=element,this.handlers=[],this},Hamster.Instance.prototype={wheel:function(handler,useCapture){return Hamster.event.add(this,Hamster.SUPPORT,handler,useCapture),"DOMMouseScroll"===Hamster.SUPPORT&&Hamster.event.add(this,"MozMousePixelScroll",handler,useCapture),this},unwheel:function(handler,useCapture){return void 0===handler&&(handler=this.handlers.slice(-1)[0])&&(handler=handler.original),Hamster.event.remove(this,Hamster.SUPPORT,handler,useCapture),"DOMMouseScroll"===Hamster.SUPPORT&&Hamster.event.remove(this,"MozMousePixelScroll",handler,useCapture),this}},Hamster.event={add:function(hamster,eventName,handler,useCapture){var originalHandler=handler;handler=function(originalEvent){originalEvent||(originalEvent=window.event);var event=Hamster.normalise.event(originalEvent),delta=Hamster.normalise.delta(originalEvent);return originalHandler(event,delta[0],delta[1],delta[2])},hamster.element[Hamster.ADD_EVENT](Hamster.PREFIX+eventName,handler,useCapture||!1),hamster.handlers.push({original:originalHandler,normalised:handler})},remove:function(hamster,eventName,handler,useCapture){for(var handlers,originalHandler=handler,lookup={},i=0,len=hamster.handlers.length;i<len;++i)lookup[hamster.handlers[i].original]=hamster.handlers[i];handlers=lookup[originalHandler],handler=handlers.normalised,hamster.element[Hamster.REMOVE_EVENT](Hamster.PREFIX+eventName,handler,useCapture||!1);for(var h in hamster.handlers)if(hamster.handlers[h]==handlers){hamster.handlers.splice(h,1);break}}};var lowestDelta,lowestDeltaXY;Hamster.normalise={browser:function(){"onwheel"in document||document.documentMode>=9||(Hamster.SUPPORT=void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll"),window.addEventListener||(Hamster.ADD_EVENT="attachEvent",Hamster.REMOVE_EVENT="detachEvent",Hamster.PREFIX="on")},event:function(originalEvent){var event={originalEvent:originalEvent,target:originalEvent.target||originalEvent.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"===originalEvent.type?0:1,deltaX:0,delatZ:0,preventDefault:function(){originalEvent.preventDefault?originalEvent.preventDefault():originalEvent.returnValue=!1},stopPropagation:function(){originalEvent.stopPropagation?originalEvent.stopPropagation():originalEvent.cancelBubble=!1}};return originalEvent.wheelDelta&&(event.deltaY=-.025*originalEvent.wheelDelta),originalEvent.wheelDeltaX&&(event.deltaX=-.025*originalEvent.wheelDeltaX),originalEvent.detail&&(event.deltaY=originalEvent.detail),event},delta:function(originalEvent){var fn,delta=0,deltaX=0,deltaY=0,absDelta=0,absDeltaXY=0;return originalEvent.deltaY&&(deltaY=originalEvent.deltaY*-1,delta=deltaY),originalEvent.deltaX&&(deltaX=originalEvent.deltaX,delta=deltaX*-1),originalEvent.wheelDelta&&(delta=originalEvent.wheelDelta),originalEvent.wheelDeltaY&&(deltaY=originalEvent.wheelDeltaY),originalEvent.wheelDeltaX&&(deltaX=originalEvent.wheelDeltaX*-1),originalEvent.detail&&(delta=originalEvent.detail*-1),0===delta?[0,0,0]:(absDelta=Math.abs(delta),(!lowestDelta||absDelta<lowestDelta)&&(lowestDelta=absDelta),absDeltaXY=Math.max(Math.abs(deltaY),Math.abs(deltaX)),(!lowestDeltaXY||absDeltaXY<lowestDeltaXY)&&(lowestDeltaXY=absDeltaXY),fn=delta>0?"floor":"ceil",delta=Math[fn](delta/lowestDelta),deltaX=Math[fn](deltaX/lowestDeltaXY),deltaY=Math[fn](deltaY/lowestDeltaXY),[delta,deltaX,deltaY])}},"function"==typeof window.define&&window.define.amd?window.define("hamster",[],function(){return Hamster}):"object"==typeof exports?module.exports=Hamster:window.Hamster=Hamster}(window,window.document),angular.module("monospaced.mousewheel",[]).directive("msdWheel",["$parse",function($parse){return{restrict:"A, C",link:function(scope,element,attr){var hamster,expr=$parse(attr.msdWheel),fn=function(event,delta,deltaX,deltaY){scope.$apply(function(){expr(scope,{$event:event,$delta:delta,$deltaX:deltaX,$deltaY:deltaY})})};return"undefined"==typeof Hamster?void element.bind("wheel",function(event){scope.$apply(function(){expr(scope,{$event:event})})}):((hamster=element.data("hamster"))||(hamster=Hamster(element[0]),element.data("hamster",hamster)),hamster.wheel(fn),void scope.$on("$destroy",function(){hamster.unwheel(fn)}))}}}]),!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";function e(){return Yt.apply(null,arguments)}function t(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function n(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}function i(e){return void 0===e}function r(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function a(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function o(e,t){var n,s=[];for(n=0;n<e.length;++n)s.push(t(e[n],n));return s}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e,t){for(var n in t)u(t,n)&&(e[n]=t[n]);return u(t,"toString")&&(e.toString=t.toString),u(t,"valueOf")&&(e.valueOf=t.valueOf),e}function d(e,t,n,s){return je(e,t,n,s,!0).utc()}function h(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function c(e){return null==e._pf&&(e._pf=h()),e._pf}function f(e){if(null==e._isValid){var t=c(e),n=Ot.call(t.parsedDateParts,function(e){return null!=e}),s=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(s=s&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return s;e._isValid=s}return e._isValid}function m(e){var t=d(NaN);return null!=e?l(c(t),e):c(t).userInvalidated=!0,t}function _(e,t){var n,s,r;if(i(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),i(t._i)||(e._i=t._i),i(t._f)||(e._f=t._f),i(t._l)||(e._l=t._l),i(t._strict)||(e._strict=t._strict),i(t._tzm)||(e._tzm=t._tzm),i(t._isUTC)||(e._isUTC=t._isUTC),i(t._offset)||(e._offset=t._offset),i(t._pf)||(e._pf=c(t)),i(t._locale)||(e._locale=t._locale),xt.length>0)for(n=0;n<xt.length;n++)i(r=t[s=xt[n]])||(e[s]=r);return e}function y(t){_(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Tt&&(Tt=!0,e.updateOffset(this),Tt=!1)}function g(e){return e instanceof y||null!=e&&null!=e._isAMomentObject}function p(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function w(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=p(t)),n}function v(e,t,n){var s,i=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),a=0;for(s=0;s<i;s++)(n&&e[s]!==t[s]||!n&&w(e[s])!==w(t[s]))&&a++;return a+r}function M(t){!1===e.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function k(t,n){var s=!0;return l(function(){if(null!=e.deprecationHandler&&e.deprecationHandler(null,t),s){for(var i,r=[],a=0;a<arguments.length;a++){if(i="","object"==typeof arguments[a]){i+="\n["+a+"] ";for(var o in arguments[0])i+=o+": "+arguments[0][o]+", ";i=i.slice(0,-2)}else i=arguments[a];r.push(i)}M(t+"\nArguments: "+Array.prototype.slice.call(r).join("")+"\n"+(new Error).stack),s=!1}return n.apply(this,arguments)},n)}function S(t,n){null!=e.deprecationHandler&&e.deprecationHandler(t,n),bt[t]||(M(n),bt[t]=!0)}function D(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function Y(e,t){var s,i=l({},e);for(s in t)u(t,s)&&(n(e[s])&&n(t[s])?(i[s]={},l(i[s],e[s]),l(i[s],t[s])):null!=t[s]?i[s]=t[s]:delete i[s]);for(s in e)u(e,s)&&!u(t,s)&&n(e[s])&&(i[s]=l({},i[s]));return i}function O(e){null!=e&&this.set(e)}function x(e,t){var n=e.toLowerCase();Ut[n]=Ut[n+"s"]=Ut[t]=e}function T(e){return"string"==typeof e?Ut[e]||Ut[e.toLowerCase()]:void 0}function b(e){var t,n,s={};for(n in e)u(e,n)&&(t=T(n))&&(s[t]=e[n]);return s}function P(e,t){Nt[e]=t}function W(e){var t=[];for(var n in e)t.push({unit:n,priority:Nt[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function R(e,t,n){var s=""+Math.abs(e),i=t-s.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+s}function C(e,t,n,s){var i=s;"string"==typeof s&&(i=function(){return this[s]()}),e&&(Vt[e]=i),t&&(Vt[t[0]]=function(){return R(i.apply(this,arguments),t[1],t[2])}),n&&(Vt[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function F(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function U(e){var t,n,s=e.match(Ht);for(t=0,n=s.length;t<n;t++)Vt[s[t]]?s[t]=Vt[s[t]]:s[t]=F(s[t]);return function(t){var i,r="";for(i=0;i<n;i++)r+=D(s[i])?s[i].call(t,e):s[i];return r}}function N(e,t){return e.isValid()?(t=H(t,e.localeData()),Gt[t]=Gt[t]||U(t),Gt[t](e)):e.localeData().invalidDate()}function H(e,t){var n=5;for(Lt.lastIndex=0;n>=0&&Lt.test(e);)e=e.replace(Lt,function(e){return t.longDateFormat(e)||e}),Lt.lastIndex=0,n-=1;return e}function L(e,t,n){rn[e]=D(t)?t:function(e,s){return e&&n?n:t}}function G(e,t){return u(rn,e)?rn[e](t._strict,t._locale):new RegExp(V(e))}function V(e){return j(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,s,i){return t||n||s||i}))}function j(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function I(e,t){var n,s=t;for("string"==typeof e&&(e=[e]),r(t)&&(s=function(e,n){n[t]=w(e)}),n=0;n<e.length;n++)an[e[n]]=s}function E(e,t){I(e,function(e,n,s,i){s._w=s._w||{},t(e,s._w,s,i)})}function A(e,t,n){null!=t&&u(an,e)&&an[e](t,n._a,n,e)}function z(e){return Z(e)?366:365}function Z(e){return e%4==0&&e%100!=0||e%400==0}function $(t,n){return function(s){return null!=s?(J(this,t,s),e.updateOffset(this,n),this):q(this,t)}}function q(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function J(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&Z(e.year())?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Q(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function B(e,t){return(e%t+t)%t}function Q(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=B(t,12);return e+=(t-n)/12,1===n?Z(e)?29:28:31-n%7%2}function X(e,t,n){var s,i,r,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)r=d([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(r,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=yn.call(this._shortMonthsParse,a))?i:null:-1!==(i=yn.call(this._longMonthsParse,a))?i:null:"MMM"===t?-1!==(i=yn.call(this._shortMonthsParse,a))?i:-1!==(i=yn.call(this._longMonthsParse,a))?i:null:-1!==(i=yn.call(this._longMonthsParse,a))?i:-1!==(i=yn.call(this._shortMonthsParse,a))?i:null}function K(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=w(t);else if(t=e.localeData().monthsParse(t),!r(t))return e;return n=Math.min(e.date(),Q(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function ee(t){return null!=t?(K(this,t),e.updateOffset(this,!0),this):q(this,"Month")}function te(){function e(e,t){return t.length-e.length}var t,n,s=[],i=[],r=[];for(t=0;t<12;t++)n=d([2e3,t]),s.push(this.monthsShort(n,"")),i.push(this.months(n,"")),r.push(this.months(n,"")),r.push(this.monthsShort(n,""));for(s.sort(e),i.sort(e),r.sort(e),t=0;t<12;t++)s[t]=j(s[t]),i[t]=j(i[t]);for(t=0;t<24;t++)r[t]=j(r[t]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+s.join("|")+")","i")}function ne(e,t,n,s,i,r,a){var o=new Date(e,t,n,s,i,r,a);return e<100&&e>=0&&isFinite(o.getFullYear())&&o.setFullYear(e),o}function se(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function ie(e,t,n){var s=7+t-n;return-((7+se(e,0,s).getUTCDay()-t)%7)+s-1}function re(e,t,n,s,i){var r,a,o=1+7*(t-1)+(7+n-s)%7+ie(e,s,i);return o<=0?a=z(r=e-1)+o:o>z(e)?(r=e+1,a=o-z(e)):(r=e,a=o),{year:r,dayOfYear:a}}function ae(e,t,n){var s,i,r=ie(e.year(),t,n),a=Math.floor((e.dayOfYear()-r-1)/7)+1;return a<1?s=a+oe(i=e.year()-1,t,n):a>oe(e.year(),t,n)?(s=a-oe(e.year(),t,n),i=e.year()+1):(i=e.year(),s=a),{week:s,year:i}}function oe(e,t,n){var s=ie(e,t,n),i=ie(e+1,t,n);return(z(e)-s+i)/7}function ue(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function le(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function de(e,t,n){var s,i,r,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)r=d([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(r,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=yn.call(this._weekdaysParse,a))?i:null:"ddd"===t?-1!==(i=yn.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=yn.call(this._minWeekdaysParse,a))?i:null:"dddd"===t?-1!==(i=yn.call(this._weekdaysParse,a))?i:-1!==(i=yn.call(this._shortWeekdaysParse,a))?i:-1!==(i=yn.call(this._minWeekdaysParse,a))?i:null:"ddd"===t?-1!==(i=yn.call(this._shortWeekdaysParse,a))?i:-1!==(i=yn.call(this._weekdaysParse,a))?i:-1!==(i=yn.call(this._minWeekdaysParse,a))?i:null:-1!==(i=yn.call(this._minWeekdaysParse,a))?i:-1!==(i=yn.call(this._weekdaysParse,a))?i:-1!==(i=yn.call(this._shortWeekdaysParse,a))?i:null}function he(){function e(e,t){return t.length-e.length}var t,n,s,i,r,a=[],o=[],u=[],l=[];for(t=0;t<7;t++)n=d([2e3,1]).day(t),s=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),r=this.weekdays(n,""),a.push(s),o.push(i),u.push(r),l.push(s),l.push(i),l.push(r);for(a.sort(e),o.sort(e),u.sort(e),l.sort(e),t=0;t<7;t++)o[t]=j(o[t]),u[t]=j(u[t]),l[t]=j(l[t]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function ce(){return this.hours()%12||12}function fe(e,t){C(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function me(e,t){return t._meridiemParse}function _e(e){return e?e.toLowerCase().replace("_","-"):e}function ye(e){for(var t,n,s,i,r=0;r<e.length;){for(t=(i=_e(e[r]).split("-")).length,n=(n=_e(e[r+1]))?n.split("-"):null;t>0;){if(s=ge(i.slice(0,t).join("-")))return s;if(n&&n.length>=t&&v(i,n,!0)>=t-1)break;t--}r++}return null}function ge(e){var t=null;if(!Fn[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=Pn._abbr,require("./locale/"+e),pe(t)}catch(e){}return Fn[e]}function pe(e,t){var n;return e&&(n=i(t)?ve(e):we(e,t))&&(Pn=n),Pn._abbr}function we(e,t){if(null!==t){var n=Cn;if(t.abbr=e,null!=Fn[e])S("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Fn[e]._config;else if(null!=t.parentLocale){if(null==Fn[t.parentLocale])return Un[t.parentLocale]||(Un[t.parentLocale]=[]),Un[t.parentLocale].push({name:e,config:t}),null;n=Fn[t.parentLocale]._config}return Fn[e]=new O(Y(n,t)),Un[e]&&Un[e].forEach(function(e){we(e.name,e.config)}),pe(e),Fn[e]}return delete Fn[e],null}function ve(e){var n;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Pn;if(!t(e)){if(n=ge(e))return n;e=[e]}return ye(e)}function Me(e){var t,n=e._a;return n&&-2===c(e).overflow&&(t=n[un]<0||n[un]>11?un:n[ln]<1||n[ln]>Q(n[on],n[un])?ln:n[dn]<0||n[dn]>24||24===n[dn]&&(0!==n[hn]||0!==n[cn]||0!==n[fn])?dn:n[hn]<0||n[hn]>59?hn:n[cn]<0||n[cn]>59?cn:n[fn]<0||n[fn]>999?fn:-1,c(e)._overflowDayOfYear&&(t<on||t>ln)&&(t=ln),c(e)._overflowWeeks&&-1===t&&(t=mn),c(e)._overflowWeekday&&-1===t&&(t=_n),c(e).overflow=t),e}function ke(e,t,n){return null!=e?e:null!=t?t:n}function Se(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function De(e){var t,n,s,i,r=[];if(!e._d){for(s=Se(e),e._w&&null==e._a[ln]&&null==e._a[un]&&Ye(e),null!=e._dayOfYear&&(i=ke(e._a[on],s[on]),(e._dayOfYear>z(i)||0===e._dayOfYear)&&(c(e)._overflowDayOfYear=!0),n=se(i,0,e._dayOfYear),e._a[un]=n.getUTCMonth(),e._a[ln]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=r[t]=s[t];for(;t<7;t++)e._a[t]=r[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[dn]&&0===e._a[hn]&&0===e._a[cn]&&0===e._a[fn]&&(e._nextDay=!0,e._a[dn]=0),e._d=(e._useUTC?se:ne).apply(null,r),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[dn]=24),e._w&&void 0!==e._w.d&&e._w.d!==e._d.getDay()&&(c(e).weekdayMismatch=!0)}}function Ye(e){var t,n,s,i,r,a,o,u;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)r=1,a=4,n=ke(t.GG,e._a[on],ae(Ie(),1,4).year),s=ke(t.W,1),((i=ke(t.E,1))<1||i>7)&&(u=!0);else{r=e._locale._week.dow,a=e._locale._week.doy;var l=ae(Ie(),r,a);n=ke(t.gg,e._a[on],l.year),s=ke(t.w,l.week),null!=t.d?((i=t.d)<0||i>6)&&(u=!0):null!=t.e?(i=t.e+r,(t.e<0||t.e>6)&&(u=!0)):i=r}s<1||s>oe(n,r,a)?c(e)._overflowWeeks=!0:null!=u?c(e)._overflowWeekday=!0:(o=re(n,s,i,r,a),e._a[on]=o.year,e._dayOfYear=o.dayOfYear)}function Oe(e){var t,n,s,i,r,a,o=e._i,u=Nn.exec(o)||Hn.exec(o);if(u){for(c(e).iso=!0,t=0,n=Gn.length;t<n;t++)if(Gn[t][1].exec(u[1])){i=Gn[t][0],s=!1!==Gn[t][2];break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=Vn.length;t<n;t++)if(Vn[t][1].exec(u[3])){r=(u[2]||" ")+Vn[t][0];break}if(null==r)return void(e._isValid=!1)}if(!s&&null!=r)return void(e._isValid=!1);if(u[4]){if(!Ln.exec(u[4]))return void(e._isValid=!1);a="Z"}e._f=i+(r||"")+(a||""),Fe(e)}else e._isValid=!1}function xe(e,t,n,s,i,r){var a=[Te(e),vn.indexOf(t),parseInt(n,10),parseInt(s,10),parseInt(i,10)];return r&&a.push(parseInt(r,10)),a}function Te(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function be(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}function Pe(e,t,n){return!e||Yn.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(c(n).weekdayMismatch=!0,n._isValid=!1,!1)}function We(e,t,n){if(e)return En[e];if(t)return 0;var s=parseInt(n,10),i=s%100;return 60*((s-i)/100)+i}function Re(e){var t=In.exec(be(e._i));if(t){var n=xe(t[4],t[3],t[2],t[5],t[6],t[7]);if(!Pe(t[1],n,e))return;e._a=n,e._tzm=We(t[8],t[9],t[10]),e._d=se.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),c(e).rfc2822=!0}else e._isValid=!1}function Ce(t){var n=jn.exec(t._i);null===n?(Oe(t),!1===t._isValid&&(delete t._isValid,Re(t),!1===t._isValid&&(delete t._isValid,e.createFromInputFallback(t)))):t._d=new Date((+n[1]))}function Fe(t){if(t._f!==e.ISO_8601)if(t._f!==e.RFC_2822){t._a=[],c(t).empty=!0;var n,s,i,r,a,o=""+t._i,u=o.length,l=0;for(i=H(t._f,t._locale).match(Ht)||[],n=0;n<i.length;n++)r=i[n],(s=(o.match(G(r,t))||[])[0])&&((a=o.substr(0,o.indexOf(s))).length>0&&c(t).unusedInput.push(a),o=o.slice(o.indexOf(s)+s.length),l+=s.length),Vt[r]?(s?c(t).empty=!1:c(t).unusedTokens.push(r),A(r,s,t)):t._strict&&!s&&c(t).unusedTokens.push(r);c(t).charsLeftOver=u-l,o.length>0&&c(t).unusedInput.push(o),t._a[dn]<=12&&!0===c(t).bigHour&&t._a[dn]>0&&(c(t).bigHour=void 0),c(t).parsedDateParts=t._a.slice(0),c(t).meridiem=t._meridiem,t._a[dn]=Ue(t._locale,t._a[dn],t._meridiem),De(t),Me(t)}else Re(t);else Oe(t)}function Ue(e,t,n){var s;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((s=e.isPM(n))&&t<12&&(t+=12),s||12!==t||(t=0),t):t}function Ne(e){var t,n,s,i,r;if(0===e._f.length)return c(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)r=0,t=_({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Fe(t),f(t)&&(r+=c(t).charsLeftOver,r+=10*c(t).unusedTokens.length,c(t).score=r,(null==s||r<s)&&(s=r,n=t));l(e,n||t)}function He(e){if(!e._d){var t=b(e._i);e._a=o([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),De(e)}}function Le(e){var t=new y(Me(Ge(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Ge(e){var n=e._i,s=e._f;return e._locale=e._locale||ve(e._l),null===n||void 0===s&&""===n?m({nullInput:!0}):("string"==typeof n&&(e._i=n=e._locale.preparse(n)),g(n)?new y(Me(n)):(a(n)?e._d=n:t(s)?Ne(e):s?Fe(e):Ve(e),f(e)||(e._d=null),e))}function Ve(s){var u=s._i;i(u)?s._d=new Date(e.now()):a(u)?s._d=new Date(u.valueOf()):"string"==typeof u?Ce(s):t(u)?(s._a=o(u.slice(0),function(e){return parseInt(e,10)}),De(s)):n(u)?He(s):r(u)?s._d=new Date(u):e.createFromInputFallback(s)}function je(e,i,r,a,o){var u={};return!0!==r&&!1!==r||(a=r,r=void 0),(n(e)&&s(e)||t(e)&&0===e.length)&&(e=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=o,u._l=r,u._i=e,u._f=i,u._strict=a,Le(u)}function Ie(e,t,n,s){return je(e,t,n,s,!1)}function Ee(e,n){var s,i;if(1===n.length&&t(n[0])&&(n=n[0]),!n.length)return Ie();for(s=n[0],i=1;i<n.length;++i)n[i].isValid()&&!n[i][e](s)||(s=n[i]);return s}function Ae(e){for(var t in e)if(-1===yn.call(Zn,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,s=0;s<Zn.length;++s)if(e[Zn[s]]){if(n)return!1;parseFloat(e[Zn[s]])!==w(e[Zn[s]])&&(n=!0)}return!0}function ze(e){var t=b(e),n=t.year||0,s=t.quarter||0,i=t.month||0,r=t.week||0,a=t.day||0,o=t.hour||0,u=t.minute||0,l=t.second||0,d=t.millisecond||0;this._isValid=Ae(t),this._milliseconds=+d+1e3*l+6e4*u+1e3*o*60*60,this._days=+a+7*r,this._months=+i+3*s+12*n,this._data={},this._locale=ve(),this._bubble()}function Ze(e){return e instanceof ze}function $e(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function qe(e,t){C(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+R(~~(e/60),2)+t+R(~~e%60,2)})}function Je(e,t){var n=(t||"").match(e);if(null===n)return null;var s=((n[n.length-1]||[])+"").match($n)||["-",0,0],i=60*s[1]+w(s[2]);return 0===i?0:"+"===s[0]?i:-i}function Be(t,n){var s,i;return n._isUTC?(s=n.clone(),i=(g(t)||a(t)?t.valueOf():Ie(t).valueOf())-s.valueOf(),s._d.setTime(s._d.valueOf()+i),e.updateOffset(s,!1),s):Ie(t).local()}function Qe(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Xe(){return!!this.isValid()&&this._isUTC&&0===this._offset}function Ke(e,t){var n,s,i,a=e,o=null;return Ze(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:r(e)?(a={},t?a[t]=e:a.milliseconds=e):(o=qn.exec(e))?(n="-"===o[1]?-1:1,a={y:0,d:w(o[ln])*n,h:w(o[dn])*n,m:w(o[hn])*n,s:w(o[cn])*n,ms:w($e(1e3*o[fn]))*n}):(o=Jn.exec(e))?(n="-"===o[1]?-1:(o[1],1),a={y:et(o[2],n),M:et(o[3],n),w:et(o[4],n),d:et(o[5],n),h:et(o[6],n),m:et(o[7],n),s:et(o[8],n)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(i=nt(Ie(a.from),Ie(a.to)),(a={}).ms=i.milliseconds,a.M=i.months),s=new ze(a),Ze(e)&&u(e,"_locale")&&(s._locale=e._locale),s}function et(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function tt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function nt(e,t){var n;return e.isValid()&&t.isValid()?(t=Be(t,e),e.isBefore(t)?n=tt(e,t):((n=tt(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function st(e,t){return function(n,s){var i,r;return null===s||isNaN(+s)||(S(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=s,s=r),n="string"==typeof n?+n:n,i=Ke(n,s),it(this,i,e),this}}function it(t,n,s,i){var r=n._milliseconds,a=$e(n._days),o=$e(n._months);t.isValid()&&(i=null==i||i,o&&K(t,q(t,"Month")+o*s),a&&J(t,"Date",q(t,"Date")+a*s),r&&t._d.setTime(t._d.valueOf()+r*s),i&&e.updateOffset(t,a||o))}function rt(e,t){var n,s=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(s,"months");return n=t-i<0?(t-i)/(i-e.clone().add(s-1,"months")):(t-i)/(e.clone().add(s+1,"months")-i),-(s+n)||0}function at(e){var t;return void 0===e?this._locale._abbr:(null!=(t=ve(e))&&(this._locale=t),this)}function ot(){return this._locale}function ut(e,t){C(0,[e,e.length],0,t)}function lt(e,t,n,s,i){var r;return null==e?ae(this,s,i).year:(r=oe(e,s,i),t>r&&(t=r),dt.call(this,e,t,n,s,i))}function dt(e,t,n,s,i){var r=re(e,t,n,s,i),a=se(r.year,0,r.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function ht(e){return e}function ct(e,t,n,s){var i=ve(),r=d().set(s,t);return i[n](r,e)}function ft(e,t,n){if(r(e)&&(t=e,e=void 0),e=e||"",null!=t)return ct(e,t,n,"month");var s,i=[];for(s=0;s<12;s++)i[s]=ct(e,s,n,"month");return i}function mt(e,t,n,s){"boolean"==typeof e?(r(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,r(t)&&(n=t,t=void 0),t=t||"");var i=ve(),a=e?i._week.dow:0;if(null!=n)return ct(t,(n+a)%7,s,"day");var o,u=[];for(o=0;o<7;o++)u[o]=ct(t,(o+a)%7,s,"day");return u}function _t(e,t,n,s){var i=Ke(t,n);return e._milliseconds+=s*i._milliseconds,e._days+=s*i._days,e._months+=s*i._months,e._bubble()}function yt(e){return e<0?Math.floor(e):Math.ceil(e)}function gt(e){return 4800*e/146097}function pt(e){return 146097*e/4800}function wt(e){return function(){return this.as(e)}}function vt(e){return function(){return this.isValid()?this._data[e]:NaN}}function Mt(e,t,n,s,i){return i.relativeTime(t||1,!!n,e,s)}function kt(e,t,n){var s=Ke(e).abs(),i=ks(s.as("s")),r=ks(s.as("m")),a=ks(s.as("h")),o=ks(s.as("d")),u=ks(s.as("M")),l=ks(s.as("y")),d=i<=Ss.ss&&["s",i]||i<Ss.s&&["ss",i]||r<=1&&["m"]||r<Ss.m&&["mm",r]||a<=1&&["h"]||a<Ss.h&&["hh",a]||o<=1&&["d"]||o<Ss.d&&["dd",o]||u<=1&&["M"]||u<Ss.M&&["MM",u]||l<=1&&["y"]||["yy",l];return d[2]=t,d[3]=+e>0,d[4]=n,Mt.apply(null,d)}function St(e){return(e>0)-(e<0)||+e}function Dt(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,s=Ds(this._milliseconds)/1e3,i=Ds(this._days),r=Ds(this._months);t=p((e=p(s/60))/60),s%=60,e%=60;var a=n=p(r/12),o=r%=12,u=i,l=t,d=e,h=s?s.toFixed(3).replace(/\.?0+$/,""):"",c=this.asSeconds();if(!c)return"P0D";var f=c<0?"-":"",m=St(this._months)!==St(c)?"-":"",_=St(this._days)!==St(c)?"-":"",y=St(this._milliseconds)!==St(c)?"-":"";return f+"P"+(a?m+a+"Y":"")+(o?m+o+"M":"")+(u?_+u+"D":"")+(l||d||h?"T":"")+(l?y+l+"H":"")+(d?y+d+"M":"")+(h?y+h+"S":"")}var Yt,Ot;Ot=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,s=0;s<n;s++)if(s in t&&e.call(this,t[s],s,t))return!0;return!1};var xt=e.momentProperties=[],Tt=!1,bt={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var Pt;Pt=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)u(e,t)&&n.push(t);return n};var Wt={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Rt={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Ct=/\d{1,2}/,Ft={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Ut={},Nt={},Ht=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Lt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Gt={},Vt={},jt=/\d/,It=/\d\d/,Et=/\d{3}/,At=/\d{4}/,zt=/[+-]?\d{6}/,Zt=/\d\d?/,$t=/\d\d\d\d?/,qt=/\d\d\d\d\d\d?/,Jt=/\d{1,3}/,Bt=/\d{1,4}/,Qt=/[+-]?\d{1,6}/,Xt=/\d+/,Kt=/[+-]?\d+/,en=/Z|[+-]\d\d:?\d\d/gi,tn=/Z|[+-]\d\d(?::?\d\d)?/gi,nn=/[+-]?\d+(\.\d{1,3})?/,sn=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,rn={},an={},on=0,un=1,ln=2,dn=3,hn=4,cn=5,fn=6,mn=7,_n=8;
C("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),C(0,["YY",2],0,function(){return this.year()%100}),C(0,["YYYY",4],0,"year"),C(0,["YYYYY",5],0,"year"),C(0,["YYYYYY",6,!0],0,"year"),x("year","y"),P("year",1),L("Y",Kt),L("YY",Zt,It),L("YYYY",Bt,At),L("YYYYY",Qt,zt),L("YYYYYY",Qt,zt),I(["YYYYY","YYYYYY"],on),I("YYYY",function(t,n){n[on]=2===t.length?e.parseTwoDigitYear(t):w(t)}),I("YY",function(t,n){n[on]=e.parseTwoDigitYear(t)}),I("Y",function(e,t){t[on]=parseInt(e,10)}),e.parseTwoDigitYear=function(e){return w(e)+(w(e)>68?1900:2e3)};var yn,gn=$("FullYear",!0);yn=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},C("M",["MM",2],"Mo",function(){return this.month()+1}),C("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),C("MMMM",0,0,function(e){return this.localeData().months(this,e)}),x("month","M"),P("month",8),L("M",Zt),L("MM",Zt,It),L("MMM",function(e,t){return t.monthsShortRegex(e)}),L("MMMM",function(e,t){return t.monthsRegex(e)}),I(["M","MM"],function(e,t){t[un]=w(e)-1}),I(["MMM","MMMM"],function(e,t,n,s){var i=n._locale.monthsParse(e,s,n._strict);null!=i?t[un]=i:c(n).invalidMonth=e});var pn=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,wn="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),vn="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Mn=sn,kn=sn;C("w",["ww",2],"wo","week"),C("W",["WW",2],"Wo","isoWeek"),x("week","w"),x("isoWeek","W"),P("week",5),P("isoWeek",5),L("w",Zt),L("ww",Zt,It),L("W",Zt),L("WW",Zt,It),E(["w","ww","W","WW"],function(e,t,n,s){t[s.substr(0,1)]=w(e)});var Sn={dow:0,doy:6};C("d",0,"do","day"),C("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),C("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),C("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),C("e",0,0,"weekday"),C("E",0,0,"isoWeekday"),x("day","d"),x("weekday","e"),x("isoWeekday","E"),P("day",11),P("weekday",11),P("isoWeekday",11),L("d",Zt),L("e",Zt),L("E",Zt),L("dd",function(e,t){return t.weekdaysMinRegex(e)}),L("ddd",function(e,t){return t.weekdaysShortRegex(e)}),L("dddd",function(e,t){return t.weekdaysRegex(e)}),E(["dd","ddd","dddd"],function(e,t,n,s){var i=n._locale.weekdaysParse(e,s,n._strict);null!=i?t.d=i:c(n).invalidWeekday=e}),E(["d","e","E"],function(e,t,n,s){t[s]=w(e)});var Dn="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Yn="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),On="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),xn=sn,Tn=sn,bn=sn;C("H",["HH",2],0,"hour"),C("h",["hh",2],0,ce),C("k",["kk",2],0,function(){return this.hours()||24}),C("hmm",0,0,function(){return""+ce.apply(this)+R(this.minutes(),2)}),C("hmmss",0,0,function(){return""+ce.apply(this)+R(this.minutes(),2)+R(this.seconds(),2)}),C("Hmm",0,0,function(){return""+this.hours()+R(this.minutes(),2)}),C("Hmmss",0,0,function(){return""+this.hours()+R(this.minutes(),2)+R(this.seconds(),2)}),fe("a",!0),fe("A",!1),x("hour","h"),P("hour",13),L("a",me),L("A",me),L("H",Zt),L("h",Zt),L("k",Zt),L("HH",Zt,It),L("hh",Zt,It),L("kk",Zt,It),L("hmm",$t),L("hmmss",qt),L("Hmm",$t),L("Hmmss",qt),I(["H","HH"],dn),I(["k","kk"],function(e,t,n){var s=w(e);t[dn]=24===s?0:s}),I(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),I(["h","hh"],function(e,t,n){t[dn]=w(e),c(n).bigHour=!0}),I("hmm",function(e,t,n){var s=e.length-2;t[dn]=w(e.substr(0,s)),t[hn]=w(e.substr(s)),c(n).bigHour=!0}),I("hmmss",function(e,t,n){var s=e.length-4,i=e.length-2;t[dn]=w(e.substr(0,s)),t[hn]=w(e.substr(s,2)),t[cn]=w(e.substr(i)),c(n).bigHour=!0}),I("Hmm",function(e,t,n){var s=e.length-2;t[dn]=w(e.substr(0,s)),t[hn]=w(e.substr(s))}),I("Hmmss",function(e,t,n){var s=e.length-4,i=e.length-2;t[dn]=w(e.substr(0,s)),t[hn]=w(e.substr(s,2)),t[cn]=w(e.substr(i))});var Pn,Wn=/[ap]\.?m?\.?/i,Rn=$("Hours",!0),Cn={calendar:Wt,longDateFormat:Rt,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:Ct,relativeTime:Ft,months:wn,monthsShort:vn,week:Sn,weekdays:Dn,weekdaysMin:On,weekdaysShort:Yn,meridiemParse:Wn},Fn={},Un={},Nn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Hn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ln=/Z|[+-]\d\d(?::?\d\d)?/,Gn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Vn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],jn=/^\/?Date\((\-?\d+)/i,In=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,En={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};e.createFromInputFallback=k("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),e.ISO_8601=function(){},e.RFC_2822=function(){};var An=k("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Ie.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:m()}),zn=k("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Ie.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:m()}),Zn=["year","quarter","month","week","day","hour","minute","second","millisecond"];qe("Z",":"),qe("ZZ",""),L("Z",tn),L("ZZ",tn),I(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Je(tn,e)});var $n=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var qn=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Jn=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Ke.fn=ze.prototype,Ke.invalid=function(){return Ke(NaN)};var Bn=st(1,"add"),Qn=st(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Xn=k("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});C(0,["gg",2],0,function(){return this.weekYear()%100}),C(0,["GG",2],0,function(){return this.isoWeekYear()%100}),ut("gggg","weekYear"),ut("ggggg","weekYear"),ut("GGGG","isoWeekYear"),ut("GGGGG","isoWeekYear"),x("weekYear","gg"),x("isoWeekYear","GG"),P("weekYear",1),P("isoWeekYear",1),L("G",Kt),L("g",Kt),L("GG",Zt,It),L("gg",Zt,It),L("GGGG",Bt,At),L("gggg",Bt,At),L("GGGGG",Qt,zt),L("ggggg",Qt,zt),E(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,s){t[s.substr(0,2)]=w(e)}),E(["gg","GG"],function(t,n,s,i){n[i]=e.parseTwoDigitYear(t)}),C("Q",0,"Qo","quarter"),x("quarter","Q"),P("quarter",7),L("Q",jt),I("Q",function(e,t){t[un]=3*(w(e)-1)}),C("D",["DD",2],"Do","date"),x("date","D"),P("date",9),L("D",Zt),L("DD",Zt,It),L("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),I(["D","DD"],ln),I("Do",function(e,t){t[ln]=w(e.match(Zt)[0],10)});var Kn=$("Date",!0);C("DDD",["DDDD",3],"DDDo","dayOfYear"),x("dayOfYear","DDD"),P("dayOfYear",4),L("DDD",Jt),L("DDDD",Et),I(["DDD","DDDD"],function(e,t,n){n._dayOfYear=w(e)}),C("m",["mm",2],0,"minute"),x("minute","m"),P("minute",14),L("m",Zt),L("mm",Zt,It),I(["m","mm"],hn);var es=$("Minutes",!1);C("s",["ss",2],0,"second"),x("second","s"),P("second",15),L("s",Zt),L("ss",Zt,It),I(["s","ss"],cn);var ts=$("Seconds",!1);C("S",0,0,function(){return~~(this.millisecond()/100)}),C(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),C(0,["SSS",3],0,"millisecond"),C(0,["SSSS",4],0,function(){return 10*this.millisecond()}),C(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),C(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),C(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),C(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),C(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),x("millisecond","ms"),P("millisecond",16),L("S",Jt,jt),L("SS",Jt,It),L("SSS",Jt,Et);var ns;for(ns="SSSS";ns.length<=9;ns+="S")L(ns,Xt);for(ns="S";ns.length<=9;ns+="S")I(ns,function(e,t){t[fn]=w(1e3*("0."+e))});var ss=$("Milliseconds",!1);C("z",0,0,"zoneAbbr"),C("zz",0,0,"zoneName");var is=y.prototype;is.add=Bn,is.calendar=function(t,n){var s=t||Ie(),i=Be(s,this).startOf("day"),r=e.calendarFormat(this,i)||"sameElse",a=n&&(D(n[r])?n[r].call(this,s):n[r]);return this.format(a||this.localeData().calendar(r,this,Ie(s)))},is.clone=function(){return new y(this)},is.diff=function(e,t,n){var s,i,r;if(!this.isValid())return NaN;if(!(s=Be(e,this)).isValid())return NaN;switch(i=6e4*(s.utcOffset()-this.utcOffset()),t=T(t)){case"year":r=rt(this,s)/12;break;case"month":r=rt(this,s);break;case"quarter":r=rt(this,s)/3;break;case"second":r=(this-s)/1e3;break;case"minute":r=(this-s)/6e4;break;case"hour":r=(this-s)/36e5;break;case"day":r=(this-s-i)/864e5;break;case"week":r=(this-s-i)/6048e5;break;default:r=this-s}return n?r:p(r)},is.endOf=function(e){return void 0===(e=T(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))},is.format=function(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var n=N(this,t);return this.localeData().postformat(n)},is.from=function(e,t){return this.isValid()&&(g(e)&&e.isValid()||Ie(e).isValid())?Ke({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},is.fromNow=function(e){return this.from(Ie(),e)},is.to=function(e,t){return this.isValid()&&(g(e)&&e.isValid()||Ie(e).isValid())?Ke({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},is.toNow=function(e){return this.to(Ie(),e)},is.get=function(e){return e=T(e),D(this[e])?this[e]():this},is.invalidAt=function(){return c(this).overflow},is.isAfter=function(e,t){var n=g(e)?e:Ie(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=T(i(t)?"millisecond":t))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},is.isBefore=function(e,t){var n=g(e)?e:Ie(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=T(i(t)?"millisecond":t))?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},is.isBetween=function(e,t,n,s){return("("===(s=s||"()")[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===s[1]?this.isBefore(t,n):!this.isAfter(t,n))},is.isSame=function(e,t){var n,s=g(e)?e:Ie(e);return!(!this.isValid()||!s.isValid())&&("millisecond"===(t=T(t||"millisecond"))?this.valueOf()===s.valueOf():(n=s.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},is.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},is.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},is.isValid=function(){return f(this)},is.lang=Xn,is.locale=at,is.localeData=ot,is.max=zn,is.min=An,is.parsingFlags=function(){return l({},c(this))},is.set=function(e,t){if("object"==typeof e)for(var n=W(e=b(e)),s=0;s<n.length;s++)this[n[s].unit](e[n[s].unit]);else if(e=T(e),D(this[e]))return this[e](t);return this},is.startOf=function(e){switch(e=T(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},is.subtract=Qn,is.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},is.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},is.toDate=function(){return new Date(this.valueOf())},is.toISOString=function(){if(!this.isValid())return null;var e=this.clone().utc();return e.year()<0||e.year()>9999?N(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):D(Date.prototype.toISOString)?this.toDate().toISOString():N(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},is.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',s=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=t+'[")]';return this.format(n+s+"-MM-DD[T]HH:mm:ss.SSS"+i)},is.toJSON=function(){return this.isValid()?this.toISOString():null},is.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},is.unix=function(){return Math.floor(this.valueOf()/1e3)},is.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},is.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},is.year=gn,is.isLeapYear=function(){return Z(this.year())},is.weekYear=function(e){return lt.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},is.isoWeekYear=function(e){return lt.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},is.quarter=is.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},is.month=ee,is.daysInMonth=function(){return Q(this.year(),this.month())},is.week=is.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},is.isoWeek=is.isoWeeks=function(e){var t=ae(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},is.weeksInYear=function(){var e=this.localeData()._week;return oe(this.year(),e.dow,e.doy)},is.isoWeeksInYear=function(){return oe(this.year(),1,4)},is.date=Kn,is.day=is.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=ue(e,this.localeData()),this.add(e-t,"d")):t},is.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},is.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=le(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},is.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},is.hour=is.hours=Rn,is.minute=is.minutes=es,is.second=is.seconds=ts,is.millisecond=is.milliseconds=ss,is.utcOffset=function(t,n,s){var i,r=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=Je(tn,t)))return this}else Math.abs(t)<16&&!s&&(t*=60);return!this._isUTC&&n&&(i=Qe(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==t&&(!n||this._changeInProgress?it(this,Ke(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?r:Qe(this)},is.utc=function(e){return this.utcOffset(0,e)},is.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Qe(this),"m")),this},is.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Je(en,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},is.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Ie(e).utcOffset():0,(this.utcOffset()-e)%60==0)},is.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},is.isLocal=function(){return!!this.isValid()&&!this._isUTC},is.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},is.isUtc=Xe,is.isUTC=Xe,is.zoneAbbr=function(){return this._isUTC?"UTC":""},is.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},is.dates=k("dates accessor is deprecated. Use date instead.",Kn),is.months=k("months accessor is deprecated. Use month instead",ee),is.years=k("years accessor is deprecated. Use year instead",gn),is.zone=k("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),is.isDSTShifted=k("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!i(this._isDSTShifted))return this._isDSTShifted;var e={};if(_(e,this),(e=Ge(e))._a){var t=e._isUTC?d(e._a):Ie(e._a);this._isDSTShifted=this.isValid()&&v(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted});var rs=O.prototype;rs.calendar=function(e,t,n){var s=this._calendar[e]||this._calendar.sameElse;return D(s)?s.call(t,n):s},rs.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},rs.invalidDate=function(){return this._invalidDate},rs.ordinal=function(e){return this._ordinal.replace("%d",e)},rs.preparse=ht,rs.postformat=ht,rs.relativeTime=function(e,t,n,s){var i=this._relativeTime[n];return D(i)?i(e,t,n,s):i.replace(/%d/i,e)},rs.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return D(n)?n(t):n.replace(/%s/i,t)},rs.set=function(e){var t,n;for(n in e)D(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},rs.months=function(e,n){return e?t(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||pn).test(n)?"format":"standalone"][e.month()]:t(this._months)?this._months:this._months.standalone},rs.monthsShort=function(e,n){return e?t(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[pn.test(n)?"format":"standalone"][e.month()]:t(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},rs.monthsParse=function(e,t,n){var s,i,r;if(this._monthsParseExact)return X.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(i=d([2e3,s]),n&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[s]||(r="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[s]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[s].test(e))return s;if(n&&"MMM"===t&&this._shortMonthsParse[s].test(e))return s;if(!n&&this._monthsParse[s].test(e))return s}},rs.monthsRegex=function(e){return this._monthsParseExact?(u(this,"_monthsRegex")||te.call(this),e?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=kn),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},rs.monthsShortRegex=function(e){return this._monthsParseExact?(u(this,"_monthsRegex")||te.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=Mn),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},rs.week=function(e){return ae(e,this._week.dow,this._week.doy).week},rs.firstDayOfYear=function(){return this._week.doy},rs.firstDayOfWeek=function(){return this._week.dow},rs.weekdays=function(e,n){return e?t(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(n)?"format":"standalone"][e.day()]:t(this._weekdays)?this._weekdays:this._weekdays.standalone},rs.weekdaysMin=function(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin},rs.weekdaysShort=function(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort},rs.weekdaysParse=function(e,t,n){var s,i,r;if(this._weekdaysParseExact)return de.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(i=d([2e3,1]).day(s),n&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(i,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(i,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(i,"").replace(".",".?")+"$","i")),this._weekdaysParse[s]||(r="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[s]=new RegExp(r.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[s].test(e))return s;if(n&&"ddd"===t&&this._shortWeekdaysParse[s].test(e))return s;if(n&&"dd"===t&&this._minWeekdaysParse[s].test(e))return s;if(!n&&this._weekdaysParse[s].test(e))return s}},rs.weekdaysRegex=function(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||he.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=xn),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},rs.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||he.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Tn),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},rs.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||he.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=bn),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},rs.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},rs.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},pe("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===w(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),e.lang=k("moment.lang is deprecated. Use moment.locale instead.",pe),e.langData=k("moment.langData is deprecated. Use moment.localeData instead.",ve);var as=Math.abs,os=wt("ms"),us=wt("s"),ls=wt("m"),ds=wt("h"),hs=wt("d"),cs=wt("w"),fs=wt("M"),ms=wt("y"),_s=vt("milliseconds"),ys=vt("seconds"),gs=vt("minutes"),ps=vt("hours"),ws=vt("days"),vs=vt("months"),Ms=vt("years"),ks=Math.round,Ss={ss:44,s:45,m:45,h:22,d:26,M:11},Ds=Math.abs,Ys=ze.prototype;return Ys.isValid=function(){return this._isValid},Ys.abs=function(){var e=this._data;return this._milliseconds=as(this._milliseconds),this._days=as(this._days),this._months=as(this._months),e.milliseconds=as(e.milliseconds),e.seconds=as(e.seconds),e.minutes=as(e.minutes),e.hours=as(e.hours),e.months=as(e.months),e.years=as(e.years),this},Ys.add=function(e,t){return _t(this,e,t,1)},Ys.subtract=function(e,t){return _t(this,e,t,-1)},Ys.as=function(e){if(!this.isValid())return NaN;var t,n,s=this._milliseconds;if("month"===(e=T(e))||"year"===e)return t=this._days+s/864e5,n=this._months+gt(t),"month"===e?n:n/12;switch(t=this._days+Math.round(pt(this._months)),e){case"week":return t/7+s/6048e5;case"day":return t+s/864e5;case"hour":return 24*t+s/36e5;case"minute":return 1440*t+s/6e4;case"second":return 86400*t+s/1e3;case"millisecond":return Math.floor(864e5*t)+s;default:throw new Error("Unknown unit "+e)}},Ys.asMilliseconds=os,Ys.asSeconds=us,Ys.asMinutes=ls,Ys.asHours=ds,Ys.asDays=hs,Ys.asWeeks=cs,Ys.asMonths=fs,Ys.asYears=ms,Ys.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*w(this._months/12):NaN},Ys._bubble=function(){var e,t,n,s,i,r=this._milliseconds,a=this._days,o=this._months,u=this._data;return r>=0&&a>=0&&o>=0||r<=0&&a<=0&&o<=0||(r+=864e5*yt(pt(o)+a),a=0,o=0),u.milliseconds=r%1e3,e=p(r/1e3),u.seconds=e%60,t=p(e/60),u.minutes=t%60,n=p(t/60),u.hours=n%24,a+=p(n/24),i=p(gt(a)),o+=i,a-=yt(pt(i)),s=p(o/12),o%=12,u.days=a,u.months=o,u.years=s,this},Ys.clone=function(){return Ke(this)},Ys.get=function(e){return e=T(e),this.isValid()?this[e+"s"]():NaN},Ys.milliseconds=_s,Ys.seconds=ys,Ys.minutes=gs,Ys.hours=ps,Ys.days=ws,Ys.weeks=function(){return p(this.days()/7)},Ys.months=vs,Ys.years=Ms,Ys.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=kt(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)},Ys.toISOString=Dt,Ys.toString=Dt,Ys.toJSON=Dt,Ys.locale=at,Ys.localeData=ot,Ys.toIsoString=k("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Dt),Ys.lang=Xn,C("X",0,0,"unix"),C("x",0,0,"valueOf"),L("x",Kt),L("X",nn),I("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),I("x",function(e,t,n){n._d=new Date(w(e))}),e.version="2.19.1",function(e){Yt=e}(Ie),e.fn=is,e.min=function(){return Ee("isBefore",[].slice.call(arguments,0))},e.max=function(){return Ee("isAfter",[].slice.call(arguments,0))},e.now=function(){return Date.now?Date.now():+new Date},e.utc=d,e.unix=function(e){return Ie(1e3*e)},e.months=function(e,t){return ft(e,t,"months")},e.isDate=a,e.locale=pe,e.invalid=m,e.duration=Ke,e.isMoment=g,e.weekdays=function(e,t,n){return mt(e,t,n,"weekdays")},e.parseZone=function(){return Ie.apply(null,arguments).parseZone()},e.localeData=ve,e.isDuration=Ze,e.monthsShort=function(e,t){return ft(e,t,"monthsShort")},e.weekdaysMin=function(e,t,n){return mt(e,t,n,"weekdaysMin")},e.defineLocale=we,e.updateLocale=function(e,t){if(null!=t){var n,s=Cn;null!=Fn[e]&&(s=Fn[e]._config),(n=new O(t=Y(s,t))).parentLocale=Fn[e],Fn[e]=n,pe(e)}else null!=Fn[e]&&(null!=Fn[e].parentLocale?Fn[e]=Fn[e].parentLocale:null!=Fn[e]&&delete Fn[e]);return Fn[e]},e.locales=function(){return Pt(Fn)},e.weekdaysShort=function(e,t,n){return mt(e,t,n,"weekdaysShort")},e.normalizeUnits=T,e.relativeTimeRounding=function(e){return void 0===e?ks:"function"==typeof e&&(ks=e,!0)},e.relativeTimeThreshold=function(e,t){return void 0!==Ss[e]&&(void 0===t?Ss[e]:(Ss[e]=t,"s"===e&&(Ss.ss=t-1),!0))},e.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},e.prototype=is,e}),!function(a){"use strict";if("function"==typeof define&&define.amd)define(["jquery","moment"],a);else if("object"==typeof exports)module.exports=a(require("jquery"),require("moment"));else{if("undefined"==typeof jQuery)throw"bootstrap-datetimepicker requires jQuery to be loaded first";if("undefined"==typeof moment)throw"bootstrap-datetimepicker requires Moment.js to be loaded first";a(jQuery,moment)}}(function(a,b){"use strict";if(!b)throw new Error("bootstrap-datetimepicker requires Moment.js to be loaded first");var c=function(c,d){var e,f,g,h,i,j,k,l={},m=!0,n=!1,o=!1,p=0,q=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10},{clsName:"decades",navFnc:"y",navStep:100}],r=["days","months","years","decades"],s=["top","bottom","auto"],t=["left","right","auto"],u=["default","top","bottom"],v={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t","delete":46,46:"delete"},w={},x=function(){return void 0!==b.tz&&void 0!==d.timeZone&&null!==d.timeZone&&""!==d.timeZone},y=function(a){var c;return c=void 0===a||null===a?b():b.isDate(a)||b.isMoment(a)?b(a):x()?b.tz(a,j,d.useStrict,d.timeZone):b(a,j,d.useStrict),x()&&c.tz(d.timeZone),c},z=function(a){if("string"!=typeof a||a.length>1)throw new TypeError("isEnabled expects a single character string parameter");switch(a){case"y":return i.indexOf("Y")!==-1;case"M":return i.indexOf("M")!==-1;case"d":return i.toLowerCase().indexOf("d")!==-1;case"h":case"H":return i.toLowerCase().indexOf("h")!==-1;case"m":return i.indexOf("m")!==-1;case"s":return i.indexOf("s")!==-1;default:return!1}},A=function(){return z("h")||z("m")||z("s")},B=function(){return z("y")||z("M")||z("d")},C=function(){var b=a("<thead>").append(a("<tr>").append(a("<th>").addClass("prev").attr("data-action","previous").append(a("<span>").addClass(d.icons.previous))).append(a("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",d.calendarWeeks?"6":"5")).append(a("<th>").addClass("next").attr("data-action","next").append(a("<span>").addClass(d.icons.next)))),c=a("<tbody>").append(a("<tr>").append(a("<td>").attr("colspan",d.calendarWeeks?"8":"7")));return[a("<div>").addClass("datepicker-days").append(a("<table>").addClass("table-condensed").append(b).append(a("<tbody>"))),a("<div>").addClass("datepicker-months").append(a("<table>").addClass("table-condensed").append(b.clone()).append(c.clone())),a("<div>").addClass("datepicker-years").append(a("<table>").addClass("table-condensed").append(b.clone()).append(c.clone())),a("<div>").addClass("datepicker-decades").append(a("<table>").addClass("table-condensed").append(b.clone()).append(c.clone()))]},D=function(){var b=a("<tr>"),c=a("<tr>"),e=a("<tr>");return z("h")&&(b.append(a("<td>").append(a("<a>").attr({href:"#",tabindex:"-1",title:d.tooltips.incrementHour}).addClass("btn").attr("data-action","incrementHours").append(a("<span>").addClass(d.icons.up)))),c.append(a("<td>").append(a("<span>").addClass("timepicker-hour").attr({"data-time-component":"hours",title:d.tooltips.pickHour}).attr("data-action","showHours"))),e.append(a("<td>").append(a("<a>").attr({href:"#",tabindex:"-1",title:d.tooltips.decrementHour}).addClass("btn").attr("data-action","decrementHours").append(a("<span>").addClass(d.icons.down))))),z("m")&&(z("h")&&(b.append(a("<td>").addClass("separator")),c.append(a("<td>").addClass("separator").html(":")),e.append(a("<td>").addClass("separator"))),b.append(a("<td>").append(a("<a>").attr({href:"#",tabindex:"-1",title:d.tooltips.incrementMinute}).addClass("btn").attr("data-action","incrementMinutes").append(a("<span>").addClass(d.icons.up)))),c.append(a("<td>").append(a("<span>").addClass("timepicker-minute").attr({"data-time-component":"minutes",title:d.tooltips.pickMinute}).attr("data-action","showMinutes"))),e.append(a("<td>").append(a("<a>").attr({href:"#",tabindex:"-1",title:d.tooltips.decrementMinute}).addClass("btn").attr("data-action","decrementMinutes").append(a("<span>").addClass(d.icons.down))))),z("s")&&(z("m")&&(b.append(a("<td>").addClass("separator")),c.append(a("<td>").addClass("separator").html(":")),e.append(a("<td>").addClass("separator"))),b.append(a("<td>").append(a("<a>").attr({href:"#",tabindex:"-1",title:d.tooltips.incrementSecond}).addClass("btn").attr("data-action","incrementSeconds").append(a("<span>").addClass(d.icons.up)))),c.append(a("<td>").append(a("<span>").addClass("timepicker-second").attr({"data-time-component":"seconds",title:d.tooltips.pickSecond}).attr("data-action","showSeconds"))),e.append(a("<td>").append(a("<a>").attr({href:"#",tabindex:"-1",title:d.tooltips.decrementSecond}).addClass("btn").attr("data-action","decrementSeconds").append(a("<span>").addClass(d.icons.down))))),
h||(b.append(a("<td>").addClass("separator")),c.append(a("<td>").append(a("<button>").addClass("btn btn-primary").attr({"data-action":"togglePeriod",tabindex:"-1",title:d.tooltips.togglePeriod}))),e.append(a("<td>").addClass("separator"))),a("<div>").addClass("timepicker-picker").append(a("<table>").addClass("table-condensed").append([b,c,e]))},E=function(){var b=a("<div>").addClass("timepicker-hours").append(a("<table>").addClass("table-condensed")),c=a("<div>").addClass("timepicker-minutes").append(a("<table>").addClass("table-condensed")),d=a("<div>").addClass("timepicker-seconds").append(a("<table>").addClass("table-condensed")),e=[D()];return z("h")&&e.push(b),z("m")&&e.push(c),z("s")&&e.push(d),e},F=function(){var b=[];return d.showTodayButton&&b.push(a("<td>").append(a("<a>").attr({"data-action":"today",title:d.tooltips.today}).append(a("<span>").addClass(d.icons.today)))),!d.sideBySide&&B()&&A()&&b.push(a("<td>").append(a("<a>").attr({"data-action":"togglePicker",title:d.tooltips.selectTime}).append(a("<span>").addClass(d.icons.time)))),d.showClear&&b.push(a("<td>").append(a("<a>").attr({"data-action":"clear",title:d.tooltips.clear}).append(a("<span>").addClass(d.icons.clear)))),d.showClose&&b.push(a("<td>").append(a("<a>").attr({"data-action":"close",title:d.tooltips.close}).append(a("<span>").addClass(d.icons.close)))),a("<table>").addClass("table-condensed").append(a("<tbody>").append(a("<tr>").append(b)))},G=function(){var b=a("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),c=a("<div>").addClass("datepicker").append(C()),e=a("<div>").addClass("timepicker").append(E()),f=a("<ul>").addClass("list-unstyled"),g=a("<li>").addClass("picker-switch"+(d.collapse?" accordion-toggle":"")).append(F());return d.inline&&b.removeClass("dropdown-menu"),h&&b.addClass("usetwentyfour"),z("s")&&!h&&b.addClass("wider"),d.sideBySide&&B()&&A()?(b.addClass("timepicker-sbs"),"top"===d.toolbarPlacement&&b.append(g),b.append(a("<div>").addClass("row").append(c.addClass("col-md-6")).append(e.addClass("col-md-6"))),"bottom"===d.toolbarPlacement&&b.append(g),b):("top"===d.toolbarPlacement&&f.append(g),B()&&f.append(a("<li>").addClass(d.collapse&&A()?"collapse in":"").append(c)),"default"===d.toolbarPlacement&&f.append(g),A()&&f.append(a("<li>").addClass(d.collapse&&B()?"collapse":"").append(e)),"bottom"===d.toolbarPlacement&&f.append(g),b.append(f))},H=function(){var b,e={};return b=c.is("input")||d.inline?c.data():c.find("input").data(),b.dateOptions&&b.dateOptions instanceof Object&&(e=a.extend(!0,e,b.dateOptions)),a.each(d,function(a){var c="date"+a.charAt(0).toUpperCase()+a.slice(1);void 0!==b[c]&&(e[a]=b[c])}),e},I=function(){var b,e=(n||c).position(),f=(n||c).offset(),g=d.widgetPositioning.vertical,h=d.widgetPositioning.horizontal;if(d.widgetParent)b=d.widgetParent.append(o);else if(c.is("input"))b=c.after(o).parent();else{if(d.inline)return void(b=c.append(o));b=c,c.children().first().after(o)}if("auto"===g&&(g=f.top+1.5*o.height()>=a(window).height()+a(window).scrollTop()&&o.height()+c.outerHeight()<f.top?"top":"bottom"),"auto"===h&&(h=b.width()<f.left+o.outerWidth()/2&&f.left+o.outerWidth()>a(window).width()?"right":"left"),"top"===g?o.addClass("top").removeClass("bottom"):o.addClass("bottom").removeClass("top"),"right"===h?o.addClass("pull-right"):o.removeClass("pull-right"),"static"===b.css("position")&&(b=b.parents().filter(function(){return"static"!==a(this).css("position")}).first()),0===b.length)throw new Error("datetimepicker component should be placed within a non-static positioned container");o.css({top:"top"===g?"auto":e.top+c.outerHeight(),bottom:"top"===g?b.outerHeight()-(b===c?0:e.top):"auto",left:"left"===h?b===c?0:e.left:"auto",right:"left"===h?"auto":b.outerWidth()-c.outerWidth()-(b===c?0:e.left)})},J=function(a){"dp.change"===a.type&&(a.date&&a.date.isSame(a.oldDate)||!a.date&&!a.oldDate)||c.trigger(a)},K=function(a){"y"===a&&(a="YYYY"),J({type:"dp.update",change:a,viewDate:f.clone()})},L=function(a){o&&(a&&(k=Math.max(p,Math.min(3,k+a))),o.find(".datepicker > div").hide().filter(".datepicker-"+q[k].clsName).show())},M=function(){var b=a("<tr>"),c=f.clone().startOf("w").startOf("d");for(d.calendarWeeks===!0&&b.append(a("<th>").addClass("cw").text("#"));c.isBefore(f.clone().endOf("w"));)b.append(a("<th>").addClass("dow").text(c.format("dd"))),c.add(1,"d");o.find(".datepicker-days thead").append(b)},N=function(a){return d.disabledDates[a.format("YYYY-MM-DD")]===!0},O=function(a){return d.enabledDates[a.format("YYYY-MM-DD")]===!0},P=function(a){return d.disabledHours[a.format("H")]===!0},Q=function(a){return d.enabledHours[a.format("H")]===!0},R=function(b,c){if(!b.isValid())return!1;if(d.disabledDates&&"d"===c&&N(b))return!1;if(d.enabledDates&&"d"===c&&!O(b))return!1;if(d.minDate&&b.isBefore(d.minDate,c))return!1;if(d.maxDate&&b.isAfter(d.maxDate,c))return!1;if(d.daysOfWeekDisabled&&"d"===c&&d.daysOfWeekDisabled.indexOf(b.day())!==-1)return!1;if(d.disabledHours&&("h"===c||"m"===c||"s"===c)&&P(b))return!1;if(d.enabledHours&&("h"===c||"m"===c||"s"===c)&&!Q(b))return!1;if(d.disabledTimeIntervals&&("h"===c||"m"===c||"s"===c)){var e=!1;if(a.each(d.disabledTimeIntervals,function(){if(b.isBetween(this[0],this[1]))return e=!0,!1}),e)return!1}return!0},S=function(){for(var b=[],c=f.clone().startOf("y").startOf("d");c.isSame(f,"y");)b.push(a("<span>").attr("data-action","selectMonth").addClass("month").text(c.format("MMM"))),c.add(1,"M");o.find(".datepicker-months td").empty().append(b)},T=function(){var b=o.find(".datepicker-months"),c=b.find("th"),g=b.find("tbody").find("span");c.eq(0).find("span").attr("title",d.tooltips.prevYear),c.eq(1).attr("title",d.tooltips.selectYear),c.eq(2).find("span").attr("title",d.tooltips.nextYear),b.find(".disabled").removeClass("disabled"),R(f.clone().subtract(1,"y"),"y")||c.eq(0).addClass("disabled"),c.eq(1).text(f.year()),R(f.clone().add(1,"y"),"y")||c.eq(2).addClass("disabled"),g.removeClass("active"),e.isSame(f,"y")&&!m&&g.eq(e.month()).addClass("active"),g.each(function(b){R(f.clone().month(b),"M")||a(this).addClass("disabled")})},U=function(){var a=o.find(".datepicker-years"),b=a.find("th"),c=f.clone().subtract(5,"y"),g=f.clone().add(6,"y"),h="";for(b.eq(0).find("span").attr("title",d.tooltips.prevDecade),b.eq(1).attr("title",d.tooltips.selectDecade),b.eq(2).find("span").attr("title",d.tooltips.nextDecade),a.find(".disabled").removeClass("disabled"),d.minDate&&d.minDate.isAfter(c,"y")&&b.eq(0).addClass("disabled"),b.eq(1).text(c.year()+"-"+g.year()),d.maxDate&&d.maxDate.isBefore(g,"y")&&b.eq(2).addClass("disabled");!c.isAfter(g,"y");)h+='<span data-action="selectYear" class="year'+(c.isSame(e,"y")&&!m?" active":"")+(R(c,"y")?"":" disabled")+'">'+c.year()+"</span>",c.add(1,"y");a.find("td").html(h)},V=function(){var a,c=o.find(".datepicker-decades"),g=c.find("th"),h=b({y:f.year()-f.year()%100-1}),i=h.clone().add(100,"y"),j=h.clone(),k=!1,l=!1,m="";for(g.eq(0).find("span").attr("title",d.tooltips.prevCentury),g.eq(2).find("span").attr("title",d.tooltips.nextCentury),c.find(".disabled").removeClass("disabled"),(h.isSame(b({y:1900}))||d.minDate&&d.minDate.isAfter(h,"y"))&&g.eq(0).addClass("disabled"),g.eq(1).text(h.year()+"-"+i.year()),(h.isSame(b({y:2e3}))||d.maxDate&&d.maxDate.isBefore(i,"y"))&&g.eq(2).addClass("disabled");!h.isAfter(i,"y");)a=h.year()+12,k=d.minDate&&d.minDate.isAfter(h,"y")&&d.minDate.year()<=a,l=d.maxDate&&d.maxDate.isAfter(h,"y")&&d.maxDate.year()<=a,m+='<span data-action="selectDecade" class="decade'+(e.isAfter(h)&&e.year()<=a?" active":"")+(R(h,"y")||k||l?"":" disabled")+'" data-selection="'+(h.year()+6)+'">'+(h.year()+1)+" - "+(h.year()+12)+"</span>",h.add(12,"y");m+="<span></span><span></span><span></span>",c.find("td").html(m),g.eq(1).text(j.year()+1+"-"+h.year())},W=function(){var b,c,g,h=o.find(".datepicker-days"),i=h.find("th"),j=[],k=[];if(B()){for(i.eq(0).find("span").attr("title",d.tooltips.prevMonth),i.eq(1).attr("title",d.tooltips.selectMonth),i.eq(2).find("span").attr("title",d.tooltips.nextMonth),h.find(".disabled").removeClass("disabled"),i.eq(1).text(f.format(d.dayViewHeaderFormat)),R(f.clone().subtract(1,"M"),"M")||i.eq(0).addClass("disabled"),R(f.clone().add(1,"M"),"M")||i.eq(2).addClass("disabled"),b=f.clone().startOf("M").startOf("w").startOf("d"),g=0;g<42;g++)0===b.weekday()&&(c=a("<tr>"),d.calendarWeeks&&c.append('<td class="cw">'+b.week()+"</td>"),j.push(c)),k=["day"],b.isBefore(f,"M")&&k.push("old"),b.isAfter(f,"M")&&k.push("new"),b.isSame(e,"d")&&!m&&k.push("active"),R(b,"d")||k.push("disabled"),b.isSame(y(),"d")&&k.push("today"),0!==b.day()&&6!==b.day()||k.push("weekend"),J({type:"dp.classify",date:b,classNames:k}),c.append('<td data-action="selectDay" data-day="'+b.format("L")+'" class="'+k.join(" ")+'">'+b.date()+"</td>"),b.add(1,"d");h.find("tbody").empty().append(j),T(),U(),V()}},X=function(){var b=o.find(".timepicker-hours table"),c=f.clone().startOf("d"),d=[],e=a("<tr>");for(f.hour()>11&&!h&&c.hour(12);c.isSame(f,"d")&&(h||f.hour()<12&&c.hour()<12||f.hour()>11);)c.hour()%4===0&&(e=a("<tr>"),d.push(e)),e.append('<td data-action="selectHour" class="hour'+(R(c,"h")?"":" disabled")+'">'+c.format(h?"HH":"hh")+"</td>"),c.add(1,"h");b.empty().append(d)},Y=function(){for(var b=o.find(".timepicker-minutes table"),c=f.clone().startOf("h"),e=[],g=a("<tr>"),h=1===d.stepping?5:d.stepping;f.isSame(c,"h");)c.minute()%(4*h)===0&&(g=a("<tr>"),e.push(g)),g.append('<td data-action="selectMinute" class="minute'+(R(c,"m")?"":" disabled")+'">'+c.format("mm")+"</td>"),c.add(h,"m");b.empty().append(e)},Z=function(){for(var b=o.find(".timepicker-seconds table"),c=f.clone().startOf("m"),d=[],e=a("<tr>");f.isSame(c,"m");)c.second()%20===0&&(e=a("<tr>"),d.push(e)),e.append('<td data-action="selectSecond" class="second'+(R(c,"s")?"":" disabled")+'">'+c.format("ss")+"</td>"),c.add(5,"s");b.empty().append(d)},$=function(){var a,b,c=o.find(".timepicker span[data-time-component]");h||(a=o.find(".timepicker [data-action=togglePeriod]"),b=e.clone().add(e.hours()>=12?-12:12,"h"),a.text(e.format("A")),R(b,"h")?a.removeClass("disabled"):a.addClass("disabled")),c.filter("[data-time-component=hours]").text(e.format(h?"HH":"hh")),c.filter("[data-time-component=minutes]").text(e.format("mm")),c.filter("[data-time-component=seconds]").text(e.format("ss")),X(),Y(),Z()},_=function(){o&&(W(),$())},aa=function(a){var b=m?null:e;if(!a)return m=!0,g.val(""),c.data("date",""),J({type:"dp.change",date:!1,oldDate:b}),void _();if(a=a.clone().locale(d.locale),x()&&a.tz(d.timeZone),1!==d.stepping)for(a.minutes(Math.round(a.minutes()/d.stepping)*d.stepping).seconds(0);d.minDate&&a.isBefore(d.minDate);)a.add(d.stepping,"minutes");R(a)?(e=a,f=e.clone(),g.val(e.format(i)),c.data("date",e.format(i)),m=!1,_(),J({type:"dp.change",date:e.clone(),oldDate:b})):(d.keepInvalid?J({type:"dp.change",date:a,oldDate:b}):g.val(m?"":e.format(i)),J({type:"dp.error",date:a,oldDate:b}))},ba=function(){var b=!1;return o?(o.find(".collapse").each(function(){var c=a(this).data("collapse");return!c||!c.transitioning||(b=!0,!1)}),b?l:(n&&n.hasClass("btn")&&n.toggleClass("active"),o.hide(),a(window).off("resize",I),o.off("click","[data-action]"),o.off("mousedown",!1),o.remove(),o=!1,J({type:"dp.hide",date:e.clone()}),g.blur(),f=e.clone(),l)):l},ca=function(){aa(null)},da=function(a){return void 0===d.parseInputDate?(!b.isMoment(a)||a instanceof Date)&&(a=y(a)):a=d.parseInputDate(a),a},ea={next:function(){var a=q[k].navFnc;f.add(q[k].navStep,a),W(),K(a)},previous:function(){var a=q[k].navFnc;f.subtract(q[k].navStep,a),W(),K(a)},pickerSwitch:function(){L(1)},selectMonth:function(b){var c=a(b.target).closest("tbody").find("span").index(a(b.target));f.month(c),k===p?(aa(e.clone().year(f.year()).month(f.month())),d.inline||ba()):(L(-1),W()),K("M")},selectYear:function(b){var c=parseInt(a(b.target).text(),10)||0;f.year(c),k===p?(aa(e.clone().year(f.year())),d.inline||ba()):(L(-1),W()),K("YYYY")},selectDecade:function(b){var c=parseInt(a(b.target).data("selection"),10)||0;f.year(c),k===p?(aa(e.clone().year(f.year())),d.inline||ba()):(L(-1),W()),K("YYYY")},selectDay:function(b){var c=f.clone();a(b.target).is(".old")&&c.subtract(1,"M"),a(b.target).is(".new")&&c.add(1,"M"),aa(c.date(parseInt(a(b.target).text(),10))),A()||d.keepOpen||d.inline||ba()},incrementHours:function(){var a=e.clone().add(1,"h");R(a,"h")&&aa(a)},incrementMinutes:function(){var a=e.clone().add(d.stepping,"m");R(a,"m")&&aa(a)},incrementSeconds:function(){var a=e.clone().add(1,"s");R(a,"s")&&aa(a)},decrementHours:function(){var a=e.clone().subtract(1,"h");R(a,"h")&&aa(a)},decrementMinutes:function(){var a=e.clone().subtract(d.stepping,"m");R(a,"m")&&aa(a)},decrementSeconds:function(){var a=e.clone().subtract(1,"s");R(a,"s")&&aa(a)},togglePeriod:function(){aa(e.clone().add(e.hours()>=12?-12:12,"h"))},togglePicker:function(b){var c,e=a(b.target),f=e.closest("ul"),g=f.find(".in"),h=f.find(".collapse:not(.in)");if(g&&g.length){if(c=g.data("collapse"),c&&c.transitioning)return;g.collapse?(g.collapse("hide"),h.collapse("show")):(g.removeClass("in"),h.addClass("in")),e.is("span")?e.toggleClass(d.icons.time+" "+d.icons.date):e.find("span").toggleClass(d.icons.time+" "+d.icons.date)}},showPicker:function(){o.find(".timepicker > div:not(.timepicker-picker)").hide(),o.find(".timepicker .timepicker-picker").show()},showHours:function(){o.find(".timepicker .timepicker-picker").hide(),o.find(".timepicker .timepicker-hours").show()},showMinutes:function(){o.find(".timepicker .timepicker-picker").hide(),o.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){o.find(".timepicker .timepicker-picker").hide(),o.find(".timepicker .timepicker-seconds").show()},selectHour:function(b){var c=parseInt(a(b.target).text(),10);h||(e.hours()>=12?12!==c&&(c+=12):12===c&&(c=0)),aa(e.clone().hours(c)),ea.showPicker.call(l)},selectMinute:function(b){aa(e.clone().minutes(parseInt(a(b.target).text(),10))),ea.showPicker.call(l)},selectSecond:function(b){aa(e.clone().seconds(parseInt(a(b.target).text(),10))),ea.showPicker.call(l)},clear:ca,today:function(){var a=y();R(a,"d")&&aa(a)},close:ba},fa=function(b){return!a(b.currentTarget).is(".disabled")&&(ea[a(b.currentTarget).data("action")].apply(l,arguments),!1)},ga=function(){var b,c={year:function(a){return a.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(a){return a.date(1).hours(0).seconds(0).minutes(0)},day:function(a){return a.hours(0).seconds(0).minutes(0)},hour:function(a){return a.seconds(0).minutes(0)},minute:function(a){return a.seconds(0)}};return g.prop("disabled")||!d.ignoreReadonly&&g.prop("readonly")||o?l:(void 0!==g.val()&&0!==g.val().trim().length?aa(da(g.val().trim())):m&&d.useCurrent&&(d.inline||g.is("input")&&0===g.val().trim().length)&&(b=y(),"string"==typeof d.useCurrent&&(b=c[d.useCurrent](b)),aa(b)),o=G(),M(),S(),o.find(".timepicker-hours").hide(),o.find(".timepicker-minutes").hide(),o.find(".timepicker-seconds").hide(),_(),L(),a(window).on("resize",I),o.on("click","[data-action]",fa),o.on("mousedown",!1),n&&n.hasClass("btn")&&n.toggleClass("active"),I(),o.show(),d.focusOnShow&&!g.is(":focus")&&g.focus(),J({type:"dp.show"}),l)},ha=function(){return o?ba():ga()},ia=function(a){var b,c,e,f,g=null,h=[],i={},j=a.which,k="p";w[j]=k;for(b in w)w.hasOwnProperty(b)&&w[b]===k&&(h.push(b),parseInt(b,10)!==j&&(i[b]=!0));for(b in d.keyBinds)if(d.keyBinds.hasOwnProperty(b)&&"function"==typeof d.keyBinds[b]&&(e=b.split(" "),e.length===h.length&&v[j]===e[e.length-1])){for(f=!0,c=e.length-2;c>=0;c--)if(!(v[e[c]]in i)){f=!1;break}if(f){g=d.keyBinds[b];break}}g&&(g.call(l,o),a.stopPropagation(),a.preventDefault())},ja=function(a){w[a.which]="r",a.stopPropagation(),a.preventDefault()},ka=function(b){var c=a(b.target).val().trim(),d=c?da(c):null;return aa(d),b.stopImmediatePropagation(),!1},la=function(){g.on({change:ka,blur:d.debug?"":ba,keydown:ia,keyup:ja,focus:d.allowInputToggle?ga:""}),c.is("input")?g.on({focus:ga}):n&&(n.on("click",ha),n.on("mousedown",!1))},ma=function(){g.off({change:ka,blur:blur,keydown:ia,keyup:ja,focus:d.allowInputToggle?ba:""}),c.is("input")?g.off({focus:ga}):n&&(n.off("click",ha),n.off("mousedown",!1))},na=function(b){var c={};return a.each(b,function(){var a=da(this);a.isValid()&&(c[a.format("YYYY-MM-DD")]=!0)}),!!Object.keys(c).length&&c},oa=function(b){var c={};return a.each(b,function(){c[this]=!0}),!!Object.keys(c).length&&c},pa=function(){var a=d.format||"L LT";i=a.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(a){var b=e.localeData().longDateFormat(a)||a;return b.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(a){return e.localeData().longDateFormat(a)||a})}),j=d.extraFormats?d.extraFormats.slice():[],j.indexOf(a)<0&&j.indexOf(i)<0&&j.push(i),h=i.toLowerCase().indexOf("a")<1&&i.replace(/\[.*?\]/g,"").indexOf("h")<1,z("y")&&(p=2),z("M")&&(p=1),z("d")&&(p=0),k=Math.max(p,k),m||aa(e)};if(l.destroy=function(){ba(),ma(),c.removeData("DateTimePicker"),c.removeData("date")},l.toggle=ha,l.show=ga,l.hide=ba,l.disable=function(){return ba(),n&&n.hasClass("btn")&&n.addClass("disabled"),g.prop("disabled",!0),l},l.enable=function(){return n&&n.hasClass("btn")&&n.removeClass("disabled"),g.prop("disabled",!1),l},l.ignoreReadonly=function(a){if(0===arguments.length)return d.ignoreReadonly;if("boolean"!=typeof a)throw new TypeError("ignoreReadonly () expects a boolean parameter");return d.ignoreReadonly=a,l},l.options=function(b){if(0===arguments.length)return a.extend(!0,{},d);if(!(b instanceof Object))throw new TypeError("options() options parameter should be an object");return a.extend(!0,d,b),a.each(d,function(a,b){if(void 0===l[a])throw new TypeError("option "+a+" is not recognized!");l[a](b)}),l},l.date=function(a){if(0===arguments.length)return m?null:e.clone();if(!(null===a||"string"==typeof a||b.isMoment(a)||a instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");return aa(null===a?null:da(a)),l},l.format=function(a){if(0===arguments.length)return d.format;if("string"!=typeof a&&("boolean"!=typeof a||a!==!1))throw new TypeError("format() expects a string or boolean:false parameter "+a);return d.format=a,i&&pa(),l},l.timeZone=function(a){if(0===arguments.length)return d.timeZone;if("string"!=typeof a)throw new TypeError("newZone() expects a string parameter");return d.timeZone=a,l},l.dayViewHeaderFormat=function(a){if(0===arguments.length)return d.dayViewHeaderFormat;if("string"!=typeof a)throw new TypeError("dayViewHeaderFormat() expects a string parameter");return d.dayViewHeaderFormat=a,l},l.extraFormats=function(a){if(0===arguments.length)return d.extraFormats;if(a!==!1&&!(a instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");return d.extraFormats=a,j&&pa(),l},l.disabledDates=function(b){if(0===arguments.length)return d.disabledDates?a.extend({},d.disabledDates):d.disabledDates;if(!b)return d.disabledDates=!1,_(),l;if(!(b instanceof Array))throw new TypeError("disabledDates() expects an array parameter");return d.disabledDates=na(b),d.enabledDates=!1,_(),l},l.enabledDates=function(b){if(0===arguments.length)return d.enabledDates?a.extend({},d.enabledDates):d.enabledDates;if(!b)return d.enabledDates=!1,_(),l;if(!(b instanceof Array))throw new TypeError("enabledDates() expects an array parameter");return d.enabledDates=na(b),d.disabledDates=!1,_(),l},l.daysOfWeekDisabled=function(a){if(0===arguments.length)return d.daysOfWeekDisabled.splice(0);if("boolean"==typeof a&&!a)return d.daysOfWeekDisabled=!1,_(),l;if(!(a instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");if(d.daysOfWeekDisabled=a.reduce(function(a,b){return b=parseInt(b,10),b>6||b<0||isNaN(b)?a:(a.indexOf(b)===-1&&a.push(b),a)},[]).sort(),d.useCurrent&&!d.keepInvalid){for(var b=0;!R(e,"d");){if(e.add(1,"d"),31===b)throw"Tried 31 times to find a valid date";b++}aa(e)}return _(),l},l.maxDate=function(a){if(0===arguments.length)return d.maxDate?d.maxDate.clone():d.maxDate;if("boolean"==typeof a&&a===!1)return d.maxDate=!1,_(),l;"string"==typeof a&&("now"!==a&&"moment"!==a||(a=y()));var b=da(a);if(!b.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+a);if(d.minDate&&b.isBefore(d.minDate))throw new TypeError("maxDate() date parameter is before options.minDate: "+b.format(i));return d.maxDate=b,d.useCurrent&&!d.keepInvalid&&e.isAfter(a)&&aa(d.maxDate),f.isAfter(b)&&(f=b.clone().subtract(d.stepping,"m")),_(),l},l.minDate=function(a){if(0===arguments.length)return d.minDate?d.minDate.clone():d.minDate;if("boolean"==typeof a&&a===!1)return d.minDate=!1,_(),l;"string"==typeof a&&("now"!==a&&"moment"!==a||(a=y()));var b=da(a);if(!b.isValid())throw new TypeError("minDate() Could not parse date parameter: "+a);if(d.maxDate&&b.isAfter(d.maxDate))throw new TypeError("minDate() date parameter is after options.maxDate: "+b.format(i));return d.minDate=b,d.useCurrent&&!d.keepInvalid&&e.isBefore(a)&&aa(d.minDate),f.isBefore(b)&&(f=b.clone().add(d.stepping,"m")),_(),l},l.defaultDate=function(a){if(0===arguments.length)return d.defaultDate?d.defaultDate.clone():d.defaultDate;if(!a)return d.defaultDate=!1,l;"string"==typeof a&&(a="now"===a||"moment"===a?y():y(a));var b=da(a);if(!b.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+a);if(!R(b))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");return d.defaultDate=b,(d.defaultDate&&d.inline||""===g.val().trim())&&aa(d.defaultDate),l},l.locale=function(a){if(0===arguments.length)return d.locale;if(!b.localeData(a))throw new TypeError("locale() locale "+a+" is not loaded from moment locales!");return d.locale=a,e.locale(d.locale),f.locale(d.locale),i&&pa(),o&&(ba(),ga()),l},l.stepping=function(a){return 0===arguments.length?d.stepping:(a=parseInt(a,10),(isNaN(a)||a<1)&&(a=1),d.stepping=a,l)},l.useCurrent=function(a){var b=["year","month","day","hour","minute"];if(0===arguments.length)return d.useCurrent;if("boolean"!=typeof a&&"string"!=typeof a)throw new TypeError("useCurrent() expects a boolean or string parameter");if("string"==typeof a&&b.indexOf(a.toLowerCase())===-1)throw new TypeError("useCurrent() expects a string parameter of "+b.join(", "));return d.useCurrent=a,l},l.collapse=function(a){if(0===arguments.length)return d.collapse;if("boolean"!=typeof a)throw new TypeError("collapse() expects a boolean parameter");return d.collapse===a?l:(d.collapse=a,o&&(ba(),ga()),l)},l.icons=function(b){if(0===arguments.length)return a.extend({},d.icons);if(!(b instanceof Object))throw new TypeError("icons() expects parameter to be an Object");return a.extend(d.icons,b),o&&(ba(),ga()),l},l.tooltips=function(b){if(0===arguments.length)return a.extend({},d.tooltips);if(!(b instanceof Object))throw new TypeError("tooltips() expects parameter to be an Object");return a.extend(d.tooltips,b),o&&(ba(),ga()),l},l.useStrict=function(a){if(0===arguments.length)return d.useStrict;if("boolean"!=typeof a)throw new TypeError("useStrict() expects a boolean parameter");return d.useStrict=a,l},l.sideBySide=function(a){if(0===arguments.length)return d.sideBySide;if("boolean"!=typeof a)throw new TypeError("sideBySide() expects a boolean parameter");return d.sideBySide=a,o&&(ba(),ga()),l},l.viewMode=function(a){if(0===arguments.length)return d.viewMode;if("string"!=typeof a)throw new TypeError("viewMode() expects a string parameter");if(r.indexOf(a)===-1)throw new TypeError("viewMode() parameter must be one of ("+r.join(", ")+") value");return d.viewMode=a,k=Math.max(r.indexOf(a),p),L(),l},l.toolbarPlacement=function(a){if(0===arguments.length)return d.toolbarPlacement;if("string"!=typeof a)throw new TypeError("toolbarPlacement() expects a string parameter");if(u.indexOf(a)===-1)throw new TypeError("toolbarPlacement() parameter must be one of ("+u.join(", ")+") value");return d.toolbarPlacement=a,o&&(ba(),ga()),l},l.widgetPositioning=function(b){if(0===arguments.length)return a.extend({},d.widgetPositioning);if("[object Object]"!=={}.toString.call(b))throw new TypeError("widgetPositioning() expects an object variable");if(b.horizontal){if("string"!=typeof b.horizontal)throw new TypeError("widgetPositioning() horizontal variable must be a string");if(b.horizontal=b.horizontal.toLowerCase(),t.indexOf(b.horizontal)===-1)throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+t.join(", ")+")");d.widgetPositioning.horizontal=b.horizontal}if(b.vertical){if("string"!=typeof b.vertical)throw new TypeError("widgetPositioning() vertical variable must be a string");if(b.vertical=b.vertical.toLowerCase(),s.indexOf(b.vertical)===-1)throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+s.join(", ")+")");d.widgetPositioning.vertical=b.vertical}return _(),l},l.calendarWeeks=function(a){if(0===arguments.length)return d.calendarWeeks;if("boolean"!=typeof a)throw new TypeError("calendarWeeks() expects parameter to be a boolean value");return d.calendarWeeks=a,_(),l},l.showTodayButton=function(a){if(0===arguments.length)return d.showTodayButton;if("boolean"!=typeof a)throw new TypeError("showTodayButton() expects a boolean parameter");return d.showTodayButton=a,o&&(ba(),ga()),l},l.showClear=function(a){if(0===arguments.length)return d.showClear;if("boolean"!=typeof a)throw new TypeError("showClear() expects a boolean parameter");return d.showClear=a,o&&(ba(),ga()),l},l.widgetParent=function(b){if(0===arguments.length)return d.widgetParent;if("string"==typeof b&&(b=a(b)),null!==b&&"string"!=typeof b&&!(b instanceof a))throw new TypeError("widgetParent() expects a string or a jQuery object parameter");return d.widgetParent=b,o&&(ba(),ga()),l},l.keepOpen=function(a){if(0===arguments.length)return d.keepOpen;if("boolean"!=typeof a)throw new TypeError("keepOpen() expects a boolean parameter");return d.keepOpen=a,l},l.focusOnShow=function(a){if(0===arguments.length)return d.focusOnShow;if("boolean"!=typeof a)throw new TypeError("focusOnShow() expects a boolean parameter");return d.focusOnShow=a,l},l.inline=function(a){if(0===arguments.length)return d.inline;if("boolean"!=typeof a)throw new TypeError("inline() expects a boolean parameter");return d.inline=a,l},l.clear=function(){return ca(),l},l.keyBinds=function(a){return 0===arguments.length?d.keyBinds:(d.keyBinds=a,l)},l.getMoment=function(a){return y(a)},l.debug=function(a){if("boolean"!=typeof a)throw new TypeError("debug() expects a boolean parameter");return d.debug=a,l},l.allowInputToggle=function(a){if(0===arguments.length)return d.allowInputToggle;if("boolean"!=typeof a)throw new TypeError("allowInputToggle() expects a boolean parameter");return d.allowInputToggle=a,l},l.showClose=function(a){if(0===arguments.length)return d.showClose;if("boolean"!=typeof a)throw new TypeError("showClose() expects a boolean parameter");return d.showClose=a,l},l.keepInvalid=function(a){if(0===arguments.length)return d.keepInvalid;if("boolean"!=typeof a)throw new TypeError("keepInvalid() expects a boolean parameter");return d.keepInvalid=a,l},l.datepickerInput=function(a){if(0===arguments.length)return d.datepickerInput;if("string"!=typeof a)throw new TypeError("datepickerInput() expects a string parameter");return d.datepickerInput=a,l},l.parseInputDate=function(a){if(0===arguments.length)return d.parseInputDate;if("function"!=typeof a)throw new TypeError("parseInputDate() sholud be as function");return d.parseInputDate=a,l},l.disabledTimeIntervals=function(b){if(0===arguments.length)return d.disabledTimeIntervals?a.extend({},d.disabledTimeIntervals):d.disabledTimeIntervals;if(!b)return d.disabledTimeIntervals=!1,_(),l;if(!(b instanceof Array))throw new TypeError("disabledTimeIntervals() expects an array parameter");return d.disabledTimeIntervals=b,_(),l},l.disabledHours=function(b){if(0===arguments.length)return d.disabledHours?a.extend({},d.disabledHours):d.disabledHours;if(!b)return d.disabledHours=!1,_(),l;if(!(b instanceof Array))throw new TypeError("disabledHours() expects an array parameter");if(d.disabledHours=oa(b),d.enabledHours=!1,d.useCurrent&&!d.keepInvalid){for(var c=0;!R(e,"h");){if(e.add(1,"h"),24===c)throw"Tried 24 times to find a valid date";c++}aa(e)}return _(),l},l.enabledHours=function(b){if(0===arguments.length)return d.enabledHours?a.extend({},d.enabledHours):d.enabledHours;if(!b)return d.enabledHours=!1,_(),l;if(!(b instanceof Array))throw new TypeError("enabledHours() expects an array parameter");if(d.enabledHours=oa(b),d.disabledHours=!1,d.useCurrent&&!d.keepInvalid){for(var c=0;!R(e,"h");){if(e.add(1,"h"),24===c)throw"Tried 24 times to find a valid date";c++}aa(e)}return _(),l},l.viewDate=function(a){if(0===arguments.length)return f.clone();if(!a)return f=e.clone(),l;if(!("string"==typeof a||b.isMoment(a)||a instanceof Date))throw new TypeError("viewDate() parameter must be one of [string, moment or Date]");return f=da(a),K(),l},c.is("input"))g=c;else if(g=c.find(d.datepickerInput),0===g.length)g=c.find("input");else if(!g.is("input"))throw new Error('CSS class "'+d.datepickerInput+'" cannot be applied to non input element');if(c.hasClass("input-group")&&(n=0===c.find(".datepickerbutton").length?c.find(".input-group-addon"):c.find(".datepickerbutton")),!d.inline&&!g.is("input"))throw new Error("Could not initialize DateTimePicker without an input element");return e=y(),f=e.clone(),a.extend(!0,d,H()),l.options(d),pa(),la(),g.prop("disabled")&&l.disable(),g.is("input")&&0!==g.val().trim().length?aa(da(g.val().trim())):d.defaultDate&&void 0===g.attr("placeholder")&&aa(d.defaultDate),d.inline&&ga(),l};return a.fn.datetimepicker=function(b){b=b||{};var d,e=Array.prototype.slice.call(arguments,1),f=!0,g=["destroy","hide","show","toggle"];if("object"==typeof b)return this.each(function(){var d,e=a(this);e.data("DateTimePicker")||(d=a.extend(!0,{},a.fn.datetimepicker.defaults,b),e.data("DateTimePicker",c(e,d)))});if("string"==typeof b)return this.each(function(){var c=a(this),g=c.data("DateTimePicker");if(!g)throw new Error('bootstrap-datetimepicker("'+b+'") method was called on an element that is not using DateTimePicker');d=g[b].apply(g,e),f=d===g}),f||a.inArray(b,g)>-1?this:d;throw new TypeError("Invalid arguments for DateTimePicker: "+b)},a.fn.datetimepicker.defaults={timeZone:"",format:!1,dayViewHeaderFormat:"MMMM YYYY",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:b.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down",previous:"glyphicon glyphicon-chevron-left",next:"glyphicon glyphicon-chevron-right",today:"glyphicon glyphicon-screenshot",clear:"glyphicon glyphicon-trash",close:"glyphicon glyphicon-remove"},tooltips:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",prevMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",prevYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevCentury:"Previous Century",nextCentury:"Next Century",pickHour:"Pick Hour",incrementHour:"Increment Hour",decrementHour:"Decrement Hour",pickMinute:"Pick Minute",incrementMinute:"Increment Minute",decrementMinute:"Decrement Minute",pickSecond:"Pick Second",incrementSecond:"Increment Second",decrementSecond:"Decrement Second",togglePeriod:"Toggle Period",selectTime:"Select Time"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",showTodayButton:!1,showClear:!1,showClose:!1,widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,datepickerInput:".datepickerinput",keyBinds:{up:function(a){if(a){var b=this.date()||this.getMoment();a.find(".datepicker").is(":visible")?this.date(b.clone().subtract(7,"d")):this.date(b.clone().add(this.stepping(),"m"));
}},down:function(a){if(!a)return void this.show();var b=this.date()||this.getMoment();a.find(".datepicker").is(":visible")?this.date(b.clone().add(7,"d")):this.date(b.clone().subtract(this.stepping(),"m"))},"control up":function(a){if(a){var b=this.date()||this.getMoment();a.find(".datepicker").is(":visible")?this.date(b.clone().subtract(1,"y")):this.date(b.clone().add(1,"h"))}},"control down":function(a){if(a){var b=this.date()||this.getMoment();a.find(".datepicker").is(":visible")?this.date(b.clone().add(1,"y")):this.date(b.clone().subtract(1,"h"))}},left:function(a){if(a){var b=this.date()||this.getMoment();a.find(".datepicker").is(":visible")&&this.date(b.clone().subtract(1,"d"))}},right:function(a){if(a){var b=this.date()||this.getMoment();a.find(".datepicker").is(":visible")&&this.date(b.clone().add(1,"d"))}},pageUp:function(a){if(a){var b=this.date()||this.getMoment();a.find(".datepicker").is(":visible")&&this.date(b.clone().subtract(1,"M"))}},pageDown:function(a){if(a){var b=this.date()||this.getMoment();a.find(".datepicker").is(":visible")&&this.date(b.clone().add(1,"M"))}},enter:function(){this.hide()},escape:function(){this.hide()},"control space":function(a){a&&a.find(".timepicker").is(":visible")&&a.find('.btn[data-action="togglePeriod"]').click()},t:function(){this.date(this.getMoment())},"delete":function(){this.clear()}},debug:!1,allowInputToggle:!1,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1,viewDate:!1},a.fn.datetimepicker}),function(){"use strict";var module=angular.module("ae-datetimepicker",[]);module.directive("datetimepicker",["$timeout",function($timeout){return{restrict:"EA",require:"ngModel",scope:{options:"=?",onChange:"&?",onClick:"&?"},link:function($scope,$element,$attrs,ngModel){var dpElement=$element.parent().hasClass("input-group")?$element.parent():$element;$scope.$watch("options",function(newValue){var dtp=dpElement.data("DateTimePicker");$.map(newValue,function(value,key){dtp[key](value)})},!0),ngModel.$render=function(){var currentDate=dpElement.data("DateTimePicker").date();!ngModel.$viewValue&&currentDate?dpElement.data("DateTimePicker").clear():ngModel.$viewValue&&(moment.isMoment(ngModel.$viewValue)||ngModel.$setViewValue(moment(ngModel.$viewValue)),dpElement.data("DateTimePicker").date(ngModel.$viewValue))};var isDateEqual=function(d1,d2){return moment.isMoment(d1)&&moment.isMoment(d2)&&d1.valueOf()===d2.valueOf()};dpElement.on("dp.change",function(e){if(!isDateEqual(e.date,ngModel.$viewValue)){var newValue=e.date===!1?null:e.date;ngModel.$setViewValue(newValue),$timeout(function(){"function"==typeof $scope.onChange&&$scope.onChange()})}}),dpElement.on("click",function(){$timeout(function(){"function"==typeof $scope.onClick&&$scope.onClick()})}),dpElement.datetimepicker($scope.options)}}}])}(),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.Clipboard=e()}}(function(){var e;return function e(t,n,i){function o(a,c){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!c&&l)return l(a,!0);if(r)return r(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return o(n?n:e)},u,u.exports,e,t,n,i)}return n[a].exports}for(var r="function"==typeof require&&require,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(e,t,n){function i(e,t){for(;e&&e.nodeType!==o;){if(e.matches(t))return e;e=e.parentNode}}var o=9;if(Element&&!Element.prototype.matches){var r=Element.prototype;r.matches=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector}t.exports=i},{}],2:[function(e,t,n){function i(e,t,n,i,r){var a=o.apply(this,arguments);return e.addEventListener(n,a,r),{destroy:function(){e.removeEventListener(n,a,r)}}}function o(e,t,n,i){return function(n){n.delegateTarget=r(n.target,t),n.delegateTarget&&i.call(e,n)}}var r=e("./closest");t.exports=i},{"./closest":1}],3:[function(e,t,n){n.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},n.nodeList=function(e){var t=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===t||"[object HTMLCollection]"===t)&&"length"in e&&(0===e.length||n.node(e[0]))},n.string=function(e){return"string"==typeof e||e instanceof String},n.fn=function(e){var t=Object.prototype.toString.call(e);return"[object Function]"===t}},{}],4:[function(e,t,n){function i(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!c.string(t))throw new TypeError("Second argument must be a String");if(!c.fn(n))throw new TypeError("Third argument must be a Function");if(c.node(e))return o(e,t,n);if(c.nodeList(e))return r(e,t,n);if(c.string(e))return a(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function o(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}function r(e,t,n){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,n)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,n)})}}}function a(e,t,n){return l(document.body,e,t,n)}var c=e("./is"),l=e("delegate");t.exports=i},{"./is":3,delegate:2}],5:[function(e,t,n){function i(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName)e.focus(),e.setSelectionRange(0,e.value.length),t=e.value;else{e.hasAttribute("contenteditable")&&e.focus();var n=window.getSelection(),i=document.createRange();i.selectNodeContents(e),n.removeAllRanges(),n.addRange(i),t=n.toString()}return t}t.exports=i},{}],6:[function(e,t,n){function i(){}i.prototype={on:function(e,t,n){var i=this.e||(this.e={});return(i[e]||(i[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){function i(){o.off(e,i),t.apply(n,arguments)}var o=this;return i._=t,this.on(e,i,n)},emit:function(e){var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),i=0,o=n.length;for(i;i<o;i++)n[i].fn.apply(n[i].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),i=n[e],o=[];if(i&&t)for(var r=0,a=i.length;r<a;r++)i[r].fn!==t&&i[r].fn._!==t&&o.push(i[r]);return o.length?n[e]=o:delete n[e],this}},t.exports=i},{}],7:[function(t,n,i){!function(o,r){if("function"==typeof e&&e.amd)e(["module","select"],r);else if("undefined"!=typeof i)r(n,t("select"));else{var a={exports:{}};r(a,o.select),o.clipboardAction=a.exports}}(this,function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(t),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=function(){function e(t){i(this,e),this.resolveOptions(t),this.initSelection()}return a(e,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,n="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[n?"right":"left"]="-9999px";var i=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.addEventListener("focus",window.scrollTo(0,i)),this.fakeElem.style.top=i+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,o["default"])(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,o["default"])(this.target),this.copyText()}},{key:"copyText",value:function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==("undefined"==typeof t?"undefined":r(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),e}();e.exports=c})},{select:5}],8:[function(t,n,i){!function(o,r){if("function"==typeof e&&e.amd)e(["module","./clipboard-action","tiny-emitter","good-listener"],r);else if("undefined"!=typeof i)r(n,t("./clipboard-action"),t("tiny-emitter"),t("good-listener"));else{var a={exports:{}};r(a,o.clipboardAction,o.tinyEmitter,o.goodListener),o.clipboard=a.exports}}(this,function(e,t,n,i){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}var s=o(t),u=o(n),f=o(i),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),h=function(e){function t(e,n){r(this,t);var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.resolveOptions(n),i.listenClick(e),i}return c(t,e),d(t,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText}},{key:"listenClick",value:function(t){var n=this;this.listener=(0,f["default"])(t,"click",function(e){return n.onClick(e)})}},{key:"onClick",value:function(t){var n=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new s["default"]({action:this.action(n),target:this.target(n),text:this.text(n),trigger:n,emitter:this})}},{key:"defaultAction",value:function(t){return l("action",t)}},{key:"defaultTarget",value:function(t){var n=l("target",t);if(n)return document.querySelector(n)}},{key:"defaultText",value:function(t){return l("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}]),t}(u["default"]);e.exports=h})},{"./clipboard-action":7,"good-listener":4,"tiny-emitter":6}]},{},[8])(8)}),function(mod){"object"==typeof exports&&"object"==typeof module?mod(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],mod):mod(CodeMirror)}(function(CodeMirror){"use strict";CodeMirror.overlayMode=function(base,overlay,combine){return{startState:function(){return{base:CodeMirror.startState(base),overlay:CodeMirror.startState(overlay),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(state){return{base:CodeMirror.copyState(base,state.base),overlay:CodeMirror.copyState(overlay,state.overlay),basePos:state.basePos,baseCur:null,overlayPos:state.overlayPos,overlayCur:null}},token:function(stream,state){return(stream!=state.streamSeen||Math.min(state.basePos,state.overlayPos)<stream.start)&&(state.streamSeen=stream,state.basePos=state.overlayPos=stream.start),stream.start==state.basePos&&(state.baseCur=base.token(stream,state.base),state.basePos=stream.pos),stream.start==state.overlayPos&&(stream.pos=stream.start,state.overlayCur=overlay.token(stream,state.overlay),state.overlayPos=stream.pos),stream.pos=Math.min(state.basePos,state.overlayPos),null==state.overlayCur?state.baseCur:null!=state.baseCur&&state.overlay.combineTokens||combine&&null==state.overlay.combineTokens?state.baseCur+" "+state.overlayCur:state.overlayCur},indent:base.indent&&function(state,textAfter){return base.indent(state.base,textAfter)},electricChars:base.electricChars,innerMode:function(state){return{state:state.base,mode:base}},blankLine:function(state){base.blankLine&&base.blankLine(state.base),overlay.blankLine&&overlay.blankLine(state.overlay)}}}}),function(mod){"object"==typeof exports&&"object"==typeof module?mod(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],mod):mod(CodeMirror)}(function(CodeMirror){"use strict";CodeMirror.defineMode("xml",function(config,parserConfig){function inText(stream,state){function chain(parser){return state.tokenize=parser,parser(stream,state)}var ch=stream.next();if("<"==ch)return stream.eat("!")?stream.eat("[")?stream.match("CDATA[")?chain(inBlock("atom","]]>")):null:stream.match("--")?chain(inBlock("comment","-->")):stream.match("DOCTYPE",!0,!0)?(stream.eatWhile(/[\w\._\-]/),chain(doctype(1))):null:stream.eat("?")?(stream.eatWhile(/[\w\._\-]/),state.tokenize=inBlock("meta","?>"),"meta"):(type=stream.eat("/")?"closeTag":"openTag",state.tokenize=inTag,"tag bracket");if("&"==ch){var ok;return ok=stream.eat("#")?stream.eat("x")?stream.eatWhile(/[a-fA-F\d]/)&&stream.eat(";"):stream.eatWhile(/[\d]/)&&stream.eat(";"):stream.eatWhile(/[\w\.\-:]/)&&stream.eat(";"),ok?"atom":"error"}return stream.eatWhile(/[^&<]/),null}function inTag(stream,state){var ch=stream.next();if(">"==ch||"/"==ch&&stream.eat(">"))return state.tokenize=inText,type=">"==ch?"endTag":"selfcloseTag","tag bracket";if("="==ch)return type="equals",null;if("<"==ch){state.tokenize=inText,state.state=baseState,state.tagName=state.tagStart=null;var next=state.tokenize(stream,state);return next?next+" tag error":"tag error"}return/[\'\"]/.test(ch)?(state.tokenize=inAttribute(ch),state.stringStartCol=stream.column(),state.tokenize(stream,state)):(stream.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function inAttribute(quote){var closure=function(stream,state){for(;!stream.eol();)if(stream.next()==quote){state.tokenize=inTag;break}return"string"};return closure.isInAttribute=!0,closure}function inBlock(style,terminator){return function(stream,state){for(;!stream.eol();){if(stream.match(terminator)){state.tokenize=inText;break}stream.next()}return style}}function doctype(depth){return function(stream,state){for(var ch;null!=(ch=stream.next());){if("<"==ch)return state.tokenize=doctype(depth+1),state.tokenize(stream,state);if(">"==ch){if(1==depth){state.tokenize=inText;break}return state.tokenize=doctype(depth-1),state.tokenize(stream,state)}}return"meta"}}function Context(state,tagName,startOfLine){this.prev=state.context,this.tagName=tagName,this.indent=state.indented,this.startOfLine=startOfLine,(Kludges.doNotIndent.hasOwnProperty(tagName)||state.context&&state.context.noIndent)&&(this.noIndent=!0)}function popContext(state){state.context&&(state.context=state.context.prev)}function maybePopContext(state,nextTagName){for(var parentTagName;;){if(!state.context)return;if(parentTagName=state.context.tagName,!Kludges.contextGrabbers.hasOwnProperty(parentTagName)||!Kludges.contextGrabbers[parentTagName].hasOwnProperty(nextTagName))return;popContext(state)}}function baseState(type,stream,state){return"openTag"==type?(state.tagStart=stream.column(),tagNameState):"closeTag"==type?closeTagNameState:baseState}function tagNameState(type,stream,state){return"word"==type?(state.tagName=stream.current(),setStyle="tag",attrState):(setStyle="error",tagNameState)}function closeTagNameState(type,stream,state){if("word"==type){var tagName=stream.current();return state.context&&state.context.tagName!=tagName&&Kludges.implicitlyClosed.hasOwnProperty(state.context.tagName)&&popContext(state),state.context&&state.context.tagName==tagName?(setStyle="tag",closeState):(setStyle="tag error",closeStateErr)}return setStyle="error",closeStateErr}function closeState(type,_stream,state){return"endTag"!=type?(setStyle="error",closeState):(popContext(state),baseState)}function closeStateErr(type,stream,state){return setStyle="error",closeState(type,stream,state)}function attrState(type,_stream,state){if("word"==type)return setStyle="attribute",attrEqState;if("endTag"==type||"selfcloseTag"==type){var tagName=state.tagName,tagStart=state.tagStart;return state.tagName=state.tagStart=null,"selfcloseTag"==type||Kludges.autoSelfClosers.hasOwnProperty(tagName)?maybePopContext(state,tagName):(maybePopContext(state,tagName),state.context=new Context(state,tagName,tagStart==state.indented)),baseState}return setStyle="error",attrState}function attrEqState(type,stream,state){return"equals"==type?attrValueState:(Kludges.allowMissing||(setStyle="error"),attrState(type,stream,state))}function attrValueState(type,stream,state){return"string"==type?attrContinuedState:"word"==type&&Kludges.allowUnquoted?(setStyle="string",attrState):(setStyle="error",attrState(type,stream,state))}function attrContinuedState(type,stream,state){return"string"==type?attrContinuedState:attrState(type,stream,state)}var indentUnit=config.indentUnit,multilineTagIndentFactor=parserConfig.multilineTagIndentFactor||1,multilineTagIndentPastTag=parserConfig.multilineTagIndentPastTag;null==multilineTagIndentPastTag&&(multilineTagIndentPastTag=!0);var type,setStyle,Kludges=parserConfig.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1},alignCDATA=parserConfig.alignCDATA;return{startState:function(){return{tokenize:inText,state:baseState,indented:0,tagName:null,tagStart:null,context:null}},token:function(stream,state){if(!state.tagName&&stream.sol()&&(state.indented=stream.indentation()),stream.eatSpace())return null;type=null;var style=state.tokenize(stream,state);return(style||type)&&"comment"!=style&&(setStyle=null,state.state=state.state(type||style,stream,state),setStyle&&(style="error"==setStyle?style+" error":setStyle)),style},indent:function(state,textAfter,fullLine){var context=state.context;if(state.tokenize.isInAttribute)return state.tagStart==state.indented?state.stringStartCol+1:state.indented+indentUnit;if(context&&context.noIndent)return CodeMirror.Pass;if(state.tokenize!=inTag&&state.tokenize!=inText)return fullLine?fullLine.match(/^(\s*)/)[0].length:0;if(state.tagName)return multilineTagIndentPastTag?state.tagStart+state.tagName.length+2:state.tagStart+indentUnit*multilineTagIndentFactor;if(alignCDATA&&/<!\[CDATA\[/.test(textAfter))return 0;var tagAfter=textAfter&&/^<(\/)?([\w_:\.-]*)/.exec(textAfter);if(tagAfter&&tagAfter[1])for(;context;){if(context.tagName==tagAfter[2]){context=context.prev;break}if(!Kludges.implicitlyClosed.hasOwnProperty(context.tagName))break;context=context.prev}else if(tagAfter)for(;context;){var grabbers=Kludges.contextGrabbers[context.tagName];if(!grabbers||!grabbers.hasOwnProperty(tagAfter[2]))break;context=context.prev}for(;context&&!context.startOfLine;)context=context.prev;return context?context.indent+indentUnit:0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:parserConfig.htmlMode?"html":"xml",helperType:parserConfig.htmlMode?"html":"xml"}}),CodeMirror.defineMIME("text/xml","xml"),CodeMirror.defineMIME("application/xml","xml"),CodeMirror.mimeModes.hasOwnProperty("text/html")||CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:!0})}),function(mod){"object"==typeof exports&&"object"==typeof module?mod(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],mod):mod(CodeMirror)}(function(CodeMirror){"use strict";CodeMirror.defineMode("javascript",function(config,parserConfig){function readRegexp(stream){for(var next,escaped=!1,inSet=!1;null!=(next=stream.next());){if(!escaped){if("/"==next&&!inSet)return;"["==next?inSet=!0:inSet&&"]"==next&&(inSet=!1)}escaped=!escaped&&"\\"==next}}function ret(tp,style,cont){return type=tp,content=cont,style}function tokenBase(stream,state){var ch=stream.next();if('"'==ch||"'"==ch)return state.tokenize=tokenString(ch),state.tokenize(stream,state);if("."==ch&&stream.match(/^\d+(?:[eE][+\-]?\d+)?/))return ret("number","number");if("."==ch&&stream.match(".."))return ret("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(ch))return ret(ch);if("="==ch&&stream.eat(">"))return ret("=>","operator");if("0"==ch&&stream.eat(/x/i))return stream.eatWhile(/[\da-f]/i),ret("number","number");if(/\d/.test(ch))return stream.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),ret("number","number");if("/"==ch)return stream.eat("*")?(state.tokenize=tokenComment,tokenComment(stream,state)):stream.eat("/")?(stream.skipToEnd(),ret("comment","comment")):"operator"==state.lastType||"keyword c"==state.lastType||"sof"==state.lastType||/^[\[{}\(,;:]$/.test(state.lastType)?(readRegexp(stream),stream.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/),ret("regexp","string-2")):(stream.eatWhile(isOperatorChar),ret("operator","operator",stream.current()));if("`"==ch)return state.tokenize=tokenQuasi,tokenQuasi(stream,state);if("#"==ch)return stream.skipToEnd(),ret("error","error");if(isOperatorChar.test(ch))return stream.eatWhile(isOperatorChar),ret("operator","operator",stream.current());if(wordRE.test(ch)){stream.eatWhile(wordRE);var word=stream.current(),known=keywords.propertyIsEnumerable(word)&&keywords[word];return known&&"."!=state.lastType?ret(known.type,known.style,word):ret("variable","variable",word)}}function tokenString(quote){return function(stream,state){var next,escaped=!1;if(jsonldMode&&"@"==stream.peek()&&stream.match(isJsonldKeyword))return state.tokenize=tokenBase,ret("jsonld-keyword","meta");for(;null!=(next=stream.next())&&(next!=quote||escaped);)escaped=!escaped&&"\\"==next;return escaped||(state.tokenize=tokenBase),ret("string","string")}}function tokenComment(stream,state){for(var ch,maybeEnd=!1;ch=stream.next();){if("/"==ch&&maybeEnd){state.tokenize=tokenBase;break}maybeEnd="*"==ch}return ret("comment","comment")}function tokenQuasi(stream,state){for(var next,escaped=!1;null!=(next=stream.next());){if(!escaped&&("`"==next||"$"==next&&stream.eat("{"))){state.tokenize=tokenBase;break}escaped=!escaped&&"\\"==next}return ret("quasi","string-2",stream.current())}function findFatArrow(stream,state){state.fatArrowAt&&(state.fatArrowAt=null);var arrow=stream.string.indexOf("=>",stream.start);if(!(arrow<0)){for(var depth=0,sawSomething=!1,pos=arrow-1;pos>=0;--pos){var ch=stream.string.charAt(pos),bracket=brackets.indexOf(ch);if(bracket>=0&&bracket<3){if(!depth){++pos;break}if(0==--depth)break}else if(bracket>=3&&bracket<6)++depth;else if(wordRE.test(ch))sawSomething=!0;else{if(/["'\/]/.test(ch))return;if(sawSomething&&!depth){++pos;break}}}sawSomething&&!depth&&(state.fatArrowAt=pos)}}function JSLexical(indented,column,type,align,prev,info){this.indented=indented,this.column=column,this.type=type,this.prev=prev,this.info=info,null!=align&&(this.align=align)}function inScope(state,varname){for(var v=state.localVars;v;v=v.next)if(v.name==varname)return!0;for(var cx=state.context;cx;cx=cx.prev)for(var v=cx.vars;v;v=v.next)if(v.name==varname)return!0}function parseJS(state,style,type,content,stream){var cc=state.cc;for(cx.state=state,cx.stream=stream,cx.marked=null,cx.cc=cc,cx.style=style,state.lexical.hasOwnProperty("align")||(state.lexical.align=!0);;){var combinator=cc.length?cc.pop():jsonMode?expression:statement;if(combinator(type,content)){for(;cc.length&&cc[cc.length-1].lex;)cc.pop()();return cx.marked?cx.marked:"variable"==type&&inScope(state,content)?"variable-2":style}}}function pass(){for(var i=arguments.length-1;i>=0;i--)cx.cc.push(arguments[i])}function cont(){return pass.apply(null,arguments),!0}function register(varname){function inList(list){for(var v=list;v;v=v.next)if(v.name==varname)return!0;return!1}var state=cx.state;if(state.context){if(cx.marked="def",inList(state.localVars))return;state.localVars={name:varname,next:state.localVars}}else{if(inList(state.globalVars))return;parserConfig.globalVars&&(state.globalVars={name:varname,next:state.globalVars})}}function pushcontext(){cx.state.context={prev:cx.state.context,vars:cx.state.localVars},cx.state.localVars=defaultVars}function popcontext(){cx.state.localVars=cx.state.context.vars,cx.state.context=cx.state.context.prev}function pushlex(type,info){var result=function(){var state=cx.state,indent=state.indented;if("stat"==state.lexical.type)indent=state.lexical.indented;else for(var outer=state.lexical;outer&&")"==outer.type&&outer.align;outer=outer.prev)indent=outer.indented;state.lexical=new JSLexical(indent,cx.stream.column(),type,null,state.lexical,info)};return result.lex=!0,result}function poplex(){var state=cx.state;state.lexical.prev&&(")"==state.lexical.type&&(state.indented=state.lexical.indented),state.lexical=state.lexical.prev)}function expect(wanted){function exp(type){return type==wanted?cont():";"==wanted?pass():cont(exp)}return exp}function statement(type,value){return"var"==type?cont(pushlex("vardef",value.length),vardef,expect(";"),poplex):"keyword a"==type?cont(pushlex("form"),expression,statement,poplex):"keyword b"==type?cont(pushlex("form"),statement,poplex):"{"==type?cont(pushlex("}"),block,poplex):";"==type?cont():"if"==type?("else"==cx.state.lexical.info&&cx.state.cc[cx.state.cc.length-1]==poplex&&cx.state.cc.pop()(),cont(pushlex("form"),expression,statement,poplex,maybeelse)):"function"==type?cont(functiondef):"for"==type?cont(pushlex("form"),forspec,statement,poplex):"variable"==type?cont(pushlex("stat"),maybelabel):"switch"==type?cont(pushlex("form"),expression,pushlex("}","switch"),expect("{"),block,poplex,poplex):"case"==type?cont(expression,expect(":")):"default"==type?cont(expect(":")):"catch"==type?cont(pushlex("form"),pushcontext,expect("("),funarg,expect(")"),statement,poplex,popcontext):"module"==type?cont(pushlex("form"),pushcontext,afterModule,popcontext,poplex):"class"==type?cont(pushlex("form"),className,poplex):"export"==type?cont(pushlex("form"),afterExport,poplex):"import"==type?cont(pushlex("form"),afterImport,poplex):pass(pushlex("stat"),expression,expect(";"),poplex)}function expression(type){return expressionInner(type,!1)}function expressionNoComma(type){return expressionInner(type,!0)}function expressionInner(type,noComma){if(cx.state.fatArrowAt==cx.stream.start){var body=noComma?arrowBodyNoComma:arrowBody;if("("==type)return cont(pushcontext,pushlex(")"),commasep(pattern,")"),poplex,expect("=>"),body,popcontext);if("variable"==type)return pass(pushcontext,pattern,expect("=>"),body,popcontext)}var maybeop=noComma?maybeoperatorNoComma:maybeoperatorComma;return atomicTypes.hasOwnProperty(type)?cont(maybeop):"function"==type?cont(functiondef,maybeop):"keyword c"==type?cont(noComma?maybeexpressionNoComma:maybeexpression):"("==type?cont(pushlex(")"),maybeexpression,comprehension,expect(")"),poplex,maybeop):"operator"==type||"spread"==type?cont(noComma?expressionNoComma:expression):"["==type?cont(pushlex("]"),arrayLiteral,poplex,maybeop):"{"==type?contCommasep(objprop,"}",null,maybeop):"quasi"==type?pass(quasi,maybeop):cont()}function maybeexpression(type){return type.match(/[;\}\)\],]/)?pass():pass(expression)}function maybeexpressionNoComma(type){return type.match(/[;\}\)\],]/)?pass():pass(expressionNoComma)}function maybeoperatorComma(type,value){return","==type?cont(expression):maybeoperatorNoComma(type,value,!1)}function maybeoperatorNoComma(type,value,noComma){var me=0==noComma?maybeoperatorComma:maybeoperatorNoComma,expr=0==noComma?expression:expressionNoComma;return"=>"==type?cont(pushcontext,noComma?arrowBodyNoComma:arrowBody,popcontext):"operator"==type?/\+\+|--/.test(value)?cont(me):"?"==value?cont(expression,expect(":"),expr):cont(expr):"quasi"==type?pass(quasi,me):";"!=type?"("==type?contCommasep(expressionNoComma,")","call",me):"."==type?cont(property,me):"["==type?cont(pushlex("]"),maybeexpression,expect("]"),poplex,me):void 0:void 0}function quasi(type,value){return"quasi"!=type?pass():"${"!=value.slice(value.length-2)?cont(quasi):cont(expression,continueQuasi)}function continueQuasi(type){if("}"==type)return cx.marked="string-2",cx.state.tokenize=tokenQuasi,cont(quasi)}function arrowBody(type){return findFatArrow(cx.stream,cx.state),pass("{"==type?statement:expression)}function arrowBodyNoComma(type){return findFatArrow(cx.stream,cx.state),pass("{"==type?statement:expressionNoComma)}function maybelabel(type){return":"==type?cont(poplex,statement):pass(maybeoperatorComma,expect(";"),poplex)}function property(type){if("variable"==type)return cx.marked="property",cont()}function objprop(type,value){return"variable"==type||"keyword"==cx.style?(cx.marked="property",cont("get"==value||"set"==value?getterSetter:afterprop)):"number"==type||"string"==type?(cx.marked=jsonldMode?"property":cx.style+" property",cont(afterprop)):"jsonld-keyword"==type?cont(afterprop):"["==type?cont(expression,expect("]"),afterprop):void 0;
}function getterSetter(type){return"variable"!=type?pass(afterprop):(cx.marked="property",cont(functiondef))}function afterprop(type){return":"==type?cont(expressionNoComma):"("==type?pass(functiondef):void 0}function commasep(what,end){function proceed(type){if(","==type){var lex=cx.state.lexical;return"call"==lex.info&&(lex.pos=(lex.pos||0)+1),cont(what,proceed)}return type==end?cont():cont(expect(end))}return function(type){return type==end?cont():pass(what,proceed)}}function contCommasep(what,end,info){for(var i=3;i<arguments.length;i++)cx.cc.push(arguments[i]);return cont(pushlex(end,info),commasep(what,end),poplex)}function block(type){return"}"==type?cont():pass(statement,block)}function maybetype(type){if(isTS&&":"==type)return cont(typedef)}function typedef(type){if("variable"==type)return cx.marked="variable-3",cont()}function vardef(){return pass(pattern,maybetype,maybeAssign,vardefCont)}function pattern(type,value){return"variable"==type?(register(value),cont()):"["==type?contCommasep(pattern,"]"):"{"==type?contCommasep(proppattern,"}"):void 0}function proppattern(type,value){return"variable"!=type||cx.stream.match(/^\s*:/,!1)?("variable"==type&&(cx.marked="property"),cont(expect(":"),pattern,maybeAssign)):(register(value),cont(maybeAssign))}function maybeAssign(_type,value){if("="==value)return cont(expressionNoComma)}function vardefCont(type){if(","==type)return cont(vardef)}function maybeelse(type,value){if("keyword b"==type&&"else"==value)return cont(pushlex("form","else"),statement,poplex)}function forspec(type){if("("==type)return cont(pushlex(")"),forspec1,expect(")"),poplex)}function forspec1(type){return"var"==type?cont(vardef,expect(";"),forspec2):";"==type?cont(forspec2):"variable"==type?cont(formaybeinof):pass(expression,expect(";"),forspec2)}function formaybeinof(_type,value){return"in"==value||"of"==value?(cx.marked="keyword",cont(expression)):cont(maybeoperatorComma,forspec2)}function forspec2(type,value){return";"==type?cont(forspec3):"in"==value||"of"==value?(cx.marked="keyword",cont(expression)):pass(expression,expect(";"),forspec3)}function forspec3(type){")"!=type&&cont(expression)}function functiondef(type,value){return"*"==value?(cx.marked="keyword",cont(functiondef)):"variable"==type?(register(value),cont(functiondef)):"("==type?cont(pushcontext,pushlex(")"),commasep(funarg,")"),poplex,statement,popcontext):void 0}function funarg(type){return"spread"==type?cont(funarg):pass(pattern,maybetype)}function className(type,value){if("variable"==type)return register(value),cont(classNameAfter)}function classNameAfter(type,value){return"extends"==value?cont(expression,classNameAfter):"{"==type?cont(pushlex("}"),classBody,poplex):void 0}function classBody(type,value){return"variable"==type||"keyword"==cx.style?(cx.marked="property","get"==value||"set"==value?cont(classGetterSetter,functiondef,classBody):cont(functiondef,classBody)):"*"==value?(cx.marked="keyword",cont(classBody)):";"==type?cont(classBody):"}"==type?cont():void 0}function classGetterSetter(type){return"variable"!=type?pass():(cx.marked="property",cont())}function afterModule(type,value){return"string"==type?cont(statement):"variable"==type?(register(value),cont(maybeFrom)):void 0}function afterExport(_type,value){return"*"==value?(cx.marked="keyword",cont(maybeFrom,expect(";"))):"default"==value?(cx.marked="keyword",cont(expression,expect(";"))):pass(statement)}function afterImport(type){return"string"==type?cont():pass(importSpec,maybeFrom)}function importSpec(type,value){return"{"==type?contCommasep(importSpec,"}"):("variable"==type&&register(value),cont())}function maybeFrom(_type,value){if("from"==value)return cx.marked="keyword",cont(expression)}function arrayLiteral(type){return"]"==type?cont():pass(expressionNoComma,maybeArrayComprehension)}function maybeArrayComprehension(type){return"for"==type?pass(comprehension,expect("]")):","==type?cont(commasep(maybeexpressionNoComma,"]")):pass(commasep(expressionNoComma,"]"))}function comprehension(type){return"for"==type?cont(forspec,comprehension):"if"==type?cont(expression,comprehension):void 0}function isContinuedStatement(state,textAfter){return"operator"==state.lastType||","==state.lastType||isOperatorChar.test(textAfter.charAt(0))||/[,.]/.test(textAfter.charAt(0))}var type,content,indentUnit=config.indentUnit,statementIndent=parserConfig.statementIndent,jsonldMode=parserConfig.jsonld,jsonMode=parserConfig.json||jsonldMode,isTS=parserConfig.typescript,wordRE=parserConfig.wordCharacters||/[\w$\xa1-\uffff]/,keywords=function(){function kw(type){return{type:type,style:"keyword"}}var A=kw("keyword a"),B=kw("keyword b"),C=kw("keyword c"),operator=kw("operator"),atom={type:"atom",style:"atom"},jsKeywords={"if":kw("if"),"while":A,"with":A,"else":B,"do":B,"try":B,"finally":B,"return":C,"break":C,"continue":C,"new":C,"delete":C,"throw":C,"debugger":C,"var":kw("var"),"const":kw("var"),"let":kw("var"),"function":kw("function"),"catch":kw("catch"),"for":kw("for"),"switch":kw("switch"),"case":kw("case"),"default":kw("default"),"in":operator,"typeof":operator,"instanceof":operator,"true":atom,"false":atom,"null":atom,undefined:atom,NaN:atom,Infinity:atom,"this":kw("this"),module:kw("module"),"class":kw("class"),"super":kw("atom"),"yield":C,"export":kw("export"),"import":kw("import"),"extends":C};if(isTS){var type={type:"variable",style:"variable-3"},tsKeywords={"interface":kw("interface"),"extends":kw("extends"),constructor:kw("constructor"),"public":kw("public"),"private":kw("private"),"protected":kw("protected"),"static":kw("static"),string:type,number:type,bool:type,any:type};for(var attr in tsKeywords)jsKeywords[attr]=tsKeywords[attr]}return jsKeywords}(),isOperatorChar=/[+\-*&%=<>!?|~^]/,isJsonldKeyword=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,brackets="([{}])",atomicTypes={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},cx={state:null,column:null,marked:null,cc:null},defaultVars={name:"this",next:{name:"arguments"}};return poplex.lex=!0,{startState:function(basecolumn){var state={tokenize:tokenBase,lastType:"sof",cc:[],lexical:new JSLexical((basecolumn||0)-indentUnit,0,"block",(!1)),localVars:parserConfig.localVars,context:parserConfig.localVars&&{vars:parserConfig.localVars},indented:0};return parserConfig.globalVars&&"object"==typeof parserConfig.globalVars&&(state.globalVars=parserConfig.globalVars),state},token:function(stream,state){if(stream.sol()&&(state.lexical.hasOwnProperty("align")||(state.lexical.align=!1),state.indented=stream.indentation(),findFatArrow(stream,state)),state.tokenize!=tokenComment&&stream.eatSpace())return null;var style=state.tokenize(stream,state);return"comment"==type?style:(state.lastType="operator"!=type||"++"!=content&&"--"!=content?type:"incdec",parseJS(state,style,type,content,stream))},indent:function(state,textAfter){if(state.tokenize==tokenComment)return CodeMirror.Pass;if(state.tokenize!=tokenBase)return 0;var firstChar=textAfter&&textAfter.charAt(0),lexical=state.lexical;if(!/^\s*else\b/.test(textAfter))for(var i=state.cc.length-1;i>=0;--i){var c=state.cc[i];if(c==poplex)lexical=lexical.prev;else if(c!=maybeelse)break}"stat"==lexical.type&&"}"==firstChar&&(lexical=lexical.prev),statementIndent&&")"==lexical.type&&"stat"==lexical.prev.type&&(lexical=lexical.prev);var type=lexical.type,closing=firstChar==type;return"vardef"==type?lexical.indented+("operator"==state.lastType||","==state.lastType?lexical.info+1:0):"form"==type&&"{"==firstChar?lexical.indented:"form"==type?lexical.indented+indentUnit:"stat"==type?lexical.indented+(isContinuedStatement(state,textAfter)?statementIndent||indentUnit:0):"switch"!=lexical.info||closing||0==parserConfig.doubleIndentSwitch?lexical.align?lexical.column+(closing?0:1):lexical.indented+(closing?0:indentUnit):lexical.indented+(/^(?:case|default)\b/.test(textAfter)?indentUnit:2*indentUnit)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:jsonMode?null:"/*",blockCommentEnd:jsonMode?null:"*/",lineComment:jsonMode?null:"//",fold:"brace",helperType:jsonMode?"json":"javascript",jsonldMode:jsonldMode,jsonMode:jsonMode}}),CodeMirror.registerHelper("wordChars","javascript",/[\w$]/),CodeMirror.defineMIME("text/javascript","javascript"),CodeMirror.defineMIME("text/ecmascript","javascript"),CodeMirror.defineMIME("application/javascript","javascript"),CodeMirror.defineMIME("application/x-javascript","javascript"),CodeMirror.defineMIME("application/ecmascript","javascript"),CodeMirror.defineMIME("application/json",{name:"javascript",json:!0}),CodeMirror.defineMIME("application/x-json",{name:"javascript",json:!0}),CodeMirror.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),CodeMirror.defineMIME("text/typescript",{name:"javascript",typescript:!0}),CodeMirror.defineMIME("application/typescript",{name:"javascript",typescript:!0})}),function(mod){"object"==typeof exports&&"object"==typeof module?mod(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],mod):mod(CodeMirror)}(function(CodeMirror){"use strict";function words(str){for(var obj={},words=str.split(" "),i=0;i<words.length;++i)obj[words[i]]=!0;return obj}function cppHook(stream,state){if(!state.startOfLine)return!1;for(;;){if(!stream.skipTo("\\")){stream.skipToEnd(),state.tokenize=null;break}if(stream.next(),stream.eol()){state.tokenize=cppHook;break}}return"meta"}function cpp11StringHook(stream,state){if(stream.backUp(1),stream.match(/(R|u8R|uR|UR|LR)/)){var match=stream.match(/"([^\s\\()]{0,16})\(/);return!!match&&(state.cpp11RawStringDelim=match[1],state.tokenize=tokenRawString,tokenRawString(stream,state))}return stream.match(/(u8|u|U|L)/)?!!stream.match(/["']/,!1)&&"string":(stream.next(),!1)}function tokenAtString(stream,state){for(var next;null!=(next=stream.next());)if('"'==next&&!stream.eat('"')){state.tokenize=null;break}return"string"}function tokenRawString(stream,state){var delim=state.cpp11RawStringDelim.replace(/[^\w\s]/g,"\\$&"),match=stream.match(new RegExp(".*?\\)"+delim+'"'));return match?state.tokenize=null:stream.skipToEnd(),"string"}function def(mimes,mode){function add(obj){if(obj)for(var prop in obj)obj.hasOwnProperty(prop)&&words.push(prop)}"string"==typeof mimes&&(mimes=[mimes]);var words=[];add(mode.keywords),add(mode.builtin),add(mode.atoms),words.length&&(mode.helperType=mimes[0],CodeMirror.registerHelper("hintWords",mimes[0],words));for(var i=0;i<mimes.length;++i)CodeMirror.defineMIME(mimes[i],mode)}function tokenTripleString(stream,state){for(var escaped=!1;!stream.eol();){if(!escaped&&stream.match('"""')){state.tokenize=null;break}escaped="\\"==stream.next()&&!escaped}return"string"}CodeMirror.defineMode("clike",function(config,parserConfig){function tokenBase(stream,state){var ch=stream.next();if(hooks[ch]){var result=hooks[ch](stream,state);if(result!==!1)return result}if('"'==ch||"'"==ch)return state.tokenize=tokenString(ch),state.tokenize(stream,state);if(/[\[\]{}\(\),;\:\.]/.test(ch))return curPunc=ch,null;if(/\d/.test(ch))return stream.eatWhile(/[\w\.]/),"number";if("/"==ch){if(stream.eat("*"))return state.tokenize=tokenComment,tokenComment(stream,state);if(stream.eat("/"))return stream.skipToEnd(),"comment"}if(isOperatorChar.test(ch))return stream.eatWhile(isOperatorChar),"operator";stream.eatWhile(/[\w\$_\xa1-\uffff]/);var cur=stream.current();return keywords.propertyIsEnumerable(cur)?(blockKeywords.propertyIsEnumerable(cur)&&(curPunc="newstatement"),"keyword"):builtin.propertyIsEnumerable(cur)?(blockKeywords.propertyIsEnumerable(cur)&&(curPunc="newstatement"),"builtin"):atoms.propertyIsEnumerable(cur)?"atom":"variable"}function tokenString(quote){return function(stream,state){for(var next,escaped=!1,end=!1;null!=(next=stream.next());){if(next==quote&&!escaped){end=!0;break}escaped=!escaped&&"\\"==next}return(end||!escaped&&!multiLineStrings)&&(state.tokenize=null),"string"}}function tokenComment(stream,state){for(var ch,maybeEnd=!1;ch=stream.next();){if("/"==ch&&maybeEnd){state.tokenize=null;break}maybeEnd="*"==ch}return"comment"}function Context(indented,column,type,align,prev){this.indented=indented,this.column=column,this.type=type,this.align=align,this.prev=prev}function pushContext(state,col,type){var indent=state.indented;return state.context&&"statement"==state.context.type&&(indent=state.context.indented),state.context=new Context(indent,col,type,null,state.context)}function popContext(state){var t=state.context.type;return")"!=t&&"]"!=t&&"}"!=t||(state.indented=state.context.indented),state.context=state.context.prev}var curPunc,indentUnit=config.indentUnit,statementIndentUnit=parserConfig.statementIndentUnit||indentUnit,dontAlignCalls=parserConfig.dontAlignCalls,keywords=parserConfig.keywords||{},builtin=parserConfig.builtin||{},blockKeywords=parserConfig.blockKeywords||{},atoms=parserConfig.atoms||{},hooks=parserConfig.hooks||{},multiLineStrings=parserConfig.multiLineStrings,indentStatements=parserConfig.indentStatements!==!1,isOperatorChar=/[+\-*&%=<>!?|\/]/;return{startState:function(basecolumn){return{tokenize:null,context:new Context((basecolumn||0)-indentUnit,0,"top",(!1)),indented:0,startOfLine:!0}},token:function(stream,state){var ctx=state.context;if(stream.sol()&&(null==ctx.align&&(ctx.align=!1),state.indented=stream.indentation(),state.startOfLine=!0),stream.eatSpace())return null;curPunc=null;var style=(state.tokenize||tokenBase)(stream,state);if("comment"==style||"meta"==style)return style;if(null==ctx.align&&(ctx.align=!0),";"!=curPunc&&":"!=curPunc&&","!=curPunc||"statement"!=ctx.type)if("{"==curPunc)pushContext(state,stream.column(),"}");else if("["==curPunc)pushContext(state,stream.column(),"]");else if("("==curPunc)pushContext(state,stream.column(),")");else if("}"==curPunc){for(;"statement"==ctx.type;)ctx=popContext(state);for("}"==ctx.type&&(ctx=popContext(state));"statement"==ctx.type;)ctx=popContext(state)}else curPunc==ctx.type?popContext(state):indentStatements&&(("}"==ctx.type||"top"==ctx.type)&&";"!=curPunc||"statement"==ctx.type&&"newstatement"==curPunc)&&pushContext(state,stream.column(),"statement");else popContext(state);return state.startOfLine=!1,style},indent:function(state,textAfter){if(state.tokenize!=tokenBase&&null!=state.tokenize)return CodeMirror.Pass;var ctx=state.context,firstChar=textAfter&&textAfter.charAt(0);"statement"==ctx.type&&"}"==firstChar&&(ctx=ctx.prev);var closing=firstChar==ctx.type;return"statement"==ctx.type?ctx.indented+("{"==firstChar?0:statementIndentUnit):!ctx.align||dontAlignCalls&&")"==ctx.type?")"!=ctx.type||closing?ctx.indented+(closing?0:indentUnit):ctx.indented+statementIndentUnit:ctx.column+(closing?0:1)},electricChars:"{}",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",fold:"brace"}});var cKeywords="auto if break int case long char register continue return default short do sizeof double static else struct entry switch extern typedef float union for unsigned goto while enum void const signed volatile";def(["text/x-csrc","text/x-c","text/x-chdr"],{name:"clike",keywords:words(cKeywords),blockKeywords:words("case do else for if switch while struct"),atoms:words("null"),hooks:{"#":cppHook},modeProps:{fold:["brace","include"]}}),def(["text/x-c++src","text/x-c++hdr"],{name:"clike",keywords:words(cKeywords+" asm dynamic_cast namespace reinterpret_cast try bool explicit new static_cast typeid catch operator template typename class friend private this using const_cast inline public throw virtual delete mutable protected wchar_t alignas alignof constexpr decltype nullptr noexcept thread_local final static_assert override"),blockKeywords:words("catch class do else finally for if struct switch try while"),atoms:words("true false null"),hooks:{"#":cppHook,u:cpp11StringHook,U:cpp11StringHook,L:cpp11StringHook,R:cpp11StringHook},modeProps:{fold:["brace","include"]}}),def("text/x-java",{name:"clike",keywords:words("abstract assert boolean break byte case catch char class const continue default do double else enum extends final finally float for goto if implements import instanceof int interface long native new package private protected public return short static strictfp super switch synchronized this throw throws transient try void volatile while"),blockKeywords:words("catch class do else finally for if switch try while"),atoms:words("true false null"),hooks:{"@":function(stream){return stream.eatWhile(/[\w\$_]/),"meta"}},modeProps:{fold:["brace","import"]}}),def("text/x-csharp",{name:"clike",keywords:words("abstract as base break case catch checked class const continue default delegate do else enum event explicit extern finally fixed for foreach goto if implicit in interface internal is lock namespace new operator out override params private protected public readonly ref return sealed sizeof stackalloc static struct switch this throw try typeof unchecked unsafe using virtual void volatile while add alias ascending descending dynamic from get global group into join let orderby partial remove select set value var yield"),blockKeywords:words("catch class do else finally for foreach if struct switch try while"),builtin:words("Boolean Byte Char DateTime DateTimeOffset Decimal Double Guid Int16 Int32 Int64 Object SByte Single String TimeSpan UInt16 UInt32 UInt64 bool byte char decimal double short int long object sbyte float string ushort uint ulong"),atoms:words("true false null"),hooks:{"@":function(stream,state){return stream.eat('"')?(state.tokenize=tokenAtString,tokenAtString(stream,state)):(stream.eatWhile(/[\w\$_]/),"meta")}}}),def("text/x-scala",{name:"clike",keywords:words("abstract case catch class def do else extends false final finally for forSome if implicit import lazy match new null object override package private protected return sealed super this throw trait try trye type val var while with yield _ : = => <- <: <% >: # @ assert assume require print println printf readLine readBoolean readByte readShort readChar readInt readLong readFloat readDouble AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either Enumeration Equiv Error Exception Fractional Function IndexedSeq Integral Iterable Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector :: #:: Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),multiLineStrings:!0,blockKeywords:words("catch class do else finally for forSome if match switch try while"),atoms:words("true false null"),indentStatements:!1,hooks:{"@":function(stream){return stream.eatWhile(/[\w\$_]/),"meta"},'"':function(stream,state){return!!stream.match('""')&&(state.tokenize=tokenTripleString,state.tokenize(stream,state))},"'":function(stream){return stream.eatWhile(/[\w\$_\xa1-\uffff]/),"atom"}}}),def(["x-shader/x-vertex","x-shader/x-fragment"],{name:"clike",keywords:words("float int bool void vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 mat2 mat3 mat4 sampler1D sampler2D sampler3D samplerCube sampler1DShadow sampler2DShadow const attribute uniform varying break continue discard return for while do if else struct in out inout"),blockKeywords:words("for while do if else struct"),builtin:words("radians degrees sin cos tan asin acos atan pow exp log exp2 sqrt inversesqrt abs sign floor ceil fract mod min max clamp mix step smoothstep length distance dot cross normalize ftransform faceforward reflect refract matrixCompMult lessThan lessThanEqual greaterThan greaterThanEqual equal notEqual any all not texture1D texture1DProj texture1DLod texture1DProjLod texture2D texture2DProj texture2DLod texture2DProjLod texture3D texture3DProj texture3DLod texture3DProjLod textureCube textureCubeLod shadow1D shadow2D shadow1DProj shadow2DProj shadow1DLod shadow2DLod shadow1DProjLod shadow2DProjLod dFdx dFdy fwidth noise1 noise2 noise3 noise4"),atoms:words("true false gl_FragColor gl_SecondaryColor gl_Normal gl_Vertex gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 gl_FogCoord gl_PointCoord gl_Position gl_PointSize gl_ClipVertex gl_FrontColor gl_BackColor gl_FrontSecondaryColor gl_BackSecondaryColor gl_TexCoord gl_FogFragCoord gl_FragCoord gl_FrontFacing gl_FragData gl_FragDepth gl_ModelViewMatrix gl_ProjectionMatrix gl_ModelViewProjectionMatrix gl_TextureMatrix gl_NormalMatrix gl_ModelViewMatrixInverse gl_ProjectionMatrixInverse gl_ModelViewProjectionMatrixInverse gl_TexureMatrixTranspose gl_ModelViewMatrixInverseTranspose gl_ProjectionMatrixInverseTranspose gl_ModelViewProjectionMatrixInverseTranspose gl_TextureMatrixInverseTranspose gl_NormalScale gl_DepthRange gl_ClipPlane gl_Point gl_FrontMaterial gl_BackMaterial gl_LightSource gl_LightModel gl_FrontLightModelProduct gl_BackLightModelProduct gl_TextureColor gl_EyePlaneS gl_EyePlaneT gl_EyePlaneR gl_EyePlaneQ gl_FogParameters gl_MaxLights gl_MaxClipPlanes gl_MaxTextureUnits gl_MaxTextureCoords gl_MaxVertexAttribs gl_MaxVertexUniformComponents gl_MaxVaryingFloats gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits gl_MaxFragmentUniformComponents gl_MaxCombineTextureImageUnits gl_MaxDrawBuffers"),hooks:{"#":cppHook},modeProps:{fold:["brace","include"]}}),def("text/x-nesc",{name:"clike",keywords:words(cKeywords+"as atomic async call command component components configuration event generic implementation includes interface module new norace nx_struct nx_union post provides signal task uses abstract extends"),blockKeywords:words("case do else for if switch while struct"),atoms:words("null"),hooks:{"#":cppHook},modeProps:{fold:["brace","include"]}}),def("text/x-objectivec",{name:"clike",keywords:words(cKeywords+"inline restrict _Bool _Complex _Imaginery BOOL Class bycopy byref id IMP in inout nil oneway out Protocol SEL self super atomic nonatomic retain copy readwrite readonly"),atoms:words("YES NO NULL NILL ON OFF"),hooks:{"@":function(stream){return stream.eatWhile(/[\w\$]/),"keyword"},"#":cppHook},modeProps:{fold:"brace"}})}),function(mod){"object"==typeof exports&&"object"==typeof module?mod(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],mod):mod(CodeMirror)}(function(CodeMirror){function dialogDiv(cm,template,bottom){var dialog,wrap=cm.getWrapperElement();return dialog=wrap.appendChild(document.createElement("div")),bottom?dialog.className="CodeMirror-dialog CodeMirror-dialog-bottom":dialog.className="CodeMirror-dialog CodeMirror-dialog-top","string"==typeof template?dialog.innerHTML=template:dialog.appendChild(template),dialog}function closeNotification(cm,newVal){cm.state.currentNotificationClose&&cm.state.currentNotificationClose(),cm.state.currentNotificationClose=newVal}CodeMirror.defineExtension("openDialog",function(template,callback,options){function close(newVal){if("string"==typeof newVal)inp.value=newVal;else{if(closed)return;closed=!0,dialog.parentNode.removeChild(dialog),me.focus(),options.onClose&&options.onClose(dialog)}}options||(options={}),closeNotification(this,null);var button,dialog=dialogDiv(this,template,options.bottom),closed=!1,me=this,inp=dialog.getElementsByTagName("input")[0];return inp?(options.value&&(inp.value=options.value,inp.select()),options.onInput&&CodeMirror.on(inp,"input",function(e){options.onInput(e,inp.value,close)}),options.onKeyUp&&CodeMirror.on(inp,"keyup",function(e){options.onKeyUp(e,inp.value,close)}),CodeMirror.on(inp,"keydown",function(e){options&&options.onKeyDown&&options.onKeyDown(e,inp.value,close)||((27==e.keyCode||options.closeOnEnter!==!1&&13==e.keyCode)&&(inp.blur(),CodeMirror.e_stop(e),close()),13==e.keyCode&&callback(inp.value,e))}),options.closeOnBlur!==!1&&CodeMirror.on(inp,"blur",close),inp.focus()):(button=dialog.getElementsByTagName("button")[0])&&(CodeMirror.on(button,"click",function(){close(),me.focus()}),options.closeOnBlur!==!1&&CodeMirror.on(button,"blur",close),button.focus()),close}),CodeMirror.defineExtension("openConfirm",function(template,callbacks,options){function close(){closed||(closed=!0,dialog.parentNode.removeChild(dialog),me.focus())}closeNotification(this,null);var dialog=dialogDiv(this,template,options&&options.bottom),buttons=dialog.getElementsByTagName("button"),closed=!1,me=this,blurring=1;buttons[0].focus();for(var i=0;i<buttons.length;++i){var b=buttons[i];!function(callback){CodeMirror.on(b,"click",function(e){CodeMirror.e_preventDefault(e),close(),callback&&callback(me)})}(callbacks[i]),CodeMirror.on(b,"blur",function(){--blurring,setTimeout(function(){blurring<=0&&close()},200)}),CodeMirror.on(b,"focus",function(){++blurring})}}),CodeMirror.defineExtension("openNotification",function(template,options){function close(){closed||(closed=!0,clearTimeout(doneTimer),dialog.parentNode.removeChild(dialog))}closeNotification(this,close);var doneTimer,dialog=dialogDiv(this,template,options&&options.bottom),closed=!1,duration=options&&"undefined"!=typeof options.duration?options.duration:5e3;return CodeMirror.on(dialog,"click",function(e){CodeMirror.e_preventDefault(e),close()}),duration&&(doneTimer=setTimeout(close,duration)),close})}),function(mod){"object"==typeof exports&&"object"==typeof module?mod(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],mod):mod(CodeMirror)}(function(CodeMirror){"use strict";function SearchCursor(doc,query,pos,caseFold){if(this.atOccurrence=!1,this.doc=doc,null==caseFold&&"string"==typeof query&&(caseFold=!1),pos=pos?doc.clipPos(pos):Pos(0,0),this.pos={from:pos,to:pos},"string"!=typeof query)query.global||(query=new RegExp(query.source,query.ignoreCase?"ig":"g")),this.matches=function(reverse,pos){if(reverse){query.lastIndex=0;for(var match,start,line=doc.getLine(pos.line).slice(0,pos.ch),cutOff=0;;){query.lastIndex=cutOff;var newMatch=query.exec(line);if(!newMatch)break;if(match=newMatch,start=match.index,cutOff=match.index+(match[0].length||1),cutOff==line.length)break}var matchLen=match&&match[0].length||0;matchLen||(0==start&&0==line.length?match=void 0:start!=doc.getLine(pos.line).length&&matchLen++)}else{query.lastIndex=pos.ch;var line=doc.getLine(pos.line),match=query.exec(line),matchLen=match&&match[0].length||0,start=match&&match.index;start+matchLen==line.length||matchLen||(matchLen=1)}if(match&&matchLen)return{from:Pos(pos.line,start),to:Pos(pos.line,start+matchLen),match:match}};else{var origQuery=query;caseFold&&(query=query.toLowerCase());var fold=caseFold?function(str){return str.toLowerCase()}:function(str){return str},target=query.split("\n");if(1==target.length)query.length?this.matches=function(reverse,pos){if(reverse){var orig=doc.getLine(pos.line).slice(0,pos.ch),line=fold(orig),match=line.lastIndexOf(query);if(match>-1)return match=adjustPos(orig,line,match),{from:Pos(pos.line,match),to:Pos(pos.line,match+origQuery.length)}}else{var orig=doc.getLine(pos.line).slice(pos.ch),line=fold(orig),match=line.indexOf(query);if(match>-1)return match=adjustPos(orig,line,match)+pos.ch,{from:Pos(pos.line,match),to:Pos(pos.line,match+origQuery.length)}}}:this.matches=function(){};else{var origTarget=origQuery.split("\n");this.matches=function(reverse,pos){var last=target.length-1;if(reverse){if(pos.line-(target.length-1)<doc.firstLine())return;if(fold(doc.getLine(pos.line).slice(0,origTarget[last].length))!=target[target.length-1])return;for(var to=Pos(pos.line,origTarget[last].length),ln=pos.line-1,i=last-1;i>=1;--i,--ln)if(target[i]!=fold(doc.getLine(ln)))return;var line=doc.getLine(ln),cut=line.length-origTarget[0].length;if(fold(line.slice(cut))!=target[0])return;return{from:Pos(ln,cut),to:to}}if(!(pos.line+(target.length-1)>doc.lastLine())){var line=doc.getLine(pos.line),cut=line.length-origTarget[0].length;if(fold(line.slice(cut))==target[0]){for(var from=Pos(pos.line,cut),ln=pos.line+1,i=1;i<last;++i,++ln)if(target[i]!=fold(doc.getLine(ln)))return;if(fold(doc.getLine(ln).slice(0,origTarget[last].length))==target[last])return{from:from,to:Pos(ln,origTarget[last].length)}}}}}}}function adjustPos(orig,folded,pos){if(orig.length==folded.length)return pos;for(var pos1=Math.min(pos,orig.length);;){var len1=orig.slice(0,pos1).toLowerCase().length;if(len1<pos)++pos1;else{if(!(len1>pos))return pos1;--pos1}}}var Pos=CodeMirror.Pos;SearchCursor.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(reverse){function savePosAndFail(line){var pos=Pos(line,0);return self.pos={from:pos,to:pos},self.atOccurrence=!1,!1}for(var self=this,pos=this.doc.clipPos(reverse?this.pos.from:this.pos.to);;){if(this.pos=this.matches(reverse,pos))return this.atOccurrence=!0,this.pos.match||!0;if(reverse){if(!pos.line)return savePosAndFail(0);pos=Pos(pos.line-1,this.doc.getLine(pos.line-1).length)}else{var maxLine=this.doc.lineCount();if(pos.line==maxLine-1)return savePosAndFail(maxLine);pos=Pos(pos.line+1,0)}}},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(newText){if(this.atOccurrence){var lines=CodeMirror.splitLines(newText);this.doc.replaceRange(lines,this.pos.from,this.pos.to),this.pos.to=Pos(this.pos.from.line+lines.length-1,lines[lines.length-1].length+(1==lines.length?this.pos.from.ch:0))}}},CodeMirror.defineExtension("getSearchCursor",function(query,pos,caseFold){return new SearchCursor(this.doc,query,pos,caseFold)}),CodeMirror.defineDocExtension("getSearchCursor",function(query,pos,caseFold){return new SearchCursor(this,query,pos,caseFold)}),CodeMirror.defineExtension("selectMatches",function(query,caseFold){for(var next,ranges=[],cur=this.getSearchCursor(query,this.getCursor("from"),caseFold);(next=cur.findNext())&&!(CodeMirror.cmpPos(cur.to(),this.getCursor("to"))>0);)ranges.push({anchor:cur.from(),head:cur.to()});ranges.length&&this.setSelections(ranges,0)})}),!function(a,b){if("function"==typeof define&&define.amd)define(["moment"],b);else if("object"==typeof exports)try{module.exports=b(require("moment"))}catch(c){module.exports=b}a&&(a.momentJDateFormatParserSetup=a.moment?b(a.moment):b)}(this,function(a){function b(a){if(!a)throw new Error("Moment JDateFormatParser Plugin - Cannot find moment.js instance.");a.fn.__translateJavaFormat=g,a.fn.toMomentFormatString=function(a){if(!c[a]){for(var b="",d=/[^']+|('[^']*')/g,f="";f=d.exec(a);)f=f[0],b+=f.match(/'.?'/)?"["+f.substring(1,f.length-1)+"]":g(f,e);c[a]=b}return c[a]},a.fn.formatWithJDF=function(a){return this.format(this.toMomentFormatString(a))},a.fn.toJDFString=function(a){return d[a]||(d[a]=g(a,f)),d[a]}}var c={},d={},e={d:"D",dd:"DD",y:"YYYY",yy:"YY",yyy:"YYYY",yyyy:"YYYY",a:"a",A:"A",M:"M",MM:"MM",MMM:"MMM",MMMM:"MMMM",h:"h",hh:"hh",H:"H",HH:"HH",m:"m",mm:"mm",s:"s",ss:"ss",S:"SSS",SS:"SSS",SSS:"SSS",E:"ddd",EE:"ddd",EEE:"ddd",EEEE:"dddd",EEEEE:"dddd",EEEEEE:"dddd",D:"DDD",w:"W",ww:"WW",z:"ZZ",zzzz:"Z",Z:"ZZ",X:"ZZ",XX:"ZZ",XXX:"Z",u:"E"},f={D:"d",DD:"dd",YY:"yy",YYY:"yyyy",YYYY:"yyyy",a:"a",A:"a",M:"M",MM:"MM",MMM:"MMM",MMMM:"MMMM",h:"h",hh:"hh",H:"H",HH:"HH",m:"m",mm:"mm",s:"s",ss:"ss",S:"S",SS:"S",SSS:"S",ddd:"E",dddd:"EEEE",DDD:"D",W:"w",WW:"ww",ZZ:"z",Z:"XXX",E:"u"},g=function(a,b){for(var c=a.length,d=0,e=-1,f=null,g="",i="";c>d;d++)g=a.charAt(d),(null===f||f!==g)&&(i=h(a,b,e,d,i),e=d),f=g;return h(a,b,e,d,i)},h=function(a,b,c,d,e){if(-1!==c){var f=a.substring(c,d);b[f]&&(f=b[f]),e+=f}return e};return b(a),b}),later=function(){"use strict";var later={version:"1.2.0"};return Array.prototype.indexOf||(Array.prototype.indexOf=function(searchElement){if(null==this)throw new TypeError;var t=Object(this),len=t.length>>>0;
if(0===len)return-1;var n=0;if(arguments.length>1&&(n=Number(arguments[1]),n!=n?n=0:0!=n&&n!=1/0&&n!=-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n)))),n>=len)return-1;for(var k=n>=0?n:Math.max(len-Math.abs(n),0);k<len;k++)if(k in t&&t[k]===searchElement)return k;return-1}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),later.array={},later.array.sort=function(arr,zeroIsLast){arr.sort(function(a,b){return+a-+b}),zeroIsLast&&0===arr[0]&&arr.push(arr.shift())},later.array.next=function(val,values,extent){for(var cur,zeroIsLargest=0!==extent[0],nextIdx=0,i=values.length-1;i>-1;--i){if(cur=values[i],cur===val)return cur;if(!(cur>val||0===cur&&zeroIsLargest&&extent[1]>val))break;nextIdx=i}return values[nextIdx]},later.array.nextInvalid=function(val,values,extent){for(var min=extent[0],max=extent[1],len=values.length,zeroVal=0===values[len-1]&&0!==min?max:0,next=val,i=values.indexOf(val),start=next;next===(values[i]||zeroVal);)if(next++,next>max&&(next=min),i++,i===len&&(i=0),next===start)return;return next},later.array.prev=function(val,values,extent){for(var cur,len=values.length,zeroIsLargest=0!==extent[0],prevIdx=len-1,i=0;i<len;i++){if(cur=values[i],cur===val)return cur;if(!(cur<val||0===cur&&zeroIsLargest&&extent[1]<val))break;prevIdx=i}return values[prevIdx]},later.array.prevInvalid=function(val,values,extent){for(var min=extent[0],max=extent[1],len=values.length,zeroVal=0===values[len-1]&&0!==min?max:0,next=val,i=values.indexOf(val),start=next;next===(values[i]||zeroVal);)if(next--,next<min&&(next=max),i--,i===-1&&(i=len-1),next===start)return;return next},later.day=later.D={name:"day",range:86400,val:function(d){return d.D||(d.D=later.date.getDate.call(d))},isValid:function(d,val){return later.D.val(d)===(val||later.D.extent(d)[1])},extent:function(d){if(d.DExtent)return d.DExtent;var month=later.M.val(d),max=later.DAYS_IN_MONTH[month-1];return 2===month&&366===later.dy.extent(d)[1]&&(max+=1),d.DExtent=[1,max]},start:function(d){return d.DStart||(d.DStart=later.date.next(later.Y.val(d),later.M.val(d),later.D.val(d)))},end:function(d){return d.DEnd||(d.DEnd=later.date.prev(later.Y.val(d),later.M.val(d),later.D.val(d)))},next:function(d,val){val=val>later.D.extent(d)[1]?1:val;var month=later.date.nextRollover(d,val,later.D,later.M),DMax=later.D.extent(month)[1];return val=val>DMax?1:val||DMax,later.date.next(later.Y.val(month),later.M.val(month),val)},prev:function(d,val){var month=later.date.prevRollover(d,val,later.D,later.M),DMax=later.D.extent(month)[1];return later.date.prev(later.Y.val(month),later.M.val(month),val>DMax?DMax:val||DMax)}},later.dayOfWeekCount=later.dc={name:"day of week count",range:604800,val:function(d){return d.dc||(d.dc=Math.floor((later.D.val(d)-1)/7)+1)},isValid:function(d,val){return later.dc.val(d)===val||0===val&&later.D.val(d)>later.D.extent(d)[1]-7},extent:function(d){return d.dcExtent||(d.dcExtent=[1,Math.ceil(later.D.extent(d)[1]/7)])},start:function(d){return d.dcStart||(d.dcStart=later.date.next(later.Y.val(d),later.M.val(d),Math.max(1,7*(later.dc.val(d)-1)+1||1)))},end:function(d){return d.dcEnd||(d.dcEnd=later.date.prev(later.Y.val(d),later.M.val(d),Math.min(7*later.dc.val(d),later.D.extent(d)[1])))},next:function(d,val){val=val>later.dc.extent(d)[1]?1:val;var month=later.date.nextRollover(d,val,later.dc,later.M),dcMax=later.dc.extent(month)[1];val=val>dcMax?1:val;var next=later.date.next(later.Y.val(month),later.M.val(month),0===val?later.D.extent(month)[1]-6:1+7*(val-1));return next.getTime()<=d.getTime()?(month=later.M.next(d,later.M.val(d)+1),later.date.next(later.Y.val(month),later.M.val(month),0===val?later.D.extent(month)[1]-6:1+7*(val-1))):next},prev:function(d,val){var month=later.date.prevRollover(d,val,later.dc,later.M),dcMax=later.dc.extent(month)[1];return val=val>dcMax?dcMax:val||dcMax,later.dc.end(later.date.prev(later.Y.val(month),later.M.val(month),1+7*(val-1)))}},later.dayOfWeek=later.dw=later.d={name:"day of week",range:86400,val:function(d){return d.dw||(d.dw=later.date.getDay.call(d)+1)},isValid:function(d,val){return later.dw.val(d)===(val||7)},extent:function(){return[1,7]},start:function(d){return later.D.start(d)},end:function(d){return later.D.end(d)},next:function(d,val){return val=val>7?1:val||7,later.date.next(later.Y.val(d),later.M.val(d),later.D.val(d)+(val-later.dw.val(d))+(val<=later.dw.val(d)?7:0))},prev:function(d,val){return val=val>7?7:val||7,later.date.prev(later.Y.val(d),later.M.val(d),later.D.val(d)+(val-later.dw.val(d))+(val>=later.dw.val(d)?-7:0))}},later.dayOfYear=later.dy={name:"day of year",range:86400,val:function(d){return d.dy||(d.dy=Math.ceil(1+(later.D.start(d).getTime()-later.Y.start(d).getTime())/later.DAY))},isValid:function(d,val){return later.dy.val(d)===(val||later.dy.extent(d)[1])},extent:function(d){var year=later.Y.val(d);return d.dyExtent||(d.dyExtent=[1,year%4?365:366])},start:function(d){return later.D.start(d)},end:function(d){return later.D.end(d)},next:function(d,val){val=val>later.dy.extent(d)[1]?1:val;var year=later.date.nextRollover(d,val,later.dy,later.Y),dyMax=later.dy.extent(year)[1];return val=val>dyMax?1:val||dyMax,later.date.next(later.Y.val(year),later.M.val(year),val)},prev:function(d,val){var year=later.date.prevRollover(d,val,later.dy,later.Y),dyMax=later.dy.extent(year)[1];return val=val>dyMax?dyMax:val||dyMax,later.date.prev(later.Y.val(year),later.M.val(year),val)}},later.hour=later.h={name:"hour",range:3600,val:function(d){return d.h||(d.h=later.date.getHour.call(d))},isValid:function(d,val){return later.h.val(d)===val},extent:function(){return[0,23]},start:function(d){return d.hStart||(d.hStart=later.date.next(later.Y.val(d),later.M.val(d),later.D.val(d),later.h.val(d)))},end:function(d){return d.hEnd||(d.hEnd=later.date.prev(later.Y.val(d),later.M.val(d),later.D.val(d),later.h.val(d)))},next:function(d,val){val=val>23?0:val;var next=later.date.next(later.Y.val(d),later.M.val(d),later.D.val(d)+(val<=later.h.val(d)?1:0),val);return!later.date.isUTC&&next.getTime()<=d.getTime()&&(next=later.date.next(later.Y.val(next),later.M.val(next),later.D.val(next),val+1)),next},prev:function(d,val){return val=val>23?23:val,later.date.prev(later.Y.val(d),later.M.val(d),later.D.val(d)+(val>=later.h.val(d)?-1:0),val)}},later.minute=later.m={name:"minute",range:60,val:function(d){return d.m||(d.m=later.date.getMin.call(d))},isValid:function(d,val){return later.m.val(d)===val},extent:function(d){return[0,59]},start:function(d){return d.mStart||(d.mStart=later.date.next(later.Y.val(d),later.M.val(d),later.D.val(d),later.h.val(d),later.m.val(d)))},end:function(d){return d.mEnd||(d.mEnd=later.date.prev(later.Y.val(d),later.M.val(d),later.D.val(d),later.h.val(d),later.m.val(d)))},next:function(d,val){var m=later.m.val(d),s=later.s.val(d),inc=val>59?60-m:val<=m?60-m+val:val-m,next=new Date(d.getTime()+inc*later.MIN-s*later.SEC);return!later.date.isUTC&&next.getTime()<=d.getTime()&&(next=new Date(d.getTime()+(inc+120)*later.MIN-s*later.SEC)),next},prev:function(d,val){return val=val>59?59:val,later.date.prev(later.Y.val(d),later.M.val(d),later.D.val(d),later.h.val(d)+(val>=later.m.val(d)?-1:0),val)}},later.month=later.M={name:"month",range:2629740,val:function(d){return d.M||(d.M=later.date.getMonth.call(d)+1)},isValid:function(d,val){return later.M.val(d)===(val||12)},extent:function(){return[1,12]},start:function(d){return d.MStart||(d.MStart=later.date.next(later.Y.val(d),later.M.val(d)))},end:function(d){return d.MEnd||(d.MEnd=later.date.prev(later.Y.val(d),later.M.val(d)))},next:function(d,val){return val=val>12?1:val||12,later.date.next(later.Y.val(d)+(val>later.M.val(d)?0:1),val)},prev:function(d,val){return val=val>12?12:val||12,later.date.prev(later.Y.val(d)-(val>=later.M.val(d)?1:0),val)}},later.second=later.s={name:"second",range:1,val:function(d){return d.s||(d.s=later.date.getSec.call(d))},isValid:function(d,val){return later.s.val(d)===val},extent:function(){return[0,59]},start:function(d){return d},end:function(d){return d},next:function(d,val){var s=later.s.val(d),inc=val>59?60-s:val<=s?60-s+val:val-s,next=new Date(d.getTime()+inc*later.SEC);return!later.date.isUTC&&next.getTime()<=d.getTime()&&(next=new Date(d.getTime()+(inc+7200)*later.SEC)),next},prev:function(d,val,cache){return val=val>59?59:val,later.date.prev(later.Y.val(d),later.M.val(d),later.D.val(d),later.h.val(d),later.m.val(d)+(val>=later.s.val(d)?-1:0),val)}},later.time=later.t={name:"time",range:1,val:function(d){return d.t||(d.t=3600*later.h.val(d)+60*later.m.val(d)+later.s.val(d))},isValid:function(d,val){return later.t.val(d)===val},extent:function(){return[0,86399]},start:function(d){return d},end:function(d){return d},next:function(d,val){val=val>86399?0:val;var next=later.date.next(later.Y.val(d),later.M.val(d),later.D.val(d)+(val<=later.t.val(d)?1:0),0,0,val);return!later.date.isUTC&&next.getTime()<d.getTime()&&(next=later.date.next(later.Y.val(next),later.M.val(next),later.D.val(next),later.h.val(next),later.m.val(next),val+7200)),next},prev:function(d,val){return val=val>86399?86399:val,later.date.next(later.Y.val(d),later.M.val(d),later.D.val(d)+(val>=later.t.val(d)?-1:0),0,0,val)}},later.weekOfMonth=later.wm={name:"week of month",range:604800,val:function(d){return d.wm||(d.wm=(later.D.val(d)+(later.dw.val(later.M.start(d))-1)+(7-later.dw.val(d)))/7)},isValid:function(d,val){return later.wm.val(d)===(val||later.wm.extent(d)[1])},extent:function(d){return d.wmExtent||(d.wmExtent=[1,(later.D.extent(d)[1]+(later.dw.val(later.M.start(d))-1)+(7-later.dw.val(later.M.end(d))))/7])},start:function(d){return d.wmStart||(d.wmStart=later.date.next(later.Y.val(d),later.M.val(d),Math.max(later.D.val(d)-later.dw.val(d)+1,1)))},end:function(d){return d.wmEnd||(d.wmEnd=later.date.prev(later.Y.val(d),later.M.val(d),Math.min(later.D.val(d)+(7-later.dw.val(d)),later.D.extent(d)[1])))},next:function(d,val){val=val>later.wm.extent(d)[1]?1:val;var month=later.date.nextRollover(d,val,later.wm,later.M),wmMax=later.wm.extent(month)[1];return val=val>wmMax?1:val||wmMax,later.date.next(later.Y.val(month),later.M.val(month),Math.max(1,7*(val-1)-(later.dw.val(month)-2)))},prev:function(d,val){var month=later.date.prevRollover(d,val,later.wm,later.M),wmMax=later.wm.extent(month)[1];return val=val>wmMax?wmMax:val||wmMax,later.wm.end(later.date.next(later.Y.val(month),later.M.val(month),Math.max(1,7*(val-1)-(later.dw.val(month)-2))))}},later.weekOfYear=later.wy={name:"week of year (ISO)",range:604800,val:function(d){if(d.wy)return d.wy;var wThur=later.dw.next(later.wy.start(d),5),YThur=later.dw.next(later.Y.prev(wThur,later.Y.val(wThur)-1),5);return d.wy=1+Math.ceil((wThur.getTime()-YThur.getTime())/later.WEEK)},isValid:function(d,val){return later.wy.val(d)===(val||later.wy.extent(d)[1])},extent:function(d){if(d.wyExtent)return d.wyExtent;var year=later.dw.next(later.wy.start(d),5),dwFirst=later.dw.val(later.Y.start(year)),dwLast=later.dw.val(later.Y.end(year));return d.wyExtent=[1,5===dwFirst||5===dwLast?53:52]},start:function(d){return d.wyStart||(d.wyStart=later.date.next(later.Y.val(d),later.M.val(d),later.D.val(d)-(later.dw.val(d)>1?later.dw.val(d)-2:6)))},end:function(d){return d.wyEnd||(d.wyEnd=later.date.prev(later.Y.val(d),later.M.val(d),later.D.val(d)+(later.dw.val(d)>1?8-later.dw.val(d):0)))},next:function(d,val){val=val>later.wy.extent(d)[1]?1:val;var wyThur=later.dw.next(later.wy.start(d),5),year=later.date.nextRollover(wyThur,val,later.wy,later.Y);1!==later.wy.val(year)&&(year=later.dw.next(year,2));var wyMax=later.wy.extent(year)[1],wyStart=later.wy.start(year);return val=val>wyMax?1:val||wyMax,later.date.next(later.Y.val(wyStart),later.M.val(wyStart),later.D.val(wyStart)+7*(val-1))},prev:function(d,val){var wyThur=later.dw.next(later.wy.start(d),5),year=later.date.prevRollover(wyThur,val,later.wy,later.Y);1!==later.wy.val(year)&&(year=later.dw.next(year,2));var wyMax=later.wy.extent(year)[1],wyEnd=later.wy.end(year);return val=val>wyMax?wyMax:val||wyMax,later.wy.end(later.date.next(later.Y.val(wyEnd),later.M.val(wyEnd),later.D.val(wyEnd)+7*(val-1)))}},later.year=later.Y={name:"year",range:31556900,val:function(d){return d.Y||(d.Y=later.date.getYear.call(d))},isValid:function(d,val){return later.Y.val(d)===val},extent:function(){return[1970,2099]},start:function(d){return d.YStart||(d.YStart=later.date.next(later.Y.val(d)))},end:function(d){return d.YEnd||(d.YEnd=later.date.prev(later.Y.val(d)))},next:function(d,val){return val>later.Y.val(d)&&val<=later.Y.extent()[1]?later.date.next(val):later.NEVER},prev:function(d,val){return val<later.Y.val(d)&&val>=later.Y.extent()[0]?later.date.prev(val):later.NEVER}},later.fullDate=later.fd={name:"full date",range:1,val:function(d){return d.fd||(d.fd=d.getTime())},isValid:function(d,val){return later.fd.val(d)===val},extent:function(){return[0,3250368e7]},start:function(d){return d},end:function(d){return d},next:function(d,val){return later.fd.val(d)<val?new Date(val):later.NEVER},prev:function(d,val){return later.fd.val(d)>val?new Date(val):later.NEVER}},later.modifier={},later.modifier.after=later.modifier.a=function(constraint,values){var value=values[0];return{name:"after "+constraint.name,range:(constraint.extent(new Date)[1]-value)*constraint.range,val:constraint.val,isValid:function(d,val){return this.val(d)>=value},extent:constraint.extent,start:constraint.start,end:constraint.end,next:function(startDate,val){return val!=value&&(val=constraint.extent(startDate)[0]),constraint.next(startDate,val)},prev:function(startDate,val){return val=val===value?constraint.extent(startDate)[1]:value-1,constraint.prev(startDate,val)}}},later.modifier.before=later.modifier.b=function(constraint,values){var value=values[values.length-1];return{name:"before "+constraint.name,range:constraint.range*(value-1),val:constraint.val,isValid:function(d,val){return this.val(d)<value},extent:constraint.extent,start:constraint.start,end:constraint.end,next:function(startDate,val){return val=val===value?constraint.extent(startDate)[0]:value,constraint.next(startDate,val)},prev:function(startDate,val){return val=val===value?value-1:constraint.extent(startDate)[1],constraint.prev(startDate,val)}}},later.compile=function(schedDef){function compareFn(dir){return"next"===dir?function(a,b){return a.getTime()>b.getTime()}:function(a,b){return b.getTime()>a.getTime()}}var tickConstraint,constraints=[],constraintsLen=0;for(var key in schedDef){var nameParts=key.split("_"),name=nameParts[0],mod=nameParts[1],vals=schedDef[key],constraint=mod?later.modifier[mod](later[name],vals):later[name];constraints.push({constraint:constraint,vals:vals}),constraintsLen++}return constraints.sort(function(a,b){var ra=a.constraint.range,rb=b.constraint.range;return rb<ra?-1:rb>ra?1:0}),tickConstraint=constraints[constraintsLen-1].constraint,{start:function(dir,startDate){for(var done,next=startDate,nextVal=later.array[dir],maxAttempts=1e3;maxAttempts--&&!done&&next;){done=!0;for(var i=0;i<constraintsLen;i++){var constraint=constraints[i].constraint,curVal=constraint.val(next),extent=constraint.extent(next),newVal=nextVal(curVal,constraints[i].vals,extent);if(!constraint.isValid(next,newVal)){next=constraint[dir](next,newVal),done=!1;break}}}return next!==later.NEVER&&(next="next"===dir?tickConstraint.start(next):tickConstraint.end(next)),next},end:function(dir,startDate){for(var result,nextVal=later.array[dir+"Invalid"],compare=compareFn(dir),i=constraintsLen-1;i>=0;i--){var next,constraint=constraints[i].constraint,curVal=constraint.val(startDate),extent=constraint.extent(startDate),newVal=nextVal(curVal,constraints[i].vals,extent);void 0!==newVal&&(next=constraint[dir](startDate,newVal),!next||result&&!compare(result,next)||(result=next))}return result},tick:function(dir,date){return new Date("next"===dir?tickConstraint.end(date).getTime()+later.SEC:tickConstraint.start(date).getTime()-later.SEC)},tickStart:function(date){return tickConstraint.start(date)}}},later.schedule=function(sched){function getInstances(dir,count,startDate,endDate,isRange){var next,end,lastResult,compare=compareFn(dir),loopCount=count,maxAttempts=1e3,schedStarts=[],exceptStarts=[],results=[],isForward="next"===dir,rStart=isForward?0:1,rEnd=isForward?1:0;if(startDate=startDate?new Date(startDate):new Date,!startDate||!startDate.getTime())throw new Error("Invalid start date.");for(setNextStarts(dir,schedules,schedStarts,startDate),setRangeStarts(dir,exceptions,exceptStarts,startDate);maxAttempts--&&loopCount&&(next=findNext(schedStarts,compare))&&(!endDate||!compare(next,endDate));)if(exceptionsLen&&(updateRangeStarts(dir,exceptions,exceptStarts,next),end=calcRangeOverlap(dir,exceptStarts,next)))updateNextStarts(dir,schedules,schedStarts,end);else{if(isRange){var maxEndDate=calcMaxEndDate(exceptStarts,compare);end=calcEnd(dir,schedules,schedStarts,next,maxEndDate);var r=isForward?[new Date(Math.max(startDate,next)),end?new Date(endDate?Math.min(end,endDate):end):void 0]:[end?new Date(endDate?Math.max(endDate,end.getTime()+later.SEC):end.getTime()+later.SEC):void 0,new Date(Math.min(startDate,next.getTime()+later.SEC))];if(lastResult&&r[rStart].getTime()===lastResult[rEnd].getTime()?(lastResult[rEnd]=r[rEnd],loopCount++):(lastResult=r,results.push(lastResult)),!end)break;updateNextStarts(dir,schedules,schedStarts,end)}else results.push(isForward?new Date(Math.max(startDate,next)):getStart(schedules,schedStarts,next,endDate)),tickStarts(dir,schedules,schedStarts,next);loopCount--}for(var i=0,len=results.length;i<len;i++){var result=results[i];results[i]="[object Array]"===Object.prototype.toString.call(result)?[cleanDate(result[0]),cleanDate(result[1])]:cleanDate(result)}return 0===results.length?later.NEVER:1===count?results[0]:results}function cleanDate(d){if(d instanceof Date&&!isNaN(d.valueOf()))return new Date(d)}function setNextStarts(dir,schedArr,startsArr,startDate){for(var i=0,len=schedArr.length;i<len;i++)startsArr[i]=schedArr[i].start(dir,startDate)}function updateNextStarts(dir,schedArr,startsArr,startDate){for(var compare=compareFn(dir),i=0,len=schedArr.length;i<len;i++)startsArr[i]&&!compare(startsArr[i],startDate)&&(startsArr[i]=schedArr[i].start(dir,startDate))}function setRangeStarts(dir,schedArr,rangesArr,startDate){for(var i=(compareFn(dir),0),len=schedArr.length;i<len;i++){var nextStart=schedArr[i].start(dir,startDate);nextStart?rangesArr[i]=[nextStart,schedArr[i].end(dir,nextStart)]:rangesArr[i]=later.NEVER}}function updateRangeStarts(dir,schedArr,rangesArr,startDate){for(var compare=compareFn(dir),i=0,len=schedArr.length;i<len;i++)if(rangesArr[i]&&!compare(rangesArr[i][0],startDate)){var nextStart=schedArr[i].start(dir,startDate);nextStart?rangesArr[i]=[nextStart,schedArr[i].end(dir,nextStart)]:rangesArr[i]=later.NEVER}}function tickStarts(dir,schedArr,startsArr,startDate){for(var i=0,len=schedArr.length;i<len;i++)startsArr[i]&&startsArr[i].getTime()===startDate.getTime()&&(startsArr[i]=schedArr[i].start(dir,schedArr[i].tick(dir,startDate)))}function getStart(schedArr,startsArr,startDate,minEndDate){for(var result,i=0,len=startsArr.length;i<len;i++)if(startsArr[i]&&startsArr[i].getTime()===startDate.getTime()){var start=schedArr[i].tickStart(startDate);if(minEndDate&&start<minEndDate)return minEndDate;(!result||start>result)&&(result=start)}return result}function calcRangeOverlap(dir,rangesArr,startDate){for(var result,compare=compareFn(dir),i=0,len=rangesArr.length;i<len;i++){var range=rangesArr[i];!range||compare(range[0],startDate)||range[1]&&!compare(range[1],startDate)||result&&!compare(range[1],result)||(result=range[1])}return result}function calcMaxEndDate(exceptsArr,compare){for(var result,i=0,len=exceptsArr.length;i<len;i++)!exceptsArr[i]||result&&!compare(result,exceptsArr[i][0])||(result=exceptsArr[i][0]);return result}function calcEnd(dir,schedArr,startsArr,startDate,maxEndDate){for(var result,compare=compareFn(dir),i=0,len=schedArr.length;i<len;i++){var start=startsArr[i];if(start&&start.getTime()===startDate.getTime()){var end=schedArr[i].end(dir,start);if(maxEndDate&&(!end||compare(end,maxEndDate)))return maxEndDate;result&&!compare(end,result)||(result=end)}}return result}function compareFn(dir){return"next"===dir?function(a,b){return!b||a.getTime()>b.getTime()}:function(a,b){return!a||b.getTime()>a.getTime()}}function findNext(arr,compare){for(var next=arr[0],i=1,len=arr.length;i<len;i++)arr[i]&&compare(next,arr[i])&&(next=arr[i]);return next}if(!sched)throw new Error("Missing schedule definition.");if(!sched.schedules)throw new Error("Definition must include at least one schedule.");for(var schedules=[],schedulesLen=sched.schedules.length,exceptions=[],exceptionsLen=sched.exceptions?sched.exceptions.length:0,i=0;i<schedulesLen;i++)schedules.push(later.compile(sched.schedules[i]));for(var j=0;j<exceptionsLen;j++)exceptions.push(later.compile(sched.exceptions[j]));return{isValid:function(d){return getInstances("next",1,d,d)!==later.NEVER},next:function(count,startDate,endDate){return getInstances("next",count||1,startDate,endDate)},prev:function(count,startDate,endDate){return getInstances("prev",count||1,startDate,endDate)},nextRange:function(count,startDate,endDate){return getInstances("next",count||1,startDate,endDate,!0)},prevRange:function(count,startDate,endDate){return getInstances("prev",count||1,startDate,endDate,!0)}}},later.setTimeout=function(fn,sched){function scheduleTimeout(){var now=Date.now(),next=s.next(2,now);if(!next[0])return void(t=void 0);var diff=next[0].getTime()-now;diff<1e3&&(diff=next[1]?next[1].getTime()-now:1e3),t=diff<2147483647?setTimeout(fn,diff):setTimeout(scheduleTimeout,2147483647)}var t,s=later.schedule(sched);return fn&&scheduleTimeout(),{isDone:function(){return!t},clear:function(){clearTimeout(t)}}},later.setInterval=function(fn,sched){function scheduleTimeout(){done||(fn(),t=later.setTimeout(scheduleTimeout,sched))}if(fn){var t=later.setTimeout(scheduleTimeout,sched),done=t.isDone();return{isDone:function(){return t.isDone()},clear:function(){done=!0,t.clear()}}}},later.date={},later.date.timezone=function(useLocalTime){later.date.build=useLocalTime?function(Y,M,D,h,m,s){return new Date(Y,M,D,h,m,s)}:function(Y,M,D,h,m,s){return new Date(Date.UTC(Y,M,D,h,m,s))};var get=useLocalTime?"get":"getUTC",d=Date.prototype;later.date.getYear=d[get+"FullYear"],later.date.getMonth=d[get+"Month"],later.date.getDate=d[get+"Date"],later.date.getDay=d[get+"Day"],later.date.getHour=d[get+"Hours"],later.date.getMin=d[get+"Minutes"],later.date.getSec=d[get+"Seconds"],later.date.isUTC=!useLocalTime},later.date.UTC=function(){later.date.timezone(!1)},later.date.localTime=function(){later.date.timezone(!0)},later.date.UTC(),later.SEC=1e3,later.MIN=60*later.SEC,later.HOUR=60*later.MIN,later.DAY=24*later.HOUR,later.WEEK=7*later.DAY,later.DAYS_IN_MONTH=[31,28,31,30,31,30,31,31,30,31,30,31],later.NEVER=0,later.date.next=function(Y,M,D,h,m,s){return later.date.build(Y,void 0!==M?M-1:0,void 0!==D?D:1,h||0,m||0,s||0)},later.date.nextRollover=function(d,val,constraint,period){var cur=constraint.val(d),max=constraint.extent(d)[1];return(val||max)<=cur||val>max?new Date(period.end(d).getTime()+later.SEC):period.start(d)},later.date.prev=function(Y,M,D,h,m,s){var len=arguments.length;return M=len<2?11:M-1,D=len<3?later.D.extent(later.date.next(Y,M+1))[1]:D,h=len<4?23:h,m=len<5?59:m,s=len<6?59:s,later.date.build(Y,M,D,h,m,s)},later.date.prevRollover=function(d,val,constraint,period){var cur=constraint.val(d);return val>=cur||!val?period.start(period.prev(d,period.val(d)-1)):period.start(d)},later.parse={},later.parse.cron=function(expr,hasSeconds){function getValue(value,offset,max){return isNaN(value)?NAMES[value]||null:Math.min(+value+(offset||0),max||9999)}function cloneSchedule(sched){var field,clone={};for(field in sched)"dc"!==field&&"d"!==field&&(clone[field]=sched[field].slice(0));return clone}function add(sched,name,min,max,inc){var i=min;for(sched[name]||(sched[name]=[]);i<=max;)sched[name].indexOf(i)<0&&sched[name].push(i),i+=inc||1;sched[name].sort(function(a,b){return a-b})}function addHash(schedules,curSched,value,hash){(curSched.d&&!curSched.dc||curSched.dc&&curSched.dc.indexOf(hash)<0)&&(schedules.push(cloneSchedule(curSched)),curSched=schedules[schedules.length-1]),add(curSched,"d",value,value),add(curSched,"dc",hash,hash)}function addWeekday(s,curSched,value){var except1={},except2={};1===value?(add(curSched,"D",1,3),add(curSched,"d",NAMES.MON,NAMES.FRI),add(except1,"D",2,2),add(except1,"d",NAMES.TUE,NAMES.FRI),add(except2,"D",3,3),add(except2,"d",NAMES.TUE,NAMES.FRI)):(add(curSched,"D",value-1,value+1),add(curSched,"d",NAMES.MON,NAMES.FRI),add(except1,"D",value-1,value-1),add(except1,"d",NAMES.MON,NAMES.THU),add(except2,"D",value+1,value+1),add(except2,"d",NAMES.TUE,NAMES.FRI)),s.exceptions.push(except1),s.exceptions.push(except2)}function addRange(item,curSched,name,min,max,offset){var incSplit=item.split("/"),inc=+incSplit[1],range=incSplit[0];if("*"!==range&&"0"!==range){var rangeSplit=range.split("-");min=getValue(rangeSplit[0],offset,max),max=getValue(rangeSplit[1],offset,max)||max}add(curSched,name,min,max,inc)}function parse(item,s,name,min,max,offset){var value,split,schedules=s.schedules,curSched=schedules[schedules.length-1];"L"===item&&(item=min-1),null!==(value=getValue(item,offset,max))?add(curSched,name,value,value):null!==(value=getValue(item.replace("W",""),offset,max))?addWeekday(s,curSched,value):null!==(value=getValue(item.replace("L",""),offset,max))?addHash(schedules,curSched,value,min-1):2===(split=item.split("#")).length?(value=getValue(split[0],offset,max),addHash(schedules,curSched,value,getValue(split[1]))):addRange(item,curSched,name,min,max,offset)}function isHash(item){return item.indexOf("#")>-1||item.indexOf("L")>0}function itemSorter(a,b){return isHash(a)&&!isHash(b)?1:a-b}function parseExpr(expr){var field,f,component,items,schedule={schedules:[{}],exceptions:[]},components=expr.replace(/(\s)+/g," ").split(" ");for(field in FIELDS)if(f=FIELDS[field],component=components[f[0]],component&&"*"!==component&&"?"!==component){items=component.split(",").sort(itemSorter);var i,length=items.length;for(i=0;i<length;i++)parse(items[i],schedule,field,f[1],f[2],f[3])}return schedule}function prepareExpr(expr){var prepared=expr.toUpperCase();return REPLACEMENTS[prepared]||prepared}var NAMES={JAN:1,FEB:2,MAR:3,APR:4,MAY:5,JUN:6,JUL:7,AUG:8,SEP:9,OCT:10,NOV:11,DEC:12,SUN:1,MON:2,TUE:3,WED:4,THU:5,FRI:6,SAT:7},REPLACEMENTS={"* * * * * *":"0/1 * * * * *","@YEARLY":"0 0 1 1 *","@ANNUALLY":"0 0 1 1 *","@MONTHLY":"0 0 1 * *","@WEEKLY":"0 0 * * 0","@DAILY":"0 0 * * *","@HOURLY":"0 * * * *"},FIELDS={s:[0,0,59],m:[1,0,59],h:[2,0,23],D:[3,1,31],M:[4,1,12],Y:[6,1970,2099],d:[5,1,7,1]},e=prepareExpr(expr);return parseExpr(hasSeconds?e:"0 "+e)},later.parse.recur=function(){function add(name,min,max){if(name=modifier?name+"_"+modifier:name,cur||(curArr.push({}),cur=curArr[0]),cur[name]||(cur[name]=[]),curName=cur[name],every){for(values=[],i=min;i<=max;i+=every)values.push(i);last={n:name,x:every,c:curName.length,m:max}}values=applyMin?[min]:applyMax?[max]:values;var length=values.length;for(i=0;i<length;i+=1){var val=values[i];curName.indexOf(val)<0&&curName.push(val)}values=every=modifier=applyMin=applyMax=0}var cur,curName,values,every,modifier,applyMin,applyMax,i,last,schedules=[],exceptions=[],curArr=schedules;return{schedules:schedules,exceptions:exceptions,on:function(){return values=arguments[0]instanceof Array?arguments[0]:arguments,this},every:function(x){return every=x||1,this},after:function(x){return modifier="a",values=[x],this},before:function(x){return modifier="b",values=[x],this},first:function(){return applyMin=1,this},last:function(){return applyMax=1,this},time:function(){for(var i=0,len=values.length;i<len;i++){var split=values[i].split(":");split.length<3&&split.push(0),values[i]=3600*+split[0]+60*+split[1]+ +split[2]}return add("t"),this},second:function(){return add("s",0,59),this},minute:function(){return add("m",0,59),this},hour:function(){return add("h",0,23),this},dayOfMonth:function(){return add("D",1,applyMax?0:31),this},dayOfWeek:function(){return add("d",1,7),this},onWeekend:function(){return values=[1,7],this.dayOfWeek()},onWeekday:function(){return values=[2,3,4,5,6],this.dayOfWeek()},dayOfWeekCount:function(){return add("dc",1,applyMax?0:5),this},dayOfYear:function(){return add("dy",1,applyMax?0:366),this},weekOfMonth:function(){return add("wm",1,applyMax?0:5),this},weekOfYear:function(){return add("wy",1,applyMax?0:53),this},month:function(){return add("M",1,12),this},year:function(){return add("Y",1970,2450),this},fullDate:function(){for(var i=0,len=values.length;i<len;i++)values[i]=values[i].getTime();return add("fd"),this},customModifier:function(id,vals){var custom=later.modifier[id];if(!custom)throw new Error("Custom modifier "+id+" not recognized!");return modifier=id,values=arguments[1]instanceof Array?arguments[1]:[arguments[1]],this},customPeriod:function(id){var custom=later[id];if(!custom)throw new Error("Custom time period "+id+" not recognized!");return add(id,custom.extent(new Date)[0],custom.extent(new Date)[1]),this},startingOn:function(start){return this.between(start,last.m)},between:function(start,end){return cur[last.n]=cur[last.n].splice(0,last.c),every=last.x,add(last.n,start,end),this},and:function(){return cur=curArr[curArr.push({})-1],this},except:function(){return curArr=exceptions,cur=null,this}}},later.parse.text=function(str){function t(start,end,text,type){return{startPos:start,endPos:end,text:text,type:type}}function peek(expected){var token,curInput,m,scanToken,start,len,scanTokens=expected instanceof Array?expected:[expected],whiteSpace=/\s+/;for(scanTokens.push(whiteSpace),start=pos;!token||token.type===whiteSpace;){len=-1,curInput=input.substring(start),token=t(start,start,input.split(whiteSpace)[0]);var i,length=scanTokens.length;for(i=0;i<length;i++)scanToken=scanTokens[i],m=scanToken.exec(curInput),m&&0===m.index&&m[0].length>len&&(len=m[0].length,token=t(start,start+len,curInput.substring(0,len),scanToken));token.type===whiteSpace&&(start=token.endPos)}return token}function scan(expectedToken){var token=peek(expectedToken);return pos=token.endPos,token}function parseThroughExpr(tokenType){for(var start=+parseTokenValue(tokenType),end=checkAndParse(TOKENTYPES.through)?+parseTokenValue(tokenType):start,nums=[],i=start;i<=end;i++)nums.push(i);return nums}function parseRanges(tokenType){for(var nums=parseThroughExpr(tokenType);checkAndParse(TOKENTYPES.and);)nums=nums.concat(parseThroughExpr(tokenType));return nums}function parseEvery(r){var num,period,start,end;checkAndParse(TOKENTYPES.weekend)?r.on(NAMES.sun,NAMES.sat).dayOfWeek():checkAndParse(TOKENTYPES.weekday)?r.on(NAMES.mon,NAMES.tue,NAMES.wed,NAMES.thu,NAMES.fri).dayOfWeek():(num=parseTokenValue(TOKENTYPES.rank),r.every(num),period=parseTimePeriod(r),checkAndParse(TOKENTYPES.start)?(num=parseTokenValue(TOKENTYPES.rank),r.startingOn(num),parseToken(period.type)):checkAndParse(TOKENTYPES.between)&&(start=parseTokenValue(TOKENTYPES.rank),checkAndParse(TOKENTYPES.and)&&(end=parseTokenValue(TOKENTYPES.rank),r.between(start,end))))}function parseOnThe(r){checkAndParse(TOKENTYPES.first)?r.first():checkAndParse(TOKENTYPES.last)?r.last():r.on(parseRanges(TOKENTYPES.rank)),parseTimePeriod(r)}function parseScheduleExpr(str){pos=0,input=str,error=-1;for(var r=recur();pos<input.length&&error<0;){var token=parseToken([TOKENTYPES.every,TOKENTYPES.after,TOKENTYPES.before,TOKENTYPES.onthe,TOKENTYPES.on,TOKENTYPES.of,TOKENTYPES["in"],TOKENTYPES.at,TOKENTYPES.and,TOKENTYPES.except,TOKENTYPES.also]);switch(token.type){case TOKENTYPES.every:parseEvery(r);break;case TOKENTYPES.after:void 0!==peek(TOKENTYPES.time).type?(r.after(parseTokenValue(TOKENTYPES.time)),r.time()):(r.after(parseTokenValue(TOKENTYPES.rank)),parseTimePeriod(r));break;case TOKENTYPES.before:void 0!==peek(TOKENTYPES.time).type?(r.before(parseTokenValue(TOKENTYPES.time)),
r.time()):(r.before(parseTokenValue(TOKENTYPES.rank)),parseTimePeriod(r));break;case TOKENTYPES.onthe:parseOnThe(r);break;case TOKENTYPES.on:r.on(parseRanges(TOKENTYPES.dayName)).dayOfWeek();break;case TOKENTYPES.of:r.on(parseRanges(TOKENTYPES.monthName)).month();break;case TOKENTYPES["in"]:r.on(parseRanges(TOKENTYPES.yearIndex)).year();break;case TOKENTYPES.at:for(r.on(parseTokenValue(TOKENTYPES.time)).time();checkAndParse(TOKENTYPES.and);)r.on(parseTokenValue(TOKENTYPES.time)).time();break;case TOKENTYPES.and:break;case TOKENTYPES.also:r.and();break;case TOKENTYPES.except:r.except();break;default:error=pos}}return{schedules:r.schedules,exceptions:r.exceptions,error:error}}function parseTimePeriod(r){var timePeriod=parseToken([TOKENTYPES.second,TOKENTYPES.minute,TOKENTYPES.hour,TOKENTYPES.dayOfYear,TOKENTYPES.dayOfWeek,TOKENTYPES.dayInstance,TOKENTYPES.day,TOKENTYPES.month,TOKENTYPES.year,TOKENTYPES.weekOfMonth,TOKENTYPES.weekOfYear]);switch(timePeriod.type){case TOKENTYPES.second:r.second();break;case TOKENTYPES.minute:r.minute();break;case TOKENTYPES.hour:r.hour();break;case TOKENTYPES.dayOfYear:r.dayOfYear();break;case TOKENTYPES.dayOfWeek:r.dayOfWeek();break;case TOKENTYPES.dayInstance:r.dayOfWeekCount();break;case TOKENTYPES.day:r.dayOfMonth();break;case TOKENTYPES.weekOfMonth:r.weekOfMonth();break;case TOKENTYPES.weekOfYear:r.weekOfYear();break;case TOKENTYPES.month:r.month();break;case TOKENTYPES.year:r.year();break;default:error=pos}return timePeriod}function checkAndParse(tokenType){var found=peek(tokenType).type===tokenType;return found&&scan(tokenType),found}function parseToken(tokenType){var t=scan(tokenType);return t.type?t.text=convertString(t.text,tokenType):error=pos,t}function parseTokenValue(tokenType){return parseToken(tokenType).text}function convertString(str,tokenType){var output=str;switch(tokenType){case TOKENTYPES.time:var parts=str.split(/(:|am|pm)/),hour="pm"===parts[3]&&parts[0]<12?parseInt(parts[0],10)+12:parts[0],min=parts[2].trim();output=(1===hour.length?"0":"")+hour+":"+min;break;case TOKENTYPES.rank:output=parseInt(/^\d+/.exec(str)[0],10);break;case TOKENTYPES.monthName:case TOKENTYPES.dayName:output=NAMES[str.substring(0,3)]}return output}var error,recur=later.parse.recur,pos=0,input="",TOKENTYPES={eof:/^$/,rank:/^((\d\d\d\d)|([2-5]?1(st)?|[2-5]?2(nd)?|[2-5]?3(rd)?|(0|[1-5]?[4-9]|[1-5]0|1[1-3])(th)?))\b/,time:/^((([0]?[1-9]|1[0-2]):[0-5]\d(\s)?(am|pm))|(([0]?\d|1\d|2[0-3]):[0-5]\d))\b/,dayName:/^((sun|mon|tue(s)?|wed(nes)?|thu(r(s)?)?|fri|sat(ur)?)(day)?)\b/,monthName:/^(jan(uary)?|feb(ruary)?|ma((r(ch)?)?|y)|apr(il)?|ju(ly|ne)|aug(ust)?|oct(ober)?|(sept|nov|dec)(ember)?)\b/,yearIndex:/^(\d\d\d\d)\b/,every:/^every\b/,after:/^after\b/,before:/^before\b/,second:/^(s|sec(ond)?(s)?)\b/,minute:/^(m|min(ute)?(s)?)\b/,hour:/^(h|hour(s)?)\b/,day:/^(day(s)?( of the month)?)\b/,dayInstance:/^day instance\b/,dayOfWeek:/^day(s)? of the week\b/,dayOfYear:/^day(s)? of the year\b/,weekOfYear:/^week(s)?( of the year)?\b/,weekOfMonth:/^week(s)? of the month\b/,weekday:/^weekday\b/,weekend:/^weekend\b/,month:/^month(s)?\b/,year:/^year(s)?\b/,between:/^between (the)?\b/,start:/^(start(ing)? (at|on( the)?)?)\b/,at:/^(at|@)\b/,and:/^(,|and\b)/,except:/^(except\b)/,also:/(also)\b/,first:/^(first)\b/,last:/^last\b/,"in":/^in\b/,of:/^of\b/,onthe:/^on the\b/,on:/^on\b/,through:/(-|^(to|through)\b)/},NAMES={jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12,sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7,"1st":1,fir:1,"2nd":2,sec:2,"3rd":3,thi:3,"4th":4,"for":4};return parseScheduleExpr(str.toLowerCase())},later}(),function(root,factory){"function"==typeof define&&define.amd?define("sifter",factory):"object"==typeof exports?module.exports=factory():root.Sifter=factory()}(this,function(){var Sifter=function(items,settings){this.items=items,this.settings=settings||{diacritics:!0}};Sifter.prototype.tokenize=function(query){if(query=trim(String(query||"").toLowerCase()),!query||!query.length)return[];var i,n,regex,letter,tokens=[],words=query.split(/ +/);for(i=0,n=words.length;i<n;i++){if(regex=escape_regex(words[i]),this.settings.diacritics)for(letter in DIACRITICS)DIACRITICS.hasOwnProperty(letter)&&(regex=regex.replace(new RegExp(letter,"g"),DIACRITICS[letter]));tokens.push({string:words[i],regex:new RegExp(regex,"i")})}return tokens},Sifter.prototype.iterator=function(object,callback){var iterator;iterator=is_array(object)?Array.prototype.forEach||function(callback){for(var i=0,n=this.length;i<n;i++)callback(this[i],i,this)}:function(callback){for(var key in this)this.hasOwnProperty(key)&&callback(this[key],key,this)},iterator.apply(object,[callback])},Sifter.prototype.getScoreFunction=function(search,options){var self,fields,tokens,token_count,nesting;self=this,search=self.prepareSearch(search,options),tokens=search.tokens,fields=search.options.fields,token_count=tokens.length,nesting=search.options.nesting;var scoreValue=function(value,token){var score,pos;return value?(value=String(value||""),pos=value.search(token.regex),pos===-1?0:(score=token.string.length/value.length,0===pos&&(score+=.5),score)):0},scoreObject=function(){var field_count=fields.length;return field_count?1===field_count?function(token,data){return scoreValue(getattr(data,fields[0],nesting),token)}:function(token,data){for(var i=0,sum=0;i<field_count;i++)sum+=scoreValue(getattr(data,fields[i],nesting),token);return sum/field_count}:function(){return 0}}();return token_count?1===token_count?function(data){return scoreObject(tokens[0],data)}:"and"===search.options.conjunction?function(data){for(var score,i=0,sum=0;i<token_count;i++){if(score=scoreObject(tokens[i],data),score<=0)return 0;sum+=score}return sum/token_count}:function(data){for(var i=0,sum=0;i<token_count;i++)sum+=scoreObject(tokens[i],data);return sum/token_count}:function(){return 0}},Sifter.prototype.getSortFunction=function(search,options){var i,n,self,field,fields,fields_count,multiplier,multipliers,get_field,implicit_score,sort;if(self=this,search=self.prepareSearch(search,options),sort=!search.query&&options.sort_empty||options.sort,get_field=function(name,result){return"$score"===name?result.score:getattr(self.items[result.id],name,options.nesting)},fields=[],sort)for(i=0,n=sort.length;i<n;i++)(search.query||"$score"!==sort[i].field)&&fields.push(sort[i]);if(search.query){for(implicit_score=!0,i=0,n=fields.length;i<n;i++)if("$score"===fields[i].field){implicit_score=!1;break}implicit_score&&fields.unshift({field:"$score",direction:"desc"})}else for(i=0,n=fields.length;i<n;i++)if("$score"===fields[i].field){fields.splice(i,1);break}for(multipliers=[],i=0,n=fields.length;i<n;i++)multipliers.push("desc"===fields[i].direction?-1:1);return fields_count=fields.length,fields_count?1===fields_count?(field=fields[0].field,multiplier=multipliers[0],function(a,b){return multiplier*cmp(get_field(field,a),get_field(field,b))}):function(a,b){var i,result,field;for(i=0;i<fields_count;i++)if(field=fields[i].field,result=multipliers[i]*cmp(get_field(field,a),get_field(field,b)))return result;return 0}:null},Sifter.prototype.prepareSearch=function(query,options){if("object"==typeof query)return query;options=extend({},options);var option_fields=options.fields,option_sort=options.sort,option_sort_empty=options.sort_empty;return option_fields&&!is_array(option_fields)&&(options.fields=[option_fields]),option_sort&&!is_array(option_sort)&&(options.sort=[option_sort]),option_sort_empty&&!is_array(option_sort_empty)&&(options.sort_empty=[option_sort_empty]),{options:options,query:String(query||"").toLowerCase(),tokens:this.tokenize(query),total:0,items:[]}},Sifter.prototype.search=function(query,options){var score,search,fn_sort,fn_score,self=this;return search=this.prepareSearch(query,options),options=search.options,query=search.query,fn_score=options.score||self.getScoreFunction(search),query.length?self.iterator(self.items,function(item,id){score=fn_score(item),(options.filter===!1||score>0)&&search.items.push({score:score,id:id})}):self.iterator(self.items,function(item,id){search.items.push({score:1,id:id})}),fn_sort=self.getSortFunction(search,options),fn_sort&&search.items.sort(fn_sort),search.total=search.items.length,"number"==typeof options.limit&&(search.items=search.items.slice(0,options.limit)),search};var cmp=function(a,b){return"number"==typeof a&&"number"==typeof b?a>b?1:a<b?-1:0:(a=asciifold(String(a||"")),b=asciifold(String(b||"")),a>b?1:b>a?-1:0)},extend=function(a,b){var i,n,k,object;for(i=1,n=arguments.length;i<n;i++)if(object=arguments[i])for(k in object)object.hasOwnProperty(k)&&(a[k]=object[k]);return a},getattr=function(obj,name,nesting){if(obj&&name){if(!nesting)return obj[name];for(var names=name.split(".");names.length&&(obj=obj[names.shift()]););return obj}},trim=function(str){return(str+"").replace(/^\s+|\s+$|/g,"")},escape_regex=function(str){return(str+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},is_array=Array.isArray||"undefined"!=typeof $&&$.isArray||function(object){return"[object Array]"===Object.prototype.toString.call(object)},DIACRITICS={a:"[aḀḁĂăÂâǍǎȺⱥȦȧẠạÄäÀàÁáĀāÃãÅåąĄÃąĄ]",b:"[b␢βΒB฿𐌁ᛒ]",c:"[cĆćĈĉČčĊċC̄c̄ÇçḈḉȻȼƇƈɕᴄＣｃ]",d:"[dĎďḊḋḐḑḌḍḒḓḎḏĐđD̦d̦ƉɖƊɗƋƌᵭᶁᶑȡᴅＤｄð]",e:"[eÉéÈèÊêḘḙĚěĔĕẼẽḚḛẺẻĖėËëĒēȨȩĘęᶒɆɇȄȅẾếỀềỄễỂểḜḝḖḗḔḕȆȇẸẹỆệⱸᴇＥｅɘǝƏƐε]",f:"[fƑƒḞḟ]",g:"[gɢ₲ǤǥĜĝĞğĢģƓɠĠġ]",h:"[hĤĥĦħḨḩẖẖḤḥḢḣɦʰǶƕ]",i:"[iÍíÌìĬĭÎîǏǐÏïḮḯĨĩĮįĪīỈỉȈȉȊȋỊịḬḭƗɨɨ̆ᵻᶖİiIıɪＩｉ]",j:"[jȷĴĵɈɉʝɟʲ]",k:"[kƘƙꝀꝁḰḱǨǩḲḳḴḵκϰ₭]",l:"[lŁłĽľĻļĹĺḶḷḸḹḼḽḺḻĿŀȽƚⱠⱡⱢɫɬᶅɭȴʟＬｌ]",n:"[nŃńǸǹŇňÑñṄṅŅņṆṇṊṋṈṉN̈n̈ƝɲȠƞᵰᶇɳȵɴＮｎŊŋ]",o:"[oØøÖöÓóÒòÔôǑǒŐőŎŏȮȯỌọƟɵƠơỎỏŌōÕõǪǫȌȍՕօ]",p:"[pṔṕṖṗⱣᵽƤƥᵱ]",q:"[qꝖꝗʠɊɋꝘꝙq̃]",r:"[rŔŕɌɍŘřŖŗṘṙȐȑȒȓṚṛⱤɽ]",s:"[sŚśṠṡṢṣꞨꞩŜŝŠšŞşȘșS̈s̈]",t:"[tŤťṪṫŢţṬṭƮʈȚțṰṱṮṯƬƭ]",u:"[uŬŭɄʉỤụÜüÚúÙùÛûǓǔŰűŬŭƯưỦủŪūŨũŲųȔȕ∪]",v:"[vṼṽṾṿƲʋꝞꝟⱱʋ]",w:"[wẂẃẀẁŴŵẄẅẆẇẈẉ]",x:"[xẌẍẊẋχ]",y:"[yÝýỲỳŶŷŸÿỸỹẎẏỴỵɎɏƳƴ]",z:"[zŹźẐẑŽžŻżẒẓẔẕƵƶ]"},asciifold=function(){var i,n,k,chunk,foreignletters="",lookup={};for(k in DIACRITICS)if(DIACRITICS.hasOwnProperty(k))for(chunk=DIACRITICS[k].substring(2,DIACRITICS[k].length-1),foreignletters+=chunk,i=0,n=chunk.length;i<n;i++)lookup[chunk.charAt(i)]=k;var regexp=new RegExp("["+foreignletters+"]","g");return function(str){return str.replace(regexp,function(foreignletter){return lookup[foreignletter]}).toLowerCase()}}();return Sifter}),function(root,factory){"function"==typeof define&&define.amd?define("microplugin",factory):"object"==typeof exports?module.exports=factory():root.MicroPlugin=factory()}(this,function(){var MicroPlugin={};MicroPlugin.mixin=function(Interface){Interface.plugins={},Interface.prototype.initializePlugins=function(plugins){var i,n,key,self=this,queue=[];if(self.plugins={names:[],settings:{},requested:{},loaded:{}},utils.isArray(plugins))for(i=0,n=plugins.length;i<n;i++)"string"==typeof plugins[i]?queue.push(plugins[i]):(self.plugins.settings[plugins[i].name]=plugins[i].options,queue.push(plugins[i].name));else if(plugins)for(key in plugins)plugins.hasOwnProperty(key)&&(self.plugins.settings[key]=plugins[key],queue.push(key));for(;queue.length;)self.require(queue.shift())},Interface.prototype.loadPlugin=function(name){var self=this,plugins=self.plugins,plugin=Interface.plugins[name];if(!Interface.plugins.hasOwnProperty(name))throw new Error('Unable to find "'+name+'" plugin');plugins.requested[name]=!0,plugins.loaded[name]=plugin.fn.apply(self,[self.plugins.settings[name]||{}]),plugins.names.push(name)},Interface.prototype.require=function(name){var self=this,plugins=self.plugins;if(!self.plugins.loaded.hasOwnProperty(name)){if(plugins.requested[name])throw new Error('Plugin has circular dependency ("'+name+'")');self.loadPlugin(name)}return plugins.loaded[name]},Interface.define=function(name,fn){Interface.plugins[name]={name:name,fn:fn}}};var utils={isArray:Array.isArray||function(vArg){return"[object Array]"===Object.prototype.toString.call(vArg)}};return MicroPlugin}),function(root,factory){"function"==typeof define&&define.amd?define("selectize",["jquery","sifter","microplugin"],factory):"object"==typeof exports?module.exports=factory(require("jquery"),require("sifter"),require("microplugin")):root.Selectize=factory(root.jQuery,root.Sifter,root.MicroPlugin)}(this,function($,Sifter,MicroPlugin){"use strict";var highlight=function($element,pattern){if("string"!=typeof pattern||pattern.length){var regex="string"==typeof pattern?new RegExp(pattern,"i"):pattern,highlight=function(node){var skip=0;if(3===node.nodeType){var pos=node.data.search(regex);if(pos>=0&&node.data.length>0){var match=node.data.match(regex),spannode=document.createElement("span");spannode.className="highlight";var middlebit=node.splitText(pos),middleclone=(middlebit.splitText(match[0].length),middlebit.cloneNode(!0));spannode.appendChild(middleclone),middlebit.parentNode.replaceChild(spannode,middlebit),skip=1}}else if(1===node.nodeType&&node.childNodes&&!/(script|style)/i.test(node.tagName))for(var i=0;i<node.childNodes.length;++i)i+=highlight(node.childNodes[i]);return skip};return $element.each(function(){highlight(this)})}};$.fn.removeHighlight=function(){return this.find("span.highlight").each(function(){this.parentNode.firstChild.nodeName;var parent=this.parentNode;parent.replaceChild(this.firstChild,this),parent.normalize()}).end()};var MicroEvent=function(){};MicroEvent.prototype={on:function(event,fct){this._events=this._events||{},this._events[event]=this._events[event]||[],this._events[event].push(fct)},off:function(event,fct){var n=arguments.length;return 0===n?delete this._events:1===n?delete this._events[event]:(this._events=this._events||{},void(event in this._events!=!1&&this._events[event].splice(this._events[event].indexOf(fct),1)))},trigger:function(event){if(this._events=this._events||{},event in this._events!=!1)for(var i=0;i<this._events[event].length;i++)this._events[event][i].apply(this,Array.prototype.slice.call(arguments,1))}},MicroEvent.mixin=function(destObject){for(var props=["on","off","trigger"],i=0;i<props.length;i++)destObject.prototype[props[i]]=MicroEvent.prototype[props[i]]};var IS_MAC=/Mac/.test(navigator.userAgent),KEY_A=65,KEY_RETURN=13,KEY_ESC=27,KEY_LEFT=37,KEY_UP=38,KEY_P=80,KEY_RIGHT=39,KEY_DOWN=40,KEY_N=78,KEY_BACKSPACE=8,KEY_DELETE=46,KEY_SHIFT=16,KEY_CMD=IS_MAC?91:17,KEY_CTRL=IS_MAC?18:17,KEY_TAB=9,TAG_SELECT=1,TAG_INPUT=2,SUPPORTS_VALIDITY_API=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("input").validity,isset=function(object){return"undefined"!=typeof object},hash_key=function(value){return"undefined"==typeof value||null===value?null:"boolean"==typeof value?value?"1":"0":value+""},escape_html=function(str){return(str+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},hook={};hook.before=function(self,method,fn){var original=self[method];self[method]=function(){return fn.apply(self,arguments),original.apply(self,arguments)}},hook.after=function(self,method,fn){var original=self[method];self[method]=function(){var result=original.apply(self,arguments);return fn.apply(self,arguments),result}};var once=function(fn){var called=!1;return function(){called||(called=!0,fn.apply(this,arguments))}},debounce=function(fn,delay){var timeout;return function(){var self=this,args=arguments;window.clearTimeout(timeout),timeout=window.setTimeout(function(){fn.apply(self,args)},delay)}},debounce_events=function(self,types,fn){var type,trigger=self.trigger,event_args={};self.trigger=function(){var type=arguments[0];return types.indexOf(type)===-1?trigger.apply(self,arguments):void(event_args[type]=arguments)},fn.apply(self,[]),self.trigger=trigger;for(type in event_args)event_args.hasOwnProperty(type)&&trigger.apply(self,event_args[type])},watchChildEvent=function($parent,event,selector,fn){$parent.on(event,selector,function(e){for(var child=e.target;child&&child.parentNode!==$parent[0];)child=child.parentNode;return e.currentTarget=child,fn.apply(this,[e])})},getSelection=function(input){var result={};if("selectionStart"in input)result.start=input.selectionStart,result.length=input.selectionEnd-result.start;else if(document.selection){input.focus();var sel=document.selection.createRange(),selLen=document.selection.createRange().text.length;sel.moveStart("character",-input.value.length),result.start=sel.text.length-selLen,result.length=selLen}return result},transferStyles=function($from,$to,properties){var i,n,styles={};if(properties)for(i=0,n=properties.length;i<n;i++)styles[properties[i]]=$from.css(properties[i]);else styles=$from.css();$to.css(styles)},measureString=function(str,$parent){if(!str)return 0;var $test=$("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(str).appendTo("body");transferStyles($parent,$test,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var width=$test.width();return $test.remove(),width},autoGrow=function($input){var currentWidth=null,update=function(e,options){var value,keyCode,printable,placeholder,width,shift,character,selection;e=e||window.event||{},options=options||{},e.metaKey||e.altKey||(options.force||$input.data("grow")!==!1)&&(value=$input.val(),e.type&&"keydown"===e.type.toLowerCase()&&(keyCode=e.keyCode,printable=keyCode>=97&&keyCode<=122||keyCode>=65&&keyCode<=90||keyCode>=48&&keyCode<=57||32===keyCode,keyCode===KEY_DELETE||keyCode===KEY_BACKSPACE?(selection=getSelection($input[0]),selection.length?value=value.substring(0,selection.start)+value.substring(selection.start+selection.length):keyCode===KEY_BACKSPACE&&selection.start?value=value.substring(0,selection.start-1)+value.substring(selection.start+1):keyCode===KEY_DELETE&&"undefined"!=typeof selection.start&&(value=value.substring(0,selection.start)+value.substring(selection.start+1))):printable&&(shift=e.shiftKey,character=String.fromCharCode(e.keyCode),character=shift?character.toUpperCase():character.toLowerCase(),value+=character)),placeholder=$input.attr("placeholder"),!value&&placeholder&&(value=placeholder),width=measureString(value,$input)+4,width!==currentWidth&&(currentWidth=width,$input.width(width),$input.triggerHandler("resize")))};$input.on("keydown keyup update blur",update),update()},domToString=function(d){var tmp=document.createElement("div");return tmp.appendChild(d.cloneNode(!0)),tmp.innerHTML},logError=function(message,options){options||(options={});var component="Selectize";console.error(component+": "+message),options.explanation&&(console.group&&console.group(),console.error(options.explanation),console.group&&console.groupEnd())},Selectize=function($input,settings){var i,n,dir,input,self=this;input=$input[0],input.selectize=self;var computedStyle=window.getComputedStyle&&window.getComputedStyle(input,null);if(dir=computedStyle?computedStyle.getPropertyValue("direction"):input.currentStyle&&input.currentStyle.direction,dir=dir||$input.parents("[dir]:first").attr("dir")||"",$.extend(self,{order:0,settings:settings,$input:$input,tabIndex:$input.attr("tabindex")||"",tagType:"select"===input.tagName.toLowerCase()?TAG_SELECT:TAG_INPUT,rtl:/rtl/i.test(dir),eventNS:".selectize"+ ++Selectize.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:$input.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===settings.loadThrottle?self.onSearchChange:debounce(self.onSearchChange,settings.loadThrottle)}),self.sifter=new Sifter(this.options,{diacritics:settings.diacritics}),self.settings.options){for(i=0,n=self.settings.options.length;i<n;i++)self.registerOption(self.settings.options[i]);delete self.settings.options}if(self.settings.optgroups){for(i=0,n=self.settings.optgroups.length;i<n;i++)self.registerOptionGroup(self.settings.optgroups[i]);delete self.settings.optgroups}self.settings.mode=self.settings.mode||(1===self.settings.maxItems?"single":"multi"),"boolean"!=typeof self.settings.hideSelected&&(self.settings.hideSelected="multi"===self.settings.mode),self.initializePlugins(self.settings.plugins),self.setupCallbacks(),self.setupTemplates(),self.setup()};return MicroEvent.mixin(Selectize),"undefined"!=typeof MicroPlugin?MicroPlugin.mixin(Selectize):logError("Dependency MicroPlugin is missing",{explanation:'Make sure you either: (1) are using the "standalone" version of Selectize, or (2) require MicroPlugin before you load Selectize.'}),$.extend(Selectize.prototype,{setup:function(){var $wrapper,$control,$control_input,$dropdown,$dropdown_content,$dropdown_parent,inputMode,classes,classes_plugins,inputId,self=this,settings=self.settings,eventNS=self.eventNS,$window=$(window),$document=$(document),$input=self.$input;if(inputMode=self.settings.mode,classes=$input.attr("class")||"",$wrapper=$("<div>").addClass(settings.wrapperClass).addClass(classes).addClass(inputMode),$control=$("<div>").addClass(settings.inputClass).addClass("items").appendTo($wrapper),$control_input=$('<input type="text" autocomplete="off" />').appendTo($control).attr("tabindex",$input.is(":disabled")?"-1":self.tabIndex),$dropdown_parent=$(settings.dropdownParent||$wrapper),$dropdown=$("<div>").addClass(settings.dropdownClass).addClass(inputMode).hide().appendTo($dropdown_parent),$dropdown_content=$("<div>").addClass(settings.dropdownContentClass).appendTo($dropdown),(inputId=$input.attr("id"))&&($control_input.attr("id",inputId+"-selectized"),$("label[for='"+inputId+"']").attr("for",inputId+"-selectized")),self.settings.copyClassesToDropdown&&$dropdown.addClass(classes),$wrapper.css({width:$input[0].style.width}),self.plugins.names.length&&(classes_plugins="plugin-"+self.plugins.names.join(" plugin-"),$wrapper.addClass(classes_plugins),$dropdown.addClass(classes_plugins)),(null===settings.maxItems||settings.maxItems>1)&&self.tagType===TAG_SELECT&&$input.attr("multiple","multiple"),self.settings.placeholder&&$control_input.attr("placeholder",settings.placeholder),!self.settings.splitOn&&self.settings.delimiter){var delimiterEscaped=self.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");self.settings.splitOn=new RegExp("\\s*"+delimiterEscaped+"+\\s*")}$input.attr("autocorrect")&&$control_input.attr("autocorrect",$input.attr("autocorrect")),$input.attr("autocapitalize")&&$control_input.attr("autocapitalize",$input.attr("autocapitalize")),self.$wrapper=$wrapper,self.$control=$control,self.$control_input=$control_input,self.$dropdown=$dropdown,self.$dropdown_content=$dropdown_content,$dropdown.on("mouseenter","[data-selectable]",function(){return self.onOptionHover.apply(self,arguments)}),$dropdown.on("mousedown click","[data-selectable]",function(){return self.onOptionSelect.apply(self,arguments)}),watchChildEvent($control,"mousedown","*:not(input)",function(){return self.onItemSelect.apply(self,arguments)}),autoGrow($control_input),$control.on({mousedown:function(){return self.onMouseDown.apply(self,arguments)},click:function(){return self.onClick.apply(self,arguments)}}),$control_input.on({mousedown:function(e){e.stopPropagation()},keydown:function(){return self.onKeyDown.apply(self,arguments)},keyup:function(){return self.onKeyUp.apply(self,arguments)},keypress:function(){return self.onKeyPress.apply(self,arguments)},resize:function(){self.positionDropdown.apply(self,[])},blur:function(){return self.onBlur.apply(self,arguments)},focus:function(){return self.ignoreBlur=!1,self.onFocus.apply(self,arguments)},paste:function(){return self.onPaste.apply(self,arguments)}}),$document.on("keydown"+eventNS,function(e){self.isCmdDown=e[IS_MAC?"metaKey":"ctrlKey"],self.isCtrlDown=e[IS_MAC?"altKey":"ctrlKey"],self.isShiftDown=e.shiftKey}),$document.on("keyup"+eventNS,function(e){e.keyCode===KEY_CTRL&&(self.isCtrlDown=!1),e.keyCode===KEY_SHIFT&&(self.isShiftDown=!1),e.keyCode===KEY_CMD&&(self.isCmdDown=!1)}),$document.on("mousedown"+eventNS,function(e){if(self.isFocused){if(e.target===self.$dropdown[0]||e.target.parentNode===self.$dropdown[0])return!1;self.$control.has(e.target).length||e.target===self.$control[0]||self.blur(e.target)}}),$window.on(["scroll"+eventNS,"resize"+eventNS].join(" "),function(){self.isOpen&&self.positionDropdown.apply(self,arguments)}),$window.on("mousemove"+eventNS,function(){self.ignoreHover=!1}),this.revertSettings={$children:$input.children().detach(),tabindex:$input.attr("tabindex")},$input.attr("tabindex",-1).hide().after(self.$wrapper),$.isArray(settings.items)&&(self.setValue(settings.items),delete settings.items),SUPPORTS_VALIDITY_API&&$input.on("invalid"+eventNS,function(e){e.preventDefault(),self.isInvalid=!0,self.refreshState()}),self.updateOriginalInput(),self.refreshItems(),self.refreshState(),self.updatePlaceholder(),self.isSetup=!0,$input.is(":disabled")&&self.disable(),self.on("change",this.onChange),$input.data("selectize",self),$input.addClass("selectized"),self.trigger("initialize"),settings.preload===!0&&self.onSearchChange("")},setupTemplates:function(){var self=this,field_label=self.settings.labelField,field_optgroup=self.settings.optgroupLabelField,templates={optgroup:function(data){return'<div class="optgroup">'+data.html+"</div>"},optgroup_header:function(data,escape){return'<div class="optgroup-header">'+escape(data[field_optgroup])+"</div>"},option:function(data,escape){return'<div class="option">'+escape(data[field_label])+"</div>"},item:function(data,escape){return'<div class="item">'+escape(data[field_label])+"</div>"},option_create:function(data,escape){return'<div class="create">Add <strong>'+escape(data.input)+"</strong>&hellip;</div>"}};self.settings.render=$.extend({},templates,self.settings.render)},setupCallbacks:function(){var key,fn,callbacks={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(key in callbacks)callbacks.hasOwnProperty(key)&&(fn=this.settings[callbacks[key]],fn&&this.on(key,fn))},onClick:function(e){var self=this;self.isFocused||(self.focus(),e.preventDefault())},onMouseDown:function(e){var self=this,defaultPrevented=e.isDefaultPrevented();$(e.target);if(self.isFocused){if(e.target!==self.$control_input[0])return"single"===self.settings.mode?self.isOpen?self.close():self.open():defaultPrevented||self.setActiveItem(null),!1}else defaultPrevented||window.setTimeout(function(){self.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(e){var self=this;return self.isFull()||self.isInputHidden||self.isLocked?void e.preventDefault():void(self.settings.splitOn&&setTimeout(function(){var pastedText=self.$control_input.val();if(pastedText.match(self.settings.splitOn))for(var splitInput=$.trim(pastedText).split(self.settings.splitOn),i=0,n=splitInput.length;i<n;i++)self.createItem(splitInput[i])},0))},onKeyPress:function(e){if(this.isLocked)return e&&e.preventDefault();var character=String.fromCharCode(e.keyCode||e.which);return this.settings.create&&"multi"===this.settings.mode&&character===this.settings.delimiter?(this.createItem(),e.preventDefault(),!1):void 0},onKeyDown:function(e){var self=(e.target===this.$control_input[0],this);if(self.isLocked)return void(e.keyCode!==KEY_TAB&&e.preventDefault());switch(e.keyCode){case KEY_A:if(self.isCmdDown)return void self.selectAll();break;case KEY_ESC:return void(self.isOpen&&(e.preventDefault(),e.stopPropagation(),self.close()));case KEY_N:if(!e.ctrlKey||e.altKey)break;case KEY_DOWN:if(!self.isOpen&&self.hasOptions)self.open();else if(self.$activeOption){self.ignoreHover=!0;var $next=self.getAdjacentOption(self.$activeOption,1);$next.length&&self.setActiveOption($next,!0,!0)}return void e.preventDefault();case KEY_P:if(!e.ctrlKey||e.altKey)break;case KEY_UP:if(self.$activeOption){self.ignoreHover=!0;var $prev=self.getAdjacentOption(self.$activeOption,-1);$prev.length&&self.setActiveOption($prev,!0,!0)}return void e.preventDefault();case KEY_RETURN:return void(self.isOpen&&self.$activeOption&&(self.onOptionSelect({currentTarget:self.$activeOption}),e.preventDefault()));case KEY_LEFT:return void self.advanceSelection(-1,e);case KEY_RIGHT:return void self.advanceSelection(1,e);case KEY_TAB:return self.settings.selectOnTab&&self.isOpen&&self.$activeOption&&(self.onOptionSelect({currentTarget:self.$activeOption}),self.isFull()||e.preventDefault()),void(self.settings.create&&self.createItem()&&e.preventDefault());case KEY_BACKSPACE:case KEY_DELETE:return void self.deleteSelection(e)}return!self.isFull()&&!self.isInputHidden||(IS_MAC?e.metaKey:e.ctrlKey)?void 0:void e.preventDefault()},onKeyUp:function(e){var self=this;if(self.isLocked)return e&&e.preventDefault();var value=self.$control_input.val()||"";self.lastValue!==value&&(self.lastValue=value,self.onSearchChange(value),self.refreshOptions(),self.trigger("type",value))},onSearchChange:function(value){var self=this,fn=self.settings.load;fn&&(self.loadedSearches.hasOwnProperty(value)||(self.loadedSearches[value]=!0,self.load(function(callback){fn.apply(self,[value,callback])})))},onFocus:function(e){var self=this,wasFocused=self.isFocused;return self.isDisabled?(self.blur(),e&&e.preventDefault(),!1):void(self.ignoreFocus||(self.isFocused=!0,"focus"===self.settings.preload&&self.onSearchChange(""),wasFocused||self.trigger("focus"),self.$activeItems.length||(self.showInput(),self.setActiveItem(null),self.refreshOptions(!!self.settings.openOnFocus)),self.refreshState()))},onBlur:function(e,dest){var self=this;if(self.isFocused&&(self.isFocused=!1,!self.ignoreFocus)){if(!self.ignoreBlur&&document.activeElement===self.$dropdown_content[0])return self.ignoreBlur=!0,void self.onFocus(e);var deactivate=function(){self.close(),self.setTextboxValue(""),self.setActiveItem(null),self.setActiveOption(null),self.setCaret(self.items.length),self.refreshState(),dest&&dest.focus&&dest.focus(),self.ignoreFocus=!1,self.trigger("blur")};self.ignoreFocus=!0,self.settings.create&&self.settings.createOnBlur?self.createItem(null,!1,deactivate):deactivate()}},onOptionHover:function(e){this.ignoreHover||this.setActiveOption(e.currentTarget,!1)},onOptionSelect:function(e){var value,$target,self=this;e.preventDefault&&(e.preventDefault(),e.stopPropagation()),$target=$(e.currentTarget),$target.hasClass("create")?self.createItem(null,function(){self.settings.closeAfterSelect&&self.close()}):(value=$target.attr("data-value"),"undefined"!=typeof value&&(self.lastQuery=null,self.setTextboxValue(""),self.addItem(value),self.settings.closeAfterSelect?self.close():!self.settings.hideSelected&&e.type&&/mouse/.test(e.type)&&self.setActiveOption(self.getOption(value))))},onItemSelect:function(e){var self=this;self.isLocked||"multi"===self.settings.mode&&(e.preventDefault(),self.setActiveItem(e.currentTarget,e))},load:function(fn){var self=this,$wrapper=self.$wrapper.addClass(self.settings.loadingClass);self.loading++,fn.apply(self,[function(results){self.loading=Math.max(self.loading-1,0),results&&results.length&&(self.addOption(results),self.refreshOptions(self.isFocused&&!self.isInputHidden)),self.loading||$wrapper.removeClass(self.settings.loadingClass),self.trigger("load",results)}])},setTextboxValue:function(value){var $input=this.$control_input,changed=$input.val()!==value;changed&&($input.val(value).triggerHandler("update"),this.lastValue=value)},getValue:function(){return this.tagType===TAG_SELECT&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(value,silent){var events=silent?[]:["change"];debounce_events(this,events,function(){this.clear(silent),this.addItems(value,silent)})},setActiveItem:function($item,e){
var eventName,i,idx,begin,end,item,swap,$last,self=this;if("single"!==self.settings.mode){if($item=$($item),!$item.length)return $(self.$activeItems).removeClass("active"),self.$activeItems=[],void(self.isFocused&&self.showInput());if(eventName=e&&e.type.toLowerCase(),"mousedown"===eventName&&self.isShiftDown&&self.$activeItems.length){for($last=self.$control.children(".active:last"),begin=Array.prototype.indexOf.apply(self.$control[0].childNodes,[$last[0]]),end=Array.prototype.indexOf.apply(self.$control[0].childNodes,[$item[0]]),begin>end&&(swap=begin,begin=end,end=swap),i=begin;i<=end;i++)item=self.$control[0].childNodes[i],self.$activeItems.indexOf(item)===-1&&($(item).addClass("active"),self.$activeItems.push(item));e.preventDefault()}else"mousedown"===eventName&&self.isCtrlDown||"keydown"===eventName&&this.isShiftDown?$item.hasClass("active")?(idx=self.$activeItems.indexOf($item[0]),self.$activeItems.splice(idx,1),$item.removeClass("active")):self.$activeItems.push($item.addClass("active")[0]):($(self.$activeItems).removeClass("active"),self.$activeItems=[$item.addClass("active")[0]]);self.hideInput(),this.isFocused||self.focus()}},setActiveOption:function($option,scroll,animate){var height_menu,height_item,y,scroll_top,scroll_bottom,self=this;self.$activeOption&&self.$activeOption.removeClass("active"),self.$activeOption=null,$option=$($option),$option.length&&(self.$activeOption=$option.addClass("active"),!scroll&&isset(scroll)||(height_menu=self.$dropdown_content.height(),height_item=self.$activeOption.outerHeight(!0),scroll=self.$dropdown_content.scrollTop()||0,y=self.$activeOption.offset().top-self.$dropdown_content.offset().top+scroll,scroll_top=y,scroll_bottom=y-height_menu+height_item,y+height_item>height_menu+scroll?self.$dropdown_content.stop().animate({scrollTop:scroll_bottom},animate?self.settings.scrollDuration:0):y<scroll&&self.$dropdown_content.stop().animate({scrollTop:scroll_top},animate?self.settings.scrollDuration:0)))},selectAll:function(){var self=this;"single"!==self.settings.mode&&(self.$activeItems=Array.prototype.slice.apply(self.$control.children(":not(input)").addClass("active")),self.$activeItems.length&&(self.hideInput(),self.close()),self.focus())},hideInput:function(){var self=this;self.setTextboxValue(""),self.$control_input.css({opacity:0,position:"absolute",left:self.rtl?1e4:-1e4}),self.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var self=this;self.isDisabled||(self.ignoreFocus=!0,self.$control_input[0].focus(),window.setTimeout(function(){self.ignoreFocus=!1,self.onFocus()},0))},blur:function(dest){this.$control_input[0].blur(),this.onBlur(null,dest)},getScoreFunction:function(query){return this.sifter.getScoreFunction(query,this.getSearchOptions())},getSearchOptions:function(){var settings=this.settings,sort=settings.sortField;return"string"==typeof sort&&(sort=[{field:sort}]),{fields:settings.searchField,conjunction:settings.searchConjunction,sort:sort}},search:function(query){var i,result,calculateScore,self=this,settings=self.settings,options=this.getSearchOptions();if(settings.score&&(calculateScore=self.settings.score.apply(this,[query]),"function"!=typeof calculateScore))throw new Error('Selectize "score" setting must be a function that returns a function');if(query!==self.lastQuery?(self.lastQuery=query,result=self.sifter.search(query,$.extend(options,{score:calculateScore})),self.currentResults=result):result=$.extend(!0,{},self.currentResults),settings.hideSelected)for(i=result.items.length-1;i>=0;i--)self.items.indexOf(hash_key(result.items[i].id))!==-1&&result.items.splice(i,1);return result},refreshOptions:function(triggerDropdown){var i,j,k,n,groups,groups_order,option,option_html,optgroup,optgroups,html,html_children,has_create_option,$active,$active_before,$create;"undefined"==typeof triggerDropdown&&(triggerDropdown=!0);var self=this,query=$.trim(self.$control_input.val()),results=self.search(query),$dropdown_content=self.$dropdown_content,active_before=self.$activeOption&&hash_key(self.$activeOption.attr("data-value"));for(n=results.items.length,"number"==typeof self.settings.maxOptions&&(n=Math.min(n,self.settings.maxOptions)),groups={},groups_order=[],i=0;i<n;i++)for(option=self.options[results.items[i].id],option_html=self.render("option",option),optgroup=option[self.settings.optgroupField]||"",optgroups=$.isArray(optgroup)?optgroup:[optgroup],j=0,k=optgroups&&optgroups.length;j<k;j++)optgroup=optgroups[j],self.optgroups.hasOwnProperty(optgroup)||(optgroup=""),groups.hasOwnProperty(optgroup)||(groups[optgroup]=document.createDocumentFragment(),groups_order.push(optgroup)),groups[optgroup].appendChild(option_html);for(this.settings.lockOptgroupOrder&&groups_order.sort(function(a,b){var a_order=self.optgroups[a].$order||0,b_order=self.optgroups[b].$order||0;return a_order-b_order}),html=document.createDocumentFragment(),i=0,n=groups_order.length;i<n;i++)optgroup=groups_order[i],self.optgroups.hasOwnProperty(optgroup)&&groups[optgroup].childNodes.length?(html_children=document.createDocumentFragment(),html_children.appendChild(self.render("optgroup_header",self.optgroups[optgroup])),html_children.appendChild(groups[optgroup]),html.appendChild(self.render("optgroup",$.extend({},self.optgroups[optgroup],{html:domToString(html_children),dom:html_children})))):html.appendChild(groups[optgroup]);if($dropdown_content.html(html),self.settings.highlight&&results.query.length&&results.tokens.length)for($dropdown_content.removeHighlight(),i=0,n=results.tokens.length;i<n;i++)highlight($dropdown_content,results.tokens[i].regex);if(!self.settings.hideSelected)for(i=0,n=self.items.length;i<n;i++)self.getOption(self.items[i]).addClass("selected");has_create_option=self.canCreate(query),has_create_option&&($dropdown_content.prepend(self.render("option_create",{input:query})),$create=$($dropdown_content[0].childNodes[0])),self.hasOptions=results.items.length>0||has_create_option,self.hasOptions?(results.items.length>0?($active_before=active_before&&self.getOption(active_before),$active_before&&$active_before.length?$active=$active_before:"single"===self.settings.mode&&self.items.length&&($active=self.getOption(self.items[0])),$active&&$active.length||($active=$create&&!self.settings.addPrecedence?self.getAdjacentOption($create,1):$dropdown_content.find("[data-selectable]:first"))):$active=$create,self.setActiveOption($active),triggerDropdown&&!self.isOpen&&self.open()):(self.setActiveOption(null),triggerDropdown&&self.isOpen&&self.close())},addOption:function(data){var i,n,value,self=this;if($.isArray(data))for(i=0,n=data.length;i<n;i++)self.addOption(data[i]);else(value=self.registerOption(data))&&(self.userOptions[value]=!0,self.lastQuery=null,self.trigger("option_add",value,data))},registerOption:function(data){var key=hash_key(data[this.settings.valueField]);return"undefined"!=typeof key&&null!==key&&!this.options.hasOwnProperty(key)&&(data.$order=data.$order||++this.order,this.options[key]=data,key)},registerOptionGroup:function(data){var key=hash_key(data[this.settings.optgroupValueField]);return!!key&&(data.$order=data.$order||++this.order,this.optgroups[key]=data,key)},addOptionGroup:function(id,data){data[this.settings.optgroupValueField]=id,(id=this.registerOptionGroup(data))&&this.trigger("optgroup_add",id,data)},removeOptionGroup:function(id){this.optgroups.hasOwnProperty(id)&&(delete this.optgroups[id],this.renderCache={},this.trigger("optgroup_remove",id))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(value,data){var $item,$item_new,value_new,index_item,cache_items,cache_options,order_old,self=this;if(value=hash_key(value),value_new=hash_key(data[self.settings.valueField]),null!==value&&self.options.hasOwnProperty(value)){if("string"!=typeof value_new)throw new Error("Value must be set in option data");order_old=self.options[value].$order,value_new!==value&&(delete self.options[value],index_item=self.items.indexOf(value),index_item!==-1&&self.items.splice(index_item,1,value_new)),data.$order=data.$order||order_old,self.options[value_new]=data,cache_items=self.renderCache.item,cache_options=self.renderCache.option,cache_items&&(delete cache_items[value],delete cache_items[value_new]),cache_options&&(delete cache_options[value],delete cache_options[value_new]),self.items.indexOf(value_new)!==-1&&($item=self.getItem(value),$item_new=$(self.render("item",data)),$item.hasClass("active")&&$item_new.addClass("active"),$item.replaceWith($item_new)),self.lastQuery=null,self.isOpen&&self.refreshOptions(!1)}},removeOption:function(value,silent){var self=this;value=hash_key(value);var cache_items=self.renderCache.item,cache_options=self.renderCache.option;cache_items&&delete cache_items[value],cache_options&&delete cache_options[value],delete self.userOptions[value],delete self.options[value],self.lastQuery=null,self.trigger("option_remove",value),self.removeItem(value,silent)},clearOptions:function(){var self=this;self.loadedSearches={},self.userOptions={},self.renderCache={},self.options=self.sifter.items={},self.lastQuery=null,self.trigger("option_clear"),self.clear()},getOption:function(value){return this.getElementWithValue(value,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function($option,direction){var $options=this.$dropdown.find("[data-selectable]"),index=$options.index($option)+direction;return index>=0&&index<$options.length?$options.eq(index):$()},getElementWithValue:function(value,$els){if(value=hash_key(value),"undefined"!=typeof value&&null!==value)for(var i=0,n=$els.length;i<n;i++)if($els[i].getAttribute("data-value")===value)return $($els[i]);return $()},getItem:function(value){return this.getElementWithValue(value,this.$control.children())},addItems:function(values,silent){for(var items=$.isArray(values)?values:[values],i=0,n=items.length;i<n;i++)this.isPending=i<n-1,this.addItem(items[i],silent)},addItem:function(value,silent){var events=silent?[]:["change"];debounce_events(this,events,function(){var $item,$option,$options,value_next,wasFull,self=this,inputMode=self.settings.mode;return value=hash_key(value),self.items.indexOf(value)!==-1?void("single"===inputMode&&self.close()):void(self.options.hasOwnProperty(value)&&("single"===inputMode&&self.clear(silent),"multi"===inputMode&&self.isFull()||($item=$(self.render("item",self.options[value])),wasFull=self.isFull(),self.items.splice(self.caretPos,0,value),self.insertAtCaret($item),(!self.isPending||!wasFull&&self.isFull())&&self.refreshState(),self.isSetup&&($options=self.$dropdown_content.find("[data-selectable]"),self.isPending||($option=self.getOption(value),value_next=self.getAdjacentOption($option,1).attr("data-value"),self.refreshOptions(self.isFocused&&"single"!==inputMode),value_next&&self.setActiveOption(self.getOption(value_next))),!$options.length||self.isFull()?self.close():self.positionDropdown(),self.updatePlaceholder(),self.trigger("item_add",value,$item),self.updateOriginalInput({silent:silent})))))})},removeItem:function(value,silent){var $item,i,idx,self=this;$item=value instanceof $?value:self.getItem(value),value=hash_key($item.attr("data-value")),i=self.items.indexOf(value),i!==-1&&($item.remove(),$item.hasClass("active")&&(idx=self.$activeItems.indexOf($item[0]),self.$activeItems.splice(idx,1)),self.items.splice(i,1),self.lastQuery=null,!self.settings.persist&&self.userOptions.hasOwnProperty(value)&&self.removeOption(value,silent),i<self.caretPos&&self.setCaret(self.caretPos-1),self.refreshState(),self.updatePlaceholder(),self.updateOriginalInput({silent:silent}),self.positionDropdown(),self.trigger("item_remove",value,$item))},createItem:function(input,triggerDropdown){var self=this,caret=self.caretPos;input=input||$.trim(self.$control_input.val()||"");var callback=arguments[arguments.length-1];if("function"!=typeof callback&&(callback=function(){}),"boolean"!=typeof triggerDropdown&&(triggerDropdown=!0),!self.canCreate(input))return callback(),!1;self.lock();var setup="function"==typeof self.settings.create?this.settings.create:function(input){var data={};return data[self.settings.labelField]=input,data[self.settings.valueField]=input,data},create=once(function(data){if(self.unlock(),!data||"object"!=typeof data)return callback();var value=hash_key(data[self.settings.valueField]);return"string"!=typeof value?callback():(self.setTextboxValue(""),self.addOption(data),self.setCaret(caret),self.addItem(value),self.refreshOptions(triggerDropdown&&"single"!==self.settings.mode),void callback(data))}),output=setup.apply(this,[input,create]);return"undefined"!=typeof output&&create(output),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){this.refreshValidityState(),this.refreshClasses()},refreshValidityState:function(){if(!this.isRequired)return!1;var invalid=!this.items.length;this.isInvalid=invalid,this.$control_input.prop("required",invalid),this.$input.prop("required",!invalid)},refreshClasses:function(){var self=this,isFull=self.isFull(),isLocked=self.isLocked;self.$wrapper.toggleClass("rtl",self.rtl),self.$control.toggleClass("focus",self.isFocused).toggleClass("disabled",self.isDisabled).toggleClass("required",self.isRequired).toggleClass("invalid",self.isInvalid).toggleClass("locked",isLocked).toggleClass("full",isFull).toggleClass("not-full",!isFull).toggleClass("input-active",self.isFocused&&!self.isInputHidden).toggleClass("dropdown-active",self.isOpen).toggleClass("has-options",!$.isEmptyObject(self.options)).toggleClass("has-items",self.items.length>0),self.$control_input.data("grow",!isFull&&!isLocked)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(opts){var i,n,options,label,self=this;if(opts=opts||{},self.tagType===TAG_SELECT){for(options=[],i=0,n=self.items.length;i<n;i++)label=self.options[self.items[i]][self.settings.labelField]||"",options.push('<option value="'+escape_html(self.items[i])+'" selected="selected">'+escape_html(label)+"</option>");options.length||this.$input.attr("multiple")||options.push('<option value="" selected="selected"></option>'),self.$input.html(options.join(""))}else self.$input.val(self.getValue()),self.$input.attr("value",self.$input.val());self.isSetup&&(opts.silent||self.trigger("change",self.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var $input=this.$control_input;this.items.length?$input.removeAttr("placeholder"):$input.attr("placeholder",this.settings.placeholder),$input.triggerHandler("update",{force:!0})}},open:function(){var self=this;self.isLocked||self.isOpen||"multi"===self.settings.mode&&self.isFull()||(self.focus(),self.isOpen=!0,self.refreshState(),self.$dropdown.css({visibility:"hidden",display:"block"}),self.positionDropdown(),self.$dropdown.css({visibility:"visible"}),self.trigger("dropdown_open",self.$dropdown))},close:function(){var self=this,trigger=self.isOpen;"single"===self.settings.mode&&self.items.length&&(self.hideInput(),self.$control_input.blur()),self.isOpen=!1,self.$dropdown.hide(),self.setActiveOption(null),self.refreshState(),trigger&&self.trigger("dropdown_close",self.$dropdown)},positionDropdown:function(){var $control=this.$control,offset="body"===this.settings.dropdownParent?$control.offset():$control.position();offset.top+=$control.outerHeight(!0),this.$dropdown.css({width:$control.outerWidth(),top:offset.top,left:offset.left})},clear:function(silent){var self=this;self.items.length&&(self.$control.children(":not(input)").remove(),self.items=[],self.lastQuery=null,self.setCaret(0),self.setActiveItem(null),self.updatePlaceholder(),self.updateOriginalInput({silent:silent}),self.refreshState(),self.showInput(),self.trigger("clear"))},insertAtCaret:function($el){var caret=Math.min(this.caretPos,this.items.length);0===caret?this.$control.prepend($el):$(this.$control[0].childNodes[caret]).before($el),this.setCaret(caret+1)},deleteSelection:function(e){var i,n,direction,selection,values,caret,option_select,$option_select,$tail,self=this;if(direction=e&&e.keyCode===KEY_BACKSPACE?-1:1,selection=getSelection(self.$control_input[0]),self.$activeOption&&!self.settings.hideSelected&&(option_select=self.getAdjacentOption(self.$activeOption,-1).attr("data-value")),values=[],self.$activeItems.length){for($tail=self.$control.children(".active:"+(direction>0?"last":"first")),caret=self.$control.children(":not(input)").index($tail),direction>0&&caret++,i=0,n=self.$activeItems.length;i<n;i++)values.push($(self.$activeItems[i]).attr("data-value"));e&&(e.preventDefault(),e.stopPropagation())}else(self.isFocused||"single"===self.settings.mode)&&self.items.length&&(direction<0&&0===selection.start&&0===selection.length?values.push(self.items[self.caretPos-1]):direction>0&&selection.start===self.$control_input.val().length&&values.push(self.items[self.caretPos]));if(!values.length||"function"==typeof self.settings.onDelete&&self.settings.onDelete.apply(self,[values])===!1)return!1;for("undefined"!=typeof caret&&self.setCaret(caret);values.length;)self.removeItem(values.pop());return self.showInput(),self.positionDropdown(),self.refreshOptions(!0),option_select&&($option_select=self.getOption(option_select),$option_select.length&&self.setActiveOption($option_select)),!0},advanceSelection:function(direction,e){var tail,selection,idx,valueLength,cursorAtEdge,$tail,self=this;0!==direction&&(self.rtl&&(direction*=-1),tail=direction>0?"last":"first",selection=getSelection(self.$control_input[0]),self.isFocused&&!self.isInputHidden?(valueLength=self.$control_input.val().length,cursorAtEdge=direction<0?0===selection.start&&0===selection.length:selection.start===valueLength,cursorAtEdge&&!valueLength&&self.advanceCaret(direction,e)):($tail=self.$control.children(".active:"+tail),$tail.length&&(idx=self.$control.children(":not(input)").index($tail),self.setActiveItem(null),self.setCaret(direction>0?idx+1:idx))))},advanceCaret:function(direction,e){var fn,$adj,self=this;0!==direction&&(fn=direction>0?"next":"prev",self.isShiftDown?($adj=self.$control_input[fn](),$adj.length&&(self.hideInput(),self.setActiveItem($adj),e&&e.preventDefault())):self.setCaret(self.caretPos+direction))},setCaret:function(i){var self=this;if(i="single"===self.settings.mode?self.items.length:Math.max(0,Math.min(self.items.length,i)),!self.isPending){var j,n,$children,$child;for($children=self.$control.children(":not(input)"),j=0,n=$children.length;j<n;j++)$child=$($children[j]).detach(),j<i?self.$control_input.before($child):self.$control.append($child)}self.caretPos=i},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){var self=this;self.$input.prop("disabled",!0),self.$control_input.prop("disabled",!0).prop("tabindex",-1),self.isDisabled=!0,self.lock()},enable:function(){var self=this;self.$input.prop("disabled",!1),self.$control_input.prop("disabled",!1).prop("tabindex",self.tabIndex),self.isDisabled=!1,self.unlock()},destroy:function(){var self=this,eventNS=self.eventNS,revertSettings=self.revertSettings;self.trigger("destroy"),self.off(),self.$wrapper.remove(),self.$dropdown.remove(),self.$input.html("").append(revertSettings.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:revertSettings.tabindex}).show(),self.$control_input.removeData("grow"),self.$input.removeData("selectize"),$(window).off(eventNS),$(document).off(eventNS),$(document.body).off(eventNS),delete self.$input[0].selectize},render:function(templateName,data){var value,id,html="",cache=!1,self=this;return"option"!==templateName&&"item"!==templateName||(value=hash_key(data[self.settings.valueField]),cache=!!value),cache&&(isset(self.renderCache[templateName])||(self.renderCache[templateName]={}),self.renderCache[templateName].hasOwnProperty(value))?self.renderCache[templateName][value]:(html=$(self.settings.render[templateName].apply(this,[data,escape_html])),"option"===templateName||"option_create"===templateName?html.attr("data-selectable",""):"optgroup"===templateName&&(id=data[self.settings.optgroupValueField]||"",html.attr("data-group",id)),"option"!==templateName&&"item"!==templateName||html.attr("data-value",value||""),cache&&(self.renderCache[templateName][value]=html[0]),html[0])},clearCache:function(templateName){var self=this;"undefined"==typeof templateName?self.renderCache={}:delete self.renderCache[templateName]},canCreate:function(input){var self=this;if(!self.settings.create)return!1;var filter=self.settings.createFilter;return input.length&&("function"!=typeof filter||filter.apply(self,[input]))&&("string"!=typeof filter||new RegExp(filter).test(input))&&(!(filter instanceof RegExp)||filter.test(input))}}),Selectize.count=0,Selectize.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},$.fn.selectize=function(settings_user){var defaults=$.fn.selectize.defaults,settings=$.extend({},defaults,settings_user),attr_data=settings.dataAttr,field_label=settings.labelField,field_value=settings.valueField,field_optgroup=settings.optgroupField,field_optgroup_label=settings.optgroupLabelField,field_optgroup_value=settings.optgroupValueField,init_textbox=function($input,settings_element){var i,n,values,option,data_raw=$input.attr(attr_data);if(data_raw)for(settings_element.options=JSON.parse(data_raw),i=0,n=settings_element.options.length;i<n;i++)settings_element.items.push(settings_element.options[i][field_value]);else{var value=$.trim($input.val()||"");if(!settings.allowEmptyOption&&!value.length)return;for(values=value.split(settings.delimiter),i=0,n=values.length;i<n;i++)option={},option[field_label]=values[i],option[field_value]=values[i],settings_element.options.push(option);settings_element.items=values}},init_select=function($input,settings_element){var i,n,tagName,$children,options=settings_element.options,optionsMap={},readData=function($el){var data=attr_data&&$el.attr(attr_data);return"string"==typeof data&&data.length?JSON.parse(data):null},addOption=function($option,group){$option=$($option);var value=hash_key($option.val());if(value||settings.allowEmptyOption)if(optionsMap.hasOwnProperty(value)){if(group){var arr=optionsMap[value][field_optgroup];arr?$.isArray(arr)?arr.push(group):optionsMap[value][field_optgroup]=[arr,group]:optionsMap[value][field_optgroup]=group}}else{var option=readData($option)||{};option[field_label]=option[field_label]||$option.text(),option[field_value]=option[field_value]||value,option[field_optgroup]=option[field_optgroup]||group,optionsMap[value]=option,options.push(option),$option.is(":selected")&&settings_element.items.push(value)}},addGroup=function($optgroup){var i,n,id,optgroup,$options;for($optgroup=$($optgroup),id=$optgroup.attr("label"),id&&(optgroup=readData($optgroup)||{},optgroup[field_optgroup_label]=id,optgroup[field_optgroup_value]=id,settings_element.optgroups.push(optgroup)),$options=$("option",$optgroup),i=0,n=$options.length;i<n;i++)addOption($options[i],id)};for(settings_element.maxItems=$input.attr("multiple")?null:1,$children=$input.children(),i=0,n=$children.length;i<n;i++)tagName=$children[i].tagName.toLowerCase(),"optgroup"===tagName?addGroup($children[i]):"option"===tagName&&addOption($children[i])};return this.each(function(){if(!this.selectize){var instance,$input=$(this),tag_name=this.tagName.toLowerCase(),placeholder=$input.attr("placeholder")||$input.attr("data-placeholder");placeholder||settings.allowEmptyOption||(placeholder=$input.children('option[value=""]').text());var settings_element={placeholder:placeholder,options:[],optgroups:[],items:[]};"select"===tag_name?init_select($input,settings_element):init_textbox($input,settings_element),instance=new Selectize($input,$.extend(!0,{},defaults,settings_element,settings_user))}})},$.fn.selectize.defaults=Selectize.defaults,$.fn.selectize.support={validity:SUPPORTS_VALIDITY_API},Selectize.define("drag_drop",function(options){if(!$.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var self=this;self.lock=function(){var original=self.lock;return function(){var sortable=self.$control.data("sortable");return sortable&&sortable.disable(),original.apply(self,arguments)}}(),self.unlock=function(){var original=self.unlock;return function(){var sortable=self.$control.data("sortable");return sortable&&sortable.enable(),original.apply(self,arguments)}}(),self.setup=function(){var original=self.setup;return function(){original.apply(this,arguments);var $control=self.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:self.isLocked,start:function(e,ui){ui.placeholder.css("width",ui.helper.css("width")),$control.css({overflow:"visible"})},stop:function(){$control.css({overflow:"hidden"});var active=self.$activeItems?self.$activeItems.slice():null,values=[];$control.children("[data-value]").each(function(){values.push($(this).attr("data-value"))}),self.setValue(values),self.setActiveItem(active)}})}}()}}),Selectize.define("dropdown_header",function(options){var self=this;options=$.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(data){return'<div class="'+data.headerClass+'"><div class="'+data.titleRowClass+'"><span class="'+data.labelClass+'">'+data.title+'</span><a href="javascript:void(0)" class="'+data.closeClass+'">&times;</a></div></div>'}},options),self.setup=function(){var original=self.setup;return function(){original.apply(self,arguments),self.$dropdown_header=$(options.html(options)),self.$dropdown.prepend(self.$dropdown_header)}}()}),Selectize.define("optgroup_columns",function(options){var self=this;options=$.extend({equalizeWidth:!0,equalizeHeight:!0},options),this.getAdjacentOption=function($option,direction){var $options=$option.closest("[data-group]").find("[data-selectable]"),index=$options.index($option)+direction;return index>=0&&index<$options.length?$options.eq(index):$()},this.onKeyDown=function(){var original=self.onKeyDown;return function(e){var index,$option,$options,$optgroup;return!this.isOpen||e.keyCode!==KEY_LEFT&&e.keyCode!==KEY_RIGHT?original.apply(this,arguments):(self.ignoreHover=!0,$optgroup=this.$activeOption.closest("[data-group]"),index=$optgroup.find("[data-selectable]").index(this.$activeOption),$optgroup=e.keyCode===KEY_LEFT?$optgroup.prev("[data-group]"):$optgroup.next("[data-group]"),$options=$optgroup.find("[data-selectable]"),$option=$options.eq(Math.min($options.length-1,index)),void($option.length&&this.setActiveOption($option)))}}();var getScrollbarWidth=function(){var div,width=getScrollbarWidth.width,doc=document;return"undefined"==typeof width&&(div=doc.createElement("div"),div.innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',div=div.firstChild,doc.body.appendChild(div),width=getScrollbarWidth.width=div.offsetWidth-div.clientWidth,doc.body.removeChild(div)),width},equalizeSizes=function(){var i,n,height_max,width,width_last,width_parent,$optgroups;if($optgroups=$("[data-group]",self.$dropdown_content),n=$optgroups.length,n&&self.$dropdown_content.width()){if(options.equalizeHeight){for(height_max=0,i=0;i<n;i++)height_max=Math.max(height_max,$optgroups.eq(i).height());$optgroups.css({height:height_max})}options.equalizeWidth&&(width_parent=self.$dropdown_content.innerWidth()-getScrollbarWidth(),width=Math.round(width_parent/n),$optgroups.css({width:width}),n>1&&(width_last=width_parent-width*(n-1),$optgroups.eq(n-1).css({width:width_last})))}};(options.equalizeHeight||options.equalizeWidth)&&(hook.after(this,"positionDropdown",equalizeSizes),hook.after(this,"refreshOptions",equalizeSizes))}),Selectize.define("remove_button",function(options){options=$.extend({label:"&times;",title:"Remove",className:"remove",append:!0},options);var singleClose=function(thisRef,options){options.className="remove-single";var self=thisRef,html='<a href="javascript:void(0)" class="'+options.className+'" tabindex="-1" title="'+escape_html(options.title)+'">'+options.label+"</a>",append=function(html_container,html_element){return html_container+html_element};thisRef.setup=function(){var original=self.setup;return function(){if(options.append){var id=$(self.$input.context).attr("id"),render_item=($("#"+id),self.settings.render.item);self.settings.render.item=function(data){return append(render_item.apply(thisRef,arguments),html)}}original.apply(thisRef,arguments),thisRef.$control.on("click","."+options.className,function(e){e.preventDefault(),self.isLocked||self.clear()})}}()},multiClose=function(thisRef,options){var self=thisRef,html='<a href="javascript:void(0)" class="'+options.className+'" tabindex="-1" title="'+escape_html(options.title)+'">'+options.label+"</a>",append=function(html_container,html_element){var pos=html_container.search(/(<\/[^>]+>\s*)$/);return html_container.substring(0,pos)+html_element+html_container.substring(pos)};thisRef.setup=function(){var original=self.setup;return function(){if(options.append){var render_item=self.settings.render.item;self.settings.render.item=function(data){return append(render_item.apply(thisRef,arguments),html)}}original.apply(thisRef,arguments),thisRef.$control.on("click","."+options.className,function(e){if(e.preventDefault(),!self.isLocked){var $item=$(e.currentTarget).parent();self.setActiveItem($item),self.deleteSelection()&&self.setCaret(self.items.length)}})}}()};return"single"===this.settings.mode?void singleClose(this,options):void multiClose(this,options)}),Selectize.define("restore_on_backspace",function(options){var self=this;options.text=options.text||function(option){return option[this.settings.labelField]},this.onKeyDown=function(){var original=self.onKeyDown;return function(e){var index,option;return e.keyCode===KEY_BACKSPACE&&""===this.$control_input.val()&&!this.$activeItems.length&&(index=this.caretPos-1,index>=0&&index<this.items.length)?(option=this.options[this.items[index]],this.deleteSelection(e)&&(this.setTextboxValue(options.text.apply(this,[option])),this.refreshOptions(!0)),void e.preventDefault()):original.apply(this,arguments)}}()}),Selectize}),angular.module("selectize",[]).value("selectizeConfig",{}).directive("selectize",["selectizeConfig",function(selectizeConfig){return{restrict:"EA",require:"^ngModel",scope:{ngModel:"=",config:"=?",options:"=?",ngDisabled:"=",ngRequired:"&"},link:function(scope,element,attrs,modelCtrl){function createItem(input){var data={};return data[config.labelField]=input,data[config.valueField]=input,data}function toggle(disabled){disabled?selectize.disable():selectize.enable()}function generateOptions(data){return data?(data=angular.isArray(data)||angular.isObject(data)?data:[data],$.map(data,function(opt){return"string"==typeof opt?createItem(opt):opt})):[]}function updateSelectize(){validate(),selectize.$control.toggleClass("ng-valid",modelCtrl.$valid),
selectize.$control.toggleClass("ng-invalid",modelCtrl.$invalid),selectize.$control.toggleClass("ng-dirty",modelCtrl.$dirty),selectize.$control.toggleClass("ng-pristine",modelCtrl.$pristine),angular.equals(selectize.items,scope.ngModel)||(selectize.addOption(generateOptions(scope.ngModel)),selectize.setValue(scope.ngModel))}Selectize.defaults.maxItems=null;var selectize,config=angular.extend({},Selectize.defaults,selectizeConfig,scope.config);modelCtrl.$isEmpty=function(val){return void 0===val||null===val||!val.length};var validate=function(){var isInvalid=(scope.ngRequired()||attrs.required||config.required)&&modelCtrl.$isEmpty(scope.ngModel);modelCtrl.$setValidity("required",!isInvalid)},onChange=config.onChange,onOptionAdd=config.onOptionAdd;config.onChange=function(){scope.disableOnChange||(angular.equals(selectize.items,scope.ngModel)||scope.$evalAsync(function(){var value=angular.copy(selectize.items);1==config.maxItems&&(value=value[0]),modelCtrl.$setViewValue(value)}),onChange&&onChange.apply(this,arguments))},config.onOptionAdd=function(value,data){scope.options.indexOf(data)===-1&&(scope.options.push(data),onOptionAdd&&onOptionAdd.apply(this,arguments))},scope.options?scope.options.splice(0,scope.options.length,generateOptions(scope.options)):scope.options=generateOptions(angular.copy(scope.ngModel));var angularCallback=config.onInitialize;config.onInitialize=function(){selectize=element[0].selectize,selectize.addOption(scope.options),selectize.setValue(scope.ngModel),angularCallback&&angularCallback(selectize),scope.$watch("options",function(){scope.disableOnChange=!0,selectize.clearOptions(),selectize.addOption(scope.options),selectize.setValue(scope.ngModel),scope.disableOnChange=!1},!0),scope.$watchCollection("ngModel",updateSelectize),scope.$watch("ngDisabled",toggle)},element.selectize(config),element.on("$destroy",function(){selectize&&(selectize.destroy(),element=null)})}}}]),function(){function tinycolor(color,opts){if(color=color?color:"",opts=opts||{},color instanceof tinycolor)return color;if(!(this instanceof tinycolor))return new tinycolor(color,opts);var rgb=inputToRGB(color);this._originalInput=color,this._r=rgb.r,this._g=rgb.g,this._b=rgb.b,this._a=rgb.a,this._roundA=mathRound(100*this._a)/100,this._format=opts.format||rgb.format,this._gradientType=opts.gradientType,this._r<1&&(this._r=mathRound(this._r)),this._g<1&&(this._g=mathRound(this._g)),this._b<1&&(this._b=mathRound(this._b)),this._ok=rgb.ok,this._tc_id=tinyCounter++}function inputToRGB(color){var rgb={r:0,g:0,b:0},a=1,ok=!1,format=!1;return"string"==typeof color&&(color=stringInputToObject(color)),"object"==typeof color&&(color.hasOwnProperty("r")&&color.hasOwnProperty("g")&&color.hasOwnProperty("b")?(rgb=rgbToRgb(color.r,color.g,color.b),ok=!0,format="%"===String(color.r).substr(-1)?"prgb":"rgb"):color.hasOwnProperty("h")&&color.hasOwnProperty("s")&&color.hasOwnProperty("v")?(color.s=convertToPercentage(color.s),color.v=convertToPercentage(color.v),rgb=hsvToRgb(color.h,color.s,color.v),ok=!0,format="hsv"):color.hasOwnProperty("h")&&color.hasOwnProperty("s")&&color.hasOwnProperty("l")&&(color.s=convertToPercentage(color.s),color.l=convertToPercentage(color.l),rgb=hslToRgb(color.h,color.s,color.l),ok=!0,format="hsl"),color.hasOwnProperty("a")&&(a=color.a)),a=boundAlpha(a),{ok:ok,format:color.format||format,r:mathMin(255,mathMax(rgb.r,0)),g:mathMin(255,mathMax(rgb.g,0)),b:mathMin(255,mathMax(rgb.b,0)),a:a}}function rgbToRgb(r,g,b){return{r:255*bound01(r,255),g:255*bound01(g,255),b:255*bound01(b,255)}}function rgbToHsl(r,g,b){r=bound01(r,255),g=bound01(g,255),b=bound01(b,255);var h,s,max=mathMax(r,g,b),min=mathMin(r,g,b),l=(max+min)/2;if(max==min)h=s=0;else{var d=max-min;switch(s=l>.5?d/(2-max-min):d/(max+min),max){case r:h=(g-b)/d+(g<b?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4}h/=6}return{h:h,s:s,l:l}}function hslToRgb(h,s,l){function hue2rgb(p,q,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?p+6*(q-p)*t:t<.5?q:t<2/3?p+(q-p)*(2/3-t)*6:p}var r,g,b;if(h=bound01(h,360),s=bound01(s,100),l=bound01(l,100),0===s)r=g=b=l;else{var q=l<.5?l*(1+s):l+s-l*s,p=2*l-q;r=hue2rgb(p,q,h+1/3),g=hue2rgb(p,q,h),b=hue2rgb(p,q,h-1/3)}return{r:255*r,g:255*g,b:255*b}}function rgbToHsv(r,g,b){r=bound01(r,255),g=bound01(g,255),b=bound01(b,255);var h,s,max=mathMax(r,g,b),min=mathMin(r,g,b),v=max,d=max-min;if(s=0===max?0:d/max,max==min)h=0;else{switch(max){case r:h=(g-b)/d+(g<b?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4}h/=6}return{h:h,s:s,v:v}}function hsvToRgb(h,s,v){h=6*bound01(h,360),s=bound01(s,100),v=bound01(v,100);var i=math.floor(h),f=h-i,p=v*(1-s),q=v*(1-f*s),t=v*(1-(1-f)*s),mod=i%6,r=[v,q,p,p,t,v][mod],g=[t,v,v,q,p,p][mod],b=[p,p,t,v,v,q][mod];return{r:255*r,g:255*g,b:255*b}}function rgbToHex(r,g,b,allow3Char){var hex=[pad2(mathRound(r).toString(16)),pad2(mathRound(g).toString(16)),pad2(mathRound(b).toString(16))];return allow3Char&&hex[0].charAt(0)==hex[0].charAt(1)&&hex[1].charAt(0)==hex[1].charAt(1)&&hex[2].charAt(0)==hex[2].charAt(1)?hex[0].charAt(0)+hex[1].charAt(0)+hex[2].charAt(0):hex.join("")}function rgbaToHex(r,g,b,a){var hex=[pad2(convertDecimalToHex(a)),pad2(mathRound(r).toString(16)),pad2(mathRound(g).toString(16)),pad2(mathRound(b).toString(16))];return hex.join("")}function desaturate(color,amount){amount=0===amount?0:amount||10;var hsl=tinycolor(color).toHsl();return hsl.s-=amount/100,hsl.s=clamp01(hsl.s),tinycolor(hsl)}function saturate(color,amount){amount=0===amount?0:amount||10;var hsl=tinycolor(color).toHsl();return hsl.s+=amount/100,hsl.s=clamp01(hsl.s),tinycolor(hsl)}function greyscale(color){return tinycolor(color).desaturate(100)}function lighten(color,amount){amount=0===amount?0:amount||10;var hsl=tinycolor(color).toHsl();return hsl.l+=amount/100,hsl.l=clamp01(hsl.l),tinycolor(hsl)}function brighten(color,amount){amount=0===amount?0:amount||10;var rgb=tinycolor(color).toRgb();return rgb.r=mathMax(0,mathMin(255,rgb.r-mathRound(255*-(amount/100)))),rgb.g=mathMax(0,mathMin(255,rgb.g-mathRound(255*-(amount/100)))),rgb.b=mathMax(0,mathMin(255,rgb.b-mathRound(255*-(amount/100)))),tinycolor(rgb)}function darken(color,amount){amount=0===amount?0:amount||10;var hsl=tinycolor(color).toHsl();return hsl.l-=amount/100,hsl.l=clamp01(hsl.l),tinycolor(hsl)}function spin(color,amount){var hsl=tinycolor(color).toHsl(),hue=(mathRound(hsl.h)+amount)%360;return hsl.h=hue<0?360+hue:hue,tinycolor(hsl)}function complement(color){var hsl=tinycolor(color).toHsl();return hsl.h=(hsl.h+180)%360,tinycolor(hsl)}function triad(color){var hsl=tinycolor(color).toHsl(),h=hsl.h;return[tinycolor(color),tinycolor({h:(h+120)%360,s:hsl.s,l:hsl.l}),tinycolor({h:(h+240)%360,s:hsl.s,l:hsl.l})]}function tetrad(color){var hsl=tinycolor(color).toHsl(),h=hsl.h;return[tinycolor(color),tinycolor({h:(h+90)%360,s:hsl.s,l:hsl.l}),tinycolor({h:(h+180)%360,s:hsl.s,l:hsl.l}),tinycolor({h:(h+270)%360,s:hsl.s,l:hsl.l})]}function splitcomplement(color){var hsl=tinycolor(color).toHsl(),h=hsl.h;return[tinycolor(color),tinycolor({h:(h+72)%360,s:hsl.s,l:hsl.l}),tinycolor({h:(h+216)%360,s:hsl.s,l:hsl.l})]}function analogous(color,results,slices){results=results||6,slices=slices||30;var hsl=tinycolor(color).toHsl(),part=360/slices,ret=[tinycolor(color)];for(hsl.h=(hsl.h-(part*results>>1)+720)%360;--results;)hsl.h=(hsl.h+part)%360,ret.push(tinycolor(hsl));return ret}function monochromatic(color,results){results=results||6;for(var hsv=tinycolor(color).toHsv(),h=hsv.h,s=hsv.s,v=hsv.v,ret=[],modification=1/results;results--;)ret.push(tinycolor({h:h,s:s,v:v})),v=(v+modification)%1;return ret}function flip(o){var flipped={};for(var i in o)o.hasOwnProperty(i)&&(flipped[o[i]]=i);return flipped}function boundAlpha(a){return a=parseFloat(a),(isNaN(a)||a<0||a>1)&&(a=1),a}function bound01(n,max){isOnePointZero(n)&&(n="100%");var processPercent=isPercentage(n);return n=mathMin(max,mathMax(0,parseFloat(n))),processPercent&&(n=parseInt(n*max,10)/100),math.abs(n-max)<1e-6?1:n%max/parseFloat(max)}function clamp01(val){return mathMin(1,mathMax(0,val))}function parseIntFromHex(val){return parseInt(val,16)}function isOnePointZero(n){return"string"==typeof n&&n.indexOf(".")!=-1&&1===parseFloat(n)}function isPercentage(n){return"string"==typeof n&&n.indexOf("%")!=-1}function pad2(c){return 1==c.length?"0"+c:""+c}function convertToPercentage(n){return n<=1&&(n=100*n+"%"),n}function convertDecimalToHex(d){return Math.round(255*parseFloat(d)).toString(16)}function convertHexToDecimal(h){return parseIntFromHex(h)/255}function stringInputToObject(color){color=color.replace(trimLeft,"").replace(trimRight,"").toLowerCase();var named=!1;if(names[color])color=names[color],named=!0;else if("transparent"==color)return{r:0,g:0,b:0,a:0,format:"name"};var match;return(match=matchers.rgb.exec(color))?{r:match[1],g:match[2],b:match[3]}:(match=matchers.rgba.exec(color))?{r:match[1],g:match[2],b:match[3],a:match[4]}:(match=matchers.hsl.exec(color))?{h:match[1],s:match[2],l:match[3]}:(match=matchers.hsla.exec(color))?{h:match[1],s:match[2],l:match[3],a:match[4]}:(match=matchers.hsv.exec(color))?{h:match[1],s:match[2],v:match[3]}:(match=matchers.hsva.exec(color))?{h:match[1],s:match[2],v:match[3],a:match[4]}:(match=matchers.hex8.exec(color))?{a:convertHexToDecimal(match[1]),r:parseIntFromHex(match[2]),g:parseIntFromHex(match[3]),b:parseIntFromHex(match[4]),format:named?"name":"hex8"}:(match=matchers.hex6.exec(color))?{r:parseIntFromHex(match[1]),g:parseIntFromHex(match[2]),b:parseIntFromHex(match[3]),format:named?"name":"hex"}:!!(match=matchers.hex3.exec(color))&&{r:parseIntFromHex(match[1]+""+match[1]),g:parseIntFromHex(match[2]+""+match[2]),b:parseIntFromHex(match[3]+""+match[3]),format:named?"name":"hex"}}function validateWCAG2Parms(parms){var level,size;return parms=parms||{level:"AA",size:"small"},level=(parms.level||"AA").toUpperCase(),size=(parms.size||"small").toLowerCase(),"AA"!==level&&"AAA"!==level&&(level="AA"),"small"!==size&&"large"!==size&&(size="small"),{level:level,size:size}}var trimLeft=/^\s+/,trimRight=/\s+$/,tinyCounter=0,math=Math,mathRound=math.round,mathMin=math.min,mathMax=math.max,mathRandom=math.random;tinycolor.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var rgb=this.toRgb();return(299*rgb.r+587*rgb.g+114*rgb.b)/1e3},getLuminance:function(){var RsRGB,GsRGB,BsRGB,R,G,B,rgb=this.toRgb();return RsRGB=rgb.r/255,GsRGB=rgb.g/255,BsRGB=rgb.b/255,R=RsRGB<=.03928?RsRGB/12.92:Math.pow((RsRGB+.055)/1.055,2.4),G=GsRGB<=.03928?GsRGB/12.92:Math.pow((GsRGB+.055)/1.055,2.4),B=BsRGB<=.03928?BsRGB/12.92:Math.pow((BsRGB+.055)/1.055,2.4),.2126*R+.7152*G+.0722*B},setAlpha:function(value){return this._a=boundAlpha(value),this._roundA=mathRound(100*this._a)/100,this},toHsv:function(){var hsv=rgbToHsv(this._r,this._g,this._b);return{h:360*hsv.h,s:hsv.s,v:hsv.v,a:this._a}},toHsvString:function(){var hsv=rgbToHsv(this._r,this._g,this._b),h=mathRound(360*hsv.h),s=mathRound(100*hsv.s),v=mathRound(100*hsv.v);return 1==this._a?"hsv("+h+", "+s+"%, "+v+"%)":"hsva("+h+", "+s+"%, "+v+"%, "+this._roundA+")"},toHsl:function(){var hsl=rgbToHsl(this._r,this._g,this._b);return{h:360*hsl.h,s:hsl.s,l:hsl.l,a:this._a}},toHslString:function(){var hsl=rgbToHsl(this._r,this._g,this._b),h=mathRound(360*hsl.h),s=mathRound(100*hsl.s),l=mathRound(100*hsl.l);return 1==this._a?"hsl("+h+", "+s+"%, "+l+"%)":"hsla("+h+", "+s+"%, "+l+"%, "+this._roundA+")"},toHex:function(allow3Char){return rgbToHex(this._r,this._g,this._b,allow3Char)},toHexString:function(allow3Char){return"#"+this.toHex(allow3Char)},toHex8:function(){return rgbaToHex(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:mathRound(this._r),g:mathRound(this._g),b:mathRound(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+mathRound(this._r)+", "+mathRound(this._g)+", "+mathRound(this._b)+")":"rgba("+mathRound(this._r)+", "+mathRound(this._g)+", "+mathRound(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:mathRound(100*bound01(this._r,255))+"%",g:mathRound(100*bound01(this._g,255))+"%",b:mathRound(100*bound01(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+mathRound(100*bound01(this._r,255))+"%, "+mathRound(100*bound01(this._g,255))+"%, "+mathRound(100*bound01(this._b,255))+"%)":"rgba("+mathRound(100*bound01(this._r,255))+"%, "+mathRound(100*bound01(this._g,255))+"%, "+mathRound(100*bound01(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(hexNames[rgbToHex(this._r,this._g,this._b,!0)]||!1)},toFilter:function(secondColor){var hex8String="#"+rgbaToHex(this._r,this._g,this._b,this._a),secondHex8String=hex8String,gradientType=this._gradientType?"GradientType = 1, ":"";if(secondColor){var s=tinycolor(secondColor);secondHex8String=s.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+gradientType+"startColorstr="+hex8String+",endColorstr="+secondHex8String+")"},toString:function(format){var formatSet=!!format;format=format||this._format;var formattedString=!1,hasAlpha=this._a<1&&this._a>=0,needsAlphaFormat=!formatSet&&hasAlpha&&("hex"===format||"hex6"===format||"hex3"===format||"name"===format);return needsAlphaFormat?"name"===format&&0===this._a?this.toName():this.toRgbString():("rgb"===format&&(formattedString=this.toRgbString()),"prgb"===format&&(formattedString=this.toPercentageRgbString()),"hex"!==format&&"hex6"!==format||(formattedString=this.toHexString()),"hex3"===format&&(formattedString=this.toHexString(!0)),"hex8"===format&&(formattedString=this.toHex8String()),"name"===format&&(formattedString=this.toName()),"hsl"===format&&(formattedString=this.toHslString()),"hsv"===format&&(formattedString=this.toHsvString()),formattedString||this.toHexString())},clone:function(){return tinycolor(this.toString())},_applyModification:function(fn,args){var color=fn.apply(null,[this].concat([].slice.call(args)));return this._r=color._r,this._g=color._g,this._b=color._b,this.setAlpha(color._a),this},lighten:function(){return this._applyModification(lighten,arguments)},brighten:function(){return this._applyModification(brighten,arguments)},darken:function(){return this._applyModification(darken,arguments)},desaturate:function(){return this._applyModification(desaturate,arguments)},saturate:function(){return this._applyModification(saturate,arguments)},greyscale:function(){return this._applyModification(greyscale,arguments)},spin:function(){return this._applyModification(spin,arguments)},_applyCombination:function(fn,args){return fn.apply(null,[this].concat([].slice.call(args)))},analogous:function(){return this._applyCombination(analogous,arguments)},complement:function(){return this._applyCombination(complement,arguments)},monochromatic:function(){return this._applyCombination(monochromatic,arguments)},splitcomplement:function(){return this._applyCombination(splitcomplement,arguments)},triad:function(){return this._applyCombination(triad,arguments)},tetrad:function(){return this._applyCombination(tetrad,arguments)}},tinycolor.fromRatio=function(color,opts){if("object"==typeof color){var newColor={};for(var i in color)color.hasOwnProperty(i)&&("a"===i?newColor[i]=color[i]:newColor[i]=convertToPercentage(color[i]));color=newColor}return tinycolor(color,opts)},tinycolor.equals=function(color1,color2){return!(!color1||!color2)&&tinycolor(color1).toRgbString()==tinycolor(color2).toRgbString()},tinycolor.random=function(){return tinycolor.fromRatio({r:mathRandom(),g:mathRandom(),b:mathRandom()})},tinycolor.mix=function(color1,color2,amount){amount=0===amount?0:amount||50;var w1,rgb1=tinycolor(color1).toRgb(),rgb2=tinycolor(color2).toRgb(),p=amount/100,w=2*p-1,a=rgb2.a-rgb1.a;w1=w*a==-1?w:(w+a)/(1+w*a),w1=(w1+1)/2;var w2=1-w1,rgba={r:rgb2.r*w1+rgb1.r*w2,g:rgb2.g*w1+rgb1.g*w2,b:rgb2.b*w1+rgb1.b*w2,a:rgb2.a*p+rgb1.a*(1-p)};return tinycolor(rgba)},tinycolor.readability=function(color1,color2){var c1=tinycolor(color1),c2=tinycolor(color2);return(Math.max(c1.getLuminance(),c2.getLuminance())+.05)/(Math.min(c1.getLuminance(),c2.getLuminance())+.05)},tinycolor.isReadable=function(color1,color2,wcag2){var wcag2Parms,out,readability=tinycolor.readability(color1,color2);switch(out=!1,wcag2Parms=validateWCAG2Parms(wcag2),wcag2Parms.level+wcag2Parms.size){case"AAsmall":case"AAAlarge":out=readability>=4.5;break;case"AAlarge":out=readability>=3;break;case"AAAsmall":out=readability>=7}return out},tinycolor.mostReadable=function(baseColor,colorList,args){var readability,includeFallbackColors,level,size,bestColor=null,bestScore=0;args=args||{},includeFallbackColors=args.includeFallbackColors,level=args.level,size=args.size;for(var i=0;i<colorList.length;i++)readability=tinycolor.readability(baseColor,colorList[i]),readability>bestScore&&(bestScore=readability,bestColor=tinycolor(colorList[i]));return tinycolor.isReadable(baseColor,bestColor,{level:level,size:size})||!includeFallbackColors?bestColor:(args.includeFallbackColors=!1,tinycolor.mostReadable(baseColor,["#fff","#000"],args))};var names=tinycolor.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},hexNames=tinycolor.hexNames=flip(names),matchers=function(){var CSS_INTEGER="[-\\+]?\\d+%?",CSS_NUMBER="[-\\+]?\\d*\\.\\d+%?",CSS_UNIT="(?:"+CSS_NUMBER+")|(?:"+CSS_INTEGER+")",PERMISSIVE_MATCH3="[\\s|\\(]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")\\s*\\)?",PERMISSIVE_MATCH4="[\\s|\\(]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")\\s*\\)?";return{rgb:new RegExp("rgb"+PERMISSIVE_MATCH3),rgba:new RegExp("rgba"+PERMISSIVE_MATCH4),hsl:new RegExp("hsl"+PERMISSIVE_MATCH3),hsla:new RegExp("hsla"+PERMISSIVE_MATCH4),hsv:new RegExp("hsv"+PERMISSIVE_MATCH3),hsva:new RegExp("hsva"+PERMISSIVE_MATCH4),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();"undefined"!=typeof module&&module.exports?module.exports=tinycolor:"function"==typeof define&&define.amd?define(function(){return tinycolor}):window.tinycolor=tinycolor}(),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="color.picker"),function(){"use strict";angular.module("color.picker",[])}(),function(){"use strict";var a=function(a,b){return{restrict:"E",require:["^ngModel"],scope:{ngModel:"=",colorPickerAlpha:"=",colorPickerCase:"=",colorPickerFormat:"=",colorPickerPos:"=",colorPickerSwatch:"=",colorPickerSwatchOnly:"=",colorPickerSwatchPos:"=",colorPickerSwatchBootstrap:"="},templateUrl:"template/color-picker/directive.html",link:function(b,c,d,e){b.init=function(){if(void 0===b.ngModel)b.hue=0,b.saturation=0,b.lightness=100;else{var c=tinycolor(b.ngModel);if(c.isValid()){var d=c.toHsv();b.hue=d.h,b.saturation=100*d.s,b.lightness=100*d.v,b.opacity=100*d.a}}b.initConfig(),a.on("click",function(a){0===b.find(a.target).length&&(b.log("Color Picker: Document Click Event"),b.hide())})},b.initConfig=function(){b.config={},b.config.alpha=void 0===b.colorPickerAlpha||b.colorPickerAlpha,b.config["case"]=void 0===b.colorPickerCase?"upper":b.colorPickerCase,b.config.format=void 0===b.colorPickerFormat?"hsl":b.colorPickerFormat,b.config.pos=void 0===b.colorPickerPos?"bottom left":b.colorPickerPos,b.config.swatch=void 0===b.colorPickerSwatch||b.colorPickerSwatch,b.config.swatchOnly=void 0!==b.colorPickerSwatchOnly&&b.colorPickerSwatchOnly,b.config.swatchPos=void 0===b.colorPickerSwatchPos?"left":b.colorPickerSwatchPos,b.config.swatchBootstrap=void 0===b.colorPickerSwatchBootstrap||b.colorPickerSwatchBootstrap,b.log("Color Picker: Config",b.config)},b.focus=function(){b.log("Color Picker: Focus Event"),b.find(".color-picker-input")[0].focus()},b.show=function(){b.log("Color Picker: Show Event"),b.visible=!0,b.hueMouse=!1,b.opacityMouse=!1,b.colorMouse=!1,b.saturationUpdate(),b.lightnessUpdate()},b.hide=function(){b.log("Color Picker: Hide Event"),b.visible&&(b.visible=!1,b.$apply())},b.update=function(){if(void 0!==b.hue&&void 0!==b.saturation&&void 0!==b.lightness){var a,c=tinycolor({h:b.hue,s:b.saturation/100,v:b.lightness/100});switch(b.config.alpha&&c.setAlpha(b.opacity/100),b.log("Color Picker: COLOR CHANGED TO ",c,b.hue,b.saturation,b.lightness,b.opacity),b.swatchColor=c.toHslString(),b.config.format){case"rgb":a=c.toRgbString();break;case"hex":a=c.toHexString(),a="lower"===b.config["case"]?a.toLowerCase():a.toUpperCase();break;case"hex8":a=c.toHex8String(),a="lower"===b.config["case"]?a.toLowerCase():a.toUpperCase();break;case"hsv":a=c.toHsvString();break;default:a=c.toHslString()}b.ngModel=a}},b.$watch("ngModel",function(a,c){if("string"==typeof a&&a!==c&&a.length>4){b.log("Color Picker: MODEL - CHANGED",a);var f=tinycolor(a);if(f.isValid()){var g=f.toHsv();b.hue=g.h,b.saturation=100*g.s,b.lightness=100*g.v,b.config.alpha&&(b.opacity=100*g.a),b.isValid=!0}else b.isValid=!1;e[0].$setValidity(d.name,b.isValid),void 0!==c&&"function"==typeof e[0].$setDirty&&e[0].$setDirty()}else b.swatchColor=""}),b.$watch("colorPickerFormat",function(a,c){void 0!==a&&a!==c&&("hex"===a&&(b.colorPickerAlpha=!1),b.initConfig(),b.update())}),b.$watchGroup(["colorPickerAlpha","colorPickerCase"],function(a,c){void 0!==a&&(b.initConfig(),b.update())}),b.$watchGroup(["colorPickerSwatchPos","colorPickerSwatchBootstrap","colorPickerSwatchOnly","colorPickerSwatch","colorPickerPos"],function(a,c){void 0!==a&&b.initConfig()}),b.hueDown=function(){b.log("Color Picker: HUE - MOUSE DOWN"),b.hueMouse=!0},b.hueUp=function(){b.log("Color Picker: HUE - MOUSE UP"),b.hueMouse=!1},b.hueChange=function(a,c){if(b.hueMouse||c){b.log("Color Picker: HUE - MOUSE CHANGE");var d=b.find(".color-picker-hue");b.hue=360*(1-(a.pageY-b.offset(d).top)/d.prop("offsetHeight"))}},b.hueUpdate=function(){void 0!==b.hue&&(b.log("Color Picker: HUE - CHANGED"),b.huePos=100*(1-b.hue/360),b.grid=tinycolor({h:b.hue,s:100,v:1}).toHslString(),b.huePos<0?b.huePos=0:b.huePos>100&&(b.huePos=100),b.update())},b.$watch("hue",function(a,c){b.hueUpdate()}),b.opacityDown=function(){b.log("Color Picker: OPACITY - MOUSE DOWN"),b.opacityMouse=!0},b.opacityUp=function(){b.log("Color Picker: OPACITY - MOUSE UP"),b.opacityMouse=!1},b.opacityChange=function(a,c){if(b.opacityMouse||c){b.log("Color Picker: OPACITY - MOUSE CHANGE");var d=b.find(".color-picker-opacity");b.opacity=100*(1-(a.pageY-b.offset(d).top)/d.prop("offsetHeight"))}},b.opacityUpdate=function(){void 0!==b.opacity&&(b.log("Color Picker: OPACITY - CHANGED"),b.opacityPos=100*(1-b.opacity/100),b.opacityPos<0?b.opacityPos=0:b.opacityPos>100&&(b.opacityPos=100),b.update())},b.$watch("opacity",function(a,c){b.opacityUpdate()}),b.colorDown=function(){b.log("Color Picker: COLOR - MOUSE DOWN"),b.colorMouse=!0},b.colorUp=function(){b.log("Color Picker: COLOR - MOUSE UP"),b.colorMouse=!1},b.colorChange=function(a,c){if(b.colorMouse||c){b.log("Color Picker: COLOR - MOUSE CHANGE");var d=b.find(".color-picker-grid-inner"),e=b.offset(d);b.saturation=(a.pageX-e.left)/d.prop("offsetWidth")*100,b.lightness=100*(1-(a.pageY-e.top)/d.prop("offsetHeight"))}},b.saturationUpdate=function(a){void 0!==b.saturation&&b.saturation!==a&&(b.log("Color Picker: SATURATION - CHANGED"),b.saturationPos=b.saturation/100*100,b.saturationPos<0?b.saturationPos=0:b.saturationPos>100&&(b.saturationPos=100),b.update())},b.$watch("saturation",function(a,c){b.saturationUpdate(c)}),b.lightnessUpdate=function(a){void 0!==b.lightness&&b.lightness!==a&&(b.log("Color Picker: LIGHTNESS - CHANGED"),b.lightnessPos=100*(1-b.lightness/100),b.lightnessPos<0?b.lightnessPos=0:b.lightnessPos>100&&(b.lightnessPos=100),b.update())},b.$watch("lightness",function(a,c){b.lightnessUpdate(c)}),b.log=function(){},b.find=function(a){var d,e=b.wrapper?b.wrapper[0]:c[0],f=[];if(!a)return f;if("string"==typeof a){if(1!==(d=e.nodeType)&&9!==d)return[];f=e.querySelectorAll(a)}else e.contains(a)&&f.push(a);return angular.element(f)},b.offset=function(a){var b,c,d,e,f=a[0];if(f)return f.getClientRects().length?(d=f.getBoundingClientRect(),d.width||d.height?(e=f.ownerDocument,c=null!==e&&e===e.window?e:9===e.nodeType&&e.defaultView,b=e.documentElement,window.chrome&&screen.width<=768?{top:d.top-b.clientTop,left:d.left-b.clientLeft}:{top:d.top+c.pageYOffset-b.clientTop,left:d.left+c.pageXOffset-b.clientLeft}):d):{top:0,left:0}},b.init(),b.$on("$destroy",function(){a.off("click")})}}};a.$inject=["$document","$timeout"],angular.module("color.picker").directive("colorPicker",a)}(),angular.module("color.picker").run(["$templateCache",function(a){a.put("template/color-picker/directive.html",'<div class="color-picker-wrapper" ng-class="{\'color-picker-swatch-only\': config.swatchOnly}">\n   <div ng-class="{\'input-group\': config.swatchBootstrap && config.swatch}">\n       <span ng-if="config.swatchPos === \'left\'" ng-attr-style="background-color: {{swatchColor}};" class="color-picker-swatch" ng-click="focus()" ng-show="config.swatch" ng-class="{\'color-picker-swatch-left\': config.swatchPos !== \'right\', \'color-picker-swatch-right\': config.swatchPos === \'right\', \'input-group-addon\': config.swatchBootstrap}"></span>\n       <input class="color-picker-input form-control" type="text" ng-model="ngModel" size="7" ng-focus="show()" ng-class="{\'color-picker-input-swatch\': config.swatch && !config.swatchOnly && config.swatchPos === \'left\'}">\n       <span ng-if="config.swatchPos === \'right\'" ng-attr-style="background-color: {{swatchColor}};" class="color-picker-swatch" ng-click="focus()" ng-show="config.swatch" ng-class="{\'color-picker-swatch-left\': config.swatchPos !== \'right\', \'color-picker-swatch-right\': config.swatchPos === \'right\', \'input-group-addon\': config.swatchBootstrap}"></span>\n   </div>\n   <div class="color-picker-panel" ng-show="visible" ng-class="{\n       \'color-picker-panel-top color-picker-panel-right\': config.pos === \'top right\',\n       \'color-picker-panel-top color-picker-panel-left\': config.pos === \'top left\',\n       \'color-picker-panel-bottom color-picker-panel-right\': config.pos === \'bottom right\',\n       \'color-picker-panel-bottom color-picker-panel-left\': config.pos === \'bottom left\',\n   }">\n       <div class="color-picker-hue color-picker-sprite" ng-click="hueChange($event, true)" ng-mousemove="hueChange($event, false)" ng-mousedown="hueDown()" ng-mouseup="hueUp()">\n           <div class="color-picker-slider" ng-attr-style="top: {{huePos}}%;"></div>\n       </div>\n       <div class="color-picker-opacity color-picker-sprite" ng-show="config.alpha" ng-click="opacityChange($event, true)" ng-mousemove="opacityChange($event, false)" ng-mousedown="opacityDown()" ng-mouseup="opacityUp()">\n           <div class="color-picker-slider" ng-attr-style="top: {{opacityPos}}%;"></div>\n           </div>\n       <div class="color-picker-grid color-picker-sprite" ng-attr-style="background-color: {{grid}};" ng-click="colorChange($event, true)" ng-mousemove="colorChange($event, false)" ng-mousedown="colorDown()" ng-mouseup="colorUp()">\n           <div class="color-picker-grid-inner"></div>\n           <div class="color-picker-picker" ng-attr-style="top: {{lightnessPos}}%; left: {{saturationPos}}%;">\n               <div></div>\n           </div>\n       </div>\n   </div>\n</div>')}]),function(e,t){"use strict";"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.DeepDiff=t()}(this,function(e){"use strict";function a(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function i(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function f(e,t,n){f.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function u(e,t){u.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function l(e,t){l.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function s(e,t,n){s.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function h(e,t,n){var r=e.slice((n||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,r),e}function c(e){var t=typeof e;return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":e instanceof Date?"date":/^\/.*\//.test(e.toString())?"regexp":"object"}function o(t,n,r,a,i,p,b){i=i||[];var d=i.slice(0);if("undefined"!=typeof p){if(a&&a(d,p,{lhs:t,rhs:n}))return;d.push(p)}var v=typeof t,y=typeof n;if("undefined"===v)"undefined"!==y&&r(new u(d,n));else if("undefined"===y)r(new l(d,t));else if(c(t)!==c(n))r(new f(d,t,n));else if(t instanceof Date&&n instanceof Date&&t-n!==0)r(new f(d,t,n));else if("object"===v&&null!==t&&null!==n){if(b=b||[],b.indexOf(t)<0){if(b.push(t),Array.isArray(t)){var k;t.length;
for(k=0;k<t.length;k++)k>=n.length?r(new s(d,k,new l(e,t[k]))):o(t[k],n[k],r,a,d,k,b);for(;k<n.length;)r(new s(d,k,new u(e,n[k++])))}else{var g=Object.keys(t),w=Object.keys(n);g.forEach(function(i,f){var u=w.indexOf(i);u>=0?(o(t[i],n[i],r,a,d,i,b),w=h(w,u)):o(t[i],e,r,a,d,i,b)}),w.forEach(function(t){o(e,n[t],r,a,d,t,b)})}b.length=b.length-1}}else t!==n&&("number"===v&&isNaN(t)&&isNaN(n)||r(new f(d,t,n)))}function p(t,n,r,a){return a=a||[],o(t,n,function(e){e&&a.push(e)},r),a.length?a:e}function b(e,t,n){if(n.path&&n.path.length){var a,r=e[t],i=n.path.length-1;for(a=0;a<i;a++)r=r[n.path[a]];switch(n.kind){case"A":b(r[n.path[a]],n.index,n.item);break;case"D":delete r[n.path[a]];break;case"E":case"N":r[n.path[a]]=n.rhs}}else switch(n.kind){case"A":b(e[t],n.index,n.item);break;case"D":e=h(e,t);break;case"E":case"N":e[t]=n.rhs}return e}function d(e,t,n){if(e&&t&&n&&n.kind){for(var r=e,a=-1,i=n.path.length-1;++a<i;)"undefined"==typeof r[n.path[a]]&&(r[n.path[a]]="number"==typeof n.path[a]?[]:{}),r=r[n.path[a]];switch(n.kind){case"A":b(r[n.path[a]],n.index,n.item);break;case"D":delete r[n.path[a]];break;case"E":case"N":r[n.path[a]]=n.rhs}}}function v(e,t,n){if(n.path&&n.path.length){var a,r=e[t],i=n.path.length-1;for(a=0;a<i;a++)r=r[n.path[a]];switch(n.kind){case"A":v(r[n.path[a]],n.index,n.item);break;case"D":r[n.path[a]]=n.lhs;break;case"E":r[n.path[a]]=n.lhs;break;case"N":delete r[n.path[a]]}}else switch(n.kind){case"A":v(e[t],n.index,n.item);break;case"D":e[t]=n.lhs;break;case"E":e[t]=n.lhs;break;case"N":e=h(e,t)}return e}function y(e,t,n){if(e&&t&&n&&n.kind){var a,i,r=e;for(i=n.path.length-1,a=0;a<i;a++)"undefined"==typeof r[n.path[a]]&&(r[n.path[a]]={}),r=r[n.path[a]];switch(n.kind){case"A":v(r[n.path[a]],n.index,n.item);break;case"D":r[n.path[a]]=n.lhs;break;case"E":r[n.path[a]]=n.lhs;break;case"N":delete r[n.path[a]]}}}function k(e,t,n){if(e&&t){var r=function(r){n&&!n(e,t,r)||d(e,t,r)};o(e,t,r)}}var t,n,r=[];return t="object"==typeof global&&global?global:"undefined"!=typeof window?window:{},n=t.DeepDiff,n&&r.push(function(){"undefined"!=typeof n&&t.DeepDiff===p&&(t.DeepDiff=n,n=e)}),a(f,i),a(u,i),a(l,i),a(s,i),Object.defineProperties(p,{diff:{value:p,enumerable:!0},observableDiff:{value:o,enumerable:!0},applyDiff:{value:k,enumerable:!0},applyChange:{value:d,enumerable:!0},revertChange:{value:y,enumerable:!0},isConflict:{value:function(){return"undefined"!=typeof n},enumerable:!0},noConflict:{value:function(){return r&&(r.forEach(function(e){e()}),r=null),p},enumerable:!0}}),p}),!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){__webpack_require__(1),__webpack_require__(6),__webpack_require__(77),__webpack_require__(93),module.exports=__webpack_require__(97)},function(module,exports,__webpack_require__){"use strict";function main($httpBackend,$animate){angular.uppercase=function(str){return str.toUpperCase()},tempFixForAnimateParamsReversal($animate),initSelectizeConfig(),initCodemirrorConfig()}function tempFixForAnimateParamsReversal($animate){$animate&&$animate.enabled&&$animate.enabled.bind&&!function(){var origFunc=$animate.enabled.bind($animate);$animate.enabled=function(){if("boolean"==typeof arguments[0]&&"object"==typeof arguments[1]){var temp=arguments[0];arguments[0]=arguments[1],arguments[1]=temp}return origFunc.apply($animate,arguments)}}()}main.$inject=["$httpBackend","$animate"];var initSelectizeConfig=__webpack_require__(2).initSelectizeConfig,initCodemirrorConfig=__webpack_require__(3).initCodemirrorConfig;String.prototype.endsWith||(String.prototype.endsWith=function(str){return this.substr(this.length-str.length,str.length)===str}),String.prototype.startsWith||(String.prototype.startsWith=function(str){return this.substr(0,str.length)===str}),window.Hamster=__webpack_require__(4),__webpack_require__(5),angular.module("jfrog.ui.essentials",["ngMessages","ngAnimate","ui.utils","ui.select","ui.codemirror","ui.router","ngCookies","toaster","ngSanitize","ngClipboard","ui.bootstrap","ui.grid.draggable-rows","monospaced.mousewheel","ae-datetimepicker","jfrog.ui.essentials.templates","jfrog.ui.essentials.directives","jfrog.ui.essentials.services","jfrog.ui.essentials.filters"]).config(["$qProvider",function($qProvider){$qProvider.errorOnUnhandledRejections(!1)}]).run(main)},function(module,exports){"use strict";function initSelectizeConfig(){"undefined"==typeof Selectize||_.isUndefined(Selectize)||setSelectizePugins()}function setSelectizePugins(){Selectize.define("infinite_scroll",function(opts){var self=this,options=$.extend({scrollRatio:.85,scrollStep:20},opts);this.setup=function(){var original=self.setup;return function(){original.apply(this,arguments);var dropdown_content=self.$dropdown_content,original_maxOptions=self.settings.maxOptions;self.$dropdown_content.on("scroll",function(e){var lastScrollTop=dropdown_content.scrollTop(),scrollPosition=(dropdown_content.scrollTop()+dropdown_content.innerHeight())/dropdown_content[0].scrollHeight;scrollPosition>options.scrollRatio&&self.settings.maxOptions<self.currentResults.total&&(self.settings.maxOptions+=options.scrollStep,self.refreshOptions(),dropdown_content[0].scrollTop=lastScrollTop)}),self.on("type",function(e){self.settings.maxOptions=original_maxOptions,self.refreshOptions()})}}()})}exports.initSelectizeConfig=initSelectizeConfig,Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports){"use strict";function initCodemirrorConfig(){"undefined"==typeof CodeMirror||_.isUndefined(CodeMirror)||(defineCodeMirrorMimes(),defineCodeMirrorLinkOverlay(),defineCodeMirrorAqlMode())}function aliasMime(newMime,existingMime){CodeMirror.defineMIME(newMime,CodeMirror.mimeModes[existingMime])}function defineCodeMirrorMimes(){aliasMime("text/x-java-source","text/x-java"),aliasMime("pom","text/xml")}function defineCodeMirrorAqlMode(){CodeMirror.defineMode("aql",function(){var urlRegex=/^https?:\/\/[a-zA-Z]+(\.)?(:[0-9]+)?.+?(?=\s|$|"|'|>|<)/,inApiKey=!1;return{token:function(stream,state){if(stream.match(/(?:curl|\-\H|\-\X|\-d|POST)\b/))return"external-command";if(stream.match(/(?:X\-Api\-Key)\b/))return inApiKey=!0,"header-tag";if(stream.match("'"))return inApiKey=!1,null;if(stream.match(/(?:find|include|limit|sort|offset)\b/))return"aql-keyword";if(stream.match(/(?:\$and|\$or|\$ne|\$gt|\$gte|\$lt|\$lte|\$rf|\$msp|\$match|\$nmatch|\$eq|\$asc|\$desc)\b/))return"aql-operators";if(stream.match(/(?:items|builds|entries)\b/))return"aql-domain";if(stream.match(/[\{\}\[\]\(\)]+/))return"aql-brackets";if(stream.match(urlRegex))return"api-url";var ret=null;return inApiKey&&!stream.match(":")&&(ret="api-key"),stream.next(),ret}}})}function defineCodeMirrorLinkOverlay(){var urlRegex=/^https?:\/\/[a-zA-Z]+(\.)?(:[0-9]+)?.+?(?=\s|$|"|'|>|<)/;CodeMirror.defineMode("links",function(config,parserConfig){var linkOverlay={token:function(stream,state){if(stream.match(urlRegex))return"link";for(;null!=stream.next()&&!stream.match(urlRegex,!1););return null}};return CodeMirror.overlayMode(CodeMirror.getMode(config,config.mimeType||"text/xml"),linkOverlay)})}exports.initCodemirrorConfig=initCodemirrorConfig,Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports,__webpack_require__){"use strict";!function(window,document){var Hamster=function(_Hamster){var _HamsterWrapper=function(_x){return _Hamster.apply(this,arguments)};return _HamsterWrapper.toString=function(){return _Hamster.toString()},_HamsterWrapper}(function(element){return new Hamster.Instance(element)});Hamster.SUPPORT="wheel",Hamster.ADD_EVENT="addEventListener",Hamster.REMOVE_EVENT="removeEventListener",Hamster.PREFIX="",Hamster.READY=!1,Hamster.Instance=function(element){return Hamster.READY||(Hamster.normalise.browser(),Hamster.READY=!0),this.element=element,this.handlers=[],this},Hamster.Instance.prototype={wheel:function(handler,useCapture){return Hamster.event.add(this,Hamster.SUPPORT,handler,useCapture),"DOMMouseScroll"===Hamster.SUPPORT&&Hamster.event.add(this,"MozMousePixelScroll",handler,useCapture),this},unwheel:function(handler,useCapture){return void 0===handler&&(handler=this.handlers.slice(-1)[0])&&(handler=handler.original),Hamster.event.remove(this,Hamster.SUPPORT,handler,useCapture),"DOMMouseScroll"===Hamster.SUPPORT&&Hamster.event.remove(this,"MozMousePixelScroll",handler,useCapture),this}},Hamster.event={add:function(hamster,eventName,handler,useCapture){var originalHandler=handler;handler=function(originalEvent){originalEvent||(originalEvent=window.event);var event=Hamster.normalise.event(originalEvent),delta=Hamster.normalise.delta(originalEvent);return originalHandler(event,delta[0],delta[1],delta[2])},hamster.element[Hamster.ADD_EVENT](Hamster.PREFIX+eventName,handler,useCapture||!1),hamster.handlers.push({original:originalHandler,normalised:handler})},remove:function(hamster,eventName,handler,useCapture){for(var handlers,originalHandler=handler,lookup={},i=0,len=hamster.handlers.length;i<len;++i)lookup[hamster.handlers[i].original]=hamster.handlers[i];handlers=lookup[originalHandler],handler=handlers.normalised,hamster.element[Hamster.REMOVE_EVENT](Hamster.PREFIX+eventName,handler,useCapture||!1);for(var h in hamster.handlers)if(hamster.handlers[h]==handlers){hamster.handlers.splice(h,1);break}}};var lowestDelta,lowestDeltaXY;Hamster.normalise={browser:function(){"onwheel"in document||document.documentMode>=9||(Hamster.SUPPORT=void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll"),window.addEventListener||(Hamster.ADD_EVENT="attachEvent",Hamster.REMOVE_EVENT="detachEvent",Hamster.PREFIX="on")},event:function(originalEvent){var event={originalEvent:originalEvent,target:originalEvent.target||originalEvent.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"===originalEvent.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){originalEvent.preventDefault?originalEvent.preventDefault():originalEvent.returnValue=!1},stopPropagation:function(){originalEvent.stopPropagation?originalEvent.stopPropagation():originalEvent.cancelBubble=!1}};return originalEvent.wheelDelta&&(event.deltaY=-.025*originalEvent.wheelDelta),originalEvent.wheelDeltaX&&(event.deltaX=-.025*originalEvent.wheelDeltaX),originalEvent.detail&&(event.deltaY=originalEvent.detail),event},delta:function(originalEvent){var fn,delta=0,deltaX=0,deltaY=0,absDelta=0,absDeltaXY=0;return originalEvent.deltaY&&(deltaY=originalEvent.deltaY*-1,delta=deltaY),originalEvent.deltaX&&(deltaX=originalEvent.deltaX,delta=deltaX*-1),originalEvent.wheelDelta&&(delta=originalEvent.wheelDelta),originalEvent.wheelDeltaY&&(deltaY=originalEvent.wheelDeltaY),originalEvent.wheelDeltaX&&(deltaX=originalEvent.wheelDeltaX*-1),originalEvent.detail&&(delta=originalEvent.detail*-1),0===delta?[0,0,0]:(absDelta=Math.abs(delta),(!lowestDelta||absDelta<lowestDelta)&&(lowestDelta=absDelta),absDeltaXY=Math.max(Math.abs(deltaY),Math.abs(deltaX)),(!lowestDeltaXY||absDeltaXY<lowestDeltaXY)&&(lowestDeltaXY=absDeltaXY),fn=delta>0?"floor":"ceil",delta=Math[fn](delta/lowestDelta),deltaX=Math[fn](deltaX/lowestDeltaXY),deltaY=Math[fn](deltaY/lowestDeltaXY),[delta,deltaX,deltaY])}},"function"==typeof window.define&&window.define.amd?window.define("hamster",[],function(){return Hamster}):module.exports=Hamster}(window,window.document)},function(module,exports){"use strict";angular.module("monospaced.mousewheel",[]).directive("msdWheel",["$parse",function($parse){return{restrict:"A, C",link:function(scope,element,attr){var hamster,expr=$parse(attr.msdWheel),fn=function(event,delta,deltaX,deltaY){scope.$apply(function(){expr(scope,{$event:event,$delta:delta,$deltaX:deltaX,$deltaY:deltaY})})};return"undefined"==typeof Hamster?void element.bind("wheel",function(event){scope.$apply(function(){expr(scope,{$event:event})})}):((hamster=element.data("hamster"))||(hamster=Hamster(element[0]),element.data("hamster",hamster)),hamster.wheel(fn),void scope.$on("$destroy",function(){hamster.unwheel(fn)}))}}}])},function(module,exports,__webpack_require__){"use strict";var _interopRequire=function(obj){return obj&&obj.__esModule?obj["default"]:obj},MODULE_DATA_LIST=__webpack_require__(7).MODULE_DATA_LIST,jfListMaker=__webpack_require__(12).jfListMaker,jfActions=__webpack_require__(13).jfActions,jfOnOffSwitch=_interopRequire(__webpack_require__(14)),jfSwitchToggler=_interopRequire(__webpack_require__(15)),jfTabularDnD=__webpack_require__(16).jfTabularDnD,jfDragDrop=__webpack_require__(17).jfDragDrop,jfDragDropPagination=__webpack_require__(18).jfDragDropPagination,jfToggler=_interopRequire(__webpack_require__(20)),jfTooltip=__webpack_require__(21).jfTooltip,jfHelpTooltip=__webpack_require__(22).jfHelpTooltip,jfCheckbox=__webpack_require__(23).jfCheckbox,jfSwitch=__webpack_require__(24).jfSwitch,jfGrid=__webpack_require__(25).jfGrid,jfGridPagination=__webpack_require__(26).jfGridPagination,jfGridBatchActions=__webpack_require__(27).jfGridBatchActions,jfField=__webpack_require__(28).jfField,jfCodeMirror=__webpack_require__(29).jfCodeMirror,jfGridFilter=__webpack_require__(35).jfGridFilter,jfTabs=__webpack_require__(36).jfTabs,jfTab=__webpack_require__(37).jfTab,jfDrawer=__webpack_require__(38).jfDrawer,jfPanel=__webpack_require__(39).jfPanel,jfUiSelect=__webpack_require__(40).jfUiSelect,jfRevealInput=__webpack_require__(41).jfRevealInput,jfDisableNgAnimate=__webpack_require__(42).jfDisableNgAnimate,jfIncludeReplace=__webpack_require__(43).jfIncludeReplace,jfEnterPress=__webpack_require__(44).jfEnterPress,jfTooltipOnOverflow=__webpack_require__(46).jfTooltipOnOverflow,jfClipCopy=__webpack_require__(47).jfClipCopy,jfValidation=__webpack_require__(48).jfValidation,jfSidebar=__webpack_require__(50).jfSidebar,jfMultiDropdown=__webpack_require__(51).jfMultiDropdown,jfRadioButton=__webpack_require__(52).jfRadioButton,jfWidgetsLayout=__webpack_require__(53).jfWidgetsLayout,jfMarquee=__webpack_require__(54).jfMarquee,jfPasswordStrength=__webpack_require__(55).jfPasswordStrength,jfClearErrors=__webpack_require__(58).jfClearErrors,jfFakeReadonly=__webpack_require__(59).jfFakeReadonly,jfMarkupEditor=__webpack_require__(60).jfMarkupEditor,jfJsTreeWrap=__webpack_require__(62).jfJsTreeWrap,jfAutoComplete=__webpack_require__(63).jfAutoComplete,jfDatetimepicker=__webpack_require__(64).jfDatetimepicker,jfDynamicTemplate=__webpack_require__(65).jfDynamicTemplate,jfListSelection=__webpack_require__(66).jfListSelection,jfDragAndDropTxt=__webpack_require__(67).jfDragAndDropTxt,jfContextMenu=__webpack_require__(68).jfContextMenu,jfVScroll=__webpack_require__(69).jfVScroll,jfVScrollElement=__webpack_require__(70).jfVScrollElement,jfPendingData=__webpack_require__(71).jfPendingData,jfTextBox=__webpack_require__(72).jfTextBox,jfReparent=__webpack_require__(73).jfReparent,jfWizard=_interopRequire(__webpack_require__(74)),jfWizardElement=_interopRequire(__webpack_require__(75)),jfBillboard=__webpack_require__(76).jfBillboard;angular.module("jfrog.ui.essentials.directives",[MODULE_DATA_LIST]).directive({jfWizardElement:jfWizardElement,jfWizard:jfWizard,jfTabularDnd:jfTabularDnD,jfDragDrop:jfDragDrop,jfDragDropPagination:jfDragDropPagination,jfActions:jfActions,jfTooltip:jfTooltip,jfHelpTooltip:jfHelpTooltip,jfListMaker:jfListMaker,jfCheckbox:jfCheckbox,jfSwitch:jfSwitch,jfGrid:jfGrid,jfGridPagination:jfGridPagination,jfGridBatchActions:jfGridBatchActions,jfValidation:jfValidation,jfField:jfField,jfCodeMirror:jfCodeMirror,jfGridFilter:jfGridFilter,jfTabs:jfTabs,jfTab:jfTab,jfDrawer:jfDrawer,jfPanel:jfPanel,jfUiSelect:jfUiSelect,jfRevealInput:jfRevealInput,jfDisableNgAnimate:jfDisableNgAnimate,jfIncludeReplace:jfIncludeReplace,jfEnterPress:jfEnterPress,jfTooltipOnOverflow:jfTooltipOnOverflow,jfClipCopy:jfClipCopy,jfSidebar:jfSidebar,jfMultiDropdown:jfMultiDropdown,jfWidgetsLayout:jfWidgetsLayout,jfMarquee:jfMarquee,jfPasswordStrength:jfPasswordStrength,jfClearErrors:jfClearErrors,jfFakeReadonly:jfFakeReadonly,jfDatetimepicker:jfDatetimepicker,jfDynamicTemplate:jfDynamicTemplate,jfListSelection:jfListSelection,jfMarkupEditor:jfMarkupEditor,jfJsTreeWrap:jfJsTreeWrap,jfAutoComplete:jfAutoComplete,jfRadioButton:jfRadioButton,jfDragAndDropTxt:jfDragAndDropTxt,jfContextMenu:jfContextMenu,jfVscroll:jfVScroll,jfVscrollElement:jfVScrollElement,jfToggler:jfToggler,jfSwitchToggler:jfSwitchToggler,jfOnOffSwitch:jfOnOffSwitch,jfTextBox:jfTextBox,jfReparent:jfReparent,jfPendingData:jfPendingData,jfBillboard:jfBillboard})},function(module,exports,__webpack_require__){"use strict";var _interopRequire=function(obj){return obj&&obj.__esModule?obj["default"]:obj};Object.defineProperty(exports,"__esModule",{value:!0});var jfDataListCompiledItem=_interopRequire(__webpack_require__(8)),jfDataListItem=_interopRequire(__webpack_require__(9)),jfDataList=_interopRequire(__webpack_require__(11)),MODULE_DATA_LIST="jf.data.list";exports.MODULE_DATA_LIST=MODULE_DATA_LIST,angular.module(MODULE_DATA_LIST,[]).directive("jfDataListCompiledItem",jfDataListCompiledItem).directive("jfDataListItem",jfDataListItem).directive("jfDataList",jfDataList)},function(module,exports){"use strict";function jfDataListCompiledItem(){var linkFn=function(scope,element,attrs){var placeholder=element.find("div"),itemTemplate='<div class="compiled-list-item">'+scope.$ctrl.item.template+"</div>",newScope=scope.$ctrl.$rootScope.$new(),itemScope=_.extend(newScope,{appScope:scope.$ctrl.item.scope});delete scope.$ctrl.item.scope,itemScope.row={},itemScope.row.entity=scope.$ctrl.item;var compiledElement=scope.$ctrl.$compile(itemTemplate)(itemScope);placeholder.after(compiledElement),placeholder.remove()};return{restrict:"E",scope:{item:"="},controller:jfDataListCompiledItemController,controllerAs:"$ctrl",bindToController:!0,template:"<div></div>",link:linkFn}}var _classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};module.exports=jfDataListCompiledItem;var jfDataListCompiledItemController=function jfDataListCompiledItemController($element,$compile,$rootScope){_classCallCheck(this,jfDataListCompiledItemController),this.$element=$element,this.$compile=$compile,this.$rootScope=$rootScope}},function(module,exports,__webpack_require__){"use strict";function jfDataListItem(){return{restrict:"E",scope:{item:"=",index:"<"},templateUrl:"directives/jf_data_list/components/jf_data_list_item/jf_data_list_item.html",require:"^jfDataList",controller:jfDataListItemController,bindToController:!0,controllerAs:"$ctrl"}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};module.exports=jfDataListItem;var jfDataListItemController=function(){function jfDataListItemController($scope,JFrogModal,$rootScope,$element,JFrogUIUtils,$compile){_classCallCheck(this,jfDataListItemController),this.$scope=$scope,this.JFrogModal=JFrogModal,this.$rootScope=$rootScope,this.$element=$element,this.JFrogUIUtils=JFrogUIUtils,this.$compile=$compile}return _createClass(jfDataListItemController,{htmlIsOverflowing:{value:function(rowId){var elem=this.$element.find(rowId);if(!elem||!elem.length)return!1;var children=elem.children(".tag"),maxWidth=elem.closest(".data-list-item-value").outerWidth()-60,totalChildrenWidth=0;return children.each(function(i,child){var childElem=$(child);totalChildrenWidth+=childElem.outerWidth()+parseInt(childElem.css("margin-left"))+parseInt(childElem.css("margin-right")),totalChildrenWidth<maxWidth&&childElem.removeClass("overflowing-child"),totalChildrenWidth>maxWidth&&!childElem.is(".overflowing-child")&&childElem.addClass("overflowing-child")}),elem.children(".tag.overflowing-child").length>0}},showAll:{value:function(model,rowName,objectName){var _this=this,modalScope=this.$rootScope.$new();modalScope.items=model,modalScope.rowName=rowName,modalScope.objectName=objectName,modalScope.filter={},modalScope.filterItem=function(item){if(modalScope.filter.text){var escaped=_this.JFrogUIUtils.escapeForRegex(modalScope.filter.text),regex=new RegExp(".*"+escaped.split("\\*").join(".*")+".*","i");return regex.test(item.label)}return!0},modalScope.noResults=function(){var filteredResults=_.filter(modalScope.items,function(item){return modalScope.filterItem(item)});return 0===filteredResults.length},this.JFrogModal.launchModalWithTemplateMarkup(__webpack_require__(10),modalScope,"sm",!0)}},isArray:{value:function(o){return Array.isArray(o)}},getItemValue:{value:function(value){return value||"&nbsp"}}}),jfDataListItemController}()},function(module,exports){module.exports='<div id="show-all-modal">\n\t<div class="modal-header">\n\t\t<button type="button" class="close" data-dismiss="close" aria-label="Close" ng-click="$dismiss()"><span aria-hidden="true">&times;</span></button>\n\t\t<h4 class="modal-title" id="popup-header">{{items.length}} {{colName}} For {{objectName}} \'{{rowName}}\'</h4>\n\t</div>\n\t<div class="modal-body clearfix">\n\t\t<input type="text"\n\t\t       name="filter"\n\t\t       class="input-text"\n\t\t       ng-model="filter.text"\n\t\t       placeholder="Filter"/>\n\n\n\t\t<div class="group-list-wrapper" ng-if="!noResults()">\n\t\t\t<ul class="group-list">\n\t\t\t\t<li class="group-list-item"\n\t\t\t\t    jf-tooltip-on-overflow\n\t\t\t\t    ng-repeat="item in items track by $index"\n\t\t\t\t    ng-if="filterItem(item)">\n\t\t\t\t\t<div ng-if="!item.url" ng-bind-html="item.label"></div>\n\t\t\t\t\t<a ng-if="item.url" class="jf-link" ng-href="{{item.url}}" ng-bind-html="item.label" target="_blank"></a>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\n\t\t<div class="empty-filter-placeholder filter-no-results" ng-if="noResults()">\n\t\t\tCurrent filter has no results. <a href class="jf-link" ng-click="filter.text = \'\'">Clear filter</a>\n\t\t</div>\n\n\t</div>\n\t<div class="modal-footer">\n\t\t<button class="btn btn-default" ng-click="$dismiss()" id="popup-cancel">Close</button>\n\t</div>\n</div>'},function(module,exports){"use strict";function jfDataList(){return{restrict:"E",scope:{items:"="},controller:jfDataListController,controllerAs:"jfDataList",bindToController:!0,templateUrl:"directives/jf_data_list/jf_data_list.html"}}var _classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};module.exports=jfDataList;var jfDataListController=function jfDataListController($scope){var _this=this;_classCallCheck(this,jfDataListController),this.$scope=$scope,this.$scope.$watch("jfDataList.items",function(items){items&&(_this.formattedItems=_.filter(items,function(item){return""!=item.label}))})}},function(module,exports){"use strict";function jfListMaker(){return{restrict:"E",scope:{values:"=",label:"@",helpTooltip:"=",objectName:"@",ngDisabled:"=",noSort:"=?",minLength:"@",inputType:"@?",predefinedValues:"=?",placeholder:"@?",listId:"@",onAddValue:"&?",onAfterAddValue:"&?",onAfterDeleteValue:"&?",hideAddNewFields:"@",validationRegex:"@",validationRegexMessage:"@",caseInsensitive:"<?",required:"=?ngRequired"},templateUrl:"directives/jf_list_maker/jf_list_maker.html",controller:jfListMakerController,controllerAs:"jfListMaker",bindToController:!0}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfListMaker=jfListMaker,Object.defineProperty(exports,"__esModule",{value:!0});var jfListMakerController=function(){function jfListMakerController($attrs,$scope){_classCallCheck(this,jfListMakerController),this.$attrs=$attrs,this.$scope=$scope}return jfListMakerController.$inject=["$attrs","$scope"],_createClass(jfListMakerController,{$onInit:{value:function(){var _this=this;this.$scope.$watch("jfListMaker.values.length",function(){_this.validateIsRequired(_this.values)}),this.noSort=this.noSort||this.$attrs.hasOwnProperty("noSort"),this.values&&!this.noSort&&(this.values=_.sortBy(this.values)),this.minLength=this.minLength||0;var randomId=Math.floor(1e9*Math.random());this.listId||(this.listId="list-id-"+randomId)}},addValue:{value:function(){this.values||(this.values=[]),this.errorMessage=null,_.isEmpty(this.newValue)?this.errorMessage="Must input value":this._isValueUnique(this.newValue)?_.isEmpty(this.validationRegex)||new RegExp(this.validationRegex).test(this.newValue)?(this.onAddValue&&(this.newValue=this.onAddValue({newValue:this.newValue})),this.values.push(this.newValue),this.newValue=null,this.onAfterAddValue&&this.onAfterAddValue()):this.errorMessage=_.isEmpty(this.validationRegexMessage)?"Value not valid":this.validationRegexMessage:this.errorMessage="Value already exists",this.noSort||(this.values=_.sortBy(this.values))}},removeValue:{value:function(index){this.values.splice(index,1),this.onAfterDeleteValue&&"function"==typeof this.onAfterDeleteValue&&this.onAfterDeleteValue()}},_isValueUnique:{value:function(text){return this.caseInsensitive?!this.values||!_.find(this.values,function(val){return val.toLowerCase()===text.toLowerCase()}):!this.values||this.values.indexOf(text)==-1}},isRequired:{value:function(valuesArray){return this.required&&(_.isUndefined(valuesArray)||_.isEmpty(valuesArray))}},validateIsRequired:{value:function(values){this.isRequired(values)?this.listMakerForm&&this.listMakerForm.newValueField?this.listMakerForm.newValueField.$setValidity("mustAddValueTolist",!1):this.errorMessage="You must add a value to list":(this.listMakerForm&&this.listMakerForm.newValueField&&this.listMakerForm.newValueField.$setValidity("mustAddValueTolist",!0),this.errorMessage=null)}},onNewValueFieldChange:{value:function(){this.validateIsRequired(this.values)}}}),jfListMakerController}()},function(module,exports){"use strict";function jfActions($timeout){"ngInject";return{scope:{parentController:"=",label:"@",initMethod:"@",fixedActionsNames:"=",disableMouseOverEvents:"@?",showDropDownForOneItem:"="},restrict:"EA",controller:jfActionsController,controllerAs:"jfActions",templateUrl:"directives/jf_actions/jf_actions.html",bindToController:!0,link:function($scope,element,attr,jfActions){var dropdownOver=!1,buttonOver=!1,$dropdownElement=$(element).find(".actions-more"),$buttonElement=$(element).find(".action-button"),stayOpened=!1,clicked=!1;jfActions.disableMouseOverEvents=void 0!==jfActions.disableMouseOverEvents,jfActions.disableMouseOverEvents||($dropdownElement.on("mouseup",function(){stayOpened||(clicked=!0)}),$dropdownElement.on("mouseenter",function(){buttonOver=!0,jfActions._toggleDropdown(!0)}),$dropdownElement.on("mouseleave",function(){buttonOver=!1,stayOpened||jfActions._toggleDropdown(dropdownOver)}),$buttonElement.on("mouseenter",function(){dropdownOver=!0,jfActions._toggleDropdown(!0)}),$buttonElement.on("mouseleave",function(){dropdownOver=!1,stayOpened||$timeout(function(){jfActions._toggleDropdown(buttonOver||dropdownOver)},200)}));var unwatch=$scope.$watch("jfActions.isDropdownOpen",function(newVal,oldVal){!newVal&&clicked?(jfActions.isDropdownOpen=!0,clicked=!1,stayOpened=!0):!newVal&&stayOpened&&(stayOpened=!1)});$scope.$on("$destroy",function(){jfActions.disableMouseOverEvents||($dropdownElement.off("mouseup"),$dropdownElement.off("mouseenter"),$dropdownElement.off("mouseleave"),$buttonElement.off("mouseenter"),$buttonElement.off("mouseleave")),unwatch()}),jfActions.showDropdown=function(){stayOpened=!0,clicked=!0,buttonOver=!0,dropdownOver=!0,jfActions._toggleDropdown(!0)},jfActions.hideDropdown=function(){stayOpened=!1,clicked=!1,buttonOver=!1,dropdownOver=!1,jfActions._toggleDropdown(!1)}}}}jfActions.$inject=["$timeout"];var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfActions=jfActions,Object.defineProperty(exports,"__esModule",{value:!0});var jfActionsController=function(){function jfActionsController($scope,$timeout){var _this=this;_classCallCheck(this,jfActionsController),this.$scope=$scope,this.$timeout=$timeout,this.isDropdownOpen=!1,this.$scope.$watch("jfActions.hasSingleVisibleAction()",function(newVal,oldVal){newVal!==oldVal&&_this._divideActions()})}return jfActionsController.$inject=["$scope","$timeout"],_createClass(jfActionsController,{$onInit:{value:function(){this.label||(this.label="Actions"),this.parentController&&this.initMethod&&this.parentController[this.initMethod]?this.parentController[this.initMethod](this):console.error("jfActionsController: Missing parent-controller & init-method attributes")}},setActionsHandler:{value:function(actionsHandler){this.actionsHandler=actionsHandler}},setCurrentEntity:{value:function(entity){this.currentEntity=entity}},setActionsDictionary:{value:function(actionsDictionary){this.actionsDictionary=actionsDictionary}},setActions:{value:function(actions){this.actions=actions||[],this._transformActionsData()}},doAction:{value:function(actionObj,e){return actionObj.disabled||actionObj.disabledWhen&&actionObj.disabledWhen()?(e.stopPropagation(),void e.preventDefault()):("Download"===actionObj.name&&actionObj.xrayShouldValidate&&e.preventDefault(),void(this.actionsHandler?this.actionsHandler.perform(actionObj,this.currentEntity):actionObj.action&&actionObj.action(this.currentEntity)))}},getActiveActionsCount:{value:function(){return this.actions&&this.actions.length?_.filter(this.actions,function(act){return!act.visibleWhen||act.visibleWhen()}).length:0}},_toggleDropdown:{value:function(isOpen){var _this=this;this.$timeout(function(){_this.isDropdownOpen=isOpen})}},_transformActionsData:{value:function(){var _this=this;this.actions.forEach(function(actionObj){return _this.actionsDictionary[actionObj.name]?void angular.extend(actionObj,_this.actionsDictionary[actionObj.name]):(console.log("Unrecognized action",actionObj.name),!0)}),this._divideActions()}},_divideActions:{value:function(){var _this=this;return this.fixedActions=[],this.dynamicActions=[],this.hasSingleVisibleAction()?void this.fixedActions.push(this.actions.find(function(action){return!action.visibleWhen||action.visibleWhen()})):(_.forEach(this.actions,function(actionObj){_.contains(_this.fixedActionsNames,actionObj.name)?_this.fixedActions.push(actionObj):(_this.dynamicActions.push(actionObj),actionObj.icon&&(_this.anyActionHasAnIcon=!0))}),void(0!==this.fixedActions.length||1!==this.dynamicActions.length||this.showDropDownForOneItem||this.fixedActions.push(this.dynamicActions.pop())))}},hasSingleVisibleAction:{value:function(){
return 1===this.getActiveActionsCount()&&!this.showDropDownForOneItem}}}),jfActionsController}()},function(module,exports){"use strict";function jfOnOffSwitch(){return{restrict:"E",scope:{selected:"=",options:"<"},controller:jfOnOffSwitchController,controllerAs:"$ctrl",bindToController:!0,templateUrl:"directives/jf_on_off_switch/jf_on_off_switch.html"}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};module.exports=jfOnOffSwitch;var jfOnOffSwitchController=function(){function jfOnOffSwitchController(){_classCallCheck(this,jfOnOffSwitchController)}return _createClass(jfOnOffSwitchController,{$onInit:{value:function(){if(!this.options)throw"Must supply options";this.on=this.options[0],this.off=this.options[1],_.isEmpty(this.selected)&&(this.selected=this.on),this.isOn=this.selected===this.on}},toggleSelection:{value:function(){this.selected=this.selected===this.on?this.off:this.on}}}),jfOnOffSwitchController}()},function(module,exports){"use strict";function jfSwitchToggler(){return{restrict:"E",scope:{model:"=",options:"<"},controller:jfSwitchTogglerController,controllerAs:"$ctrl",bindToController:!0,templateUrl:"directives/jf_switch_toggler/jf_switch_toggler.html"}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};module.exports=jfSwitchToggler;var jfSwitchTogglerController=function(){function jfSwitchTogglerController(){_classCallCheck(this,jfSwitchTogglerController)}return _createClass(jfSwitchTogglerController,{$onInit:{value:function(){if(!this.options)throw"Must supply options";this.setOptionObjects(),_.isEmpty(this.model)&&(this.model=this.leftOption.value),this.isLeftOptionOn=this.model===this.leftOption.value}},toggleSelection:{value:function(){this.model=this.model===this.leftOption.value?this.rightOption.value:this.leftOption.value}},setOptionObjects:{value:function(){var optionObjects=this.options.map(function(option){return"string"==typeof option?{value:option,text:option}:option});this.leftOption=optionObjects[0],this.rightOption=optionObjects[1]}}}),jfSwitchTogglerController}()},function(module,exports){"use strict";function jfTabularDnD(){return{restrict:"E",scope:{availableItems:"=",selectedItems:"=",itemClassAttr:"@?",itemDraggableAttr:"@?",columns:"=",numberOfRows:"@?",availableItemsColumns:"=?",selectedItemsColumns:"=?",onChange:"&?",onRowClick:"&?",entityName:"@?",appScope:"=?",disableWholeRowSelection:"=?",disabled:"=ngDisabled"},templateUrl:"directives/jf_tabular_dnd/jf_tabular_dnd.html",controller:jfTabularDnDController,controllerAs:"jfTabularDnD",bindToController:!0}}var _slicedToArray=function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr)){for(var _step,_arr=[],_iterator=arr[Symbol.iterator]();!(_step=_iterator.next()).done&&(_arr.push(_step.value),!i||_arr.length!==i););return _arr}throw new TypeError("Invalid attempt to destructure non-iterable instance")},_createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfTabularDnD=jfTabularDnD,Object.defineProperty(exports,"__esModule",{value:!0});var jfTabularDnDController=function(){function jfTabularDnDController($element,$scope,JFrogTableViewOptions){_classCallCheck(this,jfTabularDnDController),this.$scope=$scope,this.$element=$element,this.JFrogTableViewOptions=JFrogTableViewOptions}return jfTabularDnDController.$inject=["$element","$scope","JFrogTableViewOptions"],_createClass(jfTabularDnDController,{$onInit:{value:function(){this.columns&&(this.availableItemsColumns=_.cloneDeep(this.columns),this.selectedItemsColumns=_.cloneDeep(this.columns)),this.availableContainer=$(this.$element).find(".available-table"),this.selectedContainer=$(this.$element).find(".selected-table"),this.createTables()}},createAutoColumns:{value:function(){var _this=this;["availableItemsColumns","selectedItemsColumns"].forEach(function(columnsArrayName){var newColumnsArray=_.map(_this[columnsArrayName],function(column){return _.isObject(column)?column:_.isString(column)?{field:column}:void 0});Array.prototype.splice.apply(_this[columnsArrayName],[0,_this[columnsArrayName].length].concat(newColumnsArray))})}},createTables:{value:function(){var _this=this;this.createAutoColumns(),this.numberOfRows||(this.numberOfRows=8),this.availableItemsTableOptions=new this.JFrogTableViewOptions(this.appScope||this.$scope),this.selectedItemsTableOptions=new this.JFrogTableViewOptions(this.appScope||this.$scope);var emptyPlaceholdersStyle={height:50*this.numberOfRows+"px","line-height":50*this.numberOfRows+"px"};this.availableItemsTableOptions._registerTabularDnd(this,"available",this.selectedItemsTableOptions,emptyPlaceholdersStyle),this.selectedItemsTableOptions._registerTabularDnd(this,"selected",this.availableItemsTableOptions,emptyPlaceholdersStyle);var _getObjectNames=this._getObjectNames(),availableObjectName=_getObjectNames.availableObjectName,selectedObjectName=_getObjectNames.selectedObjectName;if(this.availableItemsTableOptions.setColumns(this.availableItemsColumns).setSelection(this.availableItemsTableOptions.MULTI_SELECTION).setPaginationMode(this.availableItemsTableOptions.VIRTUAL_SCROLL).showPagination(!1).setDraggable().setRowsPerPage(parseInt(this.numberOfRows)).setObjectName(availableObjectName).setRowClassAttr(this.itemClassAttr).disableFilterWhen(function(){return _this.disabled}).setEmptyTableText(this.availableItems.length||this.selectedItems.length?"Drag row here":"No data found"),this.selectedItemsTableOptions.setColumns(this.selectedItemsColumns).setSelection(this.selectedItemsTableOptions.MULTI_SELECTION).setPaginationMode(this.selectedItemsTableOptions.VIRTUAL_SCROLL).showPagination(!1).setDraggable().setRowsPerPage(parseInt(this.numberOfRows)).setObjectName(selectedObjectName).setRowClassAttr(this.itemClassAttr).disableFilterWhen(function(){return _this.disabled}).setEmptyTableText("Drag row here"),this.selectedItemsTableOptions.isRowSelectable=this.availableItemsTableOptions.isRowSelectable=function(row){return _this._isItemDraggable(row.entity)},!this.disableWholeRowSelection){var toggleSelection=function(row){!_this.disabled&&(!_this.itemDraggableAttr||row.entity.hasOwnProperty(""+_this.itemDraggableAttr)&&row.entity[_this.itemDraggableAttr])&&(row.entity.$selected=!row.entity.$selected)};this.availableItemsTableOptions.on("row.clicked",toggleSelection),this.selectedItemsTableOptions.on("row.clicked",toggleSelection)}this.onRowClick&&(this.availableItemsTableOptions.on("row.clicked",function(row){return _this.onRowClick({row:row.entity,list:"available"})}),this.selectedItemsTableOptions.on("row.clicked",function(row){return _this.onRowClick({row:row.entity,list:"selected"})})),this.availableItemsTableOptions.on("selection.change",function(){_this.disabled&&_this.availableItemsTableOptions.clearSelection()}),this.selectedItemsTableOptions.on("selection.change",function(){_this.disabled&&_this.selectedItemsTableOptions.clearSelection()}),this.$scope.$watch("jfTabularDnD.disabled",function(){_this.disabled&&(_this.selectedItemsTableOptions.clearSelection(),_this.availableItemsTableOptions.clearSelection())}),this.availableItemsTableOptions.setData(this.availableItems),this.selectedItemsTableOptions.setData(this.selectedItems)}},_getObjectNames:{value:function(){var availableObjectName=void 0,selectedObjectName=void 0;if(this.entityName)if(this.entityName.indexOf("/")!==-1){var _entityName$split=this.entityName.split("/"),_entityName$split2=_slicedToArray(_entityName$split,2),single=_entityName$split2[0],plural=_entityName$split2[1];availableObjectName="Available "+single+"/Available "+plural,selectedObjectName="Included "+single+"/Included "+plural}else availableObjectName="Available "+this.entityName,selectedObjectName="Included "+this.entityName;else availableObjectName="Available Item",selectedObjectName="Included Item";return{availableObjectName:availableObjectName,selectedObjectName:selectedObjectName}}},areAllRowsDisabled:{value:function(allFilteredRows){var _this=this;if(!allFilteredRows||!allFilteredRows.length)return!0;if(allFilteredRows.length&&!this.itemDraggableAttr)return!1;var allDraggableRows=_.filter(allFilteredRows,function(rowEntity){return!rowEntity.hasOwnProperty(""+_this.itemDraggableAttr)||rowEntity[_this.itemDraggableAttr]});return!allDraggableRows||0===allDraggableRows.length}},isIncludeListEmpty:{value:function(){return!this.selectedItemsTableOptions.dirCtrl||!this.selectedItemsTableOptions.getFilteredData().length}},isExcludeListEmpty:{value:function(){return!this.availableItemsTableOptions.dirCtrl||!this.availableItemsTableOptions.getFilteredData().length}},isIncludeListItemSelected:{value:function(){if(!this.selectedItemsTableOptions.dirCtrl)return!1;var selected=this.selectedItemsTableOptions.getSelected(),filtered=this.selectedItemsTableOptions.getFilteredData();return selected=_.filter(selected,function(item){return _.includes(filtered,item)}),!!selected.length}},isExcludeListItemSelected:{value:function(){if(!this.availableItemsTableOptions.dirCtrl)return!1;var selected=this.availableItemsTableOptions.getSelected(),filtered=this.availableItemsTableOptions.getFilteredData();return selected=_.filter(selected,function(item){return _.includes(filtered,item)}),!!selected.length}},isExcludeAllActionDisabled:{value:function(){return this.isIncludeListEmpty()||this.areAllRowsDisabled(this.selectedItemsTableOptions.getFilteredData())||this.disabled}},excludeAll:{value:function(){if(!this.isExcludeAllActionDisabled()){var selected=this.selectedItemsTableOptions.getSelected();selected.forEach(function(s){return delete s.$selected}),this.selectedItemsTableOptions.dirCtrl.allSelected=!1;var filtered=this.selectedItemsTableOptions.getFilteredData();filtered=this._getOnlyDraggables(filtered),Array.prototype.splice.apply(this.availableItems,[this.availableItems.length,0].concat(filtered)),_.remove(this.selectedItems,function(i){return _.includes(filtered,i)}),this._refreshBothTables(),this._fireOnChange()}}},isIncludeAllActionDisabled:{value:function(){return this.isExcludeListEmpty()||this.areAllRowsDisabled(this.availableItemsTableOptions.getFilteredData())||this.disabled}},includeAll:{value:function(){if(!this.isIncludeAllActionDisabled()){var selected=this.availableItemsTableOptions.getSelected();selected.forEach(function(s){return delete s.$selected}),this.availableItemsTableOptions.dirCtrl.allSelected=!1;var filtered=this.availableItemsTableOptions.getFilteredData();filtered=this._getOnlyDraggables(filtered),Array.prototype.splice.apply(this.selectedItems,[this.selectedItems.length,0].concat(filtered)),_.remove(this.availableItems,function(i){return _.includes(filtered,i)}),this._refreshBothTables(),this._fireOnChange()}}},excludeSelected:{value:function(){if(this.isIncludeListItemSelected()&&!this.disabled){var selected=this.selectedItemsTableOptions.getSelected();selected.forEach(function(s){return delete s.$selected}),this.selectedItemsTableOptions.dirCtrl.allSelected=!1;var filtered=this.selectedItemsTableOptions.getFilteredData();_.remove(selected,function(i){return!_.includes(filtered,i)}),selected=this._getOnlyDraggables(selected),Array.prototype.splice.apply(this.availableItems,[this.availableItems.length,0].concat(selected)),_.remove(this.selectedItems,function(item){return _.includes(selected,item)}),this._refreshBothTables(),this._fireOnChange()}}},includeSelected:{value:function(){if(this.isExcludeListItemSelected()&&!this.disabled){var selected=this.availableItemsTableOptions.getSelected();selected.forEach(function(s){return delete s.$selected}),this.availableItemsTableOptions.dirCtrl.allSelected=!1;var filtered=this.availableItemsTableOptions.getFilteredData();_.remove(selected,function(i){return!_.includes(filtered,i)}),selected=this._getOnlyDraggables(selected),Array.prototype.splice.apply(this.selectedItems,[this.selectedItems.length,0].concat(selected)),_.remove(this.availableItems,function(item){return _.includes(selected,item)}),this._refreshBothTables(),this._fireOnChange()}}},_getOnlyDraggables:{value:function(array){var _this=this;return this.itemDraggableAttr?_.filter(array,function(item){return _this._isItemDraggable(item)}):array}},_isItemDraggable:{value:function(item){return!this.itemDraggableAttr||_.isUndefined(item[this.itemDraggableAttr])||item[this.itemDraggableAttr]}},_refreshBothTables:{value:function(){[this.availableItemsTableOptions,this.selectedItemsTableOptions].forEach(function(tableOptions){tableOptions.update(),tableOptions.refreshFilter()})}},onDragTransfer:{value:function(draggedRows,originTableOptions){draggedRows.forEach(function(draggedRow){return delete draggedRow.$selected}),originTableOptions.dirCtrl.allSelected=!1,this._fireOnChange()}},_fireOnChange:{value:function(){this.onChange&&this.onChange()}}}),jfTabularDnDController}()},function(module,exports){"use strict";function jfDragDrop(){return{restrict:"E",scope:{includeList:"=",excludeList:"=",includeDisplayField:"@",excludeDisplayField:"@",includeListId:"@",excludeListId:"@",objectsName:"@",headers:"=",onChange:"&",customTemplate:"=?",customTemplateScope:"=?",usePagination:"=?",commObject:"=",disabled:"=ngDisabled"},templateUrl:"directives/jf_drag_drop/jf_drag_drop.html",controller:jfDragDropController,controllerAs:"jfDragDrop",bindToController:!0,link:function($scope,$element){$($element).on("mouseenter",".drag-item-text",function(e){var dragItem=$(e.target);dragItem.hasClass("drag-item-text")&&(dragItem[0].scrollWidth>dragItem.innerWidth()?dragItem.hasClass("tooltipstered")?(dragItem.tooltipster("enable"),dragItem.tooltipster("content")!=dragItem.text().trim()&&dragItem.tooltipster("content",dragItem.text().trim())):(dragItem.tooltipster({animation:"fade",trigger:"hover",onlyOne:"true",interactive:"true",position:"bottom",theme:"tooltipster-default bottom",content:dragItem.text().trim()}),dragItem.tooltipster("show")):dragItem.hasClass("tooltipstered")&&dragItem.tooltipster("disable"))})}}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfDragDrop=jfDragDrop,Object.defineProperty(exports,"__esModule",{value:!0});var jfDragDropController=function(){function jfDragDropController($attrs,$interval,$element,$scope,$timeout,$compile){_classCallCheck(this,jfDragDropController),this.$element=$element,this.$scope=$scope,this.$compile=$compile,this.$timeout=$timeout,this.$interval=$interval,this.draggedObject=null,this.PLACEHOLDER={"@@@DNDPH@@@":"@@@DNDPH@@@"},this.selectedItems=[]}return jfDragDropController.$inject=["$attrs","$interval","$element","$scope","$timeout","$compile"],_createClass(jfDragDropController,{$onInit:{value:function(){var _this=this;this.includeList||(this.includeList=[]),_.remove(this.excludeList,function(excludeItem){return _.find(_this.includeList,function(includeItem){return angular.equals(includeItem,excludeItem)})}),this.usePagination&&this._initPagination();var randomId=Math.floor(1e9*Math.random());this.includeListId||(this.includeListId="include-list-"+randomId),this.excludeListId||(this.excludeListId="exclude-list-"+randomId),this.commObject&&_.extend(this.commObject,{updateFilter:function(){return _this.updateFilter()},excludeAll:function(){return _this.excludeAll()},excludeSelected:function(){return _this.excludeSelected()},excludeSpecific:function(item){return _this.excludeSelected(item)},includeAll:function(){return _this.includeAll()},includeSelected:function(){return _this.includeSelected()},includeSpecific:function(item){return _this.includeSelected(item)}}),this._initWatchers()}},_initWatchers:{value:function(){var _this=this;this.$scope.$watch("jfDragDrop.includeList",function(){_this.filterIncludeCache=_.filter(_this.includeList,function(item){return!_this._isExcludeFilteredOut(item)})},!0),this.$scope.$watch("jfDragDrop.excludeList",function(){_this.filterExcludeCache=_.filter(_this.excludeList,function(item){return!_this._isIncludeFilteredOut(item)})},!0)}},excludeAll:{value:function(){var _this=this;if(!(this.disabled||this.isIncludeListEmpty()||this.isIncludeListFixed())){var filteredOut=[];this.includeList.forEach(function(item){_.isObject(item)&&(item.__fixed__=void 0),_this.filterIncludeList&&_this._isExcludeFilteredOut(item)?filteredOut.push(item):_this.excludeList.push(item)}),this.includeList=filteredOut,this._clearSelectedItems(),this.updateFilter(),this._updatePagination(),this.$timeout(function(){_this.onChange&&_this.onChange()})}}},excludeSelected:{value:function(){var _this=this;!this.disabled&&this.isIncludeListItemSelected()&&(this._filterSelection("inc"),this.selectedItems.forEach(function(item){_.isObject(item)&&item.__fixed__||(_this.includeList.splice(_this.includeList.indexOf(item),1),_this.excludeList.indexOf(item)<0&&_this.excludeList.push(item))}),this._clearSelectedItems(),this.updateFilter(),this._updatePagination(),this.onChange&&this.onChange())}},excludeSpecific:{value:function(item){if(!this.disabled&&!item.__fixed__){for(var picked,i=this.includeList.length-1;i>=0;i--)if(this.includeList[i]==item){picked=this.includeList.splice(i,1)[0],this._removeItemFromSelection(picked);break}picked&&this.excludeList.push(picked),this.updateFilter(),this._updatePagination(),this.onChange&&this.onChange()}}},includeSpecific:{value:function(item){if(!this.disabled){for(var picked,i=this.excludeList.length-1;i>=0;i--)if(this.excludeList[i]==item){picked=this.excludeList.splice(i,1)[0],this._removeItemFromSelection(picked);break}picked&&(_.isObject(picked)&&(picked.__fixed__=void 0),this.includeList.push(picked)),this.updateFilter(),this._updatePagination(),this.onChange&&this.onChange()}}},includeAll:{value:function(){var _this=this;if(!this.disabled&&!this.isExcludeListEmpty()){var filteredOut=[];this.excludeList.forEach(function(item){_.isObject(item)&&(item.__fixed__=void 0),_this.filterExcludeList&&_this._isIncludeFilteredOut(item)?filteredOut.push(item):_this.includeList.push(item)}),this.excludeList=filteredOut,this._clearSelectedItems(),this.updateFilter(),this._updatePagination(),this.$timeout(function(){_this.onChange&&_this.onChange()})}}},includeSelected:{value:function(){var _this=this;!this.disabled&&this.isExcludeListItemSelected()&&(this._filterSelection("exc"),this.includeList||(this.includeList=[]),this.excludeList.length&&this.selectedItems.forEach(function(item){_.isObject(item)&&(item.__fixed__=void 0),_this.excludeList.splice(_this.excludeList.indexOf(item),1),_this.includeList.indexOf(item)<0&&_this.includeList.push(item)}),this._clearSelectedItems(),this.updateFilter(),this._updatePagination(),this.onChange&&this.onChange())}},toggleSelection:{value:function(item){if(!this.disabled){var index=this._inSelectedItems(item);index>-1?this.selectedItems.splice(index,1):(!_.isObject(item)||!item.__fixed__||this.includeList.indexOf(item)<0)&&this.selectedItems.push(item);var scrollParent=$(this.$element[0].querySelector(".dnd-panel")).scrollParent(),tempScrollTop=scrollParent.scrollTop();this.$element[0].querySelector(".dnd-panel").focus(),scrollParent.scrollTop(tempScrollTop)}}},isIncludeListItemSelected:{value:function(){var found=!1;if(this.includeList)for(var i=0;i<this.includeList.length;i++)if(this.selectedItems.indexOf(this.includeList[i])>-1){found=!0;break}return found}},isExcludeListItemSelected:{value:function(){var found=!1;if(this.excludeList)for(var i=0;i<this.excludeList.length;i++)if(this.selectedItems.indexOf(this.excludeList[i])>-1){found=!0;break}return found}},isExcludeListEmpty:{value:function(){if(!this.excludeList||!this.excludeList.length)return!0;var empty=!0;for(var i in this.excludeList){var item=this.excludeList[i];if(!this._isIncludeFilteredOut(item)&&item!==this.PLACEHOLDER){empty=!1;break}}return empty}},isIncludeListEmpty:{value:function(){if(!this.includeList||!this.includeList.length)return!0;var empty=!0;for(var i in this.includeList){var item=this.includeList[i];if(!this._isExcludeFilteredOut(item)&&item!==this.PLACEHOLDER){empty=!1;break}}return empty}},isIncludeListFixed:{value:function(){if(this.includeList){var fixed=!0;for(var i in this.includeList){var item=this.includeList[i];if(!_.isObject(item)||!item.__fixed__){fixed=!1;break}}return fixed}}},isSelected:{value:function(item){return this._inSelectedItems(item)>-1}},_removeItemFromSelection:{value:function(item){var index=this.selectedItems.indexOf(item);index>=0&&this.selectedItems.splice(index,1)}},_inSelectedItems:{value:function(item){return this.selectedItems.indexOf(item)}},_clearSelectedItems:{value:function(){this.selectedItems=[]}},_isIncludeFilteredOut:{value:function(item){if(!this.filterExcludeList||""===item||item===this.PLACEHOLDER)return!1;var regex=new RegExp(".*"+this.filterExcludeList.split("*").join(".*")+".*","i");return!regex.test(this.excludeDisplayField&&item[this.excludeDisplayField]?item[this.excludeDisplayField]:item)}},_isExcludeFilteredOut:{value:function(item){if(!this.filterIncludeList||""===item||item===this.PLACEHOLDER)return!1;var regex=new RegExp(".*"+this.filterIncludeList.split("*").join(".*")+".*","i");return!regex.test(this.includeDisplayField&&item[this.includeDisplayField]?item[this.includeDisplayField]:item)}},updateExcludeFilter:{value:function(){var _this=this,fromEdit=void 0!==arguments[0]&&arguments[0];this.filterExcludeCache=_.filter(this.excludeList,function(item){return!_this._isIncludeFilteredOut(item)}),fromEdit&&this._updatePagination()}},updateIncludeFilter:{value:function(){var _this=this,fromEdit=void 0!==arguments[0]&&arguments[0];this.filterIncludeCache=_.filter(this.includeList,function(item){return!_this._isExcludeFilteredOut(item)}),fromEdit&&this._updatePagination()}},updateFilter:{value:function(){var _this=this,fromEdit=void 0!==arguments[0]&&arguments[0];this.filterExcludeCache=_.filter(this.excludeList,function(item){return!_this._isIncludeFilteredOut(item)}),this.filterIncludeCache=_.filter(this.includeList,function(item){return!_this._isExcludeFilteredOut(item)}),fromEdit&&this._updatePagination()}},getFilteredExcludeList:{value:function(){var ret=this.filterExcludeCache||this.excludeList;return this.noExcludeMatches=this.excludeList&&this.excludeList.length&&!ret.length,ret}},getFilteredIncludeList:{value:function(){var ret=this.filterIncludeCache||this.includeList;return this.noIncludeMatches=this.includeList&&this.includeList.length&&!ret.length,ret}},_dragStart:{value:function(event,ui){var dragObj=this._objectFromElement(event.target);return this.disabled||dragObj.draggedFrom===this.includeList&&_.isObject(dragObj.dataObject)&&dragObj.dataObject.__fixed__?void event.preventDefault():(this._initDragObject(dragObj),this._initDragHelper(ui.helper),this._dragAdditionals(),this._insertPlaceHolder(this.draggedObject.draggedFrom,this.draggedObject.index),this.updateFilter(),void this.$scope.$apply())}},_initDragObject:{value:function(dragObj){this.draggedObject=dragObj,dragObj.draggedFrom.splice(dragObj.index,1),this.$scope.$apply()}},_initDragHelper:{value:function(helper){this.draggedObject.helper=helper,helper.addClass("drag-helper");var xicon=helper.find(".delete-drop-item");xicon&&xicon.remove()}},_dragAdditionals:{value:function(){var _this=this;this.selectedItems.length&&(this._inSelectedItems(this.draggedObject.dataObject)>=0&&this.toggleSelection(this.draggedObject.dataObject),this.draggedObject.additionals=[],this.selectedItems.forEach(function(selected){var index=void 0;index=_this.draggedObject.draggedFrom===_this.excludeList?_this.getFilteredExcludeList().indexOf(selected):_this.draggedObject.draggedFrom.indexOf(selected),index>=0&&_this.draggedObject.additionals.push(selected)}),this._clearSelectedItems(),this.$scope.$apply(function(){_this.draggedObject.additionals.forEach(function(selected){_this.draggedObject.draggedFrom.splice(_this.draggedObject.draggedFrom.indexOf(selected),1)}),_this.draggedObject.additionals.length>0&&_this.draggedObject.helper.addClass("multiple").html("<span>&equiv;</span>"+(1+_this.draggedObject.additionals.length)+" "+(_this.objectsName?_this.objectsName:"Items"))}))}},_dragStop:{value:function(event,ui){var _this=this;if(this.draggedObject){var ph=this._removePlaceHolder();if(this.mouseInExclude||this.mouseInInclude){var droppedInArray=this.mouseInExclude?this.excludeList:this.includeList;ph&&ph.array===droppedInArray?droppedInArray.splice(ph.index,0,this.draggedObject.dataObject):droppedInArray.push(this.draggedObject.dataObject)}else this.draggedObject.draggedFrom.splice(this.draggedObject.index,0,this.draggedObject.dataObject);_.isObject(this.draggedObject.dataObject)&&(this.draggedObject.dataObject.__fixed__=void 0),this._stopScrollInterval(),this.$scope.$apply(),this._undragAdditionals(ph.index+1),this._initDragAndDropOnElement(this._elementFromObject(this.draggedObject.dataObject)),this.draggedObject=null,this._clearSelectedItems(),this.$timeout(function(){_this.updateFilter()}),this._updatePagination(),this.onChange&&this.onChange()}}},_dragMove:{value:function(event,ui){var _this=this;this.$scope.$apply(function(){var list_element=$(event.originalEvent.target);if(list_element.hasClass("dnd-list-wrapper")||(list_element=list_element.parents(".dnd-list-wrapper")),list_element&&list_element.hasClass("dnd-list-wrapper")){var dragOffsetY=event.pageY-list_element.offset().top;list_element.scrollTop()>0&&dragOffsetY>0&&dragOffsetY<20&&!_this.scrollInterval?list_element.scrollTop(list_element.scrollTop()-5):dragOffsetY>list_element.outerHeight()-20&&dragOffsetY<list_element.outerHeight()&&!_this.scrollInterval&&list_element.scrollTop(list_element.scrollTop()+5)}})}},_stopScrollInterval:{value:function(){this.scrollInterval&&(this.$interval.cancel(this.scrollInterval),this.scrollInterval=null)}},_undragAdditionals:{value:function(startIndex){var _this=this;this.draggedObject.additionals&&!function(){var next=startIndex;_this.$scope.$apply(function(){_this.draggedObject.additionals.forEach(function(additional){_this.mouseInInclude?_this.includeList.splice(next,0,additional):_this.mouseInExclude?_this.excludeList.splice(next,0,additional):_this.draggedObject.draggedFrom.splice(next,0,additional),_.isObject(additional)&&(additional.__fixed__=void 0),_this._initDragAndDropOnElement(_this._elementFromObject(additional)),next++})})}()}},_initDragAndDropOnElement:{value:function(elem){var _this=this;elem&&!elem.hasClass("drag-enabled")&&(elem.draggable({helper:"clone",cursorAt:{left:-5,top:-5},scroll:!1,distance:10,start:function(event,ui){return _this._dragStart(event,ui)},stop:function(event,ui){return _this._dragStop(event,ui)},drag:function(event,ui){return _this._dragMove(event,ui)}}),elem.addClass("drag-enabled"))}},_objectFromElement:{value:function(elem){var dataIndex=$(elem).attr("data-index"),parsed=dataIndex.split("-"),array=void 0;"inc"===parsed[0]?array=this.includeList:"exc"===parsed[0]&&(array=this.excludeList);var index=parsed[1];if(array===this.excludeList){var _obj=this.getViewableExcludes()[index];index=this.excludeList.indexOf(_obj)}else{var _obj2=this.getViewableIncludes()[index];index=this.includeList.indexOf(_obj2)}var obj={draggedFrom:array,dataObject:array[index],index:index,phIndex:null,phArray:null};return obj}},_elementFromObject:{value:function(obj){var iexc=this.getViewableExcludes().indexOf(obj),iinc=this.getViewableIncludes().indexOf(obj),array=iexc>=0?"exc":iinc>=0?"inc":"",index=iexc>=0?iexc:iinc>=0?iinc:-1;return index<0?null:$(this.$element).find("li[data-index="+array+"-"+index+"]")}},mouseIsInInclude:{value:function(isIn){this.mouseInInclude=isIn,this.mouseInInclude&&(this.mouseInExclude=!1),isIn&&this.draggedObject&&this.draggedObject.phArray!==this.includeList&&this._insertPlaceHolder(this.includeList,this.includeList.length)}},mouseIsInExclude:{value:function(isIn){this.mouseInExclude=isIn,this.mouseInExclude&&(this.mouseInInclude=!1),isIn&&this.draggedObject&&this.draggedObject.phArray!==this.excludeList&&this._insertPlaceHolder(this.excludeList,this.excludeList.length)}},initDragElement:{value:function(item){var _this=this;this.$timeout(function(){var elem=_this._elementFromObject(item);_this._initDragAndDropOnElement(elem)})}},mouseOver:{value:function(item){if(null!=item&&this.draggedObject){var iexc=this.excludeList.indexOf(item),iinc=this.includeList.indexOf(item),array=iexc>=0?this.excludeList:iinc>=0?this.includeList:null,index=iexc>=0?iexc:iinc>=0?iinc:-1;array&&this._insertPlaceHolder(array,index)}else null!=item&&this.initDragElement(item)}},_insertPlaceHolder:{value:function(array,index){this._removePlaceHolder(),array.splice(index,0,this.PLACEHOLDER),this.draggedObject.phIndex=index,this.draggedObject.phArray=array,this.updateFilter()}},_findPlaceHolder:{value:function(){var phIndexExc=this.excludeList.indexOf(this.PLACEHOLDER),phIndexInc=this.includeList.indexOf(this.PLACEHOLDER);return phIndexExc>=0?{array:this.excludeList,index:phIndexExc}:phIndexInc>=0?{array:this.includeList,index:phIndexInc}:null}},_removePlaceHolder:{value:function(){var ph=this._findPlaceHolder();return ph&&(ph.array.splice(ph.index,1),this.draggedObject.phIndex=null),ph}},onKeyDown:{value:function(e){e.shiftKey&&e.ctrlKey&&(65===e.which||97===e.which)?this._clearSelectedItems():!e.ctrlKey||65!==e.which&&97!==e.which||(e.preventDefault(),this.mouseInExclude?this._selectAll(this.excludeList):this.mouseInInclude&&this._selectAll(this.includeList))}},_selectAll:{value:function(array){var _this=this;this._clearSelectedItems(),array.forEach(function(item){_this.toggleSelection(item)})}},compileCustomTemplate:{value:function(item,type){var _this=this,displayField=void 0;"exc"===type?displayField="excludeDisplayField":"inc"===type&&(displayField="includeDisplayField");var elem=this._elementFromObject(item);if(elem){var template=this.customTemplate,newElem=$(template),scope=this.$scope.$new();_.extend(scope,{getItemInfo:function(){var theItem=_this._objectFromElement(elem).dataObject;return{text:_this[displayField]&&theItem&&theItem[_this[displayField]]?theItem[_this[displayField]]:theItem,item:theItem,included:"inc"===type}},userScope:this.customTemplateScope}),this.$compile(newElem)(scope);var customElem=elem.find(".custom-template");customElem[0].innerHTML="",customElem[0].appendChild(newElem[0]);
}}},_initPagination:{value:function(){this.itemsPerPage=_.isNaN(parseInt(this.usePagination))?8:parseInt(this.usePagination),this.currExcludesPage=0,this.currIncludesPage=0,this.excludesPaginationApi=new PaginationApi(this,"exc"),this.includesPaginationApi=new PaginationApi(this,"inc");var e=$('<div style="background-color: transparent" class="drag-item"><div class="drag-item-text"></div></div>');$(this.$element).find(".dnd-list")[0].appendChild(e[0]);var height=e.outerHeight(),margin=parseInt(e.css("margin-bottom"));$(this.$element).find(".dnd-list")[0].removeChild(e[0]);var listWrappers=$(this.$element).find(".dnd-list-wrapper"),wrappersHeight=2*margin+(height+margin)*this.itemsPerPage;listWrappers.css("height",wrappersHeight+"px"),listWrappers.css("overflow-y","hidden");var actions=$(this.$element).find(".dnd-actions"),actionsHeight=parseInt(actions.css("height"));actions.css("margin-top",(wrappersHeight-actionsHeight)/2+"px")}},_updatePagination:{value:function(){this.usePagination&&(this.excludesPaginationApi.update(),this.includesPaginationApi.update())}},getViewableExcludes:{value:function(){if(this.usePagination){var all=this.getFilteredExcludeList();return _.slice(all,this.currExcludesPage*this.itemsPerPage,(this.currExcludesPage+1)*this.itemsPerPage)}return this.getFilteredExcludeList()}},getViewableIncludes:{value:function(){if(this.usePagination){var all=this.getFilteredIncludeList();return _.slice(all,this.currIncludesPage*this.itemsPerPage,(this.currIncludesPage+1)*this.itemsPerPage)}return this.getFilteredIncludeList()}},_filterSelection:{value:function(leave){var _this=this;this.selectedItems=_.filter(this.selectedItems,function(item){return!!("inc"===leave&&_this.includeList&&_this.includeList.indexOf(item)>=0)||!!("exc"===leave&&_this.excludeList&&_this.excludeList.indexOf(item)>=0)})}}}),jfDragDropController}(),PaginationApi=function(){function PaginationApi(dndCtrl,listType){_classCallCheck(this,PaginationApi),this.dndCtrl=dndCtrl,this.listType=listType}return _createClass(PaginationApi,{getTotalPages:{value:function(){return this.dndCtrl.usePagination?"exc"===this.listType?Math.ceil(this.dndCtrl.getFilteredExcludeList().length/this.dndCtrl.itemsPerPage):"inc"===this.listType?Math.ceil(this.dndCtrl.getFilteredIncludeList().length/this.dndCtrl.itemsPerPage):void 0:0}},getCurrentPage:{value:function(){return this.dndCtrl.usePagination?"exc"===this.listType?this.dndCtrl.currExcludesPage+1:"inc"===this.listType?this.dndCtrl.currIncludesPage+1:void 0:0}},nextPage:{value:function(){this.getCurrentPage()!==this.getTotalPages()&&("exc"===this.listType?this.dndCtrl.currExcludesPage++:"inc"===this.listType&&this.dndCtrl.currIncludesPage++)}},prevPage:{value:function(){1!==this.getCurrentPage()&&("exc"===this.listType?this.dndCtrl.currExcludesPage--:"inc"===this.listType&&this.dndCtrl.currIncludesPage--)}},setPage:{value:function(pageNum){pageNum<1||pageNum>this.getTotalPages||("exc"===this.listType?this.dndCtrl.currExcludesPage=pageNum-1:"inc"===this.listType&&(this.dndCtrl.currIncludesPage=pageNum-1))}},update:{value:function(){this.getCurrentPage()>this.getTotalPages()&&this.setPage(this.getTotalPages()),this.listener&&this.listener(this.getCurrentPage())}},registerChangeListener:{value:function(listener){this.listener=listener}}}),PaginationApi}()},function(module,exports,__webpack_require__){"use strict";function jfDragDropPagination(){return{scope:{paginationApi:"="},controller:jfDragDropPaginationController,controllerAs:"jfDragDropPagination",bindToController:!0,templateUrl:"directives/jf_drag_drop_pagination/jf_drag_drop_pagination.html"}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfDragDropPagination=jfDragDropPagination,Object.defineProperty(exports,"__esModule",{value:!0});var GENERAL_CONSTANTS=__webpack_require__(19).GENERAL_CONSTANTS,jfDragDropPaginationController=function(){function jfDragDropPaginationController(){_classCallCheck(this,jfDragDropPaginationController),this.CONSTANTS=GENERAL_CONSTANTS}return _createClass(jfDragDropPaginationController,{$onInit:{value:function(){var _this=this;this.currentPage=0,this.pageViewModel=1,this.paginationApi&&(this.currentPage=this.paginationApi.getCurrentPage(),this.pageViewModel=this.currentPage,this.paginationApi.registerChangeListener(function(pageNum){_this.currentPage=pageNum,_this.pageViewModel=_this.currentPage}))}},onBlur:{value:function(){this.pageViewModel=parseInt(this.pageViewModel),this.pageViewModel||(this.pageViewModel=this.currentPage)}},pageChanged:{value:function(){this.pageViewModel=parseInt(this.pageViewModel),(0===this.pageViewModel||this.pageViewModel)&&(this.currentPage=this.pageViewModel,this.currentPage<1&&(this.currentPage=1),this.currentPage>this.paginationApi.getTotalPages()&&(this.currentPage=this.paginationApi.getTotalPages()),this.pageViewModel=this.currentPage,this.paginationApi.setPage(this.currentPage))}},nextPage:{value:function(){this.paginationApi.nextPage(),this.currentPage=this.paginationApi.getCurrentPage()}},prevPage:{value:function(){this.paginationApi.prevPage(),this.currentPage=this.paginationApi.getCurrentPage()}}}),jfDragDropPaginationController}()},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var GENERAL_CONSTANTS={PAGINATION_DIGIT_WIDTH_PX:8};exports.GENERAL_CONSTANTS=GENERAL_CONSTANTS},function(module,exports){"use strict";function jfToggler(){return{restrict:"E",scope:{isToggledToLeft:"=",onToggle:"&?"},controller:jfTogglerController,controllerAs:"$ctrl",bindToController:!0,templateUrl:"directives/jf_toggler/jf_toggler.html"}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};module.exports=jfToggler;var jfTogglerController=function(){function jfTogglerController(){_classCallCheck(this,jfTogglerController)}return _createClass(jfTogglerController,{$onInit:{value:function(){this.isToggledToLeft=!!this.isToggledToLeft}},toggleSelection:{value:function(){this.isToggledToLeft=!this.isToggledToLeft,this.onToggle&&"function"==typeof this.onToggle&&this.onToggle()}}}),jfTogglerController}()},function(module,exports){"use strict";function jfTooltip($sanitize){return{restrict:"A",link:function($scope,$element,$attrs){var content=""===$attrs.jfTooltip?null:$sanitize($attrs.jfTooltip);$($element).tooltipster({animation:"fade",contentAsHTML:"true",trigger:"hover",onlyOne:"true",interactive:"true",position:"bottom",theme:"tooltipster-default bottom",content:content}),$attrs.$observe("jfTooltip",function(val){val=""===val?null:$sanitize(val),$($element).tooltipster("content",val)})}}}exports.jfTooltip=jfTooltip,Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports){"use strict";function jfHelpTooltip(){return{scope:{placement:"@?",text:"@?",html:"=",maxWidth:"@"},restrict:"E",templateUrl:"directives/jf_help_tooltip/jf_help_tooltip.html",transclude:!0,link:function($scope,$element,$attrs,ctrl,$transclude){var content=$scope.text||$scope.html||$transclude().html();content&&(content=content.replace(/\n/g,"<br>"),$($element).find(".jf-tooltipster").tooltipster({animation:"fade",contentAsHTML:"true",trigger:"hover",onlyOne:"true",interactive:"true",interactiveTolerance:500,maxWidth:$scope.maxWidth||600,position:$element.placement,theme:"tooltipster-default "+$element.placement,content:content,functionReady:function(){$($element).find(".jf-tooltipster").addClass("active")},functionAfter:function(){$($element).find(".jf-tooltipster").removeClass("active")}}))}}}exports.jfHelpTooltip=jfHelpTooltip,Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports){"use strict";function jfCheckbox(){return{restrict:"E",transclude:!0,scope:{text:"@?"},controller:jfCheckboxController,controllerAs:"jfCheckbox",bindToController:!0,templateUrl:"directives/jf_checkbox/jf_checkbox.html"}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfCheckbox=jfCheckbox,Object.defineProperty(exports,"__esModule",{value:!0});var jfCheckboxController=function(){function jfCheckboxController($element,$transclude){_classCallCheck(this,jfCheckboxController),this.$element=$element,this.$transclude=$transclude}return jfCheckboxController.$inject=["$element","$transclude"],_createClass(jfCheckboxController,{$postLink:{value:function(){var _this=this;this.$transclude(function(clone){_this.$element.find("label").prepend(clone)})}}}),jfCheckboxController}()},function(module,exports){"use strict";function jfSwitch(){return{restrict:"E",require:"ngModel",scope:{jfSwitchTitle:"@",options:"=",ngModel:"=",controller:"=?",disabled:"=ngDisabled",helpTooltip:"=",jfSwitchClass:"@",watchOptions:"<?"},link:function($scope,attrs,$element,ngModelCtrl){$scope.jfSwitch.ngModelCtrl=ngModelCtrl},controller:jfSwitchController,controllerAs:"jfSwitch",bindToController:!0,templateUrl:"directives/jf_switch/jf_switch.html"}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfSwitch=jfSwitch,Object.defineProperty(exports,"__esModule",{value:!0});var jfSwitchController=function(){function jfSwitchController($scope){_classCallCheck(this,jfSwitchController),this.$scope=$scope}return _createClass(jfSwitchController,{$onInit:{value:function(){var _this=this;if(!this.options)throw"Must supply options";this.controller=this,this.updateOptionObjects(),_.isEmpty(this.ngModel)&&(this.ngModel=this.optionObjects[0].value),this.watchOptions&&this.$scope.$watch("jfSwitch.options.length",function(){_this.updateOptionObjects()})}},updateOptionObjects:{value:function(){this.optionObjects=this.options.map(function(option){return"string"==typeof option?{value:option,text:option}:option})}},selectOption:{value:function(option){this.disabled||this.ngModelCtrl.$setViewValue(option.value)}},isSelected:{value:function(option){return this.ngModel===option.value}}}),jfSwitchController}()},function(module,exports){"use strict";function jfGrid($timeout,$compile){"ngInject";var isNoTooltip=function(cell){return cell[0]&&cell[0].classList&&cell[0].classList.contains("no-tooltip")};return{scope:{gridOptions:"=",filterField:"@?",filterField2:"@?",filterOnChange:"@?",autoFocus:"@",objectName:"@"},templateUrl:"directives/jf_grid/jf_grid.html",link:function($scope,$element,$attrs){$scope.gridOptions.gridObjectName=$scope.objectName,$scope.noCount=$attrs.hasOwnProperty("noCount"),$scope.noPagination=$attrs.hasOwnProperty("noPagination"),$($element).on("mouseenter",".ui-grid-cell, .ui-grid-cell-contents, .btn-action",function(e){var cellItem=$(e.target);if(cellItem.parents(".ui-grid-row").addClass("hovered"),$scope.$apply(),cellItem.hasClass("ui-grid-cell-contents")){var cellItemContent=cellItem.text().trim();cellItemContent.length>0&&cellItem[0].scrollWidth>cellItem.innerWidth()?cellItem.hasClass("tooltipstered")||isNoTooltip(cellItem)?isNoTooltip(cellItem)||(cellItem.tooltipster("enable"),cellItem.tooltipster("content")!=cellItemContent&&cellItem.tooltipster("content",cellItemContent)):(cellItem.tooltipster({animation:"fade",trigger:"hover",onlyOne:"true",interactive:"true",position:"bottom",theme:"tooltipster-default bottom",content:cellItemContent}),cellItem.tooltipster("show")):cellItem.hasClass("tooltipstered")&&cellItem.tooltipster("disable")}}).on("mouseleave",".ui-grid-draggable-row, .ui-grid-cell, .ui-grid-cell-contents, .btn-action",function(e){var currentRowElement=$(e.currentTarget).parents(".ui-grid-row"),toRowElement=$(e.relatedTarget).parents(".ui-grid-row");toRowElement&&currentRowElement.is(toRowElement)||(currentRowElement.removeClass("hovered"),$scope.$apply())}),$scope.$on("$destroy",function(){$($element).off("mouseenter"),$($element).off("mouseleave"),$scope.gridOptions.onDestroy()}),$scope.getTotalRecords=function(){var count=void 0;if(!$scope.gridOptions.api)return 0;var visRows=$scope.gridOptions.api.grid.getVisibleRows(),totalRows=$scope.gridOptions.totalItems||$scope.gridOptions.api.grid.rows.length;count=_.findWhere(visRows,{entity:{_emptyRow:!0}})?totalRows-1:totalRows,count-=_.filter($scope.gridOptions.api.grid.rows,{entity:{__doNotCount__:!0}}).length,count-=_.filter($scope.gridOptions.api.grid.rows,function(row){return row.entity.$parentRow}).length;var recordsName=void 0;if($scope.objectName)if($scope.objectName.indexOf("/")>=0){var splited=$scope.objectName.split("/");recordsName=1!==count?splited[1]:splited[0]}else recordsName=1!==count?$scope.objectName+"s":$scope.objectName;else recordsName=1!==count?"records":"record";return count+" "+_.startCase(recordsName)},$scope.getSelectedRecords=function(){if(!$scope.gridOptions.multiSelect||!$scope.gridOptions.api||!$scope.gridOptions.api.selection)return"";var count=$scope.gridOptions.api.selection.getSelectedRows().length;return count}}}}jfGrid.$inject=["$timeout","$compile"],exports.jfGrid=jfGrid,Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports,__webpack_require__){"use strict";function jfGridPagination(){return{scope:{gridApi:"="},controller:jfGridPaginationController,controllerAs:"jfGridPagination",bindToController:!0,templateUrl:"directives/jf_grid_pagination/jf_grid_pagination.html"}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfGridPagination=jfGridPagination,Object.defineProperty(exports,"__esModule",{value:!0});var GENERAL_CONSTANTS=__webpack_require__(19).GENERAL_CONSTANTS,jfGridPaginationController=function(){function jfGridPaginationController($scope,$timeout,JFrogEventBus){var _this=this;_classCallCheck(this,jfGridPaginationController),this.$scope=$scope,this.$timeout=$timeout,this.pageViewModel=this.currentPage=1,this.CONSTANTS=GENERAL_CONSTANTS,JFrogEventBus.registerOnScope($scope,JFrogEventBus.getEventsDefinition().RESET_GRID_PAGINATION,function(){return _this.resetPagination()})}return jfGridPaginationController.$inject=["$scope","$timeout","JFrogEventBus"],_createClass(jfGridPaginationController,{$onInit:{value:function(){var _this=this;this.gridApi=this.$scope.gridApi,this.$timeout(function(){_this.gridApi.pagination&&_this.gridApi.pagination.on.paginationChanged(_this.$scope,function(pageNum){_this.currentPage=pageNum,_this.pageViewModel=_this.currentPage})})}},onBlur:{value:function(){this.pageViewModel=parseInt(this.pageViewModel),this.pageViewModel||(this.pageViewModel=this.currentPage)}},pageChanged:{value:function(){this.pageViewModel=parseInt(this.pageViewModel),(0===this.pageViewModel||this.pageViewModel)&&(this.currentPage=this.pageViewModel,this.currentPage<1&&(this.currentPage=1),this.currentPage>this.gridApi.pagination.getTotalPages()&&(this.currentPage=this.gridApi.pagination.getTotalPages()),this.pageViewModel=this.currentPage,this.gridApi.pagination.seek(this.currentPage))}},nextPage:{value:function(){this.currentPage!==this.gridApi.pagination.getTotalPages()&&(this.gridApi.pagination.nextPage(),this.currentPage=this.gridApi.pagination.getPage())}},prevPage:{value:function(){this.gridApi.pagination.previousPage(),this.currentPage=this.gridApi.pagination.getPage()}},getTotalPages:{value:function(){return this.gridApi.pagination.seek(this.currentPage),this.gridApi.pagination.getTotalPages()}},resetPagination:{value:function(){this.gridApi.pagination.seek(1),this.currentPage=1}}}),jfGridPaginationController}()},function(module,exports){"use strict";function jfGridBatchActions(){return{scope:{actions:"=",gridApi:"=",gridOptions:"="},templateUrl:"directives/jf_grid_batch_actions/jf_grid_batch_actions.html",controller:jfGridBatchActionsController,controllerAs:"jfBatchActions",bindToController:!0}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfGridBatchActions=jfGridBatchActions,Object.defineProperty(exports,"__esModule",{value:!0});var jfGridBatchActionsController=function(){function jfGridBatchActionsController($element,$scope,$timeout){var _this=this;_classCallCheck(this,jfGridBatchActionsController),this.$element=$element,this.$timeout=$timeout,this.MORE_ACTIONS={"@@MORE_ACTIONS@@":"@@MORE_ACTIONS@@"},$scope.$on("ui-layout.resize",function(){$timeout(function(){return _this.calcActionsVisibility()})}),$(window).on("resize",function(){$timeout(function(){return _this.calcActionsVisibility()})}),$scope.$watch("jfBatchActions.actions",function(){return $timeout(function(){return _this.calcActionsVisibility()})}),$scope.$watch("jfBatchActions.gridApi",function(){_this.gridApi&&(_this.gridApi.selection.on.rowSelectionChanged($scope,function(row){$timeout(function(){return _this.updateMoreActions()})}),_this.gridApi.selection.on.rowSelectionChangedBatch($scope,function(row){$timeout(function(){return _this.updateMoreActions()})}))}),$timeout(function(){return _this.calcActionsVisibility()})}return jfGridBatchActionsController.$inject=["$element","$scope","$timeout"],_createClass(jfGridBatchActionsController,{perform:{value:function(action){!this.anySelected()||action.disabledWhen&&action.disabledWhen()||action.callback&&action.callback(this.gridApi.selection.getSelectedRows())}},anySelected:{value:function(){return this.gridApi&&this.gridApi.selection.getSelectedRows().length>0}},isDisabled:{value:function(action){return!this.anySelected()||action.disabledWhen&&action.disabledWhen()}},calcActionsVisibility:{value:function(){var _this=this;if(this.actions){for(var visible=[],inDropDown=[],moreDropdownWidth=115,elems=$(this.$element).find(".grid-batch-action-wrapper:not(.more-actions)"),containerWidth=$(this.$element).width(),totalWidth=0,addTo=visible,moreActionsNewIndex=-1,moreActionsOldIndex=this.actions.indexOf(this.MORE_ACTIONS),i=0;i<elems.length;i++){var el=$(elems[i]);totalWidth+=el.width();var id=el.attr("data-action-id"),act=_.find(this.actions,{name:id}),index=this.actions.indexOf(act);if((totalWidth>containerWidth||this.moreActions&&this.moreActions.length&&totalWidth-el.width()+moreDropdownWidth>containerWidth)&&addTo===visible&&(addTo=inDropDown,moreActionsNewIndex=index,visible.length&&totalWidth-el.width()+moreDropdownWidth>containerWidth)){var last=visible.pop();inDropDown.push(last),moreActionsNewIndex=this.actions.indexOf(last)}act&&addTo.push(act)}totalWidth<containerWidth&&(inDropDown=[],visible=_.filter(this.actions,function(act){return act!==_this.MORE_ACTIONS}),moreActionsNewIndex=-1);var temp={TEMP:"TEMP"};moreActionsOldIndex!==-1&&this.actions.splice(moreActionsOldIndex,1,temp),moreActionsNewIndex!==-1&&this.actions.splice(moreActionsNewIndex,0,this.MORE_ACTIONS);var tempIndex=this.actions.indexOf(temp);tempIndex!==-1&&this.actions.splice(tempIndex,1),this.visibleActions=visible,this.moreActions=inDropDown,this.$timeout(function(){return _this.updateMoreActions()})}}},initActions:{value:function(actionsController){this.moreActionsController=actionsController,this.gridOptions&&(this.gridOptions.moreActionsController=actionsController),this.updateMoreActions()}},updateMoreActions:{value:function(){var _this=this;if(this.moreActionsController){var actionsCount=_.filter(this.actions,function(act){return act!==_this.MORE_ACTIONS}).length;this.moreActions.length<actionsCount?this.moreActionsController.label="More Actions":this.moreActions.length===actionsCount&&(this.moreActionsController.label="Actions");var dict={};this.moreActions.forEach(function(action){dict[action.name]={title:action.name,icon:"icon-"+action.icon,disabled:_this.isDisabled(action)}}),this.moreActionsController.setActionsDictionary(dict),this.moreActionsController.setActions(_.map(this.moreActions,function(action){return{name:action.name,visibleWhen:action.visibleWhen,action:action.callback}}))}}}}),jfGridBatchActionsController}()},function(module,exports){"use strict";function jfField($timeout,JFrogEventBus,$rootScope){"ngInject";return{restrict:"E",require:"^form",scope:{animated:"@",validations:"@",validationsParams:"=",autofocus:"=",invalidateOnSubmit:"@",alwaysShowErrors:"@",dontValidateDisabled:"@",delayedInit:"=",dontPushDownErrors:"="},transclude:!0,templateUrl:"directives/jf_field/jf_field.html",link:function(scope,element,attrs,form){function focusInput(){scope.autofocus&&"false"!=scope.autofocus&&(scope.formField&&(scope.formField.isAutoFocused=!0,scope.formField.isAutoFocusedFlag=!0),$timeout(function(){if(inputElement.scrollParent&&inputElement.scrollParent()){var y=inputElement.scrollParent().scrollTop();inputElement.focus(),inputElement.scrollParent().scrollTop(y)}else inputElement.focus()}))}function _onDisabledChanged(disabled){disabled?scope.formField.showErrors=!1:scope.formField.showErrors=!0}function _onFormSubmitted(formName){!formName||scope.form.$name===formName&&!scope.formField.$valid?(inputElement.addClass("invalid"),scope.formField&&(scope.formField.showErrors=!0)):(inputElement.removeClass("invalid"),scope.formField&&(scope.formField.showErrors=!1))}function _onBlur(force){$timeout(function(){scope.formField&&(force?scope.formField.showErrors=!1:scope.formField.preventShowErrors||(scope.formField.showErrors=!0))}),force||scope.formField&&scope.formField.$valid||scope.formField&&scope.formField.preventShowErrors?inputElement.removeClass("invalid"):scope.formField&&!scope.formField.isAutoFocused&&inputElement.addClass("invalid"),scope.formField&&scope.formField.isAutoFocused&&(scope.formField.isAutoFocusedFlag?scope.formField.isAutoFocusedFlag=!1:(scope.formField.isAutoFocused=!1,scope.formField.showErrors=!0,scope.formField.isAutoFocused||inputElement.addClass("invalid")))}function _onFocus(){$timeout(function(){scope.formField&&(scope.formField.showErrors=!1,scope.formField.preventShowErrors=!1,inputElement.removeClass("invalid")),scope.form.$setPristine()})}function _onKeyDown(){scope.formField&&(scope.formField.initialValue=!1,scope.formField.isAutoFocusedFlag=!1)}function _onKeyUp(){var value=inputElement.val();null!==value&&void 0!==value&&""!==value?inputElement.addClass("hascontent"):inputElement.removeClass("hascontent")}scope.validations||(scope.validations="common");var EVENTS=JFrogEventBus.getEventsDefinition(),inputElement=void 0,inputName=void 0,init=function(){inputElement=$(element.find("input")[0]),inputElement.length||(inputElement=$(element.find("textarea")[0])),inputName=inputElement.attr("name"),scope.formField=form[inputName],scope.formField&&(scope.formField.initialValue=!0),scope.form=form,scope.$watch(function(){return scope.autofocus},function(){return focusInput()}),JFrogEventBus.registerOnScope(scope,EVENTS.FORM_SUBMITTED,_onFormSubmitted),JFrogEventBus.registerOnScope(scope,EVENTS.FORM_CLEAR_FIELD_VALIDATION,function(force){_onBlur(force),scope.formField&&(scope.formField.preventShowErrors=!0)}),scope.$on("$destroy",function(){inputElement.off("blur"),inputElement.off("keyup"),inputElement.off("keydown"),inputElement.off("focus")}),inputElement.on("keydown",function(){return _onKeyDown()}),!scope.invalidateOnSubmit&&scope.validations&&(inputElement.on("blur",function(){return _onBlur()}),inputElement.on("keyup",function(){return _onKeyUp()})),(scope.invalidateOnSubmit||scope.validations)&&inputElement.on("focus",function(){return _onFocus()}),scope.dontValidateDisabled&&$rootScope.$watch(function(){return inputElement[0].disabled},function(){return _onDisabledChanged(inputElement[0].disabled)}),focusInput()};scope.delayedInit?$timeout(function(){return init()}):init()}}}jfField.$inject=["$timeout","JFrogEventBus","$rootScope"],exports.jfField=jfField,Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports,__webpack_require__){"use strict";function jfCodeMirror(){return{restrict:"E",scope:{mimeType:"@",mode:"@",model:"=",allowEdit:"=",noCursor:"=",height:"@?",apiAccess:"=",autofocus:"@",matchBrackets:"<",autoFormat:"<",autoIndent:"<",enableCopyToClipboard:"<?",clipboardCopyModel:"<?",clipboardCopyEntityName:"@?",clipboardKeepTooltipLetterCase:"<?"},controller:jfCodeController,controllerAs:"jfCodeMirror",bindToController:!0,templateUrl:"directives/jf_codemirror/jf_codemirror.html"}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfCodeMirror=jfCodeMirror,Object.defineProperty(exports,"__esModule",{value:!0});var jfCodeController=(__webpack_require__(30).search,function(){function jfCodeController($scope,$element,$timeout,JFrogUIUtils){_classCallCheck(this,jfCodeController),this.JFrogUIUtils=JFrogUIUtils,this.$element=$element,this.$scope=$scope,this.$timeout=$timeout,this.defineExtensions()}return jfCodeController.$inject=["$scope","$element","$timeout","JFrogUIUtils"],_createClass(jfCodeController,{$onInit:{value:function(){this._formatModel(),this.autofocus="true"===this.autofocus;var isReadOnlyMode=!this.allowEdit;!_.isUndefined(this.noCursor)&&this.noCursor&&(isReadOnlyMode="nocursor"),this.editorOptions={lineNumbers:!0,readOnly:isReadOnlyMode,lineWrapping:!0,mode:this.mode||"links",viewportMargin:65,autofocus:this.autofocus,mimeType:this.mimeType,matchBrackets:this.matchBrackets,onLoad:this._codeMirrorLoaded.bind(this)},this.allowEdit||(this.editorOptions.cursorBlinkRate=-1)}},_codeMirrorLoaded:{value:function(_editor){var _this=this;if(this.cmApi=_editor,this.height){var codeMirrorElement=$(this.$element).find(".CodeMirror");"flexible"===this.height?(codeMirrorElement.css("top",0),codeMirrorElement.css("bottom",0),codeMirrorElement.css("left",0),codeMirrorElement.css("right",0),codeMirrorElement.css("position","absolute")):codeMirrorElement.css("height",this.height)}$(_editor.display.wrapper).on("click",".cm-link",function(e){var url=$(_this).text();url&&window.open(url,"_blank")}),this.$scope.$on("$destroy",function(){_this.$destroyed=!0,$(_editor.display.wrapper).off("click")}),this.apiAccess&&(this.apiAccess.api=this.cmApi,this.apiAccess.onLoad&&this.apiAccess.onLoad())}},autoFormatText:{value:function(indent){var last=this.cmApi.lineCount(),start={line:0,ch:0},end={line:last};indent?this.cmApi.autoIndentRange(start,end):this.cmApi.autoFormatRange(start,end),this.cmApi.setCursor(start)}},_isJSON:{value:function(str){try{JSON.parse(str)}catch(e){return!1}return!0}},_formatModel:{value:function(){var _this=this,format=function(content){!_this.autoFormat||"javascript"!==_this.mode&&"htmlmixed"!==_this.mode||_this.$timeout(function(){_this.cmApi&&_this.cmApi.getValue().length>0&&(_this.autoFormatText(),_this.formattedModel=_this.cmApi.getValue(),_this.cmApi.refresh())}),_this._isJSON(content)?_this.formattedModel=__webpack_require__(31).js_beautify(content):_this.formattedModel=content,_this.expectChange(),_this.refreshUntilVisible()};this.allowEdit?(this.formattedModel=this.model,this.$scope.$watch("jfCodeMirror.model",function(v){_this.formattedModel!==_this.model&&(_this.formattedModel=_this.model,_this.expectChange(),_this.refreshUntilVisible())}),this.$scope.$watch("jfCodeMirror.formattedModel",function(v){_this.model=v}),this.expectChange(),this.refreshUntilVisible()):(format(this.model),this.$scope.$watch("jfCodeMirror.model",function(v){format(v)}))}},refreshUntilVisible:{value:function(){var _this=this;this.cmApi&&this.cmApi.refresh(),this.allowEdit||this.$timeout(function(){var cmText=$(_this.$element).find(".CodeMirror-code").find("pre").text().replace(/\u200B/g,"");_this.expectingChange&&cmText===_this.lastVal?(_this.cmApi&&_this.cmApi.refresh(),_this.$destroyed||_this.refreshUntilVisible()):_this.expectingChange&&(_this.expectingChange=!1,delete _this.lastVal)},100)}},expectChange:{value:function(){var cmText=$(this.$element).find(".CodeMirror-code").find("pre").text().replace(/\u200B/g,"");this.expectingChange=!0,this.lastVal=cmText}},defineExtensions:{value:function(){var _this=this;CodeMirror.defineExtension("autoFormatRange",function(from,to){for(var cm=_this.cmApi,outer=cm.getMode(),text=cm.getRange(from,to).split("\n"),state=CodeMirror.copyState(outer,cm.getTokenAt(from).state),tabSize=cm.getOption("tabSize"),out="",lines=0,atSol=0==from.ch,newline=function(){out+="\n",atSol=!0,++lines},i=0;i<text.length;++i){for(var stream=new CodeMirror.StringStream(text[i],tabSize);!stream.eol();){var inner=CodeMirror.innerMode(outer,state),style=outer.token(stream,state),cur=stream.current();stream.start=stream.pos,atSol&&!/\S/.test(cur)||(out+=cur,atSol=!1),!atSol&&inner.mode.newlineAfterToken&&inner.mode.newlineAfterToken(style,cur,stream.string.slice(stream.pos)||text[i+1]||"",inner.state)&&newline()}!stream.pos&&outer.blankLine&&outer.blankLine(state),atSol||newline()}cm.operation(function(){cm.replaceRange(out,from,to);for(var cur=from.line+1,end=from.line+lines;cur<=end;++cur)cm.indentLine(cur,"smart")})}),CodeMirror.defineExtension("autoIndentRange",function(from,to){var cmInstance=_this.cmApi;_this.cmApi.operation(function(){for(var i=from.line;i<=to.line;i++)cmInstance.indentLine(i,"smart")})})}},codeMirrorIsWithScroll:{value:function(){var codemirrorScrollBar=this.$element.find(".CodeMirror .CodeMirror-vscrollbar:not(:hidden)");
return codemirrorScrollBar&&codemirrorScrollBar.length>0}}}),jfCodeController}())},function(module,exports){"use strict";function searchOverlay(query,caseInsensitive){return"string"==typeof query?query=new RegExp(query.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),caseInsensitive?"gi":"g"):query.global||(query=new RegExp(query.source,query.ignoreCase?"gi":"g")),{token:function(stream){query.lastIndex=stream.pos;var match=query.exec(stream.string);return match&&match.index==stream.pos?(stream.pos+=match[0].length,"searching"):void(match?stream.pos=match.index:stream.skipToEnd())}}}function SearchState(){this.posFrom=this.posTo=this.query=null,this.overlay=null}function getSearchState(cm){return cm.state.search||(cm.state.search=new SearchState)}function queryCaseInsensitive(query){return"string"==typeof query&&query==query.toLowerCase()}function getSearchCursor(cm,query,pos){return cm.getSearchCursor(query,pos,queryCaseInsensitive(query))}function dialog(cm,text,shortText,deflt,f){cm.openDialog?cm.openDialog(text,f,{value:deflt,closeOnEnter:!1}):f(prompt(shortText,deflt))}function confirmDialog(cm,text,shortText,fs){cm.openConfirm?cm.openConfirm(text,fs):confirm(shortText)&&fs[0]()}function parseQuery(query){var isRE=query.match(/^\/(.*)\/([a-z]*)$/);if(isRE)try{query=new RegExp(isRE[1],isRE[2].indexOf("i")==-1?"":"i")}catch(e){}return("string"==typeof query?""==query:query.test(""))&&(query=/x^/),query}function doSearch(cm,rev){var state=getSearchState(cm);return state.query?findNext(cm,rev):void dialog(cm,queryDialog,"Search for:",cm.getSelection(),function(query){cm.operation(function(){var newQuery=parseQuery(query);newQuery!==state.query&&(state.query=newQuery,cm.removeOverlay(state.overlay,queryCaseInsensitive(state.query)),state.overlay=searchOverlay(state.query,queryCaseInsensitive(state.query)),cm.addOverlay(state.overlay),cm.showMatchesOnScrollbar&&(state.annotate&&(state.annotate.clear(),state.annotate=null),state.annotate=cm.showMatchesOnScrollbar(state.query,queryCaseInsensitive(state.query))),state.posFrom=state.posTo=cm.getCursor()),findNext(cm,rev)})})}function findNext(cm,rev){cm.operation(function(){var state=getSearchState(cm),cursor=getSearchCursor(cm,state.query,rev?state.posFrom:state.posTo);(cursor.find(rev)||(cursor=getSearchCursor(cm,state.query,rev?CodeMirror.Pos(cm.lastLine()):CodeMirror.Pos(cm.firstLine(),0)),cursor.find(rev)))&&(cm.setSelection(cursor.from(),cursor.to()),cm.scrollIntoView({from:cursor.from(),to:cursor.to()}),state.posFrom=cursor.from(),state.posTo=cursor.to())})}function clearSearch(cm){cm.operation(function(){var state=getSearchState(cm);state.query&&(state.query=null,cm.removeOverlay(state.overlay),state.annotate&&(state.annotate.clear(),state.annotate=null))})}function replace(cm,all){cm.getOption("readOnly")||dialog(cm,replaceQueryDialog,"Replace:",cm.getSelection(),function(query){query&&(query=parseQuery(query),dialog(cm,replacementQueryDialog,"Replace with:","",function(text){if(all)cm.operation(function(){for(var cursor=getSearchCursor(cm,query);cursor.findNext();)if("string"!=typeof query){var match=cm.getRange(cursor.from(),cursor.to()).match(query);cursor.replace(text.replace(/\$(\d)/g,function(_,i){return match[i]}))}else cursor.replace(text)});else{clearSearch(cm);var cursor=getSearchCursor(cm,query,cm.getCursor()),advance=function(_advance){var _advanceWrapper=function(){return _advance.apply(this,arguments)};return _advanceWrapper.toString=function(){return _advance.toString()},_advanceWrapper}(function(){var match,start=cursor.from();!(match=cursor.findNext())&&(cursor=getSearchCursor(cm,query),!(match=cursor.findNext())||start&&cursor.from().line==start.line&&cursor.from().ch==start.ch)||(cm.setSelection(cursor.from(),cursor.to()),cm.scrollIntoView({from:cursor.from(),to:cursor.to()}),confirmDialog(cm,doReplaceConfirm,"Replace?",[function(){doReplace(match)},advance]))}),doReplace=function(match){cursor.replace("string"==typeof query?text:text.replace(/\$(\d)/g,function(_,i){return match[i]})),advance()};advance()}}))})}function search(){}exports.search=search,Object.defineProperty(exports,"__esModule",{value:!0});var queryDialog='<label class="input-label-weight">Search:</label> <input type="text"  class="input-text"/> ',replaceQueryDialog='Replace: <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">(Use /re/ syntax for regexp search)</span>',replacementQueryDialog='With: <input type="text" style="width: 10em" class="CodeMirror-search-field"/>',doReplaceConfirm="Replace? <button>Yes</button> <button>No</button> <button>Stop</button>";CodeMirror.commands.find=function(cm){clearSearch(cm),doSearch(cm)},CodeMirror.commands.findNext=doSearch,CodeMirror.commands.findPrev=function(cm){doSearch(cm,!0)},CodeMirror.commands.clearSearch=clearSearch,CodeMirror.commands.replace=replace,CodeMirror.commands.replaceAll=function(cm){replace(cm,!0)}},function(module,exports,__webpack_require__){function get_beautify(js_beautify,css_beautify,html_beautify){var beautify=function(src,config){return js_beautify.js_beautify(src,config)};return beautify.js=js_beautify.js_beautify,beautify.css=css_beautify.css_beautify,beautify.html=html_beautify.html_beautify,beautify.js_beautify=js_beautify.js_beautify,beautify.css_beautify=css_beautify.css_beautify,beautify.html_beautify=html_beautify.html_beautify,beautify}var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(32),__webpack_require__(33),__webpack_require__(34)],__WEBPACK_AMD_DEFINE_RESULT__=function(js_beautify,css_beautify,html_beautify){return get_beautify(js_beautify,css_beautify,html_beautify)}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;Object.values||(Object.values=function(o){if(o!==Object(o))throw new TypeError("Object.values called on a non-object");var p,k=[];for(p in o)Object.prototype.hasOwnProperty.call(o,p)&&k.push(o[p]);return k}),function(){function mergeOpts(allOptions,targetType){var name,finalOpts={};for(name in allOptions)name!==targetType&&(finalOpts[name]=allOptions[name]);if(targetType in allOptions)for(name in allOptions[targetType])finalOpts[name]=allOptions[targetType][name];return finalOpts}function js_beautify(js_source_text,options){function in_array(what,arr){for(var i=0;i<arr.length;i+=1)if(arr[i]===what)return!0;return!1}function trim(s){return s.replace(/^\s+|\s+$/g,"")}function ltrim(s){return s.replace(/^\s+/g,"")}function sanitizeOperatorPosition(opPosition){opPosition=opPosition||OPERATOR_POSITION.before_newline;var validPositionValues=Object.values(OPERATOR_POSITION);if(!in_array(opPosition,validPositionValues))throw new Error("Invalid Option Value: The option 'operator_position' must be one of the following values\n"+validPositionValues+"\nYou passed in: '"+opPosition+"'");return opPosition}function Beautifier(js_source_text,options){"use strict";function create_flags(flags_base,mode){var next_indent_level=0;flags_base&&(next_indent_level=flags_base.indentation_level,!output.just_added_newline()&&flags_base.line_indent_level>next_indent_level&&(next_indent_level=flags_base.line_indent_level));var next_flags={mode:mode,parent:flags_base,last_text:flags_base?flags_base.last_text:"",last_word:flags_base?flags_base.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:next_indent_level,line_indent_level:flags_base?flags_base.line_indent_level:next_indent_level,start_line_index:output.get_line_number(),ternary_depth:0};return next_flags}function handle_whitespace_and_comments(local_token,preserve_statement_flags){for(var newlines=local_token.newlines,keep_whitespace=opt.keep_array_indentation&&is_array(flags.mode),temp_token=current_token,h=0;h<local_token.comments_before.length;h++)current_token=local_token.comments_before[h],handle_whitespace_and_comments(current_token,preserve_statement_flags),handlers[current_token.type](preserve_statement_flags);if(current_token=temp_token,keep_whitespace)for(var i=0;i<newlines;i+=1)print_newline(i>0,preserve_statement_flags);else if(opt.max_preserve_newlines&&newlines>opt.max_preserve_newlines&&(newlines=opt.max_preserve_newlines),opt.preserve_newlines&&local_token.newlines>1){print_newline(!1,preserve_statement_flags);for(var j=1;j<newlines;j+=1)print_newline(!0,preserve_statement_flags)}}function split_linebreaks(s){s=s.replace(acorn.allLineBreaks,"\n");for(var out=[],idx=s.indexOf("\n");idx!==-1;)out.push(s.substring(0,idx)),s=s.substring(idx+1),idx=s.indexOf("\n");return s.length&&out.push(s),out}function allow_wrap_or_preserved_newline(force_linewrap){if(force_linewrap=void 0!==force_linewrap&&force_linewrap,!output.just_added_newline()){var shouldPreserveOrForce=opt.preserve_newlines&&current_token.wanted_newline||force_linewrap,operatorLogicApplies=in_array(flags.last_text,Tokenizer.positionable_operators)||in_array(current_token.text,Tokenizer.positionable_operators);if(operatorLogicApplies){var shouldPrintOperatorNewline=in_array(flags.last_text,Tokenizer.positionable_operators)&&in_array(opt.operator_position,OPERATOR_POSITION_BEFORE_OR_PRESERVE)||in_array(current_token.text,Tokenizer.positionable_operators);shouldPreserveOrForce=shouldPreserveOrForce&&shouldPrintOperatorNewline}if(shouldPreserveOrForce)print_newline(!1,!0);else if(opt.wrap_line_length){if("TK_RESERVED"===last_type&&in_array(flags.last_text,newline_restricted_tokens))return;var proposed_line_length=output.current_line.get_character_count()+current_token.text.length+(output.space_before_token?1:0);proposed_line_length>=opt.wrap_line_length&&print_newline(!1,!0)}}}function print_newline(force_newline,preserve_statement_flags){if(!preserve_statement_flags&&";"!==flags.last_text&&","!==flags.last_text&&"="!==flags.last_text&&"TK_OPERATOR"!==last_type)for(var next_token=get_token(1);!(flags.mode!==MODE.Statement||flags.if_block&&next_token&&"TK_RESERVED"===next_token.type&&"else"===next_token.text||flags.do_block);)restore_mode();output.add_new_line(force_newline)&&(flags.multiline_frame=!0)}function print_token_line_indentation(){output.just_added_newline()&&(opt.keep_array_indentation&&is_array(flags.mode)&&current_token.wanted_newline?(output.current_line.push(current_token.whitespace_before),output.space_before_token=!1):output.set_indent(flags.indentation_level)&&(flags.line_indent_level=flags.indentation_level))}function print_token(printable_token){if(output.raw)return void output.add_raw_token(current_token);if(opt.comma_first&&"TK_COMMA"===last_type&&output.just_added_newline()&&","===output.previous_line.last()){var popped=output.previous_line.pop();output.previous_line.is_empty()&&(output.previous_line.push(popped),output.trim(!0),output.current_line.pop(),output.trim()),print_token_line_indentation(),output.add_token(","),output.space_before_token=!0}printable_token=printable_token||current_token.text,print_token_line_indentation(),output.add_token(printable_token)}function indent(){flags.indentation_level+=1}function deindent(){flags.indentation_level>0&&(!flags.parent||flags.indentation_level>flags.parent.indentation_level)&&(flags.indentation_level-=1)}function set_mode(mode){flags?(flag_store.push(flags),previous_flags=flags):previous_flags=create_flags(null,mode),flags=create_flags(previous_flags,mode)}function is_array(mode){return mode===MODE.ArrayLiteral}function is_expression(mode){return in_array(mode,[MODE.Expression,MODE.ForInitializer,MODE.Conditional])}function restore_mode(){flag_store.length>0&&(previous_flags=flags,flags=flag_store.pop(),previous_flags.mode===MODE.Statement&&output.remove_redundant_indentation(previous_flags))}function start_of_object_property(){return flags.parent.mode===MODE.ObjectLiteral&&flags.mode===MODE.Statement&&(":"===flags.last_text&&0===flags.ternary_depth||"TK_RESERVED"===last_type&&in_array(flags.last_text,["get","set"]))}function start_of_statement(){return!!("TK_RESERVED"===last_type&&in_array(flags.last_text,["var","let","const"])&&"TK_WORD"===current_token.type||"TK_RESERVED"===last_type&&"do"===flags.last_text||"TK_RESERVED"===last_type&&in_array(flags.last_text,["return","throw"])&&!current_token.wanted_newline||"TK_RESERVED"===last_type&&"else"===flags.last_text&&("TK_RESERVED"!==current_token.type||"if"!==current_token.text||current_token.comments_before.length)||"TK_END_EXPR"===last_type&&(previous_flags.mode===MODE.ForInitializer||previous_flags.mode===MODE.Conditional)||"TK_WORD"===last_type&&flags.mode===MODE.BlockStatement&&!flags.in_case&&"--"!==current_token.text&&"++"!==current_token.text&&"function"!==last_last_text&&"TK_WORD"!==current_token.type&&"TK_RESERVED"!==current_token.type||flags.mode===MODE.ObjectLiteral&&(":"===flags.last_text&&0===flags.ternary_depth||"TK_RESERVED"===last_type&&in_array(flags.last_text,["get","set"])))&&(set_mode(MODE.Statement),indent(),handle_whitespace_and_comments(current_token,!0),start_of_object_property()||allow_wrap_or_preserved_newline("TK_RESERVED"===current_token.type&&in_array(current_token.text,["do","for","if","while"])),!0)}function all_lines_start_with(lines,c){for(var i=0;i<lines.length;i++){var line=trim(lines[i]);if(line.charAt(0)!==c)return!1}return!0}function each_line_matches_indent(lines,indent){for(var line,i=0,len=lines.length;i<len;i++)if(line=lines[i],line&&0!==line.indexOf(indent))return!1;return!0}function is_special_word(word){return in_array(word,["case","return","do","if","throw","else"])}function get_token(offset){var index=token_pos+(offset||0);return index<0||index>=tokens.length?null:tokens[index]}function handle_start_expr(){start_of_statement()||handle_whitespace_and_comments(current_token);var next_mode=MODE.Expression;if("["===current_token.text){if("TK_WORD"===last_type||")"===flags.last_text)return"TK_RESERVED"===last_type&&in_array(flags.last_text,Tokenizer.line_starters)&&(output.space_before_token=!0),set_mode(next_mode),print_token(),indent(),void(opt.space_in_paren&&(output.space_before_token=!0));next_mode=MODE.ArrayLiteral,is_array(flags.mode)&&("["!==flags.last_text&&(","!==flags.last_text||"]"!==last_last_text&&"}"!==last_last_text)||opt.keep_array_indentation||print_newline())}else"TK_RESERVED"===last_type&&"for"===flags.last_text?next_mode=MODE.ForInitializer:"TK_RESERVED"===last_type&&in_array(flags.last_text,["if","while"])&&(next_mode=MODE.Conditional);";"===flags.last_text||"TK_START_BLOCK"===last_type?print_newline():"TK_END_EXPR"===last_type||"TK_START_EXPR"===last_type||"TK_END_BLOCK"===last_type||"."===flags.last_text?allow_wrap_or_preserved_newline(current_token.wanted_newline):"TK_RESERVED"===last_type&&"("===current_token.text||"TK_WORD"===last_type||"TK_OPERATOR"===last_type?"TK_RESERVED"===last_type&&("function"===flags.last_word||"typeof"===flags.last_word)||"*"===flags.last_text&&(in_array(last_last_text,["function","yield"])||flags.mode===MODE.ObjectLiteral&&in_array(last_last_text,["{",","]))?opt.space_after_anon_function&&(output.space_before_token=!0):"TK_RESERVED"!==last_type||!in_array(flags.last_text,Tokenizer.line_starters)&&"catch"!==flags.last_text||opt.space_before_conditional&&(output.space_before_token=!0):output.space_before_token=!0,"("===current_token.text&&"TK_RESERVED"===last_type&&"await"===flags.last_word&&(output.space_before_token=!0),"("===current_token.text&&("TK_EQUALS"!==last_type&&"TK_OPERATOR"!==last_type||start_of_object_property()||allow_wrap_or_preserved_newline()),"("===current_token.text&&"TK_WORD"!==last_type&&"TK_RESERVED"!==last_type&&allow_wrap_or_preserved_newline(),set_mode(next_mode),print_token(),opt.space_in_paren&&(output.space_before_token=!0),indent()}function handle_end_expr(){for(;flags.mode===MODE.Statement;)restore_mode();handle_whitespace_and_comments(current_token),flags.multiline_frame&&allow_wrap_or_preserved_newline("]"===current_token.text&&is_array(flags.mode)&&!opt.keep_array_indentation),opt.space_in_paren&&("TK_START_EXPR"!==last_type||opt.space_in_empty_paren?output.space_before_token=!0:(output.trim(),output.space_before_token=!1)),"]"===current_token.text&&opt.keep_array_indentation?(print_token(),restore_mode()):(restore_mode(),print_token()),output.remove_redundant_indentation(previous_flags),flags.do_while&&previous_flags.mode===MODE.Conditional&&(previous_flags.mode=MODE.Expression,flags.do_block=!1,flags.do_while=!1)}function handle_start_block(){handle_whitespace_and_comments(current_token);var next_token=get_token(1),second_token=get_token(2);set_mode(second_token&&(in_array(second_token.text,[":",","])&&in_array(next_token.type,["TK_STRING","TK_WORD","TK_RESERVED"])||in_array(next_token.text,["get","set","..."])&&in_array(second_token.type,["TK_WORD","TK_RESERVED"]))?in_array(last_last_text,["class","interface"])?MODE.BlockStatement:MODE.ObjectLiteral:"TK_OPERATOR"===last_type&&"=>"===flags.last_text?MODE.BlockStatement:in_array(last_type,["TK_EQUALS","TK_START_EXPR","TK_COMMA","TK_OPERATOR"])||"TK_RESERVED"===last_type&&in_array(flags.last_text,["return","throw","import","default"])?MODE.ObjectLiteral:MODE.BlockStatement);var empty_braces=!next_token.comments_before.length&&"}"===next_token.text,empty_anonymous_function=empty_braces&&"function"===flags.last_word&&"TK_END_EXPR"===last_type;if(opt.brace_preserve_inline){var index=0,check_token=null;flags.inline_frame=!0;do if(index+=1,check_token=get_token(index),check_token.wanted_newline){flags.inline_frame=!1;break}while("TK_EOF"!==check_token.type&&("TK_END_BLOCK"!==check_token.type||check_token.opened!==current_token))}("expand"===opt.brace_style||"none"===opt.brace_style&&current_token.wanted_newline)&&!flags.inline_frame?"TK_OPERATOR"!==last_type&&(empty_anonymous_function||"TK_EQUALS"===last_type||"TK_RESERVED"===last_type&&is_special_word(flags.last_text)&&"else"!==flags.last_text)?output.space_before_token=!0:print_newline(!1,!0):(!is_array(previous_flags.mode)||"TK_START_EXPR"!==last_type&&"TK_COMMA"!==last_type||(("TK_COMMA"===last_type||opt.space_in_paren)&&(output.space_before_token=!0),("TK_COMMA"===last_type||"TK_START_EXPR"===last_type&&flags.inline_frame)&&(allow_wrap_or_preserved_newline(),previous_flags.multiline_frame=previous_flags.multiline_frame||flags.multiline_frame,flags.multiline_frame=!1)),"TK_OPERATOR"!==last_type&&"TK_START_EXPR"!==last_type&&("TK_START_BLOCK"!==last_type||flags.inline_frame?output.space_before_token=!0:print_newline())),print_token(),indent()}function handle_end_block(){for(handle_whitespace_and_comments(current_token);flags.mode===MODE.Statement;)restore_mode();var empty_braces="TK_START_BLOCK"===last_type;flags.inline_frame&&!empty_braces?output.space_before_token=!0:"expand"===opt.brace_style?empty_braces||print_newline():empty_braces||(is_array(flags.mode)&&opt.keep_array_indentation?(opt.keep_array_indentation=!1,print_newline(),opt.keep_array_indentation=!0):print_newline()),restore_mode(),print_token()}function handle_word(){if("TK_RESERVED"===current_token.type)if(in_array(current_token.text,["set","get"])&&flags.mode!==MODE.ObjectLiteral)current_token.type="TK_WORD";else if(in_array(current_token.text,["as","from"])&&!flags.import_block)current_token.type="TK_WORD";else if(flags.mode===MODE.ObjectLiteral){var next_token=get_token(1);":"===next_token.text&&(current_token.type="TK_WORD")}if(start_of_statement()?"TK_RESERVED"===last_type&&in_array(flags.last_text,["var","let","const"])&&"TK_WORD"===current_token.type&&(flags.declaration_statement=!0):!current_token.wanted_newline||is_expression(flags.mode)||"TK_OPERATOR"===last_type&&"--"!==flags.last_text&&"++"!==flags.last_text||"TK_EQUALS"===last_type||!opt.preserve_newlines&&"TK_RESERVED"===last_type&&in_array(flags.last_text,["var","let","const","set","get"])?handle_whitespace_and_comments(current_token):(handle_whitespace_and_comments(current_token),print_newline()),flags.do_block&&!flags.do_while){if("TK_RESERVED"===current_token.type&&"while"===current_token.text)return output.space_before_token=!0,print_token(),output.space_before_token=!0,void(flags.do_while=!0);print_newline(),flags.do_block=!1}if(flags.if_block)if(flags.else_block||"TK_RESERVED"!==current_token.type||"else"!==current_token.text){for(;flags.mode===MODE.Statement;)restore_mode();flags.if_block=!1,flags.else_block=!1}else flags.else_block=!0;if("TK_RESERVED"===current_token.type&&("case"===current_token.text||"default"===current_token.text&&flags.in_case_statement))return print_newline(),(flags.case_body||opt.jslint_happy)&&(deindent(),flags.case_body=!1),print_token(),flags.in_case=!0,void(flags.in_case_statement=!0);if("TK_COMMA"!==last_type&&"TK_START_EXPR"!==last_type&&"TK_EQUALS"!==last_type&&"TK_OPERATOR"!==last_type||start_of_object_property()||allow_wrap_or_preserved_newline(),"TK_RESERVED"===current_token.type&&"function"===current_token.text)return(in_array(flags.last_text,["}",";"])||output.just_added_newline()&&!in_array(flags.last_text,["(","[","{",":","=",","])&&"TK_OPERATOR"!==last_type)&&(output.just_added_blankline()||current_token.comments_before.length||(print_newline(),print_newline(!0))),"TK_RESERVED"===last_type||"TK_WORD"===last_type?"TK_RESERVED"===last_type&&in_array(flags.last_text,["get","set","new","return","export","async"])?output.space_before_token=!0:"TK_RESERVED"===last_type&&"default"===flags.last_text&&"export"===last_last_text?output.space_before_token=!0:print_newline():"TK_OPERATOR"===last_type||"="===flags.last_text?output.space_before_token=!0:(flags.multiline_frame||!is_expression(flags.mode)&&!is_array(flags.mode))&&print_newline(),print_token(),void(flags.last_word=current_token.text);if(prefix="NONE","TK_END_BLOCK"===last_type?previous_flags.inline_frame?prefix="SPACE":"TK_RESERVED"===current_token.type&&in_array(current_token.text,["else","catch","finally","from"])?"expand"===opt.brace_style||"end-expand"===opt.brace_style||"none"===opt.brace_style&&current_token.wanted_newline?prefix="NEWLINE":(prefix="SPACE",output.space_before_token=!0):prefix="NEWLINE":"TK_SEMICOLON"===last_type&&flags.mode===MODE.BlockStatement?prefix="NEWLINE":"TK_SEMICOLON"===last_type&&is_expression(flags.mode)?prefix="SPACE":"TK_STRING"===last_type?prefix="NEWLINE":"TK_RESERVED"===last_type||"TK_WORD"===last_type||"*"===flags.last_text&&(in_array(last_last_text,["function","yield"])||flags.mode===MODE.ObjectLiteral&&in_array(last_last_text,["{",","]))?prefix="SPACE":"TK_START_BLOCK"===last_type?prefix=flags.inline_frame?"SPACE":"NEWLINE":"TK_END_EXPR"===last_type&&(output.space_before_token=!0,prefix="NEWLINE"),"TK_RESERVED"===current_token.type&&in_array(current_token.text,Tokenizer.line_starters)&&")"!==flags.last_text&&(prefix=flags.inline_frame||"else"===flags.last_text||"export"===flags.last_text?"SPACE":"NEWLINE"),"TK_RESERVED"===current_token.type&&in_array(current_token.text,["else","catch","finally"]))if(("TK_END_BLOCK"!==last_type||previous_flags.mode!==MODE.BlockStatement||"expand"===opt.brace_style||"end-expand"===opt.brace_style||"none"===opt.brace_style&&current_token.wanted_newline)&&!flags.inline_frame)print_newline();else{output.trim(!0);var line=output.current_line;"}"!==line.last()&&print_newline(),output.space_before_token=!0}else"NEWLINE"===prefix?"TK_RESERVED"===last_type&&is_special_word(flags.last_text)?output.space_before_token=!0:"TK_END_EXPR"!==last_type?"TK_START_EXPR"===last_type&&"TK_RESERVED"===current_token.type&&in_array(current_token.text,["var","let","const"])||":"===flags.last_text||("TK_RESERVED"===current_token.type&&"if"===current_token.text&&"else"===flags.last_text?output.space_before_token=!0:print_newline()):"TK_RESERVED"===current_token.type&&in_array(current_token.text,Tokenizer.line_starters)&&")"!==flags.last_text&&print_newline():flags.multiline_frame&&is_array(flags.mode)&&","===flags.last_text&&"}"===last_last_text?print_newline():"SPACE"===prefix&&(output.space_before_token=!0);print_token(),flags.last_word=current_token.text,"TK_RESERVED"===current_token.type&&("do"===current_token.text?flags.do_block=!0:"if"===current_token.text?flags.if_block=!0:"import"===current_token.text?flags.import_block=!0:flags.import_block&&"TK_RESERVED"===current_token.type&&"from"===current_token.text&&(flags.import_block=!1))}function handle_semicolon(){start_of_statement()?output.space_before_token=!1:handle_whitespace_and_comments(current_token);for(var next_token=get_token(1);!(flags.mode!==MODE.Statement||flags.if_block&&next_token&&"TK_RESERVED"===next_token.type&&"else"===next_token.text||flags.do_block);)restore_mode();flags.import_block&&(flags.import_block=!1),print_token()}function handle_string(){start_of_statement()?output.space_before_token=!0:(handle_whitespace_and_comments(current_token),"TK_RESERVED"===last_type||"TK_WORD"===last_type||flags.inline_frame?output.space_before_token=!0:"TK_COMMA"===last_type||"TK_START_EXPR"===last_type||"TK_EQUALS"===last_type||"TK_OPERATOR"===last_type?start_of_object_property()||allow_wrap_or_preserved_newline():print_newline()),print_token()}function handle_equals(){start_of_statement()||handle_whitespace_and_comments(current_token),flags.declaration_statement&&(flags.declaration_assignment=!0),output.space_before_token=!0,print_token(),output.space_before_token=!0}function handle_comma(){handle_whitespace_and_comments(current_token,!0),print_token(),output.space_before_token=!0,flags.declaration_statement?(is_expression(flags.parent.mode)&&(flags.declaration_assignment=!1),flags.declaration_assignment?(flags.declaration_assignment=!1,print_newline(!1,!0)):opt.comma_first&&allow_wrap_or_preserved_newline()):flags.mode===MODE.ObjectLiteral||flags.mode===MODE.Statement&&flags.parent.mode===MODE.ObjectLiteral?(flags.mode===MODE.Statement&&restore_mode(),flags.inline_frame||print_newline()):opt.comma_first&&allow_wrap_or_preserved_newline()}function handle_operator(){var isGeneratorAsterisk="*"===current_token.text&&("TK_RESERVED"===last_type&&in_array(flags.last_text,["function","yield"])||in_array(last_type,["TK_START_BLOCK","TK_COMMA","TK_END_BLOCK","TK_SEMICOLON"])),isUnary=in_array(current_token.text,["-","+"])&&(in_array(last_type,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||in_array(flags.last_text,Tokenizer.line_starters)||","===flags.last_text);if(start_of_statement());else{var preserve_statement_flags=!isGeneratorAsterisk;handle_whitespace_and_comments(current_token,preserve_statement_flags)}if("TK_RESERVED"===last_type&&is_special_word(flags.last_text))return output.space_before_token=!0,void print_token();if("*"===current_token.text&&"TK_DOT"===last_type)return void print_token();if("::"===current_token.text)return void print_token();if("TK_OPERATOR"===last_type&&in_array(opt.operator_position,OPERATOR_POSITION_BEFORE_OR_PRESERVE)&&allow_wrap_or_preserved_newline(),":"===current_token.text&&flags.in_case)return flags.case_body=!0,indent(),print_token(),print_newline(),void(flags.in_case=!1);var space_before=!0,space_after=!0,in_ternary=!1;if(":"===current_token.text?0===flags.ternary_depth?space_before=!1:(flags.ternary_depth-=1,in_ternary=!0):"?"===current_token.text&&(flags.ternary_depth+=1),!isUnary&&!isGeneratorAsterisk&&opt.preserve_newlines&&in_array(current_token.text,Tokenizer.positionable_operators)){var isColon=":"===current_token.text,isTernaryColon=isColon&&in_ternary,isOtherColon=isColon&&!in_ternary;switch(opt.operator_position){case OPERATOR_POSITION.before_newline:return output.space_before_token=!isOtherColon,print_token(),isColon&&!isTernaryColon||allow_wrap_or_preserved_newline(),void(output.space_before_token=!0);case OPERATOR_POSITION.after_newline:return output.space_before_token=!0,!isColon||isTernaryColon?get_token(1).wanted_newline?print_newline(!1,!0):allow_wrap_or_preserved_newline():output.space_before_token=!1,print_token(),void(output.space_before_token=!0);case OPERATOR_POSITION.preserve_newline:return isOtherColon||allow_wrap_or_preserved_newline(),space_before=!(output.just_added_newline()||isOtherColon),output.space_before_token=space_before,print_token(),void(output.space_before_token=!0)}}if(isGeneratorAsterisk){allow_wrap_or_preserved_newline(),space_before=!1;var next_token=get_token(1);space_after=next_token&&in_array(next_token.type,["TK_WORD","TK_RESERVED"])}else"..."===current_token.text?(allow_wrap_or_preserved_newline(),space_before="TK_START_BLOCK"===last_type,space_after=!1):(in_array(current_token.text,["--","++","!","~"])||isUnary)&&(space_before=!1,space_after=!1,!current_token.wanted_newline||"--"!==current_token.text&&"++"!==current_token.text||print_newline(!1,!0),";"===flags.last_text&&is_expression(flags.mode)&&(space_before=!0),"TK_RESERVED"===last_type?space_before=!0:"TK_END_EXPR"===last_type?space_before=!("]"===flags.last_text&&("--"===current_token.text||"++"===current_token.text)):"TK_OPERATOR"===last_type&&(space_before=in_array(current_token.text,["--","-","++","+"])&&in_array(flags.last_text,["--","-","++","+"]),in_array(current_token.text,["+","-"])&&in_array(flags.last_text,["--","++"])&&(space_after=!0)),(flags.mode!==MODE.BlockStatement||flags.inline_frame)&&flags.mode!==MODE.Statement||"{"!==flags.last_text&&";"!==flags.last_text||print_newline());output.space_before_token=output.space_before_token||space_before,print_token(),output.space_before_token=space_after}function handle_block_comment(preserve_statement_flags){if(output.raw)return output.add_raw_token(current_token),void(current_token.directives&&"end"===current_token.directives.preserve&&(output.raw=opt.test_output_raw));if(current_token.directives)return print_newline(!1,preserve_statement_flags),print_token(),"start"===current_token.directives.preserve&&(output.raw=!0),void print_newline(!1,!0);if(!acorn.newline.test(current_token.text)&&!current_token.wanted_newline)return output.space_before_token=!0,print_token(),void(output.space_before_token=!0);var j,lines=split_linebreaks(current_token.text),javadoc=!1,starless=!1,lastIndent=current_token.whitespace_before,lastIndentLength=lastIndent.length;for(print_newline(!1,preserve_statement_flags),lines.length>1&&(javadoc=all_lines_start_with(lines.slice(1),"*"),starless=each_line_matches_indent(lines.slice(1),lastIndent)),print_token(lines[0]),j=1;j<lines.length;j++)print_newline(!1,!0),javadoc?print_token(" "+ltrim(lines[j])):starless&&lines[j].length>lastIndentLength?print_token(lines[j].substring(lastIndentLength)):output.add_token(lines[j]);print_newline(!1,preserve_statement_flags)}function handle_comment(preserve_statement_flags){current_token.wanted_newline?print_newline(!1,preserve_statement_flags):output.trim(!0),output.space_before_token=!0,print_token(),print_newline(!1,preserve_statement_flags)}function handle_dot(){start_of_statement()||handle_whitespace_and_comments(current_token,!0),"TK_RESERVED"===last_type&&is_special_word(flags.last_text)?output.space_before_token=!0:allow_wrap_or_preserved_newline(")"===flags.last_text&&opt.break_chained_methods),print_token()}function handle_unknown(preserve_statement_flags){print_token(),"\n"===current_token.text[current_token.text.length-1]&&print_newline(!1,preserve_statement_flags)}function handle_eof(){for(;flags.mode===MODE.Statement;)restore_mode();handle_whitespace_and_comments(current_token)}var output,token_pos,Tokenizer,current_token,last_type,last_last_text,indent_string,flags,previous_flags,flag_store,prefix,handlers,opt,tokens=[],baseIndentString="";handlers={TK_START_EXPR:handle_start_expr,TK_END_EXPR:handle_end_expr,TK_START_BLOCK:handle_start_block,TK_END_BLOCK:handle_end_block,TK_WORD:handle_word,TK_RESERVED:handle_word,TK_SEMICOLON:handle_semicolon,TK_STRING:handle_string,TK_EQUALS:handle_equals,
TK_OPERATOR:handle_operator,TK_COMMA:handle_comma,TK_BLOCK_COMMENT:handle_block_comment,TK_COMMENT:handle_comment,TK_DOT:handle_dot,TK_UNKNOWN:handle_unknown,TK_EOF:handle_eof},options=options?options:{},options=mergeOpts(options,"js"),opt={},"expand-strict"===options.brace_style?options.brace_style="expand":"collapse-preserve-inline"===options.brace_style?options.brace_style="collapse,preserve-inline":void 0!==options.braces_on_own_line?options.brace_style=options.braces_on_own_line?"expand":"collapse":options.brace_style||(options.brace_style="collapse");var brace_style_split=options.brace_style.split(/[^a-zA-Z0-9_\-]+/);for(opt.brace_style=brace_style_split[0],opt.brace_preserve_inline=!!brace_style_split[1]&&brace_style_split[1],opt.indent_size=options.indent_size?parseInt(options.indent_size,10):4,opt.indent_char=options.indent_char?options.indent_char:" ",opt.eol=options.eol?options.eol:"auto",opt.preserve_newlines=void 0===options.preserve_newlines||options.preserve_newlines,opt.break_chained_methods=void 0!==options.break_chained_methods&&options.break_chained_methods,opt.max_preserve_newlines=void 0===options.max_preserve_newlines?0:parseInt(options.max_preserve_newlines,10),opt.space_in_paren=void 0!==options.space_in_paren&&options.space_in_paren,opt.space_in_empty_paren=void 0!==options.space_in_empty_paren&&options.space_in_empty_paren,opt.jslint_happy=void 0!==options.jslint_happy&&options.jslint_happy,opt.space_after_anon_function=void 0!==options.space_after_anon_function&&options.space_after_anon_function,opt.keep_array_indentation=void 0!==options.keep_array_indentation&&options.keep_array_indentation,opt.space_before_conditional=void 0===options.space_before_conditional||options.space_before_conditional,opt.unescape_strings=void 0!==options.unescape_strings&&options.unescape_strings,opt.wrap_line_length=void 0===options.wrap_line_length?0:parseInt(options.wrap_line_length,10),opt.e4x=void 0!==options.e4x&&options.e4x,opt.end_with_newline=void 0!==options.end_with_newline&&options.end_with_newline,opt.comma_first=void 0!==options.comma_first&&options.comma_first,opt.operator_position=sanitizeOperatorPosition(options.operator_position),opt.test_output_raw=void 0!==options.test_output_raw&&options.test_output_raw,opt.jslint_happy&&(opt.space_after_anon_function=!0),options.indent_with_tabs&&(opt.indent_char="\t",opt.indent_size=1),"auto"===opt.eol&&(opt.eol="\n",js_source_text&&acorn.lineBreak.test(js_source_text||"")&&(opt.eol=js_source_text.match(acorn.lineBreak)[0])),opt.eol=opt.eol.replace(/\\r/,"\r").replace(/\\n/,"\n"),indent_string="";opt.indent_size>0;)indent_string+=opt.indent_char,opt.indent_size-=1;var preindent_index=0;if(js_source_text&&js_source_text.length){for(;" "===js_source_text.charAt(preindent_index)||"\t"===js_source_text.charAt(preindent_index);)baseIndentString+=js_source_text.charAt(preindent_index),preindent_index+=1;js_source_text=js_source_text.substring(preindent_index)}last_type="TK_START_BLOCK",last_last_text="",output=new Output(indent_string,baseIndentString),output.raw=opt.test_output_raw,flag_store=[],set_mode(MODE.BlockStatement),this.beautify=function(){var sweet_code;for(Tokenizer=new tokenizer(js_source_text,opt,indent_string),tokens=Tokenizer.tokenize(),token_pos=0,current_token=get_token();current_token;)handlers[current_token.type](),last_last_text=flags.last_text,last_type=current_token.type,flags.last_text=current_token.text,token_pos+=1,current_token=get_token();return sweet_code=output.get_code(),opt.end_with_newline&&(sweet_code+="\n"),"\n"!==opt.eol&&(sweet_code=sweet_code.replace(/[\n]/g,opt.eol)),sweet_code};var newline_restricted_tokens=["break","continue","return","throw"]}function OutputLine(parent){var _character_count=0,_indent_count=-1,_items=[],_empty=!0;this.set_indent=function(level){_character_count=parent.baseIndentLength+level*parent.indent_length,_indent_count=level},this.get_character_count=function(){return _character_count},this.is_empty=function(){return _empty},this.last=function(){return this._empty?null:_items[_items.length-1]},this.push=function(input){_items.push(input),_character_count+=input.length,_empty=!1},this.pop=function(){var item=null;return _empty||(item=_items.pop(),_character_count-=item.length,_empty=0===_items.length),item},this.remove_indent=function(){_indent_count>0&&(_indent_count-=1,_character_count-=parent.indent_length)},this.trim=function(){for(;" "===this.last();)_items.pop(),_character_count-=1;_empty=0===_items.length},this.toString=function(){var result="";return this._empty||(_indent_count>=0&&(result=parent.indent_cache[_indent_count]),result+=_items.join("")),result}}function Output(indent_string,baseIndentString){baseIndentString=baseIndentString||"",this.indent_cache=[baseIndentString],this.baseIndentLength=baseIndentString.length,this.indent_length=indent_string.length,this.raw=!1;var lines=[];this.baseIndentString=baseIndentString,this.indent_string=indent_string,this.previous_line=null,this.current_line=null,this.space_before_token=!1,this.add_outputline=function(){this.previous_line=this.current_line,this.current_line=new OutputLine(this),lines.push(this.current_line)},this.add_outputline(),this.get_line_number=function(){return lines.length},this.add_new_line=function(force_newline){return!(1===this.get_line_number()&&this.just_added_newline()||!force_newline&&this.just_added_newline()||(this.raw||this.add_outputline(),0))},this.get_code=function(){var sweet_code=lines.join("\n").replace(/[\r\n\t ]+$/,"");return sweet_code},this.set_indent=function(level){if(lines.length>1){for(;level>=this.indent_cache.length;)this.indent_cache.push(this.indent_cache[this.indent_cache.length-1]+this.indent_string);return this.current_line.set_indent(level),!0}return this.current_line.set_indent(0),!1},this.add_raw_token=function(token){for(var x=0;x<token.newlines;x++)this.add_outputline();this.current_line.push(token.whitespace_before),this.current_line.push(token.text),this.space_before_token=!1},this.add_token=function(printable_token){this.add_space_before_token(),this.current_line.push(printable_token)},this.add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&this.current_line.push(" "),this.space_before_token=!1},this.remove_redundant_indentation=function(frame){if(!frame.multiline_frame&&frame.mode!==MODE.ForInitializer&&frame.mode!==MODE.Conditional)for(var index=frame.start_line_index,output_length=lines.length;index<output_length;)lines[index].remove_indent(),index++},this.trim=function(eat_newlines){for(eat_newlines=void 0!==eat_newlines&&eat_newlines,this.current_line.trim(indent_string,baseIndentString);eat_newlines&&lines.length>1&&this.current_line.is_empty();)lines.pop(),this.current_line=lines[lines.length-1],this.current_line.trim();this.previous_line=lines.length>1?lines[lines.length-2]:null},this.just_added_newline=function(){return this.current_line.is_empty()},this.just_added_blankline=function(){if(this.just_added_newline()){if(1===lines.length)return!0;var line=lines[lines.length-2];return line.is_empty()}return!1}}function tokenizer(input_string,opts){function get_directives(text){if(!text.match(directives_block_pattern))return null;var directives={};directive_pattern.lastIndex=0;for(var directive_match=directive_pattern.exec(text);directive_match;)directives[directive_match[1]]=directive_match[2],directive_match=directive_pattern.exec(text);return directives}function tokenize_next(){var resulting_string,whitespace_on_this_line=[];n_newlines=0,whitespace_before_token="";var c=input.next();if(null===c)return["","TK_EOF"];var last_token;for(last_token=tokens.length?tokens[tokens.length-1]:new Token("TK_START_BLOCK","{");in_array(c,whitespace);)if(acorn.newline.test(c)?"\n"===c&&"\r"===input.peek(-2)||(n_newlines+=1,whitespace_on_this_line=[]):whitespace_on_this_line.push(c),c=input.next(),null===c)return["","TK_EOF"];if(whitespace_on_this_line.length&&(whitespace_before_token=whitespace_on_this_line.join("")),digit.test(c)||"."===c&&input.testChar(digit)){var allow_decimal=!0,allow_e=!0,local_digit=digit;for("0"===c&&input.testChar(/[XxOoBb]/)?(allow_decimal=!1,allow_e=!1,local_digit=input.testChar(/[Bb]/)?digit_bin:input.testChar(/[Oo]/)?digit_oct:digit_hex,c+=input.next()):"."===c?allow_decimal=!1:(c="",input.back());input.testChar(local_digit);)c+=input.next(),allow_decimal&&"."===input.peek()&&(c+=input.next(),allow_decimal=!1),allow_e&&input.testChar(/[Ee]/)&&(c+=input.next(),input.testChar(/[+-]/)&&(c+=input.next()),allow_e=!1,allow_decimal=!1);return[c,"TK_WORD"]}if(acorn.isIdentifierStart(input.peekCharCode(-1))){if(input.hasNext())for(;acorn.isIdentifierChar(input.peekCharCode())&&(c+=input.next(),input.hasNext()););return"TK_DOT"===last_token.type||"TK_RESERVED"===last_token.type&&in_array(last_token.text,["set","get"])||!in_array(c,reserved_words)?[c,"TK_WORD"]:"in"===c||"of"===c?[c,"TK_OPERATOR"]:[c,"TK_RESERVED"]}if("("===c||"["===c)return[c,"TK_START_EXPR"];if(")"===c||"]"===c)return[c,"TK_END_EXPR"];if("{"===c)return[c,"TK_START_BLOCK"];if("}"===c)return[c,"TK_END_BLOCK"];if(";"===c)return[c,"TK_SEMICOLON"];if("/"===c){var comment_match,comment="";if("*"===input.peek()){input.next(),comment_match=input.match(block_comment_pattern),comment="/*"+comment_match[0];var directives=get_directives(comment);return directives&&"start"===directives.ignore&&(comment_match=input.match(directives_end_ignore_pattern),comment+=comment_match[0]),comment=comment.replace(acorn.allLineBreaks,"\n"),[comment,"TK_BLOCK_COMMENT",directives]}if("/"===input.peek())return input.next(),comment_match=input.match(comment_pattern),comment="//"+comment_match[0],[comment,"TK_COMMENT"]}var startXmlRegExp=/<()([-a-zA-Z:0-9_.]+|{[\s\S]+?}|!\[CDATA\[[\s\S]*?\]\])(\s+{[\s\S]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{[\s\S]+?}))*\s*(\/?)\s*>/g;if("`"===c||"'"===c||'"'===c||("/"===c||opts.e4x&&"<"===c&&input.test(startXmlRegExp,-1))&&("TK_RESERVED"===last_token.type&&in_array(last_token.text,["return","case","throw","else","do","typeof","yield"])||"TK_END_EXPR"===last_token.type&&")"===last_token.text&&last_token.parent&&"TK_RESERVED"===last_token.parent.type&&in_array(last_token.parent.text,["if","while","for"])||in_array(last_token.type,["TK_COMMENT","TK_START_EXPR","TK_START_BLOCK","TK_END_BLOCK","TK_OPERATOR","TK_EQUALS","TK_EOF","TK_SEMICOLON","TK_COMMA"]))){var sep=c,esc=!1,has_char_escapes=!1;if(resulting_string=c,"/"===sep)for(var in_char_class=!1;input.hasNext()&&(esc||in_char_class||input.peek()!==sep)&&!input.testChar(acorn.newline);)resulting_string+=input.peek(),esc?esc=!1:(esc="\\"===input.peek(),"["===input.peek()?in_char_class=!0:"]"===input.peek()&&(in_char_class=!1)),input.next();else if(opts.e4x&&"<"===sep){var xmlRegExp=/[\s\S]*?<(\/?)([-a-zA-Z:0-9_.]+|{[\s\S]+?}|!\[CDATA\[[\s\S]*?\]\])(\s+{[\s\S]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{[\s\S]+?}))*\s*(\/?)\s*>/g;input.back();var xmlStr="",match=input.match(startXmlRegExp);if(match){for(var rootTag=match[2].replace(/^{\s+/,"{").replace(/\s+}$/,"}"),isCurlyRoot=0===rootTag.indexOf("{"),depth=0;match;){var isEndTag=!!match[1],tagName=match[2],isSingletonTag=!!match[match.length-1]||"![CDATA["===tagName.slice(0,8);if(!isSingletonTag&&(tagName===rootTag||isCurlyRoot&&tagName.replace(/^{\s+/,"{").replace(/\s+}$/,"}"))&&(isEndTag?--depth:++depth),xmlStr+=match[0],depth<=0)break;match=input.match(xmlRegExp)}return match||(xmlStr+=input.match(/[\s\S]*/g)[0]),xmlStr=xmlStr.replace(acorn.allLineBreaks,"\n"),[xmlStr,"TK_STRING"]}}else{var parse_string=function(_parse_string){var _parse_stringWrapper=function(_x,_x2,_x3){return _parse_string.apply(this,arguments)};return _parse_stringWrapper.toString=function(){return _parse_string.toString()},_parse_stringWrapper}(function(delimiter,allow_unescaped_newlines,start_sub){for(var current_char;input.hasNext()&&(current_char=input.peek(),esc||current_char!==delimiter&&(allow_unescaped_newlines||!acorn.newline.test(current_char)));)(esc||allow_unescaped_newlines)&&acorn.newline.test(current_char)?("\r"===current_char&&"\n"===input.peek(1)&&(input.next(),current_char=input.peek()),resulting_string+="\n"):resulting_string+=current_char,esc?("x"!==current_char&&"u"!==current_char||(has_char_escapes=!0),esc=!1):esc="\\"===current_char,input.next(),start_sub&&resulting_string.indexOf(start_sub,resulting_string.length-start_sub.length)!==-1&&("`"===delimiter?parse_string("}",allow_unescaped_newlines,"`"):parse_string("`",allow_unescaped_newlines,"${"),input.hasNext()&&(resulting_string+=input.next()))});"`"===sep?parse_string("`",!0,"${"):parse_string(sep)}if(has_char_escapes&&opts.unescape_strings&&(resulting_string=unescape_string(resulting_string)),input.peek()===sep&&(resulting_string+=sep,input.next(),"/"===sep))for(;input.hasNext()&&acorn.isIdentifierStart(input.peekCharCode());)resulting_string+=input.next();return[resulting_string,"TK_STRING"]}if("#"===c){if(0===tokens.length&&"!"===input.peek()){for(resulting_string=c;input.hasNext()&&"\n"!==c;)c=input.next(),resulting_string+=c;return[trim(resulting_string)+"\n","TK_UNKNOWN"]}var sharp="#";if(input.hasNext()&&input.testChar(digit)){do c=input.next(),sharp+=c;while(input.hasNext()&&"#"!==c&&"="!==c);return"#"===c||("["===input.peek()&&"]"===input.peek(1)?(sharp+="[]",input.next(),input.next()):"{"===input.peek()&&"}"===input.peek(1)&&(sharp+="{}",input.next(),input.next())),[sharp,"TK_WORD"]}}if("<"===c&&("?"===input.peek()||"%"===input.peek())){input.back();var template_match=input.match(template_pattern);if(template_match)return c=template_match[0],c=c.replace(acorn.allLineBreaks,"\n"),[c,"TK_STRING"]}if("<"===c&&input.match(/\!--/g)){for(c="<!--";input.hasNext()&&!input.testChar(acorn.newline);)c+=input.next();return in_html_comment=!0,[c,"TK_COMMENT"]}if("-"===c&&in_html_comment&&input.match(/->/g))return in_html_comment=!1,["-->","TK_COMMENT"];if("."===c)return"."===input.peek()&&"."===input.peek(1)?(c+=input.next()+input.next(),[c,"TK_OPERATOR"]):[c,"TK_DOT"];if(in_array(c,punct)){for(;input.hasNext()&&in_array(c+input.peek(),punct)&&(c+=input.next(),input.hasNext()););return","===c?[c,"TK_COMMA"]:"="===c?[c,"TK_EQUALS"]:[c,"TK_OPERATOR"]}return[c,"TK_UNKNOWN"]}function unescape_string(s){for(var out="",escaped=0,input_scan=new InputScanner(s),matched=null;input_scan.hasNext();)if(matched=input_scan.match(/([\s]|[^\\]|\\\\)+/g),matched&&(out+=matched[0]),"\\"===input_scan.peek()){if(input_scan.next(),"x"===input_scan.peek())matched=input_scan.match(/x([0-9A-Fa-f]{2})/g);else{if("u"!==input_scan.peek()){out+="\\",input_scan.hasNext()&&(out+=input_scan.next());continue}matched=input_scan.match(/u([0-9A-Fa-f]{4})/g)}if(!matched)return s;if(escaped=parseInt(matched[1],16),escaped>126&&escaped<=255&&0===matched[0].indexOf("x"))return s;if(escaped>=0&&escaped<32){out+="\\"+matched[0];continue}out+=34===escaped||39===escaped||92===escaped?"\\"+String.fromCharCode(escaped):String.fromCharCode(escaped)}return out}var whitespace="\n\r\t ".split(""),digit=/[0-9]/,digit_bin=/[01]/,digit_oct=/[01234567]/,digit_hex=/[0123456789abcdefABCDEF]/;this.positionable_operators="!= !== % & && * ** + - / : < << <= == === > >= >> >>> ? ^ | ||".split(" ");var punct=this.positionable_operators.concat("! %= &= *= **= ++ += , -- -= /= :: <<= = => >>= >>>= ^= |= ~ ...".split(" "));this.line_starters="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(",");var n_newlines,whitespace_before_token,in_html_comment,tokens,input,reserved_words=this.line_starters.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as"]),block_comment_pattern=/([\s\S]*?)((?:\*\/)|$)/g,comment_pattern=/([^\n\r\u2028\u2029]*)/g,directives_block_pattern=/\/\* beautify( \w+[:]\w+)+ \*\//g,directive_pattern=/ (\w+)[:](\w+)/g,directives_end_ignore_pattern=/([\s\S]*?)((?:\/\*\sbeautify\signore:end\s\*\/)|$)/g,template_pattern=/((<\?php|<\?=)[\s\S]*?\?>)|(<%[\s\S]*?%>)/g;this.tokenize=function(){input=new InputScanner(input_string),in_html_comment=!1,tokens=[];for(var next,last,token_values,open=null,open_stack=[],comments=[];!last||"TK_EOF"!==last.type;){for(token_values=tokenize_next(),next=new Token(token_values[1],token_values[0],n_newlines,whitespace_before_token);"TK_COMMENT"===next.type||"TK_BLOCK_COMMENT"===next.type||"TK_UNKNOWN"===next.type;)"TK_BLOCK_COMMENT"===next.type&&(next.directives=token_values[2]),comments.push(next),token_values=tokenize_next(),next=new Token(token_values[1],token_values[0],n_newlines,whitespace_before_token);comments.length&&(next.comments_before=comments,comments=[]),"TK_START_BLOCK"===next.type||"TK_START_EXPR"===next.type?(next.parent=last,open_stack.push(open),open=next):("TK_END_BLOCK"===next.type||"TK_END_EXPR"===next.type)&&open&&("]"===next.text&&"["===open.text||")"===next.text&&"("===open.text||"}"===next.text&&"{"===open.text)&&(next.parent=open.parent,next.opened=open,open=open_stack.pop()),tokens.push(next),last=next}return tokens}}var acorn={};!function(exports){var nonASCIIidentifierStartChars="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",nonASCIIidentifierChars="̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ؚؠ-ىٲ-ۓۧ-ۨۻ-ۼܰ-݊ࠀ-ࠔࠛ-ࠣࠥ-ࠧࠩ-࠭ࡀ-ࡗࣤ-ࣾऀ-ःऺ-़ा-ॏ॑-ॗॢ-ॣ०-९ঁ-ঃ়া-ৄেৈৗয়-ৠਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢ-ૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୟ-ୠ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఁ-ఃె-ైొ-్ౕౖౢ-ౣ౦-౯ಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢ-ೣ೦-೯ംഃെ-ൈൗൢ-ൣ൦-൯ංඃ්ා-ුූෘ-ෟෲෳิ-ฺเ-ๅ๐-๙ິ-ູ່-ໍ໐-໙༘༙༠-༩༹༵༷ཁ-ཇཱ-྄྆-྇ྍ-ྗྙ-ྼ࿆က-ဩ၀-၉ၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟ᜎ-ᜐᜠ-ᜰᝀ-ᝐᝲᝳក-ឲ៝០-៩᠋-᠍᠐-᠙ᤠ-ᤫᤰ-᤻ᥑ-ᥭᦰ-ᧀᧈ-ᧉ᧐-᧙ᨀ-ᨕᨠ-ᩓ᩠-᩿᩼-᪉᪐-᪙ᭆ-ᭋ᭐-᭙᭫-᭳᮰-᮹᯦-᯳ᰀ-ᰢ᱀-᱉ᱛ-ᱽ᳐-᳒ᴀ-ᶾḁ-ἕ‌‍‿⁀⁔⃐-⃥⃜⃡-⃰ⶁ-ⶖⷠ-ⷿ〡-〨゙゚Ꙁ-ꙭꙴ-꙽ꚟ꛰-꛱ꟸ-ꠀ꠆ꠋꠣ-ꠧꢀ-ꢁꢴ-꣄꣐-꣙ꣳ-ꣷ꤀-꤉ꤦ-꤭ꤰ-ꥅꦀ-ꦃ꦳-꧀ꨀ-ꨧꩀ-ꩁꩌ-ꩍ꩐-꩙ꩻꫠ-ꫩꫲ-ꫳꯀ-ꯡ꯬꯭꯰-꯹ﬠ-ﬨ︀-️︠-︦︳︴﹍-﹏０-９＿",nonASCIIidentifierStart=new RegExp("["+nonASCIIidentifierStartChars+"]"),nonASCIIidentifier=new RegExp("["+nonASCIIidentifierStartChars+nonASCIIidentifierChars+"]");exports.newline=/[\n\r\u2028\u2029]/,exports.lineBreak=new RegExp("\r\n|"+exports.newline.source),exports.allLineBreaks=new RegExp(exports.lineBreak.source,"g"),exports.isIdentifierStart=function(code){return code<65?36===code||64===code:code<91||(code<97?95===code:code<123||code>=170&&nonASCIIidentifierStart.test(String.fromCharCode(code)))},exports.isIdentifierChar=function(code){return code<48?36===code:code<58||!(code<65)&&(code<91||(code<97?95===code:code<123||code>=170&&nonASCIIidentifier.test(String.fromCharCode(code))))}}(acorn);var OPERATOR_POSITION={before_newline:"before-newline",after_newline:"after-newline",preserve_newline:"preserve-newline"},OPERATOR_POSITION_BEFORE_OR_PRESERVE=[OPERATOR_POSITION.before_newline,OPERATOR_POSITION.preserve_newline],MODE={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"},InputScanner=function(input){var _input=input,_input_length=_input.length,_position=0;this.back=function(){_position-=1},this.hasNext=function(){return _position<_input_length},this.next=function(){var val=null;return this.hasNext()&&(val=_input.charAt(_position),_position+=1),val},this.peek=function(index){var val=null;return index=index||0,index+=_position,index>=0&&index<_input_length&&(val=_input.charAt(index)),val},this.peekCharCode=function(index){var val=0;return index=index||0,index+=_position,index>=0&&index<_input_length&&(val=_input.charCodeAt(index)),val},this.test=function(pattern,index){return index=index||0,pattern.lastIndex=_position+index,pattern.test(_input)},this.testChar=function(pattern,index){var val=this.peek(index);return null!==val&&pattern.test(val)},this.match=function(pattern){pattern.lastIndex=_position;var pattern_match=pattern.exec(_input);return pattern_match&&pattern_match.index===_position?_position+=pattern_match[0].length:pattern_match=null,pattern_match}},Token=function(type,text,newlines,whitespace_before,parent){this.type=type,this.text=text,this.comments_before=[],this.comments_after=[],this.newlines=newlines||0,this.wanted_newline=newlines>0,this.whitespace_before=whitespace_before||"",this.parent=parent||null,this.opened=null,this.directives=null},beautifier=new Beautifier(js_source_text,options);return beautifier.beautify()}__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return{js_beautify:js_beautify}}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}()},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(){function mergeOpts(allOptions,targetType){var name,finalOpts={};for(name in allOptions)name!==targetType&&(finalOpts[name]=allOptions[name]);if(targetType in allOptions)for(name in allOptions[targetType])finalOpts[name]=allOptions[targetType][name];return finalOpts}function css_beautify(source_text,options){function next(){return ch=source_text.charAt(++pos),ch||""}function peek(skipWhitespace){var result="",prev_pos=pos;return skipWhitespace&&eatWhitespace(),result=source_text.charAt(pos+1)||"",pos=prev_pos-1,next(),result}function eatString(endChars){for(var start=pos;next();)if("\\"===ch)next();else{if(endChars.indexOf(ch)!==-1)break;if("\n"===ch)break}return source_text.substring(start,pos+1)}function peekString(endChar){var prev_pos=pos,str=eatString(endChar);return pos=prev_pos-1,next(),str}function eatWhitespace(){for(var result="";whiteRe.test(peek());)next(),result+=ch;return result}function skipWhitespace(){var result="";for(ch&&whiteRe.test(ch)&&(result=ch);whiteRe.test(next());)result+=ch;return result}function eatComment(singleLine){var start=pos;for(singleLine="/"===peek(),next();next();){if(!singleLine&&"*"===ch&&"/"===peek()){next();break}if(singleLine&&"\n"===ch)return source_text.substring(start,pos)}return source_text.substring(start,pos)+ch}function lookBack(str){return source_text.substring(pos-str.length,pos).toLowerCase()===str}function foundNestedPseudoClass(){for(var openParen=0,i=pos+1;i<source_text.length;i++){var ch=source_text.charAt(i);if("{"===ch)return!0;if("("===ch)openParen+=1;else if(")"===ch){if(0===openParen)return!1;openParen-=1}else if(";"===ch||"}"===ch)return!1}return!1}function indent(){indentLevel++,basebaseIndentString+=singleIndent}function outdent(){indentLevel--,basebaseIndentString=basebaseIndentString.slice(0,-indentSize)}options=options||{},options=mergeOpts(options,"css"),source_text=source_text||"";var indentSize=options.indent_size?parseInt(options.indent_size,10):4,indentCharacter=options.indent_char||" ",selectorSeparatorNewline=void 0===options.selector_separator_newline||options.selector_separator_newline,end_with_newline=void 0!==options.end_with_newline&&options.end_with_newline,newline_between_rules=void 0===options.newline_between_rules||options.newline_between_rules,space_around_combinator=void 0!==options.space_around_combinator&&options.space_around_combinator;space_around_combinator=space_around_combinator||void 0!==options.space_around_selector_separator&&options.space_around_selector_separator;var eol=options.eol?options.eol:"auto";options.indent_with_tabs&&(indentCharacter="\t",indentSize=1),"auto"===eol&&(eol="\n",source_text&&lineBreak.test(source_text||"")&&(eol=source_text.match(lineBreak)[0])),eol=eol.replace(/\\r/,"\r").replace(/\\n/,"\n"),source_text=source_text.replace(allLineBreaks,"\n");var ch,whiteRe=/^\s+$/,pos=-1,parenLevel=0,basebaseIndentString=source_text.match(/^[\t ]*/)[0],singleIndent=new Array(indentSize+1).join(indentCharacter),indentLevel=0,nestedLevel=0,print={};print["{"]=function(ch){print.singleSpace(),output.push(ch),print.newLine()},print["}"]=function(ch){print.newLine(),output.push(ch),print.newLine()},print._lastCharWhitespace=function(){return whiteRe.test(output[output.length-1])},print.newLine=function(keepWhitespace){output.length&&(keepWhitespace||"\n"===output[output.length-1]||print.trim(),output.push("\n"),basebaseIndentString&&output.push(basebaseIndentString))},print.singleSpace=function(){output.length&&!print._lastCharWhitespace()&&output.push(" ")},print.preserveSingleSpace=function(){isAfterSpace&&print.singleSpace()},print.trim=function(){for(;print._lastCharWhitespace();)output.pop()};for(var output=[],insideRule=!1,insidePropertyValue=!1,enteringConditionalGroup=!1,top_ch="",last_top_ch="";;){var whitespace=skipWhitespace(),isAfterSpace=""!==whitespace,isAfterNewline=whitespace.indexOf("\n")!==-1;if(last_top_ch=top_ch,top_ch=ch,!ch)break;if("/"===ch&&"*"===peek()){var header=0===indentLevel;(isAfterNewline||header)&&print.newLine(),output.push(eatComment()),print.newLine(),header&&print.newLine(!0)}else if("/"===ch&&"/"===peek())isAfterNewline||"{"===last_top_ch||print.trim(),print.singleSpace(),output.push(eatComment()),print.newLine();else if("@"===ch)if(print.preserveSingleSpace(),"{"===peek())output.push(eatString("}"));else{output.push(ch);var variableOrRule=peekString(": ,;{}()[]/='\"");variableOrRule.match(/[ :]$/)&&(next(),variableOrRule=eatString(": ").replace(/\s$/,""),output.push(variableOrRule),print.singleSpace()),variableOrRule=variableOrRule.replace(/\s$/,""),variableOrRule in css_beautify.NESTED_AT_RULE&&(nestedLevel+=1,variableOrRule in css_beautify.CONDITIONAL_GROUP_RULE&&(enteringConditionalGroup=!0))}else"#"===ch&&"{"===peek()?(print.preserveSingleSpace(),output.push(eatString("}"))):"{"===ch?"}"===peek(!0)?(eatWhitespace(),next(),print.singleSpace(),output.push("{}"),print.newLine(),newline_between_rules&&0===indentLevel&&print.newLine(!0)):(indent(),print["{"](ch),enteringConditionalGroup?(enteringConditionalGroup=!1,insideRule=indentLevel>nestedLevel):insideRule=indentLevel>=nestedLevel):"}"===ch?(outdent(),print["}"](ch),insideRule=!1,insidePropertyValue=!1,nestedLevel&&nestedLevel--,newline_between_rules&&0===indentLevel&&print.newLine(!0)):":"===ch?(eatWhitespace(),!insideRule&&!enteringConditionalGroup||lookBack("&")||foundNestedPseudoClass()||lookBack("(")?(lookBack(" ")&&" "!==output[output.length-1]&&output.push(" "),":"===peek()?(next(),output.push("::")):output.push(":")):(output.push(":"),insidePropertyValue||(insidePropertyValue=!0,print.singleSpace()))):'"'===ch||"'"===ch?(print.preserveSingleSpace(),output.push(eatString(ch))):";"===ch?(insidePropertyValue=!1,output.push(ch),print.newLine()):"("===ch?lookBack("url")?(output.push(ch),eatWhitespace(),next()&&(")"!==ch&&'"'!==ch&&"'"!==ch?output.push(eatString(")")):pos--)):(parenLevel++,print.preserveSingleSpace(),output.push(ch),eatWhitespace()):")"===ch?(output.push(ch),parenLevel--):","===ch?(output.push(ch),eatWhitespace(),selectorSeparatorNewline&&!insidePropertyValue&&parenLevel<1?print.newLine():print.singleSpace()):(">"===ch||"+"===ch||"~"===ch)&&!insidePropertyValue&&parenLevel<1?space_around_combinator?(print.singleSpace(),output.push(ch),print.singleSpace()):(output.push(ch),eatWhitespace(),ch&&whiteRe.test(ch)&&(ch="")):"]"===ch?output.push(ch):"["===ch?(print.preserveSingleSpace(),output.push(ch)):"="===ch?(eatWhitespace(),ch="=",output.push(ch)):(print.preserveSingleSpace(),output.push(ch))}var sweetCode="";return basebaseIndentString&&(sweetCode+=basebaseIndentString),sweetCode+=output.join("").replace(/[\r\n\t ]+$/,""),end_with_newline&&(sweetCode+="\n"),"\n"!==eol&&(sweetCode=sweetCode.replace(/[\n]/g,eol)),sweetCode}var lineBreak=/\r\n|[\n\r\u2028\u2029]/,allLineBreaks=new RegExp(lineBreak.source,"g");css_beautify.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},css_beautify.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0},__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return{css_beautify:css_beautify}}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}()},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(){function ltrim(s){return s.replace(/^\s+/g,"")}function rtrim(s){return s.replace(/\s+$/g,"")}function mergeOpts(allOptions,targetType){var name,finalOpts={};for(name in allOptions)name!==targetType&&(finalOpts[name]=allOptions[name]);if(targetType in allOptions)for(name in allOptions[targetType])finalOpts[name]=allOptions[targetType][name];return finalOpts}function style_html(html_source,options,js_beautify,css_beautify){function Parser(){function tokenMatcher(delimiter){var token="",add=function(str){var newToken=token+str.toLowerCase();token=newToken.length<=delimiter.length?newToken:newToken.substr(newToken.length-delimiter.length,delimiter.length)},doesNotMatch=function(){return token.indexOf(delimiter)===-1};return{add:add,doesNotMatch:doesNotMatch}}return this.pos=0,this.token="",this.current_mode="CONTENT",this.tags={parent:"parent1",parentcount:1,parent1:""},this.tag_type="",this.token_text=this.last_token=this.last_text=this.token_type="",this.newlines=0,this.indent_content=indent_inner_html,this.indent_body_inner_html=indent_body_inner_html,this.indent_head_inner_html=indent_head_inner_html,this.Utils={whitespace:"\n\r\t ".split(""),single_token:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","?php","basefont","isindex"],extra_liners:extra_liners,in_array:function(what,arr){for(var i=0;i<arr.length;i++)if(what===arr[i])return!0;return!1}},this.is_whitespace=function(text){for(var n=0;n<text.length;n++)if(!this.Utils.in_array(text.charAt(n),this.Utils.whitespace))return!1;return!0},this.traverse_whitespace=function(){var input_char="";if(input_char=this.input.charAt(this.pos),this.Utils.in_array(input_char,this.Utils.whitespace)){for(this.newlines=0;this.Utils.in_array(input_char,this.Utils.whitespace);)preserve_newlines&&"\n"===input_char&&this.newlines<=max_preserve_newlines&&(this.newlines+=1),this.pos++,input_char=this.input.charAt(this.pos);return!0}return!1},this.space_or_wrap=function(content){return this.line_char_count>=this.wrap_line_length?(this.print_newline(!1,content),this.print_indentation(content),!0):(this.line_char_count++,content.push(" "),!1)},this.get_content=function(){for(var input_char="",content=[],handlebarsStarted=0;"<"!==this.input.charAt(this.pos)||2===handlebarsStarted;){if(this.pos>=this.input.length)return content.length?content.join(""):["","TK_EOF"];if(handlebarsStarted<2&&this.traverse_whitespace())this.space_or_wrap(content);else{if(input_char=this.input.charAt(this.pos),indent_handlebars){if("{"===input_char?handlebarsStarted+=1:handlebarsStarted<2&&(handlebarsStarted=0),"}"===input_char&&handlebarsStarted>0&&0===handlebarsStarted--)break;var peek3=this.input.substr(this.pos,3);if("{{#"===peek3||"{{/"===peek3)break;if("{{!"===peek3)return[this.get_tag(),"TK_TAG_HANDLEBARS_COMMENT"];if("{{"===this.input.substr(this.pos,2)&&"{{else}}"===this.get_tag(!0))break}this.pos++,this.line_char_count++,content.push(input_char)}}return content.length?content.join(""):""},this.get_contents_to=function(name){if(this.pos===this.input.length)return["","TK_EOF"];
var content="",reg_match=new RegExp("</"+name+"\\s*>","igm");reg_match.lastIndex=this.pos;var reg_array=reg_match.exec(this.input),end_script=reg_array?reg_array.index:this.input.length;return this.pos<end_script&&(content=this.input.substring(this.pos,end_script),this.pos=end_script),content},this.record_tag=function(tag){this.tags[tag+"count"]?(this.tags[tag+"count"]++,this.tags[tag+this.tags[tag+"count"]]=this.indent_level):(this.tags[tag+"count"]=1,this.tags[tag+this.tags[tag+"count"]]=this.indent_level),this.tags[tag+this.tags[tag+"count"]+"parent"]=this.tags.parent,this.tags.parent=tag+this.tags[tag+"count"]},this.retrieve_tag=function(tag){if(this.tags[tag+"count"]){for(var temp_parent=this.tags.parent;temp_parent&&tag+this.tags[tag+"count"]!==temp_parent;)temp_parent=this.tags[temp_parent+"parent"];temp_parent&&(this.indent_level=this.tags[tag+this.tags[tag+"count"]],this.tags.parent=this.tags[temp_parent+"parent"]),delete this.tags[tag+this.tags[tag+"count"]+"parent"],delete this.tags[tag+this.tags[tag+"count"]],1===this.tags[tag+"count"]?delete this.tags[tag+"count"]:this.tags[tag+"count"]--}},this.indent_to_tag=function(tag){if(this.tags[tag+"count"]){for(var temp_parent=this.tags.parent;temp_parent&&tag+this.tags[tag+"count"]!==temp_parent;)temp_parent=this.tags[temp_parent+"parent"];temp_parent&&(this.indent_level=this.tags[tag+this.tags[tag+"count"]])}},this.get_tag=function(peek){var tag_start,tag_end,tag_start_char,tail,input_char="",content=[],comment="",space=!1,first_attr=!0,has_wrapped_attrs=!1,orig_pos=this.pos,orig_line_char_count=this.line_char_count,is_tag_closed=!1;peek=void 0!==peek&&peek;do{if(this.pos>=this.input.length)return peek&&(this.pos=orig_pos,this.line_char_count=orig_line_char_count),content.length?content.join(""):["","TK_EOF"];if(input_char=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(input_char,this.Utils.whitespace))space=!0;else{if("'"!==input_char&&'"'!==input_char||(input_char+=this.get_unformatted(input_char),space=!0),"="===input_char&&(space=!1),tail=this.input.substr(this.pos-1),!is_wrap_attributes_force_expand_multiline||!has_wrapped_attrs||is_tag_closed||">"!==input_char&&"/"!==input_char||tail.match(/^\/?\s*>/)&&(space=!1,is_tag_closed=!0,this.print_newline(!1,content),this.print_indentation(content)),content.length&&"="!==content[content.length-1]&&">"!==input_char&&space){var wrapped=this.space_or_wrap(content),indentAttrs=wrapped&&"/"!==input_char&&!is_wrap_attributes_force;if(space=!1,is_wrap_attributes_force&&"/"!==input_char){var force_first_attr_wrap=!1;if(is_wrap_attributes_force_expand_multiline&&first_attr){var is_only_attribute=null!==tail.match(/^\S*(="([^"]|\\")*")?\s*\/?\s*>/);force_first_attr_wrap=!is_only_attribute}first_attr&&!force_first_attr_wrap||(this.print_newline(!1,content),this.print_indentation(content),indentAttrs=!0)}if(indentAttrs){has_wrapped_attrs=!0;var alignment_size=wrap_attributes_indent_size;is_wrap_attributes_force_aligned&&(alignment_size=content.indexOf(" ")+1);for(var count=0;count<alignment_size;count++)content.push(" ")}if(first_attr)for(var i=0;i<content.length;i++)if(" "===content[i]){first_attr=!1;break}}if(indent_handlebars&&"<"===tag_start_char&&input_char+this.input.charAt(this.pos)==="{{"&&(input_char+=this.get_unformatted("}}"),content.length&&" "!==content[content.length-1]&&"<"!==content[content.length-1]&&(input_char=" "+input_char),space=!0),"<"!==input_char||tag_start_char||(tag_start=this.pos-1,tag_start_char="<"),indent_handlebars&&!tag_start_char&&content.length>=2&&"{"===content[content.length-1]&&"{"===content[content.length-2]&&(tag_start="#"===input_char||"/"===input_char||"!"===input_char?this.pos-3:this.pos-2,tag_start_char="{"),this.line_char_count++,content.push(input_char),content[1]&&("!"===content[1]||"?"===content[1]||"%"===content[1])){content=[this.get_comment(tag_start)];break}if(indent_handlebars&&content[1]&&"{"===content[1]&&content[2]&&"!"===content[2]){content=[this.get_comment(tag_start)];break}if(indent_handlebars&&"{"===tag_start_char&&content.length>2&&"}"===content[content.length-2]&&"}"===content[content.length-1])break}}while(">"!==input_char);var tag_index,tag_offset,tag_complete=content.join("");tag_index=tag_complete.indexOf(" ")!==-1?tag_complete.indexOf(" "):tag_complete.indexOf("\n")!==-1?tag_complete.indexOf("\n"):"{"===tag_complete.charAt(0)?tag_complete.indexOf("}"):tag_complete.indexOf(">"),tag_offset="<"!==tag_complete.charAt(0)&&indent_handlebars?"#"===tag_complete.charAt(2)?3:2:1;var tag_check=tag_complete.substring(tag_offset,tag_index).toLowerCase();return"/"===tag_complete.charAt(tag_complete.length-2)||this.Utils.in_array(tag_check,this.Utils.single_token)?peek||(this.tag_type="SINGLE"):indent_handlebars&&"{"===tag_complete.charAt(0)&&"else"===tag_check?peek||(this.indent_to_tag("if"),this.tag_type="HANDLEBARS_ELSE",this.indent_content=!0,this.traverse_whitespace()):this.is_unformatted(tag_check,unformatted)||this.is_unformatted(tag_check,content_unformatted)?(comment=this.get_unformatted("</"+tag_check+">",tag_complete),content.push(comment),tag_end=this.pos-1,this.tag_type="SINGLE"):"script"===tag_check&&(tag_complete.search("type")===-1||tag_complete.search("type")>-1&&tag_complete.search(/\b(text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect)/)>-1)?peek||(this.record_tag(tag_check),this.tag_type="SCRIPT"):"style"===tag_check&&(tag_complete.search("type")===-1||tag_complete.search("type")>-1&&tag_complete.search("text/css")>-1)?peek||(this.record_tag(tag_check),this.tag_type="STYLE"):"!"===tag_check.charAt(0)?peek||(this.tag_type="SINGLE",this.traverse_whitespace()):peek||("/"===tag_check.charAt(0)?(this.retrieve_tag(tag_check.substring(1)),this.tag_type="END"):(this.record_tag(tag_check),"html"!==tag_check.toLowerCase()&&(this.indent_content=!0),this.tag_type="START"),this.traverse_whitespace()&&this.space_or_wrap(content),this.Utils.in_array(tag_check,this.Utils.extra_liners)&&(this.print_newline(!1,this.output),this.output.length&&"\n"!==this.output[this.output.length-2]&&this.print_newline(!0,this.output))),peek&&(this.pos=orig_pos,this.line_char_count=orig_line_char_count),content.join("")},this.get_comment=function(start_pos){var comment="",delimiter=">",matched=!1;this.pos=start_pos;var input_char=this.input.charAt(this.pos);for(this.pos++;this.pos<=this.input.length&&(comment+=input_char,comment.charAt(comment.length-1)!==delimiter.charAt(delimiter.length-1)||comment.indexOf(delimiter)===-1);)!matched&&comment.length<10&&(0===comment.indexOf("<![if")?(delimiter="<![endif]>",matched=!0):0===comment.indexOf("<![cdata[")?(delimiter="]]>",matched=!0):0===comment.indexOf("<![")?(delimiter="]>",matched=!0):0===comment.indexOf("<!--")?(delimiter="-->",matched=!0):0===comment.indexOf("{{!--")?(delimiter="--}}",matched=!0):0===comment.indexOf("{{!")?5===comment.length&&comment.indexOf("{{!--")===-1&&(delimiter="}}",matched=!0):0===comment.indexOf("<?")?(delimiter="?>",matched=!0):0===comment.indexOf("<%")&&(delimiter="%>",matched=!0)),input_char=this.input.charAt(this.pos),this.pos++;return comment},this.get_unformatted=function(delimiter,orig_tag){if(orig_tag&&orig_tag.toLowerCase().indexOf(delimiter)!==-1)return"";var input_char="",content="",space=!0,delimiterMatcher=tokenMatcher(delimiter);do{if(this.pos>=this.input.length)return content;if(input_char=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(input_char,this.Utils.whitespace)){if(!space){this.line_char_count--;continue}if("\n"===input_char||"\r"===input_char){content+="\n",this.line_char_count=0;continue}}content+=input_char,delimiterMatcher.add(input_char),this.line_char_count++,space=!0,indent_handlebars&&"{"===input_char&&content.length&&"{"===content.charAt(content.length-2)&&(content+=this.get_unformatted("}}"))}while(delimiterMatcher.doesNotMatch());return content},this.get_token=function(){var token;if("TK_TAG_SCRIPT"===this.last_token||"TK_TAG_STYLE"===this.last_token){var type=this.last_token.substr(7);return token=this.get_contents_to(type),"string"!=typeof token?token:[token,"TK_"+type]}if("CONTENT"===this.current_mode)return token=this.get_content(),"string"!=typeof token?token:[token,"TK_CONTENT"];if("TAG"===this.current_mode){if(token=this.get_tag(),"string"!=typeof token)return token;var tag_name_type="TK_TAG_"+this.tag_type;return[token,tag_name_type]}},this.get_full_indent=function(level){return level=this.indent_level+level||0,level<1?"":Array(level+1).join(this.indent_string)},this.is_unformatted=function(tag_check,unformatted){if(!this.Utils.in_array(tag_check,unformatted))return!1;if("a"!==tag_check.toLowerCase()||!this.Utils.in_array("a",unformatted))return!0;var next_tag=this.get_tag(!0),tag=(next_tag||"").match(/^\s*<\s*\/?([a-z]*)\s*[^>]*>\s*$/);return!(tag&&!this.Utils.in_array(tag,unformatted))},this.printer=function(js_source,indent_character,indent_size,wrap_line_length,brace_style){this.input=js_source||"",this.input=this.input.replace(/\r\n|[\r\u2028\u2029]/g,"\n"),this.output=[],this.indent_character=indent_character,this.indent_string="",this.indent_size=indent_size,this.brace_style=brace_style,this.indent_level=0,this.wrap_line_length=wrap_line_length,this.line_char_count=0;for(var i=0;i<this.indent_size;i++)this.indent_string+=this.indent_character;this.print_newline=function(force,arr){this.line_char_count=0,arr&&arr.length&&(force||"\n"!==arr[arr.length-1])&&("\n"!==arr[arr.length-1]&&(arr[arr.length-1]=rtrim(arr[arr.length-1])),arr.push("\n"))},this.print_indentation=function(arr){for(var i=0;i<this.indent_level;i++)arr.push(this.indent_string),this.line_char_count+=this.indent_string.length},this.print_token=function(text){this.is_whitespace(text)&&!this.output.length||((text||""!==text)&&this.output.length&&"\n"===this.output[this.output.length-1]&&(this.print_indentation(this.output),text=ltrim(text)),this.print_token_raw(text))},this.print_token_raw=function(text){this.newlines>0&&(text=rtrim(text)),text&&""!==text&&(text.length>1&&"\n"===text.charAt(text.length-1)?(this.output.push(text.slice(0,-1)),this.print_newline(!1,this.output)):this.output.push(text));for(var n=0;n<this.newlines;n++)this.print_newline(n>0,this.output);this.newlines=0},this.indent=function(){this.indent_level++},this.unindent=function(){this.indent_level>0&&this.indent_level--}},this}var multi_parser,indent_inner_html,indent_body_inner_html,indent_head_inner_html,indent_size,indent_character,wrap_line_length,brace_style,unformatted,content_unformatted,preserve_newlines,max_preserve_newlines,indent_handlebars,wrap_attributes,wrap_attributes_indent_size,is_wrap_attributes_force,is_wrap_attributes_force_expand_multiline,is_wrap_attributes_force_aligned,end_with_newline,extra_liners,eol;for(options=options||{},options=mergeOpts(options,"html"),void 0!==options.wrap_line_length&&0!==parseInt(options.wrap_line_length,10)||void 0===options.max_char||0===parseInt(options.max_char,10)||(options.wrap_line_length=options.max_char),indent_inner_html=void 0!==options.indent_inner_html&&options.indent_inner_html,indent_body_inner_html=void 0===options.indent_body_inner_html||options.indent_body_inner_html,indent_head_inner_html=void 0===options.indent_head_inner_html||options.indent_head_inner_html,indent_size=void 0===options.indent_size?4:parseInt(options.indent_size,10),indent_character=void 0===options.indent_char?" ":options.indent_char,brace_style=void 0===options.brace_style?"collapse":options.brace_style,wrap_line_length=0===parseInt(options.wrap_line_length,10)?32786:parseInt(options.wrap_line_length||250,10),unformatted=options.unformatted||["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","address","big","dt","ins","strike","tt"],content_unformatted=options.content_unformatted||["pre"],preserve_newlines=void 0===options.preserve_newlines||options.preserve_newlines,max_preserve_newlines=preserve_newlines?isNaN(parseInt(options.max_preserve_newlines,10))?32786:parseInt(options.max_preserve_newlines,10):0,indent_handlebars=void 0!==options.indent_handlebars&&options.indent_handlebars,wrap_attributes=void 0===options.wrap_attributes?"auto":options.wrap_attributes,wrap_attributes_indent_size=isNaN(parseInt(options.wrap_attributes_indent_size,10))?indent_size:parseInt(options.wrap_attributes_indent_size,10),is_wrap_attributes_force="force"===wrap_attributes.substr(0,"force".length),is_wrap_attributes_force_expand_multiline="force-expand-multiline"===wrap_attributes,is_wrap_attributes_force_aligned="force-aligned"===wrap_attributes,end_with_newline=void 0!==options.end_with_newline&&options.end_with_newline,extra_liners="object"==typeof options.extra_liners&&options.extra_liners?options.extra_liners.concat():"string"==typeof options.extra_liners?options.extra_liners.split(","):"head,body,/html".split(","),eol=options.eol?options.eol:"auto",options.indent_with_tabs&&(indent_character="\t",indent_size=1),"auto"===eol&&(eol="\n",html_source&&lineBreak.test(html_source||"")&&(eol=html_source.match(lineBreak)[0])),eol=eol.replace(/\\r/,"\r").replace(/\\n/,"\n"),html_source=html_source.replace(allLineBreaks,"\n"),multi_parser=new Parser,multi_parser.printer(html_source,indent_character,indent_size,wrap_line_length,brace_style);;){var t=multi_parser.get_token();if(multi_parser.token_text=t[0],multi_parser.token_type=t[1],"TK_EOF"===multi_parser.token_type)break;switch(multi_parser.token_type){case"TK_TAG_START":multi_parser.print_newline(!1,multi_parser.output),multi_parser.print_token(multi_parser.token_text),multi_parser.indent_content&&(!multi_parser.indent_body_inner_html&&multi_parser.token_text.match(/<body(?:.*)>/)||!multi_parser.indent_head_inner_html&&multi_parser.token_text.match(/<head(?:.*)>/)||multi_parser.indent(),multi_parser.indent_content=!1),multi_parser.current_mode="CONTENT";break;case"TK_TAG_STYLE":case"TK_TAG_SCRIPT":multi_parser.print_newline(!1,multi_parser.output),multi_parser.print_token(multi_parser.token_text),multi_parser.current_mode="CONTENT";break;case"TK_TAG_END":if("TK_CONTENT"===multi_parser.last_token&&""===multi_parser.last_text){var tag_name=(multi_parser.token_text.match(/\w+/)||[])[0],tag_extracted_from_last_output=null;multi_parser.output.length&&(tag_extracted_from_last_output=multi_parser.output[multi_parser.output.length-1].match(/(?:<|{{#)\s*(\w+)/)),(null===tag_extracted_from_last_output||tag_extracted_from_last_output[1]!==tag_name&&!multi_parser.Utils.in_array(tag_extracted_from_last_output[1],unformatted))&&multi_parser.print_newline(!1,multi_parser.output)}multi_parser.print_token(multi_parser.token_text),multi_parser.current_mode="CONTENT";break;case"TK_TAG_SINGLE":var tag_check=multi_parser.token_text.match(/^\s*<([a-z-]+)/i);tag_check&&multi_parser.Utils.in_array(tag_check[1],unformatted)||multi_parser.print_newline(!1,multi_parser.output),multi_parser.print_token(multi_parser.token_text),multi_parser.current_mode="CONTENT";break;case"TK_TAG_HANDLEBARS_ELSE":for(var foundIfOnCurrentLine=!1,lastCheckedOutput=multi_parser.output.length-1;lastCheckedOutput>=0&&"\n"!==multi_parser.output[lastCheckedOutput];lastCheckedOutput--)if(multi_parser.output[lastCheckedOutput].match(/{{#if/)){foundIfOnCurrentLine=!0;break}foundIfOnCurrentLine||multi_parser.print_newline(!1,multi_parser.output),multi_parser.print_token(multi_parser.token_text),multi_parser.indent_content&&(multi_parser.indent(),multi_parser.indent_content=!1),multi_parser.current_mode="CONTENT";break;case"TK_TAG_HANDLEBARS_COMMENT":multi_parser.print_token(multi_parser.token_text),multi_parser.current_mode="TAG";break;case"TK_CONTENT":multi_parser.print_token(multi_parser.token_text),multi_parser.current_mode="TAG";break;case"TK_STYLE":case"TK_SCRIPT":if(""!==multi_parser.token_text){multi_parser.print_newline(!1,multi_parser.output);var _beautifier,text=multi_parser.token_text,script_indent_level=1;"TK_SCRIPT"===multi_parser.token_type?_beautifier="function"==typeof js_beautify&&js_beautify:"TK_STYLE"===multi_parser.token_type&&(_beautifier="function"==typeof css_beautify&&css_beautify),"keep"===options.indent_scripts?script_indent_level=0:"separate"===options.indent_scripts&&(script_indent_level=-multi_parser.indent_level);var indentation=multi_parser.get_full_indent(script_indent_level);if(_beautifier){var Child_options=function(){this.eol="\n"};Child_options.prototype=options;var child_options=new Child_options;text=_beautifier(text.replace(/^\s*/,indentation),child_options)}else{var white=text.match(/^\s*/)[0],_level=white.match(/[^\n\r]*$/)[0].split(multi_parser.indent_string).length-1,reindent=multi_parser.get_full_indent(script_indent_level-_level);text=text.replace(/^\s*/,indentation).replace(/\r\n|\r|\n/g,"\n"+reindent).replace(/\s+$/,"")}text&&(multi_parser.print_token_raw(text),multi_parser.print_newline(!0,multi_parser.output))}multi_parser.current_mode="TAG";break;default:""!==multi_parser.token_text&&multi_parser.print_token(multi_parser.token_text)}multi_parser.last_token=multi_parser.token_type,multi_parser.last_text=multi_parser.token_text}var sweet_code=multi_parser.output.join("").replace(/[\r\n\t ]+$/,"");return end_with_newline&&(sweet_code+="\n"),"\n"!==eol&&(sweet_code=sweet_code.replace(/[\n]/g,eol)),sweet_code}var lineBreak=/\r\n|[\n\r\u2028\u2029]/,allLineBreaks=new RegExp(lineBreak.source,"g");__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__,__webpack_require__(32),__webpack_require__(33)],__WEBPACK_AMD_DEFINE_RESULT__=function(requireamd){var js_beautify=__webpack_require__(32),css_beautify=__webpack_require__(33);return{html_beautify:function(html_source,options){return style_html(html_source,options,js_beautify.js_beautify,css_beautify.css_beautify)}}}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}()},function(module,exports){"use strict";function jfGridFilter(){return{restrict:"E",scope:{disableButton:"=",filterField:"@",filterField2:"@",grid:"=filterGrid",filterOnChange:"@",autoFocus:"@"},controller:jfGridFilterController,controllerAs:"jfGridFilter",templateUrl:"directives/jf_grid_filter/jf_grid_filter.html",bindToController:!0}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfGridFilter=jfGridFilter,Object.defineProperty(exports,"__esModule",{value:!0});var jfGridFilterController=function(){function jfGridFilterController($scope,$timeout){_classCallCheck(this,jfGridFilterController),this.$timeout=$timeout,this.$scope=$scope,this.gridFilter=""}return jfGridFilterController.$inject=["$scope","$timeout"],_createClass(jfGridFilterController,{$onInit:{value:function(){var _this=this;if(this.grid.enableFiltering=!0,this.grid.setFilter=function(filterString){_this.gridFilter=filterString,_this.doFilter()},this.filterField.indexOf(".")!==-1){var splitted=this.filterField.split(".");this.filterField=splitted[0],this.filterSubField=splitted[1]}if(this.filterField2.indexOf(".")!==-1){var splitted=this.filterField2.split(".");this.filterField2=splitted[0],this.filterSubField2=splitted[1]}this.attachColumns(),this.$scope.$on("$destroy",function(){return _this.onDestroy()})}},attachColumns:{value:function(){this.cols=this.grid.columnDefs,this.column=_.find(this.cols,_.matchesProperty("field",this.filterField))||this.cols[0],this.filterField2&&(this.column2=_.find(this.cols,_.matchesProperty("field",this.filterField2)))}},shouldFilterOnChange:{value:function(){return"false"!==this.filterOnChange}},doFilter:{value:function(){var _this=this;this.cols!==this.grid.columnDefs&&this.attachColumns(),this.column&&(this.column2?this.column.filter={term:"*"+this.gridFilter+"*",condition:function(searchTerm,cellValue,row,column){cellValue=void 0!==cellValue?cellValue:"";var regex=new RegExp(".*"+searchTerm.split("\\*").join(".*")+".*","i"),cell2Value=row.entity[_this.column2.field];cell2Value=void 0!==cell2Value?cell2Value:"";var subsVisible=_this._isSubVisible(cellValue,column,regex)||_this._isSubVisible(cell2Value,_this.column2,regex);return cellValue&&cellValue.$value&&(cellValue=cellValue.$value),cell2Value&&cell2Value.$value&&(cell2Value=cell2Value.$value),regex.test(_this.filterSubField?cellValue[_this.filterSubField]:cellValue)||regex.test(_this.filterSubField2?cell2Value[_this.filterSubField2]:cell2Value)||row.entity._emptyRow||row.entity._specialRow||subsVisible}}:this.column.filter={term:"*"+this.gridFilter+"*",condition:function(searchTerm,cellValue,row,column){cellValue=void 0!==cellValue?cellValue:"";var regex=new RegExp(".*"+searchTerm.split("\\*").join(".*")+".*","i"),subsVisible=_this._isSubVisible(cellValue,column,regex);return cellValue&&cellValue.$value&&(cellValue=cellValue.$value),regex.test(_this.filterSubField?cellValue[_this.filterSubField]:cellValue)||row.entity._emptyRow||row.entity._specialRow||subsVisible}},this.grid.refreshGridAfterFiltering(this))}},_isSubVisible:{value:function(cellValue,column,regex){var subsVisible=!1;if(cellValue&&cellValue.$row&&cellValue.$row.$expandable)for(var i=0;i<cellValue.$row.$subRows.length;i++)if(regex.test(cellValue.$row.$subRows[i][column.field].$value)){subsVisible=!0;break}return subsVisible}},onChange:{value:function(){this.shouldFilterOnChange()&&this.doFilter()}},onDestroy:{value:function(){this.gridFilter="",this.doFilter()}},getPlaceHolder:{value:function(){return this.column2?"Filter by "+(this.column.displayName||this.column.name)+" or "+(this.column2.displayName||this.column2.name):this.column?"Filter by "+(this.column.displayName||this.column.name):"FILTER UNAVAILABLE"}}}),jfGridFilterController}()},function(module,exports){"use strict";function jfTabs(){return{scope:{tabs:"=",dictionary:"=",onTabChange:"&",tabWidth:"@",containerMargin:"@"},transclude:!0,controller:jfTabsController,controllerAs:"jfTabs",templateUrl:"directives/jf_tabs/jf_tabs.html",bindToController:!0}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfTabs=jfTabs,Object.defineProperty(exports,"__esModule",{value:!0});var jfTabsController=function(){function jfTabsController($scope,$state,$timeout,$element,$stateParams,JFrogEventBus,$rootScope){_classCallCheck(this,jfTabsController),this.$scope=$scope,this.$element=$element,this.stateParams=$stateParams,this.$timeout=$timeout,this.state=$state,this.tabsCollapsed=[],this.JFrogEventBus=JFrogEventBus,this.$rootScope=$rootScope,this.EVENTS=JFrogEventBus.getEventsDefinition(),this.currentTab={name:this.stateParams.tab}}return jfTabsController.$inject=["$scope","$state","$timeout","$element","$stateParams","JFrogEventBus","$rootScope"],_createClass(jfTabsController,{$onInit:{value:function(){this._registerEvents(),this.initTabs()}},initTabs:{value:function(){var _this=this;this.$timeout(function(){_this._calculateTabsSize();var tab=_this._getTab(_this.currentTab);if(!tab||tab.isVisible===!1||tab.isDisabled){var firstValidTab=_.findIndex(_this.tabs,function(tab){return tab.isVisible!==!1&&!tab.isDisabled});firstValidTab!==-1&&_this.onClickTab(_this.tabs[firstValidTab],!1)}else _this._ensureTabVisible(_this.currentTab)})}},_calculateTabsSize:{value:function(){var visibleTabs=_.filter(this.tabs,function(tab){return tab.isVisible!==!1}),container=$(this.$element).children().eq(0),containerWidth=container.width(),tabWidth=this.getTabWidthForStyle().endsWith("px")?parseInt(this.tabWidth):containerWidth*parseInt(this.tabWidth)/100,containerMargin=parseInt(this.containerMargin),expanderWidth=$(".action-expand").eq(0).outerWidth(!0),tabsToTake=Math.floor((containerWidth-expanderWidth-containerMargin)/tabWidth);this.tabsCollapsed=_.takeRight(visibleTabs,visibleTabs.length-tabsToTake),this.tabsVisible=_.take(visibleTabs,tabsToTake)}},_registerEvents:{value:function(){var _this=this;this.JFrogEventBus.registerOnScope(this.$scope,this.EVENTS.TABS_REFRESH,function(){return _this.initTabs()}),this.JFrogEventBus.registerOnScope(this.$scope,this.EVENTS.TABS_URL_CHANGED,function(stateParams){_this.currentTab={name:stateParams.tab}});var unwatch=this.$scope.$watch("jfTabs.tabs",function(newVal,oldVal){_this._calculateTabsSize()},!0),stateChangeListner=this.$rootScope.$on("$stateChangeSuccess",function(e,toState,toParams,fromState,fromParams){toState.tabChange=!1});$(window).on("resize.tabs",function(){_this.initTabs(),_this.$scope.$digest()}),this.$scope.$on("$destroy",function(){$(window).off("resize.tabs"),unwatch(),stateChangeListner()})}},onClickTab:{value:function(tab,tabChange){this.onTabChange({tab:tab})===!1||tab.isDisabled||(this._ensureTabVisible(tab),this.state.go(this.state.current,{tab:tab.name},{notify:!1}),this.currentTab.name=tab.name,this.state.current.tabChange=tabChange)}},_ensureTabVisible:{value:function(tab){var collapsedTab=this._getCollapsedTab(tab);if(collapsedTab){var collapsedTabIndex=this.tabsCollapsed.indexOf(collapsedTab),tabToReplace=this.tabsVisible[this.tabsVisible.length-1];tabToReplace&&(this.tabsCollapsed[collapsedTabIndex]=tabToReplace,this.tabsVisible[this.tabsVisible.length-1]=collapsedTab)}}},isActiveTab:{value:function(tab){return tab.name===this.currentTab.name}},_getTab:{value:function(tab){var currentTab=_.findWhere(this.tabs,{name:tab.name});return currentTab}},_getCollapsedTab:{value:function(tab){return _.findWhere(this.tabsCollapsed,{name:tab.name})}},getTabWidthForStyle:{value:function(){return this.tabWidth.endsWith("%")?this.tabWidth:this.tabWidth.endsWith("px")?this.tabWidth:this.tabWidth+"px"}},hasClass:{value:function(obj){if(obj&&obj["class"])return!0}}}),jfTabsController}()},function(module,exports){"use strict";function jfTab(){return{scope:{name:"@"},require:"^jfTabs",templateUrl:"directives/jf_tabs/jf_tab.html",transclude:!0,link:function(scope,element,attrs,ctrl){scope.getCurrentTabName=function(){return ctrl.currentTab&&ctrl.currentTab.name}}}}exports.jfTab=jfTab,Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports){"use strict";function jfDrawer(){return{scope:{header:"@",description:"@",openFirst:"@?",bindOpen:"<"},require:"^jfDrawers",templateUrl:"directives/jf_drawers/jf_drawer.html",transclude:!0,controller:jfDrawerController,controllerAs:"jfDrawer",bindToController:!0}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfDrawer=jfDrawer,Object.defineProperty(exports,"__esModule",{value:!0});var jfDrawerController=function(){function jfDrawerController(JFrogUIUtils,$timeout,$scope){_classCallCheck(this,jfDrawerController),this.opened=!1,this.utils=JFrogUIUtils,this.$scope=$scope}return _createClass(jfDrawerController,{$onInit:{value:function(){var _this=this;"0"===this.openFirst&&(this.opened=!0),this.$scope.$watch(angular.bind(this,function(){return _this.bindOpen}),function(val){"boolean"==typeof val&&(_this.opened=val,_this.opened&&_this.utils.fireResizeEvent())})}},onClickHeader:{value:function(){this.opened=!this.opened,this.opened&&this.utils.fireResizeEvent()}}}),jfDrawerController}()},function(module,exports){"use strict";function jfPanel(){return{scope:{jfPanelHeading:"@",jfPanelHelpTooltip:"@",jfPanelClasses:"@",bordered:"=?"},templateUrl:"directives/jf_panel/jf_panel.html",transclude:!0,controller:jfPanelController,controllerAs:"$ctrl"}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfPanel=jfPanel,Object.defineProperty(exports,"__esModule",{value:!0});var jfPanelController=function(){function jfPanelController($element){_classCallCheck(this,jfPanelController),this.$element=$element}return _createClass(jfPanelController,{hasNestedJfPanel:{value:function(){return this.$element.has("jf-panel").length>0}}}),jfPanelController}()},function(module,exports){"use strict";function jfUiSelect(){return{controller:jfUiSelectController,controllerAs:"jfUiSelect",bindToController:!0,scope:{jfSelectModel:"=",jfSelectOptions:"=",jfSelectDisabled:"=",jfSelectDisableMarquee:"=",jfSelectMultiple:"@?",jfSelectChange:"&?",jfSelectDisplayAttr:"@",jfSelectDisplayFunc:"&?",jfSelectFilterAttr:"@",jfSelectPlaceholder:"@",jfSelectLoadChunks:"@?",jfSelectLoadMoreLabel:"@?",jfSelectHelpTooltips:"&?"},compile:function(tElement,tAttrs,transclude){_.has(tAttrs,"jfSelectMultiple")&&$(tElement).find("ui-select").attr("multiple","")},templateUrl:"directives/jf_ui_select/jf_ui_select.html"}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfUiSelect=jfUiSelect,Object.defineProperty(exports,"__esModule",{value:!0});var jfUiSelectController=function(){function jfUiSelectController(){_classCallCheck(this,jfUiSelectController)}return _createClass(jfUiSelectController,{$onInit:{value:function(){var _this=this;this.displayLabel=function(item){return null===item||void 0===item?null:_this.isMorePlaceholder(item)?_this.jfSelectLoadMoreLabel||"More Options...":item[_this.jfSelectDisabled]?null:_this.jfSelectDisplayAttr?item[_this.jfSelectDisplayAttr]:_this.jfSelectDisplayFunc?_this.jfSelectDisplayFunc({$item:item}):item},void 0===this.jfSelectLoadChunks||(""===this.jfSelectLoadChunks?(this.chunkSize=10,this.jfSelectOptionsView=[]):(this.chunkSize=parseInt(this.jfSelectLoadChunks)<4?4:parseInt(this.jfSelectLoadChunks),this.jfSelectOptionsView=[]))}},onSelect:{value:function($item,$model){this.jfSelectChange&&this.jfSelectChange(),this.jfSelectOptionsView&&(this.jfSelectOptionsView=[])}},onClick:{value:function(item,$event){
if(this.jfSelectOptionsView&&this.isMorePlaceholder(item)){var newLoads=this[this.filtered?"filtered":"jfSelectOptions"].slice(this.loaded,this.loaded+this.chunkSize);this.jfSelectOptionsView=this.jfSelectOptionsView.slice(0,this.loaded).concat(newLoads),this[this.filtered?"filtered":"jfSelectOptions"].length>this.jfSelectOptionsView.length&&this.jfSelectOptionsView.push(this.createMorePlaceholder()),this.loaded+=this.chunkSize,$event.preventDefault(),$event.stopPropagation()}}},onOpenList:{value:function(){this.jfSelectOptionsView&&(this.filter="",this.filtered=null,this.loaded=this.chunkSize,this.jfSelectOptionsView=this.jfSelectOptions.slice(0,this.loaded),this.jfSelectOptions.length>this.jfSelectOptionsView.length&&this.jfSelectOptionsView.push(this.createMorePlaceholder()))}},refresh:{value:function(search){var _this=this;if(this.jfSelectOptionsView){if(!search.trim())return void this.onOpenList();this.filter=search,this.filtered=_.filter(this.jfSelectOptions,function(option){return _this.jfSelectFilterAttr?option[_this.jfSelectFilterAttr].toLowerCase().indexOf(search.toLowerCase())!==-1:_this.displayLabel(option).toLowerCase().indexOf(search.toLowerCase())!==-1}),this.loaded=this.chunkSize,this.jfSelectOptionsView=this.filtered.slice(0,this.loaded),this.filtered.length>this.jfSelectOptionsView.length&&this.jfSelectOptionsView.push(this.createMorePlaceholder())}}},createMorePlaceholder:{value:function(){var _this=this,ph={$$specialItem:"more",toString:function(s){return _this.filter}};return this.jfSelectFilterAttr&&(ph[this.jfSelectFilterAttr]=this.filter),ph}},isMorePlaceholder:{value:function(item){return _.isObject(item)&&"more"===item.$$specialItem}}}),jfUiSelectController}()},function(module,exports){"use strict";function jfRevealInput(){return{restrict:"A",template:'<i class="icon icon-view jf-reveal-input"\n\t\t\t\t\t  jf-tooltip="{{jfRevealInput.tooltipText}}"\n\t\t\t\t\t  ng-if="jfRevealInput.hasData()"\n\t\t   \t\t\t  ng-click="jfRevealInput.updateInput()"></i>',controller:jfRevealInputController,controllerAs:"jfRevealInput",bindToController:!0,scope:{inputId:"@jfRevealInput",objectName:"@"}}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfRevealInput=jfRevealInput,Object.defineProperty(exports,"__esModule",{value:!0});var jfRevealInputController=function(){function jfRevealInputController($element){_classCallCheck(this,jfRevealInputController),this.$elementIcon=$element.find("i")}return jfRevealInputController.$inject=["$element"],_createClass(jfRevealInputController,{$onInit:{value:function(){this.tooltipText="Show "+this.objectName}},updateInput:{value:function(){var input=$("#"+this.inputId),type=input.attr("type");"text"===type?(input.attr("type","password"),this.$elementIcon.removeClass("icon-unview").addClass("icon-view"),this.tooltipText=this.tooltipText.replace("Hide","Show")):(input.attr("type","text"),this.$elementIcon.removeClass("icon-view").addClass("icon-unview"),this.tooltipText=this.tooltipText.replace("Show","Hide"))}},hasData:{value:function(){var input=$("#"+this.inputId);return!!input.val()}}}),jfRevealInputController}()},function(module,exports){"use strict";function jfDisableNgAnimate(){return{restrict:"A",scope:!1,controller:jfDisableNgAnimateController}}var _classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfDisableNgAnimate=jfDisableNgAnimate,Object.defineProperty(exports,"__esModule",{value:!0});var jfDisableNgAnimateController=["$element","$animate",function jfDisableNgAnimateController($element,$animate){_classCallCheck(this,jfDisableNgAnimateController),$animate.enabled($element,!1)}]},function(module,exports){"use strict";function jfIncludeReplace(){return{require:"ngInclude",restrict:"A",link:function(scope,el,attrs){el.replaceWith(el.children())}}}exports.jfIncludeReplace=jfIncludeReplace,Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports,__webpack_require__){"use strict";function jfEnterPress(){return{scope:{callback:"&jfEnterPress"},controllerAs:"jfEnterPress",bindToController:!0,controller:jfEnterPressController}}var _interopRequire=function(obj){return obj&&obj.__esModule?obj["default"]:obj},_createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfEnterPress=jfEnterPress,Object.defineProperty(exports,"__esModule",{value:!0});var KEYS=_interopRequire(__webpack_require__(45)),jfEnterPressController=function(){function jfEnterPressController($element,$scope){var _this=this;_classCallCheck(this,jfEnterPressController),this.$scope=$scope,$element.on("keypress",function(e){return _this._onKeyPress(e)}),this.$scope.$on("$destroy",function(){return $element.off("keypress")})}return jfEnterPressController.$inject=["$element","$scope"],_createClass(jfEnterPressController,{_onKeyPress:{value:function(e){e.keyCode==KEYS.ENTER&&(e.preventDefault(),this.callback(),this.$scope.$$phase||this.$scope.$apply())}}}),jfEnterPressController}()},function(module,exports){"use strict";module.exports={ENTER:13,ESC:27,SPACE:32,UP_ARROW:38,DOWN_ARROW:40,HOTKEYS:{ALPHANUMERIC:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz1234567890-_"},PROPERTY_TYPE:{MULTI_SELECT:null,SINGLE_SELECT:1,ANY_VALUE:0}}},function(module,exports){"use strict";function jfTooltipOnOverflow($sanitize){return{scope:{trustTooltipText:"<?"},restrict:"A",link:function($scope,$element){$($element).on("mouseenter",function(e){for(var targets=[$($element),$(e.target)],tooltipShown=!1,isNoTooltip=function(cell){return cell[0]&&cell[0].classList&&cell[0].classList.contains("no-tooltip")},i=0;!tooltipShown&&i<targets.length;i++){var target=targets[i],targetContent=target.children(":not(:visible)").length?target.children(":visible").text().trim():target.text().trim();if(targetContent=""===targetContent?null:$sanitize(targetContent),!isNoTooltip(target)&&target[0].scrollWidth>Math.round(target.innerWidth()))if(targetContent&&!target.hasClass("tooltipstered")){var options={animation:"fade",contentAsHTML:"true",trigger:"hover",onlyOne:"true",interactive:"true",position:"bottom",theme:"tooltipster-default bottom",content:targetContent};$scope.trustTooltipText&&(options.contentAsHTML="true"),target.tooltipster(options),target.tooltipster("show")}else targetContent&&(target.tooltipster("enable"),target.tooltipster("content")!=targetContent&&target.tooltipster("content",targetContent));else target.hasClass("tooltipstered")&&target.tooltipster("disable")}}),$scope.$on("$destroy",function(){$($element).off("mouseenter"),$($element).off("mouseleave")})}}}exports.jfTooltipOnOverflow=jfTooltipOnOverflow,Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports){"use strict";function jfClipCopy($compile){"ngInject";return{restrict:"E",scope:{textToCopy:"=",objectName:"@",keepTooltipLetterCase:"<?"},controller:jfClipCopyController,controllerAs:"jfClipCopy",bindToController:!0,templateUrl:"directives/jf_clip_copy/jf_clip_copy.html",link:function($scope,$element,$attrs){for(var classList=$element[0].classList,outer=angular.element($element[0]),inner=angular.element($($element[0]).find("a")),i=classList.length-1;i>=0;i--){var cls=classList[i];cls.startsWith("ng-")||(outer.removeClass(cls),inner.addClass(cls))}}}}jfClipCopy.$inject=["$compile"];var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfClipCopy=jfClipCopy,Object.defineProperty(exports,"__esModule",{value:!0});var jfClipCopyController=function(){function jfClipCopyController($timeout,$scope,$element){var _this=this;if(_classCallCheck(this,jfClipCopyController),this.FEEDBACK_DELAY=4e3,this.$timeout=$timeout,this.timeoutPromise=null,this.isSafari=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,!this.isSafari){var target=$element.find("a")[0];this.clipboard=new Clipboard(target),this.clipboard.on("success",function(e){_this.onSuccessfulCopy(),$scope.$apply()}),this.clipboard.on("error",function(e){}),$scope.$on("$destroy",function(){_this.clipboard.destroy()})}}return jfClipCopyController.$inject=["$timeout","$scope","$element"],_createClass(jfClipCopyController,{$onInit:{value:function(){this.objectName?this.origTooltip=this.tooltipText="Copy "+(this.keepTooltipLetterCase?this.objectName:this.objectName.toLowerCase())+" to clipboard":this.origTooltip=this.tooltipText="Copy to clipboard"}},onSuccessfulCopy:{value:function(){var _this=this;this.textToCopy&&(this.timeoutPromise&&(this.$timeout.cancel(this.timeoutPromise),this.timeoutPromise=null),this.tooltipText=this.getTooltipTextAfterCopy(),this.timeoutPromise=this.$timeout(function(){_this.tooltipText=_this.origTooltip},this.FEEDBACK_DELAY))}},getTooltipTextAfterCopy:{value:function(){var defaultText="copied to clipboard";if(!this.objectName)return"Value "+defaultText;var objectNameText=this.keepTooltipLetterCase?this.objectName:this.objectName.charAt(0).toUpperCase()+this.objectName.substr(1);return""+objectNameText+" "+defaultText}}}),jfClipCopyController}()},function(module,exports,__webpack_require__){"use strict";function jfValidation(){return{scope:{field:"=",dictionary:"@",validationsParams:"=",dontPushDown:"="},controller:jfValidation,controllerAs:"jfValidation",bindToController:!0,templateUrl:"directives/jf_validation/jf_validation.html"}}var _interopRequire=function(obj){return obj&&obj.__esModule?obj["default"]:obj},_createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfValidation=jfValidation,Object.defineProperty(exports,"__esModule",{value:!0});var VALIDATION_MESSAGES=_interopRequire(__webpack_require__(49)),jfValidation=function(){function jfValidation(JFrogUILibConfig){_classCallCheck(this,jfValidation),this.JFrogUILibConfig=JFrogUILibConfig}return jfValidation.$inject=["JFrogUILibConfig"],_createClass(jfValidation,{$onInit:{value:function(){this.messages=VALIDATION_MESSAGES(this.dictionary,this.JFrogUILibConfig)}},applyParams:{value:function(msg){if(!this.validationsParams)return msg;for(var regex=/\@\{(.*?)\}/g,matches=msg.match(regex),i=0;matches&&i<matches.length;i++){var match=matches[i],exec=regex.exec(match),param=exec[1],value=this.validationsParams[param];value&&(msg=msg.replace(match,value))}return msg}}}),jfValidation}()},function(module,exports){"use strict";module.exports=function(name,JFrogUILibConfig){var customMessages=JFrogUILibConfig.getConfig().customValidationMessages;return customMessages?angular.extend(angular.copy(commonMessages),customMessages[name]):commonMessages};var commonMessages={required:"You must fill in this field",unique:"This value must be unique",validator:"This value is invalid",email:"Please enter a valid email",url:"Please enter a valid url",number:"Please enter an Integer",min:"Value too low",max:"Value too high",minlength:"Value too short",maxlength:"Value too long",invalidCron:"The cron expression is invalid",pastCron:"The next run time is in the past",uniqueId:"Key is already used",name:'Name cannot be blank or contain /\\:|?*"<>',xmlName:"Name cannot be blank or contain spaces & special characters",integerValue:"Value must be an integer number",mustAddValueTolist:"You must add a value to list"}},function(module,exports){"use strict";function jfSidebar(){return{scope:{driver:"=",footerTemplate:"@",footerTemplateHtml:"@",openAdminSize:"@?",defaultSubMenuWidth:"@?",noSearchBox:"@?",defaultSubMenuId:"@"},controller:jfSidebarController,bindToController:!0,controllerAs:"jfSidebar",templateUrl:"directives/jf_sidebar/jf_sidebar.html"}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfSidebar=jfSidebar,Object.defineProperty(exports,"__esModule",{value:!0});var jfSidebarController=function(){function jfSidebarController($scope,$state,$timeout,$interval,$window,$rootScope,JFrogEventBus){_classCallCheck(this,jfSidebarController),$rootScope.jfSidebar=this,this.trim=_.trim,this.currentTab="Home",this.$state=$state,this.$timeout=$timeout,this.$interval=$interval,this.$window=$window,this.JFrogEventBus=JFrogEventBus,this.EVENTS=JFrogEventBus.getEventsDefinition(),this.pinMenuStatus=JSON.parse(localStorage.pinMenu||"false"),this.currentFocus=$(":focus"),this.skip=!1,this.menu={"transition-duration":".3s"},$scope.$on("$destroy",function(){$("body").off("keydown")})}return jfSidebarController.$inject=["$scope","$state","$timeout","$interval","$window","$rootScope","JFrogEventBus"],_createClass(jfSidebarController,{$onInit:{value:function(){var _this=this;this.subMenuWidth=this.defaultSubMenuWidth||this.openAdminSize||"900px",this.defaultSubWidth=this.subMenuWidth,this.defaultSubMenuId=this.defaultSubMenuId||"admin",this.driver||(console.error("jf-sidebar: No driver is provided"),this.driver={}),this.legacyAdminMenuItems=this.driver.getAdminMenuItems?this.driver.getAdminMenuItems():[],this.driver.setMenu&&this.driver.setMenu(this),this.driver.registerEvents&&this.driver.registerEvents(),this.refreshMenu(),this.driver.getFooterData&&this.driver.getFooterData().then(function(footerData){return _this.footerData=footerData}),this._init()}},_init:{value:function(){var _this=this;this.pinMenuStatus?this.menu.width="200px":this.menu.width="55px",this.pinMenuStatus?this.menu.transitionDelay=".2s":this.menu.transitionDelay=".3s",this.$timeout(function(){return _this._trackResize()}),$("body").on("keydown",function(e){_this.driver.onKeyDown&&_this.driver.onKeyDown(e),39===e.keyCode&&e.ctrlKey&&e.altKey&&$(".sub-menu").length&&(_this.$timeout(function(){var defaultItem=_.find(_this.menuItems,{id:_this.defaultSubMenuId});defaultItem&&_this._setExtendedMenu(defaultItem),_this.openSubMenu()}),e.preventDefault()),(27===e.keyCode||37===e.keyCode&&e.ctrlKey&&e.altKey)&&_this.menu.width===_this.subMenuWidth&&$(".sub-menu").length>0&&(_this.$timeout(function(){_this.menuSearchQuery="",$("#menuSearchQuery").blur(),_this.menu.width=_this.defaultWidth(),_this._updateTabIndex()}),e.preventDefault())})}},isCollapsed:{value:function(){return"55px"===this.menu.width}},mouseOverMenu:{value:function(){var _this=this;this.mouseIsOver||(this.mouseIsOver=!0,this.menu.width===this.subMenuWidth&&$(".menu-item:hover").length&&$("a.menu-item.extended-item:hover").length<1?angular.isDefined(this.closeSubMenuDelay)||$(".sub-menu:hover").length||(this.closeSubMenuDelay=this.$timeout(function(){_this.closeSubMenu(),delete _this.closeSubMenuDelay},300)):"200px"!=this.menu.width&&!$(".pin-menu:hover").length&&$(".sub-menu:hover").length<1&&(angular.isDefined(this.openMenu)||(this.openMenu=this.$timeout(function(){var widthToOpen=$(".sub-menu").length>0&&$("a.menu-item.extended-item:hover").length?_this.subMenuWidth:"200px";return($(".sub-menu:hover").length||$(".menu-item.extended-item:hover").length)&&angular.isDefined(_this.openMenu)?(_this.$timeout.cancel(_this.openMenu),void delete _this.openMenu):void _this._updateMenuObject(widthToOpen,".3s","0s")},2e3))))}},mouseLeaveMenu:{value:function(e){e&&e.toElement&&($(e.toElement).hasClass("tooltipster-content")||$(e.toElement.parentElement).hasClass("tooltipster-arrow"))||(this.mouseIsOver=!1,this.menu.width!=this.subMenuWidth&&this._updateMenuObject(this.defaultWidth(),".3s"),this.closeSubMenu(),this._openMenuStop(),this._subMenuDelayStop())}},subMenuOver:{value:function(){angular.isDefined(this.subMenuItemDelayTimer)&&(this.$timeout.cancel(this.subMenuItemDelayTimer),delete this.subMenuItemDelayTimer),angular.isDefined(this.closeSubMenuDelay)&&(this.$timeout.cancel(this.closeSubMenuDelay),delete this.closeSubMenuDelay)}},_updateMenuObject:{value:function(width){var duration=void 0===arguments[1]?"0s":arguments[1],delay=void 0===arguments[2]?"0s":arguments[2];this.menu={width:width,"transition-duration":duration,"transition-delay":delay}}},isCurrentTab:{value:function(tab){return this.currentTab===tab.label}},setCurrentTab:{value:function(tab){this.currentTab===tab.label?this.currentTab="":this.currentTab=tab.label}},refreshMenu:{value:function(){this.menuItems=this._getMenuItems(),this.legacyAdminMenuItems=this.driver.getAdminMenuItems?this.driver.getAdminMenuItems():[]}},goToState:{value:function(item){this.driver.onBeforeStateSwitch&&this.driver.onBeforeStateSwitch(item),this.$state.go(item.state,item.stateParams)}},_getMenuItems:{value:function(){return this.driver.getMenuItems?this.driver.getMenuItems():[]}},defaultWidth:{value:function(){return this.pinMenuStatus?"200px":"55px"}},pinMenu:{value:function(){this.pinMenuStatus=!this.pinMenuStatus,localStorage.pinMenu=this.pinMenuStatus,angular.isDefined(this.openMenu)&&this._openMenuStop(),this.menu.transitionDelay="0s",this.menu.width=this.defaultWidth(),this._trackResize()}},_trackResize:{value:function(){var _this=this;this.trackResizeInterval&&this.$interval.cancel(this.trackResizeInterval);var origWidth=parseInt($("#jf-content").css("width")),lastWidth=origWidth,noChangeLoops=0,resizeEvent=document.createEvent("Event");resizeEvent.initEvent("resize",!1,!0),this.trackResizeInterval=this.$interval(function(){var currWidth=parseInt($("#jf-content").css("width"));currWidth===lastWidth?noChangeLoops++:noChangeLoops=0,noChangeLoops>=20&&(_this.$interval.cancel(_this.trackResizeInterval),delete _this.trackResizeInterval),lastWidth=currWidth,_this.$timeout(function(){try{window.dispatchEvent(new Event("resize"))}catch(e){window.dispatchEvent(resizeEvent)}_this.JFrogEventBus.dispatch(_this.EVENTS.SIDEBAR_SIZE_CHANGE)})},1)}},itemClick:{value:function(item){var _this=this;this.subMenuCloseDelay&&(this.$timeout.cancel(this.subMenuCloseDelay),delete this.subMenuCloseDelay),item.children?item.children&&(this.isSubMenuOpen()?(this.closeSubMenu(0,!0,!0),this._subMenuDelayStop(),this.openSub!==item&&this.$timeout(function(){_this.itemClick(item)},500)):(this._setExtendedMenu(item),this.openSubMenu())):(this.closeSubMenu(0,!0),"55px"!==this.menu.width&&"200px"!==this.menu.width||(this._openMenuStop(),this._subMenuDelayStop()),item.isDisabled||this.$timeout(function(){return _this.goToState(item)},20))}},_setExtendedMenu:{value:function(item){item&&(item.children===!0&&this.legacyAdminMenuItems?(this.subMenuItems=this.legacyAdminMenuItems,this.subMenuWidth=this.defaultSubWidth,this.openSub=item):item.children&&(this.subMenuItems=item.children,this.subMenuWidth=item.subMenuWidth||this.defaultSubWidth,this.openSub=item))}},openSubMenu:{value:function(){var _this=this,delay=void 0!==arguments[0]&&arguments[0];this.subMenuCloseDelay&&(this.$timeout.cancel(this.subMenuCloseDelay),delete this.subMenuCloseDelay),$(".sub-menu").length>0&&(this._openMenuStop(),this._subMenuDelayStop(),$(":focus").length&&"admin"!=$(":focus")[0].id&&"menuSearchQuery"!=$(":focus")[0].id&&(this.currentFocus=$(":focus")),delay&&!angular.isDefined(this.subMenuDelay)?this.subMenuDelay=this.$timeout(function(){_this.openSubMenu(),_this._setSubMenuFocus(),_this._subMenuDelayStop()},2e3):this.skip||this.menu.width===this.subMenuWidth||(this._updateMenuObject(this.subMenuWidth,"0.3s","0s"),this.$timeout(function(){return _this._setSubMenuFocus()}),angular.isDefined(this.subMenuDelay)&&this._subMenuDelayStop()),this._updateTabIndex())}},onMouseOverSimpleItem:{value:function(item){this.closeSubMenu(1800,!0,!0)}},onMouseOverExtendedItem:{value:function(item){var _this=this,delay=void 0===arguments[1]||arguments[1];this.isSubMenuOpen()?this.openSub!==item?(this.closeSubMenu(0,!0,!0),this._subMenuDelayStop(),this.$timeout(function(){_this.onMouseOverExtendedItem(item,!1)},500)):this.openSubMenu(!0):(this._setExtendedMenu(item),this.openSubMenu(delay))}},onMouseLeaveExtendedItem:{value:function(e){this._subMenuDelayStop(),this.subMenuItemDelay=!0,this.closeSubMenu(1800,!0,!0)}},isSubMenuOpen:{value:function(){return $("#jf-main-nav").css("width")===this.subMenuWidth}},clickOffMenu:{value:function(){$(".sub-menu").length>0&&!$(".menu-item:hover").length&&("55px"!=this.menu.width||!this.pinMenuStatus&&"200px"!=this.menu.width)&&("55px"==this.menu.width||$(".sub-menu:hover").length||(this._updateMenuObject(this.defaultWidth(),".3s"),this.menuSearchQuery="",this._updateTabIndex()))}},closeSubMenu:{value:function(delay){var _this=this,force=void 0!==arguments[1]&&arguments[1],expand=void 0!==arguments[2]&&arguments[2];return delay?(this.subMenuCloseDelay&&(this.$timeout.cancel(this.subMenuCloseDelay),delete this.subMenuCloseDelay),void(this.subMenuCloseDelay=this.$timeout(function(){_this.subMenuCloseDelay&&(_this.$timeout.cancel(_this.subMenuCloseDelay),delete _this.subMenuCloseDelay),_this.closeSubMenu(0,force,expand)},delay))):force||!($(".sub-menu:hover").length||$(".menu-item.extended-item:hover").length||$(".sub-menu").find("a").is(":focus")||$("#menuSearchQuery").is(":focus")&&$("#menuSearchQuery").val().length>0)?this.subMenuItemDelay?void(this.subMenuItemDelayTimer=this.$timeout(function(){_this.subMenuItemDelay=!1,delete _this.subMenuItemDelayTimer,$(".sub-menu:hover").length||$(".tooltipster-content:hover").length||$(".tooltipster-arrow:hover").length||_this.closeSubMenu(delay,force,expand)},100)):(expand&&$("#jf-main-nav:hover").length?this.menu.width="200px":this.menu.width=this.defaultWidth(),this.currentFocus.length&&this.currentFocus[0].focus(),$("#menuSearchQuery").blur(),$(".masonry").scrollTop(0),this.menuSearchQuery="",void this._updateTabIndex()):void 0}},_openMenuStop:{value:function(){this.$timeout.cancel(this.openMenu),delete this.openMenu}},_subMenuDelayStop:{value:function(){this.$timeout.cancel(this.subMenuDelay),delete this.subMenuDelay}},_setSubMenuFocus:{value:function(){$(".sub-menu:hover").length||($("#menuSearchQuery").focus(),$("#jf-main-nav").scrollLeft(0))}},_updateTabIndex:{value:function(){if(this.menu.width!=this.subMenuWidth)$(".sub-menu").find("a,input").attr("tabindex",-1),$(".sub-menu").find("a,input").blur();else{var highlighted=$(".sub-menu").find("a.highlight");highlighted.length?($(".sub-menu").find("input").removeAttr("tabindex"),$(".sub-menu").find("a.highlight").removeAttr("tabindex"),$(".sub-menu").find("a:not(.highlight)").attr("tabindex",-1)):$(".sub-menu").find("a,input").removeAttr("tabindex")}$("#jf-main-nav").scrollLeft(0)}},searchHighlightCheck:{value:function(menuItem){if(this.menuSearchQuery){var string=menuItem.toLowerCase().replace(/ /g,""),searchstring=this.menuSearchQuery.toLowerCase().replace(/ /g,"");return!!_.includes(string,searchstring)}}},checkForSingleChoice:{value:function(){$("#jf-main-nav").scrollLeft(0),this.$timeout(function(){$(".single-choice").removeClass("single-choice");var elem=$(".masonry").find(".highlight");1==elem.length&&elem.addClass("single-choice")},50)}},chooseSingleChoice:{value:function(){var elem=$(".single-choice");return!!elem.length&&(this.driver.onBeforeStateSwitch&&this.driver.onBeforeStateSwitch({state:elem.data("state"),stateParams:elem.data("params")}),this.$state.go(elem.data("state"),elem.data("params")),this.menuSearchQuery="",this._updateMenuObject(this.defaultWidth(),".3s"),void this._updateTabIndex())}},subMenuItemClick:{value:function(subItem){var _this=this;this.menuSearchQuery="",this._updateMenuObject(this.defaultWidth(),".3s"),this._updateTabIndex(),this.skip=!0,this.$timeout(function(){_this.skip=!1},400),this.driver.onBeforeStateSwitch&&this.driver.onBeforeStateSwitch(subItem),this.$state.go(subItem.state,subItem.stateParams)}},navigateInMenu:{value:function(e){var key=e.keyCode,$allHighlighted=$(".sub-menu").find(".highlight"),$allFocusableItems=$(".sub-menu").find("a:focusable");switch(key){case 38:if($(e.currentTarget).is(":input"))return;if($(".highlight").length)$allHighlighted.eq($.inArray($(".highlight:focus")[0],$allHighlighted)-1).focus();else{if(!$allFocusableItems.length)return;$allFocusableItems.eq($.inArray($(":focus")[0],$allFocusableItems)-1).focus()}break;case 40:if($(e.currentTarget).is(":input"))$allHighlighted.length?$allHighlighted[0].focus():$(".sub-menu").find("a").first(":focusable").focus();else if($(".highlight").length)$.inArray($(".highlight:focus")[0],$allHighlighted)===$allHighlighted.length-1?$allHighlighted[0].focus():$allHighlighted.eq($.inArray($(".highlight:focus")[0],$allHighlighted)+1).focus();else{if(!$allFocusableItems.length)return;$.inArray($(":focus")[0],$allFocusableItems)===$allFocusableItems.length-1?$allFocusableItems[0].focus():$allFocusableItems.eq($.inArray($(":focus")[0],$allFocusableItems)+1).focus()}break;case 8:if(this.focusedElement&&!$("#menuSearchQuery").is(":focus"))return void e.preventDefault()}}},isCurrentItem:{value:function(subItem){var result=_.contains(this.$state.current.name,subItem.state);if(result&&subItem.stateParams){var relevantParams=_.pick(this.$state.params,Object.keys(subItem.stateParams));result=angular.equals(relevantParams,subItem.stateParams)}return result}},highLightOnState:{value:function(statesArr){if(!statesArr)return!1;var currentStateName=this.$state.current.name;return statesArr.indexOf(currentStateName)>-1}}}),jfSidebarController}()},function(module,exports){"use strict";function jfMultiDropdown(){return{controller:jfMultiDropdownController,controllerAs:"jfMultiDropdown",bindToController:!0,scope:{title:"@",label:"@",filterPlaceholder:"@",noItemsMessage:"@",items:"=",disabled:"=?",onChange:"&?",noSort:"=?",onOpenStateChange:"&?",dropdownOpened:"=",showSelected:"@",showLabelCounter:"@",noFilter:"=?",noSelectedFirst:"=?",singleSelection:"=?",textInputs:"<?",borderless:"<?"},templateUrl:"directives/jf_multi_dropdown/jf_multi_dropdown.html"}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfMultiDropdown=jfMultiDropdown,Object.defineProperty(exports,"__esModule",{value:!0});var jfMultiDropdownController=function(){function jfMultiDropdownController($scope,$filter,$element){var _this=this;_classCallCheck(this,jfMultiDropdownController),this.$scope=$scope,this.$element=$element,this.filter=$filter("filter"),this.opened=!1,this.singleSelectionIndex=-1,this.handleOutsideClick(),this.$scope.$watch("jfMultiDropdown.items",function(newVal,oldVal){if(newVal&&(_this.sortItems(),_this.singleSelection)){_this.items.forEach(function(item,index){return item.$id=index});var disabled=_.filter(_this.items,function(item){return item.disabled});disabled.forEach(function(item){return item.isSelected=!1});var selected=_.filter(_this.items,function(item){return item.isSelected});selected.length>1&&selected.slice(1).forEach(function(item){return item.isSelected=!1}),selected.length&&(_this.singleSelectionIndex=selected[0].$id)}}),this.$scope.$watch("jfMultiDropdown.dropdownOpened",function(val){if(val===!0){if(!_this.items)return;_this.opened=!0,_this.filterText=""}else val===!1&&(_this.opened=!1,_this.filterText="")})}return jfMultiDropdownController.$inject=["$scope","$filter","$element"],_createClass(jfMultiDropdownController,{sendOpenStateChange:{value:function(){this.onOpenStateChange&&this.onOpenStateChange({opened:this.opened})}},handleOutsideClick:{value:function(){var _this=this,handler=function(e){var outside=!$(e.target).parents(".jf-multi-dropdown").length||$(e.target).parents(".jf-multi-dropdown")[0]!==$(_this.$element).find(".jf-multi-dropdown")[0];outside&&(_this.opened=!1,_this.sendOpenStateChange(),_this.sortItems()),_this.$scope.$apply()};$(document).on("click",handler),this.$scope.$on("$destroy",function(){$(document).off("click",handler)})}},getSelectedForTitle:{value:function(){var selected=_.filter(this.items,function(item){return item.isSelected});return selected=_.map(selected,function(s){return s.selectedText||s.text}),selected.join(", ")}},onClick:{value:function(){if(this.disabled!==!0){if(!this.items)return;this.opened=!this.opened,this.sendOpenStateChange(),this.opened||this.sortItems(),this.filterText=""}}},onSingleSelection:{value:function(){var _this=this;this.items.forEach(function(item){item.disabled||(item.isSelected=!1)});var selected=_.find(this.items,function(item){return item.$id==_this.singleSelectionIndex});selected.isSelected=!0,this.applyChanges()}},getSelectedCount:{value:function(){var selected=_.filter(this.items,function(item){return item.isSelected&&!item.isAllToggleCheckbox});return selected.length}},applyChanges:{value:function(){this.onChange&&this.onChange()}},selectedItems:{value:function(){var selected=_.filter(this.items,function(item){return item.isSelected});return selected=_.map(selected,"text")}},sortItems:{value:function(){if(!this.noSelectedFirst&&this.items){var selected=this.noSort?_.filter(this.items,function(item){return item.isSelected}):_.sortBy(_.filter(this.items,function(item){return item.isSelected}),"text"),unSelected=this.noSort?_.filter(this.items,function(item){return!item.isSelected}):_.sortBy(_.filter(this.items,function(item){return!item.isSelected}),"text");this.lastSelectedIndex=selected.length-1;var combined=selected.concat(unSelected);this.items.splice.apply(this.items,[0,this.items.length].concat(combined))}}},selectAll:{value:function(){this.disabled||(this.filter(this.items,this.filterText).forEach(function(item){item.disabled||(item.isSelected=!0)}),this.applyChanges())}},unSelectAll:{value:function(){this.disabled||(this.filter(this.items,this.filterText).forEach(function(item){item.disabled||(item.isSelected=!1)}),this.applyChanges(),
this.singleSelectionIndex=-1)}},onSelection:{value:function(){this.applyChanges()}},clearSelection:{value:function(){this.disabled||(this.textInputs&&_.forEach(this.items,function(item){item.inputTextValue=""}),this.unSelectAll())}}}),jfMultiDropdownController}()},function(module,exports){"use strict";function jfRadioButton(){return{restrict:"E",transclude:{template:"?radioTemplate"},scope:{text:"@?",helper:"@?"},controller:jfRadioButtonController,templateUrl:"directives/jf_radio_button/jf_radio_button.html"}}var _classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfRadioButton=jfRadioButton,Object.defineProperty(exports,"__esModule",{value:!0});var jfRadioButtonController=function jfRadioButtonController($element,$transclude,$timeout,$scope){_classCallCheck(this,jfRadioButtonController),$transclude(function(clone){$timeout(function(){$element.find("label").prepend(clone)},0,!1)}),$scope.onClickTemplate=function(){$timeout(function(){$($element).parent().find("input[type=radio]").prop("checked",!1),$($element).find("input[type=radio]").prop("checked",!0)})}}},function(module,exports){"use strict";function jfWidgetsLayout(recursiveDirective){"ngInject";return{controller:jfWidgetsLayoutController,controllerAs:"jfWidgetsLayout",bindToController:!0,scope:{widgets:"=",layout:"=",options:"=",parentCell:"=?",footerText:"="},templateUrl:"directives/jf_widgets_layout/jf_widgets_layout.html",compile:function(element){return recursiveDirective.compile(element)}}}jfWidgetsLayout.$inject=["recursiveDirective"];var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfWidgetsLayout=jfWidgetsLayout,Object.defineProperty(exports,"__esModule",{value:!0});var MILLISECONDS_MULTI=1e3,ANIMATION_DELAY=1,jfWidgetsLayoutController=function(){function jfWidgetsLayoutController($scope,$rootScope,$compile,$timeout,$q,$templateRequest,$sce,$injector,$element){_classCallCheck(this,jfWidgetsLayoutController),this.$q=$q,this.$sce=$sce,this.$scope=$scope,this.$rootScope=$rootScope,this.$element=$element,this.$injector=$injector,this.$timeout=$timeout,this.$compile=$compile,this.$templateRequest=$templateRequest,this.ANIM_DURATION=.5}return jfWidgetsLayoutController.$inject=["$scope","$rootScope","$compile","$timeout","$q","$templateRequest","$sce","$injector","$element"],_createClass(jfWidgetsLayoutController,{$onInit:{value:function(){var _this=this;this.setDefaultOptions();var onChange=function(newval,oldval){newval&&(_this.transformLayout(),_this.updateFlatCells(),_this.updateCss(),_this.updateDragLines(),_this.recompile?(_this.recompile=!1,Object.keys(_this.widgets).forEach(function(id){return delete _this.widgets[id].$compiled}),_this.templatesLoadStarted=!1,_this.templatesLoaded=!1,_this.$timeout(function(){return _this.compileElements()})):_this.templatesLoadStarted&&!_this.templatesLoaded||(Object.keys(_this.widgets).forEach(function(id){_this._isWidgetInUse(id)&&delete _this.widgets[id].$compiled}),_this.loadTemplates().then(function(){_this.$timeout(function(){return _this.compileElements()})})))};this.$scope.$watch("jfWidgetsLayout.options.editMode",function(editMode){_this.editMode=void 0!==editMode&&editMode,_this.subOptions.editMode=_this.editMode,editMode||(_this.cleanLayout(),_this.options.isSub||(_this.updateLayoutJSON(),_this.wasEditing&&(_this.options.onEditEnd&&_this.layoutJSON&&_this.options.onEditEnd(_this.layoutJSON),_this.recompile=!0))),_this.wasEditing=_this.editMode}),this.$scope.$watch("jfWidgetsLayout.layout",onChange),this.$scope.$watch("jfWidgetsLayout.widgets",function(widgets){widgets&&(_this.widgetKeys=Object.keys(widgets))}),this.options.parent&&this.parentCell&&(this.parentCell.$$childLayout=this),this.$scope.$on("$destroy",function(){_this.scopes&&_this.scopes.forEach(function(s){return s.$destroy()})})}},setDefaultOptions:{value:function(){this.options||(this.options={}),this.options.padding||(this.options.padding=10),this.options.minHeight||(this.options.minHeight="initial"),this.options.backColor||(this.options.backColor="transparent"),void 0===this.options.allowResize&&(this.options.allowResize=!1),void 0===this.options.outerPadding&&(this.options.outerPadding=!0),void 0===this.options.editMode&&(this.options.editMode=!1),this.subOptions=_.cloneDeep(this.options),this.subOptions.minHeight="initial",this.subOptions.isSub=!0,this.subOptions.parent=this}},transformLayout:{value:function(){var _this=this,_getSizeFromCell=function(cell){var i1=cell.indexOf("%"),i2=cell.indexOf("px");return i1!==-1?cell.substr(0,i1):i2!==-1?cell.substr(0,i2):void 0},_getWidgetNameFromCell=function(cell){var i=cell.indexOf("@");if(i!==-1)return cell.substr(i+1)},_getSubLayoutFromCell=function(cell){var i=cell.indexOf("#");if(i!==-1)return cell.substr(i+1)};this.transformedLayout=[];var theLayout=this.layout.main||this.layout;if(theLayout.rows)this.mainAxis="rows";else{if(!theLayout.columns)return void console.log("Layout Format Error! Must have rows or columns.");this.mainAxis="columns"}theLayout[this.mainAxis].forEach(function(rowOrColumn){var tRowOrColumn=[];rowOrColumn.cells.forEach(function(cell){var height="rows"===_this.mainAxis?rowOrColumn.size:_getSizeFromCell(cell),width="columns"===_this.mainAxis?rowOrColumn.size:_getSizeFromCell(cell),subLayoutName=_getSubLayoutFromCell(cell),tCell={widget:_getWidgetNameFromCell(cell),subLayout:subLayoutName?_this.layout[subLayoutName]:void 0,percentWidth:parseInt(width),percentHeight:parseInt(height)};rowOrColumn["new"]&&_this.$timeout(function(){_this.splitCell(tCell,"columns"===_this.mainAxis?"v":"h")}),tRowOrColumn.push(tCell)}),_this.transformedLayout.push(tRowOrColumn)}),this.normalizeSizes()}},updateFlatCells:{value:function(){var _this=this;this.flatCells=[],this.transformedLayout.forEach(function(rowOrColumn){rowOrColumn.forEach(function(cell){_this.flatCells.push(cell)})})}},loadTemplates:{value:function(){var _this=this,defer=this.$q.defer();if(this.templatesLoaded)return defer.resolve(),defer.promise;this.templatesLoadStarted=!0;var fired=0,completed=0;return this.transformedLayout.forEach(function(rowOrColumn){rowOrColumn.forEach(function(layoutDef){var widget=_this.widgets[layoutDef.widget];widget&&(widget.templateUrl&&!widget.template?(fired++,_this.$templateRequest(widget.templateUrl).then(function(template){widget.$templateLoaded||(widget.template=_this.$sce.trustAsHtml(template),widget.$templateLoaded=!0)})["finally"](function(){completed++,fired===completed&&(_this.templatesLoaded=!0,defer.resolve())})):widget.template&&(widget.$templateLoaded||(widget.template=_this.$sce.trustAsHtml(widget.template),widget.$templateLoaded=!0)))})}),fired||defer.resolve(),defer.promise}},updateCss:{value:function(){var _this=this,oldRules=_.cloneDeep(this.cssRules);this.cssRules={};var currentX=0,currentY=0,cssRunningId=0;this.transformedLayout.forEach(function(rowOrColumn){"rows"===_this.mainAxis?currentX=0:"columns"===_this.mainAxis&&(currentY=0);var topSize=0;rowOrColumn.forEach(function(layoutDef){var widget=_this.widgets[layoutDef.widget];layoutDef.cssId=cssRunningId,widget||(layoutDef.widget="$$widget"+cssRunningId),cssRunningId++,_this.cssRules[layoutDef.cssId]={top:currentY+"%",left:currentX+"%",bottom:100-(currentY+layoutDef.percentHeight)+"%",right:100-(currentX+layoutDef.percentWidth)+"%",padding:_this.options.padding/2+"px",opacity:oldRules&&oldRules[layoutDef.cssId]&&void 0!==oldRules[layoutDef.cssId].opacity?oldRules[layoutDef.cssId].opacity:1},"rows"===_this.mainAxis?(currentX+=layoutDef.percentWidth,layoutDef.percentHeight>topSize&&(topSize=layoutDef.percentHeight)):"columns"===_this.mainAxis&&(currentY+=layoutDef.percentHeight,layoutDef.percentWidth>topSize&&(topSize=layoutDef.percentWidth))}),"rows"===_this.mainAxis?currentY+=topSize:"columns"===_this.mainAxis&&(currentX+=topSize)});var pad=this.options.isSub?0:this.options.outerPadding?this.options.padding/2:-this.options.padding/2;this.padderCss={top:pad+"px",left:pad+"px",bottom:pad+"px",right:pad+"px"},this.containerCss={"min-height":this.options.minHeight+"px","background-color":this.options.backColor,overflow:this.options.isSub&&this.editMode?"visible":"hidden"},this.options.parent&&this.options.parent.updateCss()}},updateDragLines:{value:function(){this.dragLines=[];for(var key in this.cssRules){var rules=this.cssRules[key],_top=parseFloat(rules.top),bottom=parseFloat(rules.bottom),left=parseFloat(rules.left),right=parseFloat(rules.right),cell=_.find(this.flatCells,{cssId:parseInt(key)});this.addLinesFromRect({x1:left,y1:_top,x2:100-right,y2:100-bottom,cssRules:rules,widget:cell.widget}),cell.percentWidth=100-right-left,cell.percentHeight=100-bottom-_top}}},compileElements:{value:function(){var _this=this,elems=$(".compile-children");this.scopes&&this.scopes.forEach(function(s){return s.$destroy()}),this.scopes=[];for(var i=0;i<elems.length;i++){var elem=$(elems[i]),widgetId=elem.prop("id");this._isWidgetInUse(widgetId)&&!function(){var widget=_this._getWidgetById(widgetId),scope=_this.$rootScope.$new();_this.scopes.push(scope);var children=elem.children();widget.model&&_.extend(scope,widget.model),_this.options.sharedModel&&_.extend(scope,_this.options.sharedModel),widget.controller||(widget.controller=function Ctrl(){_classCallCheck(this,Ctrl)}),widget.controller.prototype.$widgetLayoutManager=_this;var controllerInstance=_this.$injector.instantiate(widget.controller);controllerInstance.$element=children[0],controllerInstance.$layoutObject=_this._getLayoutByWidget(elem.prop("id")),controllerInstance.$scope=scope,controllerInstance.$widgetObject=widget;var controllerObject={};controllerObject[widget.controllerAs||"ctrl"]=controllerInstance,_.extend(scope,controllerObject),controllerInstance.$onInit&&controllerInstance.$onInit();var rootChild=$(children[0]);rootChild.prop("compiled")||(_this.$compile(rootChild)(scope),rootChild.prop("compiled",!0)),_this.$timeout(function(){widget.$compiled=!0})}()}}},_getWidgetById:{value:function(id){var widget=this.widgets[id];return widget}},_getLayoutByWidget:{value:function(id){var layout=void 0;for(var i in this.transformedLayout){var rowOrColumn=this.transformedLayout[i];if(layout=_.find(rowOrColumn,{widget:id}))break}return layout}},_isWidgetInUse:{value:function(widgetId){return!!_.find(this.flatCells,{widget:widgetId})}},_getPrecPoint:{value:function(e){var container=$(this.$element).find(".jf-widgets-layout-container"),containerWidth=container.innerWidth(),containerHeight=container.innerHeight(),mouseX=e.pageX-container.offset().left,mouseY=e.pageY-container.offset().top,xprec=Math.round(mouseX/containerWidth*100),yprec=Math.round(mouseY/containerHeight*100);return{x:xprec,y:yprec}}},onMouseMove:{value:function(e){if(this.options.allowResize||this.editMode)if(this.draggingLines)this.onDrag(e),e.preventDefault();else{var container=$(this.$element).find(".jf-widgets-layout-container"),prec=this._getPrecPoint(e);if(this.closestLines=this.getClosestLines(prec.x,prec.y),this.closestLines.length){var directions=_.map(this.closestLines,"cssRelevantRule"),cursor=void 0;_.includes(directions,"right")&&_.includes(directions,"left")&&_.includes(directions,"top")&&_.includes(directions,"bottom")?(cursor="all-scroll",this.setSubIsOnEdge(!0)):_.includes(directions,"top")&&_.includes(directions,"bottom")?(cursor="row-resize",this.setSubIsOnEdge(!0)):_.includes(directions,"right")&&_.includes(directions,"left")?(cursor="col-resize",this.setSubIsOnEdge(!0)):(cursor="default",this.setSubIsOnEdge(!1)),container.css("cursor",cursor)}else this.subIsOnEdge||(container.css("cursor","default"),this.setSubIsOnEdge(!1))}}},onMouseLeave:{value:function(e){(this.options.allowResize||this.editMode)&&(this.onMouseUp(),this.setSubIsOnEdge(!1))}},onDrag:{value:function(e){var perc=this._getPrecPoint(e),xDiff=perc.x-this.dragStartPt.x,yDiff=perc.y-this.dragStartPt.y,okToDrag=!0;for(var i in this.closestLines){var line=this.closestLines[i],origLine=this.dragStartLines[i],_top=parseFloat(origLine.cssRules.top),bottom=parseFloat(origLine.cssRules.bottom),left=parseFloat(origLine.cssRules.left),right=parseFloat(origLine.cssRules.right),originalHeight=this._getLayoutByWidget(line.widget).percentHeight,originalWidth=this._getLayoutByWidget(line.widget).percentWidth;if("top"===line.cssRelevantRule){var newTop=_top+yDiff,newHeight=100-bottom-newTop;if(newHeight<.2*originalHeight){okToDrag=!1;break}}else if("bottom"===line.cssRelevantRule){var newBottom=bottom-yDiff,newHeight=100-newBottom-_top;if(newHeight<.2*originalHeight){okToDrag=!1;break}}else if("left"===line.cssRelevantRule){var newLeft=left+xDiff,newWidth=100-right-newLeft;if(newWidth<.2*originalWidth){okToDrag=!1;break}}else if("right"===line.cssRelevantRule){var newRight=right-xDiff,newWidth=100-newRight-left;if(newWidth<.2*originalWidth){okToDrag=!1;break}}}if(okToDrag)for(var i in this.closestLines){var line=this.closestLines[i];if(!this.ensureCSSRulesSync(line,e))break;var origLine=this.dragStartLines[i];if("top"===line.cssRelevantRule){var _top2=parseFloat(origLine.cssRules.top);line.cssRules.top=_top2+yDiff+"%"}else if("bottom"===line.cssRelevantRule){var bottom=parseFloat(origLine.cssRules.bottom);line.cssRules.bottom=bottom-yDiff+"%"}else if("left"===line.cssRelevantRule){var left=parseFloat(origLine.cssRules.left);line.cssRules.left=left+xDiff+"%"}else if("right"===line.cssRelevantRule){var right=parseFloat(origLine.cssRules.right);line.cssRules.right=right-xDiff+"%"}}}},ensureCSSRulesSync:{value:function(line,e){var found=!1;for(var key in this.cssRules)if(this.cssRules[key]===line.cssRules){found=!0;break}return!!found||(this.onMouseUp(),this.onMouseMove(e),this.onMouseDown(e),this.onMouseMove(e),!1)}},onMouseDown:{value:function(e){(this.options.allowResize||this.editMode)&&this.closestLines&&this.closestLines.length&&(this.draggingLines=!0,this.dragStartPt=_.cloneDeep(this._getPrecPoint(e)),this.dragStartLines=_.cloneDeep(this.closestLines),this._setTransitions(!1),e.preventDefault(),e.stopPropagation())}},onMouseUp:{value:function(e){(this.options.allowResize||this.editMode)&&(this.updateDragLines(),this.closestLines=null,this.draggingLines=!1,this.dragStartPt=null,this.dragStartLines=null,e&&this._setTransitions(!0))}},onWidgetMouseMove:{value:function(e){if((this.options.allowResize||this.editMode)&&!this.draggingLines&&!this.isParentDragging()){var container=$(this.$element).find(".jf-widgets-layout-container");this.subIsOnEdge||(container.css("cursor","default"),this.setSubIsOnEdge(!1)),e.stopPropagation()}}},addLinesFromRect:{value:function(rect){this.dragLines.push({x1:rect.x1,y1:rect.y1,x2:rect.x2,y2:rect.y1,cssRules:rect.cssRules,widget:rect.widget,cssRelevantRule:"top"}),this.dragLines.push({x1:rect.x2,y1:rect.y1,x2:rect.x2,y2:rect.y2,cssRules:rect.cssRules,widget:rect.widget,cssRelevantRule:"right"}),this.dragLines.push({x1:rect.x1,y1:rect.y2,x2:rect.x2,y2:rect.y2,cssRules:rect.cssRules,widget:rect.widget,cssRelevantRule:"bottom"}),this.dragLines.push({x1:rect.x1,y1:rect.y1,x2:rect.x1,y2:rect.y2,cssRules:rect.cssRules,widget:rect.widget,cssRelevantRule:"left"})}},getClosestLines:{value:function(x,y){var _this=this,closest=[];this.dragLines.forEach(function(line){var infinite=("bottom"===line.cssRelevantRule||"top"===line.cssRelevantRule)&&"rows"===_this.mainAxis||("right"===line.cssRelevantRule||"left"===line.cssRelevantRule)&&"columns"===_this.mainAxis,dist=_this.getPointDistToLine({x:x,y:y},line,infinite);dist<=1&&closest.push(line)});var filtered=[],top=_.filter(closest,{cssRelevantRule:"top"}),bottom=_.filter(closest,{cssRelevantRule:"bottom"}),left=_.filter(closest,{cssRelevantRule:"left"}),right=_.filter(closest,{cssRelevantRule:"right"});return top.forEach(function(line){var matches="rows"===_this.mainAxis?_.filter(bottom,{y1:line.y1}):_.filter(bottom,{x1:line.x1,x2:line.x2});matches.length&&(filtered.push(line),matches.forEach(function(match){return filtered.push(match)}))}),left.forEach(function(line){var matches="columns"===_this.mainAxis?_.filter(right,{x1:line.x1}):_.filter(right,{y1:line.y1,y2:line.y2});matches.length&&(filtered.push(line),matches.forEach(function(match){return filtered.push(match)}))}),filtered}},getPointDistToLine:{value:function(pt,line,infiniteLine){return line.x1===line.x2?infiniteLine?Math.abs(pt.x-line.x1):pt.y<line.y1?this.getPointDistToPoint(pt,{x:line.x1,y:line.y1}):pt.y>line.y2?this.getPointDistToPoint(pt,{x:line.x2,y:line.y2}):Math.abs(pt.x-line.x1):line.y1===line.y2?infiniteLine?Math.abs(pt.y-line.y1):pt.x<line.x1?this.getPointDistToPoint(pt,{x:line.x1,y:line.y1}):pt.x>line.x2?this.getPointDistToPoint(pt,{x:line.x2,y:line.y2}):Math.abs(pt.y-line.y1):void 0}},getPointDistToPoint:{value:function(pt1,pt2){return Math.sqrt(Math.pow(pt1.x-pt2.x,2)+Math.pow(pt1.y-pt2.y,2))}},setSubIsOnEdge:{value:function(onEdge){for(var parent=this.options.parent;parent;)parent.subIsOnEdge=onEdge,parent=parent.options.parent}},isParentDragging:{value:function(){var recurse=void 0!==arguments[0]&&arguments[0],parent=this.options.parent;return parent?parent.draggingLines||parent.isParentDragging(!0):!!recurse&&this.draggingLines}},removeWidget:{value:function(layoutObj){this._setTransitions(!0);var rowOrColumnToRemove=null;if(this.transformedLayout.forEach(function(rowOrColumn){var index=_.indexOf(rowOrColumn,layoutObj);index!==-1&&(rowOrColumn.splice(index,1),0===rowOrColumn.length&&(rowOrColumnToRemove=rowOrColumn))}),rowOrColumnToRemove){var index=_.indexOf(this.transformedLayout,rowOrColumnToRemove);this.transformedLayout.splice(index,1)}if(0===this.transformedLayout.length&&this.options.isSub){var parentLayoutObj=_.find(this.options.parent.flatCells,{subLayout:this.layout});this.options.parent.removeWidget(parentLayoutObj)}this.megaRefresh()}},normalizeSizes:{value:function(){var _this=this,totalSizeMajor=0;this.transformedLayout.forEach(function(rowOrColumn){var totalSizeMinor=0,totalSizeMajorAdd=0;rowOrColumn.forEach(function(cell){totalSizeMinor+="columns"===_this.mainAxis?cell.percentHeight:cell.percentWidth;var major="columns"===_this.mainAxis?cell.percentWidth:cell.percentHeight;totalSizeMajorAdd=major>totalSizeMajorAdd?major:totalSizeMajorAdd}),totalSizeMajor+=totalSizeMajorAdd,100!==totalSizeMinor&&rowOrColumn.forEach(function(cell){"columns"===_this.mainAxis?cell.percentHeight=100*cell.percentHeight/totalSizeMinor:cell.percentWidth=100*cell.percentWidth/totalSizeMinor})}),100!==totalSizeMajor&&this.transformedLayout.forEach(function(rowOrColumn){rowOrColumn.forEach(function(cell){"columns"===_this.mainAxis?cell.percentWidth=100*cell.percentWidth/totalSizeMajor:cell.percentHeight=100*cell.percentHeight/totalSizeMajor})})}},splitCell:{value:function(layoutObj,orientation){var _this=this;this._setTransitions(!0),this.transformedLayout.forEach(function(rowOrColumn){var index=_.indexOf(rowOrColumn,layoutObj);if(index!==-1){var clone=angular.copy(layoutObj);if("h"===orientation&&"rows"===_this.mainAxis||"v"===orientation&&"columns"===_this.mainAxis){var attr="h"===orientation?"percentWidth":"percentHeight";layoutObj[attr]/=2,clone[attr]/=2,rowOrColumn.splice(index+1,0,clone),clone.selectWidgetMode=!0}else{delete layoutObj.widget,layoutObj.subLayout={};var axis="columns"===_this.mainAxis?"rows":"columns";layoutObj.subLayout[axis]=[{size:"100%",cells:["100% @"+clone.widget],"new":!0}]}}}),this.megaRefresh()}},megaRefresh:{value:function(){var _this=this;this.updateFlatCells(),this.normalizeSizes(),this.updateCss(),this.updateDragLines(),this.loadTemplates().then(function(){_this.$timeout(function(){return _this.compileElements()})})}},changeWidget:{value:function(layoutObj){layoutObj.selectWidgetMode=!layoutObj.selectWidgetMode,this.updateCss()}},onWidgetChange:{value:function(layoutObj){layoutObj.selectWidgetMode=!1,this.templatesLoaded=!1,this.megaRefresh()}},getWidgetName:{value:function(key){return this.widgets[key]?this.widgets[key].name||key:""}},updateLayoutJSON:{value:function(){var _this=this;if(this.transformedLayout){this.layoutJSON={},this.layoutJSON.main={},this.layoutJSON.main[this.mainAxis]=[];var subLayoutCounter=0;this.transformedLayout.forEach(function(rowOrColumn){var rowOrColumnObject={};rowOrColumn.forEach(function(cell){rowOrColumnObject.size||(rowOrColumnObject.size=cell["columns"===_this.mainAxis?"percentWidth":"percentHeight"]+"%"),rowOrColumnObject.cells||(rowOrColumnObject.cells=[]);var cellString="";if(cellString+=cell["columns"===_this.mainAxis?"percentHeight":"percentWidth"]+"%",cell.widget&&!cell.widget.startsWith("$$")&&(cellString+=" @"+cell.widget),cell.$$childLayout){cell.$$childLayout.updateLayoutJSON();var subName="sub"+subLayoutCounter;subLayoutCounter++,_this.layoutJSON[subName]=cell.$$childLayout.layoutJSON,cellString+=" #"+subName}rowOrColumnObject.cells.push(cellString)}),_this.layoutJSON.main[_this.mainAxis].push(rowOrColumnObject)})}}},getWidgetsCount:{value:function(){return $(".widget-container").length}},_setTransitions:{value:function(active){active?$(".widgets-padder .widget-wrapper").css("transition","all "+this.ANIM_DURATION+"s ease-out"):$(".widgets-padder .widget-wrapper").css("transition","none")}},_getRootDirective:{value:function(){return this.options.parent?this.options.parent._getRootDirective():this}},cleanLayout:{value:function(){if(this.transformedLayout)if(!this.transformedLayout.length&&this.options.parent){var parentLayoutObj=_.find(this.options.parent.flatCells,{subLayout:this.layout});this.options.parent.removeWidget(parentLayoutObj)}else if(1===this.transformedLayout.length&&1===this.transformedLayout[0].length&&100===this.transformedLayout[0][0].percentHeight&&100===this.transformedLayout[0][0].percentWidth&&this.options.parent){var parentLayoutObj=_.find(this.options.parent.flatCells,{subLayout:this.layout}),axis=Object.keys(parentLayoutObj.subLayout)[0];(!parentLayoutObj.subLayout[axis][0]||parentLayoutObj.subLayout[axis][0]&&!parentLayoutObj.subLayout[axis][0]["new"])&&(this.transformedLayout[0][0].widget?(parentLayoutObj.widget=this.transformedLayout[0][0].widget,delete parentLayoutObj.subLayout,delete parentLayoutObj.$$childLayout):this.transformedLayout[0][0].subLayout&&(parentLayoutObj.subLayout=this.transformedLayout[0][0].subLayout,delete parentLayoutObj.widget))}else if(1===this.transformedLayout.length&&1===this.transformedLayout[0].length&&100===this.transformedLayout[0][0].percentHeight&&100===this.transformedLayout[0][0].percentWidth&&this.transformedLayout[0][0].subLayout&&!this.options.parent){console.log("pre",JSON.stringify(this.layout));var theSub=this.transformedLayout[0][0].subLayout;this.layout=theSub,console.log("post",JSON.stringify(this.layout)),this.transformLayout(),this.cleanLayout()}}},expandPane:{value:function(layoutObj){var _this=this,expanding=this.$expanded=this.$expanded?null:layoutObj;this.transformedLayout.forEach(function(rowOrColumn){rowOrColumn.forEach(function(cell){if(expanding)if(cell.dimBeforeExpansion={width:cell.percentWidth,height:cell.percentHeight},cell===layoutObj)cell.percentWidth=cell.percentHeight=100;else{_this.cssRules[cell.cssId].opacity=0;var onTheSameRowOrColumn=rowOrColumn.indexOf(layoutObj)!==-1;onTheSameRowOrColumn?(cell["columns"===_this.mainAxis?"percentHeight":"percentWidth"]=0,cell["rows"===_this.mainAxis?"percentHeight":"percentWidth"]=100):(cell["rows"===_this.mainAxis?"percentHeight":"percentWidth"]=0,cell["columns"===_this.mainAxis?"percentHeight":"percentWidth"]=100)}else cell.percentWidth=cell.dimBeforeExpansion.width,cell.percentHeight=cell.dimBeforeExpansion.height,delete cell.dimBeforeExpansion})}),expanding?this.$timeout(function(){_this.updateCss()},this.ANIM_DURATION*MILLISECONDS_MULTI):(this.updateCss(),this.$timeout(function(){_this.transformedLayout.forEach(function(rowOrColumn){rowOrColumn.forEach(function(cell){_this.cssRules[cell.cssId].opacity=1})})},this.ANIM_DURATION*MILLISECONDS_MULTI)),this.$timeout(function(){$(document).trigger("resize")},this.ANIM_DURATION+ANIMATION_DELAY*MILLISECONDS_MULTI),this.options.parent&&this.parentCell&&this.options.parent.expandPane(this.parentCell),layoutObj.expanded=!layoutObj.expanded}}}),jfWidgetsLayoutController}()},function(module,exports){"use strict";function jfMarquee(){return{restrict:"E",transclude:{innerHtml:"?innerHtml"},scope:{disabled:"=?"},controller:jfMarqueeController,controllerAs:"jfMarquee",bindToController:!0,templateUrl:"directives/jf_marquee/jf_marquee.html"}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfMarquee=jfMarquee,Object.defineProperty(exports,"__esModule",{value:!0});var jfMarqueeController=function(){function jfMarqueeController($element,$timeout,$interval,$scope,$transclude){var _this=this;_classCallCheck(this,jfMarqueeController),this.$timeout=$timeout,this.$transclude=$transclude,this.container=$($element).find(".jf-marquee-container"),this.content=$($element).find(".jf-marquee-container span"),this.container.on("mouseenter",function(){return _this.onMouseEnter()}),this.container.on("mouseleave",function(){return _this.onMouseLeave()})}return jfMarqueeController.$inject=["$element","$timeout","$interval","$scope","$transclude"],_createClass(jfMarqueeController,{onMouseEnter:{value:function(){this.disabled||(this.checkOverflow(),this.overflowing&&(this.animPeriod=.01*this.content.innerWidth(),this.startAnimation(1e3)))}},onMouseLeave:{value:function(){this.disabled||this.overflowing&&(this.content.css("transition","none"),this.content.css("left","0"),this.container.removeClass("animating"),this.startAnimTimeout&&this.$timeout.cancel(this.startAnimTimeout),this.loopAnimTimeout&&this.$timeout.cancel(this.loopAnimTimeout))}},startAnimation:{value:function(){var _this=this,delay=void 0===arguments[0]?0:arguments[0];this.container.addClass("animating"),this.content.css("transition","left "+this.animPeriod+"s linear"),this.content.css("left","0"),this.startAnimTimeout=this.$timeout(function(){_this.content.css("left",-_this.content.innerWidth()+"px"),_this.loopAnimTimeout=_this.$timeout(function(){_this.content.css("transition","none"),_this.content.css("left",_this.container.innerWidth()+"px"),_this.animPeriod=.01*(_this.container.innerWidth()+_this.content.innerWidth()),_this.$timeout(function(){return _this.startAnimation()},10)},1e3*_this.animPeriod)},delay)}},checkOverflow:{value:function(){Math.round(this.container.innerWidth())<Math.round(this.container[0].scrollWidth)?(this.container.addClass("overflowing"),this.overflowing=!0):(this.container.removeClass("overflowing"),this.overflowing=!1)}}}),jfMarqueeController}()},function(module,exports,__webpack_require__){"use strict";function jfPasswordStrength(){return{restrict:"E",scope:{password:"=",rank:"="},controller:jfPasswordStrengthController,controllerAs:"jfPS",templateUrl:"directives/jf_password_strength/jf_password_strength.html",bindToController:!0}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfPasswordStrength=jfPasswordStrength,Object.defineProperty(exports,"__esModule",{value:!0});var passrank=__webpack_require__(56).passrank,jfPasswordStrengthController=function(){function jfPasswordStrengthController($scope){var _this=this;_classCallCheck(this,jfPasswordStrengthController),$scope.$watch("jfPS.password",function(pass){_this.passLength=pass?pass.length:0,_this.rank=passrank(pass)})}return jfPasswordStrengthController.$inject=["$scope"],_createClass(jfPasswordStrengthController,{getStrength:{value:function(){return 0===this.rank&&0===this.passLength?{label:"","class":"blank",sections:0}:this.rank<20?{label:"Too short","class":"short",sections:1}:this.rank<40?{label:"Weak","class":"week",sections:2}:this.rank<60?{label:"Medium","class":"medium",sections:3}:this.rank<80?{label:"Good","class":"good",sections:4}:{label:"Strong","class":"strong",sections:5}}}}),jfPasswordStrengthController}()},function(module,exports,__webpack_require__){"use strict";function checkRule(pass,rule){var regex=new RegExp(rule,"g"),matches=pass.match(regex);return matches?{pass:!0,n:matches.length}:{pass:!1,n:0}}function getUniqueCount(str){if(!str||!str.length)return 0;for(var found=[],count=0,i=0;i<str.length;i++)found.indexOf(str[i])===-1&&(count++,found.push(str[i]));return count}function passrank(pass){if(!pass||!pass.length)return 0;var rules={CONTAINS_LOWER_CASE:"[a-z]",CONTAINS_UPPER_CASE:"[A-Z]",CONTAINS_NUMBERS:"[0-9]",CONTAINS_SYMBOLS:"[^A-Za-z0-9]",MIXES_CASING:"((?=[a-z][A-Z]+|[A-Z][a-z]+))",MIXES_LETTERS_NUMBERS:"((?=[a-zA-Z][0-9]+|[0-9][a-zA-Z]+))",MIXES_SIGNS:"((?=[a-zA-Z0-9][^A-Za-z0-9]+|[^A-Za-z0-9][a-zA-Z0-9]+))"},checks={};for(var rule in rules)checks[rule]=checkRule(pass,rules[rule]);var rank=0,uniques=getUniqueCount(pass),mixBonus=checks.MIXES_CASING.n+checks.MIXES_LETTERS_NUMBERS.n+checks.MIXES_SIGNS.n,debugStr="";return checks.CONTAINS_NUMBERS.pass&&checks.CONTAINS_SYMBOLS.pass&&checks.CONTAINS_LOWER_CASE.pass&&checks.CONTAINS_UPPER_CASE.pass?(debugStr+="N+S+L+U",rank+=Math.pow(uniques,4)*Math.pow(Math.max(1,mixBonus),4)*Math.pow(pass.length,2)):checks.CONTAINS_NUMBERS.pass&&checks.CONTAINS_SYMBOLS.pass&&(checks.CONTAINS_LOWER_CASE.pass||checks.CONTAINS_UPPER_CASE.pass)?(debugStr+="N+S+(L|U)",rank+=Math.pow(uniques,3)*Math.pow(Math.max(1,mixBonus),3)*Math.pow(pass.length,2.5)):checks.CONTAINS_LOWER_CASE.pass&&checks.CONTAINS_UPPER_CASE.pass&&checks.CONTAINS_SYMBOLS.pass?(debugStr+="S+L+U",rank+=Math.pow(uniques,3)*Math.pow(Math.max(1,mixBonus),4)*Math.pow(pass.length,3)):checks.CONTAINS_LOWER_CASE.pass&&checks.CONTAINS_UPPER_CASE.pass&&checks.CONTAINS_NUMBERS.pass?(debugStr+="N+L+U",rank+=Math.pow(uniques,3)*Math.pow(Math.max(1,mixBonus),3)*Math.pow(pass.length,3)):checks.CONTAINS_NUMBERS.pass&&checks.CONTAINS_SYMBOLS.pass?(debugStr+="N+S",rank+=Math.pow(uniques,2)*Math.pow(Math.max(1,mixBonus),2)*Math.pow(pass.length,2)):(checks.CONTAINS_LOWER_CASE.pass||checks.CONTAINS_UPPER_CASE.pass)&&checks.CONTAINS_SYMBOLS.pass?(debugStr+="S+(L|U)",rank+=Math.pow(uniques,1.5)*Math.pow(Math.max(1,mixBonus),1.5)*Math.pow(pass.length,1.5)):(checks.CONTAINS_LOWER_CASE.pass||checks.CONTAINS_UPPER_CASE.pass)&&checks.CONTAINS_NUMBERS.pass?(debugStr+="N+(L|U)",rank+=Math.pow(uniques,1.5)*Math.pow(Math.max(1,mixBonus),1.5)*Math.pow(pass.length,1.2)):checks.CONTAINS_LOWER_CASE.pass&&checks.CONTAINS_UPPER_CASE.pass?(debugStr+="L+U",rank+=Math.pow(uniques,1.25)*Math.pow(Math.max(1,mixBonus),1.25)*Math.pow(pass.length,1.1)):(debugStr+="0000",rank+=Math.pow(uniques,1.1)*Math.pow(Math.max(1,mixBonus),1.1)*Math.pow(pass.length,.5)),debugStr+=" * "+("u: "+uniques+" mb: "+mixBonus+" l: "+pass.length+" *"),
rank*=mixBonus>=1?Math.pow(pass.length,Math.log(Math.pow(pass.length*uniques,1.5))):Math.pow(pass.length,Math.log(Math.pow(pass.length*uniques,1.2))),rank=Math.round(Math.log(rank)),debugStr+=" r: "+rank,rank=rank>=38?100:Math.round(rank/38*100),debugStr+=" rN: "+rank,Math.round(rank)}exports.passrank=passrank,Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(57).TRIVIAL_PASSWORDS},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var TRIVIAL_PASSWORDS="123456,password,12345678,qwerty,123456789,12345,1234,111111,1234567,123123,abc123,696969,666666,qwertyuiop,123321,1234567890,654321,1qaz2wsx,7777777,123qwe,000000,zxcvbnm,112233,zxcvbn,11111111,131313,159753,6969,secret,hello,1234qwer,gfhjkm,q1w2e3r4t5,qwer1234,ncc1701,q1w2e3r4,123654,1q2w3e4r,asdfasdf,thx1138,12344321,8675309,qwerty123,passw0rd,abcd1234,123abc,123456a,159357,789456,asdf,qwertyui,q1w2e3,1q2w3e4r5t,123456q,12345a,1qazxsw2,2112,asdasd,01012011,102030,11223344,315475,qwerty1,asdf1234,007007,lol123,147258369,qwertyu,asd123,qweasdzxc,hello1,12345q,111222,147258,zaq12wsx,010203,a123456,123456789a,1232323q,qwerty12,qwe123,12345qwert,asdfg,test123,password123,hello123".split(",");exports.TRIVIAL_PASSWORDS=TRIVIAL_PASSWORDS},function(module,exports){"use strict";function jfClearErrors(){return{restrict:"A",controller:jfClearErrorsController}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfClearErrors=jfClearErrors,Object.defineProperty(exports,"__esModule",{value:!0});var jfClearErrorsController=function(){function jfClearErrorsController($scope,$element,$attrs,JFrogEventBus){var _this=this;_classCallCheck(this,jfClearErrorsController),this.JFrogEventBus=JFrogEventBus,this.EVENTS=JFrogEventBus.getEventsDefinition(),angular.element($element).on("mousedown",function(){_this.clearFieldValidations()})}return jfClearErrorsController.$inject=["$scope","$element","$attrs","JFrogEventBus"],_createClass(jfClearErrorsController,{clearFieldValidations:{value:function(){this.JFrogEventBus.dispatch(this.EVENTS.FORM_CLEAR_FIELD_VALIDATION,!0)}}}),jfClearErrorsController}()},function(module,exports){"use strict";function jfFakeReadonly(){return{restrict:"A",controller:jfFakeReadonlyController}}var _classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfFakeReadonly=jfFakeReadonly,Object.defineProperty(exports,"__esModule",{value:!0});var jfFakeReadonlyController=["$element",function jfFakeReadonlyController($element){_classCallCheck(this,jfFakeReadonlyController),$($element).attr("readonly",!0);var removeAttr=function(){$($element).attr("readonly",!1),$($element).off("focus",removeAttr)};$($element).on("focus",removeAttr)}]},function(module,exports,__webpack_require__){"use strict";function jfMarkupEditor(){return{restrict:"E",scope:{markup:"=?",previewRenderers:"=?",language:"=?",mode:"=?",onSave:"&?",onModeChange:"&?",editable:"=?",showControls:"=?",hideCancelButton:"<?",editorLabel:"@",preventAutoFocus:"=?"},controller:jfMarkupEditorController,controllerAs:"jfMarkup",bindToController:!0,templateUrl:"directives/jf_markup_editor/jf_markup_editor.html"}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfMarkupEditor=jfMarkupEditor,Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(61);var PREVIEW_MODE="Preview",EDIT_MODE="Edit",jfMarkupEditorController=function(){function jfMarkupEditorController($timeout,$scope,JFrogUIWebWorker){_classCallCheck(this,jfMarkupEditorController),this.$timeout=$timeout,this.$scope=$scope,this.EDIT_MODE=EDIT_MODE,this.PREVIEW_MODE=PREVIEW_MODE,this.instanceId=Math.floor(1e10*Math.random()),this.JFrogUIWebWorker=new JFrogUIWebWorker}return jfMarkupEditorController.$inject=["$timeout","$scope","JFrogUIWebWorker"],_createClass(jfMarkupEditorController,{$onInit:{value:function(){var _this=this;this.checkPreviewers(),2===this.previewersCount?this.init():this.JFrogUIWebWorker.check().then(function(){_this.JFrogUIWebWorker.open(),_this.webworkerOk=!0,_this.init()})["catch"](function(){console.error("jf-code-mirror: Error: No preview render callback defined and WebWorker is not available.")}),this.$scope.$on("$destroy",function(){_this.webworkerOk&&_this.JFrogUIWebWorker.close()})}},init:{value:function(){var _this=this;this.mode=this.mode||EDIT_MODE,this.markup=this.markup||"",this.markupBackup=this.markup,this.language=this.language||"Markdown",this.languageBackup=this.language,void 0===this.editable&&(this.editable=!0),this.modeOptions=[EDIT_MODE,PREVIEW_MODE],this.updatePreviewButton(),this.$scope.$watch("jfMarkup.markup",function(){_this.canRenderPreview()&&_this.renderPreview()})}},setPreview:{value:function(preview){this.preview=preview}},currentLanguageHasPreviewRenderer:{value:function(){return this.previewRenderers&&this.previewRenderers[this.language.toLowerCase()]}},canRenderPreview:{value:function(){return this.webworkerOk&&!this.currentLanguageHasPreviewRenderer()}},renderPreview:{value:function(){var _this=this;"plain text"===this.language.toLowerCase()?this.setPreview(this.markup.replace(/\n/g,"<br>")):this.currentLanguageHasPreviewRenderer()?this.previewRenderers[this.language.toLowerCase()](this.markup,function(preview){return _this.setPreview(preview)}):(this.webworkerOk,this.language,this.language.toLowerCase(),this.instanceId&&this.JFrogUIWebWorker.markupPreview(this.language.toLowerCase(),this.markup,this.instanceId).then(function(html){return _this.setPreview(html)}))}},updatePreviewButton:{value:function(){this.modeOptions=[EDIT_MODE,PREVIEW_MODE]}},onLanguageChange:{value:function(){var _this=this;this.updatePreviewButton(),this.preview="",this.canRenderPreview()&&this.renderPreview(),this.$timeout(function(){return _this.switchController.updateOptionObjects()})}},onChangeModeInternal:{value:function(){this.mode===PREVIEW_MODE&&this.renderPreview(),this.onModeChange&&this.onModeChange({mode:this.mode})}},checkPreviewers:{value:function(){this.previewRenderers?this.previewRenderers.markdown&&this.previewRenderers.asciidoc?this.previewersCount=2:(this.previewRenderers.markdown||this.previewRenderers.asciidoc)&&(this.previewersCount=1):(this.previewRenderers={},this.previewersCount=0)}},onCancel:{value:function(){var _this=this;this.$timeout(function(){_this.language=_this.languageBackup,_this.markup=_this.markupBackup,_this.preview="",_this.renderPreview(),_this.mode=PREVIEW_MODE,_this.showControls=!1})}},onSaveClick:{value:function(){var _this=this;this.$timeout(function(){_this.onSave&&"function"==typeof _this.onSave&&(_this.languageBackup=_this.language,_this.markupBackup=_this.markup,_this.onSave(),_this.showControls=!1)})}},activateEditor:{value:function(){this.mode=EDIT_MODE,this.showControls=!0}},isInEditMode:{value:function(){return this.showControls&&this.mode===this.EDIT_MODE}}}),jfMarkupEditorController}()},function(module,exports){"use strict";CodeMirror.defineMode("asciidoc",function(config,parserConfig){var HighlightRules=function(){function quoteRule(ch){var prefix=/\w/.test(ch)?"\\b":"(?:\\B|^)";return prefix+ch+"[^"+ch+"].*?"+ch+"(?![\\w*])"}var identifierRe="[a-zA-Z¡-￿]+\\b";this.$rules={start:[{token:"empty",regex:/$/},{token:"literal",regex:/^\.{4,}\s*$/,next:"listingBlock"},{token:"literal",regex:/^-{4,}\s*$/,next:"literalBlock"},{token:"literal",regex:/^\+{4,}\s*$/,next:"passthroughBlock"},{token:"keyword",regex:/^={4,}\s*$/},{token:"text",regex:/^\s*$/},{token:"empty",regex:"",next:"dissallowDelimitedBlock"}],dissallowDelimitedBlock:[{include:"paragraphEnd"},{token:"comment",regex:"^//.+$"},{token:"keyword",regex:"^(?:NOTE|TIP|IMPORTANT|WARNING|CAUTION):\\s"},{include:"listStart"},{token:"literal",regex:/^\s+.+$/,next:"indentedBlock"},{token:"empty",regex:"",next:"text"}],paragraphEnd:[{token:"doc.comment",regex:/^\/{4,}\s*$/,next:"commentBlock"},{token:"tableBlock",regex:/^\s*[|!]=+\s*$/,next:"tableBlock"},{token:"keyword",regex:/^(?:--|''')\s*$/,next:"start"},{token:"option",regex:/^\[.*\]\s*$/,next:"start"},{token:"pageBreak",regex:/^>{3,}$/,next:"start"},{token:"literal",regex:/^\.{4,}\s*$/,next:"listingBlock"},{token:"titleUnderline",regex:/^(?:={2,}|-{2,}|~{2,}|\^{2,}|\+{2,})\s*$/,next:"start"},{token:"singleLineTitle",regex:/^={1,6}\s+\S.*$/,next:"start"},{token:"otherBlock",regex:/^(?:\*{2,}|_{2,})\s*$/,next:"start"},{token:"optionalTitle",regex:/^\.[^.\s].+$/,next:"start"}],listStart:[{token:"keyword",regex:/^\s*(?:\d+\.|[a-zA-Z]\.|[ixvmIXVM]+\)|\*{1,5}|-|\.{1,5})\s/,next:"listText"},{token:"meta.tag",regex:/^.+(?::{2,4}|;;)(?: |$)/,next:"listText"},{token:"keyword",regex:/^\+\s*$/,next:"start"}],text:[{token:["link","link"],regex:/((?:https?:\/\/|ftp:\/\/|file:\/\/|mailto:|callto:)[^\s\[]+)(\[.*?\])/},{token:["link","link"],regex:/(?:https?:\/\/|ftp:\/\/|file:\/\/|mailto:|callto:)[^\s\[]+/},{token:"link",regex:/\b[\w\.\/\-]+@[\w\.\/\-]+\b/},{include:"macros"},{include:"paragraphEnd"},{token:"literal",regex:/\+{3,}/,next:"smallPassthrough"},{token:"escape",regex:/\((?:C|TM|R)\)|\.{3}|->|<-|=>|<=|&#(?:\d+|x[a-fA-F\d]+);|(?: |^)--(?=\s+\S)/},{token:"escape",regex:/\\[_*'`+#]|\\{2}[_*'`+#]{2}/},{token:"keyword",regex:/\s\+$/},{token:"text",regex:identifierRe},{token:["keyword","string","keyword"],regex:/(<<[\w\d\-$]+,)(.*?)(>>|$)/},{token:"keyword",regex:/<<[\w\d\-$]+,?|>>/},{token:"constant.character",regex:/\({2,3}.*?\){2,3}/},{token:"support.function.list.callout",regex:/^(?:<\d+>|\d+>|>) /,next:"text"},{token:"keyword",regex:/\[\[.+?\]\]/},{token:"support",regex:/^\[{3}[\w\d =\-]+\]{3}/},{include:"quotes"},{token:"empty",regex:/^\s*$/,next:"start"}],listText:[{include:"listStart"},{include:"text"}],indentedBlock:[{token:"literal",regex:/^[\s\w].+$/,next:"indentedBlock"},{token:"literal",regex:"",next:"start"}],listingBlock:[{token:"literal",regex:/^\.{4,}\s*$/,next:"dissallowDelimitedBlock"},{token:"constant.numeric",regex:"<\\d+>"},{token:"literal",regex:"[^<]+"},{token:"literal",regex:"<"}],literalBlock:[{token:"literal",regex:/^-{4,}\s*$/,next:"dissallowDelimitedBlock"},{token:"constant.numeric",regex:"<\\d+>"},{token:"literal",regex:"[^<]+"},{token:"literal",regex:"<"}],passthroughBlock:[{token:"literal",regex:/^\+{4,}\s*$/,next:"dissallowDelimitedBlock"},{token:"literal",regex:identifierRe+"|\\d+"},{include:"macros"},{token:"literal",regex:"."}],smallPassthrough:[{token:"literal",regex:/[+]{3,}/,next:"dissallowDelimitedBlock"},{token:"literal",regex:/^\s*$/,next:"dissallowDelimitedBlock"},{token:"literal",regex:identifierRe+"|\\d+"},{include:"macros"}],commentBlock:[{token:"doc.comment",regex:/^\/{4,}\s*$/,next:"dissallowDelimitedBlock"},{token:"doc.comment",regex:"^.*$"}],tableBlock:[{token:"tableBlock",regex:/^\s*\|={3,}\s*$/,next:"dissallowDelimitedBlock"},{token:"tableBlock",regex:/^\s*!={3,}\s*$/,next:"innerTableBlock"},{token:"tableBlock",regex:/\|/},{include:"text",noEscape:!0}],innerTableBlock:[{token:"tableBlock",regex:/^\s*!={3,}\s*$/,next:"tableBlock"},{token:"tableBlock",regex:/^\s*|={3,}\s*$/,next:"dissallowDelimitedBlock"},{token:"tableBlock",regex:/\!/}],macros:[{token:"macro",regex:/{[\w\-$]+}/},{token:["text","string","text","constant.character","text"],regex:/({)([\w\-$]+)(:)?(.+)?(})/},{token:["text","markup.list.macro","keyword","string"],regex:/(\w+)(footnote(?:ref)?::?)([^\s\[]+)?(\[.*?\])?/},{token:["markup.list.macro","keyword","string"],regex:/([a-zA-Z\-][\w\.\/\-]*::?)([^\s\[]+)(\[.*?\])?/},{token:["markup.list.macro","keyword"],regex:/([a-zA-Z\-][\w\.\/\-]+::?)(\[.*?\])/},{token:"keyword",regex:/^:.+?:(?= |$)/}],quotes:[{token:"string.italic",regex:/__[^_\s].*?__/},{token:"string.italic",regex:quoteRule("_")},{token:"keyword.bold",regex:/\*\*[^*\s].*?\*\*/},{token:"keyword.bold",regex:quoteRule("\\*")},{token:"literal",regex:/\+\+[^+\s].*?\+\+/},{token:"literal",regex:quoteRule("\\+")},{token:"literal",regex:/\$\$.+?\$\$/},{token:"literal",regex:quoteRule("\\$")},{token:"literal",regex:/``[^`\s].*?``/},{token:"literal",regex:quoteRule("`")},{token:"keyword",regex:/\^[^\^].*?\^/},{token:"keyword",regex:quoteRule("\\^")},{token:"keyword",regex:/~[^~].*?~/},{token:"keyword",regex:quoteRule("~")},{token:"keyword",regex:/##?/},{token:"keyword",regex:/(?:\B|^)``|\b''/}]};var tokenMap={macro:"constant.character",tableBlock:"doc.comment",titleUnderline:"markup.heading",singleLineTitle:"markup.heading",pageBreak:"string",option:"string.regexp",otherBlock:"markup.list",literal:"support.function",optionalTitle:"constant.numeric",escape:"constant.language.escape",link:"markup.underline.list"};for(var state in this.$rules)for(var stateRules=this.$rules[state],i=stateRules.length;i--;){var rule=stateRules[i];if(rule.include||"string"==typeof rule){var args=[i,1].concat(this.$rules[rule.include||rule]);rule.noEscape&&(args=args.filter(function(x){return!x.next})),stateRules.splice.apply(stateRules,args)}else rule.token in tokenMap&&(rule.token=tokenMap[rule.token])}},MAX_TOKEN_COUNT=1e3,Tokenizer=function(rules){this.states=rules,this.regExps={},this.matchMappings={};for(var key in this.states){for(var state=this.states[key],ruleRegExps=[],matchTotal=0,mapping=this.matchMappings[key]={defaultToken:"text"},flag="g",splitterRurles=[],i=0;i<state.length;i++){var rule=state[i];if(rule.defaultToken&&(mapping.defaultToken=rule.defaultToken),rule.caseInsensitive&&(flag="gi"),null!=rule.regex){rule.regex instanceof RegExp&&(rule.regex=rule.regex.toString().slice(1,-1));var adjustedregex=rule.regex,matchcount=new RegExp("(?:("+adjustedregex+")|(.))").exec("a").length-2;if(Array.isArray(rule.token))if(1==rule.token.length||1==matchcount)rule.token=rule.token[0];else{if(matchcount-1!=rule.token.length)throw new Error("number of classes and regexp groups in '"+rule.token+"'\n'"+rule.regex+"' doesn't match\n"+(matchcount-1)+"!="+rule.token.length);rule.tokenArray=rule.token,rule.token=null,rule.onMatch=this.$arrayTokens}else"function"!=typeof rule.token||rule.onMatch||(matchcount>1?rule.onMatch=this.$applyToken:rule.onMatch=rule.token);matchcount>1&&(/\\\d/.test(rule.regex)?adjustedregex=rule.regex.replace(/\\([0-9]+)/g,function(match,digit){return"\\"+(parseInt(digit,10)+matchTotal+1)}):(matchcount=1,adjustedregex=this.removeCapturingGroups(rule.regex)),rule.splitRegex||"string"==typeof rule.token||splitterRurles.push(rule)),mapping[matchTotal]=i,matchTotal+=matchcount,ruleRegExps.push(adjustedregex),rule.onMatch||(rule.onMatch=null)}}splitterRurles.forEach(function(rule){rule.splitRegex=this.createSplitterRegexp(rule.regex,flag)},this),this.regExps[key]=new RegExp("("+ruleRegExps.join(")|(")+")|($)",flag)}};(function(){this.$setMaxTokenCount=function(m){MAX_TOKEN_COUNT=0|m},this.$applyToken=function(str){var values=this.splitRegex.exec(str).slice(1),types=this.token.apply(this,values);if("string"==typeof types)return[{type:types,value:str}];for(var tokens=[],i=0,l=types.length;i<l;i++)values[i]&&(tokens[tokens.length]={type:types[i],value:values[i]});return tokens},this.$arrayTokens=function(str){if(!str)return[];var values=this.splitRegex.exec(str);if(!values)return"text";for(var tokens=[],types=this.tokenArray,i=0,l=types.length;i<l;i++)values[i+1]&&(tokens[tokens.length]={type:types[i],value:values[i+1]});return tokens},this.removeCapturingGroups=function(src){var r=src.replace(/\[(?:\\.|[^\]])*?\]|\\.|\(\?[:=!]|(\()/g,function(x,y){return y?"(?:":x});return r},this.createSplitterRegexp=function(src,flag){if(src.indexOf("(?=")!=-1){var stack=0,inChClass=!1,lastCapture={};src.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(m,esc,parenOpen,parenClose,square,index){return inChClass?inChClass="]"!=square:square?inChClass=!0:parenClose?(stack==lastCapture.stack&&(lastCapture.end=index+1,lastCapture.stack=-1),stack--):parenOpen&&(stack++,1!=parenOpen.length&&(lastCapture.stack=stack,lastCapture.start=index)),m}),null!=lastCapture.end&&/^\)*$/.test(src.substr(lastCapture.end))&&(src=src.substring(0,lastCapture.start)+src.substr(lastCapture.end))}return new RegExp(src,(flag||"").replace("g",""))},this.getLineTokens=function(line,startState){if(startState&&"string"!=typeof startState){var stack=startState.slice(0);startState=stack[0]}else var stack=[];var currentState=startState||"start",state=this.states[currentState];state||(currentState="start",state=this.states[currentState]);var mapping=this.matchMappings[currentState],re=this.regExps[currentState];re.lastIndex=0;for(var match,tokens=[],lastIndex=0,token={type:null,value:""};match=re.exec(line);){var type=mapping.defaultToken,rule=null,value=match[0],index=re.lastIndex;if(index-value.length>lastIndex){var skipped=line.substring(lastIndex,index-value.length);token.type==type?token.value+=skipped:(token.type&&tokens.push(token),token={type:type,value:skipped})}for(var i=0;i<match.length-2;i++)if(void 0!==match[i+1]){rule=state[mapping[i]],type=rule.onMatch?rule.onMatch(value,currentState,stack):rule.token,rule.next&&(currentState="string"==typeof rule.next?rule.next:rule.next(currentState,stack),state=this.states[currentState],state||(window.console&&console.error&&console.error(currentState,"doesn't exist"),currentState="start",state=this.states[currentState]),mapping=this.matchMappings[currentState],lastIndex=index,re=this.regExps[currentState],re.lastIndex=index);break}if(value)if("string"==typeof type)rule&&rule.merge===!1||token.type!==type?(token.type&&tokens.push(token),token={type:type,value:value}):token.value+=value;else if(type){token.type&&tokens.push(token),token={type:null,value:""};for(var i=0;i<type.length;i++)tokens.push(type[i])}if(lastIndex==line.length)break;if(lastIndex=index,tokens.length>MAX_TOKEN_COUNT){for(;lastIndex<line.length;)token.type&&tokens.push(token),token={value:line.substring(lastIndex,lastIndex+=2e3),type:"overflow"};currentState="start",stack=[];break}}return token.type&&tokens.push(token),stack.length>1&&stack[0]!==currentState&&stack.unshift(currentState),{tokens:tokens,state:stack.length?stack:currentState}}}).call(Tokenizer.prototype);var tokenFromAceToken={empty:null,text:null,keyword:"keyword",control:"keyword",operator:"operator",constant:"atom",numeric:"number",character:"atom",escape:"atom",variable:"variable",parameter:"variable-3",language:"variable-2",comment:"comment",line:"comment","double-slash":"comment","double-dash":"comment","number-sign":"comment",percentage:"comment",block:"comment",doc:"comment",string:"string",quoted:"string",single:"string","double":"string",triple:"string",unquoted:"string",interpolated:"string",regexp:"string-2",meta:"keyword",literal:"qualifier",support:"builtin",markup:"tag",underline:"link",link:"link",strong:"strong",heading:"header",em:"em",list:"variable-2",numbered:"variable-2",unnumbered:"variable-2",quote:"quote",raw:"variable-2",invalid:"error",illegal:"invalidchar",deprecated:"error"},cmTokenFromAceTokens=function(tokens){for(var token=null,i=0;i<tokens.length;i++)void 0!==tokenFromAceToken[tokens[i]]&&(token=tokenFromAceToken[tokens[i]]);return token},consumeToken=function(stream,state){var plannedToken=state.plannedTokens.shift();if(void 0===plannedToken)return null;stream.match(plannedToken.value);var tokens=plannedToken.type.split(".");return cmTokenFromAceTokens(tokens)},matchToken=function(stream,state){if(state.plannedTokens.length>0)return consumeToken(stream,state);var currentState=state.current,currentLine=stream.match(/.*$/,!1)[0],tokenized=tokenizer.getLineTokens(currentLine,currentState);return state.plannedTokens=tokenized.tokens,state.current=tokenized.state,consumeToken(stream,state)},aceHighlightRules=new HighlightRules,tokenizer=new Tokenizer(aceHighlightRules.$rules);return{startState:function(){return{current:"start",plannedTokens:[]}},blankLine:function(state){matchToken("",state)},token:matchToken}}),CodeMirror.defineMIME("text/x-asciidoc","asciidoc")},function(module,exports){"use strict";function jfJsTreeWrap(){return{restrict:"E",scope:{treeData:"=",treeHeader:"=",checkboxes:"=",getTextFunc:"&",getChildrenFunc:"&",getInitialStateFunc:"&?",onStateChange:"&?",onReady:"&?"},controller:jfJsTreeWrapController,controllerAs:"jfJsTreeWrap",templateUrl:"directives/jf_js_tree_wrap/jf_js_tree_wrap.html",bindToController:!0}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfJsTreeWrap=jfJsTreeWrap,Object.defineProperty(exports,"__esModule",{value:!0});var jfJsTreeWrapController=function(){function jfJsTreeWrapController($scope,$q,$element,$timeout){var _this=this;_classCallCheck(this,jfJsTreeWrapController),this.$element=$element,this.$timeout=$timeout,this.$q=$q,$scope.$watch("jfJsTreeWrap.treeData",function(data){data&&!_this.built&&_this.initTree()})}return jfJsTreeWrapController.$inject=["$scope","$q","$element","$timeout"],_createClass(jfJsTreeWrapController,{treeConfig:{value:function(){return{core:{data:{}},checkbox:{keep_selected_style:!1,three_state:!0,tie_selection:!1,whole_node:!1},plugins:this.checkboxes===!0||void 0===this.checkboxes?["wholerow","checkbox"]:[]}}},initTree:{value:function(){var _this=this;this.buildTree().then(function(){_this.registerTreeEvents(),_this.onReady&&_this.onReady({jstree:_this.jstree()}),_this.built=!0})}},registerTreeEvents:{value:function(){var _this=this;$(this.treeElement).on("select_node.jstree",function(e,args){}),$(this.treeElement).on("check_node.jstree",function(e,args){_this.onStateChange&&_this.$timeout(function(){return _this.onStateChange()})}),$(this.treeElement).on("uncheck_node.jstree",function(e,args){_this.onStateChange&&_this.$timeout(function(){return _this.onStateChange()})})}},buildTree:{value:function(){var _this=this;this.transformedData=this.transformData(this.treeData);var TreeConfig=this.treeConfig();TreeConfig.core.data=function(obj,cb){if("#"===obj.id)cb(_this.transformedData);else{var children=_this.getChildrenFunc({node:obj.data.originalObject()});children.then?children.then(function(data){return cb(_this.transformData(data))}):cb(children?_this.transformData(children):[])}},this.treeElement=$(this.$element).find(".tree-element"),$(this.treeElement).jstree(TreeConfig);var defer=this.$q.defer();return $(this.treeElement).on("ready.jstree",function(e){defer.resolve()}),defer.promise}},jstree:{value:function(){return $(this.treeElement).jstree()}},transformData:{value:function(origData){var _this=this;if(origData&&origData.length)return _.map(origData,function(origItem){var item={};item.data={originalObject:function(){return origItem}};var children=_this.getChildrenFunc({node:origItem});return item.children=!(!children||!children.length&&!children.then)||[],item.text=_this.getTextFunc({node:origItem})||"",item.icon="jf-tree-no-icon",item.state=_this.getInitialStateFunc?_this.getInitialStateFunc({node:origItem}):{opened:!1,disabled:!1,selected:!1,checked:!1},_this.setItemMethods(origItem),item})}},setItemMethods:{value:function(item){var _this=this;item.$isChecked=function(){var node=_this.getTreeNodeByOrigItem(item);return!!node&&_this.jstree().is_checked(node)},item.$isOpened=function(){var node=_this.getTreeNodeByOrigItem(item);return!!node&&_this.jstree().is_open(node)},item.$setChecked=function(){var checked=void 0===arguments[0]||arguments[0],node=_this.getTreeNodeByOrigItem(item);node&&(checked?_this.jstree().check_node(node):_this.jstree().uncheck_node(node))},item.$setOpened=function(){var opened=void 0===arguments[0]||arguments[0],node=_this.getTreeNodeByOrigItem(item);node&&(opened?_this.jstree().open_node(node,null,!1):_this.jstree().close_node(node,null,!1))}}},getTreeNodeByOrigItem:{value:function(origItem){var treeJSON=this.jstree().get_json(),found=void 0,recursiveFind=function(arr){for(var i=0;i<arr.length;i++)if(arr[i].data.originalObject()===origItem){found=arr[i];break}if(!found)for(var i=0;i<arr.length&&!(arr[i].children&&arr[i].children.length&&(found=recursiveFind(arr[i].children)));i++);return found};return recursiveFind(treeJSON),found}},hasData:{value:function(){return this.treeData&&this.treeData.length}}}),jfJsTreeWrapController}()},function(module,exports){"use strict";function jfAutoComplete(){return{restrict:"A",scope:{uiItems:"=",onSelect:"&"},controller:jfAutoCompleteController}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfAutoComplete=jfAutoComplete,Object.defineProperty(exports,"__esModule",{value:!0});var jfAutoCompleteController=function(){function jfAutoCompleteController($scope,$element,$attrs,$timeout){var _this=this;_classCallCheck(this,jfAutoCompleteController),this.$element=$element,$($element).autocomplete({source:$scope.uiItems,select:function(event,ui){$scope.onSelect&&$scope.onSelect({selection:ui.item.value})}});var widget=$($element).autocomplete("widget");widget.css("z-index","9999999999"),widget.css("max-height","400px"),widget.css("overflow-y","auto"),widget.css("overflow-x","hidden"),$scope.$watch("uiItems",function(newVal,oldVal){_this.updateSource(newVal)})}return jfAutoCompleteController.$inject=["$scope","$element","$attrs","$timeout"],_createClass(jfAutoCompleteController,{updateSource:{value:function(list){$(this.$element).autocomplete({source:list})}}}),jfAutoCompleteController}()},function(module,exports){"use strict";function jfDatetimepicker(){return{restrict:"E",scope:{isDatepickerOpen:"=?",isRequired:"<",model:"=",options:"<?",attrId:"=",onChange:"&?",isEnabled:"="},controller:jfDatetimepickerController,controllerAs:"jfDatetimepicker",bindToController:!0,templateUrl:"directives/jf_datetimepicker/jf_datetimepicker.html"}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfDatetimepicker=jfDatetimepicker,Object.defineProperty(exports,"__esModule",{value:!0});var jfDatetimepickerController=function(){function jfDatetimepickerController($timeout){_classCallCheck(this,jfDatetimepickerController),this.$timeout=$timeout}return jfDatetimepickerController.$inject=["$timeout"],_createClass(jfDatetimepickerController,{$onInit:{value:function(){this.dpOpitons={allowInputToggle:!0,toolbarPlacement:"top"},this.setDatepickerOptions()}},setDatepickerOptions:{value:function(){this.options&&(this.dpOpitons=_.assign({},this.options,this.dpOpitons))}},onUpdate:{value:function(){var _this=this;this.$timeout(function(){_this.onChange&&"function"==typeof _this.onChange&&_this.onChange(),_this.setDatepickerOptions()},100)}},onBlur:{value:function(){this.isDatepickerOpen=!1}},onFocus:{value:function(){this.isDatepickerOpen=!0}}}),jfDatetimepickerController}()},function(module,exports){"use strict";function jfDynamicTemplate($compile){return{restrict:"A",replace:!0,link:function($scope,ele,attrs){$scope.$watch(attrs.jfDynamicTemplate,function(html){ele.html(html),$compile(ele.contents())($scope)})}}}exports.jfDynamicTemplate=jfDynamicTemplate,Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports){"use strict";function jfListSelection(){return{restrict:"E",scope:{items:"=",onSelect:"&",usePagination:"=?",highlightSelected:"<",allowSingleClick:"<?"},controller:jfListSelectionController,controllerAs:"jfListSelection",bindToController:!0,templateUrl:"directives/jf_list_selection/jf_list_selection.html"}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfListSelection=jfListSelection,Object.defineProperty(exports,"__esModule",{value:!0});var jfListSelectionController=function(){function jfListSelectionController($timeout,$filter,$element){_classCallCheck(this,jfListSelectionController),this.paginationApi=new PaginationApi(this),this.currentPage=1,this.filter=$filter("filter"),this.$timeout=$timeout,this.$element=$element,this.setItemsPerPage()}return _createClass(jfListSelectionController,{setItemsPerPage:{value:function(){var _this=this;this.$timeout(function(){var containerHeight=_this.$element.find(".group-list-wrapper").innerHeight(),itemHeight=_this.$element.find(".group-list-item").outerHeight();_this.itemsPerPage=Math.floor(containerHeight/itemHeight)})}},getPageItems:{value:function(){if(!this.usePagination)return this.filter(this.items,this.filterList);var start=(this.currentPage-1)*this.itemsPerPage,slice=this.filter(this.items,this.filterList).slice(start,start+this.itemsPerPage);return slice}},onFilterChange:{value:function(){this.paginationApi.setPage(1),this.paginationApi.update()}},onItemSelection:{value:function(item){if(this.highlightSelected&&!item.highlighted){var lastHiglighted=_.find(this.items,function(i){return i.highlighted});lastHiglighted&&(lastHiglighted.highlighted=!1),item.highlighted=!0}this.onItemClick(item)}},onItemClick:{value:function(item){this.onSelect&&"function"==typeof this.onSelect&&(this.onSelect({item:item}),this.paginationApi.update())}}}),jfListSelectionController}(),PaginationApi=function(){function PaginationApi(ctrl){_classCallCheck(this,PaginationApi),this.ctrl=ctrl}return _createClass(PaginationApi,{getTotalPages:{value:function(){return this.ctrl.usePagination?Math.ceil(this.ctrl.filter(this.ctrl.items,this.ctrl.filterList).length/this.ctrl.itemsPerPage):0}},getCurrentPage:{value:function(){return this.ctrl.currentPage>this.getTotalPages()&&(this.ctrl.currentPage=this.getTotalPages()),this.ctrl.currentPage<1&&(this.ctrl.currentPage=1),
this.ctrl.currentPage}},nextPage:{value:function(){this.ctrl.currentPage<this.getTotalPages()&&this.ctrl.currentPage++}},prevPage:{value:function(){this.ctrl.currentPage>1&&this.ctrl.currentPage--}},setPage:{value:function(pageNum){pageNum>=1&&pageNum<=this.getTotalPages()&&(this.ctrl.currentPage=pageNum)}},update:{value:function(){var _this=this;this.ctrl.$timeout(function(){_this.getCurrentPage()>_this.getTotalPages()&&_this.setPage(_this.getTotalPages()),_this.listener&&_this.listener(_this.getCurrentPage())})}},registerChangeListener:{value:function(listener){this.listener=listener}}}),PaginationApi}()},function(module,exports){"use strict";function jfDragAndDropTxt(){return{restrict:"E",scope:{dndContent:"=",dndHeadingHtml:"=?",dndStyle:"=?",dndChange:"&?",dndRequired:"=?",dndOnError:"&?",dndCallToAction:"=?",dndAutoFocus:"=?"},controller:jfDragAndDropTxtController,controllerAs:"jfDragAndDropTxt",templateUrl:"directives/jf_drag_and_drop_txt/jf_drag_and_drop_txt.html",bindToController:!0}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfDragAndDropTxt=jfDragAndDropTxt,Object.defineProperty(exports,"__esModule",{value:!0});var jfDragAndDropTxtController=function(){function jfDragAndDropTxtController($scope,$element,$attrs,JFrogNotifications){_classCallCheck(this,jfDragAndDropTxtController),this.$scope=$scope,this.$element=$element,this.JFrogNotifications=JFrogNotifications,this.$element.bind("dragover",this.handleDragEnter.bind(this)),this.$element.bind("dragleave",this.handleDragLeave.bind(this)),this.$element.bind("drop",this.handleDropEvent.bind(this)),this.draggedFileSizeLimit=400,this.entered=!1}return _createClass(jfDragAndDropTxtController,{$onInit:{value:function(){this.dndAutoFocus=void 0===this.dndAutoFocus||this.dndAutoFocus,this.dndCallToAction=this.dndCallToAction||"Copy your text or <b>drop a file</b>"}},shouldDisplayUploadIcon:{value:function(){return""===$(this.$element).find("textarea").val()&&!$(this.$element).is(".over")}},onFileLoadSuccess:{value:function(event){this.dndContent=event.target.result,$(this.$element).find("textarea").focus(),this.dndChange&&null!==this.dndChange&&this.dndChange()}},onFileLoadFailure:{value:function(event){var errorMessage="Unable to access license file.";"SecurityError"===event.target.error.name&&(errorMessage+="<br> The file is either unsafe or being used by another application."),null!==this.dndOnError?this.dndOnError({msg:errorMessage}):this.JFrogNotifications.create({error:errorMessage})}},handleDropEvent:{value:function(event){var _this=this;this.entered=!1,this.toggleDragEffect(),event.preventDefault(),event.stopPropagation();var reader=new FileReader,file=event.originalEvent.dataTransfer.files[0];reader.onload=function(event){_this.onFileLoadSuccess(event)},reader.onerror=function(event){_this.onFileLoadFailure(event)};var fileSize=Math.round(file.size/1e3);if(fileSize>this.draggedFileSizeLimit){var errorMessage="File exceeds the maximum size of "+this.draggedFileSizeLimit+" KB";return null!==this.dndOnError?this.dndOnError({msg:errorMessage}):this.JFrogNotifications.create({error:errorMessage}),!1}reader.readAsText(file)}},callingCodeShouldEnd:{value:function(event){var theCallingCodeShouldEnd=!1;try{3==event.relatedTarget.nodeType&&(theCallingCodeShouldEnd=!0)}catch(err){}return event.target===event.relatedTarget&&(theCallingCodeShouldEnd=!0),theCallingCodeShouldEnd}},handleDragEnter:{value:function(event){if(event.preventDefault(),event.stopPropagation(),!this.callingCodeShouldEnd(event))return this.entered?void 0:(this.entered=!0,this.toggleDragEffect(),event.originalEvent.dataTransfer.effectAllowed="copy",!1)}},handleDragLeave:{value:function(event){if(event.preventDefault(),event.stopPropagation(),!this.callingCodeShouldEnd(event))return this.entered?(this.entered=!1,this.toggleDragEffect(),!1):void 0}},toggleDragEffect:{value:function(){var dndWrapper=$(this.$element).find(".drag-and-drop-txt-wrapper");dndWrapper.toggleClass("over")}}}),jfDragAndDropTxtController}()},function(module,exports){"use strict";function jfContextMenu(){return{restrict:"E",scope:{},controller:jfContextMenuController,controllerAs:"contextMenu",bindToController:!0,templateUrl:"directives/jf_context_menu/jf_context_menu.view.html"}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfContextMenu=jfContextMenu,Object.defineProperty(exports,"__esModule",{value:!0});var CONTEXT_MENU_WIDTH=190,CONTEXT_MENU_ROW_HEIGHT=40,ERROR_MARGIN=15,jfContextMenuController=function(){function jfContextMenuController($scope,$timeout,JFrogEventBus){_classCallCheck(this,jfContextMenuController),this.$timeout=$timeout,this.$scope=$scope,this.JFrogEventBus=JFrogEventBus,this.EVENTS=JFrogEventBus.getEventsDefinition()}return jfContextMenuController.$inject=["$scope","$timeout","JFrogEventBus"],_createClass(jfContextMenuController,{$onInit:{value:function(){this.actions=[],this.isOpen=!1,this._registerToEvents(),this._handleDocumentClick()}},_registerToEvents:{value:function(){var _this=this;this.JFrogEventBus.registerOnScope(this.$scope,this.EVENTS.CONTEXT_MENU_OPEN,function(options){_this.actions=options.actions,_this.clickedItemData=options.clickedItemData,_this._setContextMenuPosition(options.actions.length||Object.keys(options.actions).length,options.event.pageX,options.event.pageY),_this.isOpen=!0})}},_setContextMenuPosition:{value:function(numberOfActions,pageX,pageY){if(0!==numberOfActions){var windowElem=$(window),windowHeight=windowElem.innerHeight(),windowWidth=windowElem.innerWidth(),left=pageX+ERROR_MARGIN,top=pageY+ERROR_MARGIN/2,contextMenuHeight=numberOfActions*CONTEXT_MENU_ROW_HEIGHT;pageX+(CONTEXT_MENU_WIDTH+ERROR_MARGIN)>=windowWidth&&(left=pageX-(CONTEXT_MENU_WIDTH+ERROR_MARGIN)),pageY+contextMenuHeight+ERROR_MARGIN/2>=windowHeight&&(top=pageY-(contextMenuHeight+ERROR_MARGIN/2)),top<ERROR_MARGIN&&(top=ERROR_MARGIN),this.position={left:left,top:top}}}},_onActionClick:{value:function($event,action){$event.stopPropagation(),this.isOpen=!1,action.callback&&action.callback(this.clickedItemData),this.onAnyActionFired&&"function"==typeof this.onAnyActionFired&&this.onAnyActionFired()}},_handleDocumentClick:{value:function(){var _this=this,handler=function(e){var target=$(e.target),insideContextMenu=!!target.parents(".jf-context-menu").length;insideContextMenu||_this.$timeout(function(){_this.isOpen=!1})};$(document).on("mousedown",handler),this.$scope.$on("$destroy",function(){$(document).off("mousedown",handler)})}}}),jfContextMenuController}()},function(module,exports){"use strict";function jfVScroll($timeout,$rootScope){return{restrict:"E",scope:{itemVariableName:"@withEach",origArray:"&in",api:"="},templateUrl:"directives/jf_vscroll/jf_vscroll.html",controller:jfVScrollController,controllerAs:"jfVScroll",bindToController:!0,transclude:!0,link:function(scope,element,attrs,directiveCtrl,transcludeFn){transcludeFn(function(clone){for(var html="",i=0;i<clone.length;i++)html+=clone[i].outerHTML||"";html=html.replace('ng-non-bindable=""',""),directiveCtrl.transcludedContent=html})}}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfVScroll=jfVScroll,Object.defineProperty(exports,"__esModule",{value:!0});var jfVScrollController=function(){function jfVScrollController($scope,$timeout,$element,$q){var _this=this;_classCallCheck(this,jfVScrollController),this.$timeout=$timeout,this.$scope=$scope,this.$element=$element,this.maxFakeScrollHeight=1e6,this.virtualScrollIndex=0,this.virtScrollDisplacement=0,this.scrollTimeout=void 0,this.itemsPerPage=1,this.itemHeight=void 0,this.ready=!1;var whenReadyDefer=$q.defer();this.whenReady=whenReadyDefer.promise,$scope.$watch("jfVScroll.ready",function(){_this.ready&&whenReadyDefer.resolve()}),$scope.$watch("jfVScroll.containerHeight",function(){_this._setAutoItemsPerPage()})}return _createClass(jfVScrollController,{$onInit:{value:function(){this._initApi()}},containerHeight:{get:function(){return $(this.$element).parent().height()}},setItemHeight:{value:function(itemHeight){void 0===this.itemHeight||this.itemHeight===itemHeight||this.inequalHeightsWarned||(this.inequalHeightsWarned=!0,console.error("Virtual scroll will not work correctly if items are not all the same height")),void 0===this.itemHeight&&(this.itemHeight=itemHeight,this._setAutoItemsPerPage(),this.ready=!0,this.api.onInit&&this.api.onInit())}},_setAutoItemsPerPage:{value:function(){this.itemHeight&&(this.itemsPerPage=Math.floor(this.containerHeight/this.itemHeight))}},initScrollFaker:{value:function(){var _this=this,scrollParent=$(this.$element).find(".scroll-faker-container");scrollParent.on("scroll",function(e){_this.$scope.$apply(function(){if(_this.$$settingScroll)return void delete _this.$$settingScroll;_this.scrollTimeout&&(_this.$timeout.cancel(_this.scrollTimeout),delete _this.scrollTimeout);var len=_this.origArray().length;if(len){var maxScrollTop=scrollParent[0].scrollHeight-scrollParent.outerHeight(),relativePosition=scrollParent.scrollTop()/maxScrollTop;_.isNaN(relativePosition)&&(relativePosition=1);var newScrollIndex=relativePosition*(len-_this.itemsPerPage);if(newScrollIndex<0&&(newScrollIndex=0),_this.virtualScrollIndex=Math.floor(newScrollIndex),_this.virtScrollDisplacement=newScrollIndex-_this.virtualScrollIndex,_this.virtualScrollIndex+_this.itemsPerPage>=len-2&&_this.bottomReachedListener){_this.bottomReachedListenerPending=!0;var response=_this.bottomReachedListener();response.then?_this.bottomReachedListener().then(function(){_this.bottomReachedListenerPending=!1}):response&&(_this.bottomReachedListenerPending=!1)}}else _this.virtualScrollIndex=0,_this.virtScrollDisplacement=0})})}},syncFakeScroller:{value:function(){var _this=this,delay=void 0===arguments[0]||arguments[0],len=this.origArray().length,scrollParent=$(this.$element).find(".scroll-faker-container"),relativePosition=this._getCurrentScrollPos()/(len-this.itemsPerPage),sync=function(){var maxScrollTop=scrollParent[0].scrollHeight-scrollParent.outerHeight(),scrollTop=Math.floor(maxScrollTop*relativePosition);_this.$$settingScroll=!0,scrollParent.scrollTop(scrollTop)};delay?this.$timeout(sync):sync()}},getPage:{value:function(){var vScrollIndex=this.virtualScrollIndex,additionals=vScrollIndex+this.itemsPerPage+2<=this.origArray().length?2:vScrollIndex+this.itemsPerPage+1<=this.origArray().length?1:0;return this.origArray().slice(vScrollIndex,vScrollIndex+this.itemsPerPage+additionals)}},registerBottomReachedListener:{value:function(listener){this.bottomReachedListener=listener}},getTranslate:{value:function(){var displacement=this.virtScrollDisplacement;if(displacement){var pixels=displacement*this.itemHeight;return pixels}return 0}},getPageHeight:{value:function(){if(this.containerHeight)return this.containerHeight;var len=this.origArray().length;return len<this.itemsPerPage?len*this.itemHeight:this.itemsPerPage*this.itemHeight}},getTotalScrollHeight:{value:function(){return this.origArray().length*this.itemHeight}},onMouseWheel:{value:function($event,$delta,$deltaX,$deltaY){this.scrollTimeout&&(this.$timeout.cancel(this.scrollTimeout),delete this.scrollTimeout);var normalDelta=this._normalizeWheelEvent($event.originalEvent).pixelY,xDelta=this._normalizeWheelEvent($event.originalEvent).pixelX;if(Math.abs(normalDelta)<Math.abs(xDelta))return void $event.stopPropagation();var scrollAmount=.02*Math.abs(normalDelta),scrollPosBefore=this._getCurrentScrollPos();$deltaY<0?this._scrollTo(scrollPosBefore+scrollAmount):$deltaY>0&&this._scrollTo(scrollPosBefore-scrollAmount),(scrollPosBefore!==this._getCurrentScrollPos()||this.bottomReachedListenerPending)&&$event.preventDefault()}},_getCurrentScrollPos:{value:function(){return this.virtualScrollIndex+this.virtScrollDisplacement}},scrollTo:{value:function(scrollPos){var duration=void 0===arguments[1]?500:arguments[1],dist=scrollPos-this._getCurrentScrollPos();this.scroll(dist,duration)}},_scrollTo:{value:function(scrollPos){var dist=scrollPos-this._getCurrentScrollPos();this._scroll(dist)}},scroll:{value:function(numOfRows){var _this=this,duration=void 0===arguments[1]?500:arguments[1];if(0===duration)return void this._scroll(numOfRows);this.scrollTimeout&&(this.$timeout.cancel(this.scrollTimeout),delete this.scrollTimeout);var quadraticEase=function(k){return k*(2-k)},interval=40,currentScrollPos=this._getCurrentScrollPos(),steps=Math.ceil(duration/interval),currentStep=1,cycle=function(){var progress=currentStep/steps;_this._scrollTo(currentScrollPos+quadraticEase(progress)*numOfRows),currentStep++,currentStep<=steps?_this.scrollTimeout=_this.$timeout(function(){return cycle()},interval):delete _this.scrollTimeout};cycle()}},_scroll:{value:function(numOfRows){var _this=this;if(numOfRows){var abs=Math.abs(numOfRows),sign=numOfRows/abs,full=Math.floor(abs);if(this.virtualScrollIndex+=sign*full,this.virtScrollDisplacement+=sign*(abs-full),this.virtScrollDisplacement>=1&&(this.virtualScrollIndex+=1,this.virtScrollDisplacement-=1),this.virtScrollDisplacement<0&&(this.virtualScrollIndex-=1,this.virtScrollDisplacement=1-Math.abs(this.virtScrollDisplacement)),this.virtualScrollIndex<0&&(this.virtualScrollIndex=0,this.virtScrollDisplacement=0),this.virtualScrollIndex+this.itemsPerPage>=this.origArray().length&&(this.virtualScrollIndex=this.origArray().length-this.itemsPerPage,this.virtScrollDisplacement=0),this.virtualScrollIndex+this.itemsPerPage>=this.origArray().length-2&&this.bottomReachedListener){this.bottomReachedListenerPending=!0;var response=this.bottomReachedListener();response.then?response.then(function(){_this.bottomReachedListenerPending=!1}):response&&(this.bottomReachedListenerPending=!1)}this.virtualScrollIndex<0&&(this.virtualScrollIndex=0),this.syncFakeScroller(!1)}}},_normalizeWheelEvent:{value:function(event){var PIXEL_STEP=10,LINE_HEIGHT=40,PAGE_HEIGHT=800,sX=0,sY=0,pX=0,pY=0;return"detail"in event&&(sY=event.detail),"wheelDelta"in event&&(sY=-event.wheelDelta/120),"wheelDeltaY"in event&&(sY=-event.wheelDeltaY/120),"wheelDeltaX"in event&&(sX=-event.wheelDeltaX/120),"axis"in event&&event.axis===event.HORIZONTAL_AXIS&&(sX=sY,sY=0),pX=sX*PIXEL_STEP,pY=sY*PIXEL_STEP,"deltaY"in event&&(pY=event.deltaY),"deltaX"in event&&(pX=event.deltaX),(pX||pY)&&event.deltaMode&&(1==event.deltaMode?(pX*=LINE_HEIGHT,pY*=LINE_HEIGHT):(pX*=PAGE_HEIGHT,pY*=PAGE_HEIGHT)),pX&&!sX&&(sX=pX<1?-1:1),pY&&!sY&&(sY=pY<1?-1:1),{spinX:sX,spinY:sY,pixelX:pX,pixelY:pY}}},resetScroll:{value:function(){this.virtualScrollIndex=0,this.virtScrollDisplacement=0,this.syncFakeScroller(!1)}},centerOnItem:{value:function(item){var _this=this;if(!this.ready)return void this.whenReady.then(function(){_this.centerOnItem(item)});var prePaged=this.origArray(),index=prePaged.indexOf(item),halfPage=Math.floor(this.itemsPerPage/2);prePaged.length<=this.itemsPerPage||index-halfPage<0?this.virtualScrollIndex=0:index+(this.itemsPerPage-halfPage)>prePaged.length?this.virtualScrollIndex=prePaged.length-this.itemsPerPage:this.virtualScrollIndex=index-halfPage,this.syncFakeScroller(!1)}},bringItemToView:{value:function(item){var jump=void 0===arguments[1]||arguments[1],prePaged=this.origArray(),index=prePaged.indexOf(item);if(index-1<this.virtualScrollIndex)this.scrollTo(index,jump?0:void 0);else if(index+1>this.virtualScrollIndex+this.itemsPerPage){var fullItems=this.containerHeight?Math.floor(this.containerHeight/this.itemHeight):this.itemsPerPage,scrollIndex=index-fullItems>=0?index-fullItems:0,displace=this.containerHeight?1-(this.containerHeight/this.itemHeight-fullItems):1,hScrollFactor=0;if(this._hasHorizontalScrollbar()){var pixelFactor=this._getHorizontalScrollbarHeight();hScrollFactor=pixelFactor/this.itemHeight}this.scrollTo(scrollIndex+displace+hScrollFactor,jump?0:void 0)}this.syncFakeScroller(!1)}},_hasHorizontalScrollbar:{value:function(){var hScrollWrapper=$(this.$element).find(".h-scroll-wrapper");return hScrollWrapper[0].scrollWidth>hScrollWrapper.width()}},_getHorizontalScrollbarHeight:{value:function(){var hScrollWrapper=$(this.$element).find(".h-scroll-wrapper");return hScrollWrapper.height()-hScrollWrapper[0].clientHeight}},_freezeVScroll:{value:function(){this.$freezedVScrollIndex=this.virtualScrollIndex,this.$freezedVScrollDisplacement=this.virtScrollDisplacement}},_unFreezeVScroll:{value:function(){delete this.$freezedVScrollIndex,delete this.$freezedVScrollDisplacement}},registerScrollListener:{value:function(listener){var _this=this;this.scrollListener||(this.scrollListener=listener,this.$scope.$watch("jfVScroll.virtualScrollIndex + jfVScroll.virtScrollDisplacement",function(){_this.scrollListener(_this._getCurrentScrollPos())}))}},_initApi:{value:function(){var _this=this;this.api&&(this.api.getPageData=function(){return _this.getPage()},this.api.reset=function(item){return _this.resetScroll()},this.api.centerOnItem=function(item){return _this.centerOnItem(item)},this.api.bringItemToView=function(item){var jump=void 0===arguments[1]||arguments[1];return _this.bringItemToView(item,jump)},this.api.freezeScroll=function(){return _this._freezeVScroll()},this.api.unFreezeScroll=function(){return _this._unFreezeVScroll()},this.api.sync=function(){return _this.syncFakeScroller(!1)},this.api.scroll=function(numOfRows){var duration=void 0===arguments[1]?500:arguments[1];return _this.scroll(numOfRows,duration)},this.api.scrollTo=function(scrollPos){var duration=void 0===arguments[1]?500:arguments[1];return _this.scrollTo(scrollPos,duration)},this.api.registerScrollListener=function(listener){return _this.registerScrollListener(listener)},this.api.registerBottomReachedListener=function(listener){return _this.registerBottomReachedListener(listener)})}}}),jfVScrollController}()},function(module,exports){"use strict";function jfVScrollElement($compile){return{restrict:"E",scope:{data:"=",template:"=",variable:"=",index:"=",vscroll:"="},template:'<div class="compile-placeholder"></div>',controller:jfVScrollElementController,controllerAs:"jfVScrollElement",bindToController:!0,link:function(scope,element,attrs,directiveCtrl){var elementScope=scope.$parent.$parent.$parent.$new(),target=$(element).find(".compile-placeholder");elementScope[directiveCtrl.variable]=directiveCtrl.data,elementScope.$index=directiveCtrl.index,elementScope.$is_last=function(){return directiveCtrl.vscroll.origArray().indexOf(directiveCtrl.data)===directiveCtrl.vscroll.origArray().length-1},directiveCtrl.elementScope=elementScope;var compiled=$compile($("<div>"+directiveCtrl.template+"</div>"))(elementScope);target.replaceWith(compiled)}}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfVScrollElement=jfVScrollElement,Object.defineProperty(exports,"__esModule",{value:!0});var jfVScrollElementController=function(){function jfVScrollElementController($scope,$element,$timeout){var _this=this;_classCallCheck(this,jfVScrollElementController),this.$element=$element;var unwatchHeight=$scope.$watch("jfVScrollElement.childrenHeight",function(){_this.childrenHeight&&_this.childrenHeight>1&&(_this.vscroll.setItemHeight(_this.childrenHeight),unwatchHeight())});$scope.$watch("jfVScrollElement.data",function(){_this.elementScope[_this.variable]=_this.data})}return _createClass(jfVScrollElementController,{childrenHeight:{get:function(){return $(this.$element).children().height()}}}),jfVScrollElementController}()},function(module,exports){"use strict";function jfPendingData(){return{restrict:"E",transclude:!0,scope:{waitFor:"=",delaySpinner:"@?"},controller:jfTinySpinnerController,controllerAs:"$ctrl",bindToController:!0,template:'\n            <div class="spinner-msg-local" ng-if="$ctrl.waitFor === undefined && (!$ctrl.delaySpinner || $ctrl.showSpinner)">\n                <div class="icon-hourglass-local"></div>\n            </div>\n            <ng-transclude ng-if="$ctrl.waitFor !== undefined"></ng-transclude>\n        '}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfPendingData=jfPendingData,Object.defineProperty(exports,"__esModule",{value:!0});var jfTinySpinnerController=function(){function jfTinySpinnerController($timeout){_classCallCheck(this,jfTinySpinnerController),this.$timeout=$timeout}return _createClass(jfTinySpinnerController,{$onInit:{value:function(){var _this=this;this.delaySpinner&&this.$timeout(function(){_this.showSpinner=!0},_.isNaN(parseInt(this.delaySpinner))?400:this.delaySpinner)}}}),jfTinySpinnerController}()},function(module,exports){"use strict";function jfTextBox(){return{restrict:"E",scope:{text:"=",numOfLines:"@",modalTitle:"@?",seeAllText:"@?",maxLines:"@?",customAction:"&?",noAction:"@?"},controller:jfTextBoxController,controllerAs:"jfTextBox",bindToController:!0,templateUrl:"directives/jf_text_box/jf_text_box.html"}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfTextBox=jfTextBox,Object.defineProperty(exports,"__esModule",{value:!0});var jfTextBoxController=function(){function jfTextBoxController($scope,$element,$timeout,$interval,$compile,$q,JfFullTextService){_classCallCheck(this,jfTextBoxController),this.$scope=$scope,this.$compile=$compile,this.$timeout=$timeout,this.$interval=$interval,this.$element=$element,this.fullTextModal=JfFullTextService,this.$q=$q}return jfTextBoxController.$inject=["$scope","$element","$timeout","$interval","$compile","$q","JfFullTextService"],_createClass(jfTextBoxController,{$onInit:{value:function(){var _this=this;this.seeAllText=this.seeAllText||"(Show All ...)",this.fullTextElement.text(this.text),this.registerResize(),this.$timeout(function(){return _this.refreshText()}),this.$scope.$on("$destroy",function(){_this.deregisterResize()})}},registerResize:{value:function(){var _this=this,appliedRefresh=function(){_this.$scope.$apply(function(){_this.refreshText()})},debouncedRefresh=_.debounce(appliedRefresh,0,{leading:!0});this.onResize=debouncedRefresh,$(window).on("resize",this.onResize)}},deregisterResize:{value:function(){$(window).off("resize",this.onResize)}},containerElement:{get:function(){return this.cachedContainerElement||(this.cachedContainerElement=$(this.$element).find(".jf-text-box-container")),this.cachedContainerElement}},fullTextElement:{get:function(){return this.cachedFullTextElement||(this.cachedFullTextElement=$(this.$element).find(".jf-text-box-content-full")),this.cachedFullTextElement}},currentTextElement:{get:function(){return this.cachedCurrentTextElement||(this.cachedCurrentTextElement=$(this.$element).find(".jf-text-box-content-current")),this.cachedCurrentTextElement}},stageElement:{get:function(){return this.cachedStageElement||(this.cachedStageElement=$(this.$element).find(".jf-text-box-content-stage")),this.cachedStageElement}},containerHeight:{get:function(){return this.containerElement.height()}},containerWidth:{get:function(){return this.containerElement.width()}},numOfWholeRows:{get:function(){var auto=Math.floor(this.containerHeight/this.lineHeight+.1);return this.maxLines?Math.min(parseInt(this.maxLines),auto):auto}},numOfActualRows:{get:function(){var contentHeight=this.fullTextElement.height();return Math.ceil(contentHeight/this.lineHeight-.1)}},numOfVisibleRows:{get:function(){var contentHeight=this.currentTextElement.height();return Math.ceil(contentHeight/this.lineHeight-.1)}},numOfStageRows:{get:function(){var contentHeight=this.stageElement.height();return Math.ceil(contentHeight/this.lineHeight-.1)}},isOverflowing:{get:function(){return this.numOfActualRows>this.numOfWholeRows}},setStageText:{value:function(text){this.stageElement.text(text)}},refreshText:{value:function(){var _this=this;this.measureLineHeight(),this.isOverflowing?!function(){_this.stageElement.html("");for(var words=_this.splitText(_this.text),i=1,getNumOfLinesUntil=function(index){var withSeeAll=void 0===arguments[1]||arguments[1];return _this.setStageText(_.trimRight(words.slice(0,index).join(""))+(withSeeAll?" ":"")),withSeeAll&&_this.stageElement.append($('  <div class="jf-text-box-show-all">'+_this.seeAllText+"</div>")),_this.numOfStageRows};getNumOfLinesUntil(i)<=_this.numOfWholeRows&&i<=words.length;)i++;getNumOfLinesUntil(i,!1)!==getNumOfLinesUntil(i)?_this.wrapSeeAll=!0:_this.wrapSeeAll=!1;var fit=words.slice(0,i);_this.setStageText(_.trimRight(fit.join(""))+(_this.isOverflowing?" ":"")),_this.isOverflowing&&_this.stageElement.append($('<div class="jf-text-box-show-all">'+_this.seeAllText+"</div>"));for(var m=0;_this.numOfStageRows>_this.numOfWholeRows&&i>m;)m++,fit=words.slice(0,i-m),_this.setStageText(_.trimRight(fit.join(""))+(_this.isOverflowing?" ":"")),_this.isOverflowing&&_this.stageElement.append($('<div class="jf-text-box-show-all">'+_this.seeAllText+"</div>"));_this.content=_.trimRight(fit.join(""))}():this.content=this.text,this.ready=!0}},splitText:{value:function(text){if(this.splitCache)return this.splitCache;for(var regex=/\s+/g,parts=[],match=regex.exec(text),lastIndex=0;match;)parts.push(text.substr(lastIndex,match.index-lastIndex)+match[0]),lastIndex=match.index+match[0].length,match=regex.exec(text);return parts.push(text.substr(lastIndex,text.length-lastIndex)),parts=_.map(parts,function(part){return part.length>16?part.split(""):part}),parts=_.flatten(parts),this.splitCache=parts,parts}},measureLineHeight:{value:function(){this.stageElement.text("*"),this.lineHeight=this.stageElement.height(),this.maxLines&&this.containerElement.height(parseInt(this.maxLines)*this.lineHeight)}},seeAll:{value:function(){var _this=this;if(!this.noAction){var text=this.text;this.customAction?this.customAction({text:text}):(this.fullTextModal.showFullTextModal(text,this.modalTitle||"Full Text",500,!1,null,"text-box-show-all-modal"),this.deregisterResize(),this.fullTextModal.modalInstance.result["finally"](function(){_this.$timeout(function(){return _this.registerResize()})}))}}}}),jfTextBoxController}()},function(module,exports){"use strict";function jfReparent(){return{restrict:"A",scope:{target:"=jfReparent"},bindToController:!0,controller:jfReparentController}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfReparent=jfReparent,Object.defineProperty(exports,"__esModule",{value:!0});var jfReparentController=function(){function jfReparentController($element,$timeout){_classCallCheck(this,jfReparentController),this.$element=$element,this.$timeout=$timeout}return jfReparentController.$inject=["$element","$timeout"],_createClass(jfReparentController,{$onInit:{value:function(){var _this=this;this.$timeout(function(){var target=_this.target?$(_this.target):$(document.body),offset=_this.getOffset(_this.$element[0]),targetOffset=_this.getOffset(target[0]);_this.$timeout(function(){target.append(_this.$element),_this.$element.css("position","absolute"),_this.$element.css("left",offset.left-targetOffset.left+"px"),_this.$element.css("top",offset.top-targetOffset.top+"px");var width=_this.$element.width(),height=_this.$element.height();_this.$element.css("width",width+"px"),_this.$element.css("height",height+"px")})})}},getOffset:{value:function(el){var rect=el.getBoundingClientRect(),scrollLeft=window.pageXOffset||document.documentElement.scrollLeft,scrollTop=window.pageYOffset||document.documentElement.scrollTop;return{top:rect.top+scrollTop,left:rect.left+scrollLeft}}}}),jfReparentController}()},function(module,exports){"use strict";function jfWizard(){return{restrict:"E",scope:{onTabSwitch:"&?",config:"<"},templateUrl:"directives/jf_wizard/jf.wizard.view.html",controller:jfWizardController,controllerAs:"$ctrl",transclude:!0,link:function($scope,element,attrs){}}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};module.exports=jfWizard;var jfWizardController=function(){function jfWizardController($scope,JFrogEventBus,$element,JFrogUIUtils){var _this=this;_classCallCheck(this,jfWizardController),JFrogEventBus.registerOnScope($scope,JFrogEventBus.getEventsDefinition().WIZARD_TAB_CHANGE,function(tab){_this["switch"](tab)}),this.$scope=$scope,this.$element=$element,this.JFrogUIUtils=JFrogUIUtils,this.onTabSwitch=$scope.onTabSwitch,this.config=$scope.config,this.init=!0,this.tabs=[]}return _createClass(jfWizardController,{registerTab:{value:function(tab){(this.init||tab.isSelectedTab)&&(this.active=tab,this.init=!1),this.tabs.push(tab)}},"switch":{
value:function(tab){this.$element.find(".wizard-content").scrollTop(0),this.active="string"==typeof tab?_.find(this.tabs,function(t){return t.title===tab}):tab,this.onTabSwitch&&this.onTabSwitch({tab:this.active.title}),this.JFrogUIUtils.fireResizeEvent()}},isVisible:{value:function(tab){return!tab.isVisibleTab||"function"==typeof tab.isVisibleTab&&tab.isVisibleTab()}},isDisabledTab:{value:function(tab){return tab.isDisabledTab}}}),jfWizardController}()},function(module,exports){"use strict";function jfWizardElement(){return{restrict:"E",scope:{title:"@",isVisibleTab:"&?",isSelectedTab:"<?",isDisabledTab:"="},templateUrl:"directives/jf_wizard/jf_wizard_element/jf.wizard.element.view.html",require:"^jfWizard",transclude:!0,link:function($scope,element,attrs,jfWizardCtl){jfWizardCtl.registerTab({title:attrs.title,isSelectedTab:$scope.$ctrl.isSelectedTab,isVisibleTab:$scope.$ctrl.isVisibleTab,isDisabledTab:$scope.$ctrl.isDisabledTab}),$scope.$ctrl.jfWizardCtl=jfWizardCtl,$scope.$ctrl.title=attrs.title,$scope.$ctrl.config=$scope.$ctrl.jfWizardCtl.config},controller:jfWizardElementController,bindToController:!0,controllerAs:"$ctrl"}}var _classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};module.exports=jfWizardElement;var jfWizardElementController=function jfWizardElementController($scope){_classCallCheck(this,jfWizardElementController)}},function(module,exports){"use strict";function jfBillboard(){return{scope:{hideSearch:"@",options:"<"},controller:jfBillboardController,controllerAs:"jfBillboard",bindToController:!0}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfBillboard=jfBillboard,Object.defineProperty(exports,"__esModule",{value:!0});var jfBillboardController=function(){function jfBillboardController($element,$timeout,$window,$scope){_classCallCheck(this,jfBillboardController),this.$element=$element,this.$timeout=$timeout,this.$window=$window,this.$scope=$scope}return _createClass(jfBillboardController,{$onInit:{value:function(){}},_generate:{value:function(){var _this=this;this.chart&&this.chart.destroy(),this.$timeout(function(){"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(target,varArgs){if(null==target)throw new TypeError("Cannot convert undefined or null to object");for(var to=Object(target),index=1;index<arguments.length;index++){var nextSource=arguments[index];if(null!=nextSource)for(var nextKey in nextSource)Object.prototype.hasOwnProperty.call(nextSource,nextKey)&&(to[nextKey]=nextSource[nextKey])}return to},writable:!0,configurable:!0}),_this.chart=bb.generate(Object.assign({bindto:_this.$element[0]},_this.options))}),this.$window.addEventListener("onorientationchange",function(){_this.chart.resize()})}},$onChanges:{value:function(changes){changes.options&&this.chart&&this._generate()}},$postLink:{value:function(){this._generate()}},$onDestroy:{value:function(){this.chart&&this.chart.destroy()}}}),jfBillboardController}()},function(module,exports,__webpack_require__){"use strict";function config($urlMatcherFactoryProvider){$urlMatcherFactoryProvider.type("JFrogSubRouterPath",{encode:function(item){return item},decode:function(item){return item},is:function(item){return!0}})}config.$inject=["$urlMatcherFactoryProvider"];var _interopRequire=function(obj){return obj&&obj.__esModule?obj["default"]:obj},JFrogEventBus=__webpack_require__(78).JFrogEventBus,JFrogNotifications=__webpack_require__(80).JFrogNotifications,JFrogUILibConfig=__webpack_require__(81).JFrogUILibConfig,JFrogDownload=__webpack_require__(82).JFrogDownload,JFrogIFrameDownload=__webpack_require__(83).JFrogIFrameDownload,JFrogUIModelSaverFactory=__webpack_require__(84).JFrogUIModelSaverFactory,JFrogUIUtils=__webpack_require__(85).JFrogUIUtils,WebWorkersPool=__webpack_require__(86).WebWorkersPool,JFrogUIWebWorker=__webpack_require__(87).JFrogUIWebWorker,recursiveDirective=__webpack_require__(88).recursiveDirective,AdvancedStringMatch=__webpack_require__(89).AdvancedStringMatch,ContextMenuService=__webpack_require__(90).ContextMenuService,JfFullTextService=_interopRequire(__webpack_require__(91)),JFrogSubRouter=__webpack_require__(92).JFrogSubRouter;angular.module("jfrog.ui.essentials.services",["ui.router","jfrog.ui_components","toaster"]).config(config).provider("JFrogUILibConfig",JFrogUILibConfig).service("JFrogEventBus",JFrogEventBus).factory("JFrogDownload",JFrogDownload).factory("JFrogIFrameDownload",JFrogIFrameDownload).factory("WebWorkersPool",WebWorkersPool).factory("recursiveDirective",recursiveDirective).service("JFrogNotifications",JFrogNotifications).service("JFrogUIUtils",JFrogUIUtils).factory("JFrogUIWebWorker",JFrogUIWebWorker).service("AdvancedStringMatch",AdvancedStringMatch).service("ContextMenuService",ContextMenuService).service("JfFullTextService",JfFullTextService).service("JFrogSubRouter",JFrogSubRouter).factory("JFrogUIModelSaverFactory",JFrogUIModelSaverFactory)},function(module,exports,__webpack_require__){"use strict";var _interopRequire=function(obj){return obj&&obj.__esModule?obj["default"]:obj},_createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};Object.defineProperty(exports,"__esModule",{value:!0});var LIBRARY_EVENTS=_interopRequire(__webpack_require__(79));exports.JFrogEventBus=function(){function JFrogEventBus(JFrogUILibConfig,$timeout){_classCallCheck(this,JFrogEventBus),this._listeners=Object.create(null),this.JFrogUILibConfig=JFrogUILibConfig;var events=LIBRARY_EVENTS;_.extend(events,JFrogUILibConfig.getConfig().customEventsDefinition),this.eventDef=events;var eventNames={};Object.keys(events).forEach(function(key){return eventNames[events[key]]=key}),this.EVENTS=eventNames}return JFrogEventBus.$inject=["JFrogUILibConfig","$timeout"],_createClass(JFrogEventBus,{getEventsDefinition:{value:function(){return this.eventDef}},_randomId:{value:function(){return Math.floor(1e11*Math.random()+1)}},register:{value:function(eventNames,callback){var _this=this;return _.isArray(eventNames)?eventNames.map(function(eventName){return _this._registerSingleEvent(eventName,callback)}):this._registerSingleEvent(eventNames,callback)}},_registerSingleEvent:{value:function(eventName,callback){var _this=this;this._verifyEventExists(eventName),this._listeners[eventName]=this._listeners[eventName]||[];var listener={_callback:callback,_id:this._randomId()};return this._listeners[eventName].push(listener),function(){_this._remove(eventName,listener._id)}}},registerOnScope:{value:function(scope,eventNames,callback){var deregisters=this.register(eventNames,callback);_.isArray(deregisters)||(deregisters=[deregisters]),scope.$on("$destroy",function(){deregisters.forEach(function(deregister){return deregister()})})}},dispatch:{value:function(eventName,payload){this._verifyEventExists(eventName),this._listeners[eventName]&&this._listeners[eventName].forEach(function(listener){return listener._callback(payload)})}},_verifyEventExists:{value:function(eventName){if(!this.EVENTS||!this.EVENTS[eventName])throw new Error("There are no events registered under the name "+eventName)}},_remove:{value:function(eventName,id){if("undefined"==this._listeners[eventName])throw new Error("This event does not exist");if(!_.findWhere(this._listeners[eventName],{_id:id}))throw new Error("This callback is not registered under this event name");_.remove(this._listeners[eventName],function(listener){return listener._id==id})}}}),JFrogEventBus}()},function(module,exports){"use strict";var events={TABS_REFRESH:"tabs:refresh",TABS_URL_CHANGED:"tabs:url:changed",FORM_CLEAR_FIELD_VALIDATION:"form:clear:field",FORM_SUBMITTED:"form:submitted",CLOSE_MODAL:"modal:close",CLOSE_NOTIFICATIONS:"notifications:close",SIDEBAR_SIZE_CHANGE:"sidebar:size:change",RESET_GRID_PAGINATION:"reset:grid:pagination",TABLEVIEW_HIDE_ACTIONS_DROPDOWN:"tableview:hide:actions:dropdown",CONTEXT_MENU_OPEN:"context:menu:open",WIZARD_TAB_CHANGE:"wizard:tab:change"};module.exports=events},function(module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};Object.defineProperty(exports,"__esModule",{value:!0}),exports.JFrogNotifications=function(){function JFrogNotifications(toaster,$timeout,$rootScope,JFrogEventBus,$sanitize){_classCallCheck(this,JFrogNotifications),this.toast=toaster,this.$timeout=$timeout,this.lastNotification=null,this.JFrogEventBus=JFrogEventBus,this.$rootScope=$rootScope,this.$sanitize=$sanitize,this.EVENTS=JFrogEventBus.getEventsDefinition(),this.errors=[],this.MIN_ERROR_TIME=6e3,this.registerEvents()}return JFrogNotifications.$inject=["toaster","$timeout","$rootScope","JFrogEventBus","$sanitize"],_createClass(JFrogNotifications,{registerEvents:{value:function(){var _this=this;this.JFrogEventBus.registerOnScope(this.$rootScope,this.EVENTS.CLOSE_NOTIFICATIONS,function(){_this.errors.forEach(function(error){if(!error.closing){error.closing=!0;var now=(new Date).getTime(),delay=now-error.time>_this.MIN_ERROR_TIME?0:_this.MIN_ERROR_TIME-(now-error.time);_this.$timeout(function(){_this.toast.clear(error.instance);var i=_this.errors.indexOf(error);_this.errors.splice(i,1)},delay)}})})}},create:{value:function(message){var _this=this,allowHtml=void 0!==arguments[1]&&arguments[1];if(message.info){if(this.lastNotification==message.info)return!1;this.toast.pop({type:"success",timeout:message.timeout||5e3,body:this.$sanitize(message.info),showCloseButton:!0,bodyOutputType:allowHtml?"trustedHtml":void 0,clickHandler:this.notifClickHandle}),this.lastNotification=message.info,this.$timeout(function(){_this.lastNotification=null},message.timeout||5e3)}if(message.error){if(this.lastNotification==message.error)return!1;var instance=this.toast.pop({type:"error",timeout:message.timeout||0,body:this.$sanitize(message.error),showCloseButton:!0,bodyOutputType:allowHtml?"trustedHtml":void 0,clickHandler:this.notifClickHandle});this.errors.push({time:(new Date).getTime(),instance:instance}),this.lastNotification=message.error,this.$timeout(function(){_this.lastNotification=null},message.timeout||0)}if(message.warn){if(this.lastNotification==message.warn)return!1;this.toast.pop({type:"warning",timeout:message.timeout||5e3,body:this.$sanitize(message.warn),showCloseButton:!0,bodyOutputType:allowHtml?"trustedHtml":void 0,clickHandler:this.notifClickHandle}),this.lastNotification=message.warn,this.$timeout(function(){_this.lastNotification=null},message.timeout||0)}}},notifClickHandle:{value:function(toast,isCloseButton){return isCloseButton}},createMessageWithHtml:{value:function(message){this.toast.pop({type:message.type,body:message.body,bodyOutputType:"trustedHtml",timeout:message.timeout,showCloseButton:!0,clickHandler:this.notifClickHandle})}},clear:{value:function(){this.toast.clear()}}}),JFrogNotifications}()},function(module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};Object.defineProperty(exports,"__esModule",{value:!0}),exports.JFrogUILibConfig=function(){function JFrogUILibConfig(){_classCallCheck(this,JFrogUILibConfig);var buildNumber="undefined",buildVersion="undefined",buildDev="undefined";buildNumber="undefined"===buildNumber?void 0:buildNumber,buildVersion="undefined"===buildVersion?void 0:buildVersion,buildDev="undefined"===buildDev?void 0:buildDev,this.version=buildVersion?buildVersion:"UNKNOWN.VERSION",this.buildNumber=buildNumber||"N/A",this.config={},"UNKNOWN.VERSION"===this.version&&console.log("%cRunning with unknown version of jfrog-ui-essentials!","color: #ff0000;")}return _createClass(JFrogUILibConfig,{$get:{value:function(){return this}},setConfig:{value:function(config){_.extend(this.config,config)}},getConfig:{value:function(){return this.config}}}),JFrogUILibConfig}()},function(module,exports){"use strict";function JFrogDownload(){return function(url){document.location=url}}exports.JFrogDownload=JFrogDownload,Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports){"use strict";function JFrogIFrameDownload(JFrogNotifications,$timeout){"ngInject";return function(url,defaultErrorMessage){var iframe=$('<iframe style="display: none">');iframe.on("load",function(event){var responseObjStr=void 0,response=void 0,defaultMessage=void 0;try{responseObjStr=$(event.target).contents().find("pre").text()}catch(e){defaultMessage=defaultErrorMessage||"Something went wrong."}if(responseObjStr)try{response=JSON.parse(JSON.parse(responseObjStr).errors[0].message).error}catch(e){}(defaultMessage||response)&&!function(){var message=defaultMessage||response;$timeout(function(){JFrogNotifications.create({error:message}),iframe.parent().length&&iframe.remove()})}()}),iframe.ready(function(){$timeout(function(){iframe.parent().length&&iframe.remove()},15e3)}),iframe.attr("src",url).appendTo("body")}}JFrogIFrameDownload.$inject=["JFrogNotifications","$timeout"],exports.JFrogIFrameDownload=JFrogIFrameDownload,Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports){"use strict";function JFrogUIModelSaverFactory($timeout,JFrogModal,$q){return Object.defineProperties({createInstance:function(controller,modelObjects,excludePaths){return excludePaths=excludePaths||[],new JFrogUIModelSaver(controller,modelObjects,excludePaths,$timeout,JFrogModal,$q)},checkDiscardConfirmation:function($q,e,ctrl){for(var defer=$q.defer(),forms=$("form"),changeDiscovered=!1,i=0;i<forms.length;i++){var _ret=function(i){var form=forms[i],controller=angular.element(form).controller(ctrl)||angular.element(form).controller()||(angular.element(form).scope()||{}).$ctrl;if(controller&&controller._$modelSaver$_&&controller._$modelSaver$_.confirmOnLeave&&!controller._$modelSaver$_.isModelSaved())return changeDiscovered=!0,controller._$modelSaver$_.ask().then(function(){controller._$modelSaver$_.confirmOnLeave=!1,defer.resolve()}),"break"}(i);if("break"===_ret)break}return changeDiscovered||e?changeDiscovered&&e&&e.preventDefault():defer.resolve(),defer.promise}},{confirmDiscardModalOpen:{get:function(){return JFrogUIModelSaverFactory.prototype.confirmDiscardModalOpen},configurable:!0,enumerable:!0}})}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.JFrogUIModelSaverFactory=JFrogUIModelSaverFactory,Object.defineProperty(exports,"__esModule",{value:!0});var JFrogUIModelSaver=function(){function JFrogUIModelSaver(controller,modelObjects,excludePaths,$timeout,JFrogModal,$q){var _this=this;_classCallCheck(this,JFrogUIModelSaver),this.JFrogModal=JFrogModal,this.$q=$q,this.controller=controller,this.controller._$modelSaver$_=this,this.confirmOnLeave=!0,this.modelObjects=modelObjects,this.excludePaths=excludePaths,this.savedModels={},this.saved=!1,$timeout(function(){_this.saved||_this.save()})}return _createClass(JFrogUIModelSaver,{save:{value:function(objectName){var _this=this;this.modelObjects.forEach(function(objName){objectName&&objectName!==objName||(_this.savedModels[objName]=_.cloneDeep(_this.controller[objName]))}),this.saved=!0}},isModelSaved:{value:function(){var isSaved=!0;for(var objectNameI in this.modelObjects){var objectName=this.modelObjects[objectNameI];if(!angular.equals(this.savedModels[objectName],this.controller[objectName])){var deefObj=DeepDiff(this.savedModels[objectName],this.controller[objectName]);if(this._isDiffReal(deefObj,this.excludePaths[objectNameI])){isSaved=!1;break}}}return isSaved}},_isDiffReal:{value:function(deefObj,excludePaths){var excludes=excludePaths?excludePaths.split(";"):[],isReal=!1;for(var key in deefObj){var deef=deefObj[key];if((!deef.path||!deef.path.length||_.isString(deef.path[deef.path.length-1])&&!deef.path[deef.path.length-1].startsWith("$$")&&!this._isExcluded(deef.path,excludes))&&!(void 0===deef.lhs&&""===deef.rhs||""===deef.lhs&&void 0===deef.rhs||void 0===deef.lhs&&_.isArray(deef.rhs)&&0===deef.rhs.length||void 0===deef.lhs&&_.isObject(deef.rhs)&&0===Object.keys(deef.rhs).length)){isReal=!0;break}}return isReal}},_isExcluded:{value:function(path,excludes){if(!excludes.length)return!1;var excluded=!1;for(var i in excludes){var exclude=excludes[i],exPath=exclude.split("."),match=!0;for(var pI in exPath)if("*"!==exPath[pI]&&exPath[pI]!==path[pI]||void 0===("*"===exPath[pI]&&path[pI])){match=!1;break}match&&(excluded=!0);break}return excluded}},ask:{value:function(){var defer=this.$q.defer();return this.isModelSaved()?defer.resolve():(JFrogUIModelSaverFactory.prototype.confirmDiscardModalOpen=!0,this.JFrogModal.confirm("You have unsaved changes. Leaving this page will discard changes.","Discard Changes",{confirm:"Discard"}).then(function(){defer.resolve()})["finally"](function(){JFrogUIModelSaverFactory.prototype.confirmDiscardModalOpen=!1})),defer.promise}}}),JFrogUIModelSaver}();JFrogUIModelSaverFactory.prototype.confirmDiscardModalOpen=!1},function(module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};Object.defineProperty(exports,"__esModule",{value:!0}),exports.JFrogUIUtils=function(){function JFrogUIUtils($timeout){_classCallCheck(this,JFrogUIUtils),this.$timeout=$timeout}return _createClass(JFrogUIUtils,{getCapitalizedKeys:{value:function(object,dictionary){var getCapitalized=function(str){return str=str.split("_").join(" "),str=str.split(" ").map(function(word){return _.capitalize(word)}).join(" ")},destObj={};for(var key in object)if(dictionary&&dictionary[key])destObj[dictionary[key]]=object[key];else{var capitalized=getCapitalized(key);destObj[capitalized]=object[key]}return destObj}},getSafeHtml:{value:function(unsafeHtml){if(!unsafeHtml)return unsafeHtml;var decoded=_.unescape(unsafeHtml),safe=_.escape(decoded);return safe}},fireResizeEvent:{value:function(){var resizeEvent=document.createEvent("Event");resizeEvent.initEvent("resize",!1,!0),this.$timeout(function(){try{window.dispatchEvent(new Event("resize"))}catch(e){window.dispatchEvent(resizeEvent)}})}},stringifyData:{value:function(value,separator){if(_.isEmpty(value))return"";if(_.isArray(value)){var resultArray=_.map(value,function(item){return item.name?item.name:item});return separator&&"string"==typeof separator?resultArray.join(separator):resultArray.join(", ")}return value}},formatHtmlList:{value:function(list,maxInRow){var _this=this,result="",temp=[];return _.forEach(list,function(item){temp.length===maxInRow?(result+=_this.stringifyData(temp)+"<br>",temp=[item]):temp.push(item)}),temp.length>0&&(result+=this.stringifyData(temp)+"<br>"),result}},capitalizeFirstLetter:{value:function(string){return string.charAt(0).toUpperCase()+string.slice(1)}},saveTextAsFile:{value:function(text,fileName){var ie=navigator.userAgent.match(/MSIE\s([\d.]+)/),ie11=navigator.userAgent.match(/Trident\/7.0/)&&navigator.userAgent.match(/rv:11/),ieEDGE=navigator.userAgent.match(/Edge/g),ieVer=ie?ie[1]:ie11?11:ieEDGE?12:-1;if(ie&&ieVer<10)return void console.log("No blobs on IE ver<10");var textFileAsBlob=new Blob([text],{type:"text/plain"});if(ieVer>-1)return void window.navigator.msSaveBlob(textFileAsBlob,fileName);var downloadLink=document.createElement("a");downloadLink.download=fileName,downloadLink.innerHTML="Download File",null!=window.URL?downloadLink.href=window.URL.createObjectURL(textFileAsBlob):(downloadLink.href=window.URL.createObjectURL(textFileAsBlob),downloadLink.onclick=function(event){document.body.removeChild(event.target),console.log("oh my blob")},downloadLink.style.display="none",document.body.appendChild(downloadLink),console.log(downloadLink)),downloadLink.click()}},compareVersions:{value:function(aText,bText){for(var splitters=/\-|\.|_/,aArr=aText.split(splitters),bArr=bText.split(splitters),minLength=Math.min(aArr.length,bArr.length),first=void 0,i=0;i<minLength;i++){var aNum=parseInt(aArr[i]),bNum=parseInt(bArr[i]),aIsNum=!_.isNaN(aNum),bIsNum=!_.isNaN(bNum);if(aIsNum&&bIsNum&&aNum<bNum){first="a";break}if(aIsNum&&bIsNum&&aNum>bNum){first="b";break}if(!aIsNum||!bIsNum||aNum===bNum){if(aArr[i]<bArr[i]){first="a";break}if(aArr[i]>bArr[i]){first="b";break}}}return first||(aArr.length>3&&bArr.length>3?aArr.length>bArr.length?first="b":aArr.length<bArr.length&&(first="a"):aArr.length>bArr.length?first="a":aArr.length<bArr.length&&(first="b")),"a"===first?-1:"b"===first?1:0}},sortData:{value:function(aText,bText){aText=aText.toLowerCase(),bText=bText.toLowerCase();var aScore=0,bScore=0,aHasNumVal=!_.isNaN(parseInt(aText)),bHasNumVal=!_.isNaN(parseInt(bText));if(aHasNumVal&&bHasNumVal){var addTo=this.compareVersions(aText,bText);addTo===-1&&(aScore+=100),1===addTo&&(bScore+=100)}else{var aDigitIndex=aText.search(/\d/),bDigitIndex=bText.search(/\d/);if(aDigitIndex===bDigitIndex&&aDigitIndex!==-1){var aBeforeNum=aText.substr(0,aDigitIndex),bBeforeNum=bText.substr(0,bDigitIndex);if(aBeforeNum===bBeforeNum){var aFromNum=aText.substr(aDigitIndex),bFromNum=bText.substr(bDigitIndex),addTo=this.compareVersions(aFromNum,bFromNum);addTo===-1&&(aScore+=100),1===addTo&&(bScore+=100)}}aText<bText&&aScore++,aText>bText&&bScore++}return aScore<bScore?1:-1}},b64EncodeUnicode:{value:function(str){return btoa(encodeURIComponent(str).replace(/%([0-9A-F]{2})/g,function(match,p1){return String.fromCharCode("0x"+p1)}))}},escapeForRegex:{value:function(string){return string.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}}),JFrogUIUtils}()},function(module,exports){"use strict";function WebWorkersPool($q){"ngInject";return function(){function WebWorkersPool(webworkerPath){var poolSize=void 0===arguments[1]?10:arguments[1];_classCallCheck(this,WebWorkersPool),this.webworkerPath=webworkerPath,this.poolSize=poolSize}return _createClass(WebWorkersPool,{debug:{value:function(){var _this=this;this.debugEnabled=!0,setInterval(function(){if(_this.pool){var size=_this.pool.length,free=_.filter(_this.pool,{busy:!1}).length;console.log("Pool size: "+size+"   |   Free workers: "+free)}},200)}},open:{value:function(poolSize){poolSize=poolSize||this.poolSize,this.pool=[];for(var i=0;i<poolSize;i++)this.addWorker()}},isOpened:{value:function(){return!!this.pool}},close:{value:function(){this.pool&&(this.pool.forEach(function(spot){spot.worker.terminate()}),this.pool=null)}},kill:{value:function(){var _this=this,msgMatch=void 0===arguments[0]?{}:arguments[0],busySpots=_.filter(this.pool,{busy:!0}),matchedSpots=_.filter(busySpots,_.isEmpty(msgMatch)?{}:{msg:msgMatch});matchedSpots.forEach(function(spot){_this.debugEnabled&&console.log("Terminating worker: #"+_this.pool.indexOf(spot)),spot.worker.terminate(),spot.worker=new Worker(_this.webworkerPath),spot.busy=!1,spot.msg=null}),this.normalizePool()}},normalizePool:{value:function(){for(;this.pool.length>this.poolSize;){var freeSpot=_.find(this.pool,{busy:!1});if(!freeSpot)break;this.pool.splice(this.pool.indexOf(freeSpot),1)}}},addWorker:{value:function(){var worker=new Worker(this.webworkerPath),poolSpot={worker:worker,msg:null,busy:!1};return this.pool.push(poolSpot),poolSpot}},send:{value:function(msg){var _this=this;if(!this.pool)return void console.error("WebWorkersPool: Must call open() before sending.");var defer=$q.defer(),freeSpot=_.find(this.pool,{busy:!1});return freeSpot||(freeSpot=this.addWorker()),freeSpot.worker.onmessage=function(e){defer.resolve(e.data),freeSpot.busy=!1,_this.normalizePool()},freeSpot.worker.onerror=function(e){defer.reject(e),freeSpot.busy=!1,_this.normalizePool()},freeSpot.busy=!0,freeSpot.msg=msg,freeSpot.worker.postMessage(msg),defer.promise}}}),WebWorkersPool}()}WebWorkersPool.$inject=["$q"];var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.WebWorkersPool=WebWorkersPool,Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports){"use strict";function JFrogUIWebWorker($q,JFrogUILibConfig,WebWorkersPool){"ngInject";return function(){function JFrogUIWebWorker(){_classCallCheck(this,JFrogUIWebWorker),this.$q=$q,this.JFrogUILibConfig=JFrogUILibConfig,this.wwPool=new WebWorkersPool(this.getPathToWebWorker(),1)}return _createClass(JFrogUIWebWorker,{getPathToWebWorker:{value:function(){return(this.JFrogUILibConfig.config.webworkersPath||"")+"/jfrog-ui-essentials.webworker.3184.js"}},check:{value:function(){var _this=this,defer=this.$q.defer();return this.checking?(this.pendingCheckDefers||(this.pendingCheckDefers=[]),this.pendingCheckDefers.push(defer)):(this.wwPool.open(),this.checking=!0,this.wwPool.send({cmd:"testWorker"}).then(function(response){_this.checking=!1,"OK"===response?(defer.resolve(),_this.pendingCheckDefers&&(_this.pendingCheckDefers.forEach(function(d){return d.resolve()}),delete _this.pendingCheckDefers)):(defer.reject(),_this.pendingCheckDefers&&(_this.pendingCheckDefers.forEach(function(d){return d.reject()}),delete _this.pendingCheckDefers)),_this.wwPool.close()})["catch"](function(e){_this.checking=!1,defer.reject(),_this.pendingCheckDefers&&(_this.pendingCheckDefers.forEach(function(d){return d.reject()}),delete _this.pendingCheckDefers),_this.wwPool.close()})),defer.promise}},open:{value:function(poolSize){this.wwPool.open(poolSize)}},close:{value:function(){this.wwPool.close()}},markupPreview:{value:function(type,markup){var instanceId=void 0===arguments[2]?0:arguments[2];this.wwPool.isOpened()||this.open();var defer=this.$q.defer();return this.wwPool.kill({cmd:"convertMarkup",instanceId:instanceId}),this.wwPool.send({cmd:"convertMarkup",instanceId:instanceId,type:type,markup:markup}).then(function(response){void 0!==response.html?defer.resolve(response.html):defer.reject()})["catch"](function(e){defer.reject()}),defer.promise}},runFunction:{value:function(func){for(var _len=arguments.length,params=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)params[_key-1]=arguments[_key];this.wwPool.isOpened()||this.open();var defer=this.$q.defer();return this.wwPool.send({cmd:"runFunction","function":func.toString(),params:params}).then(function(response){defer.resolve(response.response)})["catch"](function(e){defer.reject()}),defer.promise}}}),JFrogUIWebWorker}()}JFrogUIWebWorker.$inject=["$q","JFrogUILibConfig","WebWorkersPool"];var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.JFrogUIWebWorker=JFrogUIWebWorker,Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports){"use strict";function recursiveDirective($compile){var _arguments=arguments;return{compile:function(elem,link){link=_.isFunction(link)?{post:link}:link;var compileFunction,origContents=elem.contents().remove();return{pre:link&&link.pre?link.pre:null,post:function(scope,elem){compileFunction=compileFunction?compileFunction:$compile(origContents),compileFunction(scope,function(clone){return elem.append(clone)}),link&&link.post&&link.post.apply(null,_arguments)}}}}}exports.recursiveDirective=recursiveDirective,Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};Object.defineProperty(exports,"__esModule",{value:!0}),exports.AdvancedStringMatch=function(){function AdvancedStringMatch($sanitize){var _this=this;_classCallCheck(this,AdvancedStringMatch),this.$sanitize=$sanitize,this.match=function(str,match){return _this.doMatch(str,match)},this.highlight=function(elem,segments,hlElemType,hlClass){return _this.doHighlight(elem,segments,hlElemType,hlClass)}}return _createClass(AdvancedStringMatch,{getMatchCount:{value:function(str,match){for(var searchInside=void 0!==arguments[2]&&arguments[2],i=0;str[i]&&match[i]&&str[i]===match[i];)i++;var result=void 0;if(0===i&&searchInside){for(var len=match.length,start=str.indexOf(match.substr(0,len));start===-1&&len>0;)len--,start=str.indexOf(match.substr(0,len));if(start!==-1&&len>1){for(i=start;str[i]&&match[i-start]&&str[i]===match[i-start];)i++;result={start:start,length:i-start}}else result={start:0,length:0}}else result={start:0,
length:i};return result}},doMatch:{value:function(str,match){if(str){if(str=str.toLowerCase(),match=match.toLowerCase(),!match||!str)return{matched:!1,segments:[]};var index=str.indexOf(match);if(index!==-1)return{matched:!0,segments:[{start:index,length:match.length}]};var regexp=/\_|\-|\.|\/| /,regexp_no_dot=/\_|\-|\/| /,parts=match.indexOf(".")!==-1?str.split(regexp_no_dot):str.split(regexp);match.indexOf(".")!==-1&&!function(){var tempParts=[];parts.forEach(function(part){if(part.indexOf(".")===-1)tempParts.push(part);else{var innerParts=part.split(".");innerParts=_.map(innerParts,function(part){return"."+part}),innerParts[0]=innerParts[0].substr(1),tempParts=tempParts.concat(innerParts)}}),parts=tempParts}(),match=match.split(regexp_no_dot).join("");var gotMatch=!1,pos=0,segments=[],searchInside=!1;if("*"===match[0])for(;"*"===match[0];)match=match.substr(1);for(var i=0;i<parts.length;i++){var matchCount=this.getMatchCount(parts[i],match,!gotMatch||searchInside);if(0!==matchCount.length&&(parts[i].startsWith(".")&&pos--,segments.push({start:pos+matchCount.start,length:matchCount.length}),gotMatch=!0),match=match.substr(matchCount.length),"*"===match[0]){for(searchInside=!0;"*"===match[0];)match=match.substr(1);var newPart=parts[i].substr(matchCount.start+matchCount.length);newPart?parts.splice(i+1,0,newPart):pos++,pos+=matchCount.start+matchCount.length}else 0!==matchCount.length&&(searchInside=!1),pos+=parts[i].length+1;if(!match.length)break}return match.length&&(gotMatch=!1),{matched:gotMatch,segments:gotMatch?segments:[]}}}},getHighlighted:{value:function(text,segments,hlElemType,hlClass){if(segments.length&&text){var last=0,highlighted="";for(var i in segments)text.substr(segments[i].start,segments[i].length)&&(highlighted+=this.$sanitize(text.substr(last,segments[i].start-last)),highlighted+="<"+hlElemType+' class="'+hlClass+'">',highlighted+=this.$sanitize(text.substr(segments[i].start,segments[i].length)),highlighted+="</"+hlElemType+">",last=segments[i].start+segments[i].length);return highlighted+=this.$sanitize(text.substr(last,text.length-last))}return text}},doHighlight:{value:function(elem,segments){var hlElemType=void 0===arguments[2]?"span":arguments[2],hlClass=void 0===arguments[3]?"highlight":arguments[3],contents=elem.contents(),textNode=_.findWhere(contents,{nodeType:3});if(!textNode)for(var i=0;i<contents.length&&!(textNode=_.findWhere(contents[i].childNodes,{nodeType:3}));i++);if(textNode){var highlighted=this.getHighlighted(textNode.nodeValue,segments,hlElemType,hlClass);$(textNode).replaceWith(highlighted)}}}}),AdvancedStringMatch}()},function(module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};Object.defineProperty(exports,"__esModule",{value:!0}),exports.ContextMenuService=function(){function ContextMenuService($timeout,$document,JFrogEventBus,$compile,$rootScope){_classCallCheck(this,ContextMenuService),this.$timeout=$timeout,this.$compile=$compile,this.$rootScope=$rootScope,this.$document=$document,this.JFrogEventBus=JFrogEventBus,this.EVENTS=JFrogEventBus.getEventsDefinition(),this._compileContextMenu()}return ContextMenuService.$inject=["$timeout","$document","JFrogEventBus","$compile","$rootScope"],_createClass(ContextMenuService,{_getDirectiveForCompile:{value:function(directiveName){var directiveElementName=_.kebabCase(directiveName),directiveElement=document.createElement(directiveElementName);return angular.element(directiveElement.outerHTML)}},_compileContextMenu:{value:function(){if(this.$body=$(this.$document).find("body:eq(0)"),!this.$body.find("jf-context-menu").length){this.$scope=this.$rootScope.$new();var markup=this._getDirectiveForCompile("jfContextMenu"),elem=this.$compile(markup)(this.$scope);this.$body.append(elem)}}},_openContextMenu:{value:function(actionsCallback,clickedItemData,clickEvent,trigger){var _this=this,_launchContextMenuEvent=function(actions){var options={actions:actions,clickedItemData:clickedItemData,event:clickEvent};_this.JFrogEventBus.dispatch(_this.EVENTS.CONTEXT_MENU_OPEN,options)},cbResponse=actionsCallback(trigger);cbResponse.then?cbResponse.then(function(actions){_launchContextMenuEvent(actions)}):_launchContextMenuEvent(cbResponse)}},contextMenu:{value:function(settings){var _this=this;$(document).contextmenu(function(e){var target=$(e.target),closest=target.closest(settings.selector);if(closest.length)return e.preventDefault(),e.stopPropagation(),_this.$timeout(function(){settings.build&&"function"==typeof settings.build&&_this._openContextMenu(settings.build,settings.data,e,closest)}),!1})}}}),ContextMenuService}()},function(module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},JfFullTextService=function(){function JfFullTextService($rootScope,JFrogModal){_classCallCheck(this,JfFullTextService),this.$rootScope=$rootScope,this.modal=JFrogModal}return _createClass(JfFullTextService,{showFullTextModal:{value:function(text,textSubject,modalWidth){var _this=this,showAsList=void 0!==arguments[3]&&arguments[3],listItemClickCB=void 0===arguments[4]?null:arguments[4],windowClass=void 0===arguments[5]?"":arguments[5];text&&text.length&&(this.modalScope=this.$rootScope.$new(),this.modalScope.modalTitle=textSubject,this.modalScope.closeModal=function(){return _this.modalInstance.close()},showAsList?(this.modalScope.list=text,this.modalScope.onItemClick=function(item){_this.modalInstance.close(),listItemClickCB&&listItemClickCB(item)}):this.modalScope.text=this.toHtmlRows(text),this.modalInstance=this.modal.launchModal("@full.text.modal",this.modalScope,modalWidth,!0,{windowClass:"full-text-modal"+(windowClass?" "+windowClass:"")}))}},toHtmlRows:{value:function(text){return"string"==typeof text?text.replace(/(?:\r\n|\r|\n)/g,"<br />"):Array.isArray(text)?text.join("<br />"):void 0}}}),JfFullTextService}();module.exports=JfFullTextService},function(module,exports){"use strict";var _slicedToArray=function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr)){for(var _step,_arr=[],_iterator=arr[Symbol.iterator]();!(_step=_iterator.next()).done&&(_arr.push(_step.value),!i||_arr.length!==i););return _arr}throw new TypeError("Invalid attempt to destructure non-iterable instance")},_defineProperty=function(obj,key,value){return Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0})},_createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};Object.defineProperty(exports,"__esModule",{value:!0}),exports.JFrogSubRouter=function(){function JFrogSubRouter($state,$location,$rootScope,$timeout){_classCallCheck(this,JFrogSubRouter),this.$masterScope=$rootScope.$new(),this.$rootScope=$rootScope,this.$state=$state,this.$timeout=$timeout,this.$location=$location,this.$listeners={},this.supportedEvents=["state.change","params.change"]}return _createClass(JFrogSubRouter,{createLocalRouter:{value:function(config){var _this=this;return this._watchStateChanges(),this._watchLocationChanges(),this.$config&&this._exitState(),this.$config=_.cloneDeep(config),this.$config.parentScope=config.parentScope,this.$config.baseStateName=this.$state.current.name,this.$config.basePath=_.trim(this._sharedStartOfString([this.$state.current.url,this.$location.path()]),"/"),this.$state.current.url.indexOf("JFrogSubRouterPath")===-1&&console.warn("In order for JFrogSubRouter to work properly, you must define the sub path in your ui-router state, as being of type 'JFrogSubRouterPath'. In your ui-router state definition, set the 'url' field as '/YOUR/BASE/PATH/{anySubRouteParamName:JFrogSubRouterPath}' "),this._initParams(),this._mapPathToParams(),this._createScope(),this._createApiOnConfig(),this.$config.parentScope.$on("$destroy",function(){_this._exitState(),_this.unwatchUIRouterState(),_this.unwatchUrl()}),this.$config.$api}},getActiveRouter:{value:function(){return this.$config.$api}},_createApiOnConfig:{value:function(){var THIS=this;this.$config.$api=Object.defineProperties({updateUrl:function(){var force=void 0!==arguments[0]&&arguments[0];!force&&THIS.$config.hotSyncUrl||THIS._mapParamsToPath()},"goto":function(stateName,params){THIS._gotoState(stateName,params)},listenForChanges:function(watchedParams,states,listener){var _this=this,scope=void 0===arguments[3]?void 0:arguments[3];watchedParams=_.isArray(watchedParams)?watchedParams:[watchedParams],states=_.isArray(states)?states:states?[states]:[],this.on("params.change",function(oldParams,newParams){if(!states.length||_.includes(states,_this.state)){var match=watchedParams.reduce(function(acc,curr){return acc||oldParams[curr]!==newParams[curr]},!1);match&&listener(oldParams,newParams,_this.state)}},scope)},on:function(event,listener,scope){var _this=this;return _.includes(THIS.supportedEvents,event)?(THIS.$listeners[event]||(THIS.$listeners[event]=[]),THIS.$listeners[event].push(listener),void(scope&&scope.$on("$destroy",function(){_this.off(event,listener)}))):void console.error("JFrogSubRouter: Unsupported Event: "+event)},off:function(event,listener){return _.includes(THIS.supportedEvents,event)?void(THIS.$listeners[event]&&(listener?_.remove(THIS.$listeners[event],function(l){return l===listener}):THIS.$listeners[event]=[])):void console.error("JFrogSubRouter: Unsupported Event: "+event)},fire:function(event){for(var _len=arguments.length,params=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)params[_key-1]=arguments[_key];THIS.$listeners[event]&&THIS.$listeners[event].forEach(function(listener){return listener.apply(void 0,params)})}},{params:{get:function(){return THIS.$config.$params},set:function(params){THIS.$config.$params=params,THIS._mapParamsToPath()},configurable:!0,enumerable:!0},state:{get:function(){return THIS._getCurrentState()},configurable:!0,enumerable:!0},config:{get:function(){return THIS.$config},configurable:!0,enumerable:!0}})}},_sharedStartOfString:{value:function(array){for(var A=array.concat().sort(),a1=A[0],a2=A[A.length-1],L=a1.length,i=0;i<L&&a1.charAt(i)===a2.charAt(i);)i++;return a1.substring(0,i)}},_createScope:{value:function(){var _this=this;this.$config.$scope=this.$rootScope.$new(),this.$config.$scope.config=this.$config,this.$config.$scope.unwatchParams=this.$config.$scope.$watch("config.$params",function(newVal,oldVal){!_this.$config.$params||_this.$config.baseStateName!==_this.$state.current.name||_.isEqual(newVal,oldVal)&&_.isEqual(_this._getPathAsParams(),_this.$config.$params)||_this.$config.hotSyncUrl&&_this._mapParamsToPath()},!0),this.$config.$scope.unwatchState=this.$config.$scope.$watch("config.$api.state",function(newVal,oldVal){newVal!==oldVal&&(null===newVal?_this.$config.onInvalidState&&_this.$config.onInvalidState(oldVal,_this.$config.$params):_this.$config.onStateChange&&(_this.$config.onStateChange(oldVal,newVal),_this.$config&&_this.$config.$api.fire("state.change",oldVal,newVal)))})}},_destroyScope:{value:function(){this.$config.$scope.unwatchParams(),this.$config.$scope.unwatchState(),this.$config.$scope.$destroy()}},_exitState:{value:function(){this.$config.$destroyed=!0,this._destroyScope(),this.$config=null}},_getCurrentState:{value:function(){var _this=this,state=null;if(this.$config.states&&this.$config.$initialized)for(var i=0;i<this.$config.states.length;i++){var stateDef=this.$config.states[i],mandatoriesCheck=!stateDef.params.mandatory||stateDef.params.mandatory.reduce(function(acc,curr){return acc&&!!_this.$config.$params[curr]},!0),nullifiedCheck=!stateDef.params.nullify||stateDef.params.nullify.reduce(function(acc,curr){return acc&&null===_this.$config.$params[curr]},!0);if(mandatoriesCheck&&nullifiedCheck){state=stateDef.name;break}}return state}},_gotoState:{value:function(stateName,params){var _this=this;if(this.$config.states){var stateDef=_.find(this.$config.states,{name:stateName});if(stateDef){if(params&&_.extend(this.$config.$params,params),stateDef.params.mandatory&&stateDef.params.mandatory.forEach(function(mandatoryParam){_this.$config.$params[mandatoryParam]||console.error("State change error: Missing mandatory param: "+mandatoryParam)}),stateDef.params.nullify&&stateDef.params.nullify.forEach(function(nullifiedParam){params&&params[nullifiedParam]&&console.error("State change error: Unsupported param: "+nullifiedParam),_this.$config.$params[nullifiedParam]=null}),stateDef.params.defaults)for(var key in stateDef.params.defaults){var value=stateDef.params.defaults[key];null===this.$config.$params[key]&&(this.$config.$params[key]=value)}}else console.error("Trying to go to state "+stateName+", but no such state were defined")}else console.error("Trying to go to state "+stateName+", but no states were defined")}},_watchLocationChanges:{value:function(){var _this=this;this.$masterScope.$location||(this.$masterScope.$location=this.$location),this.unwatchUrl=this.$masterScope.$watch("$location.absUrl()",function(newVal,oldVal){if(_this.$config){var beforeParams=_.cloneDeep(_this.$config.$params);_this._mapPathToParams(),_this.$config.$initialized||(_this.$config.$initialized=!0,_this.$config.onInit&&(_this.$config.onInit(),beforeParams=_.cloneDeep(_this.$config.$params))),_.isEqual(beforeParams,_this.$config.$params)||(_this.$config.onChangeFromUrl&&_this.$config.onChangeFromUrl(beforeParams,_this.$config.$params),_this.$config&&_this.$config.$api.fire("params.change",beforeParams,_this.$config.$params))}})}},_watchStateChanges:{value:function(){var _this=this,onStateChange=function(e,toState,toParams,fromState,fromParams){_this.$config&&toState.name===_this.$config.baseStateName&&fromState.name===_this.$config.baseStateName&&!function(){var search=_this.$location.search();_this.$state.go(toState.name,toParams,{notify:!1,reload:!1,location:"replace",inherit:!0}),_this.unwatchUrl(),_this.$timeout(function(){_this.$location.search(search).replace(),_this._watchLocationChanges()}),e.preventDefault()}()};this.unwatchUIRouterState=this.$rootScope.$on("$stateChangeStart",onStateChange)}},_getParametersFromConfig:{value:function(){var urlStructure=this.$config.urlStructure,_urlStructure$split=urlStructure.split("?"),_urlStructure$split2=_slicedToArray(_urlStructure$split,2),pathParams=_urlStructure$split2[0],searchParams=_urlStructure$split2[1];return pathParams=_.without(pathParams.split("/"),""),searchParams=searchParams.split("&"),pathParams=_.map(pathParams,function(param){return param.substr(1)}),searchParams=_.map(searchParams,function(param){return param.substr(1)}),{path:pathParams,search:searchParams,all:pathParams.concat(searchParams)}}},_getPathAsParams:{value:function(){var _this=this,params={},configParams=this._getParametersFromConfig(),path=this.$location.path(),search=this._decodeSearchParams(this.$location.search()),basePathParts=this.$config.basePath.split("/"),pathParts=_.filter(path.split("/"),function(part){return""!==part&&!_.includes(basePathParts,part)});return configParams.all.forEach(function(param){params[param]&&(params[param]=null)}),pathParts.forEach(function(part,index){var param=configParams.path[index];param&&(params[param]=_this._customPathPartDecode(part))}),configParams.search.forEach(function(searchParam){search[searchParam]&&(params[searchParam]=search[searchParam])}),params}},_initParams:{value:function(){var _this=this;this.$config.$params={};var configParams=this._getParametersFromConfig();configParams.all.forEach(function(param){_this.$config.$params[param]=null})}},_mapPathToParams:{value:function(){var _this=this;if(this.$config){var currentUrlParams=this._getPathAsParams();_.extend(this.$config.$params,currentUrlParams);var configParams=this._getParametersFromConfig(),remove=!1;configParams.path.forEach(function(pathParam){currentUrlParams[pathParam]||(remove=!0),remove&&(_this.$config.$params[pathParam]=null)});var search=this._decodeSearchParams(this.$location.search());configParams.search.forEach(function(queryParam){search[queryParam]||(_this.$config.$params[queryParam]=null)})}}},_mapParamsToPath:{value:function(){var _this=this;if(this.$config){var configParams=this._getParametersFromConfig(),pathParts=[""].concat(this.$config.basePath.split("/")),stop=!1;configParams.path.forEach(function(param){if(!stop){var val=_this.$config.$params[param];null===val?stop=!0:pathParts.push(_this._customPathPartEncode(val))}});var searchParams={};configParams.search.forEach(function(param){var val=_this.$config.$params[param];null!==val&&(searchParams[param]=val)}),this.$location.search(this._encodeSearchParams(searchParams)),this.$location.path(pathParts.join("/")+"/")}}},_encodeSearchParams:{value:function(searchParams){var _this=this,isEmptyObject=function(obj){return Object.keys(obj).reduce(function(acc,curr){return acc&&(null===obj[curr]||void 0===obj[curr])},!0)};if(this.$config.encodeSearchParamsAsBase64===!0)return isEmptyObject(searchParams)?{}:{state:btoa(JSON.stringify(searchParams))};if(_.isString(this.$config.encodeSearchParamsAsBase64))return isEmptyObject(searchParams)?{}:_defineProperty({},this.$config.encodeSearchParamsAsBase64,btoa(JSON.stringify(searchParams)));if(!_.isObject(this.$config.encodeSearchParamsAsBase64))return searchParams;var _ret=function(){var result=_.cloneDeep(searchParams);for(var key in _this.$config.encodeSearchParamsAsBase64)!function(key){var params=_this.$config.encodeSearchParamsAsBase64[key],toEncode={};params.forEach(function(param){delete result[param],toEncode[param]=searchParams[param]}),isEmptyObject(toEncode)||(result[key]=btoa(JSON.stringify(toEncode)))}(key);return{v:result}}();return"object"==typeof _ret?_ret.v:void 0}},_decodeSearchParams:{value:function(searchParams){if(this.$config.encodeSearchParamsAsBase64===!0)return searchParams.state?JSON.parse(atob(decodeURIComponent(searchParams.state))):{};if(_.isString(this.$config.encodeSearchParamsAsBase64))return searchParams[this.$config.encodeSearchParamsAsBase64]?JSON.parse(atob(decodeURIComponent(searchParams[this.$config.encodeSearchParamsAsBase64]))):{};if(_.isObject(this.$config.encodeSearchParamsAsBase64)){var result=_.cloneDeep(searchParams);for(var key in this.$config.encodeSearchParamsAsBase64)if(result[key]){var decoded=JSON.parse(atob(decodeURIComponent(result[key])));delete result[key],_.extend(result,decoded)}return result}return searchParams}},_customPathPartEncode:{value:function(pathPart){return pathPart?encodeURIComponent(pathPart).replace(/%2F/g,"~2F"):pathPart}},_customPathPartDecode:{value:function(pathPart){return pathPart?decodeURIComponent(pathPart.replace(/~2F/g,"%2F")):pathPart}}}),JFrogSubRouter}()},function(module,exports,__webpack_require__){"use strict";var FileSize=__webpack_require__(94).FileSize,FormatedNumber=__webpack_require__(95).FormatedNumber,SplitWords=__webpack_require__(96).SplitWords;module.exports=angular.module("jfrog.ui.essentials.filters",[]).filter("filesize",FileSize).filter("formatedNumber",FormatedNumber).filter("splitWords",SplitWords)},function(module,exports){"use strict";function FileSize(){return function(bytes,precision){if(0===bytes)return"empty file";if(isNaN(parseFloat(bytes))||!isFinite(bytes))return"-";"undefined"==typeof precision&&(precision=1);var units=["bytes","kB","MB","GB","TB","PB","EB","ZB","YB"],number=Math.floor(Math.log(bytes)/Math.log(1024));return(bytes/Math.pow(1024,Math.floor(number))).toFixed(precision)+" "+units[number]}}exports.FileSize=FileSize,Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports){"use strict";function FormatedNumber(){return function(value){var newValue=value;if(value>=1e3){for(var suffixes=["","k","M","G","T"],suffixNum=Math.floor((""+value).length/3),shortValue="",precision=2;precision>=1;precision--){shortValue=parseFloat((0!=suffixNum?value/Math.pow(1e3,suffixNum):value).toPrecision(precision));var dotLessShortValue=(shortValue+"").replace(/[^a-zA-Z 0-9]+/g,"");if(dotLessShortValue.length<=2)break}shortValue%1!=0&&(shortValue=shortValue.toFixed(1)),newValue=shortValue+suffixes[suffixNum]}return newValue}}exports.FormatedNumber=FormatedNumber,Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports){"use strict";function SplitWords(){return function(string){return splitWords(string)}}function splitWords(str){return str.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/\b([A-Z]+)([A-Z])([a-z])/,"$1 $2$3").replace(/^./,function(str){return str.toUpperCase()})}exports.SplitWords=SplitWords,Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports,__webpack_require__){"use strict";var _interopRequire=function(obj){return obj&&obj.__esModule?obj["default"]:obj},JfDivider=_interopRequire(__webpack_require__(98)),Grid=_interopRequire(__webpack_require__(101)),Modal=_interopRequire(__webpack_require__(105)),Uploader=_interopRequire(__webpack_require__(107)),JFTableView=_interopRequire(__webpack_require__(110)),JFTree=_interopRequire(__webpack_require__(119)),SummaryRow=_interopRequire(__webpack_require__(126));angular.module("jfrog.ui_components",[Grid.name,Modal.name,Uploader.name,JFTableView.name,JFTree.name,SummaryRow.name,JfDivider.name])},function(module,exports,__webpack_require__){"use strict";var _interopRequire=function(obj){return obj&&obj.__esModule?obj["default"]:obj},JfDivider=_interopRequire(__webpack_require__(99));module.exports=angular.module("jf.divider",[]).component("jfDivider",new JfDivider)},function(module,exports,__webpack_require__){"use strict";var _classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},JfDivider=function JfDivider(){_classCallCheck(this,JfDivider),this.template=__webpack_require__(100),this.controller=JfDividerController,this.bindings={text:"@"}};module.exports=JfDivider;var JfDividerController=function JfDividerController(){_classCallCheck(this,JfDividerController)}},function(module,exports){module.exports='<div class="jf-divider-container">\n\t<div class="jf-divider-header">{{$ctrl.text}}</div>\n\t<div class="jf-divider-line"></div>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";var JFrogGridFactory=__webpack_require__(102).JFrogGridFactory;module.exports=angular.module("jfrog_grid",["ui.grid","ui.grid.autoResize","ui.grid.edit","ui.grid.selection","ui.grid.pagination","ui.grid.grouping","ui.grid.resizeColumns"]).service("JFrogGridFactory",JFrogGridFactory)},function(module,exports,__webpack_require__){"use strict";var _defineProperty=function(obj,key,value){return Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0})},_createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};Object.defineProperty(exports,"__esModule",{value:!0});var TEMPLATES_FOLDER="ui_components/jfrog_grid/templates/",MIN_COLUMN_WIDTH=50,headerCellTemplate=__webpack_require__(103),groupHeaderCellTemplate=__webpack_require__(104),globals={},COMMON_ACTIONS={"delete":{icon:"icon icon-clear",tooltip:"Delete"},download:{icon:"icon icon-download",href:function(row){return row.downloadLink},tooltip:"Download"}},JFrogGrid=function(){function JFrogGrid(scope,uiGridConstants){var _this=this;_classCallCheck(this,JFrogGrid),this.scope=scope,scope&&(this.appScopeProvider=scope),this.enableRowSelection=!0,this.enableRowHeaderSelection=!1,this.modifierKeysToMultiSelect=!1,this.multiSelect=!1,this.noUnselect=!1,this.enableColumnMenus=!1,this.rowHeight=50,this.headerRowHeight=51,this.enableHorizontalScrollbar=uiGridConstants.scrollbars.NEVER,this.enableVerticalScrollbar=uiGridConstants.scrollbars.NEVER,this.groupingShowCounts=!1,this._afterRegister=[],this.paginationCallback=null,this.enablePagination=!0,this.enablePaginationControls=!1,this.paginationPageSize=25,this.resetPagination(),this._handleColumnResize(),this.scope.$on("$destroy",function(){return _this.onDestroy()})}return JFrogGrid.$inject=["scope","uiGridConstants"],_createClass(JFrogGrid,{resetPagination:{value:function(){globals.JFrogEventBus.dispatch(globals.JFrogEventBus.getEventsDefinition().RESET_GRID_PAGINATION),1===this.paginationCurrentPage?this.getPage():this.paginationCurrentPage=1}},getPagination:{value:function(){var pagination={page_num:this.paginationCurrentPage,num_of_rows:this.paginationPageSize},sortColumn=this.getSortColumn();return sortColumn?(pagination.direction=sortColumn.sort.direction,pagination.order_by=sortColumn.field||sortColumn.name):(pagination.direction="asc",pagination.order_by=this.columnDefs[0].field),pagination}},getSortColumn:{value:function(){return _.isEmpty(this.api.grid.columns)?_.findWhere(this.columnDefs,{sort:{}}):this.api.grid.getColumnSorting()[0]}},setExternalPagination:{value:function(callback){var _this=this;return this.useExternalPagination=!0,this.useExternalSorting=!0,this.paginationCallback=callback,this.afterRegister(function(gridApi){gridApi.core.on.sortChanged(_this.scope,function(grid,sortColumns){_this.getPage()}),gridApi.pagination.on.paginationChanged(_this.scope,function(pageNumber,pageSize){_this.getPage()}),_this.getPage()}),this}},getPage:{value:function(){var _this=this;this.paginationCallback&&this.paginationCallback(this.getPagination()).then(function(pagedResponse){_this.totalItems=pagedResponse.total_count,_this.setGridData(pagedResponse.data)})}},afterRegister:{value:function(callback){this.api&&callback(this.api),this._afterRegister.push(callback)}},fixGroupingUndefinedValues:{value:function(){var _this=this;this.api.grouping&&!function(){var origFunc=_this.api.grouping.groupColumn;_this.api.grouping.groupColumn=function(columnName){var column=_.findWhere(_this.api.grid.columns,{displayName:columnName}),field=column.field;_this.api.grid.rows.forEach(function(row){void 0===row.entity[field]&&(row.entity[field]="")}),origFunc(columnName)}}()}},_normalizeColumnWidths:{value:function(columnDefs){var totalSize=columnDefs.reduce(function(acc,curr){var w=parseInt(curr.width);return _.isNaN(w)?acc:acc+w},0),average=totalSize/columnDefs.length;0===average&&(average=100),columnDefs.forEach(function(column){column.width||(column.width=average+"%",totalSize+=average)}),100!==totalSize&&!function(){var ratio=100/totalSize;columnDefs.forEach(function(column){var w=parseInt(column.width);_.isNaN(w)||(column.width=ratio*w+"%")})}()}},refreshColumns:{value:function(){this.origColumnDefs&&(this.setColumns(_.cloneDeep(this.origColumnDefs)),this.firstRenderedIteration=!1)}},filterColumns:{value:function(columns){var _this=this;return _.filter(columns,function(col){return(!col.isVisible||col.isVisible())&&(!_this.visibleFields||_this.visibleFields.indexOf(col.field)!==-1)})}},setColumns:{value:function(columnDefs){var _this=this;return this.origColumnDefs||(this.origColumnDefs=_.cloneDeep(columnDefs)),this.columnsCustomization&&!this.availableColumns&&(this.loadCustomizedColumnsState(),this.createAvailableColumnsArray(),this.updateCustomizedColumns(!1)),columnDefs=this.filterColumns(columnDefs),this._normalizeColumnWidths(columnDefs),this.columnDefs=columnDefs,this.columnDefs.forEach(function(item,index){item.headerCellTemplate||(item.allowGrouping?item.headerCellTemplate=groupHeaderCellTemplate:item.headerCellTemplate=headerCellTemplate),_this.subRowsEnabled&&(item.sortingAlgorithm&&(item.customSortingAlgorithm=item.sortingAlgorithm),item.sortingAlgorithm=_this._defaultSortingAlgorithm.bind(_this,item),item.cellTemplate||(item.cellTemplate='<div class="ui-grid-cell-contents">{{row.entity.'+item.field+".$value}}</div>")),item.enableCellEdit||(item.enableCellEdit=!1),item.actions&&(item.customActions=item.customActions||[],_.forEach(item.actions,function(callback,key){var action=void 0;action=callback.visibleWhen?_this._getCommonAction(key,callback.callback,callback.visibleWhen):_this._getCommonAction(key,callback.callback||callback),item.customActions.push(action)})),item.minWidth||(item.minWidth=MIN_COLUMN_WIDTH)}),this}},_getCommonAction:{value:function(key,callback,visibleWhen){var action=COMMON_ACTIONS[key];return action=angular.extend({callback:callback},action),visibleWhen&&(action=angular.extend({visibleWhen:visibleWhen},action)),action}},_isElementVisible:{value:function(e){return!(!e.length||"none"===e.css("display"))&&(e.parent()[0]===document||this._isElementVisible(e.parent()))}},_calculateColumnsWidthByPercent:{value:function(gridApi){if(this._isElementVisible($(gridApi.grid.element[0]))){var gridSize=$(gridApi.grid.element[0]).width(),resizedColumns=[],fieldColumnCounter=0,columnWidthCounter=0;if(gridApi.grid.columns.forEach(function(item,index){if(item.visible)if(item.colDef.field){if(item.originalWidth&&item.originalWidth.indexOf&&item.originalWidth.indexOf("%")!=-1){var newColSize=Math.floor(gridSize*(item.originalWidth.replace("%","")/100));gridApi.grid.columns[index].colDef.minWidth&&parseInt(gridApi.grid.columns[index].colDef.minWidth)>newColSize&&(newColSize=parseInt(gridApi.grid.columns[index].colDef.minWidth)),gridApi.grid.columns[index].width=gridApi.grid.columns[index].colDef.width=newColSize,columnWidthCounter+=gridApi.grid.columns[index].width,resizedColumns.push(index)}fieldColumnCounter++}else gridSize-=item.width}),resizedColumns.length<fieldColumnCounter)!function(){var columnWidthDiff=Math.floor((gridSize-columnWidthCounter)/(fieldColumnCounter-resizedColumns.length));gridApi.grid.columns.forEach(function(item,index){item.visible&&item.colDef.field&&resizedColumns.indexOf(index)==-1&&(gridApi.grid.columns[index].width=gridApi.grid.columns[index].colDef.width=columnWidthDiff)})}();else if(columnWidthCounter>gridSize)for(var columnWidthDiff=columnWidthCounter-gridSize,indexIterate=0;columnWidthDiff>0;)indexIterate==gridApi.grid.columns.length&&(indexIterate=0),gridApi.grid.columns[indexIterate].visible&&gridApi.grid.columns[indexIterate].colDef.field&&(gridApi.grid.columns[indexIterate].width=gridApi.grid.columns[indexIterate].colDef.width=gridApi.grid.columns[indexIterate].width-1,columnWidthDiff-=1),indexIterate++;gridApi.grid.refreshCanvas(!0),gridApi.core.handleWindowResize()}}},_fixColumnsWidthFromPercentToPixel:{value:function(gridApi){var _this=this;this.firstRenderedIteration||!function(){var firstRun=!1;gridApi.grid.columns.forEach(function(item){item.colDef.field&&item.drawnWidth&&(item.originalWidth=item.colDef.width,
item.colDef.width=item.width,firstRun=!0)}),firstRun&&(_this._calculateColumnsWidthByPercent(gridApi),_this.firstRenderedIteration=!0)}()}},_calculateColumnsWidthOnResize:{value:function(gridApi,colDef,deltaChange){var indexChanged=-1,indexIterate=void 0,pixelsToDivide=void 0,totalColumnWidth=0;for(gridApi.grid.columns.forEach(function(item,index){item.colDef===colDef&&(indexChanged=index),item.visible&&(totalColumnWidth+=parseInt(item.width))}),indexIterate=indexChanged+1,pixelsToDivide=$(gridApi.grid.element[0]).width()-totalColumnWidth,gridApi.grid.columns[indexChanged].colDef.width=gridApi.grid.columns[indexChanged].width;0!=pixelsToDivide&&indexIterate<gridApi.grid.columns.length;){for(indexIterate==gridApi.grid.columns.length&&(indexIterate=0);!gridApi.grid.columns[indexIterate].colDef.field;)indexIterate++;gridApi.grid.columns[indexIterate].width+pixelsToDivide<MIN_COLUMN_WIDTH?(pixelsToDivide+=gridApi.grid.columns[indexIterate].width-MIN_COLUMN_WIDTH,gridApi.grid.columns[indexIterate].width=gridApi.grid.columns[indexIterate].colDef.width=MIN_COLUMN_WIDTH):(gridApi.grid.columns[indexIterate].width=gridApi.grid.columns[indexIterate].colDef.width=parseInt(gridApi.grid.columns[indexIterate].width)+pixelsToDivide,pixelsToDivide=0),indexIterate++}0!=pixelsToDivide&&(gridApi.grid.columns[indexChanged].width=gridApi.grid.columns[indexChanged].colDef.width=parseInt(gridApi.grid.columns[indexChanged].width)+pixelsToDivide),gridApi.grid.refreshCanvas(!0)}},_handleColumnResize:{value:function(){var _this=this;this.afterRegister(function(gridApi){_this.calculateFn=function(){return _this._calculateColumnsWidthByPercent(gridApi)},$(globals.$window).resize(_this.calculateFn),_this.scope&&_this.scope.$on("ui-layout.resize",_this.calculateFn),gridApi.core.on.rowsRendered(_this.scope,function(){return _this._fixColumnsWidthFromPercentToPixel(gridApi)}),gridApi.colResizable&&gridApi.colResizable.on.columnSizeChanged(_this.scope,function(colDef,deltaChange){return _this._calculateColumnsWidthOnResize(gridApi,colDef,deltaChange)})})}},setButtons:{value:function(buttons){if(!this.scope)throw"Must set scope to use buttons";return this.buttons=buttons,this}},setBatchActions:{value:function(batchActions){return this.batchActions=batchActions,this.setMultiSelect(),this}},setGridData:{value:function(data){var _this=this,transform=void 0===arguments[1]||arguments[1],autoExpand=void 0===arguments[2]||arguments[2];return transform&&this.subRowsEnabled?this.data=this._transformDataForSubRowsSupport(data,autoExpand):this.data=data,this.afterRegister(function(gridApi){gridApi.grid.element.css("visibility","visible"),_this.fixGroupingUndefinedValues()}),this.data&&this.data.length?this.enableSelectAll=this._allowMultiSelect:(this.data=[{_emptyRow:!0}],this.enableSelectAll=!1),this._resize(),this}},setKey:{value:function(key){var _this=this;return"function"==typeof key?this.keyFn=function(row){return key(_this._complex2Simple(row))}:this.keyFn=function(row){return row[key]&&row[key].$value?row[key].$value:row[key]},this}},_complex2Simple:{value:function(row){var changeObject=void 0!==arguments[1]&&arguments[1],simple={};for(var key in row)key.startsWith("$")||key.startsWith("_")?changeObject||(simple[key]=row[key]):changeObject?row[key]=row[key]&&void 0!==row[key].$value?row[key].$value:row[key]:simple[key]=row[key]&&void 0!==row[key].$value?row[key].$value:row[key];return changeObject?row:simple}},_simple2Complex:{value:function(row){var changeObject=void 0!==arguments[1]&&arguments[1],complex={};for(var key in row)key.startsWith("$")||key.startsWith("_")?changeObject||(complex[key]=row[key]):changeObject?row[key]={$value:row[key]&&void 0!==row[key].$value?row[key].$value:row[key],$row:row}:complex[key]={$value:row[key]&&void 0!==row[key].$value?row[key].$value:row[key],$row:complex};return changeObject?row:complex}},updateGridData:{value:function(data){var _this=this;if(!(this.data&&this.data.length&&this.api))return this.setGridData(data);if(!this.keyFn)throw new Error("Cannot update data, no key was defined. (use setKey(key|keyFn))");data.forEach(function(row){var exists=_.find(_this.api.grid.rows,function(r){return _this.keyFn(r.entity)===_this.keyFn(row)});if(exists){for(var key in exists.entity)key.startsWith("$")||(exists.entity[key]&&exists.entity[key].$row?exists.entity[key].$value=row[key]:exists.entity[key]=row[key]);row.$subRows&&row.$subRows.forEach(function(subRow){var existsSub=_.find(exists.entity.$subRows,function(r){return _this.keyFn(r)===_this.keyFn(subRow)});if(existsSub)for(var subKey in existsSub)subKey.startsWith("$")||(existsSub[subKey]&&existsSub[subKey].$row?existsSub[subKey].$value=subRow[subKey]:existsSub[subKey]=subRow[subKey])})}})}},setHeaderHeight:{value:function(height){var _this=this;return this.headerRowHeight=height+1,globals.$timeout(function(){$(_this.api.grid.element).find(".ui-grid-header-cell-wrapper, .ui-grid-header-canvas").css("height",height+"px"),$(_this.api.grid.element).find(".ui-grid-header-cell .ui-grid-cell-contents").css("height",height+"px")}),this}},setRowsPerPage:{value:function(rowsPerPage){return this.paginationPageSize=rowsPerPage,this}},enableSubRows:{value:function(){return this.subRowsEnabled=!0,this}},_resize:{value:function(){var dataLen=this.api?this.api.core.getVisibleRows().length:this.data.length;if(this.minRowsToShow=Math.max(1,dataLen),this.api){var grid=this.api.grid,height=this.minRowsToShow*grid.options.rowHeight+grid.options.headerRowHeight;grid.element.css("height",height+"px"),grid.element.find(".ui-grid-viewport").css("height",height-this.headerRowHeight+"px"),grid.gridHeight=height}}},onRegisterApi:{value:function(gridApi){var _this=this;return this.api=gridApi,void 0===this.scope&&(this.scope=null),this.api.core.on.rowsRendered(this.scope,function(){_this._resize()}),this.onSelectionChange&&this.api.selection&&this.api.selection.on.rowSelectionChanged(this.scope,this.onSelectionChange),this.onSelectionChangeBatch&&this.api.selection&&this.api.selection.on.rowSelectionChangedBatch(this.scope,this.onSelectionChangeBatch),this.scope&&(this.scope.grids||(this.scope.grids={}),this.scope.grids[gridApi.grid.id]={buttons:this.buttons}),this._afterRegister.forEach(function(callback){callback(gridApi)}),this}},setRowTemplate:{value:function(fileName){return fileName&&(this.rowTemplate=TEMPLATES_FOLDER+fileName+".html"),this}},setDraggable:{value:function(callbackFunc){var _this=this;return this.setRowTemplate("drag_rows"),this.draggablefunc=callbackFunc,this.afterRegister(function(gridApi){gridApi.draggableRows.on.rowDropped(_this.scope,function(info,dropTarget){_this.draggablefunc(info,dropTarget)})}),this}},setMultiSelect:{value:function(){return this.enableRowHeaderSelection=!0,this.multiSelect=!0,this.enableSelectAll=!0,this._allowMultiSelect=!0,this.selectionRowHeaderWidth=40,this}},setSingleSelect:{value:function(){return this.enableRowHeaderSelection=!0,this.multiSelect=!1,this.enableSelectAll=!0,this._allowMultiSelect=!1,this.selectionRowHeaderWidth=40,this.allowSingleSelect=!0,this}},setMinRowsToShow:{value:function(number){return this.minRowsToShow=number,this}},selectItem:{value:function(item){var _this=this;globals.$timeout(function(){return _this.api.selection.selectRow(item)})}},onDestroy:{value:function(){$(globals.$window).off("resize",this.calculateFn)}},isOverflowing:{value:function(cellId){var elem=$("#"+cellId),showAll=(elem.children(".gridcell-content-text"),elem.children(".gridcell-showall")),cellItemContent=elem.text().trim(),width=0;return showAll.length&&(width=showAll.outerWidth()),cellItemContent.length>0&&elem[0].scrollWidth>elem.innerWidth()?(elem.addClass("overflow"),!0):(elem.removeClass("overflow"),!1)}},htmlIsOverflowing:{value:function(cellId){var elem=$("#"+cellId),children=elem.children(".item"),actionButtonsBar=elem.closest(".ui-grid-row").find(".grid-action-bar:eq(0)"),actionButtonsWidth=actionButtonsBar.outerWidth(),maxWidth=elem.outerWidth()-60-actionButtonsWidth,totalChildrenWidth=0;return children.each(function(i,child){var childElem=$(child);totalChildrenWidth+=childElem.outerWidth()+parseInt(childElem.css("margin-left"))+parseInt(childElem.css("margin-right")),totalChildrenWidth<maxWidth&&childElem.removeClass("overflowing-child"),totalChildrenWidth>maxWidth&&!childElem.is(".overflowing-child")&&childElem.addClass("overflowing-child")}),elem.children(".item.overflowing-child").length>0}},lastHtmlElementOverflowing:{value:function(cellId){return 0==$("#"+cellId).children(".item:not(.overflowing-child)").length}},showAll:{value:function(model,rowName,col){var objectName=_.startCase(this.gridObjectName.indexOf("/")>=0?this.gridObjectName.split("/")[0]:this.gridObjectName),modalScope=globals.$rootScope.$new();modalScope.items=model,modalScope.colName=col.displayName||col.name,modalScope.rowName=rowName,modalScope.objectName=objectName,modalScope.filter={},modalScope.filterItem=function(item){if(modalScope.filter.text){var escaped=globals.utils.escapeForRegex(modalScope.filter.text),regex=new RegExp(".*"+escaped.split("\\*").join(".*")+".*","i");return regex.test(item)}return!0},modalScope.noResults=function(){var filteredResults=_.filter(modalScope.items,function(item){return modalScope.filterItem(item)});return 0===filteredResults.length},globals.$modal.open({scope:modalScope,templateUrl:"ui_components/jfrog_grid/show_all_modal.html",backdrop:!0,size:"sm"})}},asyncShowAll:{value:function(rowName,col){var _this=this;col.colDef&&col.colDef.asyncDataCallback&&col.colDef.asyncDataCallback(rowName).then(function(dataList){_this.showAll(dataList,rowName,col)})}},_transformDataForSubRowsSupport:{value:function(data,autoExpand){var _this=this,transformed=[];return data.forEach(function(row){var complexRow=_this._simple2Complex(row);transformed.push(complexRow),row.$subRows&&row.$subRows.length&&(complexRow.$subRows=[],complexRow.$expandable=!0,row.$subRows.forEach(function(sub){var complexSub=_this._simple2Complex(sub);complexSub.$parentRow=complexRow,autoExpand&&row.$expanded&&transformed.push(complexSub),complexRow.$subRows.push(complexSub)}))}),transformed}},callActionCallback:{value:function(action,row){if(this.subRowsEnabled){var simpleRow=this._complex2Simple(row.entity,!0);action.callback(simpleRow,row),row.entity=this._simple2Complex(simpleRow,!0)}else action.callback(row.entity,row)}},checkVisibleWhen:{value:function(action,row){if(this.subRowsEnabled){var simpleRow=this._complex2Simple(row.entity);return action.visibleWhen(simpleRow)}return action.visibleWhen(row.entity)}},getActionHref:{value:function(action,row){if(action.href){if(this.subRowsEnabled){var simpleRow=this._complex2Simple(row.entity);return action.href(simpleRow)}return action.href(row.entity)}}},refreshGridAfterFiltering:{value:function(gridFilter){var _this=this;this.gridFilter=gridFilter,gridFilter.column.name+=" ",gridFilter.column2&&(gridFilter.column2.name+=" ");var data=[];this.data.length&&(data[0]=_.cloneDeep(this.data[0]),data=data.concat(this.data.slice(1))),this.setGridData(data,!1),globals.$timeout(function(){0===_this.api.grid.getVisibleRows().length?(_this.setGridData(data.concat([{_emptyRow:!0}]),!1),gridFilter.noMatches=!0):_this.api.grid.getVisibleRows().length>1&&(_this.setGridData(_.filter(data,function(row){return!row._emptyRow}),!1),gridFilter.noMatches=!1),globals.$timeout(function(){_this.api.core.refresh()})})}},toggleExpansion:{value:function(row){row.$expandable?(row.$expanded=!row.$expanded,row.$expanded?this._addSubRows(row):this._removeSubRows(row)):row.$parentRow&&this.toggleExpansion(row.$parentRow)}},_addSubRows:{value:function(row){var _this=this,rows=_.pluck(this.api.grid.rows,"entity"),index=_.indexOf(rows,row)+1,newSubRows=_.filter(row.$subRows,function(subRow){return _this.data.indexOf(subRow)===-1});Array.prototype.splice.apply(this.data,[index,0].concat(newSubRows))}},_removeSubRows:{value:function(row){this.data=_.without.apply(_,[this.data].concat(row.$subRows))}},resyncSubRows:{value:function(){}},_defaultSortingAlgorithm:{value:function(colRef,a,b){var dir=_.findWhere(this.api.grid.columns,{field:colRef.field}).sort.direction;return a.$row.$parentRow&&a.$row.$parentRow===b.$row?"asc"===dir?1:-1:b.$row.$parentRow&&b.$row.$parentRow===a.$row?"asc"===dir?-1:1:a.$row.$parentRow&&!b.$row.$parentRow?this._defaultSortingAlgorithm(colRef,a.$row.$parentRow[colRef.field],b):b.$row.$parentRow&&!a.$row.$parentRow?this._defaultSortingAlgorithm(colRef,a,b.$row.$parentRow[colRef.field]):a.$row.$parentRow&&b.$row.$parentRow&&a.$row.$parentRow!==b.$row.$parentRow?this._defaultSortingAlgorithm(colRef,a.$row.$parentRow[colRef.field],b.$row.$parentRow[colRef.field]):a.$value>b.$value?1:b.$value>a.$value?-1:0}},isRowExpanded:{value:function(row){var _this=this;if(!this.keyFn)throw new Error("No key was defined. (use setKey(key|keyFn))");var key=this.keyFn(row),found=_.find(this.data,function(r){return _this.keyFn(r)===key});return!!found&&found.$expanded===!0}},allowColumnsCustomization:{value:function(){return this.columnsCustomization=!0,this.loadCustomizedColumnsState(),this.createAvailableColumnsArray(),this.updateCustomizedColumns(),this}},createAvailableColumnsArray:{value:function(){var _this=this;this.origColumnDefs&&(this.availableColumns=[],this.origColumnDefs.forEach(function(colDef){var item={id:colDef.field,text:colDef.displayName||colDef.name,isSelected:!_this.visibleFields&&!colDef.optional||_this.visibleFields&&_this.visibleFields.indexOf(colDef.field)!==-1};_this.availableColumns.push(item)}))}},updateCustomizedColumns:{value:function(){var refresh=void 0===arguments[0]||arguments[0];this.availableColumns&&(this.visibleFields=_.map(_.filter(this.availableColumns,function(col){return col.isSelected}),"id"),this.saveCustomizedColumnsState(),refresh&&this.refreshColumns(),this.gridFilter&&this.gridFilter.doFilter())}},setGridSettingsId:{value:function(id){return this.gridSettingsId=id,this}},saveCustomizedColumnsState:{value:function(){if(this.gridSettingsId)if(localStorage.jfGridSettings){var settings=JSON.parse(localStorage.jfGridSettings);settings[this.gridSettingsId]=this.visibleFields,localStorage.jfGridSettings=JSON.stringify(settings)}else localStorage.jfGridSettings=JSON.stringify(_defineProperty({},this.gridSettingsId,this.visibleFields))}},loadCustomizedColumnsState:{value:function(){if(this.gridSettingsId){var settings=localStorage.jfGridSettings;if(settings){settings=JSON.parse(settings);var mySetting=settings[this.gridSettingsId];this.visibleFields=mySetting}}}}}),JFrogGrid}();exports.JFrogGridFactory=function(){function JFrogGridFactory(uiGridConstants,$timeout,$window,$state,$modal,$rootScope,JFrogDownload,JFrogEventBus,JFrogUIUtils){_classCallCheck(this,JFrogGridFactory),globals.$timeout=$timeout,globals.$window=$window,globals.$state=$state,globals.$modal=$modal,globals.download=JFrogDownload,globals.$rootScope=$rootScope,globals.JFrogEventBus=JFrogEventBus,globals.utils=JFrogUIUtils,this.uiGridConstants=uiGridConstants,this._createContextMenu()}return JFrogGridFactory.$inject=["uiGridConstants","$timeout","$window","$state","$modal","$rootScope","JFrogDownload","JFrogEventBus","JFrogUIUtils"],_createClass(JFrogGridFactory,{getGridInstance:{value:function(scope){return new JFrogGrid(scope,this.uiGridConstants)}},getDefaultCellTemplate:{value:function(){return headerCellTemplate}},_createContextMenu:{value:function(){var _this=this;$.contextMenu({selector:".grid-container .ui-grid-cell-contents, .grid-container .grid-cell-checkbox",build:function($trigger,e){var row=angular.element($trigger[0]).scope().row,uiGrid=angular.element($trigger[0]).controller("uiGrid");if(uiGrid){var grid=uiGrid.grid,rowActions=grid.appScope.grids[grid.id].buttons,customActionsRaw=_.pluck(grid.columns,"colDef.customActions"),allActions=[];customActionsRaw&&customActionsRaw.forEach(function(acts){acts&&acts.forEach(function(act){allActions.push(act)})}),rowActions&&rowActions.forEach(function(act){allActions.push(act)}),allActions=_.filter(allActions,function(act){return row&&(!act.visibleWhen||grid.options.checkVisibleWhen(act,row))});var editAction=_this._getEditAction($trigger,row,grid),additionalActions=_this._getAdditionalActions($trigger,row,grid);if((allActions.length||editAction||0!==additionalActions.length)&&row){var cmItems={};editAction&&(cmItems["*edit*"]={name:"Edit",icon:"artifactory-edit"});var getIconName=function(classdef){var iconName=void 0,classes=classdef.split(" ");return classes.forEach(function(cls){cls.startsWith("icon-")&&(iconName=cls.substr(5))}),iconName};if(additionalActions)for(var i in additionalActions){var action=additionalActions[i];cmItems["@"+action.name]={name:action.name,icon:getIconName(action.icon)}}for(var actI in allActions){var act=allActions[actI];act.key=act.tooltip.split(" ").join("").toLowerCase(),cmItems[act.key]={name:act.tooltip,icon:getIconName(act.icon)}}return globals.$timeout(function(){$(".context-menu-item").on("click",function(e){_this.actionToDo&&($(e.target).trigger("contextmenu:hide"),globals.$timeout(function(){_this.actionToDo(),delete _this.actionToDo},100))})}),{callback:function(key,options){return _this.actionToDo=function(){if("*edit*"===key)editAction["do"]();else if(key.startsWith("@")){var actionName=key.substr(1),action=_.findWhere(additionalActions,{name:actionName});action["do"]()}else{var act=_.findWhere(allActions,{key:key});if(grid.options.callActionCallback(act,row),act.href){var url=grid.options.getActionHref(act,row);url&&globals.download(url)}}},!1},items:cmItems}}return!1}}})}},_getEditAction:{value:function($trigger,row,grid){var objScope={row:row,grid:grid},editState=$trigger.parent().parent().find("[ui-sref]:not(.no-cm-action)").length?$trigger.parent().parent().find("[ui-sref]:not(.no-cm-action)")[0].attributes["ui-sref"].textContent:null;if(editState){var _ret=function(){var parenthesesOpenIndex=editState.indexOf("("),state=editState.substr(0,parenthesesOpenIndex),paramsString=editState.substr(parenthesesOpenIndex),openBraceIndex=paramsString.indexOf("{"),closeBraceIndex=paramsString.lastIndexOf("}");paramsString=paramsString.substr(openBraceIndex+1,closeBraceIndex-openBraceIndex-1);var paramsObj={},paramsSplit=paramsString.split(",");return paramsSplit.forEach(function(param){var keyVal=param.split(":"),key=keyVal[0].trim(),val=keyVal[1].trim();val.startsWith("row.")||val.startsWith("grid.")?val=_.get(objScope,val):val.startsWith("!row.")||val.startsWith("!grid.")?val=!_.get(objScope,val):val.startsWith("'")?val=val.split("'").join(""):val.startsWith('"')&&(val=val.split('"').join("")),paramsObj[key]=val}),{v:{"do":function(){globals.$state.go(state,paramsObj)}}}}();if("object"==typeof _ret)return _ret.v}else{var ngClicks=$trigger.parent().parent().find("[ng-click]:not(.no-cm-action)"),clickCommand=void 0;for(var i in ngClicks){var ngClick=ngClicks[i];if(ngClick.attributes&&ngClick.attributes["ng-click"]&&ngClick.attributes["ng-click"].textContent.startsWith("grid.appScope")){clickCommand=ngClick.attributes["ng-click"].textContent;break}}if(!clickCommand)return null;var _ret2=function(){var parenthesesOpenIndex=clickCommand.indexOf("("),funcName=clickCommand.substr(0,parenthesesOpenIndex),paramsString=clickCommand.substr(parenthesesOpenIndex).split("(").join("").split(")").join("").trim(),param=_.get(objScope,paramsString),funcThis=_.get(objScope,funcName.substr(0,funcName.lastIndexOf("."))),func=_.get(objScope,funcName).bind(funcThis);return{v:{"do":function(){func(param)}}}}();if("object"==typeof _ret2)return _ret2.v}}},_getAdditionalActions:{value:function($trigger,row,grid){for(var objScope={row:row,grid:grid},additionalCommands=[],additionalElems=$trigger.parent().parent().find("[cm-aditional-action]"),i=0;i<additionalElems.length;i++){var elem=additionalElems[i],clickCommand=elem.attributes["ng-click"].textContent,icon=elem.attributes["class"].textContent,commandName=elem.attributes["cm-aditional-action"].textContent;clickCommand&&!function(){var parenthesesOpenIndex=clickCommand.indexOf("("),funcName=clickCommand.substr(0,parenthesesOpenIndex),paramsString=clickCommand.substr(parenthesesOpenIndex).split("(").join("").split(")").join("").trim(),param=_.get(objScope,paramsString),funcThis=_.get(objScope,funcName.substr(0,funcName.lastIndexOf("."))),func=_.get(objScope,funcName).bind(funcThis);additionalCommands.push({name:commandName,icon:icon,"do":function(){func(param)}})}()}return additionalCommands}}}),JFrogGridFactory}()},function(module,exports){module.exports='<div ng-class="{ \'sortable\': sortable, \'sorting-active\': col.sort.direction }">\n    <!-- <div class="ui-grid-vertical-bar">&nbsp;</div> -->\n    <div class="ui-grid-cell-contents" col-index="renderIndex">\n        <span>{{ col.displayName CUSTOM_FILTERS }}</span>\n\n    <span ui-grid-visible="col.sort.direction" ng-class="{ \'ui-grid-icon-up-dir\': col.sort.direction == asc, \'ui-grid-icon-down-dir\': col.sort.direction == desc, \'ui-grid-icon-blank\': !col.sort.direction }">\n      &nbsp;\n    </span>\n    </div>\n\n    <div class="ui-grid-column-menu-button" ng-if="grid.options.enableColumnMenus && !col.isRowHeader  && col.colDef.enableColumnMenu !== false" ng-click="toggleMenu($event)" ng-class="{\'ui-grid-column-menu-button-last-col\': isLastCol}">\n        <i class="ui-grid-icon-angle-down">&nbsp;</i>\n    </div>\n\n    <div ui-grid-filter></div>\n</div>'},function(module,exports){module.exports='<div ng-class="{ \'sortable\': sortable, \'sorting-active\': col.sort.direction }">\n    <!-- <div class="ui-grid-vertical-bar">&nbsp;</div> -->\n    <div class="ui-grid-cell-contents" col-index="renderIndex">\n        <!--<span>{{ col.displayName CUSTOM_FILTERS }}</span>-->\n        <span>{{ col.displayName}}</span>\n        <div class="group-button icon-grouping-off"\n             jf-tooltip="Group By"\n             ng-click="grid.api.grouping.clearGrouping(); grid.api.grouping.groupColumn(col.displayName)"\n             ng-if="!grid.options.subRowsEnabled && grid.api.grid.rows.length > 0 && grid.api.grid.rows[0].entity._emptyRow === undefined &&\n             (!grid.api.grouping.getGrouping().grouping.length || grid.api.grouping.getGrouping().grouping[0].colName != col.displayName)"></div>\n        <div class="group-button icon-grouping-on"\n             jf-tooltip="Ungroup"\n             ng-click="grid.api.grouping.clearGrouping()"\n             ng-if="!grid.options.subRowsEnabled && grid.api.grid.rows.length>0 && grid.api.grid.rows[0].entity._emptyRow === undefined && grid.api.grouping.getGrouping().grouping.length\n             && grid.api.grouping.getGrouping().grouping[0].colName==col.displayName"></div>\n        <span ui-grid-visible="col.sort.direction" ng-class="{ \'ui-grid-icon-up-dir\': col.sort.direction == asc, \'ui-grid-icon-down-dir\': col.sort.direction == desc, \'ui-grid-icon-blank\': !col.sort.direction }">\n          &nbsp;\n        </span>\n    </div>\n\n    <!--<div class="ui-grid-column-menu-button" ng-if="grid.options.enableColumnMenus && !col.isRowHeader  && col.colDef.enableColumnMenu !== false" ng-click="toggleMenu($event)" ng-class="{\'ui-grid-column-menu-button-last-col\': isLastCol}">-->\n    <!--<i class="ui-grid-icon-angle-down">&nbsp;</i>-->\n    <!--</div>-->\n\n    <div ui-grid-filter></div>\n</div>'},function(module,exports,__webpack_require__){"use strict";var JFrogModal=__webpack_require__(106).JFrogModal;module.exports=angular.module("jfrog_modal",["ui.bootstrap"]).service("JFrogModal",JFrogModal)},function(module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};Object.defineProperty(exports,"__esModule",{value:!0});var WizardController=(exports.JFrogModal=function(){function JFrogModal($modal,$rootScope,$injector,$q,$sce,$timeout,JFrogEventBus,JFrogUILibConfig,JFrogUIUtils){_classCallCheck(this,JFrogModal),this.modal=$modal,this.$rootScope=$rootScope,this.$q=$q,this.$timeout=$timeout,this.$sce=$sce,this.templatesBaseUrl="ui_components/jfrog_modal/templates/",this.JFrogUILibConfig=JFrogUILibConfig,this.JFrogEventBus=JFrogEventBus,this.JFrogUIUtils=JFrogUIUtils,this.$injector=$injector,this.EVENTS=JFrogEventBus.getEventsDefinition()}return JFrogModal.$inject=["$modal","$rootScope","$injector","$q","$sce","$timeout","JFrogEventBus","JFrogUILibConfig","JFrogUIUtils"],_createClass(JFrogModal,{launchModal:{value:function(templateUri,scope,size,_x,options){var cancelable=void 0===arguments[3]||arguments[3];size||(size="lg");var customTemplate=!0;templateUri.startsWith("@")&&(customTemplate=!1,templateUri=templateUri.substr(1));var customTemplatesBaseUrl=this.JFrogUILibConfig.getConfig().customModalTemplatesPath;customTemplatesBaseUrl&&!customTemplatesBaseUrl.endsWith("/")&&(customTemplatesBaseUrl+="/");var templateUrl=(customTemplate?customTemplatesBaseUrl:this.templatesBaseUrl)+templateUri+".html",modalObj={templateUrl:templateUrl,scope:scope,size:size};return this._launch(modalObj,scope,size,cancelable,options)}},launchModalWithTemplateMarkup:{value:function(templateMarkup,scope,size,_x,options){var cancelable=void 0===arguments[3]||arguments[3];size||(size="lg");var modalObj={template:templateMarkup,scope:scope,size:size};return this._launch(modalObj,scope,size,cancelable,options)}},_launch:{value:function(modalObj,scope,size,cancelable,options){var _this=this;cancelable||(modalObj.backdrop="static",modalObj.keyboard=!1),options&&_.isObject(options)&&_.extend(modalObj,options);var focused=$(":focus");focused.length&&focused.blur();var modalInstance=this.modal.open(modalObj);this.JFrogEventBus.registerOnScope(this.$rootScope,this.EVENTS.CLOSE_MODAL,function(){modalInstance.dismiss()}),"number"==typeof size&&this.$timeout(function(){$(".modal-dialog").css("max-width",size)}),this._calculateMaxHeight();var keyDownBinded=this._onKeyDown.bind(this);return modalInstance.result&&modalInstance.result.then(function(){},function(){_this.modalIsClosing=!0})["finally"](function(){_this.modalIsClosing=!0,$(window).off("resize",_this._calculateMaxHeight()),$(document).off("keydown",keyDownBinded)}),$(window).resize(function(){_this._calculateMaxHeight()}),$(document).on("keydown",keyDownBinded),modalInstance}},_onKeyDown:{value:function(event){var target=$(event.target);13===event.keyCode&&void 0===target.attr("jf-enter-press")&&($(".wizard-modal").length?this._clickFirstFoundButton([".wizard-modal button#wizard-popup-next",".wizard-modal button#wizard-popup-next-custom",".wizard-modal button#wizard-popup-finish"]):this._clickFirstFoundButton([".modal-dialog button.btn-primary:not(.ignore-enter)"]),event.preventDefault())}},_clickFirstFoundButton:{value:function(selectorsArray){for(var i in selectorsArray){var selector=selectorsArray[i];if($(selector).length){$(selector).is("[disabled]")||$(selector).click();break}}}},_calculateMaxHeight:{value:function(isWizardStep){return this.modalIsClosing?void(this.modalIsClosing=!1):(isWizardStep&&$(".modal-body").hide(),void this.resizeModalBodyInNextCycle())}},resizeModalBodyInNextCycle:{value:function(){var _this=this;this.$timeout(function(){var modal=$(".modal-content"),modalBody=modal.find(".modal-body"),wizardModalContainer=modal.find(".wizard-modal");wizardModalContainer.length>0?(modalBody.hide(),_this.resizeWizardModalBody(modal,wizardModalContainer,modalBody),modalBody.show()):_this.resizeAnyModalBody(modal,modalBody)})}},resizeAnyModalBody:{value:function(modal,modalBody){var modalOffsetTop=110,viewPortHeight=window.innerHeight,modalHeight=viewPortHeight-2*modalOffsetTop;this.setModalBodyMaxHeight(modal,modalBody,modalHeight)}},resizeWizardModalBody:{value:function(modal,wizardContainer,modalBody){var modalHeight=wizardContainer.height();this.setModalBodyMaxHeight(modal,modalBody,modalHeight)}},setModalBodyMaxHeight:{value:function(modal,modalBody,modalHeight){var headerHeight=modal.find(".modal-header").outerHeight()||0,footerHeight=modal.find(".modal-footer").outerHeight()||0,maxHeight=modalHeight-headerHeight-footerHeight;modalBody.css("max-height",maxHeight)}},oldResize:{value:function(){this.$timeout(function(){if($(".wizard-modal").length>0){var MH=$(".wizard-modal").height(),_HH=$(".modal-header").outerHeight()||0,_FH=$(".modal-footer").outerHeight()||0,_maxHeight=MH-_HH-_FH;return void $(".modal-body").css("max-height",_maxHeight)}var VPH=window.innerHeight,MOT=110,HH=$(".modal-header").outerHeight()||0,FH=$(".modal-footer").outerHeight()||0,maxHeight=VPH-2*MOT-HH-FH;$(".modal-body").css("max-height",maxHeight)},100)}},launchCodeModal:{value:function(title,content,mode){var beforeMessage=void 0===arguments[3]?void 0:arguments[3],objectName=void 0===arguments[4]?void 0:arguments[4],modalInstance=void 0,modalScope=this.$rootScope.$new();return modalScope.closeModal=function(){return modalInstance.close()},modalScope.content=content,modalScope.mode=mode,modalScope.title=title,modalScope.beforeMessage=beforeMessage,modalScope.objectName=objectName,modalInstance=this.launchModal("@code_modal",modalScope)}},confirm:{value:function(content,title,buttons,checkboxLabel,checkBoxChangeListener){buttons=buttons||{},buttons.confirm=buttons.confirm||"Confirm",buttons.cancel=buttons.cancel||"Cancel",title=title||"Are you sure?";var modalScope=this.$rootScope.$new();return modalScope.buttons=buttons,modalScope.content=content,modalScope.title=title,modalScope.checkboxLabel=checkboxLabel,modalScope.checkbox={checked:!1},modalScope.onCheckboxStateChange=function(state){checkBoxChangeListener&&checkBoxChangeListener(state,modalScope)},this.launchModal("@confirm_modal",modalScope,"sm").result}},launchWizard:{value:function(wizardDefinitionObject){var wizardModalScope=this.$rootScope.$new();wizardModalScope.$wizardDef=wizardDefinitionObject,WizardController.prototype.JFrogModal=this,wizardModalScope.$wizardCtrl=new WizardController(wizardDefinitionObject),wizardDefinitionObject.controller.prototype.$wizardCtrl=wizardModalScope.$wizardCtrl;var controllerInstance=this.$injector.instantiate(wizardDefinitionObject.controller),controllerObject={};controllerObject[wizardDefinitionObject.controllerAs||"ctrl"]=controllerInstance,_.extend(wizardModalScope,controllerObject),wizardModalScope.$wizardCtrl.$userCtrl=controllerInstance;var modalInstance=this.launchModal("@wizard_modal",wizardModalScope,wizardDefinitionObject.size||"lg",wizardDefinitionObject.cancelable&&wizardDefinitionObject.backdropCancelable,wizardDefinitionObject.modalOptions);return wizardModalScope.$wizardCtrl.$modalInstance=modalInstance,modalInstance.result["catch"](function(reason){reason&&wizardModalScope.$wizardCtrl.cancel()}),modalInstance.result}}}),JFrogModal}(),function(){function WizardController(wizardDefinitionObject,modalInstance){if(_classCallCheck(this,WizardController),this.currentStep=1,this.wizardDefinitionObject=wizardDefinitionObject,this.totalSteps=wizardDefinitionObject.steps.length,this.wizardDefinitionObject.initialStep){var index=_.findIndex(wizardDefinitionObject.steps,{id:this.wizardDefinitionObject.initialStep});this.currentStep=index+1}this.doNotShowWizardAgain=this.wizardDefinitionObject.doNotShowWizardAgain}return _createClass(WizardController,{cancel:{value:function(){this.$userCtrl.onCancel&&this.$userCtrl.onCancel(),this.$modalInstance.dismiss()}},titleInit:{value:function(){this.$userCtrl.onWizardShow&&this.$userCtrl.onWizardShow(this.wizardDefinitionObject.steps[this.currentStep-1])}},nextStep:{value:function(skip){var _this=this;if(this.$userCtrl.onStepChange){var response=this.$userCtrl.onStepChange(this.wizardDefinitionObject.steps[this.currentStep],this.wizardDefinitionObject.steps[this.currentStep-1],skip?"skip":"next");
response&&response.then?(this.pending=!0,response.then(function(pRes){pRes!==!1&&_this.currentStep++,_this.$userCtrl.afterStepChange&&_this.$userCtrl.afterStepChange(_this.wizardDefinitionObject.steps[_this.currentStep-1],_this.wizardDefinitionObject.steps[_this.currentStep-2],skip?"skip":"next"),_this.pending=!1})["catch"](function(){_this.pending=!1})):response!==!1&&(this.currentStep++,this.$userCtrl.afterStepChange&&this.$userCtrl.afterStepChange(this.wizardDefinitionObject.steps[this.currentStep-1],this.wizardDefinitionObject.steps[this.currentStep-2],skip?"skip":"next"))}else this.currentStep++;this.JFrogModal._calculateMaxHeight(!0)}},prevStep:{value:function(){var _this=this;if(this.$userCtrl.onStepChange){var response=this.$userCtrl.onStepChange(this.wizardDefinitionObject.steps[this.currentStep-2],this.wizardDefinitionObject.steps[this.currentStep-1],"prev");response&&response.then?(this.pending=!0,response.then(function(pRes){pRes!==!1&&_this.currentStep--,_this.$userCtrl.afterStepChange&&_this.$userCtrl.afterStepChange(_this.wizardDefinitionObject.steps[_this.currentStep-1],_this.wizardDefinitionObject.steps[_this.currentStep],"prev"),_this.pending=!1})["catch"](function(){_this.pending=!1})):response!==!1&&(this.currentStep--,this.$userCtrl.afterStepChange&&this.$userCtrl.afterStepChange(this.wizardDefinitionObject.steps[this.currentStep-1],this.wizardDefinitionObject.steps[this.currentStep],"prev"))}else this.currentStep--;this.JFrogModal._calculateMaxHeight(!0)}},finish:{value:function(){this.$userCtrl.onComplete&&this.$userCtrl.onComplete(),this.$modalInstance.close()}},isFunction:{value:function(val){return _.isFunction(val)}},preventShowingWizardAgain:{value:function(){this.doNotShowWizardAgain&&this.doNotShowWizardAgain.globalFlagName&&(localStorage[this.doNotShowWizardAgain.globalFlagName]=!0,this.finish())}}}),WizardController}())},function(module,exports,__webpack_require__){"use strict";var JFrogUploaderFactory=__webpack_require__(108).JFrogUploaderFactory,jfFileDrop=__webpack_require__(109).jfFileDrop;module.exports=angular.module("jfrog.uploader",["angularFileUpload"]).service("JFrogUploaderFactory",JFrogUploaderFactory).directive("jfFileDrop",jfFileDrop)},function(module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};Object.defineProperty(exports,"__esModule",{value:!0});var controller=void 0,JFrogUploader=function(){function JFrogUploader(FileUploader,_controller_){_classCallCheck(this,JFrogUploader),controller=_controller_,this.fileUploader=new FileUploader}return JFrogUploader.$inject=["FileUploader","_controller_"],_createClass(JFrogUploader,{setUrl:{value:function(path){return this.fileUploader.url=path,this}},getUploader:{value:function(){return this.fileUploader}},setOnAfterAddingFile:{value:function(func){return this.fileUploader.onAfterAddingFile=func.bind(controller),this}},setOnWhenAddingFileFailed:{value:function(func){return this.fileUploader.onWhenAddingFileFailed=func.bind(this),this}},setOnAfterAddingAll:{value:function(func){return this.fileUploader.onAfterAddingAll=func.bind(controller),this}},setOnBeforeUploadItem:{value:function(func){return this.fileUploader.onBeforeUploadItem=func.bind(controller),this}},setOnProgressItem:{value:function(func){return this.fileUploader.onProgressItem=func.bind(controller),this}},setOnSuccessItem:{value:function(func){return this.fileUploader.onSuccessItem=func.bind(controller),this}},setOnErrorItem:{value:function(func){return this.fileUploader.onErrorItem=func.bind(controller),this}},setOnCancelItem:{value:function(func){return this.fileUploader.onCancelItem=func.bind(controller),this}},setOnCompleteItem:{value:function(func){return this.fileUploader.onCompleteItem=func.bind(controller),this}},setOnProgressAll:{value:function(func){return this.fileUploader.onProgressAll=func.bind(controller),this}},setOnCompleteAll:{value:function(func){return this.fileUploader.onCompleteAll=func.bind(controller),this}},getQueue:{value:function(){return this.fileUploader.queue||[]}},clearQueue:{value:function(){this.fileUploader.queue=[]}},uploadAll:{value:function(){this.fileUploader.uploadAll()}},removeFileFromQueue:{value:function(fileItem){return this.fileUploader.removeFromQueue(fileItem),this.fileUploader.queue}}}),JFrogUploader}();exports.JFrogUploaderFactory=function(){function JFrogUploaderFactory(FileUploader){_classCallCheck(this,JFrogUploaderFactory),this.fileUploader=FileUploader}return _createClass(JFrogUploaderFactory,{getUploaderInstance:{value:function(controller){return new JFrogUploader(this.fileUploader,controller)}}}),JFrogUploaderFactory}()},function(module,exports){"use strict";function jfFileDrop($timeout){var _this=this;return{scope:{jfFileUploader:"=",jfFileDisabled:"=ngDisabled",addCallback:"&jfAddingFileCallback",showProgressBar:"=",showFileSize:"=?",multiple:"=?",onFileRemove:"&",checkboxesName:"=?"},restrict:"E",templateUrl:"ui_components/jfrog_uploader/jf_file_drop.html",link:function($scope,$element){$scope.multiple&&$timeout(function(){var el=$($element).find("input[nv-file-select]");el.attr("multiple",!0)}),$scope.jfFileUploader.onAfterAddingFile=function(fileItem){$scope.multiple||($scope.jfFileUploader.queue=[fileItem]),$scope.addCallback({fileItem:fileItem})},$scope.jfFileUploader.multiUploadItemRemoved=function(){_this.jfFileUploader.queue.length||(_this.uploadCompleted=!1)},$scope.jfFileUploader.anyFileUploadInProgress=function(){return _.findWhere(_this.jfFileUploader.queue,function(item){return item.progress===!0})},$scope.removeItemCallback=function(fileItem){$scope.onFileRemove({fileItem:fileItem})}}}}exports.jfFileDrop=jfFileDrop,Object.defineProperty(exports,"__esModule",{value:!0}),jfFileDrop.$inject=["$timeout"]},function(module,exports,__webpack_require__){"use strict";var JFrogTableViewOptions=__webpack_require__(111).JFrogTableViewOptions,jfTableView=__webpack_require__(114).jfTableView,jfTableRow=__webpack_require__(115).jfTableRow,jfTableViewBatchActions=__webpack_require__(116).jfTableViewBatchActions,jfTableCompiledCell=__webpack_require__(117).jfTableCompiledCell,jfTableTop=__webpack_require__(118).jfTableTop;module.exports=angular.module("jfrog_table_view",[]).directive("jfTableView",jfTableView).directive("jfTableRow",jfTableRow).directive("jfTableViewBatchActions",jfTableViewBatchActions).directive("jfTableCompiledCell",jfTableCompiledCell).directive("jfTableTop",jfTableTop).factory("JFrogTableViewOptions",JFrogTableViewOptions)},function(module,exports,__webpack_require__){"use strict";function JFrogTableViewOptions($q,$timeout,$rootScope,$modal,$state,JFrogDownload,JFrogModal,JFrogUIUtils){"ngInject";function createContextMenu(){$.contextMenu({selector:".jf-table-view .jf-table-row:not(.headers)",build:function($trigger,e){var rowCtrl=angular.element($trigger[0]).controller("jfTableRow"),tableOptions=rowCtrl.tableView.options,row=rowCtrl.data,allActions=_.filter(tableOptions.actions,function(act){return row&&(!act.visibleWhen||act.visibleWhen(row))}),editAction=getEditAction($trigger,row,tableOptions),additionalActions=getAdditionalActions($trigger,row,tableOptions);if((allActions.length||editAction||0!==additionalActions.length)&&row){var cmItems={};editAction&&(cmItems["*edit*"]={name:"Edit",icon:"artifactory-edit"});var getIconName=function(classdef){if(void 0===classdef)return"";var iconName=void 0,classes=classdef.split(" ");return classes.forEach(function(cls){cls.startsWith("icon-")&&(iconName=cls.substr(5))}),iconName};if(additionalActions)for(var i in additionalActions){var action=additionalActions[i];cmItems["@"+action.name]={name:action.name,icon:getIconName(action.icon)}}for(var actI in allActions){var act=allActions[actI];act.key=act.tooltip.split(" ").join("").toLowerCase(),cmItems[act.key]={name:act.tooltip,icon:getIconName(act.icon)}}return $timeout(function(){$(".context-menu-item").on("click",function(e){tableOptions.actionToDo&&($(e.target).trigger("contextmenu:hide"),$timeout(function(){tableOptions.actionToDo(),delete tableOptions.actionToDo},100))})}),{callback:function(key,options){return tableOptions.actionToDo=function(){if("*edit*"===key)editAction["do"]();else if(key.startsWith("@")){var actionName=key.substr(1),action=_.findWhere(additionalActions,{name:actionName});action["do"]()}else{var act=_.findWhere(allActions,{key:key});if(act.callback(row),act.href){var url=grid.options.getActionHref(act,row);url&&JFrogDownload(url)}}},!1},items:cmItems}}return!1}})}function getEditAction($trigger,row,tableOptions){var objScope={row:{entity:row},grid:tableOptions,appScope:tableOptions.appScope},editState=$trigger.find("[ui-sref]:not(.no-cm-action):not([cm-additional-action])").length?$trigger.parent().parent().find("[ui-sref]:not(.no-cm-action):not([cm-additional-action])")[0].attributes["ui-sref"].textContent:null;if(editState){var _ret=function(){var stateAndParams=_getStateAndParamsFromUISrefString(editState,objScope);return{v:{"do":function(){$state.go(stateAndParams.state,stateAndParams.stateParams)}}}}();if("object"==typeof _ret)return _ret.v}else{var ngClicks=$trigger.find("[ng-click]:not(.no-cm-action):not([cm-additional-action])"),clickCommand=void 0;for(var i in ngClicks){var ngClick=ngClicks[i];if(ngClick.attributes&&ngClick.attributes["ng-click"]&&(ngClick.attributes["ng-click"].textContent.startsWith("grid.appScope.")||ngClick.attributes["ng-click"].textContent.startsWith("appScope."))){clickCommand=ngClick.attributes["ng-click"].textContent;break}}if(!clickCommand)return null;var _ret2=function(){var parenthesesOpenIndex=clickCommand.indexOf("("),funcName=clickCommand.substr(0,parenthesesOpenIndex),paramsString=clickCommand.substr(parenthesesOpenIndex).split("(").join("").split(")").join("").trim(),params=_.map(paramsString.split(","),function(paramString){return _.get(objScope,_.trim(paramString))}),funcThis=_.get(objScope,funcName.substr(0,funcName.lastIndexOf("."))),func=_.get(objScope,funcName).bind(funcThis);return{v:{"do":function(){func.apply(null,params)}}}}();if("object"==typeof _ret2)return _ret2.v}}function getAdditionalActions($trigger,row,tableOptions){for(var objScope={row:{entity:row},grid:tableOptions,appScope:tableOptions.appScope},additionalCommands=[],additionalElems=$trigger.find("[cm-additional-action]"),i=0;i<additionalElems.length;i++){var elem=additionalElems[i],clickCommand=elem.attributes["ng-click"]?elem.attributes["ng-click"].textContent:void 0,srefLink=elem.attributes["ui-sref"]?elem.attributes["ui-sref"].textContent:void 0,icon=elem.attributes["cm-additional-action-icon"]?elem.attributes["cm-additional-action-icon"].textContent:void 0,commandName=elem.attributes["cm-additional-action"].textContent;commandName&&clickCommand?!function(){var parenthesesOpenIndex=clickCommand.indexOf("("),funcName=clickCommand.substr(0,parenthesesOpenIndex),paramsString=clickCommand.substr(parenthesesOpenIndex).split("(").join("").split(")").join("").trim(),params=_.map(paramsString.split(","),function(paramString){return _.get(objScope,_.trim(paramString))}),funcThis=_.get(objScope,funcName.substr(0,funcName.lastIndexOf("."))),func=_.get(objScope,funcName).bind(funcThis);additionalCommands.push({name:commandName,icon:icon,"do":function(){func.apply(null,params)}})}():commandName&&srefLink&&!function(){var stateAndParams=_getStateAndParamsFromUISrefString(srefLink,objScope),func=function(){$state.go(stateAndParams.state,stateAndParams.stateParams)};additionalCommands.push({name:commandName,icon:icon,"do":function(){func()}})}()}return additionalCommands}function _getStateAndParamsFromUISrefString(uiSrefContent,objScope){var parenthesesOpenIndex=uiSrefContent.indexOf("("),state=uiSrefContent.substr(0,parenthesesOpenIndex!==-1?parenthesesOpenIndex:void 0),paramsString=uiSrefContent.substr(parenthesesOpenIndex),openBraceIndex=paramsString.indexOf("{"),closeBraceIndex=paramsString.lastIndexOf("}"),paramsObj={};if(openBraceIndex!==-1&&closeBraceIndex!==-1){paramsString=paramsString.substr(openBraceIndex+1,closeBraceIndex-openBraceIndex-1);var paramsSplit=paramsString.split(",");paramsSplit.forEach(function(param){var keyVal=param.split(":"),key=keyVal[0].trim(),val=keyVal[1].trim();val.startsWith("row.")||val.startsWith("grid.")?val=_.get(objScope,val):val.startsWith("!row.")||val.startsWith("grid.")?val=!_.get(objScope,val):val.startsWith("'")?val=val.split("'").join(""):val.startsWith('"')&&(val=val.split('"').join("")),paramsObj[key]=val})}return{state:state,stateParams:paramsObj}}createContextMenu();var JFrogTableViewOptionsClass=function(){function JFrogTableViewOptionsClass(appScope){_classCallCheck(this,JFrogTableViewOptionsClass),this.data=[],this.actions=[],this.columns=[],this.listeners={},this.supportedEvents=["pagination.change","selection.change","row.clicked","row.dragged","row.in.view"],this.appScope=appScope,this.NO_SELECTION=0,this.SINGLE_SELECTION=1,this.MULTI_SELECTION=2,this.PAGINATION=0,this.VIRTUAL_SCROLL=1,this.EXTERNAL_PAGINATION=2,this.INFINITE_SCROLL=3,this.INFINITE_VIRTUAL_SCROLL=4,this._setDefaults()}return JFrogTableViewOptionsClass.$inject=["appScope"],_createClass(JFrogTableViewOptionsClass,{_setDefaults:{value:function(){defaultAppOptions?(this.objectName=defaultAppOptions.objectName,this.emptyTableText=defaultAppOptions.emptyTableText,this.rowHeight=defaultAppOptions.rowHeight,this.headerRowHeight=defaultAppOptions.headerRowHeight,this.rowsPerPage=defaultAppOptions.rowsPerPage,this.sortable=defaultAppOptions.sortable,this.selectionMode=defaultAppOptions.selectionMode,this.paginationMode=defaultAppOptions.paginationMode,this.actionButtonSize=defaultAppOptions.actionButtonSize,this.selectionColumnWidth=defaultAppOptions.selectionColumnWidth,this.resizableColumns=defaultAppOptions.resizableColumns,this.defaultFilterByAll=defaultAppOptions.defaultFilterByAll,this.columnsCustomization=defaultAppOptions.columnsCustomization,this.headersVisible=defaultAppOptions.headersVisible,this.filterVisible=defaultAppOptions.filterVisible,this.paginationVisible=defaultAppOptions.paginationVisible,this.autoFocusFilter=defaultAppOptions.autoFocusFilter,this.noCount=defaultAppOptions.noCount,this.tooltipFilterDisabled=defaultAppOptions.tooltipFilterDisabled,this.subRowsEnabled=defaultAppOptions.subRowsEnabled,this.draggableRows=defaultAppOptions.draggableRows,this.rowInViewDebounceTime=defaultAppOptions.rowInViewDebounceTime):(this.objectName="Item",this.rowHeight="50px",this.headerRowHeight="50px",this.rowsPerPage=25,this.sortable=!0,this.selectionMode=this.NO_SELECTION,this.paginationMode=this.PAGINATION,this.actionButtonSize=50,this.selectionColumnWidth=50,this.resizableColumns=!0,this.defaultFilterByAll=!0,this.columnsCustomization=!1,this.headersVisible=!0,this.filterVisible=!0,this.paginationVisible=!0,this.autoFocusFilter=!1,this.noCount=!1,this.draggableRows=!1,this.rowInViewDebounceTime=500)}},on:{value:function(event,listener){return _.includes(this.supportedEvents,event)?(this.listeners[event]||(this.listeners[event]=[]),void this.listeners[event].push(listener)):void console.error("jf-table-view: Unsupported Event: "+event)}},off:{value:function(event,listener){return _.includes(this.supportedEvents,event)?void(this.listeners[event]&&(listener?_.remove(this.listeners[event],function(l){return l===listener}):this.listeners[event]=[])):void console.error("jf-table-view: Unsupported Event: "+event)}},hasListenersFor:{value:function(event){return!!this.listeners[event]}},fire:{value:function(event){for(var _len=arguments.length,params=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)params[_key-1]=arguments[_key];this.listeners[event]&&this.listeners[event].forEach(function(listener){return listener.apply(void 0,params)}),"selection.change"===event&&(this.onSelectionChange&&this.onSelectionChange(),this.onSelectionChangeBatch&&this.onSelectionChangeBatch())}},setData:{value:function(data,internalCall){return this.paginationMode===this.EXTERNAL_PAGINATION&&"$$internal$$"!==internalCall?console.error("When using external pagination, you should not call setData directly !"):this.paginationMode===this.INFINITE_SCROLL&&"$$internal$$"!==internalCall?console.error("When using infinite scroll, you should not call setData directly !"):(this.origData=_.sortBy(data,""),this.subRowsEnabled?this.data=this._transformDataForSubRowsSupport(data,!0):this.data=data,this.data||(this.data=[]),this.update()),this.dataWasSet=!0,(this.paginationMode===this.VIRTUAL_SCROLL||this.paginationMode===this.INFINITE_VIRTUAL_SCROLL&&"$$internal$$"!==internalCall)&&this.dirCtrl&&this.dirCtrl.vsApi.reset(),this.dirCtrl&&this.dirCtrl._fireDebouncedRowsInView(),this}},_transformDataForSubRowsSupport:{value:function(data,autoExpand){var _this=this,rowsToExpand=[];return data.forEach(function(row){row.$subRows&&(row.$expandable=!0,_.isArray(row.$subRows)?(row.$subRows.forEach(function(sub){sub.$parentRow=row}),row.$expanded&&rowsToExpand.push(row)):_.isFunction(row.$subRows)&&!function(){var origFunc=row.$subRows;row.$subRows=function(){var promise=origFunc();return row.$pendingSubRows=!0,promise.then(function(subRows){subRows.forEach(function(sub){sub.$parentRow=row}),row.$subRows=subRows,delete row.$pendingSubRows}),promise},row.$expanded&&row.$subRows().then(function(){return _this._addSubRows(row,data)})}())}),autoExpand&&rowsToExpand.forEach(function(row){return _this._addSubRows(row,data)}),data}},toggleExpansion:{value:function(row){var _this=this;_.isFunction(row.$subRows)?row.$subRows().then(function(){return _this.toggleExpansion(row)}):row.$expandable?(row.$expanded=!row.$expanded,row.$expanded?this._addSubRows(row):this._removeSubRows(row)):row.$parentRow&&this.toggleExpansion(row.$parentRow)}},_addSubRows:{value:function(row){var addTo=void 0===arguments[1]?null:arguments[1];addTo=addTo||this.data;var index=_.indexOf(addTo,row)+1,newSubRows=_.filter(row.$subRows,function(subRow){return addTo.indexOf(subRow)===-1});Array.prototype.splice.apply(addTo,[index,0].concat(newSubRows)),this.refreshFilter(),this.update()}},_removeSubRows:{value:function(row){var _this=this;row.$subRows&&row.$subRows.forEach(function(subRow){var index=_this.data.indexOf(subRow);index>=0&&_this.data.splice(index,1)}),this.refreshFilter(),this.update()}},showCounter:{value:function(){var show=void 0===arguments[0]||arguments[0];return this.noCount=!show,this}},showFilter:{value:function(){var show=void 0===arguments[0]||arguments[0];return this.filterVisible=show,this}},showPagination:{value:function(){var show=void 0===arguments[0]||arguments[0];return this.paginationVisible=show,this}},setRowsPerPage:{value:function(rpp){return this.rowsPerPage=rpp,this}},enableColumnsResize:{value:function(){var enabled=void 0===arguments[0]||arguments[0];return this.resizableColumns=enabled,this}},enableSubRows:{value:function(){return this.subRowsEnabled=!0,this}},update:{value:function(){var noSort=void 0!==arguments[0]&&arguments[0],noGrouping=void 0!==arguments[1]&&arguments[1];if(this.dirCtrl){noGrouping||this.refreshGrouping(),this.origData=_.sortBy(this.data,""),noSort?this.dirCtrl.refresh():this.sortBy(this.sortByField,!0),this._normalizeWidths();var temp=_.cloneDeep(this.headersRow);this.headersRow=temp,this.refreshFilter(!0)}}},setObjectName:{value:function(objectName){var useAn=void 0!==arguments[1]&&arguments[1];return this.objectName=objectName,this.useAnWithObjectName=useAn,this}},setRowClassAttr:{value:function(rowClassAttr){return this.rowClassAttr=rowClassAttr,this}},setRowInViewDebounceTime:{value:function(debounceTime){return this.rowInViewDebounceTime=debounceTime,this}},setNewEntityAction:{value:function(newEntityCallback){return this.newEntityCallback=newEntityCallback,this}},filterColumns:{value:function(columns){var _this=this;return _.filter(columns,function(col){return(!col.isVisible||col.isVisible())&&(!_this.visibleFields||_this.visibleFields.indexOf(col.field)!==-1)})}},setNoFilterResultsMessage:{value:function(message){this.noFilterResultsText=message}},setColumns:{value:function(columns){var _this=this;this.defaultFilterByAll=!_.filter(columns,function(c){return c.filterable===!0}).length,this.origColumnDefs||(this.origColumnDefs=_.cloneDeep(columns)),this.columnsCustomization&&!this.availableColumns&&(this.loadCustomizedColumnsState(),this.createAvailableColumnsArray(),this.updateCustomizedColumns(!1)),columns=this.filterColumns(columns),this.columns=columns;var actions=[];return this.columns.forEach(function(col){col.actions&&(col.customActions=col.customActions||[],_.forEach(col.actions,function(callback,key){var action=void 0;action=callback.visibleWhen?_this._getCommonAction(key,callback.callback,callback.visibleWhen):_this._getCommonAction(key,callback.callback||callback),col.customActions.push(action)})),col.customActions&&col.customActions.length&&(actions=actions.concat(col.customActions)),void 0===col.sortable&&(col.sortable=!0)}),actions.length&&!this.actionsAggregated&&(this.actionsAggregated=!0,this.setActions(this.actions.length?this.actions.concat(actions):actions)),this._sortableFields=_.map(_.filter(this.columns,function(c){return angular.isDefined(c.header)}),"field"),this.sortable&&!this.sortByField&&(this.sortByField=this._sortableFields?this._sortableFields[0]:void 0),this._normalizeWidths(),this._checkGroupingSupport(),this.showHeaders(this.headersVisible),this}},_checkGroupingSupport:{value:function(){var groupables=_.filter(this.columns,function(c){return!!c.allowGrouping});this.subRowsEnabled&&groupables.length?(console.error("jf-table-view: Grouping is not supported with sub rows !"),groupables.forEach(function(c){return c.allowGrouping=!1})):this.paginationMode===this.INFINITE_SCROLL&&groupables.length&&(console.error("jf-table-view: Grouping is not supported with infinite scroll !"),groupables.forEach(function(c){return c.allowGrouping=!1}))}},setRowHeight:{value:function(height,headerHeight){return this.rowHeight=height,this.headerRowHeight=headerHeight||height,this}},showHeaders:{value:function(){var _this=this,show=void 0===arguments[0]||arguments[0];return this.headersVisible=show,this.headersRow={},this.columns.forEach(function(column){column.header&&_.set(_this.headersRow,column.field,column.header)}),this}},setSelection:{value:function(selectionMode){return this.selectionMode=selectionMode,this._normalizeWidths(),this}},setPaginationMode:{value:function(pagiMode,paginationCallback){var _this=this;return this.paginationMode=pagiMode,this.paginationMode===this.EXTERNAL_PAGINATION?paginationCallback&&"function"==typeof paginationCallback?(this.externalPaginationCallback=paginationCallback,this.pendingExternalPaging=!0,this.dirCtrl&&!this.initialExternalPaginationSent&&$timeout(function(){return _this.sendExternalPageRequest()})):(console.error("Setting pagination mode to EXTERNAL_PAGINATION require pagination callback function as the second parameter of setPaginationMode"),this.paginationMode=this.PAGINATION):this.paginationMode!==this.INFINITE_SCROLL&&this.paginationMode!==this.INFINITE_VIRTUAL_SCROLL||(paginationCallback&&"function"==typeof paginationCallback?(this.infiniteScrollCallback=paginationCallback,this.showPagination(!1),this.showCounter(!1),this.showFilter(!1),this.setSortable(!1),this.infiniteScrollOffset=0,this.dirCtrl&&!this.initialInfiniteScrollRequestSent&&(!this.infiniteScrollChunkSize&&this.rowsPerPage&&(this.infiniteScrollChunkSize=this.rowsPerPage),$timeout(function(){return _this.sendInfiniteScrollRequest()}))):(console.error("Setting pagination mode to INFINITE_SCROLL require pagination callback function as the second parameter of setPaginationMode"),this.paginationMode=this.PAGINATION)),this._checkGroupingSupport(),this}},hasSelection:{value:function(){return _.includes([this.SINGLE_SELECTION,this.MULTI_SELECTION],this.selectionMode)}},getSelected:{value:function(){return _.filter(this.data,{$selected:!0})}},getSelectedCount:{value:function(){return this.getSelected().length}},sortBy:{value:function(field){var resort=void 0!==arguments[1]&&arguments[1],sendExternal=!1;return resort||this.sortByField!==field?resort||(this.revSort=!1):(this.revSort=!this.revSort,sendExternal=!0),this.sortByField!==field&&(sendExternal=!0),this.sortByField=field,this.externalSortCallback&&sendExternal?(this.externalSortCallback(field,this.revSort?"desc":"asc"),void(this.paginationMode===this.INFINITE_VIRTUAL_SCROLL&&(this.dirCtrl.vsApi.reset(),delete this.infiniteScrollHasMore,delete this.pendingInfiniteScroll,this.infiniteScrollOffset=0,this.setData([],"$$internal$$"),this.sendInfiniteScrollRequest()))):(this.paginationMode===this.EXTERNAL_PAGINATION&&sendExternal&&this.sendExternalPageRequest(),this.refreshSorting(),this)}},reverseSortingDir:{value:function(){return this.sortBy(this.sortByField),this}},setSortable:{value:function(){var sortable=void 0===arguments[0]||arguments[0];if(!sortable||!this.draggableRows||this.registeredTabularDnd)return this.sortable=sortable,sortable&&!this.sortByField?this.sortBy(this._sortableFields?this._sortableFields[0]:void 0):sortable||this.sortBy(void 0),this}},setDraggable:{value:function(callback){return this.draggableRows=!0,this.setSortable(!1),callback&&this.on("row.dragged",callback),this}},setActions:{value:function(actions){return this.actions=actions,this._normalizeWidths(),this}},setAutoFocusFilter:{value:function(){var autoFocus=void 0===arguments[0]||arguments[0];return this.autoFocusFilter=autoFocus,this}},setBatchActions:{value:function(batchActions){return this.batchActions=batchActions,this.setSelection(this.MULTI_SELECTION),this}},_setDirectiveController:{value:function(ctrl){var _this=this;this.dirCtrl=ctrl,this.update(),this.paginationMode===this.EXTERNAL_PAGINATION?($timeout(function(){return _this.sendExternalPageRequest()}),this.initialExternalPaginationSent=!0):this.paginationMode!==this.INFINITE_SCROLL&&this.paginationMode!==this.INFINITE_VIRTUAL_SCROLL||$timeout(function(){_this._initInfiniteScroll(),!_this.infiniteScrollChunkSize&&_this.rowsPerPage&&(_this.infiniteScrollChunkSize=_this.rowsPerPage),_this.sendInfiniteScrollRequest(),_this.initialInfiniteScrollRequestSent=!0}),this.dirCtrl._fireDebouncedRowsInView()}},_initInfiniteScroll:{value:function(){var _this=this,scrollParent=$(this.dirCtrl.$element).scrollParent(),EDGE=50;this.paginationMode===this.INFINITE_SCROLL?scrollParent.on("scroll",function(e){_this.infiniteScrollHasMore&&!_this.pendingInfiniteScroll&&_this.dirCtrl.$scope.$apply(function(){var bottomReached=!1;scrollParent[0]===document?$(window).scrollTop()+$(window).height()>=$(document).height()-EDGE&&(bottomReached=!0):scrollParent[0].scrollHeight-scrollParent.scrollTop()<=scrollParent[0].clientHeight+EDGE&&(bottomReached=!0),bottomReached&&(e.preventDefault(),_this.infiniteScrollOffset+=_this.infiniteScrollChunkSize,_this.rowsPerPage+=_this.infiniteScrollChunkSize,_this.sendInfiniteScrollRequest())})}):this.paginationMode===this.INFINITE_VIRTUAL_SCROLL&&this.dirCtrl.vsApi.registerBottomReachedListener(function(){var defer=$q.defer();return!_this.infiniteScrollHasMore||(_this.pendingInfiniteScroll?$q.reject():(_this.infiniteScrollOffset=_this.getRawData().length,_this.sendInfiniteScrollRequest().then(function(){defer.resolve()}),defer.promise))})}},getActionsContainerWidthInPixels:{value:function(){return this.actionButtonSize*(this.actions.length<=3||this.isRowActionGroupingDisabled?this.actions.length:1)}},_normalizeWidths:{value:function(){var _this=this,delay=void 0===arguments[0]||arguments[0],recurse=void 0!==arguments[1]&&arguments[1];if(this.dirCtrl){var actionsWidth=0,selectionWidth=0;this.actions&&(actionsWidth=this.getActionsContainerWidthInPixels()),this.hasSelection()&&(selectionWidth=this.selectionColumnWidth);var totalAbs=actionsWidth+selectionWidth,totalPerc=0,percsOfUnderThresholdColumns=0;this.columns.forEach(function(col){void 0===col.origWidth&&(col.origWidth=col.width);var width=col.origWidth;width&&width.trim().endsWith("%")?col.underWidthThresholde?percsOfUnderThresholdColumns+=parseFloat(width):totalPerc+=parseFloat(width):width&&width.trim().endsWith("px")?totalAbs+=parseFloat(width):void 0===width&&(col.origWidth=col.width=100/_this.columns.length+"%",totalPerc+=parseFloat(col.width))});var setNormalWidths=function(){var containerWidth=void 0;containerWidth=_this.data.length?$(_this.dirCtrl.$element).find(".jf-table-row").innerWidth():$(_this.dirCtrl.$element).find(".jf-table-view-container").width();var percSpace=containerWidth-totalAbs,normalizer=100/totalPerc,totalFinalPerc=(actionsWidth+selectionWidth)/containerWidth*100,shouldReCalc=!1;_this.columns.forEach(function(col){var width=col.origWidth;if(width&&width.trim().endsWith("%")){var origVal=parseFloat(width),newVal=normalizer*origVal*percSpace/100,normalizerIgnoringThreshold=100/(totalPerc+(col.underWidthThresholde?origVal:0)),newValIgnoringThreshold=normalizerIgnoringThreshold*origVal*percSpace/100;if(!col.underWidthThresholde&&col.pixelWidthThreshold&&newVal<col.pixelWidthThreshold)shouldReCalc=!0,col.underWidthThresholde=!0;else if(col.underWidthThresholde&&newValIgnoringThreshold>=col.pixelWidthThreshold)shouldReCalc=!0,delete col.underWidthThresholde;else if(col.underWidthThresholde)col.underWidthThresholde&&col.pixelWidthThreshold&&newValIgnoringThreshold<col.pixelWidthThreshold&&(col.width=0);else{var newPerc=newVal/containerWidth*100;col.width=newPerc+"%",totalFinalPerc+=newPerc}}else width&&(totalFinalPerc+=100*parseFloat(width)/containerWidth)}),shouldReCalc&&!recurse?_this._normalizeWidths(!1,!0):_this.ready=!0};delay?$timeout(function(){return setNormalWidths()}):setNormalWidths()}}},getDisplayNameForField:{value:function(field){var col=_.find(this.columns,{field:field});if(col)return col.header}},setEmptyTableText:{value:function(text){return this.emptyTableText=text,this}},setEmptyTableAction:{value:function(cb){return this.emptyTableAction=cb,this}},setEmptyTableCallToAction:{value:function(text){return this.emptyTableCallActionText=text,this}},disableFilterTooltip:{value:function(){return this.tooltipFilterDisabled=!0,this}},getSelectedRows:{value:function(){return _.filter(this.data,{$selected:!0})}},clearSelection:{value:function(){this.dirCtrl&&this.dirCtrl.clearSelection()}},groupBy:{value:function(field){return this.groupedBy=this.groupedBy===field?null:field,this.groupedBy?this.setFirstColumn(field):this.restoreColumnOrder(),this.openedGroupHeaders=[],this.groupedData=null,this.refreshGrouping(),this}},refreshGrouping:{value:function(){this.groupedData&&(this.openedGroupHeaders=_.filter(this.groupedData,{$groupHeader:{$expanded:!0}})),delete this.groupedData,this.refreshSorting()}},refreshFilter:{value:function(){var noGroupsRefresh=void 0!==arguments[0]&&arguments[0];delete this.filterCache,this.paginationMode===this.EXTERNAL_PAGINATION&&this.sendExternalPageRequest(),noGroupsRefresh||this.refreshGrouping()}},refreshSorting:{value:function(){delete this.sortedData}},refresh:{value:function(){this.refreshFilter()}},updateGroupExpansionState:{value:function(groupHeaderRow){var field=groupHeaderRow.$groupHeader.field,value=groupHeaderRow.$groupHeader.value,toRemove=_.filter(this.groupedData,function(row){return!row.$groupHeader&&_.get(row,field)==value});if(this.groupedData=_.difference(this.groupedData,toRemove),groupHeaderRow.$groupHeader.$expanded){var index=_.indexOf(this.groupedData,groupHeaderRow);Array.prototype.splice.apply(this.groupedData,[index+1,0].concat(this.fullGroupedData[value]))}this.update(!1,!0)}},setFirstColumn:{
value:function(field){this.restoreColumnOrder();var column=_.find(this.columns,{field:field}),index=this.columns.indexOf(column);column.$originalIndex=index,this.columns.splice(index,1),this.columns.splice(0,0,column)}},restoreColumnOrder:{value:function(){var originalIndex=this.columns[0]&&this.columns[0].$originalIndex;if(originalIndex){var temp=this.columns[0];this.columns.splice(0,1),this.columns.splice(originalIndex,0,temp)}}},getPageData:{value:function(){return this.paginationMode===this.PAGINATION?this.getPrePagedData().slice(this.dirCtrl.currentPage*this.rowsPerPage,this.dirCtrl.currentPage*this.rowsPerPage+this.rowsPerPage):this.paginationMode===this.VIRTUAL_SCROLL||this.paginationMode===this.INFINITE_VIRTUAL_SCROLL?this.dirCtrl.vsApi.getPageData():this.paginationMode===this.EXTERNAL_PAGINATION||this.paginationMode===this.INFINITE_SCROLL?this.getRawData():void 0}},sendExternalPageRequest:{value:function(){var _this=this;if(this.dirCtrl&&!_.isUndefined(this.dirCtrl.currentPage)){var paginationParams={pageNum:this.dirCtrl.currentPage,numOfRows:this.rowsPerPage,direction:this.sortByField?this.revSort?"desc":"asc":null,orderBy:this.sortByField,filter:this.dirCtrl.tableFilter||null,filterBy:_.map(this.getFilterables(),"field")};if(!_.isEqual(this.lastPaginationParams,paginationParams)){this.lastPaginationParams=paginationParams;var promise=this.externalPaginationCallback(paginationParams);promise&&promise.then?(this.pendingExternalPaging=!0,promise.then(function(pagedData){_this.setData(pagedData.data,"$$internal$$"),_this.externalTotalCount={total:pagedData.totalCount,filtered:pagedData.filteredCount},_this.pendingExternalPaging=!1,_this.dirCtrl.noFilterResults=0===_this.externalTotalCount.filtered&&_this.externalTotalCount.total>0})):console.error("External pagination callback should return promise")}}}},sendInfiniteScrollRequest:{value:function(){var _this=this;if(this.dirCtrl&&!this.pendingInfiniteScroll){var promise=this.infiniteScrollCallback({offset:this.infiniteScrollOffset,numOfRows:this.infiniteScrollChunkSize});return promise&&promise.then?(this.pendingInfiniteScroll=!0,promise.then(function(moreData){_this.setData(_this.data.concat(moreData.data),"$$internal$$"),_this.infiniteScrollHasMore=moreData.hasMore,_this.pendingInfiniteScroll=!1})):void console.error("Infinite scroll callback should return promise")}}},getTotalLengthOfData:{value:function(){return this.paginationMode===this.EXTERNAL_PAGINATION?this.externalTotalCount?this.externalTotalCount.filtered||0:0:this.getPrePagedData().length}},getFilterables:{value:function(){var filterables=void 0;return filterables=this.defaultFilterByAll?_.filter(this.columns,function(col){return col.filterable!==!1}):_.filter(this.columns,function(col){return col.filterable===!0})}},getFilterTooltip:{value:function(){if(this.columns&&this.columns.length){var filterables=this.getFilterables();return filterables.length===this.columns.length&&this.columns.length>1?"Filter by any column":"Filter by "+_.map(filterables,function(c){return c.header||_.startCase(c.field)}).join(", ")}return""}},_reorderStickies:{value:function(data){var stickies=_.filter(data,function(i){return i.$sticky});stickies.forEach(function(sticky){data.splice(data.indexOf(sticky),1)}),Array.prototype.splice.apply(data,[0,0].concat(stickies))}},_saveAndRemoveSubRows:{value:function(data){return this.subRowsEnabled?(this.savedSubRowsParents=_.filter(data,function(d){return d.$subRows&&d.$expanded}),_.filter(data,function(d){return!d.$parentRow})):data}},_reInsertSubRows:{value:function(data){var _this=this;if(!this.subRowsEnabled)return data;var newData=[].concat(data);return this.savedSubRowsParents&&this.savedSubRowsParents.forEach(function(parent){_this._addSubRows(parent,newData)}),newData}},getPrePagedData:{value:function(){return this.getSortedData(this.getGroupedData(this.getFilteredData(this.getRawData())))}},getSortedData:{value:function(sourceData){var _this=this;return this.paginationMode===this.EXTERNAL_PAGINATION||this.paginationMode===this.INFINITE_VIRTUAL_SCROLL||this.externalSortCallback||!this.sortByField?sourceData:(this.sortedData||!function(){sourceData=_this._saveAndRemoveSubRows(sourceData);var colObj=_.find(_this.columns,{field:_this.sortByField});if(colObj){if(colObj.sortingAlgorithm)if(_this.groupedData)if(_this.groupedBy===_this.sortByField)_this.sortedData=sourceData.sort(function(a,b){if(a.$groupHeader&&!b.$groupHeader&&a.$groupHeader.field===_this.sortByField&&a.$groupHeader.value===_.get(b,_this.sortByField))return-1;if(!a.$groupHeader&&b.$groupHeader&&b.$groupHeader.field===_this.sortByField&&b.$groupHeader.value===_.get(a,_this.sortByField))return 1;var valA=a.$groupHeader?a.$groupHeader.value:_.get(a,_this.sortByField),valB=b.$groupHeader?b.$groupHeader.value:_.get(b,_this.sortByField);return(_this.revSort?-1:1)*colObj.sortingAlgorithm(valA,valB,a,b,colObj)});else{for(var key in _this.fullGroupedData){var groupData=_this.fullGroupedData[key];groupData.sort(function(a,b){var valA=_.get(a,_this.sortByField),valB=_.get(b,_this.sortByField);return(_this.revSort?-1:1)*colObj.sortingAlgorithm(valA,valB,a,b,colObj)})}_this.groupedData.forEach(function(row){row.$groupHeader&&_this.updateGroupExpansionState(row)}),_this.sortedData=sourceData}else _this.sortedData=sourceData.sort(function(a,b){return(_this.revSort?-1:1)*colObj.sortingAlgorithm(_.get(a,_this.sortByField),_.get(b,_this.sortByField),a,b,colObj)});else if(colObj.sortBy)if(_this.groupedData)if(_this.groupedBy===_this.sortByField)_this.sortedData=_.sortBy(sourceData,function(row){return(_this.revSort?-1:1)*colObj.sortBy(row.$groupHeader.value,row)});else{for(var key in _this.fullGroupedData)_this.fullGroupedData[key]=_.sortBy(_this.fullGroupedData[key],function(row){return(_this.revSort?-1:1)*colObj.sortBy(_.get(row,_this.sortByField),row)});_this.groupedData.forEach(function(row){row.$groupHeader&&_this.updateGroupExpansionState(row)}),_this.sortedData=sourceData}else _this.sortedData=_.sortBy(sourceData,function(row){return(_this.revSort?-1:1)*colObj.sortBy(_.get(row,_this.sortByField),row)});else if(_this.groupedData)if(_this.groupedBy===_this.sortByField)_this.sortedData=sourceData.sort(function(a,b){if(a.$groupHeader&&!b.$groupHeader&&a.$groupHeader.field===_this.sortByField&&a.$groupHeader.value===_.get(b,_this.sortByField))return-1;if(!a.$groupHeader&&b.$groupHeader&&b.$groupHeader.field===_this.sortByField&&b.$groupHeader.value===_.get(a,_this.sortByField))return 1;var valA=a.$groupHeader?a.$groupHeader.value:_.get(a,_this.sortByField),valB=b.$groupHeader?b.$groupHeader.value:_.get(b,_this.sortByField);return(_this.revSort?-1:1)*(valA>valB?1:valA<valB?-1:0)});else{for(var key in _this.fullGroupedData){var groupData=_this.fullGroupedData[key];groupData.sort(function(a,b){var valA=_.get(a,_this.sortByField),valB=_.get(b,_this.sortByField);return(_this.revSort?-1:1)*(valA>valB?1:valA<valB?-1:0)})}_this.groupedData.forEach(function(row){row.$groupHeader&&_this.updateGroupExpansionState(row)}),_this.sortedData=sourceData}else _this.sortedData=_.sortByOrder(sourceData,function(item){var val=_.get(item,_this.sortByField);return _.isString(val)?val.toLowerCase():_.isArray(val)?val.length:val},!_this.revSort);_this.sortedData=_this._reInsertSubRows(_this.sortedData),_this._reorderStickies(_this.sortedData)}else _this.sortedData=[].concat(sourceData)}(),this.sortedData)}},getGroupedData:{value:function(sourceData){var _this=this;if(this.paginationMode!==this.EXTERNAL_PAGINATION&&this.groupedBy){if(!this.groupedData){this.setFirstColumn(this.groupedBy),this.fullGroupedData=_.groupBy(sourceData,this.groupedBy);var tempData=[],column=_.find(this.columns,{field:this.groupedBy});for(var key in this.fullGroupedData){var data=this.fullGroupedData[key];tempData.push({$groupHeader:{field:this.groupedBy,value:_.get(data[0],this.groupedBy),col:column,count:data.length}})}this.groupedData=tempData,this.openedGroupHeaders.forEach(function(wasOpened){var toBeOpened=_.find(_this.groupedData,{$groupHeader:{value:wasOpened.$groupHeader.value}});toBeOpened&&(toBeOpened.$groupHeader.$expanded=!0,_this.updateGroupExpansionState(toBeOpened))})}return this.groupedData}return sourceData}},getFilteredData:{value:function(sourceData){var _this=this;return sourceData=sourceData||this.getRawData(),this.paginationMode===this.EXTERNAL_PAGINATION?sourceData||[]:this.dirCtrl.tableFilter?(this.filterCache||(this.filterCache=_.filter(sourceData,function(row){for(var i in _this.columns){var col=_this.columns[i];if((_this.defaultFilterByAll&&col.filterable!==!1||!_this.defaultFilterByAll&&col.filterable===!0)&&(row.$sticky&&!row.$stickyFilterable||_this._isSubVisible(row,col)||row.$groupHeader||_.get(row,col.field)&&_.contains(_.get(row,col.field).toString().toLowerCase(),_this.dirCtrl.tableFilter.toLowerCase())))return!0}return!1})),this.dirCtrl.noFilterResults=!(this.filterCache.length||!sourceData.length),this.filterCache):(this.dirCtrl.noFilterResults=!1,sourceData||[])}},_isSubVisible:{value:function(row,col){if(!this.subRowsEnabled)return!1;var subsVisible=!1;if(row.$expandable)for(var i=0;i<row.$subRows.length;i++){var subRow=row.$subRows[i];if((this.defaultFilterByAll&&col.filterable!==!1||!this.defaultFilterByAll&&col.filterable===!0)&&_.get(subRow,col.field)&&_.contains(_.get(subRow,col.field).toString().toLowerCase(),this.dirCtrl.tableFilter.toLowerCase())){subsVisible=!0;break}}return subsVisible}},getRawData:{value:function(){return this.data||[]}},allowColumnsCustomization:{value:function(){return this.columnsCustomization=!0,this.loadCustomizedColumnsState(),this.createAvailableColumnsArray(),this.updateCustomizedColumns(),this}},createAvailableColumnsArray:{value:function(){var _this=this;this.origColumnDefs&&(this.availableColumns=[],this.origColumnDefs.forEach(function(colDef){var item={id:colDef.field,text:colDef.header||_.startCase(colDef.field),isSelected:!_this.visibleFields&&!colDef.optional||_this.visibleFields&&_this.visibleFields.indexOf(colDef.field)!==-1};_this.availableColumns.push(item)}))}},refreshColumns:{value:function(){this.origColumnDefs&&this.setColumns(_.cloneDeep(this.origColumnDefs))}},updateCustomizedColumns:{value:function(){var refresh=void 0===arguments[0]||arguments[0];this.availableColumns&&(this.visibleFields=_.map(_.filter(this.availableColumns,function(col){return col.isSelected}),"id"),this.saveCustomizedColumnsState(),refresh&&this.refreshColumns())}},setId:{value:function(id){return this.tableId=id,this}},saveCustomizedColumnsState:{value:function(){if(this.tableId)if(localStorage.jfTableViewSettings){var settings=JSON.parse(localStorage.jfTableViewSettings);settings[this.tableId]=this.visibleFields,localStorage.jfTableViewSettings=JSON.stringify(settings)}else localStorage.jfTableViewSettings=JSON.stringify(_defineProperty({},this.tableId,this.visibleFields))}},loadCustomizedColumnsState:{value:function(){if(this.tableId){var settings=localStorage.jfTableViewSettings;if(settings){settings=JSON.parse(settings);var mySetting=settings[this.tableId];this.visibleFields=mySetting}}}},setKey:{value:function(key){return"function"==typeof key?this.keyFn=function(row){return key(row)}:this.keyFn=function(row){return row[key]},this}},updateData:{value:function(data,_x,maxRowsLen){var _this=this,removeIfMissing=void 0!==arguments[1]&&arguments[1];if(this.data&&this.data.length){if(!this.keyFn)throw new Error("Cannot update data, no key was defined. (use setKey(key|keyFn))");!function(){var existingRows=[],doUpdate=!1;data.forEach(function(row){var exists=_.find(_this.data,function(r){return _this.keyFn(r)===_this.keyFn(row)});if(exists){existingRows.push(exists);for(var key in exists)key.startsWith("$")||(exists[key]=row[key]);row.$subRows&&!function(){var subRowsToSave=[];row.$subRows.forEach(function(subRow){var existsSub=_.find(exists.$subRows,function(r){return _this.keyFn(r)===_this.keyFn(subRow)});if(existsSub){subRowsToSave.push(existsSub);for(var subKey in existsSub)subKey.startsWith("$")||(existsSub[subKey]=subRow[subKey])}else subRow.$parentRow=exists,exists.$subRows||(exists.$subRows=[],exists.$expandable=!0),exists.$subRows.push(subRow),exists.$subRows.reverse(),subRowsToSave.push(subRow),doUpdate=!0}),removeIfMissing&&!function(){var removed=_.difference(exists.$subRows,subRowsToSave);removed.length&&(doUpdate=!0,_.remove(exists.$subRows,function(sr){return _.includes(removed,sr)}))}()}()}else _this.data.push(row),existingRows.push(row),doUpdate=!0}),removeIfMissing&&!function(){var removed=_.difference(_this.data,existingRows);removed.length&&(doUpdate=!0,_.remove(_this.data,function(row){return _.includes(removed,row)}))}(),doUpdate&&_this.update()}()}else this.setData(data)}},isOverflowing:{value:function(cellId){var elem=$(this.dirCtrl.$element).find("#"+cellId),showAll=(elem.children(".gridcell-content-text"),elem.children(".gridcell-showall")),cellItemContent=elem.text().trim(),width=0;return showAll.length&&(width=showAll.outerWidth()),cellItemContent.length>0&&elem[0].scrollWidth>elem.innerWidth()?(elem.addClass("overflow"),!0):(elem.removeClass("overflow"),!1)}},showAll:{value:function(model,rowName,col){var objectName=_.startCase(this.objectName.indexOf("/")>=0?this.objectName.split("/")[0]:this.objectName),modalScope=$rootScope.$new();modalScope.items=model,modalScope.colName=col.header,modalScope.rowName=rowName,modalScope.objectName=objectName,modalScope.filter={},modalScope.filterItem=function(item){if(modalScope.filter.text){var escaped=JFrogUIUtils.escapeForRegex(modalScope.filter.text),regex=new RegExp(".*"+escaped.split("\\*").join(".*")+".*","i");return regex.test(item)}return!0},modalScope.noResults=function(){var filteredResults=_.filter(modalScope.items,function(item){return modalScope.filterItem(item)});return 0===filteredResults.length},JFrogModal.launchModalWithTemplateMarkup(__webpack_require__(113),modalScope,"sm",!0)}},asyncShowAll:{value:function(rowName,col){var _this=this;col&&col.asyncDataCallback&&col.asyncDataCallback(rowName).then(function(dataList){_this.showAll(dataList,rowName,col)})}},_getCommonAction:{value:function(key,callback,visibleWhen){var action=COMMON_ACTIONS[key];return action=angular.extend({callback:callback},action),visibleWhen&&(action=angular.extend({visibleWhen:visibleWhen},action)),action}},toggleColumnsCustomizationDropdown:{value:function(){var _this=this,opened=$(this.dirCtrl.$element).find(".drop-down-container").length;opened||$timeout(function(){$(_this.dirCtrl.$element).find(".main-box").click()})}},hasVisibleActionsFor:{value:function(rowData){var visible=_.filter(this.actions,function(act){return!act.visibleWhen||act.visibleWhen(rowData)});return!!visible.length}},dragRow:{value:function(row){return this.registeredTabularDnd&&this.getSelectedCount()?(row.$selected=!0,void this.startMultiDrag()):(this.draggedRow=row,this.draggedIndex=_.findIndex(this.data,function(r){return r===row}),_.remove(this.data,function(r){return r===row}),this.update(),void this.refreshFilter())}},startMultiDrag:{value:function(){var _this=this,selected=this.getSelectedRows(),filtered=this.getFilteredData();selected=_.filter(selected,function(item){return _.includes(filtered,item)}),this.draggedRows=_.map(selected,function(selectedRow){return{row:selectedRow,index:_.findIndex(_this.data,function(r){return r===selectedRow})}}),_.remove(this.data,function(r){return _.includes(selected,r)}),this.update(),this.refreshFilter()}},dropDraggedRow:{value:function(targetRow){var draggedRow=void 0===arguments[1]?null:arguments[1],tabularDndDrag=void 0!==arguments[2]&&arguments[2];if(this.registeredTabularDnd&&(this.draggedRows||_.isArray(draggedRow)))return void this.dropDraggedRows(targetRow,draggedRow,tabularDndDrag);this.markedDropTarget&&this.markedDropTarget.removeClass("drop-target-mark");var targetIndex=void 0;targetRow?(targetIndex=_.findIndex(this.data,function(r){return r===targetRow}),targetIndex===-1&&(targetIndex=this.draggedIndex)):targetIndex=tabularDndDrag?this.data.length:this.draggedIndex,this.data.splice(targetIndex,0,draggedRow||this.draggedRow),this.draggedRow=null,this.update(),this.refreshFilter(),this.fire("row.dragged",this.data)}},dropDraggedRows:{value:function(targetRow){var _this=this,draggedRows=void 0===arguments[1]?null:arguments[1],tabularDndDrag=void 0!==arguments[2]&&arguments[2];this.markedDropTarget&&this.markedDropTarget.removeClass("drop-target-mark"),(draggedRows||this.draggedRows).forEach(function(draggedRow,i){var targetIndex=void 0;targetRow?(targetIndex=_.findIndex(_this.data,function(r){return r===targetRow}),targetIndex===-1&&(targetIndex=draggedRow.index)):targetIndex=tabularDndDrag?_this.data.length:draggedRow.index,_this.data.splice(targetIndex,0,draggedRow.row)}),this.draggedRows=null,this.update(),this.refreshFilter(),this.fire("row.dragged",this.data)}},markDropTarget:{value:function(rowElem){this.markedDropTarget&&this.markedDropTarget.removeClass("drop-target-mark"),rowElem&&!rowElem.is(".headers")&&(rowElem.addClass("drop-target-mark"),this.markedDropTarget=rowElem)}},_registerTabularDnd:{value:function(tabularDndController,role,otherTableOptions){var emptyTableStyle=void 0===arguments[3]?{}:arguments[3];this.registeredTabularDnd={dndCtrl:tabularDndController,dndRole:role,dndOther:otherTableOptions,emptyTableStyle:emptyTableStyle}}},useExternalSortCallback:{value:function(externalSortCallback){return this.externalSortCallback=externalSortCallback,this}},alwaysShowSortingArrows:{value:function(){return this.showSortingArrowsAlways=!0,this}},disableFilterWhen:{value:function(isFilterDisabledCallback){return this.isFilterDisabledCallback=isFilterDisabledCallback,this}},disableRowActionGrouping:{value:function(){return this.isRowActionGroupingDisabled=!0,this}}}),JFrogTableViewOptionsClass}();return JFrogTableViewOptionsClass.cellTemplateGenerators=cellTemplateGenerators,JFrogTableViewOptionsClass.setAppDefaults=function(defaultsSetter){defaultAppOptions=new JFrogTableViewOptionsClass,defaultsSetter(defaultAppOptions)},JFrogTableViewOptionsClass}JFrogTableViewOptions.$inject=["$q","$timeout","$rootScope","$modal","$state","JFrogDownload","JFrogModal","JFrogUIUtils"];var _interopRequire=function(obj){return obj&&obj.__esModule?obj["default"]:obj},_defineProperty=function(obj,key,value){return Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0})},_createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.JFrogTableViewOptions=JFrogTableViewOptions,Object.defineProperty(exports,"__esModule",{value:!0});var cellTemplateGenerators=_interopRequire(__webpack_require__(112)),COMMON_ACTIONS={"delete":{icon:"icon icon-clear",tooltip:"Delete"},download:{icon:"icon icon-download",href:function(row){return row.downloadLink},tooltip:"Download"}},defaultAppOptions=void 0},function(module,exports){"use strict";var nextId=0,cellTemplateGenerators={artifactoryRepoPathColumn:function(specialClass){return'<div><div ng-if="row.entity.repoKey" class="ui-grid-cell-contents '+specialClass+'">{{row.entity.repoKey}}/{{row.entity.path}}</div><div ng-if="!row.entity.repoKey" class="ui-grid-cell-contents '+specialClass+'">{{row.entity.path}}</div></div>'},downloadableColumn:function(specialClass){return'<div><div ng-if="row.entity.downloadLink" class="jf-link ui-grid-cell-contents '+specialClass+'">{{row.entity.name}}</div><div ng-if="!row.entity.downloadLink" class="ui-grid-cell-contents '+specialClass+'">{{row.entity.name}}</div></div>'},booleanColumn:function(model){return'<div class="grid-checkbox"><input ng-model="'+model+'" type="checkbox" disabled/><span class="icon icon-v"></span></div>'},checkboxColumn:function(model,click,disabled){return'<div><div class="grid-cell-checkbox"><jf-checkbox><input ng-model="'+model+'"'+(click&&click.length?' ng-change="'+click+'"':"")+(disabled&&disabled.length?' ng-disabled="'+disabled+'"':"")+' type="checkbox"/></jf-checkbox></div></div>'},listableColumn:function(listModel,rowNameModel,displayModel,alwaysShow,_x,showAsyncData,externalCountModel){var testIdPrefix=void 0===arguments[4]?null:arguments[4];testIdPrefix=testIdPrefix?testIdPrefix+"-":"",displayModel=displayModel?"{{"+listModel+".length}} | {{"+displayModel+"}}":"{{"+externalCountModel+" ? "+externalCountModel+" : "+listModel+".length}} | {{"+listModel+".join(', ')}}{{"+externalCountModel+" && "+externalCountModel+" > "+listModel+".length ? ',...' : ''}}";var id=""+testIdPrefix+"{{row.uid}}_"+nextId,template='<div><div ng-if="'+listModel+".length\" \n                                   ng-class=\"{'always-show': "+showAsyncData+" || "+alwaysShow+' }" \n                                   class="ui-grid-cell-contents no-tooltip" id="'+id+'">\n                                <span class="gridcell-content-text">'+displayModel+'</span>\n                                 <a class="jf-link gridcell-showall" ng-if="!('+showAsyncData+") && (table.options.isOverflowing('"+testIdPrefix+"'+row.uid+'_'+"+nextId+") || "+alwaysShow+')" href ng-click="table.options.showAll('+listModel+","+rowNameModel+',col);$event.stopPropagation()"> (See All)</a>\n                                 <a class="jf-link gridcell-showall" ng-if="'+showAsyncData+'" href ng-click="table.options.asyncShowAll('+rowNameModel+',col)"> (See All)</a>\n                             </div>\n                             <div ng-if="!'+listModel+'.length" class="ui-grid-cell-contents no-tooltip" id="'+id+'">-</div></div>';return nextId++,template},iconColumn:function(cellText,cellIcon,iconClass){return'<div id="type"><i class="icon icon-{{'+cellIcon+"}}"+(iconClass?" "+iconClass:"")+'"></i>{{'+cellText+"}}</div>"},ajaxColumn:function(){return'<div class="ui-grid-cell-contents status-grid"><div class="icon-hourglass" ng-if="!row.entity.status"></div>{{row.entity.status}}</div>'}};module.exports=cellTemplateGenerators},function(module,exports){module.exports='<div id="show-all-modal">\n    <div class="modal-header">\n        <button type="button" class="close" data-dismiss="close" aria-label="Close" ng-click="$dismiss()"><span aria-hidden="true">&times;</span></button>\n        <h4 class="modal-title" id="popup-header">{{items.length}} {{colName}} For {{objectName}} \'{{rowName}}\'</h4>\n    </div>\n    <div class="modal-body clearfix">\n        <input type="text"\n               name="filter"\n               class="input-text"\n               ng-model="filter.text"\n               placeholder="Filter"/>\n\n\n        <div class="group-list-wrapper" ng-if="!noResults()">\n            <ul class="group-list">\n                <li class="group-list-item"\n                    jf-tooltip-on-overflow\n                    ng-repeat="item in items track by $index"\n                    ng-if="filterItem(item)">\n                    {{item}}\n                </li>\n            </ul>\n        </div>\n\n        <div class="empty-filter-placeholder filter-no-results" ng-if="noResults()">\n            Current filter has no results. <a href class="jf-link" ng-click="filter.text = \'\'">Clear filter</a>\n        </div>\n\n    </div>\n    <div class="modal-footer">\n        <button class="btn btn-default" ng-click="$dismiss()" id="popup-cancel">Close</button>\n    </div>\n</div>'},function(module,exports){"use strict";function jfTableView(){return{controller:jfTableViewController,controllerAs:"jfTableView",bindToController:!0,scope:{options:"=",objectName:"@"},templateUrl:"ui_components/jf_table_view/jf_table_view.html"}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfTableView=jfTableView,Object.defineProperty(exports,"__esModule",{value:!0});var jfTableViewController=function(){function jfTableViewController($scope,$element,$timeout,$compile,$rootScope,JFrogEventBus){var _this=this;_classCallCheck(this,jfTableViewController),this.$element=$element,this.$containerElement=$element.find(".jf-table-view"),this.$timeout=$timeout,this.$compile=$compile,this.$scope=$scope,this.JFrogEventBus=JFrogEventBus,this.EVENTS=JFrogEventBus.getEventsDefinition(),this.$rootScope=$rootScope,this.cellScopes=[],this.vsApi={onInit:function(){_this.vsApi.registerScrollListener(function(scrollPos){return _this.onVScroll(scrollPos)})}},$scope.$watch("jfTableView.options",function(options){_this.options&&_this.options._setDirectiveController(_this),_this.options&&!_this.paginationApi&&(_this.paginationApi=new PaginationApi(_this),_this.paginationApi.registerChangeListener(function(){_this.$timeout(function(){_this.refresh(!1),_this._fireDebouncedRowsInView()})}),_this.currentPage=0)});var on_resize=function(){_this.$timeout(function(){_this.options&&_this.options._normalizeWidths()}),_this._fireDebouncedRowsInView()};$(window).on("resize",on_resize),$scope.$on("$destroy",function(){_this.cellScopes.forEach(function(s){return s.$destroy()}),$(window).off("resize",on_resize)}),this._handleDocumentClick()}return jfTableViewController.$inject=["$scope","$element","$timeout","$compile","$rootScope","JFrogEventBus"],_createClass(jfTableViewController,{clearFilter:{value:function(){this.tableFilter="",this.onUpdateFilter()}},getActualPageHeight:{value:function(){return"auto"===this.options.rowsPerPage?Math.min($(this.$element).parent().height()-$(this.$element).find(".table-rows-container").position().top,parseFloat(this.options.rowHeight)*this.options.getPrePagedData().length):parseFloat(this.options.rowHeight)*Math.min(this.options.rowsPerPage,this.options.getPrePagedData().length)+2}},compileTemplate:{value:function(elem,field,rowId){var column=field,row=rowId,columnObj=_.find(this.options.columns,{field:column}),rowObj="headers"!==row?this.options.getPageData()[row]:this.options.headersRow;if(rowObj){if(rowObj.$groupHeader){var groupRowObj={};_.set(groupRowObj,rowObj.$groupHeader.field,rowObj.$groupHeader.value),rowObj=groupRowObj}var existingScope=_.find(this.cellScopes,function(s){return s.row.entity===rowObj&&s.col===columnObj}),rowScope=void 0;existingScope?(existingScope.row.uid=rowId,rowScope=existingScope):(rowScope=this.$rootScope.$new(),this.cellScopes.push(rowScope),_.extend(rowScope,{row:{entity:rowObj,uid:rowId},col:columnObj,MODEL_COL_FIELD:_.get(rowObj,field),COL_FIELD:_.get(rowObj,field),appScope:this.options.appScope,grid:{appScope:this.options.appScope},table:{options:this.options}}));var template="headers"!==row?columnObj.cellTemplate:columnObj.headerCellTemplate,templateElem=$(template);this._autoAddEllipsisClass(templateElem),this.$compile(templateElem)(rowScope),elem.empty(),elem.append(templateElem)}}},_autoAddEllipsisClass:{value:function(templateRoot){var allText=templateRoot.text(),elementToAddTo=null,recursiveAdd=function(root){for(var children=root.children(),childToRecurseInto=null,i=0;i<children.length;i++){var child=$(children[i]);if(child.text()===allText){childToRecurseInto=child;break}}childToRecurseInto?recursiveAdd(childToRecurseInto):elementToAddTo=root};recursiveAdd(templateRoot),elementToAddTo&&(elementToAddTo.is("[disable-tooltip-on-overflow]")||elementToAddTo.attr("jf-tooltip-on-overflow",!0),elementToAddTo.addClass("overflow-ellipsis"))}},onUpdateFilter:{value:function(){var resetPagination=void 0===arguments[0]||arguments[0];this.options.refreshFilter(),this.refresh(),resetPagination&&(this.paginationApi.setPage(1,!0),this.paginationApi.update())}},refresh:{value:function(){var _this=this,updatePagination=void 0===arguments[0]||arguments[0],unusedScopes=_.filter(this.cellScopes,function(scope){return _this.options.getPageData().indexOf(scope.row.entity)===-1});unusedScopes.forEach(function(s){_this.cellScopes.splice(_this.cellScopes.indexOf(s),1),s.$destroy()}),this.paginationApi&&updatePagination&&this.paginationApi.update()}},clearSelection:{value:function(){this.options.getRawData().forEach(function(row){return delete row.$selected}),this.allSelected=!1}},toggleSelectAll:{value:function(){var _this=this;this.allSelected=!this.allSelected,this.options.getPrePagedData().forEach(function(row){_this.options.isRowSelectable&&!_this.options.isRowSelectable({entity:row})?row.$selected=!1:row.$selected=_this.allSelected}),this.options.groupedBy&&this.options.getFilteredData().forEach(function(row){_this.options.isRowSelectable&&!_this.options.isRowSelectable({entity:row})?row.$selected=!1:row.$selected=_this.allSelected})}},onVScroll:{value:function(scrollPos){var virtualScrollIndex=Math.floor(scrollPos);this.currentPage=Math.floor((virtualScrollIndex+this.options.rowsPerPage-1)/this.options.rowsPerPage),this.paginationApi.update(),this._fireDebouncedRowsInView()}},_fireDebouncedRowsInView:{value:function(){var _this=this;if(this.options&&this.options.hasListenersFor("row.in.view")){var debounceCall=function(debouncedFunc,debounceTime){_this.debounceTimeout&&_this.$timeout.cancel(_this.debounceTimeout),_this.debounceTimeout=_this.$timeout(function(){debouncedFunc()},debounceTime)};debounceCall(function(){var pageData=_this.options.paginationMode===_this.options.VIRTUAL_SCROLL?_this.vsApi.getPageData():_this.options.getPageData(),lriv=_this.lastRowsInView||[];_this.lastRowsInView=pageData,pageData=_.filter(pageData,function(row){return!_.includes(lriv,row)}),pageData.forEach(function(row){return _this.options.fire("row.in.view",row)})},this.options.rowInViewDebounceTime)}}},getTotalScrollHeight:{value:function(){return this.options.getPrePagedData().length*parseFloat(this.options.rowHeight)+"px"}},getScrollWidth:{value:function(){var el=$(this.$element).find(".scroll-faker-container")[0];return el.offsetWidth-el.clientWidth}},createNewEntity:{value:function(){var _this=this;this.options.newEntityCallback(),this.$timeout(function(){return _this.onUpdateFilter()})}},groupSelection:{value:function(groupHeader){var query={};_.set(query,groupHeader.$groupHeader.field,groupHeader.$groupHeader.value);var group=_.filter(this.options.getFilteredData(),query);group.forEach(function(row){return row.$selected=groupHeader.$selected})}},initFilter:{value:function(){var _this=this;this.$timeout(function(){if(_this.options&&_this.options.autoFocusFilter){var filterInput=$(_this.$element).find(".jf-table-filter input");filterInput.focus()}})}},getTotalRecords:{value:function(){if(this.options){var count=0;return count=this.options.paginationMode===this.options.EXTERNAL_PAGINATION?this.options.getTotalLengthOfData():_.filter(this.options.getFilteredData(),function(record){return!record.$parentRow}).length,count+" "+this.getObjectNameByCount(count)}}},getObjectNameByCount:{value:function(count,objectName){objectName=objectName||this.options.objectName;var recordsName=void 0;if(objectName)if(objectName.indexOf("/")>=0){var splited=objectName.split("/");recordsName=1!==count?splited[1]:splited[0]}else recordsName=1!==count?objectName+"s":objectName;else recordsName=1!==count?"records":"record";return _.startCase(recordsName)}},getSelectedRecords:{value:function(){if(!this.options)return 0;var count=this.options.getSelectedRows().length;return count}},_handleDocumentClick:{value:function(){var _this=this,handler=function(e){
_this.$timeout(function(){var shouldCloseDropdown=!$(e.target).parents(".jf-table-cell.actions").length||$(e.target).parents(".jf-table-view")[0]!==$(_this.$element).find(".jf-table-view")[0];shouldCloseDropdown&&_this.JFrogEventBus.dispatch(_this.EVENTS.TABLEVIEW_HIDE_ACTIONS_DROPDOWN,_this)})};$(document).on("click",handler),this.$scope.$on("$destroy",function(){$(document).off("click",handler)})}}}),jfTableViewController}();jfTableViewController.$inject=["$scope","$element","$timeout","$compile","$rootScope","JFrogEventBus"];var PaginationApi=function(){function PaginationApi(tableCtrl){_classCallCheck(this,PaginationApi),this.tableCtrl=tableCtrl}return _createClass(PaginationApi,{getTotalPages:{value:function(){return Math.ceil(this.tableCtrl.options.getTotalLengthOfData()/this.tableCtrl.options.rowsPerPage)}},getCurrentPage:{value:function(){return this.tableCtrl.currentPage+1}},nextPage:{value:function(){this.getCurrentPage()!==this.getTotalPages()&&(this.tableCtrl.currentPage++,this.syncVirtualScroll(),this.update(),this.sendExternalPageRequest(),this.tableCtrl.options.fire("pagination.change",this.getCurrentPage()))}},prevPage:{value:function(){1!==this.getCurrentPage()&&(this.tableCtrl.currentPage--,this.syncVirtualScroll(),this.update(),this.sendExternalPageRequest(),this.tableCtrl.options.fire("pagination.change",this.getCurrentPage()))}},sendExternalPageRequest:{value:function(){this.tableCtrl.options.paginationMode===this.tableCtrl.options.EXTERNAL_PAGINATION&&this.tableCtrl.options.sendExternalPageRequest()}},setPage:{value:function(pageNum){var jump=void 0!==arguments[1]&&arguments[1];pageNum<1||pageNum>this.getTotalPages()||(this.tableCtrl.currentPage=pageNum-1,this.syncVirtualScroll(jump),this.update(),this.sendExternalPageRequest(),this.tableCtrl.options.fire("pagination.change",this.getCurrentPage()))}},update:{value:function(){var _this=this;this.getCurrentPage()>this.getTotalPages()&&this.setPage(1,!0),this.listeners&&this.listeners.forEach(function(listener){return listener(_this.getCurrentPage())})}},registerChangeListener:{value:function(listener){this.listeners||(this.listeners=[]),this.listeners.push(listener)}},syncVirtualScroll:{value:function(){var jump=void 0!==arguments[0]&&arguments[0];this.tableCtrl.options.paginationMode===this.tableCtrl.options.VIRTUAL_SCROLL&&this.tableCtrl.vsApi.scrollTo(this.tableCtrl.currentPage*this.tableCtrl.options.rowsPerPage,jump?0:500)}}}),PaginationApi}()},function(module,exports){"use strict";function jfTableRow(){return{controller:jfTableRowController,controllerAs:"jfTableRow",bindToController:!0,replace:!0,scope:{data:"=",rowId:"=",tableView:"="},templateUrl:"ui_components/jf_table_view/jf_table_row.html"}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfTableRow=jfTableRow,Object.defineProperty(exports,"__esModule",{value:!0});var jfTableRowController=function(){function jfTableRowController($scope,$element,$timeout,JFrogEventBus){_classCallCheck(this,jfTableRowController),this.$element=$element,this.$timeout=$timeout,this.$scope=$scope,this.JFrogEventBus=JFrogEventBus,this.EVENTS=JFrogEventBus.getEventsDefinition(),$(this.$element).prop("ctrl",this)}return jfTableRowController.$inject=["$scope","$element","$timeout","JFrogEventBus"],_createClass(jfTableRowController,{$onInit:{value:function(){var _this=this;this.templatesCount=_.filter(this.tableView.options.columns,function(col){return!!col.cellTemplate}).length,this.JFrogEventBus.registerOnScope(this.$scope,this.EVENTS.TABLEVIEW_HIDE_ACTIONS_DROPDOWN,function(tableView){tableView===_this.tableView&&(_this.actionsDropdownOpen=!1)}),this.tableView.options.draggableRows&&this.$timeout(function(){return _this.initDragAndDrop()})}},getField:{value:function(field){return _.get(this.data,field)}},kebab:{value:function(str){return _.kebabCase(str)}},toggleSelection:{value:function(all){if(all||!this.tableView.options.isRowSelectable||this.tableView.options.isRowSelectable({entity:this.data})){if(all)this.tableView.toggleSelectAll();else if(this.tableView.options.selectionMode===this.tableView.options.MULTI_SELECTION){if(this.data.$selected=!this.data.$selected,!this.data.$selected&&(this.tableView.allSelected=!1,this.tableView.options.groupedBy)){var groupHeader=_.find(this.tableView.options.getPrePagedData(),{$groupHeader:{value:_.get(this.data,this.tableView.options.groupedBy)}});groupHeader&&(groupHeader.$selected=!1)}this.data.$groupHeader&&this.tableView.groupSelection(this.data)}else this.tableView.options.selectionMode===this.tableView.options.SINGLE_SELECTION&&(this.tableView.clearSelection(),this.data.$selected=!0);this.tableView.options.fire("selection.change",this.tableView.options.getSelectedRows())}}},toggleGroupExpansion:{value:function(){this.data.$groupHeader.$expanded=!this.data.$groupHeader.$expanded,this.tableView.options.updateGroupExpansionState(this.data)}},fireAction:{value:function(action){action.callback(this.data),this.tableView.onUpdateFilter(!1)}},onMouseMove:{value:function(e){this.resizingColumns?this.dragColumnResize(e):(this.hoveringResize&&this.hoveringResize.left&&delete this.hoveringResize.left.$dragRightBorder,this.hoveringResize&&this.hoveringResize.right&&delete this.hoveringResize.right.$dragLeftBorder,this.hoveringResize=this._getHoveringResizePoint(e))}},dragColumnResize:{value:function(e){var MIN_WIDTH=5,container=this._getTableContainer(),containerWidth=container.innerWidth(),mouseX=e.pageX-container.offset().left,mouseXPerc=Math.round(mouseX/containerWidth*100),offset=mouseXPerc-this.resizeDragStart,newLeftWidth=void 0,newRightWidth=void 0;if(_.isString(this.hoveringResize.origLeftWidth)&&this.hoveringResize.origLeftWidth.endsWith("%"))newLeftWidth=parseFloat(this.hoveringResize.origLeftWidth)+offset+"%";else if(_.isString(this.hoveringResize.origLeftWidth)&&this.hoveringResize.origLeftWidth.endsWith("px")){var perc=parseFloat(this.hoveringResize.origLeftWidth)/containerWidth*100;newLeftWidth=perc+offset+"%"}if(this.hoveringResize.right)if(_.isString(this.hoveringResize.origRightWidth)&&this.hoveringResize.origRightWidth.endsWith("%"))newRightWidth=parseFloat(this.hoveringResize.origRightWidth)-offset+"%";else if(_.isString(this.hoveringResize.origRightWidth)&&this.hoveringResize.origRightWidth.endsWith("px")){var perc=parseFloat(this.hoveringResize.origRightWidth)/containerWidth*100;newRightWidth=perc-offset+"%"}parseFloat(newLeftWidth)>MIN_WIDTH&&(!newRightWidth||parseFloat(newRightWidth)>MIN_WIDTH)&&(this.hoveringResize.left.width=this.hoveringResize.left.origWidth=newLeftWidth,this.hoveringResize.right&&(this.hoveringResize.right.width=this.hoveringResize.right.origWidth=newRightWidth))}},onMouseDown:{value:function(e){if(this.hoveringResize){var container=this._getTableContainer(),containerWidth=container.innerWidth(),mouseX=e.pageX-container.offset().left,mouseXPerc=Math.round(mouseX/containerWidth*100);this.resizingColumns=!0,this.resizeDragStart=mouseXPerc,this.hoveringResize.left.$dragRightBorder=!0,this.hoveringResize.right&&(this.hoveringResize.right.$dragLeftBorder=!0)}}},onMouseUp:{value:function(e){this.hoveringResize&&this.hoveringResize.left&&delete this.hoveringResize.left.$dragRightBorder,this.hoveringResize&&this.hoveringResize.right&&delete this.hoveringResize.right.$dragLeftBorder,this.resizingColumns=!1,delete this.resizeDragStart}},_getHoveringResizePoint:{value:function(e){for(var columns=this.tableView.options.columns,container=this._getTableContainer(),containerWidth=container.innerWidth(),mouseX=e.pageX-container.offset().left,mouseXPerc=Math.round(mouseX/containerWidth*100),percCount=this.tableView.options.hasSelection()?this.tableView.options.selectionColumnWidth/containerWidth*100:0,hovering=!1,colI=0;colI<columns.length;colI++){var col=columns[colI];if(_.isString(col.width)&&col.width.endsWith("%"))percCount+=parseFloat(col.width);else if(_.isString(col.width)&&col.width.endsWith("px")){var perc=parseFloat(col.width)/containerWidth*100;percCount+=perc}if(Math.abs(percCount-mouseXPerc)<=.5){hovering={left:col,right:columns[colI+1],origLeftWidth:col.width,origRightWidth:columns[colI+1]?columns[colI+1].width:void 0};break}}return hovering}},_getTableContainer:{value:function(){return $(this.tableView.$element).find(".jf-table-view-container")}},onClickCell:{value:function(col,event){"headers"===this.rowId&&col.header&&this.tableView.options.sortable&&!this.hoveringResize&&col.sortable&&this.tableView.options.sortBy(col.field)}},onRowClick:{value:function($event){this.data.$groupHeader?this.toggleGroupExpansion():"headers"!==this.rowId&&this.tableView.options.fire("row.clicked",{entity:this.data,event:$event})}},toggleExpansion:{value:function($event){$event.stopPropagation(),this.tableView.options.toggleExpansion(this.data)}},toggleActionsDropdown:{value:function(e){e.stopPropagation();var origState=this.actionsDropdownOpen;this.JFrogEventBus.dispatch(this.EVENTS.TABLEVIEW_HIDE_ACTIONS_DROPDOWN,this.tableView),this.actionsDropdownOpen=!origState}},initDragAndDrop:{value:function(){var _this=this;"headers"!==this.rowId&&($(this.$element).draggable({helper:"clone",scroll:!0,distance:10,appendTo:$(this.tableView.$element).find(".jf-table-view-container"),start:function(event,ui){return _this.$scope.$apply(function(){return _this.dragStart(event,ui)})},stop:function(event,ui){return _this.$scope.$apply(function(){return _this.dragStop(event,ui)})},drag:function(event,ui){return _this.$scope.$apply(function(){return _this.dragMove(event,ui)})}}),$(this.$element).addClass("drag-enabled"))}},dragStart:{value:function(event,ui){return this.tableView.options.registeredTabularDnd&&this.tableView.options.registeredTabularDnd.dndCtrl.disabled?void event.preventDefault():this.isRowDraggable()?($("body").addClass("grabbing"),this.tableView.options.dragRow(this.data),void this.initDragHelper(ui.helper)):void event.preventDefault()}},isRowDraggable:{value:function(){return!(this.tableView.options.registeredTabularDnd&&this.tableView.options.registeredTabularDnd.dndCtrl.itemDraggableAttr&&!_.isUndefined(this.data[this.tableView.options.registeredTabularDnd.dndCtrl.itemDraggableAttr])&&!this.data[this.tableView.options.registeredTabularDnd.dndCtrl.itemDraggableAttr])}},initDragHelper:{value:function(helper){if(helper.addClass("row-drag-helper"),this.tableView.options.registeredTabularDnd){var numOfDraggedRows=this.tableView.options.draggedRows?this.tableView.options.draggedRows.length:1;numOfDraggedRows>1&&helper.addClass("multiple").html("<span>&equiv;</span>"+numOfDraggedRows+" "+this.tableView.getObjectNameByCount(numOfDraggedRows,this.tableView.options.registeredTabularDnd.dndCtrl.entityName||"Item"))}}},dragStop:{value:function(event,ui){var _this=this,draggedRowsArrayForDndEvent=this.tableView.options.draggedRow?[this.tableView.options.draggedRow]:_.map(this.tableView.options.draggedRows,"row"),target=$(event.originalEvent.target);target=target.is(".jf-table-row")?target[0]:target.parents(".jf-table-row")[0],$("body").removeClass("grabbing");var handleForeignDrop=function(targetRow){_this.tableView.options.registeredTabularDnd.dndOther.dropDraggedRow(targetRow,_this.tableView.options.draggedRow||_this.tableView.options.draggedRows,!0),_this.tableView.options.markDropTarget(null),_this.tableView.options.registeredTabularDnd.dndCtrl.onDragTransfer(draggedRowsArrayForDndEvent,_this.tableView.options),delete _this.tableView.options.draggedRow,delete _this.tableView.options.draggedRows};if(target)this.isForeignDrop(target)?handleForeignDrop($(target).prop("ctrl").data):this.tableView.options.dropDraggedRow($(target).prop("ctrl").data);else if(this.tableView.options.registeredTabularDnd)if($(event.originalEvent.target).is(".empty-table-placeholder")&&$(event.originalEvent.target).parents(".jf-table-view")[0]!==$(this.tableView.$element).find(".jf-table-view")[0])handleForeignDrop(null);else{var container=$(event.originalEvent.target).is(".tabular-dnd-table-container")?$(event.originalEvent.target):$(event.originalEvent.target).parents(".tabular-dnd-table-container"),myRole=this.tableView.options.registeredTabularDnd.dndRole;container&&(container.is(".available-table")&&"selected"===myRole||container.is(".selected-table")&&"available"===myRole)?handleForeignDrop(null):this.tableView.options.dropDraggedRow()}else this.tableView.options.dropDraggedRow()}},handleScrollOnDrag:{value:function(target,event){if(this.tableView.options.paginationMode===this.tableView.options.VIRTUAL_SCROLL){var tableView=this.tableView;if(this.tableView.options.registeredTabularDnd&&target){var rowCtrl=$(target).prop("ctrl");tableView=rowCtrl.tableView}var container=$(tableView.$element).find(".table-rows-container"),containerY=container[0].getClientRects()[0].y,relativeY=event.clientY-containerY,containerHeight=container.height(),vsApi=tableView.vsApi;relativeY<50?vsApi.scroll(-.1*(50-relativeY)):relativeY>containerHeight-50&&vsApi.scroll(.1*(50-(containerHeight-relativeY)))}}},dragMove:{value:function(event,ui){var target=$(event.originalEvent.target);target=target.is(".jf-table-row")?target[0]:target.parents(".jf-table-row")[0],this.handleScrollOnDrag(target,event),!target&&$(event.originalEvent.target).is(".empty-table-placeholder")&&(target=event.originalEvent.target),target?this.tableView.options.markDropTarget($(target)):this.tableView.options.markDropTarget(null)}},isForeignDrop:{value:function(dropTarget){if(this.tableView.options.registeredTabularDnd){var targetTableView=$(dropTarget).prop("ctrl")?$(dropTarget).prop("ctrl").tableView:null;return!(!targetTableView||targetTableView.options!==this.tableView.options.registeredTabularDnd.dndOther)}return!1}},_getRowActionsWidth:{value:function(){return this.tableView.options.getActionsContainerWidthInPixels()+"px"}}}),jfTableRowController}()},function(module,exports){"use strict";function jfTableViewBatchActions(){return{scope:{actions:"=",tableOptions:"="},templateUrl:"ui_components/jf_table_view/jf_table_view_batch_actions.html",controller:jfTableViewBatchActionsController,controllerAs:"jfTableViewBatchActions",bindToController:!0}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfTableViewBatchActions=jfTableViewBatchActions,Object.defineProperty(exports,"__esModule",{value:!0});var jfTableViewBatchActionsController=function(){function jfTableViewBatchActionsController($element,$scope,$timeout){var _this=this;_classCallCheck(this,jfTableViewBatchActionsController),this.$element=$element,this.$timeout=$timeout,this.MORE_ACTIONS={"@@MORE_ACTIONS@@":"@@MORE_ACTIONS@@"},$scope.$on("ui-layout.resize",function(){$timeout(function(){return _this.calcActionsVisibility()})}),$(window).on("resize",function(){$timeout(function(){return _this.calcActionsVisibility()})}),$scope.$watch("jfTableViewBatchActions.actions",function(){return $timeout(function(){return _this.calcActionsVisibility()})}),$scope.$watch("jfTableViewBatchActions.tableOptions",function(){_this.tableOptions&&_this.tableOptions.on("selection.change",function(){$timeout(function(){return _this.updateMoreActions()})})}),$timeout(function(){return _this.calcActionsVisibility()})}return jfTableViewBatchActionsController.$inject=["$element","$scope","$timeout"],_createClass(jfTableViewBatchActionsController,{perform:{value:function(action){!this.anySelected()||action.disabledWhen&&action.disabledWhen()||action.callback&&action.callback(this.tableOptions.getSelectedRows())}},anySelected:{value:function(){return this.tableOptions&&this.tableOptions.getSelectedRows().length>0}},isDisabled:{value:function(action){return!this.anySelected()||action.disabledWhen&&action.disabledWhen()}},calcActionsVisibility:{value:function(){var _this=this;if(this.actions){for(var visible=[],inDropDown=[],moreDropdownWidth=125,elems=$(this.$element).find(".grid-batch-action-wrapper:not(.more-actions)"),containerWidth=$(this.$element).children().width(),totalWidth=0,addTo=visible,moreActionsNewIndex=-1,moreActionsOldIndex=this.actions.indexOf(this.MORE_ACTIONS),i=0;i<elems.length;i++){var el=$(elems[i]);totalWidth+=el.width();var id=el.attr("data-action-id"),act=_.find(this.actions,{name:id}),index=this.actions.indexOf(act);if((totalWidth>containerWidth||this.moreActions&&this.moreActions.length&&totalWidth-el.width()+moreDropdownWidth>containerWidth)&&addTo===visible&&(addTo=inDropDown,moreActionsNewIndex=index,visible.length&&totalWidth-el.width()+moreDropdownWidth>containerWidth)){var last=visible.pop();inDropDown.push(last),moreActionsNewIndex=this.actions.indexOf(last)}act&&addTo.push(act)}totalWidth<containerWidth&&(inDropDown=[],visible=_.filter(this.actions,function(act){return act!==_this.MORE_ACTIONS}),moreActionsNewIndex=-1);var temp={TEMP:"TEMP"};moreActionsOldIndex!==-1&&this.actions.splice(moreActionsOldIndex,1,temp),moreActionsNewIndex!==-1&&this.actions.splice(moreActionsNewIndex,0,this.MORE_ACTIONS);var tempIndex=this.actions.indexOf(temp);tempIndex!==-1&&this.actions.splice(tempIndex,1),this.visibleActions=visible,this.moreActions=inDropDown,this.$timeout(function(){return _this.updateMoreActions()})}}},initActions:{value:function(actionsController){this.moreActionsController=actionsController,this.gridOptions&&(this.gridOptions.moreActionsController=actionsController),this.updateMoreActions()}},updateMoreActions:{value:function(){var _this=this;if(this.moreActionsController){var actionsCount=_.filter(this.actions,function(act){return act!==_this.MORE_ACTIONS}).length;this.moreActions.length<actionsCount?this.moreActionsController.label="More Actions":this.moreActions.length===actionsCount&&(this.moreActionsController.label="Actions");var dict={};this.moreActions.forEach(function(action){dict[action.name]={title:action.name,icon:"icon-"+action.icon,disabled:_this.isDisabled(action)}}),this.moreActionsController.setActionsDictionary(dict),this.moreActionsController.setActions(_.map(this.moreActions,function(action){return{name:action.name,visibleWhen:action.visibleWhen,action:function(){return _this.perform(action)}}}))}}}}),jfTableViewBatchActionsController}()},function(module,exports){"use strict";function jfTableCompiledCell(){return{controller:jfTableCompiledCellController,controllerAs:"compiledCell",bindToController:!0,scope:{field:"=",rowId:"=",tableRow:"="},template:'<div class="compile-this"></div>'}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfTableCompiledCell=jfTableCompiledCell,Object.defineProperty(exports,"__esModule",{value:!0});var jfTableCompiledCellController=function(){function jfTableCompiledCellController($element,$timeout,$scope){var _this=this;_classCallCheck(this,jfTableCompiledCellController),this.$element=$element,this.$timeout=$timeout,$scope.$watch("compiledCell.tableRow.data",function(){_this.compile()})}return jfTableCompiledCellController.$inject=["$element","$timeout","$scope"],_createClass(jfTableCompiledCellController,{compile:{value:function(){var elem=$(this.$element).find(".compile-this");this.tableRow.tableView.compileTemplate(elem,this.field,this.rowId)}}}),jfTableCompiledCellController}()},function(module,exports){"use strict";function jfTableTop(){return{controller:jfTableTopController,controllerAs:"jfTableTop",bindToController:!0,scope:{tableView:"="},templateUrl:"ui_components/jf_table_view/jf_table_top.html"}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfTableTop=jfTableTop,Object.defineProperty(exports,"__esModule",{value:!0});var jfTableTopController=function(){function jfTableTopController(){_classCallCheck(this,jfTableTopController)}return _createClass(jfTableTopController,{isFilterDisabled:{value:function(){return!(this.tableView.options&&(this.tableView.options.getRawData().length||this.tableView.options.externalTotalCount&&this.tableView.options.externalTotalCount.total>0))||this.tableView.options.isFilterDisabledCallback&&this.tableView.options.isFilterDisabledCallback()}}}),jfTableTopController}()},function(module,exports,__webpack_require__){"use strict";var JFTreeApi=__webpack_require__(120).JFTreeApi,jfTree=__webpack_require__(122).jfTree,jfTreeItem=__webpack_require__(123).jfTreeItem,jfTreeCompiledCell=__webpack_require__(124).jfTreeCompiledCell,jfTreeIndentation=__webpack_require__(125).jfTreeIndentation;module.exports=angular.module("jf_tree",[]).directive("jfTree",jfTree).directive("jfTreeItem",jfTreeItem).directive("jfTreeCompiledCell",jfTreeCompiledCell).directive("jfTreeIndentation",jfTreeIndentation).factory("JFTreeApi",JFTreeApi)},function(module,exports,__webpack_require__){"use strict";function JFTreeApi($q,$timeout,AdvancedStringMatch,ContextMenuService,JFrogEventBus){"ngInject";var JFTreeApiClass=function(){function JFTreeApiClass(appScope){_classCallCheck(this,JFTreeApiClass),this.$timeout=$timeout,this.$q=$q,this.AdvancedStringMatch=AdvancedStringMatch,this.JFrogEventBus=JFrogEventBus,this.$root=[],this.$viewPanes=[],this.$openedNodes=[],this.ContextMenuService=ContextMenuService,this.actions=[],this.listeners={},this.supportedEvents=["ready","pagination.change","item.clicked","item.dblClicked","item.selected","item.before.open","keydown","bottom-reached"],this.appScope=appScope,this.objectName="Item",this.GO_UP_NODE={$specialNode:"GO_UP"},this.paneSelector=function(){return"default"}}return JFTreeApiClass.$inject=["appScope"],_createClass(JFTreeApiClass,{setNodeTemplate:{value:function(nodeTemplate){return this.nodeTemplate=nodeTemplate,this}},setTreeData:{value:function(rootData){var _this=this;this.dataWasSet=!0,this.$root=rootData,this.$viewPanes.forEach(function(vp){return vp._buildFlatItems()}),this.$isReady||(this.$isReady=!0,this.$timeout(function(){return _this.fire("ready")}))}},setDrillDownMode:{value:function(){var _this=this,drillDownMode=void 0===arguments[0]||arguments[0],defer=this.$q.defer(),oldVal=this.$drillDownMode;return this.$drillDownMode=drillDownMode,!!oldVal!=!!drillDownMode?(this._freeze(),this.refreshTree(!1).then(function(){_this._refreshIndentations(),_this.centerOnSelected(),_this._unFreeze(),defer.resolve()})):defer.resolve(),defer.promise}},_refreshIndentations:{value:function(){this.$viewPanes.forEach(function(vp){return vp._refreshIndentations()})}},setSortingFunction:{value:function(sortingFunction){return this.sortingFunction=sortingFunction,this}},setDataDriver:{value:function(dataDriver){return this.dataGettersSet=!0,dataDriver.uniqueId&&(this.uniqueIdGetter=dataDriver.uniqueId),dataDriver.nodeById&&(this.nodeByIdGetter=dataDriver.nodeById),dataDriver.text&&(this.textGetter=dataDriver.text),dataDriver.childrenChecker&&(this.childrenChecker=dataDriver.childrenChecker),dataDriver.children&&(this.childrenGetter=dataDriver.children),dataDriver.parent&&(this.parentGetter=dataDriver.parent),dataDriver.classes&&(this.classGetter=dataDriver.classes),dataDriver.pane&&(this.paneSelector=dataDriver.pane),dataDriver.contextMenuItems&&(this.contextMenuItemsGetter=dataDriver.contextMenuItems,this._createContextMenu()),this._getRoot(),this}},_getRoot:{value:function(){var _this=this,defer=$q.defer();return this.getChildren(null).then(function(rootData){rootData&&_.isArray(rootData)&&(_this.setTreeData(rootData),defer.resolve())}),defer.promise}},setFilterCallback:{value:function(filterCallback){var _this=this;return this.filterCallback=function(node){if(node===_this.GO_UP_NODE)return!0;if(void 0!==node.$$$filterResultCache)return node.$$$filterResultCache;var cbResult=filterCallback(node);return node.$$$filterResultCache=cbResult,cbResult},this}},isNodeFiltered:{value:function(node){return!this.filterCallback||this.filterCallback(node)}},quickFind:{value:function(quickFindTerm){return this.quickFindTerm=quickFindTerm,this.quickFindMatches=this._getQuickFindFlatMatches(),delete this.quickFindIndex,this._selectNextSearchResult(),this}},_getQuickFindFlatMatches:{value:function(){var matches=[];return this.$viewPanes.forEach(function(vp){return matches=matches.concat(vp.getQuickFindMatches())}),matches}},getQuickFindMatches:{value:function(){return _.map(this._getQuickFindFlatMatches(),"data")}},_getViewPaneForNode:{value:function(node){var viewPane=_.find(this.$viewPanes,function(vp){return vp.findNode(function(n){return n===node})});return viewPane}},centerOnNode:{value:function(node){var viewPane=this._getViewPaneForNode(node);viewPane&&viewPane.centerOnNode(node)}},centerOnSelected:{value:function(){var selected=this.getSelectedNode(!0);if(selected){var flat=this._flatFromNode(selected);flat&&flat.pane.centerOnItem(flat)}}},refreshNode:{value:function(node){var viewPane=this._getViewPaneForNode(node);return viewPane?viewPane.refreshNode(node):this.$q.when()}},_freeze:{value:function(){this.$viewPanes.forEach(function(vp){return vp._freeze()})}},_unFreeze:{value:function(){this.$viewPanes.forEach(function(vp){return vp._unFreeze()})}},freeze:{value:function(){this.$masterFreeze||(this._freeze(),this.$masterFreeze=!0)}},unFreeze:{value:function(){this.$masterFreeze&&(this.$masterFreeze=!1,this._unFreeze())}},refreshNodeContextMenu:{value:function(node){var viewPane=this._getViewPaneForNode(node);viewPane&&viewPane.refreshNodeContextMenu(node)}},refreshTree:{value:function(){var _this=this,deleteCache=void 0===arguments[0]||arguments[0],resetOpenedNodes=void 0===arguments[1]||arguments[1],defer=$q.defer();deleteCache&&delete this.$rootCache,resetOpenedNodes&&(this.$openedNodes=[]);var pendingPromises=this.$viewPanes.length;return this.$viewPanes.forEach(function(vp){vp.refreshView().then(function(){pendingPromises--,pendingPromises||defer.resolve()})}),this.$openedNodes=_.filter(this.$openedNodes,function(node){var fi=_this._flatFromNode(node);return!!fi}),defer.promise}},isNodeOpen:{value:function(node){var ignoreFreeze=void 0!==arguments[1]&&arguments[1];return!!_.find(this.$viewPanes,function(vp){return vp.isNodeOpen(node,ignoreFreeze)})}},findNode:{value:function(findFunction){var viewPane=_.find(this.$viewPanes,function(vp){return!!vp.findNode(findFunction)});if(viewPane)return viewPane.findNode(findFunction)}},findNodeByUniqueId:{value:function(uniqueId){var viewPane=_.find(this.$viewPanes,function(vp){return!!vp.findNodeByUniqueId(uniqueId)});if(viewPane)return viewPane.findNodeByUniqueId(uniqueId)}},replaceNode:{value:function(node,replacements){var flat=this._flatFromNode(node);if(flat){var _flat$parent$data$$childrenCache;flat.pane._addChildren(replacements,flat.level,flat.parent,!0),flat.pane.$flatItems.splice(flat.pane.$flatItems.indexOf(flat),1),(_flat$parent$data$$childrenCache=flat.parent.data.$childrenCache).splice.apply(_flat$parent$data$$childrenCache,[flat.parent.data.$childrenCache.indexOf(node),1].concat(_toConsumableArray(replacements)))}}},selectNode:{value:function(node){var fireEvent=void 0===arguments[1]||arguments[1],flat=this._flatFromNode(node);flat&&this._setSelected(flat,fireEvent)}},preSelectNode:{value:function(node){var flat=this._flatFromNode(node);flat&&this._preSelect(flat)}},_onArrowKey:{value:function(down,viewPane){var _this=this,items=viewPane._getFilteredData();if(items.length)if(this.$preSelectedNode||(this.$preSelectedNode=this.$selectedNode),this.quickFindTerm)down?this._selectNextSearchResult():this._selectPreviousSearchResult();else{var selectedItem=void 0;if(void 0===this.$preSelectedNode)selectedItem=items[down?0:items.length-1];else{var currIndex=_.findIndex(items,function(fi){return fi.data===_this.$preSelectedNode});selectedItem=down&&items[currIndex+1]||!down&&currIndex-1>=0?items[currIndex+(down?1:-1)]:items[down?0:items.length-1]}this._preSelect(selectedItem)}}},_selectNextSearchResult:{value:function(){void 0===this.quickFindIndex&&this.quickFindMatches.length?this.quickFindIndex=0:this.quickFindIndex+1<this.quickFindMatches.length?this.quickFindIndex++:this.quickFindIndex+1===this.quickFindMatches.length&&(this.quickFindIndex=0),this._gotoCurrentSearchResult()}},_selectPreviousSearchResult:{value:function(){void 0===this.quickFindIndex&&this.quickFindMatches.length?this.quickFindIndex=this.quickFindMatches.length-1:this.quickFindIndex-1>=0?this.quickFindIndex--:this.quickFindIndex-1===-1&&(this.quickFindIndex=this.quickFindMatches.length-1),this._gotoCurrentSearchResult()}},_gotoCurrentSearchResult:{value:function(){if(void 0!==this.quickFindIndex&&this.quickFindMatches[this.quickFindIndex]){var item=this.quickFindMatches[this.quickFindIndex];this._preSelect(item)}}},handleKeyEvent:{value:function(e){if(_.includes(["ArrowDown","Down","ArrowUp","Up"],e.key)){var keydown=$.Event("keydown",{keyCode:e.keyCode,which:e.which,key:e.key}),dirCtrl=this.$viewPanes[0].dirCtrl;$(dirCtrl.$element).find(".jf-tree").trigger(keydown),e.preventDefault()}}},_flatFromNode:{value:function(node){var pane=_.find(this.$viewPanes,function(vp){return!!vp._flatFromNode(node)});if(pane)return pane._flatFromNode(node)}},openSelected:{value:function(){var scrollUpIfNeeded=void 0!==arguments[0]&&arguments[0];this.openNode(this.$selectedNode,scrollUpIfNeeded)}},openPreSelected:{value:function(){var scrollUpIfNeeded=void 0!==arguments[0]&&arguments[0];this.openNode(this.$preSelectedNode||this.$selectedNode,scrollUpIfNeeded)}},closeSelected:{value:function(){this.closeNode(this.$selectedNode)}},toggleSelected:{value:function(scrollUpIfNeeded){this.isNodeOpen(this.$selectedNode)?this.closeSelected():this.openSelected(scrollUpIfNeeded)}},openNode:{value:function(node){var _this=this,scrollUpIfNeeded=void 0!==arguments[1]&&arguments[1],drillDown=void 0===arguments[2]||arguments[2],preSelect=void 0===arguments[3]||arguments[3];if(node){if(this.fire("item.before.open",node)===!1)return $q.when();var defer=$q.defer(),flat=this._flatFromNode(node);return!flat||flat.hasChildren===!1||flat.data.$noChildren||flat.$pending?flat&&flat.$pending?this.$timeout(function(){_this.openNode(node,scrollUpIfNeeded).then(function(){defer.resolve()})},100):defer.resolve():_.includes(this.$openedNodes,node)?defer.resolve():(this.$openedNodes.push(node),flat.$pending=!0,this.getChildren(node).then(function(children){children.length?flat.hasChildren=!0:node.$noChildren=!0;var reDrill=!1;if(_this.$drillDownMode&&_this.$currParentFlat&&flat.data!==_this.GO_UP_NODE&&_this.uniqueIdGetter(flat.data)===_this.uniqueIdGetter(_this.$currParentFlat.data)&&(reDrill=!0),
_this.$drillDownMode&&(reDrill||drillDown))_this.drillDown(flat);else{preSelect&&_this._preSelect(flat);var addedFlats=flat.pane._addChildren(children,flat.level+1,flat);scrollUpIfNeeded&&(addedFlats.length>=3?flat.pane.bringItemToView(addedFlats[2],!1):addedFlats.length&&flat.pane.bringItemToView(addedFlats[addedFlats.length-1],!1))}defer.resolve(),flat.$pending=!1})),defer.promise}}},closeNode:{value:function(node){if(_.includes(this.$openedNodes,node)){_.remove(this.$openedNodes,function(n){return n===node});var flat=this._flatFromNode(node);flat&&flat.pane._removeChildren(flat)}}},toggleExpansion:{value:function(node){var flat=this._flatFromNode(node);flat&&flat.pane.isNodeOpen(node)?this.closeNode(node):this.openNode(node,!0)}},deleteNode:{value:function(node){var flat=this._flatFromNode(node);flat.pane._deleteItem(flat)}},drillUp:{value:function(){if(this.$drillDownMode){this.closeNode(this.$currParentFlat.$origFlat.data);var parent=this.$currParentFlat.$origFlat.parent;parent&&parent.data!==this.GO_UP_NODE?this.drillDown(parent):this.drillUpToRoot(),this._refreshIndentations()}}},drillDown:{value:function(flatItem){var goUpFlat=flatItem.pane._createFlatItem(this.GO_UP_NODE);this.$currParentFlat=flatItem.pane._createFlatItem(flatItem.data,1,goUpFlat);for(var orig=flatItem;orig.$origFlat;)orig=orig.$origFlat;this.$currParentFlat.$origFlat=orig,flatItem.pane.dirCtrl&&flatItem.pane.dirCtrl.resetScroll(),flatItem.pane.$flatItems=[goUpFlat,this.$currParentFlat],flatItem.pane._addChildren(flatItem.data.$childrenCache,2,this.$currParentFlat),this.selectNode(this.$currParentFlat.data,!1),this._refreshIndentations()}},drillUpToRoot:{value:function(){this.$currParentFlat&&(this.$openedNodes=[],this.$currParentFlat.$origFlat.pane.dirCtrl.resetScroll(),this.setTreeData(this.$rootCache),delete this.$currParentFlat,this._refreshIndentations(),this.centerOnSelected())}},getCurrentParent:{value:function(){return this.$currParentFlat?this.$currParentFlat.data:null}},openDeepNodeByUniqueId:{value:function(uniqueId){var _this=this,defer=$q.defer();return this.nodeByIdGetter(uniqueId).then(function(node){_this.openDeepNode(node).then(function(){defer.resolve()})}),defer.promise}},openDeepNode:{value:function(node){var _this=this;if(!node)return void console.error("openDeepNode was called with undefined node");this.$drillDownMode&&this.drillUpToRoot();for(var defer=$q.defer(),nodesToOpen=[],curr=node;curr;)nodesToOpen.push(curr),curr=this.parentGetter(curr);if(!nodesToOpen.length)return void this.selectNode(node);nodesToOpen.reverse();var index=0,handleNext=function(){var nextId=_this.uniqueIdGetter(nodesToOpen[index]),nextNode=_this.findNode(function(n){return _this.uniqueIdGetter(n)===nextId});index+1<nodesToOpen.length?nextNode?_this.openNode(nextNode).then(function(){index++,handleNext()}):defer.resolve():$timeout(function(){if(nextNode){var flat=_this._flatFromNode(nextNode);flat?_this.selectNode(nextNode):_this.selectFirst()}else _this.selectFirst();defer.resolve()})};return handleNext(),defer.promise}},getChildren:{value:function(node){var _this=this,defer=$q.defer();if(this.childrenGetter)if(node&&node.$childrenCache)defer.resolve(node.$childrenCache);else if(!node&&this.$rootCache)defer.resolve(this.$rootCache);else{var childrenOrPromise=this.childrenGetter(node);childrenOrPromise&&childrenOrPromise.then?childrenOrPromise.then(function(children){children&&_this.sortingFunction&&(children=children.sort(_this.sortingFunction)),node?node.$childrenCache=children:_this.$rootCache=children,defer.resolve(children)}):(this.sortingFunction&&childrenOrPromise&&(childrenOrPromise=childrenOrPromise.sort(this.sortingFunction)),node?node.$childrenCache=childrenOrPromise:this.$rootCache=childrenOrPromise,defer.resolve(childrenOrPromise||[]))}else defer.resolve([]);return defer.promise}},_setSelected:{value:function(item){var fireEvent=void 0===arguments[1]||arguments[1];if(fireEvent&&item.data!==this.GO_UP_NODE&&this.$selectedNode!==this.GO_UP_NODE){var entityChange=!this.uniqueIdGetter||item.data&&this.$selectedNode&&this.uniqueIdGetter(item.data)!==this.uniqueIdGetter(this.$selectedNode)||!this.$selectedNode&&item.data||this.$selectedNode&&!item.data;this.$selectedNode=item.data,entityChange&&this.fire("item.selected",item.data)}else this.$selectedNode=item.data;this.$preSelectedNode=null}},_preSelect:{value:function(item){this.$preSelectedNode=item.data,item.pane.bringItemToView(item)}},selectPreSelected:{value:function(){this.$preSelectedNode&&this._setSelected(this._flatFromNode(this.$preSelectedNode))}},_isSelected:{value:function(item){return this.$freezedSelected?this.$freezedSelected===item.data:this.$selectedNode===item.data}},_isPreSelected:{value:function(item){return this.$freezedPreSelected?this.$freezedPreSelected===item.data:this.$preSelectedNode===item.data}},_freezeSelected:{value:function(){this.$freezedSelected=this.$selectedNode,this.$freezedPreSelected=this.$preSelectedNode}},_unFreezeSelected:{value:function(){delete this.$freezedSelected,delete this.$freezedPreSelected}},selectFirst:{value:function(){this.$viewPanes[0]&&this.$viewPanes[0].selectFirst()}},getSelectedNode:{value:function(){var ignoreFreeze=void 0!==arguments[0]&&arguments[0];return ignoreFreeze?this.$selectedNode||null:this.$freezedSelected||this.$selectedNode}},getPreSelectedNode:{value:function(){var ignoreFreeze=void 0!==arguments[0]&&arguments[0];return ignoreFreeze?this.$preSelectedNode||null:this.$freezedPreSelected||this.$preSelectedNode}},on:{value:function(event,listener){return _.includes(this.supportedEvents,event)?(this.listeners[event]||(this.listeners[event]=[]),this.listeners[event].push(listener),this):void console.error("jf-tree: Unsupported Event: "+event)}},off:{value:function(event,listener){return _.includes(this.supportedEvents,event)?void(this.listeners[event]&&(listener?_.remove(this.listeners[event],function(l){return l===listener}):this.listeners[event]=[])):void console.error("jf-tree: Unsupported Event: "+event)}},fire:{value:function(event){for(var _len=arguments.length,params=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)params[_key-1]=arguments[_key];var stopped=!1;return this.listeners[event]&&this.listeners[event].forEach(function(listener){stopped||listener.apply(void 0,params)===!1&&(stopped=!0)}),!stopped}},setObjectName:{value:function(objectName){var useAn=void 0!==arguments[1]&&arguments[1];return this.objectName=objectName,this.useAnWithObjectName=useAn,this}},sortBy:{value:function(){return this}},setActions:{value:function(actions){return this.actions=actions,this}},createViewPane:{value:function(viewPaneName){viewPaneName=viewPaneName||"default";var exists=this.getViewPane(viewPaneName);if(exists)return exists;var viewPane=new TreeViewPane(viewPaneName,this);return this.$viewPanes.push(viewPane),viewPane}},getViewPane:{value:function(viewPaneName){return viewPaneName=viewPaneName||"default",_.find(this.$viewPanes,function(vp){return vp.viewPaneName===viewPaneName})}},_setDirectiveController:{value:function(ctrl){var pane=this.getViewPane(ctrl.viewPaneName);pane?pane._setDirectiveController(ctrl):console.error("Missing view pane '"+ctrl.viewPaneName+"'. Forgot to create it?")}},setEmptyTreeText:{value:function(text){return this.emptyTreeText=text,this}},refreshFilter:{value:function(){this.$viewPanes.forEach(function(vp){return vp.refreshFilter(!0)})}},focus:{value:function(){this.$viewPanes[0]&&this.$viewPanes[0].focus()}},onViewUpdate:{value:function(originView){this.$viewPanes.forEach(function(vp){vp!==originView&&vp.update(!1)})}},refreshPaneSelection:{value:function(){this.$viewPanes.forEach(function(vp){return vp._buildFlatItems()})}},getParentNode:{value:function(node){var flat=this._flatFromNode(node),parent=flat.parent;if(parent)return parent.data}},_createContextMenu:{value:function(){var _this=this;this.ContextMenuService.contextMenu({selector:".jf-tree .jf-tree-item",build:function($trigger){var defer=_this.$q.defer(),rowCtrl=angular.element($trigger[0]).controller("jfTreeItem"),items=rowCtrl.data.data.$cachedCMItems;return items?defer.resolve(items):_this.contextMenuItemsGetter(rowCtrl.data.data,function(items){rowCtrl.data.data.$cachedCMItems=items,defer.resolve(items)}),defer.promise}})}},getNodesCount:{value:function(){var count=0;return this.$viewPanes.forEach(function(vp){count+=vp.getNodesCount()}),count}},getFilteredNodesCount:{value:function(){var count=0;return this.$viewPanes.forEach(function(vp){count+=vp.getFilteredNodesCount()}),count}},showLines:{value:function(){return this.linesVisible=!0,this._refreshIndentations(),this}},hideLines:{value:function(){this.linesVisible=!1,this._refreshIndentations()}},bringNodeToView:{value:function(node){var doScroll=void 0!==arguments[1]&&arguments[1],fi=this._flatFromNode(node);fi&&fi.pane.bringItemToView(fi,!doScroll)}},registerEventOnNode:{value:function(event,callback){this.eventsToRegisterOnNode||(this.eventsToRegisterOnNode=[]),this.eventsToRegisterOnNode.push({event:event,callback:callback})}}}),JFTreeApiClass}();return JFTreeApiClass}JFTreeApi.$inject=["$q","$timeout","AdvancedStringMatch","ContextMenuService","JFrogEventBus"];var _toConsumableArray=function(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)},_createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.JFTreeApi=JFTreeApi,Object.defineProperty(exports,"__esModule",{value:!0});var TreeViewPane=__webpack_require__(121).TreeViewPane},function(module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};Object.defineProperty(exports,"__esModule",{value:!0}),exports.TreeViewPane=function(){function TreeViewPane(viewPaneName,treeApi){_classCallCheck(this,TreeViewPane),this.viewPaneName=viewPaneName,this.treeApi=treeApi,this.$flatItems=[],this.itemHeight="50px",this.itemsPerPage=25,this.bottomReached=!1,this._renderLinesBackgrounds()}return _createClass(TreeViewPane,{setItemsPerPage:{value:function(ipp){return this.itemsPerPage=ipp,this._renderLinesBackgrounds(),this}},setItemHeight:{value:function(height){return this.itemHeight=height,this}},update:{value:function(){var notifyTree=void 0===arguments[0]||arguments[0];this.refreshFilter(),this.dirCtrl&&this.dirCtrl.refresh(),this.autoHeight&&this._setAutoItemsPerPage(),notifyTree&&this.treeApi.onViewUpdate(this)}},_getCurrentScrollPos:{value:function(){return this.dirCtrl.virtualScrollIndex+this.dirCtrl.virtScrollDisplacement}},scrollTo:{value:function(scrollPos){var duration=void 0===arguments[1]?500:arguments[1],dist=scrollPos-this._getCurrentScrollPos();this.scroll(dist,duration)}},_scrollTo:{value:function(scrollPos){var dist=scrollPos-this._getCurrentScrollPos();this._scroll(dist)}},scroll:{value:function(numOfRows){var _this=this,duration=void 0===arguments[1]?500:arguments[1];if(0===duration)return void this._scroll(numOfRows);var $timeout=this.treeApi.$timeout;this.scrollTimeout&&($timeout.cancel(this.scrollTimeout),delete this.scrollTimeout);var quadraticEase=function(k){return k*(2-k)},interval=40,currentScrollPos=this._getCurrentScrollPos(),steps=Math.ceil(duration/interval),currentStep=1,cycle=function(){var progress=currentStep/steps;_this._scrollTo(currentScrollPos+quadraticEase(progress)*numOfRows),currentStep++,currentStep<=steps?_this.scrollTimeout=$timeout(function(){return cycle()},interval):delete _this.scrollTimeout};cycle()}},_scroll:{value:function(numOfRows){if(numOfRows){var abs=Math.abs(numOfRows),sign=numOfRows/abs,full=Math.floor(abs);this.dirCtrl.virtualScrollIndex+=sign*full,this.dirCtrl.virtScrollDisplacement+=sign*(abs-full),this.dirCtrl.virtScrollDisplacement>=1&&(this.dirCtrl.virtualScrollIndex+=1,this.dirCtrl.virtScrollDisplacement-=1),this.dirCtrl.virtScrollDisplacement<0&&(this.dirCtrl.virtualScrollIndex-=1,this.dirCtrl.virtScrollDisplacement=1-Math.abs(this.dirCtrl.virtScrollDisplacement)),this.dirCtrl.virtualScrollIndex<0&&(this.dirCtrl.virtualScrollIndex=0,this.dirCtrl.virtScrollDisplacement=0),this.dirCtrl.virtualScrollIndex+this.itemsPerPage>=this._getPrePagedData().length?(this.bottomReached||(this.treeApi.fire("bottom-reached"),this.bottomReached=!0),this.dirCtrl.virtualScrollIndex=this._getPrePagedData().length-this.itemsPerPage,this.dirCtrl.virtScrollDisplacement=0):this.bottomReached=!1,this.dirCtrl.virtualScrollIndex<0&&(this.dirCtrl.virtualScrollIndex=0),this.dirCtrl.syncFakeScroller(!1)}}},_setDirectiveController:{value:function(directiveController){this.dirCtrl=directiveController,this.dirCtrl.viewPane=this,"auto"===this.itemsPerPage&&(this.autoHeight=!0,this._setAutoItemsPerPage())}},_setAutoItemsPerPage:{value:function(){var _this=this;this.treeApi.$timeout(function(){var containerHeight=$(_this.dirCtrl.$element).parent().height();_this.containerHeight=containerHeight,_this.setItemsPerPage(Math.floor(containerHeight/parseFloat(_this.itemHeight)))})}},_hasHorizontalScrollbar:{value:function(){var hScrollWrapper=$(this.dirCtrl.$element).find(".h-scroll-wrapper");return hScrollWrapper[0].scrollWidth>hScrollWrapper.width()}},_getHorizontalScrollbarHeight:{value:function(){var hScrollWrapper=$(this.dirCtrl.$element).find(".h-scroll-wrapper");return hScrollWrapper.height()-hScrollWrapper[0].clientHeight}},_getPageData:{value:function(){var prePage=this._getPrePagedData(),vScrollIndex=void 0!==this.dirCtrl.$freezedVScrollIndex?this.dirCtrl.$freezedVScrollIndex:this.dirCtrl.virtualScrollIndex,additionals=vScrollIndex+this.itemsPerPage+2<=prePage.length?2:vScrollIndex+this.itemsPerPage+1<=prePage.length?1:0;return prePage.slice(vScrollIndex,vScrollIndex+this.itemsPerPage+additionals)}},_getPrePagedData:{value:function(){var ignoreFreeze=void 0!==arguments[0]&&arguments[0];return this._getSortedData(this._getFilteredData(this._getRawData(ignoreFreeze),ignoreFreeze))}},_getSortedData:{value:function(sourceData){return sourceData}},_getFilteredData:{value:function(sourceData){var _this=this,ignoreCache=void 0!==arguments[1]&&arguments[1];if(sourceData=sourceData||this._getRawData(ignoreCache),this.treeApi.filterCallback&&sourceData.length){var filterCache=void 0;return this.filterCache&&!ignoreCache||(filterCache=_.filter(sourceData,function(item){for(var parentIsFilteredOut=!1,curr=item;curr.parent;)curr=curr.parent;return curr.data===_this.treeApi.GO_UP_NODE||_this.treeApi.filterCallback(curr.data)||(parentIsFilteredOut=!0),item.data===_this.treeApi.GO_UP_NODE||!parentIsFilteredOut&&_this.treeApi.filterCallback(item.data)})),ignoreCache?filterCache||[]:filterCache?(this.filterCache=filterCache,this.filterCache):this.filterCache}return sourceData}},refreshFilter:{value:function(){var full=void 0!==arguments[0]&&arguments[0];full&&this.$flatItems.forEach(function(fi){fi.data&&void 0!==fi.data.$$$filterResultCache&&delete fi.data.$$$filterResultCache}),delete this.filterCache}},_getRawData:{value:function(){var ignoreFreeze=void 0!==arguments[0]&&arguments[0];return(ignoreFreeze?null:this.$freezedItems)||this.$flatItems||[]}},_freeze:{value:function(){this.treeApi.$masterFreeze||(this.$freezedItems=[].concat(this.$flatItems),this.$freezedOpened=[].concat(this.treeApi.$openedNodes),this.treeApi._freezeSelected(),this.dirCtrl&&this.dirCtrl._freezeVScroll(),this.$freezed=!0)}},_unFreeze:{value:function(){this.treeApi.$masterFreeze||(delete this.$freezedItems,delete this.$freezedOpened,this.treeApi._unFreezeSelected(),this.dirCtrl&&this.dirCtrl._unFreezeVScroll(),this.$freezed=!1,this.refreshFilter(),this.dirCtrl&&this.dirCtrl.syncFakeScroller())}},_addChildren:{value:function(children){var _this=this,level=void 0===arguments[1]?0:arguments[1],parent=void 0===arguments[2]?null:arguments[2],atEnd=void 0!==arguments[3]&&arguments[3],parentIndex=void 0;parent?!function(){var additionals=0;atEnd&&!function(){var addAdditionals=function(rootArray){rootArray.forEach(function(node){additionals++,_this.isNodeOpen(node)&&addAdditionals(_this._flatFromNode(node).data.$childrenCache)})};addAdditionals(parent.data.$childrenCache)}(),parentIndex=_this.$flatItems.indexOf(parent)+additionals}():parentIndex=atEnd?this.$flatItems.length-1:-1;var added=[];children.forEach(function(node){var flatItem=_this._createFlatItem(node,level,parent);added.push(flatItem),_this.treeApi.isNodeOpen(node,!0)&&_this.treeApi.getChildren(node).then(function(_children){_children&&_children.length&&_this._addChildren(_children,level+1,flatItem)})});var before=this.$flatItems.slice(0,parentIndex+1),after=this.$flatItems.slice(parentIndex+1);return this.$flatItems=before.concat(added).concat(after),this.update(),added}},_removeChildren:{value:function(parent){this.$flatItems=_.filter(this.$flatItems,function(flat){for(var remove=!1,_parent=flat.parent;_parent;){if(_parent===parent){remove=!0;break}_parent=_parent.parent}return!remove}),this.update()}},_normalizeScroll:{value:function(){var _this=this;this.treeApi.$timeout(function(){_this.dirCtrl&&(_this.dirCtrl.virtualScrollIndex+_this.itemsPerPage>_this.$flatItems.length&&_this._scrollTo(_this.$flatItems.length-_this.itemsPerPage+1.999),_this.$flatItems.length<_this.itemsPerPage&&_this.dirCtrl.resetScroll())})}},_deleteItem:{value:function(item){var index=this.$flatItems.indexOf(item);index>0&&(delete this.$flatItems[index-1].$isLastChild,delete this.$flatItems[index-1].data.$indentation),_.remove(this.$flatItems,function(fi){return fi===item}),_.remove(item.parent.data.$childrenCache,function(node){return node===item.data}),this._removeChildren(item)}},_buildFlatItems:{value:function(){var _this=this;this.$flatItems=[];var paneRoot=_.filter(this.treeApi.$root,function(node){return _this.treeApi.paneSelector(node)===_this.viewPaneName});this._addChildren(paneRoot)}},_createFlatItem:{value:function(node){var level=void 0===arguments[1]?0:arguments[1],parent=void 0===arguments[2]?null:arguments[2],flat={pane:this,data:node,level:level,parent:parent,hasChildren:void 0};return this._refreshFlatChildrenCheck(flat),flat}},_refreshFlatChildrenCheck:{value:function(flat){if(this.treeApi.childrenChecker){var check=this.treeApi.childrenChecker(flat.data);check&&check.then?check.then(function(_check){flat.hasChildren=_check}):flat.hasChildren=check}else this.treeApi.getChildren(flat.data).then(function(children){flat.hasChildren=!(!children||!children.length)})}},_recursiveOpenRestore:{value:function(node){var _this=this,restoreIfClosed=void 0===arguments[1]||arguments[1],defer=this.treeApi.$q.defer(),openRestoreNode=function(node){_this.treeApi.openNode(node,!1,!1,!1).then(function(){var children=node.$childrenCache;children&&children.length?!function(){node.children=!0;var pendingPromises=children.length;children.forEach(function(child){_this._recursiveOpenRestore(child,!1).then(function(){pendingPromises--,0===pendingPromises&&defer.resolve()})})}():defer.resolve()})},id=this.treeApi.uniqueIdGetter(node),opened=_.find(this.treeApi.$openedNodes,function(n){return _this.treeApi.uniqueIdGetter(n)===id});return opened?(_.remove(this.treeApi.$openedNodes,function(n){return n===opened}),openRestoreNode(node)):restoreIfClosed?!function(){var closedRoot=_.find(_this.$flatItems,function(fi){return fi.data&&fi.data!==_this.treeApi.GO_UP_NODE&&!_.includes(_this.treeApi.$openedNodes,fi.data)&&_this.treeApi.uniqueIdGetter(fi.data)===id});closedRoot?(defer.promise.then(function(){_this.treeApi.closeNode(closedRoot.data)}),openRestoreNode(closedRoot.data)):defer.resolve()}():defer.resolve(),defer.promise}},refreshNode:{value:function(node){var _this=this,defer=this.treeApi.$q.defer(),flat=this._flatFromNode(node);return flat&&!function(){_this._freeze(),_this._removeChildren(flat),delete flat.data.$childrenCache,delete flat.data.$noChildren,delete flat.hasChildren;var doRefresh=function(){_this.refreshNodeContextMenu(flat.data),_this._recursiveOpenRestore(flat.data).then(function(){_this._refreshFlatChildrenCheck(flat),_this._unFreeze(),defer.resolve()})};_.find(_this.treeApi.$root,function(node){return node===flat.data})?(delete _this.treeApi.$rootCache,_this.treeApi.getChildren().then(function(){return doRefresh()})):doRefresh()}(),defer.promise}},refreshNodeContextMenu:{value:function(node){delete node.$cachedCMItems}},refreshView:{value:function(){var _this=this,mainDefer=this.treeApi.$q.defer();return this._freeze(),this.treeApi._getRoot().then(function(){_this.treeApi.uniqueIdGetter?!function(){var resolveCount=0,itemsCount=_this.$flatItems.length;_this.$flatItems.length||(_this._unFreeze(),mainDefer.resolve()),_this.$flatItems.forEach(function(fi,ind){_this._recursiveOpenRestore(fi.data,!1).then(function(){resolveCount++,resolveCount===itemsCount&&!function(){var selectedId=_this.treeApi.$selectedNode&&_this.treeApi.$selectedNode!==_this.treeApi.GO_UP_NODE?_this.treeApi.uniqueIdGetter(_this.treeApi.$selectedNode):null,newSelected=null!==selectedId?_.find(_this.$flatItems,function(fi){return fi.data!==_this.treeApi.GO_UP_NODE&&_this.treeApi.uniqueIdGetter(fi.data)===selectedId}):null;_this.treeApi.$selectedNode===_this.treeApi.GO_UP_NODE&&(newSelected=_.find(_this.$flatItems,function(fi){return fi.data===_this.treeApi.GO_UP_NODE})),newSelected?(_this.treeApi._setSelected(newSelected),_this._unFreeze(),mainDefer.resolve()):selectedId?_this.treeApi.nodeByIdGetter(selectedId).then(function(node){_this._unFreeze(),_this.treeApi.openDeepNode(node).then(function(){mainDefer.resolve()})})["catch"](function(){_this.selectFirst(),_this._unFreeze(),mainDefer.resolve()}):(_this._unFreeze(),mainDefer.resolve())}()})})}():(_this._unFreeze(),mainDefer.resolve())}),mainDefer.promise}},selectFirst:{value:function(){this._getPrePagedData().length&&this.treeApi._setSelected(this._getPrePagedData()[0])}},getQuickFindMatches:{value:function(){var _this=this;if(this.treeApi.quickFindTerm){var matches=_.filter(this.$flatItems,function(fi,ind){var text=_this.treeApi.textGetter(fi.data),matchObj=_this.treeApi.AdvancedStringMatch.match(text,_this.treeApi.quickFindTerm),matched=matchObj?matchObj.matched:null;return matched&&(fi.$$index=ind),matched});return this.treeApi.$selectedNode&&!function(){var selectedIndex=_.findIndex(_this.$flatItems,function(fi){return fi.data===_this.treeApi.$selectedNode}),matchesAfterSelection=_.filter(matches,function(match){return match.$$index>=selectedIndex}),matchesBeforeSelection=_.difference(matches,matchesAfterSelection);matches=matchesAfterSelection.concat(matchesBeforeSelection)}(),matches}return[]}},centerOnNode:{value:function(node){var flat=this._flatFromNode(node);flat&&this.centerOnItem(flat)}},_flatFromNode:{value:function(node){var _this=this;if(node===this.treeApi.GO_UP_NODE)return _.find(this.$flatItems,{$specialNode:"GO_UP"});var refMatch=_.find(this.$flatItems,function(flat){return flat.data===node});if(!refMatch){var _ret=function(){var nodeId=_this.treeApi.uniqueIdGetter(node),idMatch=_.find(_this.$flatItems,function(flat){if(flat.data===_this.treeApi.GO_UP_NODE)return!1;var flatId=_this.treeApi.uniqueIdGetter(flat.data);return flatId===nodeId});return{v:idMatch}}();if("object"==typeof _ret)return _ret.v}return refMatch}},bringItemToView:{value:function(item){var jump=void 0===arguments[1]||arguments[1],prePaged=this._getPrePagedData(!0),index=prePaged.indexOf(item);if(index-1<this.dirCtrl.virtualScrollIndex)this.scrollTo(index,jump?0:void 0);else if(index+1>this.dirCtrl.virtualScrollIndex+this.itemsPerPage){var fullItems=this.containerHeight?Math.floor(this.containerHeight/parseFloat(this.itemHeight)):this.itemsPerPage,scrollIndex=index-fullItems>=0?index-fullItems:0,displace=this.containerHeight?1-(this.containerHeight/parseFloat(this.itemHeight)-fullItems):1,hScrollFactor=0;if(this._hasHorizontalScrollbar()){var pixelFactor=this._getHorizontalScrollbarHeight();hScrollFactor=pixelFactor/parseFloat(this.itemHeight)}this.scrollTo(scrollIndex+displace+hScrollFactor,jump?0:void 0)}this.dirCtrl.syncFakeScroller(!1)}},centerOnItem:{value:function(item){var prePaged=this._getPrePagedData(!0),index=prePaged.indexOf(item),halfPage=Math.floor(this.itemsPerPage/2);prePaged.length<=this.itemsPerPage||index-halfPage<0?this.dirCtrl.virtualScrollIndex=0:index+(this.itemsPerPage-halfPage)>prePaged.length?this.dirCtrl.virtualScrollIndex=prePaged.length-this.itemsPerPage:this.dirCtrl.virtualScrollIndex=index-halfPage,this.dirCtrl.syncFakeScroller(!1),this.treeApi._setSelected(item)}},focus:{value:function(){this.dirCtrl&&$(this.dirCtrl.$element).find(".jf-tree").focus()}},findNode:{value:function(findFunction){var _this=this,item=_.find(this.$flatItems,function(fi){return fi.data!==_this.treeApi.GO_UP_NODE&&findFunction(fi.data)});if(item)return item.data}},findNodeByUniqueId:{value:function(uniqueId){var _this=this,item=_.find(this.$flatItems,function(fi){return fi.data!==_this.treeApi.GO_UP_NODE&&_this.treeApi.uniqueIdGetter(fi.data)===uniqueId});if(item)return item.data}},isNodeOpen:{value:function(node){var ignoreFreeze=void 0!==arguments[1]&&arguments[1];return!ignoreFreeze&&this.$freezedOpened&&_.includes(this.$freezedOpened,node)||!this.$freezedOpened&&_.includes(this.treeApi.$openedNodes,node)}},getNodesCount:{value:function(){return this._getRawData(!0).length}},getFilteredNodesCount:{value:function(){var _this=this;return _.filter(this._getFilteredData(null,!0),function(fi){return fi.data!==_this.treeApi.GO_UP_NODE}).length}},_refreshIndentations:{value:function(){this.$flatItems.forEach(function(fi){fi.data.$indentation&&delete fi.data.$indentation,fi.data.$childrenCache&&fi.data.$childrenCache.forEach(function(node){node.$indentation&&delete node.$indentation})})}},_renderLinesBackgrounds:{value:function(){var height=parseFloat(this.itemHeight),canvas=$('<canvas width="26" height="'+height+'"></canvas>')[0],ctx=canvas.getContext("2d");ctx.strokeStyle="#aaaaaa",ctx.beginPath(),ctx.moveTo(13,0),ctx.lineTo(13,height),ctx.stroke();var verticalLine=canvas.toDataURL("image/png",1);ctx.clearRect(0,0,26,height),ctx.beginPath(),ctx.moveTo(0,height/2),ctx.lineTo(26,height/2),ctx.stroke();var horizontalLine=canvas.toDataURL("image/png",1);ctx.clearRect(0,0,26,height),ctx.beginPath(),ctx.moveTo(13,0),ctx.lineTo(13,height),ctx.moveTo(13,height/2),ctx.lineTo(26,height/2),ctx.stroke();var connectionPoint=canvas.toDataURL("image/png",1);ctx.clearRect(0,0,26,height),ctx.beginPath(),ctx.moveTo(13,0),ctx.lineTo(13,height/2),ctx.lineTo(26,height/2),ctx.stroke();var lastConnectionPoint=canvas.toDataURL("image/png",1);this.linesBackgrounds={"vertical-line":verticalLine,"horizontal-line":horizontalLine,"connection-point":connectionPoint,"last-connection-point":lastConnectionPoint}}}}),TreeViewPane}()},function(module,exports){"use strict";function jfTree(){return{controller:jfTreeController,controllerAs:"jfTree",bindToController:!0,scope:{api:"=",viewPaneName:"@?"},templateUrl:"ui_components/jf_tree/jf_tree.html"}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfTree=jfTree,Object.defineProperty(exports,"__esModule",{value:!0});var jfTreeController=function(){function jfTreeController($scope,$element,$timeout,$compile,$rootScope){var _this=this;_classCallCheck(this,jfTreeController),this.$element=$element,this.$timeout=$timeout,this.$compile=$compile,this.$scope=$scope,this.$rootScope=$rootScope,this.cellScopes=[],this.maxFakeScrollHeight=1e6,$scope.$watch("jfTree.api",function(api){_this.api&&_this.api._setDirectiveController(_this),_this.api&&!_this.paginationApi&&(_this.paginationApi=new PaginationApi(_this),_this.paginationApi.registerChangeListener(function(){_this.$timeout(function(){return _this.refresh(!1)})}),_this.currentPage=0,_this.virtualScrollIndex=0,_this.virtScrollDisplacement=0)}),$scope.$on("$destroy",function(){_this.cellScopes.forEach(function(s){return s.$destroy()})}),$(window).on("resize",function(){_this.viewPane.autoHeight&&_this.viewPane._setAutoItemsPerPage()}),$(this.$element).find(".jf-tree").keydown(function(e){_this.$timeout(function(){switch(e.key){case"Down":case"ArrowDown":e.preventDefault(),_this.api._onArrowKey(!0,_this.viewPane);break;case"Up":case"ArrowUp":e.preventDefault(),_this.api._onArrowKey(!1,_this.viewPane);break;case"Enter":e.preventDefault(),_this.api.getPreSelectedNode()===_this.api.GO_UP_NODE?_this.api.drillUp():(_this.api.selectPreSelected(),_this.api.toggleSelected(!0));break;case"Right":case"ArrowRight":e.preventDefault();var relevant=_this.api.getPreSelectedNode()||_this.api.getSelectedNode();relevant&&(_this.api.isNodeOpen(relevant)?relevant.$childrenCache&&relevant.$childrenCache.length&&_this.api.preSelectNode(relevant.$childrenCache[0]):_this.api.openNode(relevant,!0));break;case"Left":case"ArrowLeft":e.preventDefault();var relevant=_this.api.getPreSelectedNode()||_this.api.getSelectedNode();if(relevant)if(_this.api.isNodeOpen(relevant))_this.api.closeNode(relevant);else{var _parent=_this.api.getParentNode(relevant);_parent&&_this.api.preSelectNode(_parent)}break;default:e.ctrlKey||e.shiftKey||e.metaKey||e.key.toLowerCase()!==String.fromCharCode(e.which).toLowerCase()||_this.api.fire("keydown",e)}})})}return jfTreeController.$inject=["$scope","$element","$timeout","$compile","$rootScope"],_createClass(jfTreeController,{$onInit:{value:function(){this.viewPaneName=this.viewPaneName||"default"}},clearFilter:{value:function(){this.treeFilter="",this.onUpdateFilter()}},compileTemplate:{value:function(elem,itemId){var node=this.viewPane._getPageData()[itemId];if(node){var existingScope=_.find(this.cellScopes,function(s){return s.node===node.data}),itemScope=void 0;existingScope?itemScope=existingScope:(itemScope=this.$rootScope.$new(),this.cellScopes.push(itemScope),_.extend(itemScope,{node:node.data,appScope:this.api.appScope,tree:{api:this.api}}));var template=_.isFunction(this.api.nodeTemplate)?this.api.nodeTemplate(node.data):this.api.nodeTemplate,templateElem=$(template);this.$compile(templateElem)(itemScope),elem.empty(),elem.append(templateElem)}}},_normalizeWheelEvent:{value:function(event){var PIXEL_STEP=10,LINE_HEIGHT=40,PAGE_HEIGHT=800,sX=0,sY=0,pX=0,pY=0;return"detail"in event&&(sY=event.detail),"wheelDelta"in event&&(sY=-event.wheelDelta/120),"wheelDeltaY"in event&&(sY=-event.wheelDeltaY/120),"wheelDeltaX"in event&&(sX=-event.wheelDeltaX/120),"axis"in event&&event.axis===event.HORIZONTAL_AXIS&&(sX=sY,sY=0),pX=sX*PIXEL_STEP,pY=sY*PIXEL_STEP,"deltaY"in event&&(pY=event.deltaY),"deltaX"in event&&(pX=event.deltaX),(pX||pY)&&event.deltaMode&&(1==event.deltaMode?(pX*=LINE_HEIGHT,pY*=LINE_HEIGHT):(pX*=PAGE_HEIGHT,pY*=PAGE_HEIGHT)),pX&&!sX&&(sX=pX<1?-1:1),pY&&!sY&&(sY=pY<1?-1:1),
{spinX:sX,spinY:sY,pixelX:pX,pixelY:pY}}},onMouseWheel:{value:function($event,$delta,$deltaX,$deltaY){this.viewPane.scrollTimeout&&(this.$timeout.cancel(this.viewPane.scrollTimeout),delete this.viewPane.scrollTimeout);var normalDelta=this._normalizeWheelEvent($event.originalEvent).pixelY,xDelta=this._normalizeWheelEvent($event.originalEvent).pixelX;if(Math.abs(normalDelta)<Math.abs(xDelta))return void $event.stopPropagation();var scrollAmount=.02*Math.abs(normalDelta),scrollPosBefore=this.viewPane._getCurrentScrollPos();$deltaY<0?this.viewPane._scrollTo(scrollPosBefore+scrollAmount):$deltaY>0&&this.viewPane._scrollTo(scrollPosBefore-scrollAmount),this.currentPage=Math.floor((this.virtualScrollIndex+this.viewPane.itemsPerPage-1)/this.viewPane.itemsPerPage),scrollPosBefore!==this.viewPane._getCurrentScrollPos()&&$event.preventDefault(),this.syncFakeScroller(!1),this.viewPane.focus()}},resetScroll:{value:function(){this.virtualScrollIndex=0,this.virtScrollDisplacement=0,this.currentPage=1,this.syncFakeScroller(!1)}},getTotalScrollHeight:{value:function(){return this.viewPane._getPrePagedData().length*parseFloat(this.viewPane.itemHeight)}},getPageHeight:{value:function(){if(this.viewPane.containerHeight)return this.viewPane.containerHeight;var len=this.viewPane._getPrePagedData().length;return len<this.viewPane.itemsPerPage?len*parseFloat(this.viewPane.itemHeight):this.viewPane.itemsPerPage*parseFloat(this.viewPane.itemHeight)}},initScrollFaker:{value:function(){var _this=this,scrollParent=$(this.$element).find(".scroll-faker-container");scrollParent.on("scroll",function(e){_this.$scope.$apply(function(){if(_this.$$settingScroll)return void delete _this.$$settingScroll;_this.viewPane.scrollTimeout&&(_this.$timeout.cancel(_this.viewPane.scrollTimeout),delete _this.viewPane.scrollTimeout);var len=_this.viewPane._getPrePagedData().length;if(len){var maxScrollTop=scrollParent[0].scrollHeight-scrollParent.outerHeight(),relativePosition=scrollParent.scrollTop()/maxScrollTop;_.isNaN(relativePosition)&&(relativePosition=1);var newScrollIndex=relativePosition*(len-_this.viewPane.itemsPerPage);newScrollIndex<0&&(newScrollIndex=0),_this.virtualScrollIndex=Math.floor(newScrollIndex),_this.virtScrollDisplacement=newScrollIndex-_this.virtualScrollIndex,_this.currentPage=Math.floor((_this.virtualScrollIndex+_this.viewPane.itemsPerPage-1)/_this.viewPane.itemsPerPage)}else _this.virtualScrollIndex=0,_this.virtScrollDisplacement=0,_this.currentPage=0;_this.api.fire("pagination.change",_this.paginationApi.getCurrentPage())})})}},getTranslate:{value:function(){var displacement=void 0!==this.$freezedVScrollDisplacement?this.$freezedVScrollDisplacement:this.virtScrollDisplacement;if(displacement){var pixels=displacement*parseFloat(this.viewPane.itemHeight);return pixels}return 0}},syncFakeScroller:{value:function(){var _this=this,delay=void 0===arguments[0]||arguments[0],len=this.viewPane._getPrePagedData(!0).length,scrollParent=$(this.$element).find(".scroll-faker-container"),relativePosition=this.viewPane._getCurrentScrollPos()/(len-this.viewPane.itemsPerPage),sync=function(){var maxScrollTop=scrollParent[0].scrollHeight-scrollParent.outerHeight(),scrollTop=Math.floor(maxScrollTop*relativePosition);_this.$$settingScroll=!0,scrollParent.scrollTop(scrollTop)};delay?this.$timeout(sync):sync()}},getScrollWidth:{value:function(){var el=$(this.$element).find(".scroll-faker-container")[0];return el.offsetWidth-el.clientWidth}},refresh:{value:function(){}},isEmpty:{value:function(){return!(!this.api.dataWasSet||this.viewPane._getRawData().length||this.viewPane.$freezed)}},_freezeVScroll:{value:function(){this.$freezedVScrollIndex=this.virtualScrollIndex,this.$freezedVScrollDisplacement=this.virtScrollDisplacement}},_unFreezeVScroll:{value:function(){delete this.$freezedVScrollIndex,delete this.$freezedVScrollDisplacement}}}),jfTreeController}();jfTreeController.$inject=["$scope","$element","$timeout","$compile","$rootScope"];var PaginationApi=function(){function PaginationApi(treeCtrl){_classCallCheck(this,PaginationApi),this.treeCtrl=treeCtrl}return _createClass(PaginationApi,{getTotalPages:{value:function(){return Math.ceil(this.treeCtrl.viewPane.getTotalLengthOfData()/this.treeCtrl.viewPane.itemsPerPage)}},getCurrentPage:{value:function(){return this.treeCtrl.currentPage+1}},nextPage:{value:function(){this.getCurrentPage()!==this.getTotalPages()&&(this.treeCtrl.currentPage++,this.syncVirtualScroll(),this.update(),this.treeCtrl.api.fire("pagination.change",this.getCurrentPage()))}},prevPage:{value:function(){1!==this.getCurrentPage()&&(this.treeCtrl.currentPage--,this.syncVirtualScroll(),this.update(),this.treeCtrl.api.fire("pagination.change",this.getCurrentPage()))}},setPage:{value:function(pageNum){pageNum<1||pageNum>this.getTotalPages()||(this.treeCtrl.currentPage=pageNum-1,this.syncVirtualScroll(),this.update(),this.treeCtrl.api.fire("pagination.change",this.getCurrentPage()))}},update:{value:function(){var _this=this;this.getCurrentPage()>this.getTotalPages()&&this.setPage(this.getTotalPages()),this.listeners&&this.listeners.forEach(function(listener){return listener(_this.getCurrentPage())})}},registerChangeListener:{value:function(listener){this.listeners||(this.listeners=[]),this.listeners.push(listener)}},syncVirtualScroll:{value:function(){this.treeCtrl.virtualScrollIndex=this.treeCtrl.currentPage*this.treeCtrl.viewPane.itemsPerPage,this.treeCtrl.syncFakeScroller()}}}),PaginationApi}()},function(module,exports){"use strict";function jfTreeItem(){return{controller:jfTreeItemController,controllerAs:"jfTreeItem",bindToController:!0,replace:!0,scope:{data:"=",itemId:"=",tree:"="},templateUrl:"ui_components/jf_tree/jf_tree_item.html"}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfTreeItem=jfTreeItem,Object.defineProperty(exports,"__esModule",{value:!0});var jfTreeItemController=function(){function jfTreeItemController($scope,$element,$timeout,AdvancedStringMatch){_classCallCheck(this,jfTreeItemController),this.$element=$element,this.$timeout=$timeout,this.$scope=$scope,this.asm=AdvancedStringMatch,$(this.$element).prop("ctrl",this)}return jfTreeItemController.$inject=["$scope","$element","$timeout","AdvancedStringMatch"],_createClass(jfTreeItemController,{$onInit:{value:function(){this._watchSelection(),this._watchExpansion(),this._registerEvents()}},_registerEvents:{value:function(){var _this=this;this.tree.api.eventsToRegisterOnNode&&this.tree.api.eventsToRegisterOnNode.forEach(function(registeredEvent){_this.tree.api.JFrogEventBus.registerOnScope(_this.$scope,registeredEvent.event,function(){for(var _len=arguments.length,params=Array(_len),_key=0;_key<_len;_key++)params[_key]=arguments[_key];registeredEvent.callback(_this.data.data,params)})})}},initExpander:{value:function(){this._syncExpansionClass(this.isExpanded())}},_syncExpansionClass:{value:function(expanded){var iconElem=$(this.$element).find(".node-expander");expanded?iconElem.addClass("expanded"):iconElem.removeClass("expanded")}},_watchExpansion:{value:function(){var _this=this;this.$scope.$watch("jfTreeItem.isExpanded()",function(expanded){return _this._syncExpansionClass(expanded)}),this.$scope.$watch("jfTreeItem.data",function(){return _this._syncExpansionClass(_this.isExpanded())})}},_watchSelection:{value:function(){var _this=this,toggleClass=function(add,className){add?$(_this.$element).addClass(className):$(_this.$element).removeClass(className)};this.$scope.$watch("jfTreeItem.tree.api.$freezedSelected || jfTreeItem.tree.api.$selectedNode",function(selected){var iAmSelected=selected===_this.data.data;toggleClass(iAmSelected,"selected")}),this.$scope.$watch("jfTreeItem.tree.api.$freezedPreSelected || jfTreeItem.tree.api.$preSelectedNode",function(preSelected){var iAmPreSelected=preSelected===_this.data.data;toggleClass(iAmPreSelected,"pre-selected")}),this.$scope.$watch("jfTreeItem.data",function(){var iAmPreSelected=(_this.tree.api.$freezedPreSelected||_this.tree.api.$preSelectedNode)===_this.data.data,iAmSelected=(_this.tree.api.$freezedSelected||_this.tree.api.$selectedNode)===_this.data.data;toggleClass(iAmSelected,"selected"),toggleClass(iAmPreSelected,"pre-selected")})}},_getTreeContainer:{value:function(){return $(this.tree.$element).find(".jf-tree-container")}},isSelected:{value:function(){return this.tree.api._isSelected(this.data)}},isPreSelected:{value:function(){return this.tree.api._isPreSelected(this.data)}},onItemClick:{value:function(e){"click"===e.type&&(this.data.data===this.tree.api.GO_UP_NODE?this.tree.api.drillUp():(this.tree.api._setSelected(this.data),this.tree.api.fire("item.clicked",this.data.data)))}},onItemDoubleClick:{value:function(){this.tree.api.fire("item.dblClicked",this.data.data)}},isExpanded:{value:function(){return this.tree.viewPane.isNodeOpen(this.data.data)}},toggleExpansion:{value:function(){this.tree.api.toggleExpansion(this.data.data)}},isQuickFindMatch:{value:function(){var elem=$(this.$element).find(".jf-tree-item-content .node-text");if(elem.length){var text=elem.text();if(elem.unhighlight(),text&&this.tree.api.quickFindTerm){var asmResponse=this.asm.match(text,this.tree.api.quickFindTerm);return asmResponse.matched&&this.asm.highlight(elem,asmResponse.segments),asmResponse.matched}return!1}}},getClasses:{value:function(){var classes=[];return this.isQuickFindMatch()&&classes.push("quick-find-match"),classes}},getCustomClasses:{value:function(){if(this.data.data&&this.data.data!==this.tree.api.GO_UP_NODE&&this.tree.api.classGetter){var classes=this.tree.api.classGetter(this.data.data);return classes?_.isArray(classes)||(classes=[classes]):classes=[],classes}return[]}},shouldShowExpander:{value:function(){return this.data.hasChildren&&!this.data.data.$noChildren&&!this.data.$pending}},getIndentation:{value:function(){return this.data.data.$indentation||this.createIndentation(),this.data.data.$indentation}},createIndentation:{value:function(){if(!this.tree.api.linesVisible)return void(this.data.data.$indentation=_.map(new Array(this.data.level),function(i){return{}}));for(var flats=this.data.pane.$flatItems,isLastChild=function(item){if(void 0===item.$isLastChild){var _parent=item.parent,children=_.filter(flats,{parent:_parent}),index=children.indexOf(item);item.$isLastChild=index!==-1&&index===children.length-1}return item.$isLastChild},indentation=[],relevantItem=this.data,i=this.data.level-1;i>=0;i--){var isLast=isLastChild(relevantItem),unit={index:i,background:i===this.data.level-1?isLast?"last-connection-point":"connection-point":isLast?"":"vertical-line"};indentation.push(unit),relevantItem=relevantItem.parent}this.data.data.$indentation=indentation.reverse()}}}),jfTreeItemController}()},function(module,exports){"use strict";function jfTreeCompiledCell(){return{controller:jfTreeCompiledCellController,controllerAs:"compiledCell",bindToController:!0,scope:{itemId:"=",treeItem:"="},template:'<div class="compile-this"></div>'}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfTreeCompiledCell=jfTreeCompiledCell,Object.defineProperty(exports,"__esModule",{value:!0});var jfTreeCompiledCellController=function(){function jfTreeCompiledCellController($element,$timeout,$scope){var _this=this;_classCallCheck(this,jfTreeCompiledCellController),this.$element=$element,this.$timeout=$timeout,$scope.$watch("compiledCell.treeItem.data",function(){_this.compile()})}return jfTreeCompiledCellController.$inject=["$element","$timeout","$scope"],_createClass(jfTreeCompiledCellController,{compile:{value:function(){var elem=$(this.$element).find(".compile-this");this.treeItem.tree.compileTemplate(elem,this.itemId)}}}),jfTreeCompiledCellController}()},function(module,exports){"use strict";function jfTreeIndentation(){return{controller:jfTreeIndentationController,controllerAs:"jfTreeIndentation",bindToController:!0,scope:{indentation:"=",height:"=",visible:"=",linesBackgrounds:"="},templateUrl:"ui_components/jf_tree/jf_tree_indentation.html"}}var _classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfTreeIndentation=jfTreeIndentation,Object.defineProperty(exports,"__esModule",{value:!0});var jfTreeIndentationController=function jfTreeIndentationController($scope,$sce){var _this=this;_classCallCheck(this,jfTreeIndentationController),$scope.$watch("jfTreeIndentation.indentation",function(){var indentationHtml="",htmlForIndentation=function(indentation){return _this.linesBackgrounds[indentation.background]?'<div class="indentation-unit" style="height: '+_this.height+"; background-image: url('"+_this.linesBackgrounds[indentation.background]+"')\"></div>":'<div class="indentation-unit" style="height: '+_this.height+';"></div>'};_this.indentation.forEach(function(indentation){indentationHtml+=htmlForIndentation(indentation)}),_this.indentationHtml=$sce.trustAsHtml(indentationHtml)})}},function(module,exports,__webpack_require__){"use strict";var _interopRequire=function(obj){return obj&&obj.__esModule?obj["default"]:obj},JfSummaryRow=_interopRequire(__webpack_require__(127)),JfSummaryRowItem=_interopRequire(__webpack_require__(128));module.exports=angular.module("summary.row",[]).component("jfSummaryRow",new JfSummaryRow).component("jfSummaryRowItem",new JfSummaryRowItem)},function(module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},JfSummaryRow=function JfSummaryRow(){_classCallCheck(this,JfSummaryRow),this.templateUrl="ui_components/jf_summary_row/summary.row.template.html",this.controller=JfSummaryRowController,this.bindings={columns:"<",parentScope:"<"}};module.exports=JfSummaryRow;var JfSummaryRowController=function(){function JfSummaryRowController(){_classCallCheck(this,JfSummaryRowController)}return _createClass(JfSummaryRowController,{$onInit:{value:function(){this.filterOutUnactiveColumns(),this.setColumnsLayout()}},filterOutUnactiveColumns:{value:function(){this.columnsToShow=_.filter(this.columns,function(col){return col.isActive})}},setColumnsLayout:{value:function(){var layout="";_.forEach(this.columnsToShow,function(col){col.width||(col.width="1fr"),layout+=""+col.width+" "}),this.inlineStyle={gridTemplateColumns:layout,"-ms-grid-columns":layout}}}}),JfSummaryRowController}()},function(module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},JfSummaryRowItem=function JfSummaryRowItem(){_classCallCheck(this,JfSummaryRowItem),this.template="<div></div>",this.controller=JfSummaryRowItemController,this.bindings={colTemplate:"<",colScope:"<",noWrap:"<"}};module.exports=JfSummaryRowItem;var JfSummaryRowItemController=function(){function JfSummaryRowItemController($element,$compile){_classCallCheck(this,JfSummaryRowItemController),this.$element=$element,this.$compile=$compile}return _createClass(JfSummaryRowItemController,{$onInit:{value:function(){var placeholder=this.$element.find("div"),col=$(this.noWrap?""+this.colTemplate:"<span>"+this.colTemplate+"</span>"),e=this.$compile(col)(this.colScope);placeholder.after(e),placeholder.remove()}}}),JfSummaryRowItemController}()}]),!function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_actions/jf_actions.html",'<ul class="list-inline" ng-show="jfActions.getActiveActionsCount()">\n    <li ng-show="jfActions.fixedActions.length"\n        ng-repeat="actionObj in jfActions.fixedActions"\n        ng-click="jfActions.doAction(actionObj,$event)"\n        ng-class="{disabled: actionObj.disabled || (actionObj.disabledWhen && actionObj.disabledWhen())}"\n        class="action-button"\n        ng-if="!actionObj.visibleWhen || actionObj.visibleWhen()">\n\n        <a ng-href="{{ actionObj.href }}" download>\n            <i class="action-icon icon" ng-class="actionObj.icon"></i> {{actionObj.title}}\n        </a>\n    </li>\n    <li ng-show="jfActions.dynamicActions.length" class="action-button">\n        <span class="dropdown" dropdown is-open="jfActions.isDropdownOpen">\n          <ul class="dropdown-menu dropdown-menu-right actions-dropdown text-left">\n              <li ng-repeat="actionObj in jfActions.dynamicActions"\n                  class="action-item dynamic-action"\n                  ng-class="{disabled: actionObj.disabled || (actionObj.disabledWhen && actionObj.disabledWhen()),\n                    \'menu-item-{{actionObj.icon}}\': actionObj.icon,\n                    \'menu-item-no-icon\': !actionObj.icon && jfActions.anyActionHasAnIcon,\n                    \'menu-item-no-action-icons\': !jfActions.anyActionHasAnIcon,\n                    \'{{actionObj.itemClass}}\': actionObj.itemClass.length }"\n                  ng-if="(!actionObj.visibleWhen || actionObj.visibleWhen()) && !actionObj.isHidden">\n                  <div class="action-container" ng-click="jfActions.doAction(actionObj,$event)">\n                      <span class="action-icon icon"\n                            ng-if="actionObj.icon"\n                            ng-class="actionObj.icon">\n                      </span>\n                      <span class="action-icon"\n                            ng-if="actionObj.image && !actionObj.icon">\n                          <img ng-src="{{actionObj.image}}"/>\n                      </span>\n                      <span class="action-name">{{actionObj.title}}</span>\n                  </div>\n              </li>\n          </ul>\n          <a href class="dropdown-toggle actions-more" dropdown-toggle>\n             {{jfActions.label}} <i class="action-icon icon icon-small-arrow-down"></i>\n          </a>\n        </span>\n\n    </li>\n</ul>\n\n<!--<li ng-repeat="action in jfActions.actions">-->\n    <!--<a><span class="glyphicon glyphicon-refresh"></span>{{action.name}}</a></li>-->\n<!--<li><a><span class="glyphicon glyphicon-trash"></span>Delete Content</a></li>-->\n<!--<li><a><span class="glyphicon glyphicon-cloud-upload"></span>Upload to Bintray</a></li>-->')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_checkbox/jf_checkbox.html",'<label class="jf-checkbox">\n\t<span></span> {{ jfCheckbox.text }}\n</label>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_clip_copy/jf_clip_copy.html",'<span class="clip-copy-button">\n    <a ng-show="!jfClipCopy.isSafari && !!jfClipCopy.textToCopy"\n       class="copy-to-clip icon icon-copy-to-clipboard-2"\n       data-clipboard-text="{{jfClipCopy.textToCopy}}"\n       jf-tooltip="{{jfClipCopy.tooltipText}}"></a>\n    <a ng-show="jfClipCopy.isSafari && !!jfClipCopy.textToCopy"\n       class="copy-to-clip icon icon-copy-to-clipboard"\n       clip-copy="jfClipCopy.textToCopy"\n       clip-click="jfClipCopy.onSuccessfulCopy()"\n       jf-tooltip="{{jfClipCopy.tooltipText}}"></a>\n</span>\n\n')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_codemirror/jf_codemirror.html",'<div ng-class="{\'codemirror-with-clip-copy\' : jfCodeMirror.enableCopyToClipboard}">\n\t<jf-clip-copy ng-if="jfCodeMirror.enableCopyToClipboard && jfCodeMirror.formattedModel && !jfCodeMirror.clipboardCopyModel"\n\t              text-to-copy="jfCodeMirror.formattedModel"\n\t              class="code-mirror-copy pull-right"\n\t              ng-class="{\'scrollbar-margin\':jfCodeMirror.codeMirrorIsWithScroll()}"\n\t              object-name="{{jfCodeMirror.clipboardCopyEntityName || \'text\'}}"\n\t              keep-tooltip-letter-case="jfCodeMirror.clipboardKeepTooltipLetterCase">\n\t</jf-clip-copy>\n\t<jf-clip-copy ng-if="jfCodeMirror.enableCopyToClipboard && jfCodeMirror.clipboardCopyModel"\n\t              text-to-copy="jfCodeMirror.clipboardCopyModel"\n\t              class="code-mirror-copy pull-right"\n\t              ng-class="{\'scrollbar-margin\':jfCodeMirror.codeMirrorIsWithScroll()}"\n\t              object-name="{{jfCodeMirror.clipboardCopyEntityName || \'text\'}}"\n\t              keep-tooltip-letter-case="jfCodeMirror.clipboardKeepTooltipLetterCase">\n\t</jf-clip-copy>\n\t<textarea ui-codemirror="jfCodeMirror.editorOptions"\n\t          ng-model="jfCodeMirror.formattedModel">\n\t</textarea>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_context_menu/jf_context_menu.view.html",'<div class="jf-context-menu"\n     ng-style="contextMenu.position"\n     ng-if="contextMenu.isOpen">\n\t<a href ng-repeat="action in contextMenu.actions"\n\t     ng-click="contextMenu._onActionClick($event,action)"\n\t     ng-href="{{action.link}}"\n\t     class="action-item" icon-name="{{action.icon || \'\'}}">\n\t\t<i class="action-icon"\n\t\t   ng-class="action.icon"></i>\n\t\t<span>{{action.name}}</span>\n\t</a>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_data_list/jf_data_list.html",'<table class="data-list">\n\t<tr class="data-list-item" ng-repeat="item in jfDataList.formattedItems" ng-if="!item.isHidden">\n\t\t<td class="data-list-item-label">{{item.label}}:</td>\n\t\t<td class="data-list-item-value">\n\t\t\t<jf-data-list-item item="item" index="$index"></jf-data-list-item>\n\t\t</td>\n\t</tr>\n</table>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_data_list/jf_data_list.show_all_modal.html",'<div id="show-all-modal">\n\t<div class="modal-header">\n\t\t<button type="button" class="close" data-dismiss="close" aria-label="Close" ng-click="$dismiss()"><span aria-hidden="true">&times;</span></button>\n\t\t<h4 class="modal-title" id="popup-header">{{items.length}} {{colName}} For {{objectName}} \'{{rowName}}\'</h4>\n\t</div>\n\t<div class="modal-body clearfix">\n\t\t<input type="text"\n\t\t       name="filter"\n\t\t       class="input-text"\n\t\t       ng-model="filter.text"\n\t\t       placeholder="Filter"/>\n\n\n\t\t<div class="group-list-wrapper" ng-if="!noResults()">\n\t\t\t<ul class="group-list">\n\t\t\t\t<li class="group-list-item"\n\t\t\t\t    jf-tooltip-on-overflow\n\t\t\t\t    ng-repeat="item in items track by $index"\n\t\t\t\t    ng-if="filterItem(item)">\n\t\t\t\t\t<div ng-if="!item.url" ng-bind-html="item.label"></div>\n\t\t\t\t\t<a ng-if="item.url" class="jf-link" ng-href="{{item.url}}" ng-bind-html="item.label" target="_blank"></a>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\n\t\t<div class="empty-filter-placeholder filter-no-results" ng-if="noResults()">\n\t\t\tCurrent filter has no results. <a href class="jf-link" ng-click="filter.text = \'\'">Clear filter</a>\n\t\t</div>\n\n\t</div>\n\t<div class="modal-footer">\n\t\t<button class="btn btn-default" ng-click="$dismiss()" id="popup-cancel">Close</button>\n\t</div>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_datetimepicker/jf_datetimepicker.html",'<div class="input-group"\n     id="{{ jfDatetimepicker.attrId }}"\n     datetimepicker\n     options="jfDatetimepicker.dpOpitons"\n     on-change="jfDatetimepicker.onUpdate()"\n     ng-model="jfDatetimepicker.model">\n\t<input class="input-text"\n\t       ng-focus="jfDatetimepicker.onFocus()"\n\t       ng-blur="jfDatetimepicker.onBlur()"\n\t       ng-required="jfDatetimepicker.isRequired"\n\t       ng-disabled="jfDatetimepicker.isEnabled" />\n\t<span class="input-group-addon calendar">\n        <span class="glyphicon glyphicon-calendar"></span>\n    </span>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_drag_and_drop_txt/jf_drag_and_drop_txt.html",'<div class="drag-and-drop-txt-wrapper"\n     ng-class="{\'ready-for-upload\':jfDragAndDropTxt.shouldDisplayUploadIcon()}">\n    <label ng-if="jfDragAndDropTxt.dndHeadingHtml"\n           ng-bind-html="jfDragAndDropTxt.dndHeadingHtml"></label>\n    <jf-field autofocus="jfDragAndDropTxt.dndAutoFocus">\n        <textarea name="dndtext"\n                  class="input-text monospaced"\n                  ng-model="jfDragAndDropTxt.dndContent"\n                  ng-change="jfDragAndDropTxt.dndChange()"\n                  ng-style="jfDragAndDropTxt.dndStyle"\n                  ng-required="jfDragAndDropTxt.dndRequired"\n                  spellcheck="false"></textarea>\n        <label class="call-to-action-label"\n               ng-bind-html="jfDragAndDropTxt.dndCallToAction"\n               ng-class="{\'icon-upload\':jfDragAndDropTxt.shouldDisplayUploadIcon()}"></label>\n    </jf-field>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_drag_drop/jf_drag_drop.html",'<div class="dnd-panel" ng-keydown="jfDragDrop.onKeyDown($event)" tabindex="0">\n    <div class="row dnd-filter-wrapper">\n        <div class="col-lg-5 col-md-5 col-sm-5">\n            <input type="text"\n                   ng-style="{color:jfDragDrop.noMatches ? \'red\' : \'black\'}"\n                   ng-model="jfDragDrop.filterExcludeList"\n                   ng-change="jfDragDrop.updateExcludeFilter(true)"\n                   ng-model-options="{debounce: 200}"\n                   placeholder="Filter..."\n                   ng-disabled="jfDragDrop.disabled"\n                   class="input-text dnd-filter">\n        </div>\n        <div class="col-lg-2 col-md-2 col-sm-2"></div>\n        <div class="col-lg-5 col-md-5 col-sm-5">\n            <input type="text"\n                   ng-style="{color:jfDragDrop.noIncludeMatches ? \'red\' : \'black\'}"\n                   ng-model="jfDragDrop.filterIncludeList"\n                   ng-change="jfDragDrop.updateIncludeFilter(true)"\n                   ng-model-options="{debounce: 200}"\n                   placeholder="Filter..."\n                   ng-disabled="jfDragDrop.disabled"\n                   class="input-text dnd-filter">\n        </div>\n    </div>\n    <div class="row">\n        <div class="col-lg-5 col-md-5 col-sm-5">\n            <h5 class="text-primary" ng-if="jfDragDrop.headers.leftTitle">\n                {{jfDragDrop.headers.leftTitle}}\n            </h5>\n            <div id="{{jfDragDrop.excludeListId}}"\n                 class="dnd-list-wrapper"\n                 ng-mouseenter="jfDragDrop.mouseIsInExclude(true)"\n                 ng-mouseleave="jfDragDrop.mouseIsInExclude(false)">\n                <ul class="dnd-list">\n                    <li ng-repeat="item in jfDragDrop.getViewableExcludes() track by $index"\n                        class="drag-item"\n                        ng-class="{\'drag-placeholder\':item===jfDragDrop.PLACEHOLDER, \'active\' : jfDragDrop.isSelected(item)}"\n                        data-index="exc-{{$index}}"\n                        ng-click="jfDragDrop.toggleSelection(item)"\n                        ng-dblclick="jfDragDrop.includeSpecific(item)"\n                        ng-mouseenter="jfDragDrop.mouseOver(item)"\n                        ng-mouseleave="jfDragDrop.mouseOver(null)">\n                        <div class="drag-item-text" ng-if="item !== jfDragDrop.PLACEHOLDER && !jfDragDrop.customTemplate">\n                            <i ng-if= "item._iconClass" class = "{{item._iconClass}}"></i>\n                            {{jfDragDrop.excludeDisplayField && item[jfDragDrop.excludeDisplayField] ? item[jfDragDrop.excludeDisplayField] : item}}\n                        </div>\n                        <div class="drag-item-text" ng-if="item !== jfDragDrop.PLACEHOLDER && jfDragDrop.customTemplate">\n                            <i ng-if= "item._iconClass" class = "{{item._iconClass}}"></i>\n                            <div ng-if="jfDragDrop.customTemplate" class="custom-template" ng-init="jfDragDrop.compileCustomTemplate(item,\'exc\')"></div>\n                        </div>\n                        <div class="drag-item-text" ng-if="item === jfDragDrop.PLACEHOLDER"></div>\n                    </li>\n                </ul>\n            </div>\n            <jf-drag-drop-pagination pagination-api="jfDragDrop.excludesPaginationApi"></jf-drag-drop-pagination>\n        </div>\n\n        <div class="col-lg-2 col-md-2 col-sm-2">\n            <h5 class="text-primary" ng-if="jfDragDrop.headers.leftTitle || jfDragDrop.headers.rightTitle">&nbsp;</h5>\n            <ul class="dnd-actions">\n                <li>\n                    <span ng-click="jfDragDrop.excludeAll()"\n                          ng-disabled="jfDragDrop.isIncludeListEmpty() || jfDragDrop.isIncludeListFixed() || jfDragDrop.disabled">&laquo;\n                    </span>\n                </li>\n                <li>\n                    <span ng-click="jfDragDrop.excludeSelected()"\n                          ng-disabled="!jfDragDrop.isIncludeListItemSelected() || jfDragDrop.disabled">&lsaquo;\n                    </span>\n                </li>\n                <li>\n                    <span ng-click="jfDragDrop.includeSelected()"\n                          ng-disabled="!jfDragDrop.isExcludeListItemSelected() || jfDragDrop.disabled">&rsaquo;\n                    </span>\n                </li>\n                <li>\n                    <span ng-click="jfDragDrop.includeAll()"\n                          ng-disabled="jfDragDrop.isExcludeListEmpty() || jfDragDrop.disabled">&raquo;\n                    </span>\n                </li>\n            </ul>\n        </div>\n\n        <div class="col-lg-5 col-md-5 col-sm-5">\n            <h5 class="text-primary"\n                ng-if="jfDragDrop.headers.rightTitle">{{jfDragDrop.headers.rightTitle}}\n            </h5>\n            <div id="{{jfDragDrop.includeListId}}"\n                 class="dnd-list-wrapper"\n                 ng-mouseenter="jfDragDrop.mouseIsInInclude(true)"\n                 ng-mouseleave="jfDragDrop.mouseIsInInclude(false)">\n                <ul class="dnd-list dnd-list-fullheight">\n                    <li ng-repeat="item in jfDragDrop.getViewableIncludes() track by $index"\n                        class="drag-item dropped-item"\n                        ng-class="{\'drag-placeholder\':item===jfDragDrop.PLACEHOLDER, \'active\' : jfDragDrop.isSelected(item)}"\n                        data-index="inc-{{$index}}"\n                        ng-click="!$event.defaultPrevented ? (jfDragDrop.toggleSelection(item)) : \'\'"\n                        ng-dblclick="jfDragDrop.excludeSpecific(item)"\n                        ng-mouseenter="jfDragDrop.mouseOver(item)"\n                        ng-mouseleave="jfDragDrop.mouseOver(null)">\n                        <div class="drag-item-text" ng-if="item !== jfDragDrop.PLACEHOLDER && !jfDragDrop.customTemplate">\n                            <i ng-if= "item._iconClass" class = "{{item._iconClass}}"></i>\n                            {{jfDragDrop.includeDisplayField && item[jfDragDrop.includeDisplayField] ? item[jfDragDrop.includeDisplayField] : item}}\n                        </div>\n                        <div class="drag-item-text" ng-if="item !== jfDragDrop.PLACEHOLDER && jfDragDrop.customTemplate">\n                            <i ng-if= "item._iconClass" class = "{{item._iconClass}}"></i>\n                            <div ng-if="jfDragDrop.customTemplate" class="custom-template" ng-init="jfDragDrop.compileCustomTemplate(item,\'inc\')"></div>\n                        </div>\n                        <div class="drag-item-text" ng-if="item === jfDragDrop.PLACEHOLDER"></div>\n                        <a ng-if="item && item !== jfDragDrop.PLACEHOLDER && !item[\'__fixed__\'] && !jfDragDrop.disabled"\n                           href=""\n                           class="delete-drop-item"\n                           ng-click="jfDragDrop.excludeSpecific(item);$event.stopPropagation();$event.preventDefault();">&#10005;</a>\n                    </li>\n                </ul>\n            </div>\n            <jf-drag-drop-pagination pagination-api="jfDragDrop.includesPaginationApi"></jf-drag-drop-pagination>\n        </div>\n    </div>\n    <div class="clearfix"></div>\n</div>');
}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_drag_drop_pagination/jf_drag_drop_pagination.html",'<div class="grid-pagination text-right" ng-if="jfDragDropPagination.paginationApi.getTotalPages()">\n\t<p>\n\t\t<input type="text"\n\t\t       class="grid-page-box"\n\t\t       ng-style="{\'width\': (jfDragDropPagination.CONSTANTS.PAGINATION_DIGIT_WIDTH_PX + jfDragDropPagination.paginationApi.getTotalPages().toString().length * jfDragDropPagination.CONSTANTS.PAGINATION_DIGIT_WIDTH_PX) + \'px\'}"\n\t\t       jf-tooltip="Jump to Page"\n\t\t       ng-blur="jfDragDropPagination.onBlur()"\n\t\t       ng-model="jfDragDropPagination.pageViewModel"\n\t\t       ng-change="jfDragDropPagination.pageChanged()" />\n\t\tout of {{ jfDragDropPagination.paginationApi.getTotalPages() }}\n\t\t<a href\n\t\t   ng-click="jfDragDropPagination.prevPage()"\n\t\t   ng-class="{disabled: jfDragDropPagination.currentPage === 1}">&lsaquo;</a>\n\t\t<a href\n\t\t   ng-click="jfDragDropPagination.nextPage()"\n\t\t   ng-class="{disabled: jfDragDropPagination.currentPage === jfDragDropPagination.paginationApi.getTotalPages()}">&rsaquo;</a>\n\t</p>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_drawers/jf_drawer.html",'<div class="jf-drawer">\n    <div class="drawer-header"\n         ng-click="jfDrawer.onClickHeader()">\n        <div class="drawer-header-title">\n            {{ jfDrawer.header }}\n        </div>\n        <div class="drawer-header-description">\n            {{ jfDrawer.description }}\n        </div>\n\t    <i class="icon-small-arrow-down" ng-class="{\'drawer-arrow-close\' : !jfDrawer.opened}"></i>\n    </div>\n    <div class="drawer-content"\n         collapse="!jfDrawer.opened">\n        <ng-transclude></ng-transclude>\n    </div>\n\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_field/jf_field.html",'<div ng-class="{\'sticky-errors\': dontPushDownErrors}" class="jf-field">\n    <div ng-class="{\'input-label\': animated}">\n        <ng-transclude></ng-transclude>\n    </div>\n    <jf-validation ng-if="(formField.showErrors || alwaysShowErrors || (formField.initialValue && !formField.$error.required)) && !formField.isAutoFocused"\n                   field="formField"\n                   validations-params="validationsParams"\n                   dont-push-down="dontPushDownErrors"\n                   dictionary="{{validations}}">\n    </jf-validation>\n</div>\n')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_grid/jf_grid.html",'<div class="grid-container" ng-if="gridOptions.data"\n     ng-class="{\'single-select\':gridOptions.allowSingleSelect}"\n     ng-style="{overflow: gridOptions.moreActionsController.isDropdownOpen ? \'visible\' : \'hidden\'}">\n    <div class="columns-customization pull-right"\n         ng-if="gridOptions.columnsCustomization">\n        <jf-multi-dropdown title="Columns"\n                           filter-placeholder="Filter Columns"\n                           items="gridOptions.availableColumns"\n                           on-change="gridOptions.updateCustomizedColumns()"></jf-multi-dropdown>\n    </div>\n    <div class="wrapper-grid-actions" ng-show="!noPagination || !noCount || gridOptions.batchActions.length || filterField">\n\n        <div class="counter-and-filter" ng-if="!noCount || filterField">\n            <div ng-if="!noCount" class="grid-counter">{{ getTotalRecords() }}<span ng-if="getSelectedRecords()"> ({{getSelectedRecords()}} Selected)</span></div>\n\n            <div ng-if="filterField" class="filter-group">\n                <jf-grid-filter\n                        auto-focus="{{autoFocus}}"\n                        filter-grid="gridOptions"\n                        filter-field="{{ filterField }}"\n                        filter-field2="{{ filterField2 }}"\n                        filter-on-change="{{ filterOnChange }}">\n                </jf-grid-filter>\n            </div>\n        </div>\n\n        <jf-grid-pagination ng-show="!noPagination"\n                            grid-api="gridOptions.api"\n                            class="pull-right">\n        </jf-grid-pagination>\n\n        <jf-grid-batch-actions grid-options="gridOptions"\n                               grid-api="gridOptions.api"\n                               actions="gridOptions.batchActions">\n        </jf-grid-batch-actions>\n    </div>\n    <div ui-grid="gridOptions"\n         ui-grid-draggable-rows\n         ui-grid-selection\n         ui-grid-pagination\n         ui-grid-grouping\n         ui-grid-edit\n         ui-grid-resize-columns\n         ng-style="{visibility: gridOptions.columnDefs.length ? \'visible\' : \'hidden\'}"\n         class="grid"></div>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_grid_batch_actions/jf_grid_batch_actions.html",'<div class="grid-batch-actions text-right" jf-disable-ng-animate>\n    <div class="grid-batch-action-wrapper"\n         ng-class="{\'more-actions\': action === jfBatchActions.MORE_ACTIONS}"\n         ng-repeat="action in jfBatchActions.actions track by $index"\n         data-action-id="{{action.name}}"\n         ng-style="{visibility: action === jfBatchActions.MORE_ACTIONS || jfBatchActions.visibleActions.indexOf(action) !== -1 ? \'inherit\' : \'hidden\', opacity: action === jfBatchActions.MORE_ACTIONS || jfBatchActions.visibleActions.indexOf(action) !== -1 ? 1 : 0}"\n         jf-tooltip="{{jfBatchActions.isDisabled(action) ? action.getDisabledTooltip() : \'\'}}">\n        <a ng-class="{disabled: jfBatchActions.isDisabled(action)}"\n           ng-if="action !== jfBatchActions.MORE_ACTIONS && (!action.visibleWhen || action.visibleWhen())"\n           ng-click="jfBatchActions.perform(action)"\n           class="btn batch-action-{{action.icon}}">\n            <img ng-src="images/{{action.icon}}.png"\n                 ng-if="action.img"/>\n            <i class="icon icon-{{action.icon}}"\n               ng-if="!action.img"></i> {{ action.name }}\n        </a>\n        <div class="more-wrapper"\n             ng-if="action === jfBatchActions.MORE_ACTIONS">\n            <jf-actions parent-controller="jfBatchActions"\n                        label="More Actions"\n                        init-method="initActions"\n                        show-drop-down-for-one-item="true"></jf-actions>\n        </div>\n    </div>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_grid_filter/jf_grid_filter.html",'<div class="grid-filter">\n    <form name="jfGridFilter.gridFilterForm" novalidate>\n        <jf-field validations="gridFilter" autofocus="jfGridFilter.autoFocus">\n            <input type="text"\n                   name="gridFilter"\n                   class="input-text"\n                   jf-validator-max-text-length="1024"\n                   ng-model="jfGridFilter.gridFilter"\n                   ng-model-options="{debounce: jfGridFilter.shouldFilterOnChange() ? 200 : 0}"\n                   ng-change="jfGridFilter.onChange()"\n                   ng-style="{color:jfGridFilter.noMatches ? \'red\' : \'black\'}"\n                   placeholder="{{jfGridFilter.getPlaceHolder()}}"/>\n        </jf-field>\n<!--\n        <div ng-if="jfGridFilter.noMatches" class="alert-warning" style="margin-bottom: 10px">No Matches Found</div>\n-->\n        <div class="btn-group" ng-if="!jfGridFilter.shouldFilterOnChange()">\n            <button class="btn btn-primary" ng-click="jfGridFilter.doFilter()"\n                    ng-disabled="jfGridFilter.disableButton">\n                <span class="icon icon-refresh"></span>\n            </button>\n        </div>\n    </form>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_grid_pagination/jf_grid_pagination.html",'<div class="grid-pagination text-right" ng-if="jfGridPagination.gridApi.pagination.getTotalPages() > 1">\n\t<p>\n\t\t<input type="text"\n\t\t       class="grid-page-box"\n\t\t       ng-style="{\'width\': (jfGridPagination.CONSTANTS.PAGINATION_DIGIT_WIDTH_PX + jfGridPagination.getTotalPages().toString().length * jfGridPagination.CONSTANTS.PAGINATION_DIGIT_WIDTH_PX) + \'px\'}"\n\t\t       jf-tooltip="Jump to Page"\n\t\t       ng-blur="jfGridPagination.onBlur()"\n\t\t       ng-model="jfGridPagination.pageViewModel"\n\t\t       ng-change="jfGridPagination.pageChanged()" />\n\t\tout of {{ jfGridPagination.getTotalPages() }}\n\t\t<a href\n\t\t   ng-click="jfGridPagination.prevPage()"\n\t\t   ng-class="{disabled: jfGridPagination.currentPage === 1}">&lsaquo;</a>\n\t\t<a href\n\t\t   ng-click="jfGridPagination.nextPage()"\n\t\t   ng-class="{disabled: jfGridPagination.currentPage === jfGridPagination.gridApi.pagination.getTotalPages()}">&rsaquo;</a>\n\t</p>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_help_tooltip/jf_help_tooltip.html",'<div>\n    <span class="tooltip-icon jf-tooltipster">\n        <span><ng-transclude></ng-transclude></span>\n    </span>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_js_tree_wrap/jf_js_tree_wrap.html",'<div ng-show="jfJsTreeWrap.hasData()"\n     class="jf-js-tree-wrap-container">\n    <div class="tree-browser-header"\n         ng-if="jfJsTreeWrap.treeHeader">\n        <div class="tree-browser-header-tabs"\n             ng-bind-html="jfJsTreeWrap.treeHeader">\n        </div>\n    </div>\n    <div class="tree-element-container">\n        <div>\n            <div class="tree-element"></div>\n        </div>\n    </div>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_list_maker/jf_list_maker.html",'<div class="jf-list-maker" jf-disable-ng-animate>\n    <div class="list-new-value"\n         ng-class="{dropdown: jfListMaker.predefinedValues}"\n         ng-if="!jfListMaker.hideAddNewFields">\n        <form name="jfListMaker.listMakerForm">\n            <jf-field validations="common"\n                      dont-push-down-errors="true"\n                      delayed-init="true"\n                      always-show-errors="{{jfListMaker.isRequired(jfListMaker.values)}}">\n                <label ng-class="{\'mandatory\':jfListMaker.required}">{{jfListMaker.label}}</label>\n                <jf-help-tooltip\n                        ng-if="jfListMaker.helpTooltip"\n                        html="jfListMaker.helpTooltip"></jf-help-tooltip>\n                <input  ng-if="!jfListMaker.predefinedValues"\n                        type="{{jfListMaker.inputType || \'text\'}}"\n                        class="input-text"\n                        ng-model="jfListMaker.newValue"\n                        placeholder="{{jfListMaker.placeholder || \'New \' + (jfListMaker.objectName || \'Value\')}}"\n                        id="newValueField-{{jfListMaker.listId}}"\n                        name="newValueField"\n                        jf-enter-press="jfListMaker.addValue()"\n                        ng-change="jfListMaker.onNewValueFieldChange()"\n                        ng-disabled="jfListMaker.ngDisabled">\n                <jf-ui-select ng-if="jfListMaker.predefinedValues"\n                              jf-select-model="jfListMaker.newValue"\n                              jf-select-placeholder="{{jfListMaker.placeholder || \'New \' + (jfListMaker.objectName || \'Value\')}}"\n                              jf-select-disabled="jfListMaker.ngDisabled"\n                              jf-select-options="jfListMaker.predefinedValues"></jf-ui-select>\n\n            </jf-field>\n        </form>\n        <div class="list-new-value-button">\n            <i class="icon icon-new"\n               ng-click="!(jfListMaker.ngDisabled || !jfListMaker.newValue.length) && jfListMaker.addValue()"\n               ng-disabled="jfListMaker.ngDisabled || !jfListMaker.newValue.length"></i>\n        </div>\n    </div>\n    <div class="jf-validation">{{jfListMaker.errorMessage}}</div>\n\n    <div id="{{jfListMaker.listId}}" class="list-maker-list" ng-if="jfListMaker.values.length">\n        <div class="list-maker-list-row" ng-repeat="value in jfListMaker.values track by $index">\n            <div class="list-maker-row-value" jf-tooltip-on-overflow>{{value}}</div>\n            <div class="list-maker-list-buttons">\n                <a href="" class="icon icon-close"\n                   ng-click="jfListMaker.removeValue($index)"\n                   ng-if="jfListMaker.values.length > jfListMaker.minLength && !jfListMaker.ngDisabled"></a>\n            </div>\n        </div>\n    </div>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_list_selection/jf_list_selection.html",'<div class="jf-list-selection">\n\t<input type="text"\n\t       ng-model="jfListSelection.filterList"\n\t       placeholder="Filter..."\n\t       ng-change="jfListSelection.onFilterChange()"\n\t       class="input-text dnd-filter">\n\t<div class="group-list-wrapper">\n\t\t<ul class="group-list">\n\t\t\t<li class="group-list-item" style="display: none">*</li>\n\t\t\t<li class="group-list-item cursor-pointer"\n\t\t\t    ng-repeat="item in jfListSelection.getPageItems() track by $index"\n\t\t\t    ng-class="{\'not-clickable\': !item.clickable, \'highlighted\': item.highlighted && jfListSelection.highlightSelected}"\n\t\t\t    ng-dblclick="jfListSelection.onItemClick(item)"\n\t\t\t    ng-click="jfListSelection.allowSingleClick ? jfListSelection.onItemSelection(item) : null"\n\t\t\t    jf-tooltip="{{item.icon_tooltip ? item.icon_tooltip : \'\'}}">\n\t\t\t\t<i ng-if="item.icon_class"\n\t\t\t\t   ng-class="item.icon_class"\n\t\t\t\t   jf-tooltip="{{item.icon_tooltip ? item.icon_tooltip : \'\'}}"\n\t\t\t\t   class="icon pull-left"></i>\n\t\t\t\t{{item.name}}\n\t\t\t\t<i class="icon icon-arrow pull-right cursor-pointer"\n\t\t\t\t   ng-click="jfListSelection.onItemSelection(item)"></i>\n\t\t\t</li>\n\t\t</ul>\n\t</div>\n\t<div>\n\t\t<jf-drag-drop-pagination pagination-api="jfListSelection.paginationApi"></jf-drag-drop-pagination>\n\t</div>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_markup_editor/jf_markup_editor.html",'<div class="jf-markup-editor"\n     ng-class="{\'has-editor-label\':jfMarkup.editorLabel}"\n     ng-if="jfMarkup.webworkerOk || jfMarkup.previewersCount === 2">\n    <div class="controls">\n        <div class="editor-label"\n             ng-if="jfMarkup.editorLabel"\n             ng-class="{\'editor-label-position\':jfMarkup.isInEditMode()}">\n            {{jfMarkup.editorLabel}}\n        </div>\n        <div class="lang-select-wrapper"\n             ng-if="jfMarkup.showControls && jfMarkup.editable">\n            <jf-ui-select class="form-group-cell"\n                          jf-select-disabled="!jfMarkup.isInEditMode()"\n                          jf-select-model="jfMarkup.language"\n                          jf-select-change="jfMarkup.onLanguageChange()"\n                          jf-select-options="[\'Markdown\',\'Asciidoc\',\'Plain Text\']">\n            </jf-ui-select>\n        </div>\n        <div class="switch-wrapper"\n             ng-if="jfMarkup.showControls">\n            <jf-switch ng-model="jfMarkup.mode"\n                       ng-change="jfMarkup.onChangeModeInternal()"\n                       options="jfMarkup.modeOptions"\n                       controller="jfMarkup.switchController"\n                       class="no-margin-top">\n            </jf-switch>\n        </div>\n        <button class="btn btn-default edit-button"\n                type="button"\n                ng-if="!jfMarkup.showControls && jfMarkup.editable"\n                ng-click="jfMarkup.activateEditor()">\n            <span ng-if="jfMarkup.markup && jfMarkup.markup.length > 0">\n                <i class="icon icon-edit-pen"></i>\n                <span>Edit</span>\n            </span>\n            <span ng-if="!jfMarkup.markup || jfMarkup.markup.length === 0">\n                <i class="icon icon-new"></i>\n                <span>Add</span>\n            </span>\n        </button>\n    </div>\n\n    <div class="code-mirror-wrapper codemirror-wrapper"\n         jf-disable-ng-animate\n         ng-if="jfMarkup.isInEditMode()">\n\n        <jf-code-mirror\n                ng-if="jfMarkup.language === \'Markdown\'"\n                mime-type="text/x-markdown"\n                mode="gfm"\n                allow-edit="true"\n                height="100%"\n                autofocus="{{ !jfMarkup.preventAutoFocus }}"\n                enable-copy-to-clipboard="jfMarkup.markup && jfMarkup.markup.length"\n                clipboard-copy-entity-name="text"\n                model="jfMarkup.markup">\n        </jf-code-mirror>\n        <jf-code-mirror\n                ng-if="jfMarkup.language === \'Asciidoc\'"\n                mime-type="text/x-markdown"\n                mode="asciidoc"\n                allow-edit="true"\n                height="100%"\n                autofocus="{{ !jfMarkup.preventAutoFocus }}"\n                enable-copy-to-clipboard="jfMarkup.markup && jfMarkup.markup.length"\n                clipboard-copy-entity-name="text"\n                model="jfMarkup.markup">\n        </jf-code-mirror>\n        <jf-code-mirror\n                ng-if="jfMarkup.language === \'Plain Text\'"\n                allow-edit="true"\n                height="100%"\n                autofocus="{{ !jfMarkup.preventAutoFocus }}"\n                enable-copy-to-clipboard="jfMarkup.markup && jfMarkup.markup.length"\n                clipboard-copy-entity-name="text"\n                model="jfMarkup.markup">\n        </jf-code-mirror>\n        <button ng-if="jfMarkup.onSave"\n                ng-click="jfMarkup.onSaveClick()"\n                class="btn btn-primary save-button pull-right">\n            Save\n        </button>\n        <button ng-if="!jfMarkup.hideCancelButton"\n                ng-click="jfMarkup.onCancel()"\n                class="btn btn-secondary clancel-button pull-right">\n            Cancel\n        </button>\n    </div>\n\n    <div class="preview-wrapper"\n         jf-disable-ng-animate\n         ng-if="!jfMarkup.isInEditMode()">\n        <div class="preview" ng-class="{\'empty-preview\': !jfMarkup.preview || jfMarkup.preview.length === 0}"\n             ng-bind-html="jfMarkup.preview">\n        </div>\n        <div class="no-markup" ng-if="!jfMarkup.preview">\n            <span>No markup available.</span>&nbsp\n            <a class="jf-link" ng-if="!jfMarkup.showControls && jfMarkup.editable" ng-click="jfMarkup.activateEditor()">\n                Add markup.\n            </a>\n        </div>\n    </div>\n\n</div>\n\n')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_marquee/jf_marquee.html",'<div class="jf-marquee-container">\n\t<span ng-init="jfMarquee.checkOverflow()">\n\t\t<ng-transclude ng-if="!jfMarquee.$transclude.isSlotFilled(\'innerHtml\')"></ng-transclude>\n\t\t<ng-transclude ng-transclude-slot="innerHtml" ng-if="jfMarquee.$transclude.isSlotFilled(\'innerHtml\')"></ng-transclude>\n\t</span>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_multi_dropdown/jf_multi_dropdown.html",'<div ng-class="{\'disabled\':jfMultiDropdown.disabled,\'with-text-inputs\':jfMultiDropdown.textInputs,\'borderless\':jfMultiDropdown.borderless}" class="jf-multi-dropdown">\n\n    <label ng-if="jfMultiDropdown.label">{{jfMultiDropdown.label}} <span ng-if="jfMultiDropdown.showLabelCounter && jfMultiDropdown.selectedItems().length">({{jfMultiDropdown.selectedItems().length}})</span></label>\n\n\n    <div class="main-box"\n         ng-class="{\'selected-view\' : jfMultiDropdown.selectedItems().length,\n                    \'no-items\': !jfMultiDropdown.items.length && jfMultiDropdown.noItemsMessage,\n                    \'no-label\': !jfMultiDropdown.label}"\n         ng-click="jfMultiDropdown.onClick()">\n\n\n        <!--Default-->\n        <span ng-if="jfMultiDropdown.showSelected && !jfMultiDropdown.selectedItems().length">{{jfMultiDropdown.title}}</span>\n\n        <!--SHOW SELECTED COUNTER-->\n        <span ng-if="!jfMultiDropdown.showSelected" class="title-wrapper">\n            {{jfMultiDropdown.title}}\n            <span class="selected-counter">({{jfMultiDropdown.getSelectedCount()}})</span>\n        </span>\n\n        <!--Something selected and shown-->\n        <span ng-if="jfMultiDropdown.showSelected && jfMultiDropdown.selectedItems().length">\n            {{jfMultiDropdown.getSelectedForTitle()}}\n        </span>\n\n\n\n        <!--ACTIONS-->\n        <span class="actions">\n            <i ng-if="jfMultiDropdown.showSelected && jfMultiDropdown.selectedItems().length" ng-click="jfMultiDropdown.unSelectAll()" class="clear-field">&#215;</i>\n            <i class="icon-small-arrow-down"></i>\n        </span>\n\n    </div>\n\n\n\n\n\n\n\n\n    <div ng-if="jfMultiDropdown.opened"\n         class="drop-down-container">\n        <div class="filter-container" ng-if="!jfMultiDropdown.noFilter">\n            <form>\n                <jf-field autofocus="true">\n                    <input type="text"\n                           autocomplete="off"\n                           name="items-filter"\n                           class="input-text"\n                           ng-model="jfMultiDropdown.filterText"\n                           placeholder="{{jfMultiDropdown.filterPlaceholder}}"/>\n                </jf-field>\n            </form>\n        </div>\n        <div ng-if="jfMultiDropdown.items.length" class="list-container">\n            <div class="drop-down-item"\n                 ng-repeat="item in jfMultiDropdown.items | filter:{text: jfMultiDropdown.filterText} track by $index"\n                 ng-class="{\'last-selected\': $index === jfMultiDropdown.lastSelectedIndex && !jfMultiDropdown.filterText, \'disabled\': item.disabled}">\n                <label class="jf-checkbox" ng-if="!jfMultiDropdown.singleSelection">\n                    <input type="checkbox"\n                           ng-disabled="item.disabled"\n                           ng-change="jfMultiDropdown.onSelection()"\n                           ng-model="item.isSelected">\n                    <span></span> <i ng-if="item.iconClass" class="item-icon" ng-class="item.iconClass"></i> {{ item.text }}\n                </label>\n                <jf-radio-button ng-if="jfMultiDropdown.singleSelection"\n                                 text="{{item.text}}">\n                    <input type="radio"\n                           ng-model="jfMultiDropdown.singleSelectionIndex"\n                           value="{{item.$id}}"\n                           ng-change="jfMultiDropdown.onSingleSelection()"\n                           ng-disabled="item.disabled">\n                </jf-radio-button>\n                <span class="text-input-wrapper" ng-if="jfMultiDropdown.textInputs">\n                    <input type="text"\n                           name="items-filter"\n                           class="input-text"\n                           ng-model="item.inputTextValue"\n                           placeholder="{{item.inputPlaceholder || \'Free text\'}}"/>\n                </span>\n            </div>\n        </div>\n        <div class="batch-action-buttons" ng-if="jfMultiDropdown.items.length">\n            <button class="btn btn-default pull-right"\n                    ng-click="jfMultiDropdown.clearSelection()">\n                {{ jfMultiDropdown.singleSelection ? \'Clear selection\' : \'Clear All\' }}\n            </button>\n            <button class="btn btn-default pull-right"\n                    ng-if="!jfMultiDropdown.singleSelection"\n                    ng-click="jfMultiDropdown.selectAll()">\n                Select All\n            </button>\n        </div>\n        <div ng-if="!jfMultiDropdown.items.length && jfMultiDropdown.noItemsMessage"\n             class="list-container">\n            <div class="no-items-message">\n                {{jfMultiDropdown.noItemsMessage}}\n            </div>\n        </div>\n    </div>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_on_off_switch/jf_on_off_switch.html",'<div class="jf-on-off-toggler"\n     ng-class="{\'on-selected\' : $ctrl.selected === $ctrl.on,\n                \'off-selected\' : $ctrl.selected !== $ctrl.on}">\n\t<jf-toggler on-toggle="$ctrl.toggleSelection()"\n\t            is-toggled-to-left="$ctrl.isOn">\n\t</jf-toggler>\n    <span class="on-option-text jf-toggler-text" ng-bind-html="$ctrl.on"></span>\n    <span class="off-option-text jf-toggler-text" ng-bind-html="$ctrl.off"></span>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_panel/jf_panel.html",'<div class="panel-container{{ jfPanelClasses ? \' \' + jfPanelClasses : \'\' }}" ng-class="{\'bordered\': bordered || $ctrl.hasNestedJfPanel()}">\n    <span class="panel-heading" ng-if="jfPanelHeading">\n        {{jfPanelHeading}} <jf-help-tooltip html="jfPanelHelpTooltip" ng-if="jfPanelHelpTooltip"></jf-help-tooltip>\n    </span>\n    <div class="panel-body">\n        <div class="panel panel-default clearfix">\n            <ng-transclude></ng-transclude>\n        </div>\n    </div>\n</div>\n\n')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_password_strength/jf_password_strength.html",'<div class="password-strength-container">\n    <div class="password-strength-meter"\n         ng-class="jfPS.getStrength().class">\n        <div class="password-strength-section" ng-class="{ \'show-section\': jfPS.getStrength().sections > 0}"></div>\n        <div class="password-strength-section" ng-class="{ \'show-section\': jfPS.getStrength().sections > 1}"></div>\n        <div class="password-strength-section" ng-class="{ \'show-section\': jfPS.getStrength().sections > 2}"></div>\n        <div class="password-strength-section" ng-class="{ \'show-section\': jfPS.getStrength().sections > 3}"></div>\n        <div class="password-strength-section" ng-class="{ \'show-section\': jfPS.getStrength().sections > 4}"></div>\n    </div>\n    <label class="password-strength-label">{{jfPS.getStrength().label}}</label>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_radio_button/jf_radio_button.html",'<span>\n    <label ng-if="text" class="jf-radio-button">\n        <span></span> {{ text }}\n        <span class="helper" ng-if="helper">{{helper}}</span>\n    </label>\n    <label ng-if="!text" class="jf-radio-button">\n        <span></span>\n        <span ng-transclude="template" ng-click="onClickTemplate()"></span>\n        <span class="helper" ng-if="helper">{{helper}}</span>\n    </label>\n</span>\n')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_sidebar/jf_sidebar.html",'<div id="jf-main-nav"\n     ng-style="jfSidebar.menu"\n     ng-mouseleave="jfSidebar.mouseLeaveMenu($event)"\n     ng-mouseover="jfSidebar.mouseOverMenu()">\n\n    <span class="pin-menu" ng-click="jfSidebar.pinMenu()"><i class="icon-menu-arrow" ng-class="{\'menu-arrow-close\' : jfSidebar.pinMenuStatus}"></i></span>\n    <ul class="sidebar-wrapper-inner" ng-click="jfSidebar.closeSubMenu(0,true,true)">\n        <li ng-repeat="item in jfSidebar.menuItems"\n            jf-disable-feature="{{ item.feature }}"\n            ng-if="!item.isHidden"\n            ng-click="$event.stopPropagation(); jfSidebar.itemClick(item)"\n            ng-class="{disabled: item.isDisabled, active: (item.stateParent | includedByState) || jfSidebar.isCurrentItem(item) || jfSidebar.highLightOnState(item.stateRelated), \'icon-arrow-left\':item.children }">\n\n            <a ng-if="item.isDisabled"\n               class="menu-item disabled"\n               ng-class="{{item.customClasses}}"\n               id="{{item.id}}"><i class="{{item.icon}}"></i><span>{{item.label}}</span></a>\n\n            <a class="menu-item"\n               id="{{item.id}}"\n               ng-class="{{item.customClasses}}"\n               ng-mouseover="jfSidebar.onMouseOverSimpleItem(item)"\n               ng-if="!item.isDisabled && !item.children && !item.template"><i class="{{item.icon}}"></i><span>{{item.label}}</span></a>\n\n            <a class="menu-item"\n               id="{{item.id}}"\n               ng-class="{{item.customClasses}}"\n               ng-mouseover="jfSidebar.onMouseOverSimpleItem(item)"\n               ng-if="!item.isDisabled && !item.children && item.template" jf-dynamic-template="item.template"></a>\n\n            <a href\n                 class="menu-item extended-item"\n                 id="{{item.id}}"\n                 ng-mouseover="jfSidebar.onMouseOverExtendedItem(item)"\n                 ng-mouseleave="jfSidebar.onMouseLeaveExtendedItem(item)"\n                 ng-class="{\'hover-like\': jfSidebar.openSub === item && jfSidebar.isSubMenuOpen() {{item.customClasses ? \', \' + jfSidebar.trim(item.customClasses, \'{} \') : \'\'}}}"\n                 ng-if="!item.isDisabled && item.children"><i class="{{item.icon}}"></i><span>{{item.label}}</span>\n            </a>\n\n\n            <div class="sub-menu" ng-show="jfSidebar.openSub === item" ng-if="item.children && !item.isDisabled" ng-mouseover="jfSidebar.subMenuOver()" ng-click="$event.stopPropagation()">\n\n                <div class="searchbox-wrapper" ng-if="jfSidebar.noSearchBox === undefined && !jfSidebar.openSub.noSearchBox">\n                    <input type="text"\n                           class="input-text"\n                           id="menuSearchQuery"\n                           placeholder="Filter Menu..."\n                           autocomplete="off"\n                           ng-model="jfSidebar.menuSearchQuery"\n                           ng-focus="jfSidebar.openSubMenu()"\n                           ng-change="jfSidebar.checkForSingleChoice()"\n                           ng-keydown="jfSidebar.navigateInMenu($event)"\n                           jf-enter-press="jfSidebar.chooseSingleChoice()" />\n                        <span class="clear-input"\n                              ng-click="jfSidebar.menuSearchQuery = \'\'"\n                              ng-class="{\'disabled\': !jfSidebar.menuSearchQuery}">&times;</span>\n                </div>\n\n                <div class="masonry" ng-class="{\'no-search-box\': jfSidebar.noSearchBox !== undefined || jfSidebar.openSub.noSearchBox}" tabindex="-1">\n                    <div>\n                        <div ng-repeat="item in jfSidebar.subMenuItems" class="section" ng-if="!item.isHidden">\n                            <h3>{{item.label}}</h3>\n                            <span ng-repeat="subItem in item.subItems"\n                                  jf-disable-feature="{{ subItem.feature }}"\n                                  ng-if="!subItem.isHidden">\n                                <a ng-class="{\'blocked\': subItem.isDisabled}"\n                                   ng-if="subItem.isDisabled">\n                                    {{subItem.label}}\n                                </a>\n                                <a ng-class="{\'highlight\' : jfSidebar.searchHighlightCheck(subItem.label),\n                                              \'not-active\' : !jfSidebar.searchHighlightCheck(subItem.label) && jfSidebar.menuSearchQuery.length,\n                                              \'current\' : jfSidebar.isCurrentItem(subItem)}"\n                                   ng-if="!subItem.isDisabled"\n                                   ui-sref="{{ subItem.state }} ({{ subItem.stateParams }})"\n                                   ng-click="jfSidebar.subMenuItemClick(subItem)"\n                                   ng-keydown="jfSidebar.navigateInMenu($event)"\n                                   data-state="{{ subItem.state }}"\n                                   data-params="{{ subItem.stateParams }}"\n                                   id="item-{{subItem.id}}">\n                                    {{subItem.label}}\n                                </a>\n                            </span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n        </li>\n    </ul>\n\n    <ng-include ng-if="jfSidebar.footerTemplate" src="jfSidebar.footerTemplate"></ng-include>\n    <div ng-if="jfSidebar.footerTemplateHtml"  ng-bind-html="jfSidebar.footerTemplateHtml"  ></div>\n\n</div>');
}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_switch/jf_switch.html",'<div class="jf-switch" ng-class="jfSwitch.jfSwitchClass" jf-disable-ng-animate>\n    <span ng-if="jfSwitch.jfSwitchTitle" class="jf-switch-title">{{jfSwitch.jfSwitchTitle}}</span>\n    <jf-help-tooltip ng-if="jfSwitch.helpTooltip"\n                     html="jfSwitch.helpTooltip"></jf-help-tooltip>\n    <ul class="jf-switch-options">\n        <li ng-repeat="option in jfSwitch.optionObjects">\n            <a class="jf-switch-option"\n               href=""\n               ng-click="jfSwitch.selectOption(option)"\n               ng-class="{active: jfSwitch.isSelected(option), disabled: jfSwitch.disabled}">{{option.text}}</a>\n        </li>\n    </ul>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_switch_toggler/jf_switch_toggler.html",'<div class="jf-switch-toggler"\n     ng-class="{\'left-option-selected\' : $ctrl.isLeftOptionOn,\n                \'right-option-selected\' : !$ctrl.isLeftOptionOn}">\n    <span class="left-option-text jf-toggler-text" ng-bind-html="$ctrl.leftOption.text"></span>\n    <jf-toggler on-toggle="$ctrl.toggleSelection()"\n                is-toggled-to-left="$ctrl.isLeftOptionOn">\n    </jf-toggler>\n    <span class="right-option-text jf-toggler-text" ng-bind-html="$ctrl.rightOption.text"></span>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_tabs/jf_tab.html",'\n<div ng-if="getCurrentTabName() === name">\n    <ng-transclude></ng-transclude>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_tabs/jf_tabs.html",'<ul class="nav nav-tabs">\n\t<li ng-repeat="tab in jfTabs.tabsVisible"\n\t    ng-class="{active:jfTabs.isActiveTab(tab), disabled:tab.isDisabled, [tab.class] : jfTabs.hasClass(tab)}"\n\t    class="jf-tabs-tab-header"\n\t    ng-style="{width: jfTabs.getTabWidthForStyle()}"\n\t    jf-disable-feature="{{ tab.feature }}">\n\t\t<a ng-click="jfTabs.onClickTab(tab, true)" style="z-index: 999999">\n\t\t\t<div class="jf-tab-header-container" jf-tooltip-on-overflow><span>{{jfTabs.dictionary[tab.name]}}</span>\n\t\t\t</div>\n\t\t</a>\n\t</li>\n\t<li class="action-expand" ng-show="jfTabs.tabsCollapsed.length">\n        <span class="dropdown" dropdown is-open="jfTabs.isDropdownOpen">\n            <a href class="dropdown-toggle nav-tabs-more" dropdown-toggle><i class="icon-arrow"></i></a>\n            <ul class="dropdown-menu dropdown-menu-right dropdown-container text-left">\n                <li class="dropdown-item" ng-repeat="tab in jfTabs.tabsCollapsed"\n                    ng-class="{[tab.class] : jfTabs.hasClass(tab)}"\n                    jf-disable-feature="{{ tab.feature }}">\n                    <a ng-click="jfTabs.onClickTab(tab, true)"\n                       jf-tooltip-on-overflow><span>{{jfTabs.dictionary[tab.name]}}</span></a>\n                </li>\n            </ul>\n        </span>\n\t</li>\n</ul>\n<ng-transclude></ng-transclude>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_tabular_dnd/jf_tabular_dnd.html",'<div class="jf-tabular-dnd" tabindex="0">\n    <div class="tabular-dnd-table-container available-table" ng-class="{\'no-data\': !jfTabularDnD.availableItems.length && !jfTabularDnD.availableItemsTableOptions.draggedRow && !jfTabularDnD.availableItemsTableOptions.draggedRows && !jfTabularDnD.selectedItems.length && !jfTabularDnD.selectedItemsTableOptions.draggedRow && !jfTabularDnD.selectedItemsTableOptions.draggedRows}">\n        <jf-table-view options="jfTabularDnD.availableItemsTableOptions"></jf-table-view>\n    </div>\n\n    <div class="dnd-actions-wrap">\n        <ul class="dnd-actions">\n            <li>\n                <span ng-click="jfTabularDnD.excludeAll()"\n                      class="dnd-exclude-all"\n                      ng-disabled="jfTabularDnD.isExcludeAllActionDisabled()">&laquo;\n                </span>\n            </li>\n            <li>\n                <span ng-click="jfTabularDnD.excludeSelected()"\n                      class="dnd-exclude-selected"\n                      ng-disabled="!jfTabularDnD.isIncludeListItemSelected() || jfTabularDnD.disabled">&lsaquo;\n                </span>\n            </li>\n            <li>\n                <span ng-click="jfTabularDnD.includeSelected()"\n                      class="dnd-include-selected"\n                      ng-disabled="!jfTabularDnD.isExcludeListItemSelected() || jfTabularDnD.disabled">&rsaquo;\n                </span>\n            </li>\n            <li>\n                <span ng-click="jfTabularDnD.includeAll()"\n                      class="dnd-include-all"\n                      ng-disabled="jfTabularDnD.isIncludeAllActionDisabled()">&raquo;\n                </span>\n            </li>\n        </ul>\n    </div>\n\n    <div class="tabular-dnd-table-container selected-table">\n        <jf-table-view options="jfTabularDnD.selectedItemsTableOptions"></jf-table-view>\n    </div>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_text_box/jf_text_box.html",'<div class="jf-text-box-container" >\n    <div class="jf-text-box-content-current">{{jfTextBox.content}}\n        <div ng-if="jfTextBox.ready && jfTextBox.isOverflowing" class="jf-text-box-show-all"\n             ng-style="{\'white-space\': jfTextBox.wrapSeeAll ? \'inherit\' : \'nowrap\'}" ng-click="jfTextBox.seeAll()"\n             ng-bind-html="jfTextBox.seeAllText"></div>\n    </div>\n    <div class="jf-text-box-content-full"></div>\n    <div class="jf-text-box-content-stage"></div>\n</div>\n\n')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_toggler/jf_toggler.html",'<div class="switch-toggle"\n     ng-class="{\'left\': $ctrl.isToggledToLeft, \'right\': !$ctrl.isToggledToLeft}"\n     ng-click="$ctrl.toggleSelection()">\n\t<span></span>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_ui_select/jf_ui_select.html",'<ui-select jf-disable-ng-animate ng-model="jfUiSelect.jfSelectModel" on-select="jfUiSelect.onSelect($item,$model)" ng-disabled="jfUiSelect.jfSelectDisabled" remove-selected="false">\n    <ui-select-match id="select-header" placeholder="{{ jfUiSelect.jfSelectPlaceholder }}" ng-click="jfUiSelect.onOpenList()">\n        <jf-marquee disabled="jfUiSelect.jfSelectDisableMarquee"><inner-html ng-bind-html="jfUiSelect.displayLabel($item || $select.selected)"></inner-html></jf-marquee>\n    </ui-select-match>\n    <ui-select-choices jf-disable-ng-animate\n                       refresh-delay="100"\n                       ui-disable-choice="item.disabled"\n                       refresh="jfUiSelect.refresh($select.search)"\n                       repeat="item in jfUiSelect[jfUiSelect.jfSelectOptionsView ? \'jfSelectOptionsView\' : \'jfSelectOptions\'] | filter: (!jfUiSelect.jfSelectFilterAttr ? $select.search : { [jfUiSelect.jfSelectFilterAttr || \'dummyfield\']: $select.search}) track by $index">\n        <div  ng-if="!jfUiSelect.jfSelectHelpTooltips"\n              class="jf-ui-select-item"\n              name="select-item"\n              ng-class="{\'more-ph\': jfUiSelect.isMorePlaceholder(item)}"\n              ng-click="jfUiSelect.onClick(item,$event)">\n            <jf-marquee disabled="jfUiSelect.jfSelectDisableMarquee" ng-class="[item.customClass]">\n                <inner-html ng-bind-html="jfUiSelect.displayLabel(item) | highlight: $select.search"></inner-html>\n            </jf-marquee>\n        </div>\n        <div  ng-if="jfUiSelect.jfSelectHelpTooltips">\n            <span class="jf-ui-select-item"\n                  name="select-item"\n                  ng-class="{\'more-ph\': jfUiSelect.isMorePlaceholder(item)}"\n                  ng-click="jfUiSelect.onClick(item,$event)"\n                  ng-bind-html="jfUiSelect.displayLabel(item) | highlight: $select.search"></span>\n            <span ng-if="jfUiSelect.jfSelectHelpTooltips({$item: item})">\n                <jf-help-tooltip text="{{jfUiSelect.jfSelectHelpTooltips({$item: item})}}"></jf-help-tooltip>\n            </span>\n        </div>\n    </ui-select-choices>\n</ui-select>\n')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_validation/jf_validation.html",'<ng-messages for="jfValidation.field.$error" class="jf-validation" ng-style="{position: jfValidation.dontPushDown ? \'absolute\' : \'relative\'}">\n    <div ng-repeat="(key, value) in jfValidation.messages">\n        <div ng-message-exp="key" id="validation-label">{{ jfValidation.applyParams(value) }}</div>\n    </div>\n</ng-messages>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_vscroll/jf_vscroll.html",'<div class="v-scroll-container">\n    <div class="v-scroll-inner-container"\n         ng-style="{transform: \'translate(0, \' + (-jfVScroll.getTranslate()) + \'px)\', height: jfVScroll.containerHeight + \'px\', opacity: jfVScroll.ready ? 1 : 0}">\n        <div class="scroll-faker-container"\n             ng-style="{transform: \'translate(0, \' + (jfVScroll.getTranslate()) + \'px)\', right: 0, height: jfVScroll.getPageHeight() + \'px\'}">\n            <div class="scroll-faker"\n                 ng-init="jfVScroll.initScrollFaker()"\n                 ng-style="{height: (jfVScroll.getTotalScrollHeight() > jfVScroll.maxFakeScrollHeight ? jfVScroll.maxFakeScrollHeight : jfVScroll.getTotalScrollHeight()) + \'px\'}">\n            </div>\n        </div>\n        <div class="h-scroll-wrapper"\n             ng-style="{height: (jfVScroll.getPageHeight() + jfVScroll.getTranslate()) + \'px\'}"\n             msd-wheel="jfVScroll.onMouseWheel($event, $delta, $deltaX, $deltaY)">\n            <div class="h-scroll-content">\n                <jf-vscroll-element ng-repeat="item in jfVScroll.getPage() track by $index"\n                                    vscroll="jfVScroll"\n                                    data="item"\n                                    index="$index"\n                                    template="jfVScroll.transcludedContent"\n                                    variable="jfVScroll.itemVariableName"></jf-vscroll-element>\n            </div>\n        </div>\n    </div>\n</div>\n')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_widgets_layout/jf_widgets_layout.html",'<div class="jf-widgets-layout-container" jf-disable-ng-animate\n     ng-style="jfWidgetsLayout.containerCss"\n     ng-mouseleave="jfWidgetsLayout.onMouseLeave($event)"\n     ng-mousemove="jfWidgetsLayout.onMouseMove($event)"\n     ng-mousedown="jfWidgetsLayout.onMouseDown($event)"\n     ng-mouseup="jfWidgetsLayout.onMouseUp($event)">\n    <div class="widgets-padder"\n         ng-style="jfWidgetsLayout.padderCss">\n        <div ng-repeat="rowOrColumn in jfWidgetsLayout.transformedLayout"\n             class="widgets-row">\n            <div ng-repeat="layoutObj in rowOrColumn"\n                 ng-style="jfWidgetsLayout.cssRules[layoutObj.cssId]"\n                 class="widget-wrapper"\n                 ng-class="{[\'widget-wrapper-\' + jfWidgetsLayout.widgets[layoutObj.widget].id.toLowerCase()]: true, \'atom\': !layoutObj.subLayout}">\n                <div ng-if="!layoutObj.subLayout && jfWidgetsLayout.editMode"\n                     class="edit-mode-actions"\n                     ng-mousemove="jfWidgetsLayout.onWidgetMouseMove($event)">\n                    <i class="glyphicon glyphicon-asterisk"\n                       jf-tooltip="Change"\n                       ng-click="jfWidgetsLayout.changeWidget(layoutObj)"></i>\n                    <i class="glyphicon glyphicon-remove-circle"\n                       jf-tooltip="Remove"\n                       ng-if="jfWidgetsLayout.getWidgetsCount() > 1"\n                       ng-click="jfWidgetsLayout.removeWidget(layoutObj)"></i>\n                    <i class="glyphicon glyphicon-resize-vertical"\n                       jf-tooltip="Vertical Split"\n                       ng-click="jfWidgetsLayout.splitCell(layoutObj,\'v\')"></i>\n                    <i class="glyphicon glyphicon-resize-horizontal"\n                       jf-tooltip="Horizontal Split"\n                       ng-click="jfWidgetsLayout.splitCell(layoutObj,\'h\')"></i>\n                </div>\n                <div ng-if="!layoutObj.subLayout && jfWidgetsLayout.editMode && layoutObj.selectWidgetMode"\n                     class="select-widget-mode"\n                     ng-mousemove="jfWidgetsLayout.onWidgetMouseMove($event)">\n                    <div class="widget-selector">\n                        <jf-ui-select jf-select-model="layoutObj.widget"\n                                      jf-select-display-func="jfWidgetsLayout.getWidgetName($item)"\n                                      jf-select-placeholder="Select A Widget"\n                                      jf-select-change="jfWidgetsLayout.onWidgetChange(layoutObj)"\n                                      jf-select-options="jfWidgetsLayout.widgetKeys"></jf-ui-select>\n                    </div>\n                </div>\n                <div ng-if="!jfWidgetsLayout.widgets[layoutObj.widget].blockExpand  && !layoutObj.subLayout && (jfWidgetsLayout._getRootDirective().transformedLayout.length > 1 || jfWidgetsLayout._getRootDirective().transformedLayout[0].length > 1) && jfWidgetsLayout.options.expandablePanes"\n                     ng-style="{top: jfWidgetsLayout.top, left: jfWidgetsLayout.left}"\n                     class="expansion-corner-mask">\n                    <div class="expansion-corner-fill" ng-click="jfWidgetsLayout.expandPane(layoutObj)">\n                        <div class="icon icon-thin-arrow" ng-class="{expanded: layoutObj.expanded}"></div>\n                    </div>\n                </div>\n\n                <div class="widget-container"\n                     ng-mousemove="jfWidgetsLayout.onWidgetMouseMove($event)"\n                     ng-if="!layoutObj.subLayout"\n                     ng-style="{overflow: jfWidgetsLayout.widgets[layoutObj.widget].scroll ? \'auto\' : \'hidden\'}">\n                    <div ng-if="jfWidgetsLayout.widgets[layoutObj.widget] && jfWidgetsLayout.widgets[layoutObj.widget].showSpinner"\n                         class="widget-spinner">\n                        <div class="spinner-msg">\n                            <div class="icon-hourglass"></div>\n                        </div>\n                    </div>\n                    <div ng-if="jfWidgetsLayout.widgets[layoutObj.widget] && jfWidgetsLayout.widgets[layoutObj.widget].template"\n                         ng-show="jfWidgetsLayout.widgets[layoutObj.widget].$compiled || (!jfWidgetsLayout.widgets[layoutObj.widget].model && !jfWidgetsLayout.widgets[layoutObj.widget].controller)">\n                        <div class="compile-children"\n                             ng-show="jfWidgetsLayout.widgets[layoutObj.widget].$compiled"\n                             id="{{layoutObj.widget}}"\n                             ng-bind-html="jfWidgetsLayout.widgets[layoutObj.widget].template"></div>\n                    </div>\n                </div>\n                <div ng-if="layoutObj.subLayout">\n                    <jf-widgets-layout layout="layoutObj.subLayout"\n                                       widgets="jfWidgetsLayout.widgets"\n                                       options="jfWidgetsLayout.subOptions"\n                                       parent-cell="layoutObj"></jf-widgets-layout>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div id="home-disclaimer" ng-bind-html="jfWidgetsLayout.footerText" ng-if="jfWidgetsLayout.footerText"></div>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_wizard/jf.wizard.view.html",'<div class="jf-wizard-container">\n\t<div class="wizard-bar">\n\t\t<ul>\n\t\t\t<li ng-repeat="tab in $ctrl.tabs" ng-class="{\'active\': $ctrl.active.title === tab.title}"\n\t\t\t    jf-disable-feature="{{ tab.title }}"\n\t\t\t    ng-if="$ctrl.isVisible(tab) && !$ctrl.isDisabledTab(tab)">\n\t\t\t\t<a href="" ng-click="$ctrl.switch(tab)">{{tab.title}}</a>\n\t\t\t</li>\n\n\t\t\t<li ng-repeat="tab in $ctrl.tabs"\n\t\t\t    class="disabled"\n\t\t\t    ng-if="$ctrl.isVisible(tab) && $ctrl.isDisabledTab(tab)">\n\t\t\t\t<a href>{{tab.title}}</a>\n\t\t\t</li>\n\t\t</ul>\n\t</div>\n\n\t<div class="wizard-content" >\n\t\t<div ng-transclude>\n\n\t\t</div>\n\t</div>\n</div>\n\n')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("ui_components/jf_divider/jf.divider.view.html",'<div class="jf-divider-container">\n\t<div class="jf-divider-header">{{$ctrl.text}}</div>\n\t<div class="jf-divider-line"></div>\n</div>\n')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("ui_components/jf_summary_row/summary.row.template.html",'<div class="summary-row jf-content-section"\n     ng-style="$ctrl.inlineStyle">\n\t<div class="summery-labeled-item"\n\t     ng-class="col.class"\n\t     ng-repeat="col in $ctrl.columnsToShow track by $index">\n        <div class="summary-item-label">{{col.label}}</div>\n\t\t<jf-summary-row-item\n\t\t\t\tno-wrap="col.noWrap"\n\t\t\t\tcol-template="col.template"\n\t\t\t\tcol-scope="$ctrl.parentScope">\n\t\t</jf-summary-row-item>\n\t</div>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("ui_components/jf_summary_row/summary.row.view.html","")}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("ui_components/jf_table_view/jf_table_row.html",'<div class="jf-table-row"\n     ng-mousemove="jfTableRow.rowId === \'headers\' && jfTableRow.tableView.options.resizableColumns && jfTableRow.onMouseMove($event)"\n     ng-mousedown="jfTableRow.rowId === \'headers\' && jfTableRow.tableView.options.resizableColumns && jfTableRow.onMouseDown($event)"\n     ng-mouseup="jfTableRow.rowId === \'headers\' && jfTableRow.tableView.options.resizableColumns && jfTableRow.onMouseUp($event)"\n     ng-mouseleave="jfTableRow.rowId === \'headers\' && jfTableRow.tableView.options.resizableColumns && jfTableRow.onMouseUp($event)"\n     ng-click="jfTableRow.onRowClick($event)"\n     ng-class="{headers: jfTableRow.rowId === \'headers\', \'group-header\': jfTableRow.data.$groupHeader, \'expanded\': jfTableRow.data.$groupHeader.$expanded, \'sub-row\': jfTableRow.data.$parentRow, sticky: jfTableRow.data.$sticky, selected: jfTableRow.data.$selected, \'drag-mark\': jfTableRow.rowId !== \'headers\' && jfTableRow.tableView.options.draggableRows && !(jfTableRow.tableView.options.registeredTabularDnd.dndCtrl.disabled) && jfTableRow.isRowDraggable(), [jfTableRow.data[jfTableRow.tableView.options.rowClassAttr]]: jfTableRow.tableView.options.rowClassAttr && jfTableRow.data[jfTableRow.tableView.options.rowClassAttr]}"\n     ng-style="{height: jfTableRow.rowId === \'headers\' ? \'\' : jfTableRow.tableView.options.rowHeight, opacity: jfTableRow.tableView.options.ready ? 1 : 0}">\n\n    <div class="jf-table-cell selection"\n         ng-class="{\'single-selection\' : jfTableRow.tableView.options.selectionMode === jfTableRow.tableView.options.SINGLE_SELECTION}"\n         ng-style="{height: jfTableRow.tableView.options.rowHeight, width: jfTableRow.tableView.options.selectionColumnWidth + \'px\'}"\n         ng-if="jfTableRow.tableView.options.hasSelection()">\n        <div class="jf-table-cell-content">\n            <div class="selection-button"\n                 ng-if="(!jfTableRow.data.$groupHeader && jfTableRow.rowId !== \'headers\') || (jfTableRow.tableView.options.selectionMode === jfTableRow.tableView.options.MULTI_SELECTION && jfTableRow.tableView.options.getRawData().length)"\n                 ng-style="{height: jfTableRow.tableView.options.rowHeight, width: jfTableRow.tableView.options.selectionColumnWidth +\'px\'}">\n                <div class="selection-icon icon icon-datagrid-v"\n                     ng-class="{selected: jfTableRow.data.$selected || (jfTableRow.rowId === \'headers\' && jfTableRow.tableView.allSelected)}"\n                     ng-click="jfTableRow.toggleSelection(jfTableRow.rowId === \'headers\');$event.stopPropagation();">\n                </div>\n            </div>\n        </div>\n    </div>\n\n\n    <!-- GROUP HEADER -->\n    <div class="jf-table-cell group-header"\n         ng-if="jfTableRow.data.$groupHeader"\n         ng-style="{height: jfTableRow.rowId === \'headers\' ? \'\' : jfTableRow.tableView.options.rowHeight,\n                    lineHeight: jfTableRow.rowId === \'headers\' ? \'\' : jfTableRow.tableView.options.rowHeight}">\n\n\n\t    <i class="icon icon-small-arrow-down"\n\t       ng-class="{\'expanded\': jfTableRow.data.$groupHeader.$expanded}"></i>\n        <span class="jf-table-cell-content group-header"\n              ng-if="!jfTableRow.data.$groupHeader.col.cellTemplate">\n            {{jfTableRow.data.$groupHeader.value}}\n        </span>\n\n        <!--<i class="action-icon icon icon-small-arrow-down"\n             ng-class="{\'expanded\': jfTableRow.data.$groupHeader.$expanded}"></i>\n        <span class="jf-table-cell-content group-header"\n             ng-if="!jfTableRow.data.$groupHeader.col.cellTemplate">\n            {{jfTableRow.data.$groupHeader.value}}\n        </span>-->\n\n        <div class="jf-table-cell-content group-header"\n             ng-if="jfTableRow.data.$groupHeader.col.cellTemplate">\n            <jf-table-compiled-cell field="jfTableRow.data.$groupHeader.field"\n                                    row-id="jfTableRow.rowId"\n                                    table-row="jfTableRow">\n            </jf-table-compiled-cell>\n        </div>\n       <div class="group-header-count">({{jfTableRow.data.$groupHeader.count}})</div>\n\n\n\n\n\n    </div>\n\n    <div class="jf-table-cell"\n         ng-if="!jfTableRow.data.$groupHeader"\n         ng-class="{header: jfTableRow.rowId === \'headers\' && col.header, sortable: jfTableRow.rowId === \'headers\' && jfTableRow.tableView.options.sortable && jfTableRow.tableView.options.getRawData().length && col.sortable && !jfTableRow.hoveringResize, \'column-resizer\': jfTableRow.hoveringResize, [\'drag-right\']: col.$dragRightBorder, [\'drag-left\']: col.$dragLeftBorder, [\'field-id-\' + jfTableRow.kebab(col.field)]: true, [\'row-expander-cell\']: $index === 0 && jfTableRow.tableView.options.subRowsEnabled}"\n         ng-click="jfTableRow.onClickCell(col,$event)"\n         ng-style="{height: jfTableRow.rowId === \'headers\' ? jfTableRow.tableView.options.headerRowHeight : jfTableRow.tableView.options.rowHeight, width: col.width}"\n         ng-repeat="col in jfTableRow.tableView.options.columns">\n        <div class="row-expander"\n             jf-disable-ng-animate\n             ng-class="{placeholder: (!jfTableRow.data.$subRows && !jfTableRow.data.$parentRow) || (jfTableRow.data.$subRows && jfTableRow.data.$subRows.length === 0) || (jfTableRow.data.$parentRow)}"\n             ng-if="$index === 0 && jfTableRow.tableView.options.subRowsEnabled"\n             ng-style="{height: jfTableRow.tableView.options.rowHeight}"\n             ng-click="jfTableRow.toggleExpansion($event)">\n            <i ng-if="jfTableRow.data.$subRows && jfTableRow.data.$subRows.length && !jfTableRow.data.$parentRow && !jfTableRow.data.$pendingSubRows"\n               class="action-icon icon icon-small-arrow-down"\n               ng-class="{\'expanded\': jfTableRow.data.$expanded}"></i>\n            <div class="spinner-msg-local" ng-if="jfTableRow.data.$pendingSubRows">\n                <div class="icon-hourglass-local"></div>\n            </div>\n        </div>\n        <div class="jf-table-cell-content"\n             ng-class="{\'row-expander-content\': $index === 0 && jfTableRow.tableView.options.subRowsEnabled,\n                        \'sortable-aligned-center\' : col.sortable && col.textAlign === \'center\'}"\n             ng-style="{\'text-align\': col.textAlign || \'auto\'}"\n             jf-tooltip-on-overflow\n             ng-if="(!col.cellTemplate && jfTableRow.rowId !== \'headers\') || (!col.headerCellTemplate && jfTableRow.rowId === \'headers\')">\n            {{jfTableRow.getField(col.field)}}\n            <i class="icon sorting-icon icon-small-arrow-down"\n               ng-class="{\'rotate180\': !jfTableRow.tableView.options.revSort || (jfTableRow.tableView.options.sortByField !== col.field && jfTableRow.tableView.options.showSortingArrowsAlways),\n                          active: jfTableRow.tableView.options.sortByField === col.field,\n                          \'invisible\' : !(jfTableRow.rowId === \'headers\' && jfTableRow.tableView.options.sortable && (jfTableRow.tableView.options.sortByField === col.field || jfTableRow.tableView.options.showSortingArrowsAlways) && col.sortable && jfTableRow.tableView.options.getRawData().length && (col.header || col.headerCellTemplate))}"></i>\n\n\n\n            <div class="group-button-wrapper" ng-if="jfTableRow.rowId === \'headers\' && col.allowGrouping">\n                <div class="group-button icon-grouping-off"\n                     ng-class="{\'icon-grouping-on\': jfTableRow.tableView.options.groupedBy === col.field}"\n                     ng-click="jfTableRow.tableView.options.groupBy(col.field); $event.stopPropagation();"\n                     ></div>\n            </div>\n        </div>\n        <div class="jf-table-cell-content"\n             ng-class="{\'drag-mark\': $index === 0 && jfTableRow.rowId !== \'headers\' && jfTableRow.tableView.options.draggableRows}"\n             ng-style="{\'text-align\': col.textAlign || \'auto\'}"\n             ng-if="(col.cellTemplate && jfTableRow.rowId !== \'headers\') || (col.headerCellTemplate && jfTableRow.rowId === \'headers\')">\n            <jf-table-compiled-cell field="col.field"\n                                    row-id="jfTableRow.rowId"\n                                    table-row="jfTableRow">\n            </jf-table-compiled-cell>\n            <i ng-if="jfTableRow.rowId === \'headers\' && jfTableRow.tableView.options.sortable && (jfTableRow.tableView.options.sortByField === col.field || jfTableRow.tableView.options.showSortingArrowsAlways) && col.sortable && jfTableRow.tableView.options.getRawData().length && (col.header || col.headerCellTemplate)"\n               class="icon sorting-icon"\n               ng-class="{\'icon-down-arrow\': jfTableRow.tableView.options.revSort && jfTableRow.tableView.options.sortByField === col.field, \'icon-up-arrow\': !jfTableRow.tableView.options.revSort || (jfTableRow.tableView.options.sortByField !== col.field && jfTableRow.tableView.options.showSortingArrowsAlways), active: jfTableRow.tableView.options.sortByField === col.field}"></i>\n            <div class="group-button-wrapper" ng-if="jfTableRow.rowId === \'headers\' && col.allowGrouping">\n                <div class="group-button icon-grouping-off"\n                     ng-class="{\'icon-grouping-on\': jfTableRow.tableView.options.groupedBy === col.field}"\n                     ng-click="jfTableRow.tableView.options.groupBy(col.field); $event.stopPropagation();"\n                ></div>\n            </div>\n        </div>\n    </div>\n\n    <div class="jf-table-cell actions"\n         ng-style="{height: jfTableRow.rowId === \'headers\' ? \'\' : jfTableRow.tableView.options.rowHeight, width: jfTableRow._getRowActionsWidth()}"\n         ng-if="jfTableRow.rowId !== \'headers\' && jfTableRow.tableView.options.actions.length && !jfTableRow.data.$groupHeader">\n        <div class="jf-table-cell-content">\n            <div class="action-button"\n                 ng-style="{height: jfTableRow.tableView.options.rowHeight, width: jfTableRow.tableView.options.actionButtonSize + \'px\', visibility: !action.visibleWhen || action.visibleWhen(jfTableRow.data) ? \'visible\' : \'hidden\'}"\n                 ng-if="jfTableRow.tableView.options.actions.length <= 3 || jfTableRow.tableView.options.isRowActionGroupingDisabled"\n                 ng-repeat="action in jfTableRow.tableView.options.actions">\n                <div class="action-icon"\n                     ng-click="jfTableRow.fireAction(action);$event.stopPropagation();"\n                     ng-if="!action.href"\n                     jf-tooltip="{{action.tooltip}}"\n                     ng-class="action.icon"></div>\n                <a ng-click="jfTableRow.fireAction(action);$event.stopPropagation();"\n                   ng-if="action.href"\n                   jf-tooltip="{{action.tooltip}}"\n                   ng-href="{{action.href(jfTableRow.data)}}">\n                    <div class="action-icon" ng-class="action.icon"></div>\n                </a>\n            </div>\n            <div class="action-button"\n                 ng-style="{height: jfTableRow.tableView.options.rowHeight, width: jfTableRow.tableView.options.actionButtonSize + \'px\', visibility: jfTableRow.tableView.options.hasVisibleActionsFor(jfTableRow.data) ? \'visible\' : \'hidden\'}"\n                 ng-if="jfTableRow.tableView.options && !jfTableRow.tableView.options.isRowActionGroupingDisabled && jfTableRow.tableView.options.actions.length > 3 ">\n                <div class="action-icon icon-more"\n                     ng-click="jfTableRow.toggleActionsDropdown($event)"\n                     jf-tooltip="{{jfTableRow.actionsDropdownOpen ? \'\' : \'Actions\'}}"></div>\n            </div>\n        </div>\n    </div>\n\n    <div class="columns-customization-icon"\n         ng-click="jfTableRow.tableView.options.toggleColumnsCustomizationDropdown()"\n         ng-if="jfTableRow.rowId === \'headers\' && jfTableRow.tableView.options.columnsCustomization">\n        <i class="icon-menu-arrow"></i>\n    </div>\n\n    <div class="jf-table-row-actions-dropdown" ng-if="jfTableRow.actionsDropdownOpen"\n         jf-reparent="jfTableRow.tableView.$containerElement">\n        <div ng-repeat="action in jfTableRow.tableView.options.actions"\n             ng-if="!action.visibleWhen || action.visibleWhen(jfTableRow.data)"\n             ng-click="jfTableRow.fireAction(action);$event.stopPropagation();jfTableRow.actionsDropdownOpen=false;"\n             class="action-item" icon-name="{{action.icon || \'\'}}">\n            <i class="action-icon"\n                 ng-if="!action.href"\n                 ng-class="action.icon"></i>\n            <span>{{action.tooltip}}</span>\n        </div>\n    </div>\n\n</div>');
}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("ui_components/jf_table_view/jf_table_top.html",'<div class="jf-table-top clearfix"\n     ng-if="!jfTableTop.tableView.getTotalLength() ||\n            jfTableTop.tableView.options.filterVisible ||\n\t\t\tjfTableTop.tableView.options.batchActions.length">\n\n\t<div class="counter-and-filter-wrapper">\n\t\t<div ng-if="!jfTableTop.tableView.options.noCount" class="table-counter">{{ jfTableTop.tableView.getTotalRecords() }}<span ng-if="jfTableTop.tableView.getSelectedRecords()"> ({{jfTableTop.tableView.getSelectedRecords()}} Selected)</span></div>\n\t\t<div class="jf-table-filter">\n\t\t\t<input class="input-text"\n\t\t\t       ng-if="jfTableTop.tableView.options.filterVisible"\n\t\t\t       ng-disabled="jfTableTop.isFilterDisabled()"\n\t\t\t       ng-model="jfTableTop.tableView.tableFilter"\n\t\t\t       ng-model-options="{debounce: { \'default\': 500 } }"\n\t\t\t       ng-change="jfTableTop.tableView.onUpdateFilter()"\n\t\t\t       ng-class="{\'no-results\': jfTableTop.tableView.noFilterResults}"\n\t\t\t       placeholder="Filter"\n\t\t\t       ng-init="jfTableTop.tableView.initFilter()"\n\t\t\t       jf-tooltip="{{!jfTableTop.tableView.options.tooltipFilterDisabled ? jfTableTop.tableView.options.getFilterTooltip() : \'\'}}">\n\t\t</div>\n\t</div>\n\n\t<div class="batch-actions-wrapper" ng-if="jfTableTop.tableView.options.batchActions">\n\t\t<jf-table-view-batch-actions table-options="jfTableTop.tableView.options" actions="jfTableTop.tableView.options.batchActions"></jf-table-view-batch-actions>\n\t</div>\n\n\t<div class="pagination-controls" ng-if="jfTableTop.tableView.paginationApi && jfTableTop.tableView.options.paginationVisible && jfTableTop.tableView.paginationApi.getTotalPages() > 1">\n\t\t<jf-drag-drop-pagination pagination-api="jfTableTop.tableView.paginationApi">\n\t\t</jf-drag-drop-pagination>\n\t</div>\n\n</div>\n')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("ui_components/jf_table_view/jf_table_view.html",'<div class="jf-table-view" style="clear: both">\n\n    <div class="new-entity-wrapper">\n        <a href class="new-entity"\n           ng-click="jfTableView.createNewEntity()"\n           ng-if="jfTableView.options.newEntityCallback">\n            <i class="icon icon-new"></i> <span ng-if="!jfTableView.options.newEntityCustomText">Add {{jfTableView.options.useAnWithObjectName ? \'an\' : \'a\'}} {{jfTableView.objectName ? jfTableView.objectName.split(\'/\')[0] : jfTableView.options.objectName ? jfTableView.options.objectName.split(\'/\')[0] : \'Item\'}}</span>\n            <span ng-if="jfTableView.options.newEntityCustomText">{{jfTableView.options.newEntityCustomText}}</span>\n        </a>\n    </div>\n\n    <jf-table-top table-view="jfTableView"></jf-table-top>\n\n    <div class="columns-customization-wrap"\n         ng-if="jfTableView.options.columnsCustomization">\n        <div class="columns-customization pull-right">\n            <jf-multi-dropdown title="Columns"\n                               no-filter="true"\n                               filter-placeholder="Filter Columns"\n                               items="jfTableView.options.availableColumns"\n                               on-change="jfTableView.options.updateCustomizedColumns()"></jf-multi-dropdown>\n        </div>\n    </div>\n\n    <div class="jf-table-view-container" ng-if="jfTableView.options">\n        <div class="jf-table-view-header"\n             ng-if="jfTableView.options.headersVisible">\n            <jf-table-row table-view="jfTableView"\n                          row-id="\'headers\'"\n                          data="jfTableView.options.headersRow"></jf-table-row>\n        </div>\n\n\n        <div ng-if="jfTableView.options.paginationMode === jfTableView.options.VIRTUAL_SCROLL || jfTableView.options.paginationMode === jfTableView.options.INFINITE_VIRTUAL_SCROLL"\n             class="table-rows-container"\n             ng-style="{height: jfTableView.getActualPageHeight() + \'px\'}">\n            <jf-vscroll with-each="entity" in="jfTableView.options.getPrePagedData()" api="jfTableView.vsApi">\n                <div ng-non-bindable>\n                    <div ng-if="$is_last() && jfTableView.options && jfTableView.options.pendingInfiniteScroll && jfTableView.options.paginationMode === jfTableView.options.INFINITE_VIRTUAL_SCROLL"\n                         ng-style="{height: jfTableView.options.rowHeight}" class="loading-more">\n                        <div class="spinner-msg-local">\n                            <div class="icon-hourglass-local"></div>\n                        </div>\n                    </div>\n                    <jf-table-row ng-if="!$is_last() || !jfTableView.options || !jfTableView.options.pendingInfiniteScroll || jfTableView.options.paginationMode !== jfTableView.options.INFINITE_VIRTUAL_SCROLL"\n                                  table-view="jfTableView"\n                                  row-id="$index"\n                                  data="entity"></jf-table-row>\n                </div>\n            </jf-vscroll>\n        </div>\n\n        <div ng-if="jfTableView.options.paginationMode !== jfTableView.options.VIRTUAL_SCROLL && jfTableView.options.paginationMode !== jfTableView.options.INFINITE_VIRTUAL_SCROLL"\n             class="table-rows-container">\n            <jf-table-row ng-repeat="entity in jfTableView.options.getPageData() track by $index"\n                          table-view="jfTableView"\n                          row-id="$index"\n                          data="entity"></jf-table-row>\n        </div>\n\n        <div class="empty-table-placeholder"\n             ng-style="jfTableView.options.registeredTabularDnd.emptyTableStyle"\n             ng-if="jfTableView.options.dataWasSet && !jfTableView.options.getRawData().length && !jfTableView.options.pendingExternalPaging && (!jfTableView.options.externalTotalCount || jfTableView.options.externalTotalCount.total === 0)">\n            {{jfTableView.options.emptyTableText || \'This table is empty !\'}} <a href class="jf-link" ng-if="jfTableView.options.emptyTableAction && jfTableView.options.emptyTableCallActionText"\n                                                                                 ng-click="jfTableView.options.emptyTableAction()">{{jfTableView.options.emptyTableCallActionText}}</a>\n        </div>\n        <div class="empty-table-placeholder filter-no-results"\n             ng-if="jfTableView.noFilterResults">\n            {{jfTableView.options.noFilterResultsText || \'Current filter has no results.\'}} <a href class="jf-link" ng-if="jfTableView.tableFilter" ng-click="jfTableView.clearFilter()">Clear filter</a>\n        </div>\n        <div ng-if="jfTableView.options.pendingInfiniteScroll && jfTableView.options.paginationMode !== jfTableView.options.INFINITE_VIRTUAL_SCROLL"\n             ng-style="{height: jfTableView.options.rowHeight}"\n             class="loading-more">\n            <div class="spinner-msg-local">\n                <div class="icon-hourglass-local"></div>\n            </div>\n        </div>\n\n    </div>\n\n\n</div>\n')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("ui_components/jf_table_view/jf_table_view_batch_actions.html",'<div class="grid-batch-actions text-right" jf-disable-ng-animate>\n    <div class="grid-batch-action-wrapper"\n         ng-class="{\'more-actions\': action === jfTableViewBatchActions.MORE_ACTIONS}"\n         ng-repeat="action in jfTableViewBatchActions.actions track by $index"\n         data-action-id="{{action.name}}"\n         ng-style="{visibility: action === jfTableViewBatchActions.MORE_ACTIONS || jfTableViewBatchActions.visibleActions.indexOf(action) !== -1 ? \'inherit\' : \'hidden\', opacity: action === jfTableViewBatchActions.MORE_ACTIONS || jfTableViewBatchActions.visibleActions.indexOf(action) !== -1 ? 1 : 0}"\n         jf-tooltip="{{jfTableViewBatchActions.isDisabled(action) ? action.getDisabledTooltip() : \'\'}}">\n        <a ng-class="{disabled: jfTableViewBatchActions.isDisabled(action)}"\n           ng-if="action !== jfTableViewBatchActions.MORE_ACTIONS && (!action.visibleWhen || action.visibleWhen())"\n           ng-click="jfTableViewBatchActions.perform(action)"\n           class="btn batch-action-{{action.icon}}">\n            <img ng-src="images/{{action.icon}}.png"\n                 ng-if="action.img"/>\n            <i class="icon icon-{{action.icon}}"\n               ng-if="!action.img"></i> {{ action.name }}\n        </a>\n        <div class="more-wrapper"\n             ng-if="action === jfTableViewBatchActions.MORE_ACTIONS">\n            <jf-actions parent-controller="jfTableViewBatchActions"\n                        label="More Actions"\n                        init-method="initActions"\n                        show-drop-down-for-one-item="true">\n            </jf-actions>\n        </div>\n    </div>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("ui_components/jf_tree/jf_tree.html",'<div class="jf-tree"\n     ng-class="jfTree.viewPaneName + \'-pane\'"\n     tabindex="0"\n     style="clear: both">\n    <div class="jf-tree-container"\n         ng-style="{height: jfTree.getPageHeight() + \'px\', overflow: jfTree.isEmpty() || !jfTree.api.dataGettersSet ? \'visible\' : \'hidden\'}"\n         ng-if="jfTree.viewPane">\n        <div class="tree-items-container"\n             ng-style="{transform: \'translate(0, \' + (-jfTree.getTranslate()) + \'px)\'}">\n            <div class="scroll-faker-container"\n                 ng-style="{transform: \'translate(0, \' + (jfTree.getTranslate()) + \'px)\', right: 0, height: jfTree.getPageHeight() + \'px\'}">\n                <div class="scroll-faker"\n                     ng-init="jfTree.initScrollFaker()"\n                     ng-style="{height: (jfTree.getTotalScrollHeight() > jfTree.maxFakeScrollHeight ? jfTree.maxFakeScrollHeight : jfTree.getTotalScrollHeight()) + \'px\'}">\n                </div>\n            </div>\n            <div class="h-scroll-wrapper"\n                 ng-style="{height: (jfTree.getPageHeight() + jfTree.getTranslate()) + \'px\'}"\n                 msd-wheel="jfTree.onMouseWheel($event, $delta, $deltaX, $deltaY)">\n                <div class="h-scroll-content">\n                    <jf-tree-item ng-repeat="item in jfTree.viewPane._getPageData() track by $index"\n                                  tree="jfTree"\n                                  item-id="$index"\n                                  data="item"></jf-tree-item>\n                </div>\n            </div>\n        </div>\n\n        <div class="missing-data-setters"\n             ng-if="!jfTree.api.dataGettersSet">\n            {{\'jf-tree: Data getters was not set (call setDataDriver())\'}}\n        </div>\n        <div class="empty-tree-placeholder"\n             ng-if="jfTree.isEmpty()">\n            {{jfTree.api.emptyTreeText || \'This tree is empty !\'}}\n        </div>\n        <div class="empty-tree-placeholder filter-no-results"\n             ng-if="jfTree.noFilterResults">\n            Current filter has no results. <a href ng-click="jfTree.clearFilter()">Clear filter</a>\n        </div>\n    </div>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("ui_components/jf_tree/jf_tree_indentation.html",'<div class="indentation-wrap"\n     ng-style="{width: (jfTreeIndentation.indentation.length * 26) + \'px\'}">\n    <div class="indentation-flex-wrap"\n         ng-bind-html="jfTreeIndentation.indentationHtml"\n         ng-if="jfTreeIndentation.visible">\n    </div>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("ui_components/jf_tree/jf_tree_item.html",'<div class="jf-tree-item"\n     ng-class="jfTreeItem.getClasses().concat(jfTreeItem.getCustomClasses())"\n     ng-click="jfTreeItem.onItemClick($event)"\n     ng-dblclick="jfTreeItem.onItemDoubleClick()"\n     ng-style="{height: jfTreeItem.tree.viewPane.itemHeight, \'line-height\': jfTreeItem.tree.viewPane.itemHeight}">\n\n    <div class="jf-tree-item-container"\n         ng-style="{height: jfTreeItem.tree.viewPane.itemHeight, \'line-height\': jfTreeItem.tree.viewPane.itemHeight}">\n        <jf-tree-indentation visible="jfTreeItem.tree.api.linesVisible"\n                             height="jfTreeItem.tree.viewPane.itemHeight"\n                             lines-backgrounds="jfTreeItem.tree.viewPane.linesBackgrounds"\n                             indentation="jfTreeItem.getIndentation()"></jf-tree-indentation>\n        <div class="no-children-line-extension"\n             ng-if="jfTreeItem.data.level >= 1 && jfTreeItem.tree.api.linesVisible && !jfTreeItem.shouldShowExpander() && !jfTreeItem.data.$pending"\n             ng-style="{height: jfTreeItem.tree.viewPane.itemHeight, \'background-image\': \'url(\\\'\' + jfTreeItem.tree.viewPane.linesBackgrounds[\'horizontal-line\'] + \'\\\')\'}">\n        </div>\n        <span class="drill-back" ng-if="jfTreeItem.data.data === jfTreeItem.tree.api.GO_UP_NODE">&nbsp;&nbsp;..</span>\n        <div class="node-expander"\n             ng-click="jfTreeItem.shouldShowExpander() && jfTreeItem.toggleExpansion(); $event.stopPropagation();"\n             ng-init="jfTreeItem.initExpander()"\n             ng-style="{height: jfTreeItem.tree.viewPane.itemHeight}"\n             ng-if="jfTreeItem.data.data !== jfTreeItem.tree.api.GO_UP_NODE && (jfTreeItem.shouldShowExpander() || jfTreeItem.data.$pending || jfTreeItem.data.level === 0)">\n            <div class="action-icon icon icon-addons-arrow-right"\n                 ng-if="jfTreeItem.shouldShowExpander()"></div>\n            <div class="spinner-msg-local" ng-if="jfTreeItem.data.$pending">\n                <div class="icon-hourglass-local"></div>\n            </div>\n        </div>\n        <div class="jf-tree-item-content" ng-if="jfTreeItem.data.data !== jfTreeItem.tree.api.GO_UP_NODE">\n            <jf-tree-compiled-cell item-id="jfTreeItem.itemId"\n                                   tree-item="jfTreeItem">\n            </jf-tree-compiled-cell>\n        </div>\n    </div>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("ui_components/jfrog_grid/show_all_modal.html",'<div id="show-all-modal">\n    <div class="modal-header">\n        <button type="button" class="close" data-dismiss="close" aria-label="Close" ng-click="$dismiss()"><span aria-hidden="true">&times;</span></button>\n        <h4 class="modal-title" id="popup-header">{{items.length}} {{colName}} For {{objectName}} \'{{rowName}}\'</h4>\n    </div>\n    <div class="modal-body clearfix">\n        <input type="text"\n               name="filter"\n               class="input-text"\n               ng-model="filter.text"\n               placeholder="Filter"/>\n\n\n        <div class="group-list-wrapper" ng-if="!noResults()">\n            <ul class="group-list">\n                <li class="group-list-item"\n                    jf-tooltip-on-overflow\n                    ng-repeat="item in items track by $index"\n                    ng-if="filterItem(item)">\n                    {{item}}\n                </li>\n            </ul>\n        </div>\n\n        <div class="empty-filter-placeholder filter-no-results" ng-if="noResults()">\n            Current filter has no results. <a href class="jf-link" ng-click="filter.text = \'\'">Clear filter</a>\n        </div>\n\n    </div>\n    <div class="modal-footer">\n        <button class="btn btn-default" ng-click="$dismiss()" id="popup-cancel">Close</button>\n    </div>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("ui_components/jfrog_uploader/jf_file_drop.html",'<div class="wrapper-drop-zone">\n    <div class="drop-zone"\n         nv-file-drop uploader="jfFileUploader"\n         nv-file-over over-class="drop-zone-hover"\n         ng-disabled="jfFileDisabled"\n         ng-class="{\'drop-zone-load\': jfFileUploader.queue.length , \'multiple\': multiple}">\n        <label class="file-input-label">\n            <input class="select-files-hidden"\n                    type="file"\n                    ng-if="!jfFileUploader.queue[0].progress && !multiple"\n                    nv-file-select\n                    uploader="jfFileUploader"\n                    ng-disabled="jfFileDisabled"\n                    title=" " />\n            <input class="select-files-hidden"\n                   type="file"\n                   ng-if="!anyFileUploadInProgress() && multiple"\n                   nv-file-select\n                   uploader="jfFileUploader"\n                   ng-disabled="jfFileDisabled"\n                   title=" "\n                   multiple/>\n            <div ng-if="multiple || !jfFileUploader.queue.length">\n                <span>Drop file</span> here or <span>Select file</span>\n            </div>\n            <div ng-if="!multiple && jfFileUploader.queue.length && (!jfFileUploader.queue[0].progress || !showProgressBar)"\n                    class="drop-zone-file-name">{{jfFileUploader.queue[0].file.name}}</div>\n            <div ng-if="!multiple && showProgressBar">\n                <div ng-repeat="item in jfFileUploader.queue">\n                    <div ng-show="jfFileUploader.isHTML5 && item.progress"\n                            class="file-upload-progress file-info">\n                        <div class="progress-file-drop">\n                            <div class="progress">\n                                <div class="progress-bar" role="progressbar"\n                                        ng-style="{ \'width\': item.progress + \'%\' }">\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </label>\n        <div class="upload-files-frame"\n             ng-if="multiple">\n            <ul>\n                <li ng-repeat="item in jfFileUploader.queue" class="upload-item">\n                    <jf-checkbox class="file-selection pull-left"\n                                 ng-show="item.hasCheckbox"\n                                 jf-tooltip="{{ checkboxesName }}">\n                        <input type="checkbox"\n                               ng-change="item.onCheckboxChange(item)"\n                               ng-model="item.isCheckboxChecked">\n                    </jf-checkbox>\n                    <span ng-class="{\'file-name-deploy-multi\': true, \'full-width\':!showFileSize}" jf-tooltip="{{ item.file.name }}">{{ item.file.name }}</span>\n                    <span ng-if="showFileSize" class="file-size-deploy-multi">{{ item.file.size | filesize}}</span>\n                    <a href=""\n                       ng-click="item.remove(); multiUploadItemRemoved(); removeItemCallback(item)"\n                       jf-tooltip="Remove"\n                       class="icon icon-clear pull-right item-remove"></a>\n                </li>\n            </ul>\n        </div>\n    </div>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_wizard/jf_wizard_element/jf.wizard.element.view.html",'<div class="wizard-element-container" ng-if="$ctrl.config.enableNgShow" ng-show="$ctrl.title===$ctrl.jfWizardCtl.active.title">\n\t<div ng-transclude></div>\n</div>\n<div class="wizard-element-container" ng-if="!$ctrl.config.enableNgShow && $ctrl.title===$ctrl.jfWizardCtl.active.title">\n\t<div ng-transclude></div>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("ui_components/jfrog_grid/templates/default.html",'<!-- When there are no results, we push an element with _emptyRow propery -->\n<div ng-if="row.entity._emptyRow">\n    <div\n            ng-repeat="(colRenderIndex, col) in colContainer.renderedColumns track by col.colDef.name"\n            class="ui-grid-cell grid-cell-empty"\n            ui-grid-cell>\n    </div>\n</div>\n<!-- When there are results -->\n<div ng-if="!row.entity._emptyRow" ng-class="{\'special-row\': row.entity._specialRow, \'sub-row\': row.entity.$parentRow}">\n    <div class="grid-action-bar"\n         ng-if="!row.groupHeader">\n        <a ng-repeat="button in grid.appScope.grids[grid.id].buttons"\n           ng-if="!button.visibleWhen || grid.options.checkVisibleWhen(button,row)"\n           class="btn btn-action"\n           ng-click="grid.options.callActionCallback(button, row)"\n           jf-tooltip="{{button.tooltip}}">\n            <i class="icon-2x {{button.icon}}"></i>\n        </a>\n    </div>\n\n    <div\n            ng-repeat="(colRenderIndex, col) in colContainer.renderedColumns track by col.colDef.name"\n            class="ui-grid-cell"\n            ng-class="{ \'ui-grid-row-header-cell\': col.isRowHeader,\'expandedRow\':row.expandedState.state===\'expanded\',\n                        \'grouped-column\': (col.grouping.groupPriority >= 0 && (row.groupLevel === null || row.groupLevel === undefined) ) }"\n            ui-grid-cell>\n        <span class="grid-row-expander"\n              ng-if="grid.options.subRowsEnabled && !col.isRowHeader && colRenderIndex === 0 && ((row.entity.$subRows && row.entity.$subRows.length) || row.entity.$parentRow)"\n              ng-click="grid.options.toggleExpansion(row.entity)">\n            <i ng-if="row.entity.$subRows && row.entity.$subRows.length"\n               ng-class="{\'ui-grid-icon-plus-squared\': !row.entity.$expanded, \'ui-grid-icon-minus-squared\': row.entity.$expanded}"></i>\n        </span>\n\n        <div class="grid-action-bar"\n         ng-if="!row.groupHeader">\n            <a ng-repeat="action in col.colDef.customActions"\n               ng-if="!action.visibleWhen || grid.options.checkVisibleWhen(action,row)"\n               class="btn btn-action"\n               ng-click="grid.options.callActionCallback(action, row)"\n               jf-tooltip="{{action.tooltip}}"\n               ng-href="{{grid.options.getActionHref(action,row)}}">\n                <i class="{{action.icon}}"></i>\n            </a>\n        </div>\n    </div>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("ui_components/jfrog_grid/templates/drag_rows.html",'<!-- When there are no results, we push an element with _emptyRow propery -->\n\n<div grid="grid" class="ui-grid-draggable-row" draggable="true">\n    <div ng-if="row.entity._emptyRow">\n        <div\n                ng-repeat="(colRenderIndex, col) in colContainer.renderedColumns track by col.colDef.name"\n                class="ui-grid-cell grid-cell-empty"\n                ui-grid-cell>\n        </div>\n    </div>\n    <!-- When there are results -->\n    <div ng-if="!row.entity._emptyRow">\n        <div class="grid-action-bar"\n             ng-if="!row.groupHeader">\n            <a ng-repeat="button in grid.appScope.grids[grid.id].buttons"\n               ng-if="!button.visibleWhen || button.visibleWhen(row.entity)"\n               class="btn btn-action"\n               ng-click="button.callback(row.entity, row)"\n               jf-tooltip="{{button.tooltip}}">\n                <i class="icon-2x {{button.icon}}"></i>\n            </a>\n        </div>\n\n        <div\n                ng-repeat="(colRenderIndex, col) in colContainer.renderedColumns track by col.colDef.name"\n                class="ui-grid-cell"\n                ng-class="{ \'ui-grid-row-header-cell\': col.isRowHeader,\'expandedRow\':row.expandedState.state===\'expanded\',\n                        \'grouped-column\': (col.grouping.groupPriority >= 0 && (row.groupLevel === null || row.groupLevel === undefined) ) }"\n                ui-grid-cell>\n            <div class="grid-action-bar"\n                 ng-if="!row.groupHeader">\n                <a ng-repeat="action in col.colDef.customActions"\n                   ng-if="!action.visibleWhen || action.visibleWhen(row.entity)"\n                   class="btn btn-action"\n                   ng-click="action.callback(row.entity, row)"\n                   jf-tooltip="{{action.tooltip}}">\n                    <i class="{{action.icon}}"></i>\n                </a>\n            </div>\n        </div>\n    </div>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("ui_components/jfrog_grid/templates/headerCellDefaultTemplate.html",'<div ng-class="{ \'sortable\': sortable, \'sorting-active\': col.sort.direction }">\n    <!-- <div class="ui-grid-vertical-bar">&nbsp;</div> -->\n    <div class="ui-grid-cell-contents" col-index="renderIndex">\n        <span>{{ col.displayName CUSTOM_FILTERS }}</span>\n\n    <span ui-grid-visible="col.sort.direction" ng-class="{ \'ui-grid-icon-up-dir\': col.sort.direction == asc, \'ui-grid-icon-down-dir\': col.sort.direction == desc, \'ui-grid-icon-blank\': !col.sort.direction }">\n      &nbsp;\n    </span>\n    </div>\n\n    <div class="ui-grid-column-menu-button" ng-if="grid.options.enableColumnMenus && !col.isRowHeader  && col.colDef.enableColumnMenu !== false" ng-click="toggleMenu($event)" ng-class="{\'ui-grid-column-menu-button-last-col\': isLastCol}">\n        <i class="ui-grid-icon-angle-down">&nbsp;</i>\n    </div>\n\n    <div ui-grid-filter></div>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("ui_components/jfrog_grid/templates/headerCellTemplate.html",'<div ng-class="{ \'sortable\': sortable, \'sorting-active\': col.sort.direction }">\n    <!-- <div class="ui-grid-vertical-bar">&nbsp;</div> -->\n    <div class="ui-grid-cell-contents" col-index="renderIndex">\n        <!--<span>{{ col.displayName CUSTOM_FILTERS }}</span>-->\n        <span>{{ col.displayName}}</span>\n        <div class="group-button icon-grouping-off"\n             jf-tooltip="Group By"\n             ng-click="grid.api.grouping.clearGrouping(); grid.api.grouping.groupColumn(col.displayName)"\n             ng-if="!grid.options.subRowsEnabled && grid.api.grid.rows.length > 0 && grid.api.grid.rows[0].entity._emptyRow === undefined &&\n             (!grid.api.grouping.getGrouping().grouping.length || grid.api.grouping.getGrouping().grouping[0].colName != col.displayName)"></div>\n        <div class="group-button icon-grouping-on"\n             jf-tooltip="Ungroup"\n             ng-click="grid.api.grouping.clearGrouping()"\n             ng-if="!grid.options.subRowsEnabled && grid.api.grid.rows.length>0 && grid.api.grid.rows[0].entity._emptyRow === undefined && grid.api.grouping.getGrouping().grouping.length\n             && grid.api.grouping.getGrouping().grouping[0].colName==col.displayName"></div>\n        <span ui-grid-visible="col.sort.direction" ng-class="{ \'ui-grid-icon-up-dir\': col.sort.direction == asc, \'ui-grid-icon-down-dir\': col.sort.direction == desc, \'ui-grid-icon-blank\': !col.sort.direction }">\n          &nbsp;\n        </span>\n    </div>\n\n    <!--<div class="ui-grid-column-menu-button" ng-if="grid.options.enableColumnMenus && !col.isRowHeader  && col.colDef.enableColumnMenu !== false" ng-click="toggleMenu($event)" ng-class="{\'ui-grid-column-menu-button-last-col\': isLastCol}">-->\n    <!--<i class="ui-grid-icon-angle-down">&nbsp;</i>-->\n    <!--</div>-->\n\n    <div ui-grid-filter></div>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("ui_components/jfrog_modal/templates/code_modal.html",'<div class="modal-header">\n    <button type="button" class="close" data-dismiss="close" aria-label="Close" ng-click="closeModal()"><span aria-hidden="true">&times;</span></button>\n    <h4 class="modal-title" ng-bind-html="title"></h4>\n</div>\n<div class="modal-body">\n    <p ng-if="beforeMessage" ng-bind-html="beforeMessage"></p>\n\n    <div class="codemirror-wrapper">\n\t    <jf-clip-copy text-to-copy="content"\n\t                  class="code-mirror-copy"\n\t                  show-copy-text="true"\n\t                  object-name="{{objectName || \'Content\'}}"></jf-clip-copy>\n\t    <jf-code-mirror\n\t\t\t    mime-type="{{mode.name}}"\n\t\t\t    model="content">\n\t    </jf-code-mirror>\n    </div>\n</div>\n<div class="modal-footer">\n    <div class="pull-right">\n        <button class="btn btn-default" ng-click="closeModal()">Close</button>\n    </div>\n</div>\n')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("ui_components/jfrog_modal/templates/confirm_modal.html",'<div class="modal-header">\n    <button type="button" class="close" data-dismiss="close" aria-label="Close" ng-click="$dismiss()"><span aria-hidden="true">&times;</span></button>\n    <h4 class="modal-title" id="popup-header" ng-bind-html="title"></h4>\n</div>\n<div class="modal-body clearfix">\n    <div class="form-group" ng-bind-html="content"></div>\n</div>\n<div class="modal-footer">\n    <jf-checkbox ng-if="checkboxLabel"\n                 class="pull-left"\n                 text="{{checkboxLabel}}">\n        <input type="checkbox"\n               ng-change="onCheckboxStateChange(checkbox.checked)"\n               ng-model="checkbox.checked">\n    </jf-checkbox>\n    <button class="btn btn-default" ng-click="$dismiss()" id="popup-cancel">{{buttons.cancel}}</button>\n    <button class="btn btn-primary" ng-click="$close(checkbox.checked)" id="popup-confirm">{{buttons.confirm}}</button>\n</div>\n')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("ui_components/jfrog_modal/templates/full.text.modal.html",'<div class="modal-header">\n\t<button type="button"\n\t        class="close"\n\t        data-dismiss="close"\n\t        aria-label="Close"\n\t        ng-click="$close(true)"><span\n\t\t\taria-hidden="true">&times;</span>\n\t</button>\n\t<h3 class="modal-title">{{modalTitle}}</h3>\n</div>\n<div class="modal-body simple-text" ng-if="text">\n\t<p ng-bind-html="text" class="full-text-item"></p>\n</div>\n<div class="modal-body text-to-list" ng-if="list">\n\t<p ng-repeat="item in list" class="full-text-item" ng-bind-html="item" ng-click="onItemClick(item)"></p>\n</div>\n<div class="modal-footer">\n\t<button class="btn btn-secondary"\n\t        ng-click="$close(true)">\n\t\tClose\n\t</button>\n</div>\n');
}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("ui_components/jfrog_modal/templates/wizard_modal.html",'<div class="wizard-modal{{\' \' + $wizardDef.steps[$wizardCtrl.currentStep-1].class}}">\n    <div class="modal-header">\n        <span ng-if="$wizardDef.cancelable" class="icon icon-clear" ng-click="$wizardCtrl.cancel()"></span>\n        <div class="title-wrapper icon-hidden" ng-class="{\'no-border\' : $wizardDef.steps[$wizardCtrl.currentStep-1].hideTitleBorder}" ng-init="$wizardCtrl.titleInit()">\n            <div class="icon"\n                 ng-if="$wizardDef.steps[$wizardCtrl.currentStep-1].icon"\n                 ng-class="{\'build-animation\' : $wizardDef.steps[$wizardCtrl.currentStep-1].buildIcon}">\n\n                <img ng-srcset="{{$wizardDef.steps[$wizardCtrl.currentStep-1].iconSrcset}}"\n                     ng-src="{{$wizardDef.steps[$wizardCtrl.currentStep-1].icon}}"\n                     alt="">\n\n                <img ng-srcset="{{$wizardDef.steps[$wizardCtrl.currentStep-1].buildIconSrcset}}"\n                     ng-src="{{$wizardDef.steps[$wizardCtrl.currentStep-1].buildIcon}}"\n                     ng-if="$wizardDef.steps[$wizardCtrl.currentStep-1].buildIcon"\n                     alt="" class="build">\n            </div>\n            <div class="title">\n                <h1 ng-if="$wizardDef.steps[$wizardCtrl.currentStep-1].name">{{$wizardDef.steps[$wizardCtrl.currentStep-1].name}}</h1>\n                <div class="description" ng-if="$wizardDef.steps[$wizardCtrl.currentStep-1].description" ng-bind-html="$wizardDef.steps[$wizardCtrl.currentStep-1].description"></div>\n            </div>\n        </div>\n    </div>\n    <div class="modal-body clearfix">\n        <ng-include src="$wizardDef.steps[$wizardCtrl.currentStep-1].templateUrl"></ng-include>\n    </div>\n    <div class="modal-footer" jf-disable-ng-animate>\n        <div class="pull-left"\n             ng-if="$wizardCtrl.doNotShowWizardAgain">\n            <jf-checkbox text="{{$wizardCtrl.doNotShowWizardAgain.label}}">\n                <input type="checkbox"\n                       ng-change="$wizardCtrl.preventShowingWizardAgain()"\n                       ng-model="$wizardCtrl.doNotShowWizardAgain.model">\n            </jf-checkbox>\n        </div>\n        <div class="progress-indicator">\n            <div class="progress-indicator-led"\n                 ng-class="{current: $index === $wizardCtrl.currentStep-1}"\n                 ng-repeat="led in $wizardDef.steps"></div>\n        </div>\n\n\n        <div class="modal-footer-buttons-container">\n            <div ng-if="!$wizardDef.steps[$wizardCtrl.currentStep-1].customButtons">\n                <button ng-if="$wizardCtrl.currentStep > 1 && $wizardDef.steps[$wizardCtrl.currentStep-2].supportReturnTo !== false"\n                        class="btn"\n                        ng-click="$wizardCtrl.prevStep()"\n                        ng-disabled="$wizardCtrl.pending"\n                        id="wizard-popup-prev">Back</button>\n                <button ng-if="$wizardCtrl.currentStep < $wizardCtrl.totalSteps && $wizardDef.steps[$wizardCtrl.currentStep-1].skippable"\n                        class="btn"\n                        ng-click="$wizardCtrl.nextStep(true)"\n                        ng-disabled="$wizardCtrl.pending"\n                        jf-clear-errors\n                        id="wizard-popup-skip">Skip</button>\n                <button ng-if="$wizardCtrl.currentStep < $wizardCtrl.totalSteps"\n                        ng-disabled="$wizardCtrl.pending || !$wizardCtrl.$userCtrl.isStepCompleted($wizardDef.steps[$wizardCtrl.currentStep-1])"\n                        class="btn"\n                        ng-click="$wizardCtrl.nextStep()"\n                        id="wizard-popup-next">Next</button>\n                <button ng-if="$wizardCtrl.currentStep === $wizardCtrl.totalSteps"\n                        ng-disabled="$wizardCtrl.pending || (!$wizardCtrl.$userCtrl.isStepCompleted($wizardDef.steps[$wizardCtrl.currentStep-1]) && !$wizardDef.steps[$wizardCtrl.currentStep-1].skippable)"\n                        class="btn"\n                        ng-click="$wizardCtrl.finish()"\n                        id="wizard-popup-finish">Finish</button>\n            </div>\n            <div ng-if="$wizardDef.steps[$wizardCtrl.currentStep-1].customButtons">\n                <span ng-repeat="button in $wizardDef.steps[$wizardCtrl.currentStep-1].customButtons">\n                    <button ng-if="button.action===\'back\' && ($wizardCtrl.currentStep > 1 && $wizardDef.steps[$wizardCtrl.currentStep-2].supportReturnTo !== false)"\n                            class="btn"\n                            ng-click="$wizardCtrl.prevStep()"\n                            ng-disabled="$wizardCtrl.pending"\n                            id="wizard-popup-prev-custom">{{button.label}}</button>\n                    <button ng-if="button.action===\'skip\' && ($wizardCtrl.currentStep < $wizardCtrl.totalSteps && $wizardDef.steps[$wizardCtrl.currentStep-1].skippable)"\n                            class="btn"\n                            ng-click="$wizardCtrl.nextStep(true)"\n                            ng-disabled="$wizardCtrl.pending"\n                            jf-clear-errors\n                            id="wizard-popup-skip-custom">{{button.label}}</button>\n                    <button ng-if="button.action===\'next\' && ($wizardCtrl.currentStep < $wizardCtrl.totalSteps)"\n                            ng-disabled="$wizardCtrl.pending || !$wizardCtrl.$userCtrl.isStepCompleted($wizardDef.steps[$wizardCtrl.currentStep-1])"\n                            class="btn"\n                            ng-click="$wizardCtrl.nextStep()"\n                            id="wizard-popup-next-custom">{{button.label}}</button>\n                    <button ng-if="button.action===\'finish\' && ($wizardCtrl.currentStep === $wizardCtrl.totalSteps)"\n                            ng-disabled="$wizardCtrl.pending || (!$wizardCtrl.$userCtrl.isStepCompleted($wizardDef.steps[$wizardCtrl.currentStep-1]) && !$wizardDef.steps[$wizardCtrl.currentStep-1].skippable)"\n                            class="btn"\n                            ng-click="$wizardCtrl.finish()"\n                            id="wizard-popup-finish-custom">{{button.label}}</button>\n\n                    <button ng-if="$wizardCtrl.isFunction(button.action)"\n                            ng-disabled="button.isDisabled && button.isDisabled()"\n                            class="btn"\n                            ng-click="button.action()"\n                            id="wizard-popup-custom-button">{{button.label}}</button>\n                </span>\n            </div>\n        </div>\n    </div>\n</div>\n')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/directives/code_example/code.example.html",'<div class="code-mirror-wrapper">\n\t<jf-tabs tabs="$ctrl.tabs"\n\t         dictionary="$ctrl.dict"\n\t         tab-width="{{$ctrl.tabWidth}}"\n\t         container-margin="30">\n\t\t<jf-tab name="htmlTab"><jf-code-mirror mode="htmlmixed" model="$ctrl.html"></jf-code-mirror></jf-tab>\n\t\t<jf-tab name="javascriptTab"><jf-code-mirror mode="javascript" model="$ctrl.javascript"></jf-code-mirror></jf-tab>\n\t</jf-tabs>\n</div>\n')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_data_list/components/jf_data_list_item/jf_data_list_item.html",'<div class="value" ng-if="!$ctrl.item.template">\n\t<a ng-if="$ctrl.item.isUrl && $ctrl.item.value && $ctrl.item.value.length && ((!$ctrl.item.hasOwnProperty(\'url\')) || ($ctrl.item.url && $ctrl.item.url.length))"\n\t   ng-href="{{$ctrl.item.url || $ctrl.item.value}}"\n\t   ng-bind-html="$ctrl.item.value"\n\t   target="_blank"\n\t   class="jf-link"\n\t   jf-tooltip-on-overflow>\n\t</a>\n\t<div ng-if="!$ctrl.isArray($ctrl.item.value) && (!$ctrl.item.isUrl || ($ctrl.item.isUrl && (($ctrl.item.hasOwnProperty(\'url\') && !$ctrl.item.url.length) || (!$ctrl.item.value || !$ctrl.item.value.length))))"\n\t     ng-bind-html="$ctrl.getItemValue($ctrl.item.value)"\n\t     jf-tooltip-on-overflow>\n\t</div>\n\t<div ng-if="$ctrl.isArray($ctrl.item.value)" id="data-list-row-{{$ctrl.index}}">\n\t\t<div class="tag" ng-repeat="tag in $ctrl.item.value">\n\t\t\t<a class="gridcell-content-text jf-link"\n\t\t\t   ng-if="tag.url" ng-href="{{tag.url}}"\n\t\t\t   target="_blank"\n\t\t\t   ng-bind-html="tag.label">\n\t\t\t</a>\n\t\t\t<span class="gridcell-content-text" ng-if="!tag.url" ng-bind-html="tag.label"></span>\n\t\t</div>\n\t\t<a class="jf-link gridcell-showall"\n\t\t   ng-if="$ctrl.item.value.length >= 1 && $ctrl.htmlIsOverflowing(\'#data-list-row-\' + $ctrl.index)"\n\t\t   href\n\t\t   ng-click="$ctrl.showAll($ctrl.item.value,$ctrl.item.label,$ctrl.item.objectName)"> (See {{$ctrl.item.value.length > 1 ? \'All\' : \'List\'}})</a>\n\t</div>\n\t<div class="copy" ng-if="$ctrl.item.copy && !$ctrl.isArray($ctrl.item.value)">\n\t\t<jf-clip-copy text-to-copy="$ctrl.item.value"></jf-clip-copy>\n\t</div>\n</div>\n<div class="value" ng-if="$ctrl.item.template">\n\t<jf-data-list-compiled-item item="$ctrl.item"></jf-data-list-compiled-item>\n</div>')}])}(),!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){__webpack_require__(1),__webpack_require__(2),__webpack_require__(7),module.exports=__webpack_require__(32)},function(module,exports){"use strict";function main($httpBackend,$animate){}main.$inject=["$httpBackend","$animate"],angular.module("jfrog.native.ui",["ui_components","templates.3184","directives","services"]).run(main)},function(module,exports,__webpack_require__){"use strict";var jfDockerV2Layer=__webpack_require__(3).jfDockerV2Layer,jfDockerV2Layers=__webpack_require__(5).jfDockerV2Layers;angular.module("directives",[]).directive({jfDockerV2Layer:jfDockerV2Layer,jfDockerV2Layers:jfDockerV2Layers})},function(module,exports,__webpack_require__){"use strict";function jfDockerV2Layer(){return{restrict:"E",scope:{parent:"=",data:"=",preselected:"=",isBase:"=",isUpper:"="},controller:jfDockerV2LayerController,controllerAs:"jfDockerV2Layer",templateUrl:"directives/jf_docker_v2_layer/jf_docker_v2_layer.html",bindToController:!0}}var _interopRequire=function(obj){return obj&&obj.__esModule?obj["default"]:obj},_createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfDockerV2Layer=jfDockerV2Layer,Object.defineProperty(exports,"__esModule",{value:!0});var COLOR_MAP=_interopRequire(__webpack_require__(4)),jfDockerV2LayerController=function(){function jfDockerV2LayerController(){_classCallCheck(this,jfDockerV2LayerController)}return _createClass(jfDockerV2LayerController,{$onInit:{value:function(){this.data.commandText=this.data.command+" "+this.data.commandText,this.selected=!1,this.COLOR_MAP=COLOR_MAP,this.parent.layerDirectives.push(this),this.collapsed=!0;var created=this.data.created.split("T");this.created=created[0]+" "+created[1].split(".")[0],this.preselected&&this.setSelected(!0)}},isSelected:{value:function(){return this.selected}},setSelected:{value:function(s){this.selected=s,this.parent.setSelected(this)}}}),jfDockerV2LayerController}()},function(module,exports){"use strict";module.exports={RUN:"#f3c43d",CMD:"#429f46",ADD:"#662d91",MAINTAINER:"#000080",EXPOSE:"#d7593f",FROM:"#c8c8c8",LABEL:"#b2d567",ENV:"#707070",COPY:"#2fa4db",ENTRYPOINT:"#2b2b2b",VOLUME:"#d54581",USER:"#add8e6",WORKDIR:"#fdcfa3",ARG:"#ffd700",ONBUILD:"#fa8072",STOPSIGNAL:"#6ab29b"}},function(module,exports,__webpack_require__){"use strict";function jfDockerV2Layers(){return{restrict:"E",scope:{controller:"=",data:"=",currentPath:"@"},controller:jfDockerV2LayersController,controllerAs:"jfDockerV2Layers",templateUrl:"directives/jf_docker_v2_layers/jf_docker_v2_layers.html",bindToController:!0}}var _interopRequire=function(obj){return obj&&obj.__esModule?obj["default"]:obj},_createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfDockerV2Layers=jfDockerV2Layers,Object.defineProperty(exports,"__esModule",{value:!0});var KEY_DICTIONARY=_interopRequire(__webpack_require__(6)),jfDockerV2LayersController=function(){function jfDockerV2LayersController($scope,$attrs){_classCallCheck(this,jfDockerV2LayersController),this.KEY_DICTIONARY=KEY_DICTIONARY,this.selectedLayer=null,this.layerDirectives=[]}return _createClass(jfDockerV2LayersController,{$onInit:{value:function(){this.controller.layersController=this}},setSelected:{value:function(layer){this.selectedLayer&&this.selectedLayer!==layer&&this.selectedLayer.setSelected(!1),this.selectedLayer=layer}},refreshView:{value:function(){this.layerDirectives.length&&this.layerDirectives[0].setSelected(!0),$("#jf-artifacts .main-view").animate({scrollTop:"0"},400)}}}),jfDockerV2LayersController}()},function(module,exports){"use strict";module.exports={id:{icon:"icon icon-docker-id",tooltip:"ID"},digest:{icon:"icon icon-docker-digest",tooltip:"Digest"},command:{icon:"icon icon-docker-command",tooltip:"Command"},commandText:{icon:"icon icon-docker-command",tooltip:"Command"},created:{icon:"icon icon-docker-created",tooltip:"Created"},size:{icon:"icon icon-docker-size",tooltip:"Size"}}},function(module,exports,__webpack_require__){"use strict";var _interopRequire=function(obj){return obj&&obj.__esModule?obj["default"]:obj},HostDaoParamFormatter=_interopRequire(__webpack_require__(8)),NativeUIDescriptor=_interopRequire(__webpack_require__(9)),CommonDescriptor=_interopRequire(__webpack_require__(11)),DockerDescriptor=_interopRequire(__webpack_require__(30)),NpmDescriptor=_interopRequire(__webpack_require__(31));angular.module("services",[]).service("HostDaoParamFormatter",HostDaoParamFormatter).service("NativeUIDescriptor",NativeUIDescriptor).service("CommonDescriptor",CommonDescriptor).service("DockerDescriptor",DockerDescriptor).service("NpmDescriptor",NpmDescriptor)},function(module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},HostDaoParamFormatter=function(){function HostDaoParamFormatter(JFrogSubRouter,NativeUIDescriptor){_classCallCheck(this,HostDaoParamFormatter),this.descriptor=NativeUIDescriptor.getDescriptor(),this.getSubRouter=function(){return JFrogSubRouter.getActiveRouter()}}return _createClass(HostDaoParamFormatter,{format:{value:function(params){var daoMethod=void 0===arguments[1]?"":arguments[1];if(!daoMethod)return this.defaultFormat(params)}},wrapHostDataCalls:{value:function(hostDataCalls){var _this=this,excludedMethods=["getPackageTypes","isXrayEnabled","showInTree","cancelPackageExtraInfo","cancelVersionExtraInfo","showExtraInfo"];Object.keys(hostDataCalls).forEach(function(method){_.includes(excludedMethods,method)||!function(){var origMethod=hostDataCalls[method];hostDataCalls[method]=function(params){return origMethod(_this.format(params))}}()})}},getFiltersFromState:{value:function(overrides){var _this=this,stateParams=this.getSubRouter().params,filters=[],addFilter=function(id,values){var comparator=void 0===arguments[2]?_this.descriptor.common.defaultComparator:arguments[2];return filters.push({id:id,comparator:comparator,values:values})};stateParams.query&&Object.keys(stateParams.query).forEach(function(queryParam){addFilter("repos"===queryParam?"repo":queryParam,(stateParams.query[queryParam]||"").split(","))});var typeDescriptor=this.descriptor.typeSpecific[stateParams.packageType],pkgFilter=_.find(filters,{id:typeDescriptor.filters["package"]}),versionFilter=_.find(filters,{id:typeDescriptor.filters.version});return pkgFilter&&pkgFilter.values[0]&&!pkgFilter.values[0].endsWith("*")&&(pkgFilter.values[0]=pkgFilter.values[0]+"*"),(stateParams["package"]||overrides["package"])&&(pkgFilter?(pkgFilter.values=[stateParams["package"]||overrides["package"]],pkgFilter.comparator="equals"):addFilter(typeDescriptor.filters["package"],[stateParams["package"]||overrides["package"]],"equals")),(stateParams.version||overrides.version)&&(versionFilter?(versionFilter.values=[stateParams.version||overrides.version],versionFilter.comparator="equals"):addFilter(typeDescriptor.filters.version,[stateParams.version||overrides.version],"equals")),filters}},defaultFormat:{value:function(params){return{pathAndQuery:this._getDefaultPathAndQueryParams(params),payload:this.getFiltersFromState(params)}}},_getDefaultPathAndQueryParams:{value:function(params){var pathAndQueryParams={};params=_.extend({},this.getSubRouter().params,params||{});var set=function(from,to){params[from]&&(pathAndQueryParams[to]=params[from])};return set("package","packageName"),set("version","versionName"),set("packageType","packageType"),set("repo","repo"),set("path","path"),set("dataType","dataType"),set("manifest","manifest"),set("order","order"),set("sortBy","sort_by"),set("$no_spinner","$no_spinner"),set("limit","limit"),set("with_xray","with_xray"),set("from","from"),pathAndQueryParams}}}),HostDaoParamFormatter}();module.exports=HostDaoParamFormatter},function(module,exports,__webpack_require__){"use strict";var _interopRequire=function(obj){return obj&&obj.__esModule?obj["default"]:obj},_createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc&&desc.writable)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0},_inherits=function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(subClass.__proto__=superClass)},_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},BaseDescriptor=_interopRequire(__webpack_require__(10)),NativeUIDescriptor=function(_BaseDescriptor){function NativeUIDescriptor(CommonDescriptor,DockerDescriptor,NpmDescriptor){_classCallCheck(this,NativeUIDescriptor),_get(Object.getPrototypeOf(NativeUIDescriptor.prototype),"constructor",this).call(this),this.CommonDescriptor=CommonDescriptor,this.DockerDescriptor=DockerDescriptor,this.NpmDescriptor=NpmDescriptor,this.init()}return _inherits(NativeUIDescriptor,_BaseDescriptor),_createClass(NativeUIDescriptor,{init:{value:function(){this.descriptor={common:this.CommonDescriptor.getDescriptor(),typeSpecific:{docker:this.DockerDescriptor.getDescriptor(),npm:this.NpmDescriptor.getDescriptor()}}}}}),NativeUIDescriptor}(BaseDescriptor);module.exports=NativeUIDescriptor},function(module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},BaseDescriptor=function(){function BaseDescriptor(){_classCallCheck(this,BaseDescriptor)}return _createClass(BaseDescriptor,{getDescriptor:{value:function(){return this.descriptor}},getRootDescriptor:{value:function(){var rootDescriptor=angular.element(document.body).injector().get("NativeUIDescriptor");return rootDescriptor.getDescriptor()}}}),BaseDescriptor}();module.exports=BaseDescriptor},function(module,exports,__webpack_require__){"use strict";var _interopRequire=function(obj){return obj&&obj.__esModule?obj["default"]:obj},_createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc&&desc.writable)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0},_inherits=function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(subClass.__proto__=superClass)},_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},cellTemplates=_interopRequire(__webpack_require__(12)),BaseDescriptor=_interopRequire(__webpack_require__(10)),CommonDescriptor=function(_BaseDescriptor){function CommonDescriptor(JFrogTableViewOptions){_classCallCheck(this,CommonDescriptor),_get(Object.getPrototypeOf(CommonDescriptor.prototype),"constructor",this).call(this),this.cellTemplatesGenerators=JFrogTableViewOptions.cellTemplateGenerators,this.init()}return _inherits(CommonDescriptor,_BaseDescriptor),_createClass(CommonDescriptor,{init:{value:function(){var _this=this;this.descriptor={defaultComparator:"matches",readMoreTemplate:'<div class="show-more-ellipsis">...</div> <div class="show-more-text">Read more...</div>',packagesTableColumns:{name:{header:"@{PACKAGE_ALIAS} Name",width:"15%",cellTemplate:'<div class="name">\n                            {{row.entity.name}}\n                           </div>'},numOfRepos:{header:"Repositories Count",width:"15%",cellTemplate:"<div>\n                            {{row.entity.numOfRepos}} {{row.entity.numOfRepos===1 ? 'Repository' : 'Repositories'}}\n                           </div>"},repositories:{header:"Repositories",sortable:!1,cellTemplate:this.cellTemplatesGenerators.listableColumn("row.entity.repositories","row.entity.name"),width:"15%"},downloadsCount:{header:"Downloads",sortable:!1,cellTemplate:cellTemplates.packages.downloadsCount,width:"15%"},versionsCount:{header:"Versions Count",sortable:!1,cellTemplate:cellTemplates.packages.versionsCount,width:"15%"},lastModified:{header:"Last Modified",sortable:!1,cellTemplate:"<span jf-tooltip-on-overflow>\n                                        <jf-pending-data wait-for=\"row.entity.lastModified\">{{row.entity.lastModified | date: 'medium'}}</jf-pending-data>\n                                   </span>",width:"15%"},xrayStatus:{header:"Xray Status",sortable:!1,width:"15%",cellTemplate:'<div  ng-if="row.entity.xrayStatus" class="xray-status">\n                                <i  ng-class="[row.entity.xrayStatus.toLowerCase()]" class="icon-severity"></i>{{ row.entity.xrayStatus}}\n                            </div><div  ng-if="!row.entity.xrayStatus" class="xray-status">N/A</div>'},keywords:{header:"Keywords",sortable:!1,cellTemplate:cellTemplates.packages.keywords,width:"18%"}},versionsTableColumns:{name:{header:"@{VERSION_ALIAS} Name",width:"15%",cellTemplate:cellTemplates.versions.name},repo:{header:"Repository",width:"15%"},repositories:{header:"Repositories",sortable:!1,cellTemplate:this.cellTemplatesGenerators.listableColumn("row.entity.repositories","row.entity.name"),width:"15%"},packageId:{header:"Digest",sortable:!1,cellTemplate:cellTemplates.versions.packageId,width:"15%"},lastModified:{header:"Last Modified",cellTemplate:"<div class=\"last-modified\">\n                                {{ row.entity.lastModified | date : 'medium'}}\n                            </div>",width:"15%"},downloadsCount:{header:"Downloads",sortable:!1,width:"15%",cellTemplate:cellTemplates.versions.downloadsCount},xrayStatus:{header:"Xray Status",sortable:!1,width:"15%",cellTemplate:'<jf-pending-data disable-tooltip-on-overflow wait-for="row.entity.xrayStatus || row.entity.calculated">\n                                        <div class="xray-status"><i  ng-class="[row.entity.xrayStatus.toLowerCase()]" class="icon-severity"></i>{{ row.entity.xrayStatus || \'N/A\'}}</div>\n                                   </jf-pending-data>'},keywords:{header:"Keywords",sortable:!1,cellTemplate:cellTemplates.packages.keywords,width:"18%"}},packageSummaryColumns:{packageIcon:{"class":"package-icon text-center",template:'<div class="summary-icon-column" id="summary-icon">\n                                    <i class="icon" ng-class="$ctrl.packagesIcon"></i>\n                                </div>',isActive:!0,noWrap:!0,width:"120px"},packageName:{label:"@{PACKAGE_ALIAS} Name","class":"package-name",noWrap:!0,template:"<span jf-tooltip-on-overflow>{{$ctrl.summaryData.name || $ctrl.package.name || 'No package'}}</span>",isActive:!0,width:"auto"},numberOfDownloads:{label:"Downloads","class":"package-downloads-count",width:"minmax(200px,.6fr)",template:'<jf-pending-data wait-for="$ctrl.summaryData.numOfDownloads !== undefined ? $ctrl.summaryData.numOfDownloads : $ctrl.totalDownloadsForPackage">\n                                   {{$ctrl.summaryData.numOfDownloads !== undefined ? $ctrl.summaryData.numOfDownloads : $ctrl.totalDownloadsForPackage}}\n                               </jf-pending-data>',isActive:!0},lastModified:{label:"Last Modified","class":"package-modified-date",template:"<span jf-tooltip-on-overflow>\n                        {{($ctrl.summaryData.lastModified || $ctrl.package.lastModified) ? (($ctrl.summaryData.lastModified || $ctrl.package.lastModified) | date : 'medium') : '--'}}\n                       </span>",noWrap:!0,isActive:!0,width:"auto"},installCommand:{label:"Installation command","class":"package-install-command",template:'<div class="install-command"><span jf-tooltip-on-overflow>> {{$ctrl.summaryData.installCommand}}</span><jf-clip-copy text-to-copy="$ctrl.summaryData.installCommand" object-name="Command"></jf-clip-copy></div>',noWrap:!0,isActive:!0},keywords:{label:"Related keywords","class":"related-keywords",template:'<span>\n                                    <div class="keywords-wrap">\n                                        <div class="keyword"\n                                             ng-repeat="keyword in $ctrl.summaryData.keywords.slice(0,4)"\n                                             ng-click="$ctrl.nativeParent.filterByKeyword(keyword)"\n                                             ng-style="{\'max-width\': $ctrl.summaryData.keywords.length > 4 ? \'20%\' : $ctrl.summaryData.keywords.length > 0 ? (100/$ctrl.summaryData.keywords.length) + \'%\' : 0}"\n                                             jf-tooltip-on-overflow>\n                                            {{keyword}}\n                                        </div>\n                                    \n                                        <div class="keyword"\n                                             ng-if="$ctrl.summaryData.keywords.length > 4"\n                                             jf-tooltip="{{\'Show All (\' + $ctrl.summaryData.keywords.length + \')\'}}"\n                                             ng-click="$ctrl.nativeParent.showAll($event,$ctrl.summaryData.keywords, \'Keywords\', true, $ctrl.nativeParent.filterByKeyword.bind($ctrl.nativeParent), \'keywords-modal\')">\n                                            ...\n                                        </div>\n                                    </div>    \n                               </span>',noWrap:!0,isActive:!0,width:"minmax(350px,2fr)"},description:{label:"Description","class":"summary-description",template:'<div class="description-wrap" ng-if="$ctrl.summaryData.description">\n                                    <jf-text-box text="$ctrl.summaryData.description" \n                                                 max-lines="2"\n                                                 see-all-text="{{$ctrl.descriptor.common.readMoreTemplate}}" \n                                                 modal-title="@{PACKAGE_ALIAS} Description">\n                                    </jf-text-box>\n                               </div>',noWrap:!0,isActive:!0,width:"minmax(350px,2fr)"},license:{label:"License","class":"summary-license",template:"<span jf-tooltip-on-overflow>\n                                    <jf-pending-data wait-for=\"$ctrl.summaryData.license\">{{$ctrl.summaryData.license || 'No License'}}</jf-pending-data>\n                               </span>",noWrap:!0,isActive:!0,width:"minmax(150px,.5fr)"}},versionSummaryColumns:{versionIcon:{noWrap:!0,template:'<div class="summary-icon-column" id="summary-icon">\n                        <i class="icon" ng-class="$ctrl.versionIcon"></i>\n                    </div>',isActive:!0,width:"auto"},versionName:{label:"@{VERSION_ALIAS} Name","class":"version-name",noWrap:!0,template:"<span jf-tooltip-on-overflow>{{$ctrl.summaryData.name || $ctrl.version.name || 'No version'}}</span>",
isActive:!0,width:"auto"},size:{label:"Size","class":"version-size",template:"{{$ctrl.version.size.length ? $ctrl.version.size : ($ctrl.version.size | filesize)}}",isActive:!0},packageName:{label:"@{PACKAGE_ALIAS} Name","class":"package-name",noWrap:!0,template:"<span jf-tooltip-on-overflow>{{$ctrl.version.packageName}}</span>",isActive:!0},packageId:{label:"@{PACKAGE_ALIAS} ID","class":"package-id",noWrap:!0,template:'<span class="package-id-content" \n                             jf-tooltip-on-overflow>\n                            {{ $ctrl.version.packageId }}\n                        </span>\n                        <jf-clip-copy \n                            text-to-copy="$ctrl.version.packageId"\n                            object-name="{{$ctrl.packageAlias}} ID">\n                        </jf-clip-copy>',isActive:!0},lastModified:{label:"Last Modified",noWrap:!0,template:"<span jf-tooltip-on-overflow>\n                        {{($ctrl.summaryData.lastModified || $ctrl.version.lastModified) ? (($ctrl.summaryData.lastModified || $ctrl.version.lastModified) | date : 'medium') : '--'}}\n                   </span>",isActive:!0}},widgets:{dockerLayers:{name:"Docker Layers",id:"docker-layers",template:__webpack_require__(20),controller:__webpack_require__(21),scroll:!0,showSpinner:!1},readme:{name:"Read me",id:"readme",template:__webpack_require__(22),controller:__webpack_require__(23),scroll:!0,showSpinner:!1},properties:{name:"Properties",id:"properties",template:__webpack_require__(24),controller:__webpack_require__(25),scroll:!0,showSpinner:!1},dependencies:{name:"Dependencies",id:"dependencies",template:__webpack_require__(26),controller:__webpack_require__(27),scroll:!0,showSpinner:!1},builds:{name:"Builds",id:"builds",template:__webpack_require__(28),controller:__webpack_require__(29),scroll:!0,showSpinner:!1}},transformers:{filters:function(data,packageType){var result={};return result.repos=data.results,result.reposCount=data.resultsCount,_this.getRootDescriptor().typeSpecific[packageType]&&(result.extraFilters=_this.getRootDescriptor().typeSpecific[packageType].filters),result}}}}}}),CommonDescriptor}(BaseDescriptor);module.exports=CommonDescriptor},function(module,exports,__webpack_require__){"use strict";module.exports={packages:{repositories:__webpack_require__(13),downloadsCount:__webpack_require__(14),versionsCount:__webpack_require__(15),keywords:__webpack_require__(16)},versions:{name:__webpack_require__(17),downloadsCount:__webpack_require__(18),packageId:__webpack_require__(19)}}},function(module,exports){module.exports='<div class="repositories no-cm-action"\n        ng-click="appScope.$ctrl.nativeParent.showAll($event,row.entity.repositories, \'Repositories\')"\n        disable-tooltip-on-overflow>\n\t<span jf-tooltip="Click text for full list">\n\t\t{{appScope.$ctrl.jFrogUIUtils.stringifyData(row.entity.repositories,\' : \')}}\n\t</span>\n</div>'},function(module,exports){module.exports='<div class="downloads-count no-cm-action"\n     disable-tooltip-on-overflow>\n\t<jf-pending-data wait-for="row.entity.downloadsCount">\n\t\t{{ row.entity.downloadsCount}} Download{{row.entity.downloadsCount === 1 ? \'\' : \'s\' }}\n\t</jf-pending-data>\n<!--\n\t<div ng-if="row.entity.downloadsCount !== undefined">\n\t\t<i class="icon icon-download"></i>\n\t\t<span>\n            {{ row.entity.downloadsCount}} Download{{row.entity.downloadsCount === 1 ? \'\' : \'s\' }}\n\t    </span>\n\t</div>\n\t<div ng-if="row.entity.downloadsCount === undefined && row.entity.manualOnDemendDownloadsCount">\n\t\t<i class="icon icon-download"></i>\n\t\t<span class="show-download-count"\n\t\t      jf-tooltip="Click to calculate"\n\t\t      ng-click="appScope.$ctrl.calcPackageDownloads($event,row.entity)">\n        Show downloads count\n    </span>\n\t</div>\n\t<div ng-if="row.entity.downloadsCount === undefined && !row.entity.manualOnDemendDownloadsCount">\n        &#45;&#45;\n\t</div>\n-->\n</div>\n'},function(module,exports){module.exports='<div class="versions-count" disable-tooltip-on-overflow>\n    <jf-pending-data wait-for="row.entity.versionsCount">\n        <div class="icon-wrapper">\n            <i class="icon"\n               ng-class="appScope.$ctrl.versionIcon">\n            </i>\n        </div>\n        {{row.entity.versionsCount || 0 }} {{appScope.$ctrl.versionAlias}}{{row.entity.versionsCount === 1 ? \'\' : \'s\'}}\n    </jf-pending-data>\n<!--\n    <div ng-if="row.entity.versionsCount !== undefined">\n        <div class="icon-wrapper">\n            <i class="icon"\n               ng-class="appScope.$ctrl.versionIcon">\n            </i>\n        </div>\n        {{row.entity.versionsCount || 0 }} {{appScope.$ctrl.versionAlias}}{{row.entity.versionsCount === 1 ? \'\' : \'s\'}}\n    </div>\n    <div ng-if="row.entity.versionsCount === undefined">\n        &#45;&#45;\n    </div>\n-->\n</div>\n'},function(module,exports){module.exports='<div class="keywords-wrap" disable-tooltip-on-overflow>\n\t<jf-pending-data wait-for="row.entity.keywords">\n\t\t<div class="keyword"\n\t\t     ng-repeat="keyword in row.entity.keywords.slice(0,3)"\n\t\t     ng-click="appScope.$ctrl.nativeParent.filterByKeyword(keyword); $event.stopPropagation()"\n\t\t     ng-style="{\'max-width\': row.entity.keywords.length > 3 ? \'25%\' : row.entity.keywords.length > 0 ? (100/row.entity.keywords.length) + \'%\' : 0}"\n\t\t     jf-tooltip-on-overflow>\n\t\t\t{{keyword}}\n\t\t</div>\n\n\t\t<div class="keyword"\n\t\t     ng-if="row.entity.keywords.length > 3"\n\t\t     jf-tooltip="{{\'Show All (\' + row.entity.keywords.length + \')\'}}"\n\t\t     ng-click="appScope.$ctrl.nativeParent.showAll($event,row.entity.keywords, \'Keywords\', true, appScope.$ctrl.nativeParent.filterByKeyword.bind(appScope.$ctrl.nativeParent), \'keywords-modal\')">\n\t\t\t...\n\t\t</div>\n\t</jf-pending-data>\n</div>'},function(module,exports){module.exports='<div class="name"\n     cm-additional-action="View version"\n     cm-additional-action-icon="icon-docker-tags">\n\t{{row.entity.name}}\n</div>'},function(module,exports){module.exports='<div class="downloads-count"\n     disable-tooltip-on-overflow>\n\t<jf-pending-data wait-for="row.entity.downloadsCount">\n\t\t<i class="icon icon-download"></i>\n\t\t{{ row.entity.downloadsCount || 0 }} Download{{row.entity.downloadsCount === 1 ? \'\' : \'s\' }}\n\t</jf-pending-data>\n\n<!--\n\t<i class="icon icon-download"></i>\n\t<span class="show-download-count no-cm-action"\n\t      jf-tooltip="Click to calculate"\n\t      ng-click="appScope.$ctrl.calcVersionDownloads(row.entity, $event)"\n\t      ng-if="row.entity.downloadsCount === undefined && row.entity.manualOnDemendDownloadsCount">\n        Show downloads count\n    </span>\n\t<span ng-if="row.entity.downloadsCount !== undefined && !row.entity.pendingCalculation">\n        {{ row.entity.downloadsCount || 0 }} Download{{row.entity.downloadsCount === 1 ? \'\' : \'s\' }}\n    </span>\n\t<span ng-if="row.entity.pendingCalculation">\n\t\t&#45;&#45;\n\t</span>\n-->\n</div>'},function(module,exports){module.exports='<div disable-tooltip-on-overflow jf-disable-ng-animate>\n\t<jf-clip-copy\n\t\t\ttext-to-copy="row.entity.packageId"\n\t\t\tobject-name="Digest">\n\t</jf-clip-copy>\n\t<div class="package-id" jf-tooltip-on-overflow>{{ row.entity.packageId }}</div>\n</div>'},function(module,exports){module.exports='<div class="version-widget-container docker-layers">\n    <ul ng-if="ctrl.features.isJCRDemo()" class="nav nav-tabs">\n        <li ng-click="ctrl.tabClicked(tab)" ng-class="{active:ctrl.isActive(tab)}" ng-repeat="tab in ctrl.tabs"\n            class="jf-tabs-tab-header">\n            <a>{{tab}}</a>\n        </li>\n    </ul>\n    <div class="content-wrapper">\n        <jf-docker-v2-layers\n                ng-if="ctrl.activeTab === \'Layers\' || !ctrl.features.isJCRDemo()"\n                controller="ctrl.$scope.versionCtrl"\n                data="ctrl.$scope.versionCtrl.version.layers"\n                current-path="a/latest">\n        </jf-docker-v2-layers>\n        <div ng-if="ctrl.features.isJCRDemo()" class="xuc-wrapper" ng-if="ctrl.activeTab === \'Security Vulnerabilities\' ">\n            <jf-xuc-data version="ctrl.version" package-id="ctrl.package_id" data="ctrl.mockData"></jf-xuc-data>\n        </div>\n    </div>\n</div>\n\n'},function(module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},DockerLayersWidgetController=function(){function DockerLayersWidgetController($animate,$timeout,ArtifactoryFeatures){_classCallCheck(this,DockerLayersWidgetController),this.$animate=$animate,this.$timeout=$timeout,this.features=ArtifactoryFeatures,this.tabs=["Layers","Security Vulnerabilities"],this.activeTab="Layers",this.mockData=[{id:"XRAY-70720",severity:"High",summary:"libelf/elf_end.c in elfutils 0.173 allows remote attackers to cause a denial of service (double free and application crash) or possibly have unspecified other impact because it tries to decompress twice.",issue_type:"security",provider:"JFrog",component:"debian:stretch:elfutils",source_id:"deb://debian:stretch:elfutils",source_comp_id:"deb://debian:stretch:elfutils:0.168-1",component_versions:{id:"debian:stretch:elfutils",vulnerable_versions:["All Versions"],more_details:{cves:[{cve:"CVE-2018-16402",cwe:["CWE-415"],cvss_v2:"7.5/CVSS:2.0/AV:N/AC:L/Au:N/C:P/I:P/A:P",cvss_v3:"9.8/CVSS:3.0/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H"}],description:"libelf/elf_end.c in elfutils 0.173 allows remote attackers to cause a denial of service (double free and application crash) or possibly have unspecified other impact because it tries to decompress twice.",provider:"JFrog"}},edited:"2019-08-23T12:47:00Z"},{id:"XRAY-41464",severity:"High",summary:"Tools/faqwiz/move-faqwiz.sh (aka the generic FAQ wizard moving tool) in Python 2.4.5 might allow local users to overwrite arbitrary files via a symlink attack on a tmp$RANDOM.tmp temporary file.  NOTE: there may not be common usage scenarios in which tmp$RANDOM.tmp is located in an untrusted directory.",issue_type:"security",provider:"JFrog",component:"debian:stretch:python-defaults",source_id:"deb://debian:stretch:python-defaults",source_comp_id:"deb://debian:stretch:python-defaults:2.7.13-2",component_versions:{id:"debian:stretch:python-defaults",vulnerable_versions:["All Versions"],more_details:{cves:[{cve:"CVE-2008-4108",cwe:["CWE-59"],cvss_v2:"7.2/CVSS:2.0/AV:L/AC:L/Au:N/C:C/I:C/A:C"}],description:"Tools/faqwiz/move-faqwiz.sh (aka the generic FAQ wizard moving tool) in Python 2.4.5 might allow local users to overwrite arbitrary files via a symlink attack on a tmp$RANDOM.tmp temporary file.  NOTE: there may not be common usage scenarios in which tmp$RANDOM.tmp is located in an untrusted directory.",provider:"JFrog"}},edited:"2019-08-25T12:48:45Z"},{id:"XRAY-53872",severity:"High",summary:"The xdr_bytes and xdr_string functions in the GNU C Library (aka glibc or libc6) 2.25 mishandle failures of buffer deserialization, which allows remote attackers to cause a denial of service (virtual memory allocation, or memory consumption if an overcommit setting is not used) via a crafted UDP packet to port 111, a related issue to CVE-2017-8779.",issue_type:"security",provider:"JFrog",component:"debian:stretch:glibc",source_id:"deb://debian:stretch:glibc",source_comp_id:"deb://debian:stretch:glibc:2.24-11+deb9u4",component_versions:{id:"debian:stretch:glibc",vulnerable_versions:["All Versions"],more_details:{cves:[{cve:"CVE-2017-8804",cwe:["CWE-502"],cvss_v2:"7.8/CVSS:2.0/AV:N/AC:L/Au:N/C:N/I:N/A:C",cvss_v3:"7.5/CVSS:3.0/AV:N/AC:L/PR:N/UI:N/S:U/C:N/I:N/A:H"}],description:"The xdr_bytes and xdr_string functions in the GNU C Library (aka glibc or libc6) 2.25 mishandle failures of buffer deserialization, which allows remote attackers to cause a denial of service (virtual memory allocation, or memory consumption if an overcommit setting is not used) via a crafted UDP packet to port 111, a related issue to CVE-2017-8779.",provider:"JFrog"}},edited:"2019-01-21T12:53:51Z"},{id:"XRAY-75785",severity:"High",summary:"In the GNU C Library (aka glibc or libc6) through 2.29, proceed_next_node in posix/regexec.c has a heap-based buffer over-read via an attempted case-insensitive regular-expression match.",issue_type:"security",provider:"JFrog",component:"debian:stretch:glibc",source_id:"deb://debian:stretch:glibc",source_comp_id:"deb://debian:stretch:glibc:2.24-11+deb9u4",component_versions:{id:"debian:stretch:glibc",vulnerable_versions:["All Versions"],more_details:{cves:[{cve:"CVE-2019-9169",cwe:["CWE-125"],cvss_v2:"7.5/CVSS:2.0/AV:N/AC:L/Au:N/C:P/I:P/A:P",cvss_v3:"9.8/CVSS:3.0/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H"}],description:"In the GNU C Library (aka glibc or libc6) through 2.29, proceed_next_node in posix/regexec.c has a heap-based buffer over-read via an attempted case-insensitive regular-expression match.",provider:"JFrog"}},edited:"2019-08-25T12:49:55Z"},{id:"XRAY-57714",severity:"High",summary:"In shadow before 4.5, the newusers tool could be made to manipulate internal data structures in ways unintended by the authors. Malformed input may lead to crashes (with a buffer overflow or other memory corruption) or other unspecified behaviors. This crosses a privilege boundary in, for example, certain web-hosting environments in which a Control Panel allows an unprivileged user account to create subaccounts.",issue_type:"security",provider:"JFrog",component:"debian:stretch:shadow",source_id:"deb://debian:stretch:shadow",source_comp_id:"deb://debian:stretch:shadow:1:4.4-4.1",component_versions:{id:"debian:stretch:shadow",vulnerable_versions:["All Versions"],more_details:{cves:[{cve:"CVE-2017-12424",cwe:["CWE-119"],cvss_v2:"7.5/CVSS:2.0/AV:N/AC:L/Au:N/C:P/I:P/A:P",cvss_v3:"9.8/CVSS:3.0/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H"}],description:"In shadow before 4.5, the newusers tool could be made to manipulate internal data structures in ways unintended by the authors. Malformed input may lead to crashes (with a buffer overflow or other memory corruption) or other unspecified behaviors. This crosses a privilege boundary in, for example, certain web-hosting environments in which a Control Panel allows an unprivileged user account to create subaccounts.",provider:"JFrog"}},edited:"2019-08-23T12:52:43Z"},{id:"XRAY-75672",severity:"High",summary:'Go before 1.8.7, Go 1.9.x before 1.9.4, and Go 1.10 pre-releases before Go 1.10rc2 allow "go get" remote command execution during source code build, by leveraging the gcc or clang plugin feature, because -fplugin= and -plugin= arguments were not blocked.',issue_type:"security",provider:"JFrog",component:"github.com/golang/go",source_id:"go://github.com/golang/go",source_comp_id:"go://github.com/golang/go:1.8.1",component_versions:{id:"github.com/golang/go",vulnerable_versions:["< 1.8.7","1.9.0 ≤ Version < 1.9.4","1.10 ≤ Version < 1.10rc2"],fixed_versions:["1.8.7","1.9.4","1.10rc2"],more_details:{cves:[{cve:"CVE-2018-6574",cwe:["CWE-284"],cvss_v2:"7.5/AV:N/AC:L/Au:N/C:P/I:P/A:P",cvss_v3:"9.8/CVSS:3.0/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H"}],description:'Go before 1.8.7, Go 1.9.x before 1.9.4, and Go 1.10 pre-releases before Go 1.10rc2 allow "go get" remote command execution during source code build, by leveraging the gcc or clang plugin feature, because -fplugin= and -plugin= arguments were not blocked.',provider:"JFrog"}},edited:"2019-03-03T08:34:41Z"},{id:"XRAY-63998",severity:"High",summary:"The malloc implementation in the GNU C Library (aka glibc or libc6), from version 2.24 to 2.26 on powerpc, and only in version 2.26 on i386, did not properly handle malloc calls with arguments close to SIZE_MAX and could return a pointer to a heap region that is smaller than requested, eventually leading to heap corruption.",issue_type:"security",provider:"JFrog",component:"debian:stretch:glibc",source_id:"deb://debian:stretch:glibc",source_comp_id:"deb://debian:stretch:glibc:2.24-11+deb9u4",component_versions:{id:"debian:stretch:glibc",vulnerable_versions:["All Versions"],more_details:{cves:[{cve:"CVE-2018-6551",cwe:["CWE-119"],cvss_v2:"7.5/CVSS:2.0/AV:N/AC:L/Au:N/C:P/I:P/A:P",cvss_v3:"9.8/CVSS:3.0/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H"}],description:"The malloc implementation in the GNU C Library (aka glibc or libc6), from version 2.24 to 2.26 on powerpc, and only in version 2.26 on i386, did not properly handle malloc calls with arguments close to SIZE_MAX and could return a pointer to a heap region that is smaller than requested, eventually leading to heap corruption.",provider:"JFrog"}},edited:"2019-08-25T12:49:28Z"},{id:"XRAY-70175",severity:"High",summary:"GNU Libtasn1-4.13 libtasn1-4.13 version libtasn1-4.13, libtasn1-4.12 contains a DoS, specifically CPU usage will reach 100% when running asn1Paser against the POC due to an issue in _asn1_expand_object_id(p_tree), after a long time, the program will be killed. This attack appears to be exploitable via parsing a crafted file.",issue_type:"security",provider:"JFrog",component:"debian:stretch:libtasn1-6",source_id:"deb://debian:stretch:libtasn1-6",source_comp_id:"deb://debian:stretch:libtasn1-6:4.10-1.1+deb9u1",component_versions:{id:"debian:stretch:libtasn1-6",vulnerable_versions:["All Versions"],more_details:{cves:[{cve:"CVE-2018-1000654",cwe:["CWE-399"],cvss_v2:"7.1/CVSS:2.0/AV:N/AC:M/Au:N/C:N/I:N/A:C",cvss_v3:"5.5/CVSS:3.0/AV:L/AC:L/PR:N/UI:R/S:U/C:N/I:N/A:H"}],description:"GNU Libtasn1-4.13 libtasn1-4.13 version libtasn1-4.13, libtasn1-4.12 contains a DoS, specifically CPU usage will reach 100% when running asn1Paser against the POC due to an issue in _asn1_expand_object_id(p_tree), after a long time, the program will be killed. This attack appears to be exploitable via parsing a crafted file.",provider:"JFrog"}},edited:"2019-08-23T12:46:58Z"},{id:"XRAY-58069",severity:"High",summary:"Double free vulnerability in MIT Kerberos 5 (aka krb5) allows attackers to have unspecified impact via vectors involving automatic deletion of security contexts on error.",issue_type:"security",provider:"JFrog",component:"debian:stretch:krb5",source_id:"deb://debian:stretch:krb5",source_comp_id:"deb://debian:stretch:krb5:1.15-1+deb9u1",component_versions:{id:"debian:stretch:krb5",vulnerable_versions:["All Versions"],more_details:{cves:[{cve:"CVE-2017-11462",cwe:["CWE-415"],cvss_v2:"7.5/CVSS:2.0/AV:N/AC:L/Au:N/C:P/I:P/A:P",cvss_v3:"9.8/CVSS:3.0/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H"}],description:"Double free vulnerability in MIT Kerberos 5 (aka krb5) allows attackers to have unspecified impact via vectors involving automatic deletion of security contexts on error.",provider:"JFrog"}},edited:"2019-08-25T12:49:15Z"},{id:"XRAY-59545",severity:"High",summary:"plugins/preauth/pkinit/pkinit_crypto_openssl.c in MIT Kerberos 5 (aka krb5) through 1.15.2 mishandles Distinguished Name (DN) fields, which allows remote attackers to execute arbitrary code or cause a denial of service (buffer overflow and application crash) in situations involving untrusted X.509 data, related to the get_matching_data and X509_NAME_oneline_ex functions. NOTE: this has security relevance only in use cases outside of the MIT Kerberos distribution, e.g., the use of get_matching_data in KDC certauth plugin code that is specific to Red Hat.",issue_type:"security",provider:"JFrog",component:"debian:stretch:krb5",source_id:"deb://debian:stretch:krb5",source_comp_id:"deb://debian:stretch:krb5:1.15-1+deb9u1",component_versions:{id:"debian:stretch:krb5",vulnerable_versions:["All Versions"],more_details:{cves:[{cve:"CVE-2017-15088",cwe:["CWE-119"],cvss_v2:"7.5/CVSS:2.0/AV:N/AC:L/Au:N/C:P/I:P/A:P",cvss_v3:"9.8/CVSS:3.0/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H"}],description:"plugins/preauth/pkinit/pkinit_crypto_openssl.c in MIT Kerberos 5 (aka krb5) through 1.15.2 mishandles Distinguished Name (DN) fields, which allows remote attackers to execute arbitrary code or cause a denial of service (buffer overflow and application crash) in situations involving untrusted X.509 data, related to the get_matching_data and X509_NAME_oneline_ex functions. NOTE: this has security relevance only in use cases outside of the MIT Kerberos distribution, e.g., the use of get_matching_data in KDC certauth plugin code that is specific to Red Hat.",provider:"JFrog"}},edited:"2019-08-23T12:53:00Z"},{id:"XRAY-75846",severity:"High",summary:"The crypto/x509 package of Go before 1.10.6 and 1.11.x before 1.11.3 does not limit the amount of work performed for each chain verification, which might allow attackers to craft pathological inputs leading to a CPU denial of service. Go TLS servers accepting client certificates and TLS clients are affected.",issue_type:"security",provider:"JFrog",component:"github.com/golang/go",source_id:"go://github.com/golang/go",source_comp_id:"go://github.com/golang/go:1.8.1",component_versions:{id:"github.com/golang/go",vulnerable_versions:["< 1.10.6","1.11 ≤ Version < 1.11.3"],fixed_versions:["1.10.6","1.11.3"],more_details:{cves:[{cve:"CVE-2018-16875",cwe:["CWE-295"],cvss_v2:"7.8/AV:N/AC:L/Au:N/C:N/I:N/A:C",cvss_v3:"7.5/CVSS:3.0/AV:N/AC:L/PR:N/UI:N/S:U/C:N/I:N/A:H"}],description:"The crypto/x509 package of Go before 1.10.6 and 1.11.x before 1.11.3 does not limit the amount of work performed for each chain verification, which might allow attackers to craft pathological inputs leading to a CPU denial of service. Go TLS servers accepting client certificates and TLS clients are affected.",provider:"JFrog"}},edited:"2019-03-05T10:18:19Z"},{id:"XRAY-56410",severity:"High",summary:'systemd v233 and earlier fails to safely parse usernames starting with a numeric digit (e.g. "0day"), running the service in question with root privileges rather than the user intended.',issue_type:"security",provider:"JFrog",component:"debian:stretch:systemd",source_id:"deb://debian:stretch:systemd",source_comp_id:"deb://debian:stretch:systemd:232-25+deb9u12",component_versions:{id:"debian:stretch:systemd",vulnerable_versions:["All Versions"],more_details:{cves:[{cve:"CVE-2017-1000082",cwe:["CWE-20"],cvss_v2:"10.0/CVSS:2.0/AV:N/AC:L/Au:N/C:C/I:C/A:C",cvss_v3:"9.8/CVSS:3.0/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H"}],description:'systemd v233 and earlier fails to safely parse usernames starting with a numeric digit (e.g. "0day"), running the service in question with root privileges rather than the user intended.',provider:"JFrog"}},edited:"2019-08-25T12:49:10Z"},{id:"XRAY-79857",severity:"High",summary:'Go before 1.8.4 and 1.9.x before 1.9.1 allows "go get" remote command execution. Using custom domains, it is possible to arrange things so that example.com/pkg1 points to a Subversion repository but example.com/pkg1/pkg2 points to a Git repository. If the Subversion repository includes a Git checkout in its pkg2 directory and some other work is done to ensure the proper ordering of operations, "go get" can be tricked into reusing this Git checkout for the fetch of code from pkg2. If the Subversion repository\'s Git checkout has malicious commands in .git/hooks/, they will execute on the system running "go get."',issue_type:"security",provider:"JFrog",component:"github.com/golang/go",source_id:"go://github.com/golang/go",source_comp_id:"go://github.com/golang/go:1.8.1",component_versions:{id:"github.com/golang/go",vulnerable_versions:["< 1.8.4","1.9.0 ≤ Version < 1.9.1"],fixed_versions:["1.8.4","1.9.1"],more_details:{cves:[{cve:"CVE-2017-15041",cwe:["CWE-284"],cvss_v2:"7.5/AV:N/AC:L/Au:N/C:P/I:P/A:P",cvss_v3:"9.8/CVSS:3.0/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H"}],description:'Go before 1.8.4 and 1.9.x before 1.9.1 allows "go get" remote command execution. Using custom domains, it is possible to arrange things so that example.com/pkg1 points to a Subversion repository but example.com/pkg1/pkg2 points to a Git repository. If the Subversion repository includes a Git checkout in its pkg2 directory and some other work is done to ensure the proper ordering of operations, "go get" can be tricked into reusing this Git checkout for the fetch of code from pkg2. If the Subversion repository\'s Git checkout has malicious commands in .git/hooks/, they will execute on the system running "go get."',provider:"JFrog"}},edited:"2019-05-21T10:16:27Z"},{id:"XRAY-71229",severity:"High",summary:"In GNOME GLib 2.56.1, g_markup_parse_context_end_parse() in gmarkup.c has a NULL pointer dereference.",issue_type:"security",provider:"JFrog",component:"debian:stretch:glib2.0",source_id:"deb://debian:stretch:glib2.0",source_comp_id:"deb://debian:stretch:glib2.0:2.50.3-2+deb9u1",component_versions:{id:"debian:stretch:glib2.0",vulnerable_versions:["All Versions"],more_details:{cves:[{cve:"CVE-2018-16428",cwe:["CWE-476"],cvss_v2:"7.5/CVSS:2.0/AV:N/AC:L/Au:N/C:P/I:P/A:P",cvss_v3:"9.8/CVSS:3.0/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H"}],description:"In GNOME GLib 2.56.1, g_markup_parse_context_end_parse() in gmarkup.c has a NULL pointer dereference.",provider:"JFrog"}},edited:"2019-08-23T12:47:00Z"},{id:"XRAY-81447",severity:"High",summary:"In all versions of AppArmor mount rules are accidentally widened when compiled.",issue_type:"security",provider:"JFrog",component:"debian:stretch:apparmor",source_id:"deb://debian:stretch:apparmor",source_comp_id:"deb://debian:stretch:apparmor:2.11.0-3+deb9u2",component_versions:{id:"debian:stretch:apparmor",vulnerable_versions:["All Versions"],more_details:{cves:[{cve:"CVE-2016-1585",cwe:["CWE-254"],cvss_v2:"7.5/CVSS:2.0/AV:N/AC:L/Au:N/C:P/I:P/A:P",cvss_v3:"9.8/CVSS:3.0/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H"}],description:"In all versions of AppArmor mount rules are accidentally widened when compiled.",provider:"JFrog"}},edited:"2019-08-25T12:49:59Z"},{id:"XRAY-64004",severity:"High",summary:"An integer overflow in the implementation of the posix_memalign in memalign functions in the GNU C Library (aka glibc or libc6) 2.26 and earlier could cause these functions to return a pointer to a heap area that is too small, potentially leading to heap corruption.",issue_type:"security",provider:"JFrog",component:"debian:stretch:glibc",source_id:"deb://debian:stretch:glibc",source_comp_id:"deb://debian:stretch:glibc:2.24-11+deb9u4",component_versions:{id:"debian:stretch:glibc",vulnerable_versions:["All Versions"],more_details:{cves:[{cve:"CVE-2018-6485",cwe:["CWE-190"],cvss_v2:"7.5/CVSS:2.0/AV:N/AC:L/Au:N/C:P/I:P/A:P",cvss_v3:"9.8/CVSS:3.0/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H"}],description:"An integer overflow in the implementation of the posix_memalign in memalign functions in the GNU C Library (aka glibc or libc6) 2.26 and earlier could cause these functions to return a pointer to a heap area that is too small, potentially leading to heap corruption.",provider:"JFrog"}},edited:"2019-08-23T12:53:12Z"},{id:"XRAY-65882",severity:"High",summary:"systemd-tmpfiles in systemd through 237 mishandles symlinks present in non-terminal path components, which allows local users to obtain ownership of arbitrary files via vectors involving creation of a directory and a file under that directory, and later replacing that directory with a symlink. This occurs even if the fs.protected_symlinks sysctl is turned on.",issue_type:"security",provider:"JFrog",component:"debian:stretch:systemd",source_id:"deb://debian:stretch:systemd",source_comp_id:"deb://debian:stretch:systemd:232-25+deb9u12",component_versions:{id:"debian:stretch:systemd",vulnerable_versions:["All Versions"],more_details:{cves:[{cve:"CVE-2018-6954",cwe:["CWE-264"],cvss_v2:"7.2/CVSS:2.0/AV:L/AC:L/Au:N/C:C/I:C/A:C",cvss_v3:"7.8/CVSS:3.0/AV:L/AC:L/PR:L/UI:N/S:U/C:H/I:H/A:H"}],description:"systemd-tmpfiles in systemd through 237 mishandles symlinks present in non-terminal path components, which allows local users to obtain ownership of arbitrary files via vectors involving creation of a directory and a file under that directory, and later replacing that directory with a symlink. This occurs even if the fs.protected_symlinks sysctl is turned on.",provider:"JFrog"}},edited:"2019-08-23T12:53:17Z"},{id:"XRAY-40740",severity:"High",summary:"runuser in util-linux allows local users to escape to the parent session via a crafted TIOCSTI ioctl call, which pushes characters to the terminal's input buffer.",issue_type:"security",provider:"JFrog",component:"debian:stretch:util-linux",source_id:"deb://debian:stretch:util-linux",source_comp_id:"deb://debian:stretch:util-linux:2.29.2-1+deb9u1",component_versions:{id:"debian:stretch:util-linux",vulnerable_versions:["All Versions"],more_details:{cves:[{cve:"CVE-2016-2779",cwe:["CWE-264"],cvss_v2:"7.2/CVSS:2.0/AV:L/AC:L/Au:N/C:C/I:C/A:C",cvss_v3:"7.8/CVSS:3.0/AV:L/AC:L/PR:L/UI:N/S:U/C:H/I:H/A:H"}],description:"runuser in util-linux allows local users to escape to the parent session via a crafted TIOCSTI ioctl call, which pushes characters to the terminal's input buffer.",provider:"JFrog"}},edited:"2019-08-23T12:51:34Z"},{id:"XRAY-82071",severity:"High",summary:"Go through 1.12.5 on Windows mishandles process creation with a nil environment in conjunction with a non-nil token, which allows attackers to obtain sensitive information or gain privileges.",issue_type:"security",provider:"JFrog",component:"github.com/golang/go",source_id:"go://github.com/golang/go",source_comp_id:"go://github.com/golang/go:1.8.1",component_versions:{id:"github.com/golang/go",vulnerable_versions:["≤ 1.11.11","1.12 ≤ Version ≤ 1.12.5"],fixed_versions:["1.12.6","1.13beta1"],more_details:{cves:[{cve:"CVE-2019-11888",cwe:["CWE-264"],cvss_v2:"7.5/AV:N/AC:L/Au:N/C:P/I:P/A:P",cvss_v3:"9.8/CVSS:3.0/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H"}],description:"Go through 1.12.5 on Windows mishandles process creation with a nil environment in conjunction with a non-nil token, which allows attackers to obtain sensitive information or gain privileges.",provider:"JFrog"}},edited:"2019-08-01T12:47:36Z"},{id:"XRAY-58088",severity:"High",summary:"Integer overflow in the decode_digit function in puny_decode.c in Libidn2 before 2.0.4 allows remote attackers to cause a denial of service or possibly have unspecified other impact.",issue_type:"security",provider:"JFrog",component:"debian:stretch:libidn",source_id:"deb://debian:stretch:libidn",source_comp_id:"deb://debian:stretch:libidn:1.33-1",component_versions:{id:"debian:stretch:libidn",vulnerable_versions:["All Versions"],more_details:{cves:[{cve:"CVE-2017-14062",cwe:["CWE-190"],cvss_v2:"7.5/CVSS:2.0/AV:N/AC:L/Au:N/C:P/I:P/A:P",cvss_v3:"9.8/CVSS:3.0/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H"}],description:"Integer overflow in the decode_digit function in puny_decode.c in Libidn2 before 2.0.4 allows remote attackers to cause a denial of service or possibly have unspecified other impact.",provider:"JFrog"}},edited:"2019-08-23T12:52:48Z"},{id:"XRAY-83115",severity:"High",summary:"SQLite3 from 3.6.0 to and including 3.27.2 is vulnerable to heap out-of-bound read in the rtreenode() function when handling invalid rtree tables.",issue_type:"security",provider:"JFrog",component:"debian:stretch:sqlite3",source_id:"deb://debian:stretch:sqlite3",source_comp_id:"deb://debian:stretch:sqlite3:3.16.2-5+deb9u1",component_versions:{id:"debian:stretch:sqlite3",vulnerable_versions:["All Versions"],more_details:{cves:[{cve:"CVE-2019-8457",cwe:["CWE-125"],cvss_v2:"7.5/CVSS:2.0/AV:N/AC:L/Au:N/C:P/I:P/A:P",cvss_v3:"9.8/CVSS:3.0/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H"}],description:"SQLite3 from 3.6.0 to and including 3.27.2 is vulnerable to heap out-of-bound read in the rtreenode() function when handling invalid rtree tables.",provider:"JFrog"}},edited:"2019-08-23T12:47:34Z"},{id:"XRAY-83112",
severity:"High",summary:"file_copy_fallback in gio/gfile.c in GNOME GLib 2.15.0 through 2.61.1 does not properly restrict file permissions while a copy operation is in progress. Instead, default permissions are used.",issue_type:"security",provider:"JFrog",component:"debian:stretch:glib2.0",source_id:"deb://debian:stretch:glib2.0",source_comp_id:"deb://debian:stretch:glib2.0:2.50.3-2+deb9u1",component_versions:{id:"debian:stretch:glib2.0",vulnerable_versions:["All Versions"],more_details:{cves:[{cve:"CVE-2019-12450",cwe:["CWE-275"],cvss_v2:"7.5/CVSS:2.0/AV:N/AC:L/Au:N/C:P/I:P/A:P",cvss_v3:"9.8/CVSS:3.0/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H"}],description:"file_copy_fallback in gio/gfile.c in GNOME GLib 2.15.0 through 2.61.1 does not properly restrict file permissions while a copy operation is in progress. Instead, default permissions are used.",provider:"JFrog"}},edited:"2019-08-25T12:50:00Z"},{id:"XRAY-60416",severity:"High",summary:"In glibc 2.26 and earlier there is confusion in the usage of getcwd() by realpath() which can be used to write before the destination buffer leading to a buffer underflow and potential code execution.",issue_type:"security",provider:"JFrog",component:"debian:stretch:glibc",source_id:"deb://debian:stretch:glibc",source_comp_id:"deb://debian:stretch:glibc:2.24-11+deb9u4",component_versions:{id:"debian:stretch:glibc",vulnerable_versions:["All Versions"],more_details:{cves:[{cve:"CVE-2018-1000001",cwe:["CWE-119"],cvss_v2:"7.2/CVSS:2.0/AV:L/AC:L/Au:N/C:C/I:C/A:C",cvss_v3:"7.8/CVSS:3.0/AV:L/AC:L/PR:L/UI:N/S:U/C:H/I:H/A:H"}],description:"In glibc 2.26 and earlier there is confusion in the usage of getcwd() by realpath() which can be used to write before the destination buffer leading to a buffer underflow and potential code execution.",provider:"JFrog"}},edited:"2019-08-25T12:49:25Z"},{id:"XRAY-56484",severity:"High",summary:"In PCRE 8.41, the OP_KETRMAX feature in the match function in pcre_exec.c allows stack exhaustion (uncontrolled recursion) when processing a crafted regular expression.",issue_type:"security",provider:"JFrog",component:"debian:stretch:pcre3",source_id:"deb://debian:stretch:pcre3",source_comp_id:"deb://debian:stretch:pcre3:2:8.39-3",component_versions:{id:"debian:stretch:pcre3",vulnerable_versions:["All Versions"],more_details:{cves:[{cve:"CVE-2017-11164",cwe:["CWE-399"],cvss_v2:"7.8/CVSS:2.0/AV:N/AC:L/Au:N/C:N/I:N/A:C",cvss_v3:"7.5/CVSS:3.0/AV:N/AC:L/PR:N/UI:N/S:U/C:N/I:N/A:H"}],description:"In PCRE 8.41, the OP_KETRMAX feature in the match function in pcre_exec.c allows stack exhaustion (uncontrolled recursion) when processing a crafted regular expression.",provider:"JFrog"}},edited:"2019-08-25T12:49:10Z"},{id:"XRAY-28223",severity:"High",summary:"Tar 1.15.1 does not properly warn the user when extracting setuid or setgid files, which may allow local users or remote attackers to gain privileges.",issue_type:"security",provider:"JFrog",component:"debian:stretch:tar",source_id:"deb://debian:stretch:tar",source_comp_id:"deb://debian:stretch:tar:1.29b-1.1",component_versions:{id:"debian:stretch:tar",vulnerable_versions:["All Versions"],more_details:{cves:[{cve:"CVE-2005-2541",cwe:["NVD-CWE-Other"],cvss_v2:"10.0/CVSS:2.0/AV:N/AC:L/Au:N/C:C/I:C/A:C"}],description:"Tar 1.15.1 does not properly warn the user when extracting setuid or setgid files, which may allow local users or remote attackers to gain privileges.",provider:"JFrog"}},edited:"2019-08-23T12:47:54Z"}]}return _createClass(DockerLayersWidgetController,{$onInit:{value:function(){this.subRouter=this.$scope.versionCtrl.subRouter,console.log(this.subRouter),this.package_id=""+this.subRouter.params.packageType+"://"+this.subRouter.params["package"],this.version=this.subRouter.params.version,this.$animate.enabled(this.$element,!0),this.$timeout(function(){})}},tabClicked:{value:function(tab){this.activeTab=tab,$(".content-wrapper").animate({scrollTop:"0"},400)}},isActive:{value:function(tab){return this.activeTab===tab}}}),DockerLayersWidgetController}();module.exports=DockerLayersWidgetController},function(module,exports){module.exports='<div class="version-widget-container">\n\t<div class="widget-title">Readme</div>\n\t<jf-markup-editor markup="ctrl.readme"\n\t                  language="\'Markdown\'"\n\t                  mode="\'View\'"\n\t                  editable="false"\n\t                  show-controls="false"></jf-markup-editor>\n</div>'},function(module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},ReadmeWidgetController=function(){function ReadmeWidgetController(){_classCallCheck(this,ReadmeWidgetController)}return _createClass(ReadmeWidgetController,{$onInit:{value:function(){this.hostData=this.$scope.versionCtrl.nativeParent.hostData,this.subRouter=this.$scope.versionCtrl.subRouter,this.getReadme()}},getReadme:{value:function(){var _this=this;this.hostData.getVersionData({dataType:"readme",path:this.subRouter.params.versionPath}).then(function(response){_this.readme=response.readme})}}}),ReadmeWidgetController}();module.exports=ReadmeWidgetController},function(module,exports){module.exports='<div class="version-widget-container">\n\t<jf-table-view\n\t\t\toptions="ctrl.tableViewOptions">\n\t</jf-table-view>\n</div>'},function(module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},PropertiesWidgetController=function(){function PropertiesWidgetController(JFrogTableViewOptions){_classCallCheck(this,PropertiesWidgetController),this.JFrogTableViewOptions=JFrogTableViewOptions}return _createClass(PropertiesWidgetController,{$onInit:{value:function(){this.hostData=this.$scope.versionCtrl.nativeParent.hostData,this.subRouter=this.$scope.versionCtrl.subRouter,this.createTable(),this.getProperties()}},createTable:{value:function(){this.tableViewOptions=new this.JFrogTableViewOptions(this.$scope),this.tableViewOptions.setColumns(this.getColumns()).showPagination(!1).setObjectName("property/properties")}},getColumns:{value:function(){return[{header:"Key name",field:"key"},{header:"Values",field:"values",cellTemplate:"<div>{{row.entity.values.join (',')}}</div>"}]}},getProperties:{value:function(){var _this=this;this.hostData.getVersionData({dataType:"props",path:this.subRouter.params.versionPath}).then(function(response){_this.tableViewOptions.setData(response.properties)})}}}),PropertiesWidgetController}();module.exports=PropertiesWidgetController},function(module,exports){module.exports='<div class="version-widget-container">\n\t<div ng-if="ctrl.data.dependencies.length">\n\t\t<div class="widget-title">Dependencies</div>\n\t\t<div class="dependencies-list">{{ctrl.data.dependencies.join(\', \')}}</div>\n\t\t<hr/>\n\t</div>\n\t<div ng-if="ctrl.data.devDependencies.length">\n\t\t<div class="widget-title">Dev Dependencies</div>\n\t\t<div class="dependencies-list">{{ctrl.data.devDependencies.join(\', \')}}</div>\n\t</div>\n\t<div ng-if="!ctrl.data.devDependencies.length && !ctrl.data.dependencies.length">\n\t\t<div class="widget-title">Dependencies: No Dependencies</div>\n\t</div>\n</div>'},function(module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},DependenciesWidgetController=function(){function DependenciesWidgetController(){_classCallCheck(this,DependenciesWidgetController)}return _createClass(DependenciesWidgetController,{$onInit:{value:function(){this.hostData=this.$scope.versionCtrl.nativeParent.hostData,this.subRouter=this.$scope.versionCtrl.subRouter,this.getDependencies()}},getDependencies:{value:function(){var _this=this;this.hostData.getVersionData({dataType:"dependencies",path:this.subRouter.params.versionPath}).then(function(response){_this.data={dependencies:_.map(response.dependencies,"name"),devDependencies:_.map(response.devDependencies,"name")}})}}}),DependenciesWidgetController}();module.exports=DependenciesWidgetController},function(module,exports){module.exports='<div class="version-widget-container">\n\t<jf-table-view\n\t\t\toptions="ctrl.tableViewOptions">\n\t</jf-table-view>\n</div>'},function(module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},BuildsWidgetController=function(){function BuildsWidgetController(JFrogTableViewOptions,$state){_classCallCheck(this,BuildsWidgetController),this.$state=$state,this.JFrogTableViewOptions=JFrogTableViewOptions}return _createClass(BuildsWidgetController,{$onInit:{value:function(){this.hostData=this.$scope.versionCtrl.nativeParent.hostData,this.subRouter=this.$scope.versionCtrl.subRouter,this.createTable(),this.getBuilds()}},createTable:{value:function(){this.tableViewOptions=new this.JFrogTableViewOptions(this.$scope),this.tableViewOptions.setColumns(this.getColumns()).setActions(this.getActions()).showPagination(!1).setObjectName("build")}},getColumns:{value:function(){return[{header:"Build Name",field:"name"},{header:"Build Number",field:"number"},{header:"Creation Date",field:"createDate",cellTemplate:"<div>{{row.entity.createDate | date : 'medium'}}</div>"}]}},getActions:{value:function(){var _this=this;return[{icon:"icon icon-arrow",tooltip:"Go to build",callback:function(row){return _this.$state.go("builds.build_page",{buildName:row.name,buildNumber:row.number,tab:null})}}]}},getBuilds:{value:function(){var _this=this;this.hostData.getVersionData({dataType:"builds",path:this.subRouter.params.versionPath}).then(function(response){_this.tableViewOptions.setData(response.results)})}}}),BuildsWidgetController}();module.exports=BuildsWidgetController},function(module,exports,__webpack_require__){"use strict";var _interopRequire=function(obj){return obj&&obj.__esModule?obj["default"]:obj},_createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc&&desc.writable)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0},_inherits=function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(subClass.__proto__=superClass)},_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},BaseDescriptor=_interopRequire(__webpack_require__(10)),DockerDescriptor=function(_BaseDescriptor){function DockerDescriptor(){_classCallCheck(this,DockerDescriptor),_get(Object.getPrototypeOf(DockerDescriptor.prototype),"constructor",this).call(this),this.init()}return _inherits(DockerDescriptor,_BaseDescriptor),_createClass(DockerDescriptor,{init:{value:function(){var _this=this;this.descriptor={transformers:{packages:function(data){var result={};return data.results&&data.results.length&&(result.data=data.results.map(function(image){return 0===image.lastModified&&delete image.lastModified,_this.descriptor.transformers["package"](image)})),result.itemsCount=data.resultsCount,result},"package":function(data){var result={};return result.name=data.name||data.packageName,result.repositories=data.repositories,result.numOfRepos=data.numOfRepos,result.downloadsCount=data.totalDownloads,result.versionsCount=data.totalVersions,result.lastModified=data.lastModified,data.versions&&(result.versions=data.versions.map(function(version){return _this.descriptor.transformers.version(version)})),result},version:function(data){var result={};return result.name=data.name,result.packageName=data.packageName,result.packageId=data.packageId,result.lastModified=data.lastModified,result.size=data.size,result.security=data.security,result.labels=data.labels,result.repo=data.repoKey,result.downloadsCount=data.totalDownloads,result.xrayStatus=data.xrayStatus,result.layers=data.blobsInfo,result}},aliases:{"package":"image",version:"tag"},icons:{packages:"icon-navigation-products","package":"repotype iconrepo iconrepo-docker",version:"icon-docker-tags"},filters:{"package":"pkg",version:"version"},filtersLabels:{pkg:"Image Name",version:"Tag"},installPrefix:"docker pull",packagesTableColumns:["name","repositories","downloadsCount","versionsCount","lastModified"],versionsTableColumns:["name","repo","packageId","lastModified","downloadsCount","xrayStatus"],packageSummaryColumns:["packageIcon","packageName","numberOfDownloads","lastModified"],versionSummaryColumns:["versionIcon","versionName","size","packageName","packageId","lastModified"],widgetsLayout:{main:{rows:[{size:"100%",cells:["100% @dockerLayers"]}]}}}}}}),DockerDescriptor}(BaseDescriptor);module.exports=DockerDescriptor},function(module,exports,__webpack_require__){"use strict";var _interopRequire=function(obj){return obj&&obj.__esModule?obj["default"]:obj},_createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc&&desc.writable)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0},_inherits=function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(subClass.__proto__=superClass)},_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},BaseDescriptor=_interopRequire(__webpack_require__(10)),NpmDescriptor=function(_BaseDescriptor){function NpmDescriptor(){_classCallCheck(this,NpmDescriptor),_get(Object.getPrototypeOf(NpmDescriptor.prototype),"constructor",this).call(this),this.init()}return _inherits(NpmDescriptor,_BaseDescriptor),_createClass(NpmDescriptor,{init:{value:function(){var _this=this;this.descriptor={transformers:{packages:function(data){var result={};return data.results&&data.results.length&&(result.data=data.results.map(function(image){return _this.descriptor.transformers["package"](image)})),result.itemsCount=data.resultsCount,result},"package":function(data){var result={};return result.name=data.name||data.packageName,result.repositories=data.repositories,result.numOfRepos=data.numOfRepos,result.downloadsCount=data.totalDownloads,result.versionsCount=data.numOfVersions,result.lastModified=data.lastModified,result.latestPath=data.latestPath,result.keywords=data.keywords,result.xrayStatus=data.xrayStatus,data.results&&(result.versions=data.results.map(function(version){return delete version.numOfDownloads,_this.descriptor.transformers.version(version)})),result},version:function(data){return data.downloadsCount=data.numOfDownloads||data.totalDownloads,data}},aliases:{"package":"package",version:"version"},icons:{packages:"icon-navigation-products","package":"repotype iconrepo iconrepo-npm",version:"icon-docker-tags"},filters:{"package":"npmName",version:"npmVersion",keywords:"npmKeywords",scope:"npmScope",checksum:"npmChecksum"},filtersLabels:{npmName:"Package Name",npmVersion:"Version",npmKeywords:"Keywords",npmScope:"Scope",npmChecksum:"Checksum"},installPrefix:"npm i",packagesTableColumns:["name","repositories","downloadsCount","versionsCount","lastModified"],versionsTableColumns:["name","repositories","lastModified","downloadsCount","xrayStatus","keywords"],columnsRemovedForDerby:["downloadsCount","keywords","xrayStatus"],packageSummaryColumns:["packageIcon","packageName","description","license","numberOfDownloads","lastModified","installCommand"],versionSummaryColumns:["versionIcon","versionName","description","license","numberOfDownloads","lastModified","installCommand"],widgetsLayout:{main:{rows:[{size:"100%",cells:["50% @readme","50% #rightSide"]}]},rightSide:{rows:[{size:"33%",cells:["100% @properties"]},{size:"33%",cells:["100% @dependencies"]},{size:"33%",cells:["100% @builds"]}]}}}}}}),NpmDescriptor}(BaseDescriptor);module.exports=NpmDescriptor},function(module,exports,__webpack_require__){"use strict";var _interopRequire=function(obj){return obj&&obj.__esModule?obj["default"]:obj},PackagesNative=_interopRequire(__webpack_require__(33));angular.module("ui_components",[PackagesNative.name])},function(module,exports,__webpack_require__){"use strict";var _interopRequire=function(obj){return obj&&obj.__esModule?obj["default"]:obj},PackagesComponent=_interopRequire(__webpack_require__(34)),PackageComponent=_interopRequire(__webpack_require__(37)),PackagesNativeComponent=_interopRequire(__webpack_require__(41)),VersionComponent=_interopRequire(__webpack_require__(44)),NativeFiltersDropdown=_interopRequire(__webpack_require__(47));module.exports=angular.module("packages.native",[]).component("packagesNativeComponent",new PackagesNativeComponent).component("packagesComponent",new PackagesComponent).component("packageComponent",new PackageComponent).component("versionComponent",new VersionComponent).component("nativeFiltersDropdown",new NativeFiltersDropdown)},function(module,exports,__webpack_require__){"use strict";var _interopRequire=function(obj){return obj&&obj.__esModule?obj["default"]:obj},_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},PackagesController=_interopRequire(__webpack_require__(35)),PackagesComponent=function PackagesComponent(){_classCallCheck(this,PackagesComponent),this.template=__webpack_require__(36),this.controller=PackagesController,this.bindings={nativeParent:"="}};module.exports=PackagesComponent},function(module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},PackagesController=function(){function PackagesController(JFrogSubRouter,$q,$scope,JFrogTableViewOptions,JFrogUIUtils,NativeUIDescriptor){_classCallCheck(this,PackagesController),this.subRouter=JFrogSubRouter.getActiveRouter(),this.$stateParams=this.subRouter.params,this.$scope=$scope,this.$q=$q,this.JFrogTableViewOptions=JFrogTableViewOptions,this.jFrogUIUtils=JFrogUIUtils,this.descriptor=NativeUIDescriptor.getDescriptor(),this.sorting={sortBy:"name",order:"asc"},this.ready=!1,this.extraInfoRequestsToCancel=[]}return _createClass(PackagesController,{$onInit:{value:function(){var _this=this;this.nativeParent.stateController=this,this.packages={},this.initPackagesViewData(this.$stateParams),this.subRouter.listenForChanges(["packageType","query"],"packages",function(oldP,newP){_this.initPackagesViewData(_this.$stateParams),oldP.query&&!newP.query&&(_this.initFilters(),_this.getSelectedRepos(),_this.getFilteredData())},this.$scope)}},getPackagesData:{value:function(daoParams){var _this=this;if(!daoParams.filters||!daoParams.filters.length)return this.initEmptyPackagesPage(daoParams);var searchParams={filters:daoParams.filters||[],sortBy:daoParams.sortBy||"name",order:daoParams.order||"asc"},cached=this.nativeParent.cache("packages.list");return cached&&_.isEqual(cached.searchParams,searchParams)?(cached.list&&cached.list.data&&cached.list.data.forEach(function(row){return delete row.calculationPending}),this.packages.list=cached.list,this.$q.when()):(this.$pendingData=!0,this.nativeParent.hostData.getPackages(searchParams).then(function(packages){_this.packages.list=_this.typeSpecific.transformers.packages(packages),_this.nativeParent.cache("packages.list",{list:_this.packages.list,searchParams:_.cloneDeep(searchParams)}),_this.$pendingData=!1}))}},initPackagesViewData:{value:function(daoParams){var _this=this;delete this.hasSelectedFilters,this.resetReposList(),this.refreshPackageTypes(daoParams).then(function(){_this.$q.all([_this.refreshFilters(daoParams)]).then(function(){_this.initSelectedPackageType(),_this.refreshAll(),_this.ready=!0})["catch"](function(e){return console.error(e)})})}},refreshPackageTypes:{value:function(daoParams){var _this=this;return this.nativeParent.getAvailablePackageTypes(daoParams).then(function(packageTypes){_this.packageTypes=packageTypes})}},refreshFilters:{value:function(daoParams){var _this=this;return this.nativeParent.hostData.getRepos(daoParams).then(function(filters){_this.filters=_this.descriptor.common.transformers.filters(filters,daoParams.packageType)})}},initEmptyPackagesPage:{value:function(daoParams){var defferd=this.$q.defer();return this.packages.list=this.typeSpecific.transformers.packages([]),defferd.resolve(this.packages.list),defferd.promise}},refreshAll:{value:function(){this.initFilters(),this.initConstants(),this.initTable()}},typeSpecific:{get:function(){return this.selectedPackageType?this.descriptor.typeSpecific[this.selectedPackageType.value]:{}}},initConstants:{value:function(){this.typeSpecific&&this.typeSpecific.aliases&&this.typeSpecific.icons&&(this.packageAlias=this.jFrogUIUtils.capitalizeFirstLetter(this.typeSpecific.aliases["package"]),this.versionAlias=this.jFrogUIUtils.capitalizeFirstLetter(this.typeSpecific.aliases.version),this.packageTypeIcon=this.typeSpecific.icons["package"],this.versionIcon=this.typeSpecific.icons.version)}},initSelectedPackageType:{value:function(){var _this=this,selected=_.find(this.packageTypes,function(packageType){return packageType.value===_this.$stateParams.packageType});selected&&(this.selectedPackageType=selected)}},initFilters:{value:function(){var _this=this;this.reposList=_.map(this.filters.repos,function(value){return{text:value,isSelected:!!_this.$stateParams.query.repos&&_.includes(_this.$stateParams.query.repos.split(","),value)}}),this.moreFiltersList=_.map(Object.keys(this.filters.extraFilters||{}),function(value){var id=_this.filters.extraFilters[value];return{text:_this.descriptor.typeSpecific[_this.$stateParams.packageType].filtersLabels[id],id:id,isSelected:!!_this.$stateParams.query[id],inputTextValue:_this.$stateParams.query[id]||""}}),this.initialDropDownPlaceholder=this.moreFiltersList[0]?this.moreFiltersList[0].text+" (You can use * or ? as wildcards)":"",_.isEmpty(this.$stateParams.query)||(this.getSelectedRepos(),this.getFilteredData())}},initTable:{value:function(){var _this=this;this.tableViewOptions=new this.JFrogTableViewOptions(this.$scope),this.tableViewOptions.setColumns(this.getColumns()).showFilter(!1).showCounter(!1).showPagination(!1).setPaginationMode(this.tableViewOptions.VIRTUAL_SCROLL).setRowsPerPage("auto").setRowHeight(76,25).alwaysShowSortingArrows().setEmptyTableText("No "+this.packageAlias+"s found. You can broaden your search by using the * wildcard"),this.tableViewOptions.on("row.clicked",this.onRowClick.bind(this)),this.tableViewOptions.useExternalSortCallback(this.onSortChange.bind(this)),this.tableViewOptions.on("row.in.view",function(row){("docker"===_this.$stateParams.packageType||_this.nativeParent.showExtraInfo)&&_this.calcPackageExtraData(row)})}},onSortChange:{value:function(field,dir){"versionsCount"===field&&(field="totalVersions"),this.sorting={sortBy:field,order:dir},this.getFilteredData()}},onRowClick:{value:function(row){row&&row.entity&&row.entity.name&&"Name"!==row.entity.name&&this.goToPackage(row.entity.name)}},getColumns:{value:function(){var _this=this;return this.nativeParent.showExtraInfo||!function(){var hiddenColumns=_this.typeSpecific.columnsRemovedForDerby;_this.typeSpecific.packagesTableColumns=_.filter(_this.typeSpecific.packagesTableColumns,function(col){return!_.includes(hiddenColumns,_.isString(col)?col:col.field)})}(),_.map(this.typeSpecific.packagesTableColumns,function(column){var columnObj=void 0;return _.isString(column)?(columnObj=_.cloneDeep(_this.descriptor.common.packagesTableColumns[column]),columnObj.field=column):columnObj=column,columnObj.header.indexOf("@{PACKAGE_ALIAS}")!==-1&&(columnObj.header=columnObj.header.replace("@{PACKAGE_ALIAS}",_this.packageAlias)),columnObj})}},resetReposList:{value:function(){this.reposList&&this.reposList.length&&this.reposList.forEach(function(repo){return repo.isSelected=!1}),this.selectedRepos=null}},getSelectedRepos:{value:function(){var selected=_.filter(this.reposList,function(repo){return repo.isSelected});selected.length?this.selectedRepos=[{id:"repo",comparator:this.descriptor.common.defaultComparator,values:selected.map(function(selectedRepo){return selectedRepo.text})}]:this.selectedRepos=null}},getSelectedFilters:{value:function(){var _this=this,selected=_.filter(this.moreFiltersList,function(filter){return filter.inputTextValue}).map(function(filter){return{id:filter.id,comparator:_this.descriptor.common.defaultComparator,values:[filter.inputTextValue||""]}});this.selectedFilters=selected.length?selected:null}},getFilteredData:{value:function(){var _this=this,noCache=void 0!==arguments[0]&&arguments[0];noCache&&this.nativeParent.cache("packages.list",null),this.getSelectedFilters();var daoParams={filters:this.concatAllActiveFilters(),sortBy:this.sorting.sortBy,order:this.sorting.order};this.moreFiltersList.forEach(function(filter){var actualFilter=_.find(daoParams.filters,{id:filter.id});actualFilter&&actualFilter.values[0]?_this.$stateParams.query[filter.id]=actualFilter.values[0]:delete _this.$stateParams.query[filter.id]}),this.cancelPackageExtraInfo(),this.getPackagesData(daoParams).then(function(){_this.tableViewOptions.setData(_this.packages.list.data),_this.hasSelectedFilters=daoParams.filters.length>0})}},concatAllActiveFilters:{value:function(){var filters=[];return filters=this.selectedFilters?filters.concat(this.selectedFilters):filters,filters=this.selectedRepos?filters.concat(this.selectedRepos):filters}},onPackageTypeChange:{value:function(){this.$stateParams.packageType=this.selectedPackageType.value,localStorage.lastNativeUIPackageType=this.$stateParams.packageType,this.packages={},this.$stateParams.query={},delete this.hasSelectedFilters,this.cancelPackageExtraInfo(),this.initPackagesViewData(this.$stateParams),this.refreshAll()}},onRepoFilterChange:{value:function(){this.getSelectedRepos(),this.selectedRepos&&this.selectedRepos[0]&&this.selectedRepos[0].values?this.$stateParams.query.repos=this.selectedRepos[0].values.join(","):delete this.$stateParams.query.repos}},onExtraFilterChange:{value:function(){this.getSelectedFilters()}},getPackageTypeTemplate:{value:function($item){return'<div>\n                    <i class="icon '+$item.iconClass+'"></i>\n                    <span>'+$item.displayText+"</span>\n                </div>"}},goToPackage:{value:function(packageName){this.cancelPackageExtraInfo(),this.subRouter["goto"]("package",{packageType:this.selectedPackageType.value,"package":packageName})}},calcPackageExtraData:{value:function(row){var _this=this;if(!row.calculated&&!row.calculationPending){var pkgName=row.name,daoParams={"package":pkgName,packageType:this.selectedPackageType.value};return row.calculationPending=!0,this.nativeParent.hostData.getPackageExtraInfo(daoParams).then(function(response){_.merge(row,_this.typeSpecific.transformers["package"](response)),row.calculated=!0,row.calculationPending=!1})}}},cancelPackageExtraInfo:{value:function(){this.nativeParent.hostData.cancelPackageExtraInfo()}},calcPackageDownloads:{value:function(e,row){e.stopPropagation();var pkgName=row.name,daoParams={"package":pkgName,packageType:this.selectedPackageType.value};this.nativeParent.hostData.getPackageDownloadsCount(daoParams).then(function(response){row.downloadsCount=response.totalDownloads,delete row.manualOnDemendDownloadsCount})}}}),PackagesController}();module.exports=PackagesController},function(module,exports){module.exports='<div class="jf-page-wrapper">\n\t<div class="jf-page-header">\n\t\t<div class="jf-header-item">\n\t\t\t<h1>\n\t\t\t\tPackage View\n\t\t\t\t<span>\n                    <i class="native-package-type-icon" ng-class="$ctrl.packageTypeIcon"></i>\n                </span>\n\n\t\t\t\t<span class="package-count" ng-if="$ctrl.packages.list.itemsCount && $ctrl.totalCount === undefined">\n                    {{$ctrl.packages.list.itemsCount ? \'(\'+$ctrl.packages.list.itemsCount+\')\' : \'\'}}\n                </span>\n\t\t\t\t<span class="package-count" ng-if="$ctrl.packages.list.itemsCount && $ctrl.totalCount !== undefined">\n                    {{$ctrl.packages.list.itemsCount ? \'(\'+$ctrl.packages.list.itemsCount : \'\'}} {{$ctrl.totalCount !== undefined ? \'out of \' + $ctrl.totalCount + \')\': \'\'}}\n                </span>\n\t\t\t</h1>\n\t\t\t<span class="filter repo-type">\n                <jf-ui-select\n\t\t                jf-select-placeholder="Select package type..."\n\t\t                jf-select-display-func="$ctrl.getPackageTypeTemplate($item)"\n\t\t                jf-select-model="$ctrl.selectedPackageType"\n\t\t                jf-select-change="$ctrl.onPackageTypeChange()"\n\t\t                jf-select-options="$ctrl.packageTypes">\n                </jf-ui-select>\n            </span>\n\t\t</div>\n\n\t\t<div class="jf-header-item">\n\t\t\t<form>\n\t\t\t\t<div class="filters">\n                    <span class="filter repos-filters">\n                        <native-filters-dropdown\n\t\t                        borderless="false"\n\t\t                        initial-title="$ctrl.initialDropDownPlaceholder"\n\t\t                        on-search-submit="$ctrl.getFilteredData(true)"\n\t\t                        on-change="$ctrl.onRepoFilterChange()"\n\t\t                        repos="$ctrl.reposList"\n\t\t                        extra-filters="$ctrl.moreFiltersList">\n                        </native-filters-dropdown>\n                    </span>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</div>\n\t</div>\n\t<div class="jf-page-content">\n\t\t<div class="jf-main-content-pane">\n\t\t\t<jf-table-view\n\t\t\t\t\tjf-disable-ng-animate\n\t\t\t\t\tng-show="$ctrl.hasSelectedFilters"\n\t\t\t\t\toptions="$ctrl.tableViewOptions"\n\t\t\t\t\tobject-name="Package">\n\t\t\t</jf-table-view>\n\t\t\t<div class="no-filters-message"\n\t\t\t     jf-disable-ng-animate\n\t\t\t     ng-show="!$ctrl.hasSelectedFilters && !$ctrl.$pendingData && $ctrl.ready">\n\t\t\t\t<h1>Add search criteria to display {{$ctrl.typeSpecific.aliases.package}} list</h1>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n';
},function(module,exports,__webpack_require__){"use strict";var _interopRequire=function(obj){return obj&&obj.__esModule?obj["default"]:obj},_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},PackageController=_interopRequire(__webpack_require__(38)),PackageComponent=function PackageComponent(){_classCallCheck(this,PackageComponent),this.template=__webpack_require__(40),this.controller=PackageController,this.bindings={nativeParent:"="}};module.exports=PackageComponent},function(module,exports,__webpack_require__){"use strict";var _toConsumableArray=function(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)},_defineProperty=function(obj,key,value){return Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0})},_createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},rawMockData=__webpack_require__(39).rawMockData,SEVERITIES_COLORS={security_high:"#fbc02d",security_medium:"#fdd981",security_low:"#fef3d5",security_unknown:"#eef5a7",license_high:"#4a7cb8",license_medium:"#92b0d4",license_low:"#dbe5f1",license_unknown:"#6a68f1",downloads:"#6317d3"},PackageController=function(){function PackageController(JFrogSubRouter,$scope,$q,JFrogTableViewOptions,JFrogUIUtils,$rootScope,JFrogModal,NativeUIDescriptor,$window){_classCallCheck(this,PackageController),this.subRouter=JFrogSubRouter.getActiveRouter(),this.$stateParams=this.subRouter.params,this.$scope=$scope,this.$window=$window,this.$q=$q,this.JFrogTableViewOptions=JFrogTableViewOptions,this.jFrogUIUtils=JFrogUIUtils,this.$rootScope=$rootScope,this.modal=JFrogModal,this.descriptor=NativeUIDescriptor.getDescriptor(),this.showSecurityViolations=!0,this.showLicensesViolations=!0,this.showDownloadsStats=!0}return _createClass(PackageController,{$onInit:{value:function(){var _this=this;this.severitiesDictionary={high:"high",medium:"medium",low:"low",unknown:"unknown"},this.oldSeverityModel=["security_critical","security_major","security_minor","security_unknown","license_critical","license_major","license_minor","license_unknown"],this.newSeverityModel=["security_high","security_medium","security_low","security_unknown","license_high","license_medium","license_low","license_unknown"],this.selectedSeveritiesModel=this.newSeverityModel,this.nativeParent.stateController=this;var init=function(){_this.initTable(),_this.limitOptions=["5","10","15"],_this.limitVal="10",_this.dateSpanOptions=[{displayName:"All Times",value:null},{displayName:"Last 24 Hours",value:"LAST_24H"},{displayName:"Last 7 Days",value:"LAST_7D"},{displayName:"Last 14 Days",value:"LAST_14D"}],_this.selectedTimeSpan=_this.dateSpanOptions[0],_this.$scope.$watch("$ctrl.toggleByStringModel",function(){_this.tableViewOptions.update()}),_this.subRouter.listenForChanges(["packageType","package","repos"],"package",function(){_this.getSummaryData(),_this.getPackageData().then(function(){_this.tableViewOptions.setData(_this["package"].versions)})},_this.$scope),_this.summaryColumns=_this.getSummaryColumns()};this.nativeParent.hostData.isXrayEnabled().then(function(response){_this.withXray=response,_this.withXray?_this.getXrayData():_this.chartConfig=_this.getGraphObj()}),this.initConstants(),this.getSummaryData(),this.getPackageData().then(function(){init()})["catch"](function(){_this["package"]={},init()})}},typeSpecific:{get:function(){return this.descriptor.typeSpecific[this.$stateParams.packageType]}},getSummaryData:{value:function(){var _this=this;if("docker"===this.$stateParams.packageType)return this.summaryData={},this.summaryData.installCommand=this.descriptor.typeSpecific[this.$stateParams.packageType].installPrefix+" "+this.$stateParams["package"],this.$q.when();var _ret=function(){var defer=_this.$q.defer(),cached=_this.nativeParent.cache("package.summary");return cached&&_.isEqual(cached.state,_this.$stateParams)?(_this.summaryData=cached.data,defer.resolve()):_this.nativeParent.hostData.getPackageSummary(_this.$stateParams).then(function(summaryData){_this.summaryData=summaryData,_this.nativeParent.cache("package.summary",{data:_this.summaryData,state:_.cloneDeep(_this.$stateParams)}),_this.summaryData.installCommand=_this.descriptor.typeSpecific[_this.$stateParams.packageType].installPrefix+" "+_this.$stateParams["package"],summaryData.latestPath?_this.nativeParent.hostData.getPackageSummaryExtraInfo(_.extend({},_this.$stateParams,{path:summaryData.latestPath})).then(function(summaryExtraData){_.extend(_this.summaryData,summaryExtraData),defer.resolve()}):defer.resolve()})["catch"](console.error),{v:defer.promise}}();return"object"==typeof _ret?_ret.v:void 0}},getPackageData:{value:function(additionalDaoParams){var _this=this;additionalDaoParams=additionalDaoParams||{},additionalDaoParams.sortBy=additionalDaoParams.sortBy||"lastModified",additionalDaoParams.order=additionalDaoParams.order||"desc";var daoParams=_.extend({},this.$stateParams,additionalDaoParams);delete daoParams.repos,daoParams.repoFilter=[],this.$stateParams.query.repos&&daoParams.repoFilter.push({id:"repo",comparator:this.descriptor.common.defaultComparator,values:this.$stateParams.query.repos.split(",")}),this.$stateParams.query.version&&daoParams.repoFilter.push({id:"version",comparator:this.descriptor.common.defaultComparator,values:[this.$stateParams.query.version]}),"docker"===this.$stateParams.packageType&&this.calcPackageDownloads(),this.cancelVersionExtraInfo();var cached=this.nativeParent.cache("package");return cached&&_.isEqual(cached.state,daoParams)?(cached["package"].versions&&cached["package"].versions.forEach(function(row){return delete row.calculationPending}),this["package"]=cached["package"],this.$q.when()):this.nativeParent.hostData.getPackage(daoParams).then(function(pkg){pkg.totalDownloads=_this.totalDownloadsForPackage||0,_this["package"]=_this.descriptor.typeSpecific[_this.$stateParams.packageType].transformers["package"](pkg),_this.nativeParent.cache("package",{"package":_this["package"],state:_.cloneDeep(daoParams)})})}},getXrayData:{value:function(additionalDaoParams){var _this=this;additionalDaoParams=additionalDaoParams||{},additionalDaoParams.sortBy=additionalDaoParams.sortBy||"lastModified",additionalDaoParams.order="asc",additionalDaoParams.with_xray=!0,additionalDaoParams.limit=this.limitVal,this.selectedTimeSpan&&(additionalDaoParams.from=this.selectedTimeSpan.value),additionalDaoParams.$no_spinner=!0,this.nativeParent.hostData.getPackage(additionalDaoParams).then(function(data){if(data.errorStatus)switch(data.errorStatus){case"Incompatible Xray version":_this.xrayError="Incompatible JFrog Xray version. This feature is supported from JFrog Xray 2.4.0 and above.\nUpgrade JFrog Xray to get license and security violations data.\nThis mock-up graph presents what you could see if you had JFrog Xray 2.4.0 and above.",_this.graphData=rawMockData,_this.chartConfig=_this.getGraphObj();break;case"Xray is not available":_this.xrayError="Cannot display data. JFrog Xray is unavailable."}else"docker"==_this.$stateParams.packageType?_this.graphData=data.versions:_this.graphData=data.results,_this.chartConfig=_this.getGraphObj()})}},calcPackageDownloads:{value:function(){var _this=this,daoParams={"package":this.$stateParams["package"],packageType:this.$stateParams.packageType};this.nativeParent.hostData.getPackageDownloadsCount(daoParams).then(function(response){_this["package"]&&(_this["package"].totalDownloads=response.totalDownloads),_this.totalDownloadsForPackage=response.totalDownloads})}},initConstants:{value:function(){this.packageAlias=this.jFrogUIUtils.capitalizeFirstLetter(this.descriptor.typeSpecific[this.$stateParams.packageType].aliases["package"]),this.versionAlias=this.jFrogUIUtils.capitalizeFirstLetter(this.descriptor.typeSpecific[this.$stateParams.packageType].aliases.version),this.packageTypeIcon=this.descriptor.typeSpecific[this.$stateParams.packageType].icons["package"],this.packagesIcon=this.descriptor.typeSpecific[this.$stateParams.packageType].icons.packages}},initTable:{value:function(){var _this=this;this.tableViewOptions=new this.JFrogTableViewOptions(this.$scope),this.columns=this.getTableColumns(),this.tableViewOptions.setColumns(this.columns).setRowsPerPage(20).setEmptyTableText("No "+this.versionAlias+"s").setActions(this.getActions()).sortBy("lastModified").reverseSortingDir().setData(this["package"].versions),this.tableViewOptions.on("row.clicked",this.onRowClick.bind(this)),this.tableViewOptions.useExternalSortCallback(this.onSortChange.bind(this)),this.tableViewOptions.on("row.in.view",function(row){void 0===row.downloadsCount&&("docker"===_this.$stateParams.packageType?_this.calcVersionDownloads(row):_this.nativeParent.showExtraInfo&&_this.calcPackageExtraData(row))})}},onSortChange:{value:function(field,dir){var _this=this;"repo"===field&&(field="repoKey"),this.getPackageData({sortBy:field,order:dir}).then(function(){_this.tableViewOptions.setData(_this["package"].versions)})}},onRowClick:{value:function(row){row&&row.entity&&row.entity.name&&!$(row.event.target).is(".copy-to-clip")&&this.goToVersion(row.entity.name,row.entity.repo||row.entity.repositories[0],row.entity.latestPath)}},getActions:{value:function(){var _this=this;return[{icon:"icon icon-show-in-tree",tooltip:"Show In Tree",callback:function(row){if(row.latestPath)_this.nativeParent.hostData.showInTree({fullpath:row.latestPath});else{var pathParams={repo:row.repo,"package":_this["package"].name,version:row.name};_this.nativeParent.hostData.showInTree(pathParams)}}},{icon:"icon icon-report",tooltip:"View manifest",visibleWhen:function(){return"docker"===_this.$stateParams.packageType},callback:function(row){_this.showManifest(row.name,row.repo)}}]}},getTableColumns:{value:function(){var _this=this;return this.nativeParent.showExtraInfo||!function(){var hiddenColumns=_this.typeSpecific.columnsRemovedForDerby;_this.typeSpecific.versionsTableColumns=_.filter(_this.typeSpecific.versionsTableColumns,function(col){return!_.includes(hiddenColumns,_.isString(col)?col:col.field)})}(),_.map(this.typeSpecific.versionsTableColumns,function(column){var columnObj=void 0;return _.isString(column)?(columnObj=_.cloneDeep(_this.descriptor.common.versionsTableColumns[column]),columnObj.field=column):columnObj=column,columnObj.header.indexOf("@{VERSION_ALIAS}")!==-1&&(columnObj.header=columnObj.header.replace("@{VERSION_ALIAS}",_this.versionAlias)),columnObj})}},goToVersion:{value:function(versionName,repo,path){this.cancelVersionExtraInfo(),this.subRouter["goto"]("version",{packageType:this.$stateParams.packageType,"package":this.$stateParams["package"],repo:repo,versionPath:path,version:versionName})}},goBack:{value:function(){this.subRouter["goto"]("packages",{packageType:this.$stateParams.packageType})}},showManifest:{value:function(versionName,repo){var _this=this,daoParams={packageType:this.$stateParams.packageType,"package":this["package"].name,version:versionName,repo:repo,manifest:!0};this.nativeParent.hostData.getManifest(daoParams).then(function(response){_this.modalScope=_this.$rootScope.$new(),_this.modalScope.modalTitle="Manifest.json",_this.modalScope.closeModal=function(){return _this.modalInstance.close()},_this.modalScope.downloadManifest=function(){_this.jFrogUIUtils.saveTextAsFile(_this.modalScope.manifest,"manifest_"+_this["package"].name+"_"+versionName+".txt"),_this.modalScope.closeModal()},_this.modalScope.manifest=JSON.stringify(angular.fromJson(response.fileContent),null,"\t"),_this.modalInstance=_this.modal.launchModal("manifest.modal",_this.modalScope,"lg")})}},getSummaryColumns:{value:function(){var _this=this;return _.map(this.descriptor.typeSpecific[this.$stateParams.packageType].packageSummaryColumns,function(column){var columnObj=void 0;return columnObj=_.isString(column)?_.cloneDeep(_this.descriptor.common.packageSummaryColumns[column]):column,["label","template"].forEach(function(objField){columnObj[objField]&&columnObj[objField].indexOf("@{PACKAGE_ALIAS}")!==-1&&(columnObj[objField]=columnObj[objField].replace("@{PACKAGE_ALIAS}",_this.packageAlias))}),columnObj})}},calcVersionDownloads:{value:function(row,e){e&&e.stopPropagation();var daoParams={repo:row.repo,"package":this["package"].name,packageType:this.$stateParams.packageType,version:row.name};row.pendingCalculation=!0,this.nativeParent.hostData.getVersionDownloadsCount(daoParams).then(function(response){row.xrayStatus=response.xrayStatus,row.downloadsCount=response.totalDownloads,row.calculated=!0,row.pendingCalculation=!1})}},cancelVersionExtraInfo:{value:function(){this.nativeParent.hostData.cancelVersionExtraInfo()}},calcPackageExtraData:{value:function(row){var _this=this;if(!row.calculated&&!row.calculationPending){var versionName=row.name,daoParams={version:versionName};return row.calculationPending=!0,this.nativeParent.hostData.getVersionExtraInfo(daoParams).then(function(response){_.merge(row,_this.typeSpecific.transformers.version(response)),row.calculated=!0,row.calculationPending=!1})}}},getGraphObj:{value:function(){var _this2=this,_this=(void 0===arguments[0]?"chart":arguments[0],this);return{id:"xray-data-chart",data:{json:_this.getFormattedData(),colors:function(){var _colors={};return _defineProperty(_colors,"security_"+_this.severitiesDictionary.high,SEVERITIES_COLORS.security_high),_defineProperty(_colors,"security_"+_this.severitiesDictionary.low,SEVERITIES_COLORS.security_low),_defineProperty(_colors,"security_"+_this.severitiesDictionary.unknown,SEVERITIES_COLORS.security_unknown),_defineProperty(_colors,"security_"+_this.severitiesDictionary.medium,SEVERITIES_COLORS.security_medium),_defineProperty(_colors,"license_"+_this.severitiesDictionary.low,SEVERITIES_COLORS.license_low),_defineProperty(_colors,"license_"+_this.severitiesDictionary.unknown,SEVERITIES_COLORS.license_unknown),_defineProperty(_colors,"license_"+_this.severitiesDictionary.medium,SEVERITIES_COLORS.license_medium),_defineProperty(_colors,"license_"+_this.severitiesDictionary.high,SEVERITIES_COLORS.license_high),_defineProperty(_colors,"downloads",SEVERITIES_COLORS.downloads),_colors}(),x:"x",keys:{value:["x"].concat(_toConsumableArray(_this.selectedSeveritiesModel),["downloads"])},types:function(){var _types={downloads:"spline"};return _defineProperty(_types,"security_"+_this.severitiesDictionary.unknown,"bar"),_defineProperty(_types,"security_"+_this.severitiesDictionary.low,"bar"),_defineProperty(_types,"security_"+_this.severitiesDictionary.medium,"bar"),_defineProperty(_types,"security_"+_this.severitiesDictionary.high,"bar"),_defineProperty(_types,"license_"+_this.severitiesDictionary.unknown,"bar"),_defineProperty(_types,"license_"+_this.severitiesDictionary.low,"bar"),_defineProperty(_types,"license_"+_this.severitiesDictionary.medium,"bar"),_defineProperty(_types,"license_"+_this.severitiesDictionary.high,"bar"),_types}(),groups:[["security_"+_this.severitiesDictionary.high,"security_"+_this.severitiesDictionary.medium,"security_"+_this.severitiesDictionary.low,"security_"+_this.severitiesDictionary.unknown],["license_"+_this.severitiesDictionary.high,"license_"+_this.severitiesDictionary.medium,"license_"+_this.severitiesDictionary.low,"license_"+_this.severitiesDictionary.unknown]],axes:{downloads:"y2"},onover:function(d){}},tooltip:{contents:function(d,defaultTitleFormat,defaultValueFormat,color){var text,i,title,value,name,bgcolor,$$=this,config=$$.config,titleFormat=function(title){return _this.getFormattedData()[title].x},nameFormat=config.tooltip_format_name||function(name){return _this.removeChart(name)},valueFormat=config.tooltip_format_value||defaultValueFormat;for(i=0;i<d.length;i++)d[i]&&(d[i].value||0===d[i].value)&&(text||(title=titleFormat?titleFormat(d[i].x):d[i].x,text="<table class='"+$$.CLASS.tooltip+"'>"+(title||0===title?"<tr><th colspan='2'>"+title+"</th></tr>":"")),name=nameFormat(d[i].name),value=valueFormat(d[i].value,d[i].ratio,d[i].id,d[i].index),bgcolor=$$.levelColor?$$.levelColor(d[i].value):color(d[i].id),text+="<tr class='"+$$.CLASS.tooltipName+"-"+d[i].id+"'>",text+="<td class='name'><span style='background-color:"+bgcolor+"'></span>"+name+"</td>",text+="<td class='value'>"+value+"</td>",text+="</tr>");return'<div class="'+$$.CLASS.tooltip+' data-point-tooltip"> \n\n<div>\n<span class="tooltip-label">Version: </span>\n<span class="tooltip-value bold">'+title+"</span>\n</div>\n\n"+_this.buildTooltip(d)+"\n\n                    </div>"}},grid:{x:{show:!1},y:{show:!0}},bar:{width:{ratio:.5,max:31},padding:5},axis:{x:{type:"category",tick:{multiline:!0,tooltip:!0,centered:!1,width:70},height:35},y2:{show:!0,label:{text:"Downloads Count",position:"outer-middle"},tick:{format:function(x){return x%1===0?x:""}}},y:{show:!0,label:{text:"Violations Count",position:"outer-middle"},tick:{format:function(x){return x%1===0?x:""}}}},subchart:{show:!1},legend:{contents:{bindto:"#bb-legend",template:function(title,color){return'<span style="position:relative" class="legend-item bb-legend-item"> \n                        <span style="background-color: '+color+'" ></span> '+_this2.removeChart(title)+" </span>"}},item:{onclick:function(){}}},oninit:function(){_this2.legendRendered=!1},onrendered:function(){_this2.legendRendered||(_this2.groupLegends(),_this2.setLinkableLabels())}}}},setLinkableLabels:{value:function(){var _this=this;$(".bb-axis-x g text").each(function(){var _this2=this,version=$(this).find("title").text(),foundDataItem=_.findWhere(_this.finalData,{x:version});foundDataItem&&!function(){var url=foundDataItem.xrayUrl;url&&($(_this2).addClass("link-generated"),$(_this2).click(function(){_this.$window.open(url,"_blank")}))}()})}},groupLegends:{value:function(){this.legendRendered=!0,$("span[class*='legend-item bb-legend-item bb-legend-item-security']").wrapAll("<h4>Security Issues</h4> <div class='security-wrapper' />"),$("span[class*='legend-item bb-legend-item bb-legend-item-license']").wrapAll("<h4>Licenses Issues</h4>  <div class='license-wrapper'/>")}},removeChart:{value:function(txt){return txt.indexOf("_")>-1?_.capitalize(txt.split("_")[1]):_.capitalize(txt)}},getTooltipText:{value:function(type,data){var _this=this;if("download"==type)return _.findWhere(data,{id:"downloads"})?_.findWhere(data,{id:"downloads"}).value:"N/A";if("security"==type||"license"==type){var _ret=function(){var txt="",ObjArr=_.filter(data,function(i){return i.id.indexOf(type+"_")>-1});return _.each(ObjArr,function(val,key){var comma=",";ObjArr.length-1==key&&(comma=""),txt+=_this.removeChart(val.id)+" ("+val.value+")"+comma+" "}),{v:txt}}();if("object"==typeof _ret)return _ret.v}}},buildTooltip:{value:function(d){var securityToolTip="",licenseTooltip="",hasSecurity=_.filter(d,function(i){return i.id.indexOf("security_")>-1}).length>0,hasLicense=_.filter(d,function(i){return i.id.indexOf("license_")>-1}).length>0;return hasSecurity&&(securityToolTip='<div>\n                <span class="tooltip-label">Security Violations: </span>\n                 <span class="tooltip-value bold">'+this.getTooltipText("security",d)+"</span>\n                    </div>"),hasLicense&&(licenseTooltip='<span class="tooltip-label">License Violations: </span>\n<span class="tooltip-value bold">'+this.getTooltipText("license",d)+"</span>\n</div>"),"<div>\n                    "+licenseTooltip+"\n                    "+securityToolTip+'\n\n<div>\n<span class="tooltip-label">Downloads:</span> \n<span class="tooltip-value bold">'+this.getTooltipText("download",d)+"</span>\n</div>"}},getFormattedData:{value:function(){var _this=this,finalDataArr=[];this.withXray||(this.graphData=rawMockData);var aggregatedData=_.countBy(this.graphData,"xrayViolations.version"),duplicatedVersions=_.map(_.filter(_.map(Object.keys(aggregatedData),function(key){return[key,aggregatedData[key]]}),function(e){return e[1]>1}),function(i){return i[0]});if(_.each(this.graphData,function(val,index){_.includes(duplicatedVersions,val.xrayViolations.version)&&(val.xrayViolations.version=val.repoKey+"/"+val.xrayViolations.version);var tmpObj={};_.map(val.xrayViolations.violations.license,function(v,k){tmpObj["license_"+k]=v}),_.map(val.xrayViolations.violations.security,function(v,k){tmpObj["security_"+k]=v});var unScannedFlag="";val.xrayViolations.xrayStatus&&"unscanned"==val.xrayViolations.xrayStatus.toLowerCase()&&(unScannedFlag="(Unscanned)"),_this.withXray?(tmpObj.x=val.xrayViolations.version+" "+unScannedFlag,tmpObj.downloads=val.xrayViolations.totalDownloads):(tmpObj.x=val.version+" "+unScannedFlag,tmpObj.downloads=val.downloads),tmpObj.xrayUrl=val.xrayViolations.detailsUrl,finalDataArr.push(tmpObj)}),finalDataArr[0]){var isOldModel=_.includes(_.keys(finalDataArr[0]),"security_critical");isOldModel&&(this.selectedSeveritiesModel=this.oldSeverityModel,this.severitiesDictionary={high:"critical",medium:"major",low:"minor",unknown:"unknown"})}return this.finalData=finalDataArr,finalDataArr}},groupItems:{value:function(){$("span[class*='legend-item bb-legend-item bb-legend-item-security']").wrapAll("<h3>Security Issues</h3> <div class='security-wrapper' />"),$("span[class*='legend-item bb-legend-item bb-legend-item-license']").wrapAll("<h3>Licenses Issues</h3>  <div class='license-wrapper'/>")}},toggleChart:{value:function(type){var toggleArr=_.map(_.filter(bb.instance[0].data(),function(i){return i.id.indexOf(type)>-1}),"id");bb.instance[0].toggle(toggleArr)}},securityViewState:{value:function(){var state=void 0===arguments[0]?"hide":arguments[0];"hide"===state?bb.instance[0].hide(["security_minor","security_major","security_critical","security_unknown"]):"show"===state&&bb.instance[0].show(["security_minor","security_major","security_critical","security_unknown"])}}}),PackageController}();module.exports=PackageController},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var rawMockData=[{version:"1.02",downloads:120,status:"high(15)",xrayViolations:{violations:{license:{unknown:22,low:42,medium:53,high:30},security:{unknown:22,low:422,medium:123,high:220}}},details_url:"http://xray/..."},{version:"1.03",downloads:130,status:"high(15)",xrayViolations:{violations:{license:{unknown:32,low:42,medium:53,high:320},security:{unknown:52,low:32,medium:23,high:72}}},details_url:"http://xray/..."},{version:"1.1",downloads:640,status:"high(15)",xrayViolations:{violations:{license:{unknown:22,low:52,medium:33,high:80},security:{unknown:0,low:9,medium:33,high:70}}},details_url:"http://xray/..."},{version:"1.2",downloads:120,status:"high(15)",xrayViolations:{violations:{license:{unknown:0,low:0,medium:0,high:14},security:{unknown:0,low:0,medium:3,high:54}}},details_url:"http://xray/..."},{version:"1.3",downloads:100,status:"high(15)",xrayViolations:{violations:{license:{unknown:11,low:2,medium:4,high:120},security:{unknown:12,low:52,medium:33,high:80}}},details_url:"http://xray/..."},{version:"1.4",downloads:180,status:"high(15)",xrayViolations:{violations:{license:{unknown:22,low:21,medium:32,high:60},security:{unknown:32,low:22,medium:23,high:20}}},details_url:"http://xray/..."},{version:"1.5",downloads:500,status:"high(15)",xrayViolations:{violations:{license:{unknown:2,low:2,medium:3,high:20},security:{unknown:2,low:2,medium:3,high:20}}},details_url:"http://xray/..."},{version:"1.6",downloads:4332,status:"high(15)",xrayViolations:{violations:{license:{unknown:0,low:0,medium:0,high:0},security:{unknown:0,low:0,medium:0,high:0}}},details_url:"http://xray/..."},{version:"1.7",downloads:250,status:"high(15)",xrayViolations:{violations:{license:{unknown:2,low:2,medium:3,high:20},security:{unknown:42,low:22,medium:23,high:20}}},details_url:"http://xray/..."},{version:"1.8",downloads:32,status:"high(15)",xrayViolations:{violations:{license:{unknown:22,low:22,medium:13,high:220},security:{unknown:92,low:42,medium:63,high:220}}},details_url:"http://xray/..."},{version:"1.9",downloads:800,status:"high(15)",xrayViolations:{violations:{license:{unknown:32,low:22,medium:13,high:420},security:{unknown:22,low:52,medium:53,high:320}}},details_url:"http://xray/..."}];exports.rawMockData=rawMockData},function(module,exports){module.exports='<div class="jf-page-wrapper">\n    <div class="jf-page-header">\n        <div class="jf-header-item">\n            <h1>Package Viewer\n                <span>\n                    <i class="native-package-type-icon" ng-class="$ctrl.packageTypeIcon"></i>\n                    {{$ctrl.nativeParent.getDisplayNameForPackageType($ctrl.$stateParams.packageType)}}\n                </span>\n            </h1>\n\n            <div class="back-link">\n                <a href ng-click="$ctrl.goBack()" ng-show="$ctrl.packageAlias">\n                    <i class="icon icon-addons-arrow-left"></i>\n                    Back to list of {{$ctrl.packageAlias.toLowerCase()}}s\n                </a>\n            </div>\n        </div>\n    </div>\n    <div class="jf-page-summary">\n        <jf-summary-row\n                ng-if="$ctrl.summaryColumns && $ctrl.summaryData"\n                columns="$ctrl.summaryColumns"\n                parent-scope="$ctrl.$scope">\n        </jf-summary-row>\n    </div>\n    <div class="jf-page-content">\n        <div class="jf-content-section">\n            <div class="jf-main-content-pane">\n                <div class="xray-toggler-wrapper">\n                    <jf-switch-toggler on-toggle="$ctrl.legendRendered = false" model="$ctrl.toggleByStringModel" options="[\'Details\',\'Xray\']"></jf-switch-toggler>\n                </div>\n                <jf-table-view ng-show="$ctrl.toggleByStringModel == \'Details\'"\n                               options="$ctrl.tableViewOptions"\n                               object-name="Package">\n                </jf-table-view>\n\n                <div ng-if="$ctrl.toggleByStringModel == \'Xray\' && ($ctrl.withXray && !$ctrl.graphData && !$ctrl.xrayError)"\n                     class="xray-graph-spinner">\n                    <div class="spinner-msg">\n                        <div class="icon-hourglass"></div>\n                    </div>\n                </div>\n\n                <div ng-class="{\'mock-mode\':!$ctrl.withXray}" class="graph-wrapper" ng-if="$ctrl.toggleByStringModel == \'Xray\' && (!$ctrl.withXray || $ctrl.graphData || $ctrl.xrayError)">\n                    <div class="graph-filters" ng-if="!$ctrl.xrayError">\n                        <div ng-if="$ctrl.withXray" class="dd-wrapper">\n                            <span>\n                                <label>Time Range</label>\n                                <jf-ui-select\n                                        jf-select-placeholder="Time Range"\n                                        jf-select-model="$ctrl.selectedTimeSpan"\n                                        jf-select-change="$ctrl.getXrayData()"\n                                        jf-select-display-attr="displayName"\n                                        jf-select-options="$ctrl.dateSpanOptions">\n                                </jf-ui-select>\n                            </span>\n                            <span>\n                                <label>Limit</label>\n                                <jf-ui-select\n                                        jf-select-placeholder="Limit"\n                                        jf-select-model="$ctrl.limitVal"\n                                        jf-select-change="$ctrl.getXrayData()"\n                                        jf-select-options="$ctrl.limitOptions">\n                                </jf-ui-select>\n                            </span>\n\n\n                        </div>\n\n                        <jf-checkbox text="Security Violations">\n                            <input type="checkbox"\n                                   id="enabled"\n                                   class="security"\n                                   ng-model="$ctrl.showSecurityViolations"\n                                   ng-change="$ctrl.toggleChart(\'security\')">\n                        </jf-checkbox>\n\n                        <jf-checkbox text="License Violations">\n                            <input type="checkbox"\n                                   id="enabled"\n                                   class="license"\n                                   ng-model="$ctrl.showLicensesViolations"\n                                   ng-change="$ctrl.toggleChart(\'license\')">\n                        </jf-checkbox>\n\n                        <jf-checkbox text="Downloads">\n                            <input type="checkbox"\n                                   id="enabled"\n                                   class="downloads"\n                                   ng-model="$ctrl.showDownloadsStats"\n                                   ng-change="$ctrl.toggleChart(\'downloads\')">\n                        </jf-checkbox>\n                    </div>\n                    <div ng-if="!$ctrl.withXray" class="alert alert-info"> <strong> Mock-up.</strong>\n                        <br/>\n\t                    This graph presents what you could see if you had JFrog Xray which is available with:\n\t                    <br/>\n\t                    Artifactory Pro X, Artifactory Enterprise, Artifactory Enterprise+ or Artifactory Cloud Version.\n\t                    <br/>\n\t                    To try this feature on your data, you can start a 30-day free trial of JFrog Xray.\n                        <br/>\n                        <a target="_blank" class="jf-link" href="https://jfrog.com/xray/free-trial/">Click to start your trial.</a>\n                    </div>\n\t                <div ng-if="$ctrl.withXray && $ctrl.xrayError" class="alert alert-danger preserve-lb">{{$ctrl.xrayError}}</div>\n\t                <jf-billboard ng-if="$ctrl.chartConfig" style="display:inline-block" options="$ctrl.chartConfig"></jf-billboard>\n                    <div ng-if="$ctrl.chartConfig" id="bb-legend"></div>\n                </div>\n\n\n            </div>\n        </div>\n    </div>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";var _interopRequire=function(obj){return obj&&obj.__esModule?obj["default"]:obj},_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},PackagesNativeController=_interopRequire(__webpack_require__(42)),PackagesNativeComponent=function PackagesNativeComponent(){_classCallCheck(this,PackagesNativeComponent),this.template=__webpack_require__(43),this.controller=PackagesNativeController,this.bindings={hostData:"=",disabledPackageTypes:"="}};module.exports=PackagesNativeComponent},function(module,exports){"use strict";var _defineProperty=function(obj,key,value){return Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0})},_createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},PackagesNativeController=function(){function PackagesNativeController(JFrogSubRouter,JfFullTextService,$scope,$q,$timeout,NativeUIDescriptor,HostDaoParamFormatter){
_classCallCheck(this,PackagesNativeController),this.$scope=$scope,this.$timeout=$timeout,this.$q=$q,this.JFrogSubRouter=JFrogSubRouter,this.fullTextService=JfFullTextService,this.descriptor=NativeUIDescriptor.getDescriptor(),this.formatter=HostDaoParamFormatter,this.stateController=null}return _createClass(PackagesNativeController,{$onInit:{value:function(){this.wrapHostDataCalls(),this.defaultPackageType=localStorage.lastNativeUIPackageType||"docker",this.initSubRouter()}},initSubRouter:{value:function(){var _this=this;this.subRouter=this.JFrogSubRouter.createLocalRouter({parentScope:this.$scope,urlStructure:"/:packageType/:package/:version/?:repo&:versionPath&:query",hotSyncUrl:!0,encodeSearchParamsAsBase64:"state",states:[{name:"packages",params:{mandatory:["packageType"],nullify:["package","version","repo","versionPath"]}},{name:"package",params:{mandatory:["packageType","package"],nullify:["version","repo","versionPath"]}},{name:"version",params:{mandatory:["packageType","package","version","repo"],nullify:[]}}],onInit:function(){_this.getAvailablePackageTypes().then(function(packageTypes){_this.packageTypes=packageTypes,_this.ensurePackageTypeValidity(),_this.hostData.showExtraInfo().then(function(response){_this.showExtraInfo=response.showExtraInfo,_this.ready=!0})})["catch"](console.error),_this.subRouter.params.packageType||_this.subRouter["goto"]("packages",{packageType:_this.defaultPackageType}),_this.subRouter.params.query?_this.subRouter.params.query=_.pick(_this.subRouter.params.query,_.identity):_this.subRouter.params.query={}},onChangeFromUrl:function(oldParams,newParams){_this.subRouter.params.query||(_this.subRouter.params.query={})},onStateChange:function(oldState,newState){},onInvalidState:function(oldState,params){"version"===oldState&&params["package"]&&params.version&&!params.repo?_this.subRouter["goto"]("package",{packageType:params.packageType,"package":params["package"]}):_this.subRouter["goto"]("packages",{packageType:_this.defaultPackageType})}}),this.subRouter.listenForChanges(["packageType"],null,function(oldP,newP){_this.ensurePackageTypeValidity()},this.$scope)}},ensurePackageTypeValidity:{value:function(){if(this.packageTypes){var foundByParam=_.find(this.packageTypes,{value:this.subRouter.params.packageType});if(!foundByParam||foundByParam.disabled){var lastPackageType=localStorage.lastNativeUIPackageType,found=_.find(this.packageTypes,{value:lastPackageType}),validPackageType=void 0;validPackageType=found&&!found.disabled?lastPackageType:_.find(this.packageTypes,function(pt){return!pt.disabled}).value,_.extend(this.subRouter.params,{packageType:validPackageType,"package":null,version:null,repo:null,query:{}}),this.subRouter.updateUrl(!0)}}}},getAvailablePackageTypes:{value:function(){var _this=this;return this.packageTypes?this.$q.when(this.packageTypes):this.hostData.getPackageTypes().then(function(packageTypes){return packageTypes=_.map(packageTypes,function(pt){return(!_this.descriptor.typeSpecific[pt.value]||_this.descriptor.typeSpecific[pt.value].disabled||_.includes(_this.disabledPackageTypes,pt.value))&&(pt.disabled=!0),pt}),_this.packageTypes=_.sortBy(packageTypes,function(pt){return!!pt.disabled}),_this.packageTypes})}},showAll:{value:function(e,text,title){var asList=void 0!==arguments[3]&&arguments[3],itemClickCB=void 0===arguments[4]?null:arguments[4],windowClass=void 0===arguments[5]?"":arguments[5];e.stopPropagation(),this.fullTextService.showFullTextModal(text,title,590,asList,itemClickCB,windowClass)}},filterByKeyword:{value:function(keyword){var origState=this.subRouter.state,keywordsId=this.descriptor.typeSpecific[this.subRouter.params.packageType].filters.keywords;keywordsId&&(this.subRouter.params["package"]=null,this.subRouter.params.version=null,this.subRouter.params.repo=null,this.subRouter.params.versionPath=null,this.subRouter.params.query=_defineProperty({},keywordsId,keyword)),"packages"===origState&&this.stateController&&this.stateController.initPackagesViewData(this.subRouter.params)}},wrapHostDataCalls:{value:function(){this.formatter.wrapHostDataCalls(this.hostData)}},getDisplayNameForPackageType:{value:function(packageType){if(this.packageTypes){var found=_.find(this.packageTypes,{value:packageType});if(found)return found.displayText}}},cache:{value:function(key,value){if(this.$cache||(this.$cache={}),void 0!==key&&void 0!==value)null===value?delete this.$cache[key]:this.$cache[key]=value;else if(void 0!==key&&this.$cache[key])return this.$cache[key]}}}),PackagesNativeController}();module.exports=PackagesNativeController},function(module,exports){module.exports='<packages-component\n        ng-if="$ctrl.ready && $ctrl.subRouter.state === \'packages\'"\n        native-parent="$ctrl">\n</packages-component>\n\n<package-component\n        ng-if="$ctrl.ready && $ctrl.subRouter.state === \'package\'"\n        native-parent="$ctrl">\n</package-component>\n\n<version-component\n        ng-if="$ctrl.ready && $ctrl.subRouter.state === \'version\'"\n        native-parent="$ctrl">\n</version-component>'},function(module,exports,__webpack_require__){"use strict";var _interopRequire=function(obj){return obj&&obj.__esModule?obj["default"]:obj},_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},VersionController=_interopRequire(__webpack_require__(45)),VersionComponent=function VersionComponent(){_classCallCheck(this,VersionComponent),this.template=__webpack_require__(46),this.controller=VersionController,this.bindings={nativeParent:"="}};module.exports=VersionComponent},function(module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},VersionController=function(){function VersionController(JFrogSubRouter,$scope,$q,JFrogUIUtils,NativeUIDescriptor){_classCallCheck(this,VersionController),this.subRouter=JFrogSubRouter.getActiveRouter(),this.$stateParams=this.subRouter.params,this.$scope=$scope,this.$q=$q,this.jFrogUIUtils=JFrogUIUtils,this.descriptor=NativeUIDescriptor.getDescriptor(),this.widgetsOptions={outerPadding:0,padding:15,expandablePanes:!0,sharedModel:{versionCtrl:this}}}return _createClass(VersionController,{$onInit:{value:function(){var _this=this;this.nativeParent.stateController=this,this.getSummaryData(),this.getVersionData(this.$stateParams).then(function(){_this.initConstants(),_this.nativeParent.hostData.isXrayEnabled().then(function(response){console.log("Xray Available?",response),_this.withXray=response}),_this.summaryColumns=_this.getSummaryColumns(),_this.subRouter.listenForChanges(["packageType","package","version"],"version",function(){_this.getSummaryData(),_this.getVersionData(_this.$stateParams)},_this.$scope)})}},initConstants:{value:function(){this.packageAlias=this.jFrogUIUtils.capitalizeFirstLetter(this.descriptor.typeSpecific[this.$stateParams.packageType].aliases["package"]),this.versionAlias=this.jFrogUIUtils.capitalizeFirstLetter(this.descriptor.typeSpecific[this.$stateParams.packageType].aliases.version),this.packageTypeIcon=this.descriptor.typeSpecific[this.$stateParams.packageType].icons["package"],this.versionIcon=this.descriptor.typeSpecific[this.$stateParams.packageType].icons.version}},getVersionData:{value:function(daoParams){var _this=this;return"docker"===this.$stateParams.packageType?this.nativeParent.hostData.getVersion(daoParams).then(function(version){_this.version=_this.descriptor.typeSpecific[daoParams.packageType].transformers.version(version)}):this.$q.when()}},getSummaryData:{value:function(){var _this=this;return"docker"===this.$stateParams.packageType?(this.summaryData={},this.$q.when()):void this.nativeParent.hostData.getVersionSummary(this.$stateParams).then(function(summaryData){_this.summaryData=summaryData,_this.summaryData.installCommand=_this.descriptor.typeSpecific[_this.$stateParams.packageType].installPrefix+" "+_this.$stateParams["package"],summaryData.latestPath&&_this.nativeParent.hostData.getVersionSummaryExtraInfo(_.extend({},_this.$stateParams,{path:summaryData.latestPath})).then(function(summaryExtraData){_.extend(_this.summaryData,summaryExtraData)})})}},goBack:{value:function(){this.subRouter["goto"]("package",{packageType:this.$stateParams.packageType,"package":this.$stateParams["package"]})}},getSummaryColumns:{value:function(){var _this=this;return _.map(this.descriptor.typeSpecific[this.$stateParams.packageType].versionSummaryColumns,function(column){var columnObj=void 0;return columnObj=_.isString(column)?_.cloneDeep(_this.descriptor.common.versionSummaryColumns[column]||_this.descriptor.common.packageSummaryColumns[column]):column,["label","template"].forEach(function(key){columnObj[key]&&columnObj[key].indexOf("@{PACKAGE_ALIAS}")!==-1&&(columnObj[key]=columnObj[key].replace("@{PACKAGE_ALIAS}",_this.packageAlias)),columnObj[key]&&columnObj[key].indexOf("@{VERSION_ALIAS}")!==-1&&(columnObj[key]=columnObj[key].replace("@{VERSION_ALIAS}",_this.versionAlias))}),columnObj})}}}),VersionController}();module.exports=VersionController},function(module,exports){module.exports='<div class="jf-page-wrapper"\n        ng-class="{\'with-xray\': $ctrl.withXray}">\n    <div class="jf-page-header">\n        <div class="jf-header-item">\n            <h1>Package Viewer\n                <span>\n                    <i class="native-package-type-icon" ng-class="$ctrl.packageTypeIcon"></i>\n                    {{$ctrl.nativeParent.getDisplayNameForPackageType($ctrl.$stateParams.packageType)}}\n                </span>\n            </h1>\n\n            <div class="back-link">\n                <a href ng-click="$ctrl.goBack()" ng-show="$ctrl.versionAlias">\n                    <i class="icon icon-addons-arrow-left"></i>\n                    Back to list of {{$ctrl.versionAlias.toLowerCase()}}s\n                </a>\n            </div>\n        </div>\n    </div>\n    <div class="jf-page-summary">\n        <jf-summary-row\n                ng-if="$ctrl.summaryColumns && $ctrl.summaryData"\n                columns=$ctrl.summaryColumns\n                parent-scope="$ctrl.$scope">\n        </jf-summary-row>\n    </div>\n\n    <div class="jf-page-content">\n        <div class="jf-content-section">\n            <div class="jf-main-content-pane">\n\t            <jf-widgets-layout widgets="$ctrl.descriptor.common.widgets"\n\t                               layout="$ctrl.descriptor.typeSpecific[$ctrl.$stateParams.packageType].widgetsLayout"\n\t                               options="$ctrl.widgetsOptions"></jf-widgets-layout>\n\n            </div>\n        </div>\n    </div>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},NativeFiltersDropdown=function NativeFiltersDropdown(){_classCallCheck(this,NativeFiltersDropdown),this.template=__webpack_require__(48),this.controller=NativeFiltersDropdownController,this.bindings={initialTitle:"=",label:"@",filterPlaceholder:"@",repos:"=",extraFilters:"=",disabled:"=?",onChange:"&?",noSort:"=?",onOpenStateChange:"&?",dropdownOpened:"=",showSelected:"@",noSelectedFirst:"=?",borderless:"<?",onSearchSubmit:"&?"}};module.exports=NativeFiltersDropdown;var NativeFiltersDropdownController=function(){function NativeFiltersDropdownController($scope,$filter,$element){var _this=this;_classCallCheck(this,NativeFiltersDropdownController),this.$scope=$scope,this.$element=$element,this.filter=$filter("filter"),this.opened=!1,this.handleOutsideClick(),this.$scope.$watch("NativeFiltersDropdown.repos",function(newVal,oldVal){newVal&&_this.sortItems()}),this.$scope.$watch("NativeFiltersDropdown.dropdownOpened",function(val){if(val===!0){if(!_this.repos)return;_this.opened=!0,_this.filterText=""}else val===!1&&(_this.opened=!1,_this.filterText="")})}return _createClass(NativeFiltersDropdownController,{sendOpenStateChange:{value:function(){this.onOpenStateChange&&this.onOpenStateChange({opened:this.opened})}},handleOutsideClick:{value:function(){var _this=this,handler=function(e){var outside=!$(e.target).parents(".native-filters-dropdown").length||$(e.target).parents(".native-filters-dropdown")[0]!==$(_this.$element).find(".native-filters-dropdown")[0];outside&&(_this.opened=!1,_this.sendOpenStateChange(),_this.sortItems()),_this.$scope.$apply()};$(document).on("click",handler),this.$scope.$on("$destroy",function(){$(document).off("click",handler)})}},getSelectedForTitle:{value:function(){var selected=this.selectedItems();return selected&&selected.length?selected.join("; "):this.initialTitle}},onClick:{value:function(){if(this.disabled!==!0){if(!this.repos)return;this.opened=!this.opened,this.sendOpenStateChange(),this.opened||this.sortItems(),this.filterText=""}}},applyChanges:{value:function(){this.onChange&&this.onChange()}},selectedItems:{value:function(){var selected=_.filter(this.extraFilters,function(filter){return filter.inputTextValue}).concat(_.filter(this.repos,function(repo){return repo.isSelected})).map(function(s){return s.inputTextValue||s.text});return selected}},sortItems:{value:function(){if(!this.noSelectedFirst&&this.repos){var selected=this.noSort?_.filter(this.repos,function(repo){return repo.isSelected}):_.sortBy(_.filter(this.repos,function(item){return item.isSelected}),"text"),unSelected=this.noSort?_.filter(this.repos,function(repo){return!repo.isSelected}):_.sortBy(_.filter(this.repos,function(repo){return!repo.isSelected}),"text");this.lastSelectedIndex=selected.length-1;var combined=selected.concat(unSelected);this.repos.splice.apply(this.repos,[0,this.repos.length].concat(combined))}}},selectAll:{value:function(){this.filter(this.repos,this.filterText).forEach(function(repo){repo.disabled||(repo.isSelected=!0)}),this.applyChanges()}},unSelectAll:{value:function(){this.filter(this.repos,this.filterText).forEach(function(repo){repo.disabled||(repo.isSelected=!1)}),this.applyChanges()}},onSelection:{value:function(){this.applyChanges()}},clearSelection:{value:function(){this.extraFilters&&_.forEach(this.extraFilters,function(filter){filter.inputTextValue=""}),this.unSelectAll()}},onSubmit:{value:function(){this.opened=!1,this.onSearchSubmit()}},onKeyPress:{value:function(e){"Enter"!==e.key&&13!==e.keyCode||this.onSubmit()}},isMainFilterDisabled:{value:function(){var selected=this.selectedItems();return selected.length>1&&this.extraFilters[0].inputTextValue||selected.length>0&&!this.extraFilters[0].inputTextValue}}}),NativeFiltersDropdownController}()},function(module,exports){module.exports='<div ng-class="{\'disabled\':$ctrl.disabled}" class="native-filters-dropdown">\n\t<label ng-if="$ctrl.label">\n\t\t{{$ctrl.label}}\n\t</label>\n\t<div class="main-box"\n\t     ng-class="{\'selected-view\' : $ctrl.selectedItems().length, \'disabled-style\': $ctrl.isMainFilterDisabled()}">\n\t\t<span ng-click="$ctrl.isMainFilterDisabled() && $ctrl.onClick()">\n\t\t\t<input type="text"\n\t\t\t       class="input-text"\n\t\t\t       jf-disable-ng-animate\n\t\t\t       ng-show="!$ctrl.isMainFilterDisabled()"\n\t\t\t       ng-keypress="$ctrl.onKeyPress($event)"\n\t\t\t       placeholder="{{$ctrl.getSelectedForTitle()}}"\n\t\t\t       ng-model="$ctrl.extraFilters[0].inputTextValue"/>\n\t\t\t<input type="text"\n\t\t\t       class="input-text not-disabled-style"\n\t\t\t       jf-disable-ng-animate\n\t\t\t       ng-show="$ctrl.isMainFilterDisabled()"\n\t\t\t       placeholder="{{$ctrl.getSelectedForTitle()}}"\n\t\t\t       disabled/>\n\t\t\t<i class="icon icon-clear"\n\t\t\t   ng-if="$ctrl.selectedItems().length"\n\t\t\t   ng-click="$ctrl.clearSelection()"></i>\n\t\t\t<i class="icon icon-addons-arrow-right pull-right" ng-click="!$ctrl.isMainFilterDisabled() && $ctrl.onClick()"></i>\n\t\t\t<i class="icon icon-search" ng-click="$ctrl.onSubmit(); $event.stopPropagation();"></i>\n\t\t</span>\n\t</div>\n\t<div ng-if="$ctrl.opened"\n\t     class="drop-down-container">\n\t\t<div class="extra-filters-container">\n\t\t\t<div ng-if="$ctrl.extraFilters.length" class="list-container">\n\t\t\t\t<div class="extra-filter form-group"\n\t\t\t\t     ng-repeat="item in $ctrl.extraFilters track by $index"\n\t\t\t\t     ng-class="{\'disabled\': item.disabled}">\n\t\t\t\t\t<label>\n\t\t\t\t\t\t{{ item.text }}\n\t\t\t\t\t</label>\n\t\t\t\t\t<div class="text-input-wrapper">\n\t\t\t\t\t\t<input autofocus="{{ ($index === 1) }}"\n\t\t\t\t\t\t\t\ttype="text"\n\t\t\t\t\t            name="items-filter"\n\t\t\t\t\t            class="input-text"\n    \t\t\t\t            ng-keypress="$ctrl.onKeyPress($event)"\n\t\t\t\t\t            ng-model="item.inputTextValue"\n\t\t\t\t\t            placeholder="{{item.inputPlaceholder || \'Free text\'}}" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="repos-container">\n\t\t\t<div class="filter-container">\n\t\t\t\t<form>\n\t\t\t\t\t<jf-field>\n\t\t\t\t\t\t<label>Repositories</label>\n\t\t\t\t\t\t<input type="text"\n\t\t\t\t\t\t       name="items-filter"\n\t\t\t\t\t\t       class="input-text"\n\t\t\t\t\t\t       ng-model="$ctrl.filterText"\n\t\t\t\t\t\t       placeholder="Filter repositories"/>\n\t\t\t\t\t</jf-field>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t\t<div ng-if="$ctrl.repos.length" class="list-container">\n\t\t\t\t<div class="drop-down-item"\n\t\t\t\t     ng-repeat="item in $ctrl.repos | filter:{text: $ctrl.filterText} track by $index"\n\t\t\t\t     ng-class="{\'last-selected\': $index === $ctrl.lastSelectedIndex && !$ctrl.filterText, \'disabled\': item.disabled}">\n\t\t\t\t\t<label class="jf-checkbox">\n\t\t\t\t\t\t<input type="checkbox"\n\t\t\t\t\t\t       ng-disabled="item.disabled"\n\t\t\t\t\t\t       ng-change="$ctrl.onSelection()"\n\t\t\t\t\t\t       ng-model="item.isSelected">\n\t\t\t\t\t\t<span></span> <i ng-if="item.iconClass" class="item-icon" ng-class="item.iconClass"></i> {{ item.text }}\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="batch-action-buttons"\n\t\t\t     ng-if="$ctrl.repos.length">\n\t\t\t\t<button type="button"\n\t\t\t\t\t\tclass="btn btn-default"\n\t\t\t\t        ng-click="$ctrl.selectAll()">\n\t\t\t\t\t<i class="icon icon-notif-success"></i>\n\t\t\t\t\tSelect All\n\t\t\t\t</button>\n\t\t\t\t<button class="btn btn-default"\n\t\t\t\t        type="button"\n\t\t\t\t        ng-click="$ctrl.unSelectAll()">\n\t\t\t\t\t<i class="icon icon-trashcan"></i>\n\t\t\t\t\tClear All\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div ng-if="!$ctrl.repos.length"\n\t\t\t     class="list-container">\n\t\t\t\t<div class="no-items-message">\n\t\t\t\t\tNo Repositories\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="batch-actions pull-right">\n\t\t\t<button class="btn btn-secondary"\n\t\t\t        type="button"\n\t\t\t\t\tng-click="$ctrl.clearSelection()">\n\t\t\t\tClear Form\n\t\t\t</button>\n\t\t\t<button class="btn btn-primary"\n\t\t\t        type="submit"\n\t\t\t\t\tng-click="$ctrl.onSubmit()">\n\t\t\t\tSearch\n\t\t\t</button>\n\t\t</div>\n\t</div>\n</div>\n'}]),!function(module){try{module=angular.module("templates.3184")}catch(err){module=angular.module("templates.3184",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("modal_templates/manifest.modal.html",'<div class="modal-header">\n\t<button type="button"\n\t        class="close"\n\t        data-dismiss="close"\n\t        aria-label="Close"\n\t        ng-click="$close(true)"><span\n\t\t\taria-hidden="true">&times;</span>\n\t</button>\n\t<h3 class="modal-title">{{modalTitle}}</h3>\n</div>\n<div class="modal-body manifest-modal">\n\t<div class="manifest">\n\t\t<jf-clip-copy\n\t\t\t\ttext-to-copy="manifest"\n\t\t\t\tobject-name="manifest"\n\t\t\t\tclass="code-mirror-copy">\n\t\t</jf-clip-copy>\n\n\t\t<jf-code-mirror mime-type="xml"\n\t\t                height="350px"\n\t\t                model="manifest"\n\t\t                allowEdit="false">\n\t\t</jf-code-mirror>\n\t</div>\n</div>\n\n<div class="modal-footer">\n\t<button class="btn btn-secondary"\n\t        ng-click="$close(true)">\n\t\tClose\n\t</button>\n\t<button class="btn btn-primary"\n\t        ng-click="downloadManifest()">\n\t\tDownload\n\t</button>\n</div>\n')}])}(),function(module){try{module=angular.module("templates.3184")}catch(err){module=angular.module("templates.3184",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_docker_v2_layers/jf_docker_v2_layers.html",'<div class="docker-v2-layers-visualization">\n    <div class="layers-container">\n        <ul class="docker-v2-layer-container">\n        <jf-docker-v2-layer ng-repeat="layer in jfDockerV2Layers.data track by $index"\n                            parent="jfDockerV2Layers"\n                            data="layer"\n                            preselected="$index === 0"\n                            is-base="$index === jfDockerV2Layers.data.length-1"\n                            is-upper="$index === 0">\n        </jf-docker-v2-layer>\n        </ul>\n    </div>\n</div>')}])}(),function(module){try{module=angular.module("templates.3184")}catch(err){module=angular.module("templates.3184",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_docker_v2_layer/jf_docker_v2_layer.html",'<li class="layer"\n        ng-click="jfDockerV2Layer.setSelected(true)"\n        ng-style="{borderLeftColor: jfDockerV2Layer.COLOR_MAP[jfDockerV2Layer.data.command]}"\n        ng-class="{\'selected\':jfDockerV2Layer.isSelected(),\'open-layer\': !jfDockerV2Layer.collapsed}">\n    <div class="title"\n            ng-click="jfDockerV2Layer.collapsed = !jfDockerV2Layer.collapsed"\n            ng-class="{open: !jfDockerV2Layer.collapsed}">\n        <i class="icon icon-addons-arrow-right"></i>\n        {{jfDockerV2Layer.data.command}}\n        <span class="current-node-name"\n                ng-if="jfDockerV2Layer.isUpper">\n            {{jfDockerV2Layer.parent.currentPath.substr(jfDockerV2Layer.parent.currentPath.lastIndexOf(\'/\') + 1)}}\n        </span>\n        <span class="layer-id-display">\n            {{jfDockerV2Layer.data.shortId}}\n        </span>\n    </div>\n    <ul class="layer-details" collapse="jfDockerV2Layer.collapsed">\n\n        <li class="id" ng-if="jfDockerV2Layer.data.id">\n            <i class="icon icon-docker-id" jf-tooltip="ID"></i>\n            <span jf-tooltip-on-overflow>\n                {{jfDockerV2Layer.data.id}}\n            </span>\n        </li>\n        <li class="id" ng-if="jfDockerV2Layer.data.digest">\n            <i class="icon icon-docker-digest" jf-tooltip="Digest"></i>\n            <span jf-tooltip-on-overflow>\n                {{jfDockerV2Layer.data.digest}}\n            </span>\n        </li>\n        <li class="id">\n            <i class="icon icon-docker-command" jf-tooltip="Command"></i>\n            <span class="commandtext" jf-tooltip-on-overflow trust-tooltip-text="true">\n                {{jfDockerV2Layer.data.commandText}}\n            </span>\n        </li>\n        <li class="inline-cells">\n            <div jf-tooltip-on-overflow>\n                <i class="icon icon-docker-created" jf-tooltip="Created"></i>\n                {{jfDockerV2Layer.created}}\n            </div>\n            <div jf-tooltip-on-overflow>\n                <i class="icon icon-docker-size" jf-tooltip="Size"></i>\n                {{jfDockerV2Layer.data.size}}\n            </div>\n        </li>\n\n    </ul>\n</li>\n')}])}(),function(module){try{module=angular.module("templates.3184")}catch(err){module=angular.module("templates.3184",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("ui_components/packages_native/packages.native.view.html",'<packages-component\n        ng-if="$ctrl.ready && $ctrl.subRouter.state === \'packages\'"\n        native-parent="$ctrl">\n</packages-component>\n\n<package-component\n        ng-if="$ctrl.ready && $ctrl.subRouter.state === \'package\'"\n        native-parent="$ctrl">\n</package-component>\n\n<version-component\n        ng-if="$ctrl.ready && $ctrl.subRouter.state === \'version\'"\n        native-parent="$ctrl">\n</version-component>')}])}(),function(module){try{module=angular.module("templates.3184")}catch(err){module=angular.module("templates.3184",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("constants/templates/packages.downloads-count.cell.template.html",'<div class="downloads-count no-cm-action"\n     disable-tooltip-on-overflow>\n\t<jf-pending-data wait-for="row.entity.downloadsCount">\n\t\t{{ row.entity.downloadsCount}} Download{{row.entity.downloadsCount === 1 ? \'\' : \'s\' }}\n\t</jf-pending-data>\n<!--\n\t<div ng-if="row.entity.downloadsCount !== undefined">\n\t\t<i class="icon icon-download"></i>\n\t\t<span>\n            {{ row.entity.downloadsCount}} Download{{row.entity.downloadsCount === 1 ? \'\' : \'s\' }}\n\t    </span>\n\t</div>\n\t<div ng-if="row.entity.downloadsCount === undefined && row.entity.manualOnDemendDownloadsCount">\n\t\t<i class="icon icon-download"></i>\n\t\t<span class="show-download-count"\n\t\t      jf-tooltip="Click to calculate"\n\t\t      ng-click="appScope.$ctrl.calcPackageDownloads($event,row.entity)">\n        Show downloads count\n    </span>\n\t</div>\n\t<div ng-if="row.entity.downloadsCount === undefined && !row.entity.manualOnDemendDownloadsCount">\n        &#45;&#45;\n\t</div>\n-->\n</div>\n')}])}(),function(module){try{module=angular.module("templates.3184")}catch(err){module=angular.module("templates.3184",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("constants/templates/packages.keywords.cell.template.html",'<div class="keywords-wrap" disable-tooltip-on-overflow>\n\t<jf-pending-data wait-for="row.entity.keywords">\n\t\t<div class="keyword"\n\t\t     ng-repeat="keyword in row.entity.keywords.slice(0,3)"\n\t\t     ng-click="appScope.$ctrl.nativeParent.filterByKeyword(keyword); $event.stopPropagation()"\n\t\t     ng-style="{\'max-width\': row.entity.keywords.length > 3 ? \'25%\' : row.entity.keywords.length > 0 ? (100/row.entity.keywords.length) + \'%\' : 0}"\n\t\t     jf-tooltip-on-overflow>\n\t\t\t{{keyword}}\n\t\t</div>\n\n\t\t<div class="keyword"\n\t\t     ng-if="row.entity.keywords.length > 3"\n\t\t     jf-tooltip="{{\'Show All (\' + row.entity.keywords.length + \')\'}}"\n\t\t     ng-click="appScope.$ctrl.nativeParent.showAll($event,row.entity.keywords, \'Keywords\', true, appScope.$ctrl.nativeParent.filterByKeyword.bind(appScope.$ctrl.nativeParent), \'keywords-modal\')">\n\t\t\t...\n\t\t</div>\n\t</jf-pending-data>\n</div>')}])}(),function(module){try{module=angular.module("templates.3184")}catch(err){module=angular.module("templates.3184",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("constants/templates/packages.repositories.cell.template.html",'<div class="repositories no-cm-action"\n        ng-click="appScope.$ctrl.nativeParent.showAll($event,row.entity.repositories, \'Repositories\')"\n        disable-tooltip-on-overflow>\n\t<span jf-tooltip="Click text for full list">\n\t\t{{appScope.$ctrl.jFrogUIUtils.stringifyData(row.entity.repositories,\' : \')}}\n\t</span>\n</div>')}])}(),function(module){try{module=angular.module("templates.3184")}catch(err){module=angular.module("templates.3184",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("constants/templates/packages.versions-count.cell.template.html",'<div class="versions-count" disable-tooltip-on-overflow>\n    <jf-pending-data wait-for="row.entity.versionsCount">\n        <div class="icon-wrapper">\n            <i class="icon"\n               ng-class="appScope.$ctrl.versionIcon">\n            </i>\n        </div>\n        {{row.entity.versionsCount || 0 }} {{appScope.$ctrl.versionAlias}}{{row.entity.versionsCount === 1 ? \'\' : \'s\'}}\n    </jf-pending-data>\n<!--\n    <div ng-if="row.entity.versionsCount !== undefined">\n        <div class="icon-wrapper">\n            <i class="icon"\n               ng-class="appScope.$ctrl.versionIcon">\n            </i>\n        </div>\n        {{row.entity.versionsCount || 0 }} {{appScope.$ctrl.versionAlias}}{{row.entity.versionsCount === 1 ? \'\' : \'s\'}}\n    </div>\n    <div ng-if="row.entity.versionsCount === undefined">\n        &#45;&#45;\n    </div>\n-->\n</div>\n')}])}(),function(module){try{module=angular.module("templates.3184")}catch(err){module=angular.module("templates.3184",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("constants/templates/versions.downloads-count.cell.template.html",'<div class="downloads-count"\n     disable-tooltip-on-overflow>\n\t<jf-pending-data wait-for="row.entity.downloadsCount">\n\t\t<i class="icon icon-download"></i>\n\t\t{{ row.entity.downloadsCount || 0 }} Download{{row.entity.downloadsCount === 1 ? \'\' : \'s\' }}\n\t</jf-pending-data>\n\n<!--\n\t<i class="icon icon-download"></i>\n\t<span class="show-download-count no-cm-action"\n\t      jf-tooltip="Click to calculate"\n\t      ng-click="appScope.$ctrl.calcVersionDownloads(row.entity, $event)"\n\t      ng-if="row.entity.downloadsCount === undefined && row.entity.manualOnDemendDownloadsCount">\n        Show downloads count\n    </span>\n\t<span ng-if="row.entity.downloadsCount !== undefined && !row.entity.pendingCalculation">\n        {{ row.entity.downloadsCount || 0 }} Download{{row.entity.downloadsCount === 1 ? \'\' : \'s\' }}\n    </span>\n\t<span ng-if="row.entity.pendingCalculation">\n\t\t&#45;&#45;\n\t</span>\n-->\n</div>')}])}(),function(module){try{module=angular.module("templates.3184")}catch(err){module=angular.module("templates.3184",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("constants/templates/versions.name.cell.template.html",'<div class="name"\n     cm-additional-action="View version"\n     cm-additional-action-icon="icon-docker-tags">\n\t{{row.entity.name}}\n</div>')}])}(),function(module){try{module=angular.module("templates.3184")}catch(err){module=angular.module("templates.3184",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("constants/templates/versions.package-id.cell.template.html",'<div disable-tooltip-on-overflow jf-disable-ng-animate>\n\t<jf-clip-copy\n\t\t\ttext-to-copy="row.entity.packageId"\n\t\t\tobject-name="Digest">\n\t</jf-clip-copy>\n\t<div class="package-id" jf-tooltip-on-overflow>{{ row.entity.packageId }}</div>\n</div>')}])}(),function(module){try{module=angular.module("templates.3184")}catch(err){module=angular.module("templates.3184",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("version_data_widgets/builds/builds_widget.html",'<div class="version-widget-container">\n\t<jf-table-view\n\t\t\toptions="ctrl.tableViewOptions">\n\t</jf-table-view>\n</div>')}])}(),function(module){try{module=angular.module("templates.3184")}catch(err){module=angular.module("templates.3184",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("version_data_widgets/dependencies/dependencies_widget.html",'<div class="version-widget-container">\n\t<div ng-if="ctrl.data.dependencies.length">\n\t\t<div class="widget-title">Dependencies</div>\n\t\t<div class="dependencies-list">{{ctrl.data.dependencies.join(\', \')}}</div>\n\t\t<hr/>\n\t</div>\n\t<div ng-if="ctrl.data.devDependencies.length">\n\t\t<div class="widget-title">Dev Dependencies</div>\n\t\t<div class="dependencies-list">{{ctrl.data.devDependencies.join(\', \')}}</div>\n\t</div>\n\t<div ng-if="!ctrl.data.devDependencies.length && !ctrl.data.dependencies.length">\n\t\t<div class="widget-title">Dependencies: No Dependencies</div>\n\t</div>\n</div>');
}])}(),function(module){try{module=angular.module("templates.3184")}catch(err){module=angular.module("templates.3184",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("version_data_widgets/docker_layers/docker_layers_widget.html",'<div class="version-widget-container docker-layers">\n    <ul ng-if="ctrl.features.isJCRDemo()" class="nav nav-tabs">\n        <li ng-click="ctrl.tabClicked(tab)" ng-class="{active:ctrl.isActive(tab)}" ng-repeat="tab in ctrl.tabs"\n            class="jf-tabs-tab-header">\n            <a>{{tab}}</a>\n        </li>\n    </ul>\n    <div class="content-wrapper">\n        <jf-docker-v2-layers\n                ng-if="ctrl.activeTab === \'Layers\' || !ctrl.features.isJCRDemo()"\n                controller="ctrl.$scope.versionCtrl"\n                data="ctrl.$scope.versionCtrl.version.layers"\n                current-path="a/latest">\n        </jf-docker-v2-layers>\n        <div ng-if="ctrl.features.isJCRDemo()" class="xuc-wrapper" ng-if="ctrl.activeTab === \'Security Vulnerabilities\' ">\n            <jf-xuc-data version="ctrl.version" package-id="ctrl.package_id" data="ctrl.mockData"></jf-xuc-data>\n        </div>\n    </div>\n</div>\n\n')}])}(),function(module){try{module=angular.module("templates.3184")}catch(err){module=angular.module("templates.3184",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("version_data_widgets/properties/properties_widget.html",'<div class="version-widget-container">\n\t<jf-table-view\n\t\t\toptions="ctrl.tableViewOptions">\n\t</jf-table-view>\n</div>')}])}(),function(module){try{module=angular.module("templates.3184")}catch(err){module=angular.module("templates.3184",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("version_data_widgets/readme/readme_widget.html",'<div class="version-widget-container">\n\t<div class="widget-title">Readme</div>\n\t<jf-markup-editor markup="ctrl.readme"\n\t                  language="\'Markdown\'"\n\t                  mode="\'View\'"\n\t                  editable="false"\n\t                  show-controls="false"></jf-markup-editor>\n</div>')}])}(),function(module){try{module=angular.module("templates.3184")}catch(err){module=angular.module("templates.3184",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("ui_components/packages_native/components/filters_dropdown/native.filters.dropdown.view.html",'<div ng-class="{\'disabled\':$ctrl.disabled}" class="native-filters-dropdown">\n\t<label ng-if="$ctrl.label">\n\t\t{{$ctrl.label}}\n\t</label>\n\t<div class="main-box"\n\t     ng-class="{\'selected-view\' : $ctrl.selectedItems().length, \'disabled-style\': $ctrl.isMainFilterDisabled()}">\n\t\t<span ng-click="$ctrl.isMainFilterDisabled() && $ctrl.onClick()">\n\t\t\t<input type="text"\n\t\t\t       class="input-text"\n\t\t\t       jf-disable-ng-animate\n\t\t\t       ng-show="!$ctrl.isMainFilterDisabled()"\n\t\t\t       ng-keypress="$ctrl.onKeyPress($event)"\n\t\t\t       placeholder="{{$ctrl.getSelectedForTitle()}}"\n\t\t\t       ng-model="$ctrl.extraFilters[0].inputTextValue"/>\n\t\t\t<input type="text"\n\t\t\t       class="input-text not-disabled-style"\n\t\t\t       jf-disable-ng-animate\n\t\t\t       ng-show="$ctrl.isMainFilterDisabled()"\n\t\t\t       placeholder="{{$ctrl.getSelectedForTitle()}}"\n\t\t\t       disabled/>\n\t\t\t<i class="icon icon-clear"\n\t\t\t   ng-if="$ctrl.selectedItems().length"\n\t\t\t   ng-click="$ctrl.clearSelection()"></i>\n\t\t\t<i class="icon icon-addons-arrow-right pull-right" ng-click="!$ctrl.isMainFilterDisabled() && $ctrl.onClick()"></i>\n\t\t\t<i class="icon icon-search" ng-click="$ctrl.onSubmit(); $event.stopPropagation();"></i>\n\t\t</span>\n\t</div>\n\t<div ng-if="$ctrl.opened"\n\t     class="drop-down-container">\n\t\t<div class="extra-filters-container">\n\t\t\t<div ng-if="$ctrl.extraFilters.length" class="list-container">\n\t\t\t\t<div class="extra-filter form-group"\n\t\t\t\t     ng-repeat="item in $ctrl.extraFilters track by $index"\n\t\t\t\t     ng-class="{\'disabled\': item.disabled}">\n\t\t\t\t\t<label>\n\t\t\t\t\t\t{{ item.text }}\n\t\t\t\t\t</label>\n\t\t\t\t\t<div class="text-input-wrapper">\n\t\t\t\t\t\t<input autofocus="{{ ($index === 1) }}"\n\t\t\t\t\t\t\t\ttype="text"\n\t\t\t\t\t            name="items-filter"\n\t\t\t\t\t            class="input-text"\n    \t\t\t\t            ng-keypress="$ctrl.onKeyPress($event)"\n\t\t\t\t\t            ng-model="item.inputTextValue"\n\t\t\t\t\t            placeholder="{{item.inputPlaceholder || \'Free text\'}}" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="repos-container">\n\t\t\t<div class="filter-container">\n\t\t\t\t<form>\n\t\t\t\t\t<jf-field>\n\t\t\t\t\t\t<label>Repositories</label>\n\t\t\t\t\t\t<input type="text"\n\t\t\t\t\t\t       name="items-filter"\n\t\t\t\t\t\t       class="input-text"\n\t\t\t\t\t\t       ng-model="$ctrl.filterText"\n\t\t\t\t\t\t       placeholder="Filter repositories"/>\n\t\t\t\t\t</jf-field>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t\t<div ng-if="$ctrl.repos.length" class="list-container">\n\t\t\t\t<div class="drop-down-item"\n\t\t\t\t     ng-repeat="item in $ctrl.repos | filter:{text: $ctrl.filterText} track by $index"\n\t\t\t\t     ng-class="{\'last-selected\': $index === $ctrl.lastSelectedIndex && !$ctrl.filterText, \'disabled\': item.disabled}">\n\t\t\t\t\t<label class="jf-checkbox">\n\t\t\t\t\t\t<input type="checkbox"\n\t\t\t\t\t\t       ng-disabled="item.disabled"\n\t\t\t\t\t\t       ng-change="$ctrl.onSelection()"\n\t\t\t\t\t\t       ng-model="item.isSelected">\n\t\t\t\t\t\t<span></span> <i ng-if="item.iconClass" class="item-icon" ng-class="item.iconClass"></i> {{ item.text }}\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="batch-action-buttons"\n\t\t\t     ng-if="$ctrl.repos.length">\n\t\t\t\t<button type="button"\n\t\t\t\t\t\tclass="btn btn-default"\n\t\t\t\t        ng-click="$ctrl.selectAll()">\n\t\t\t\t\t<i class="icon icon-notif-success"></i>\n\t\t\t\t\tSelect All\n\t\t\t\t</button>\n\t\t\t\t<button class="btn btn-default"\n\t\t\t\t        type="button"\n\t\t\t\t        ng-click="$ctrl.unSelectAll()">\n\t\t\t\t\t<i class="icon icon-trashcan"></i>\n\t\t\t\t\tClear All\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div ng-if="!$ctrl.repos.length"\n\t\t\t     class="list-container">\n\t\t\t\t<div class="no-items-message">\n\t\t\t\t\tNo Repositories\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="batch-actions pull-right">\n\t\t\t<button class="btn btn-secondary"\n\t\t\t        type="button"\n\t\t\t\t\tng-click="$ctrl.clearSelection()">\n\t\t\t\tClear Form\n\t\t\t</button>\n\t\t\t<button class="btn btn-primary"\n\t\t\t        type="submit"\n\t\t\t\t\tng-click="$ctrl.onSubmit()">\n\t\t\t\tSearch\n\t\t\t</button>\n\t\t</div>\n\t</div>\n</div>\n')}])}(),function(module){try{module=angular.module("templates.3184")}catch(err){module=angular.module("templates.3184",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("ui_components/packages_native/components/packages/packages.view.html",'<div class="jf-page-wrapper">\n\t<div class="jf-page-header">\n\t\t<div class="jf-header-item">\n\t\t\t<h1>\n\t\t\t\tPackage View\n\t\t\t\t<span>\n                    <i class="native-package-type-icon" ng-class="$ctrl.packageTypeIcon"></i>\n                </span>\n\n\t\t\t\t<span class="package-count" ng-if="$ctrl.packages.list.itemsCount && $ctrl.totalCount === undefined">\n                    {{$ctrl.packages.list.itemsCount ? \'(\'+$ctrl.packages.list.itemsCount+\')\' : \'\'}}\n                </span>\n\t\t\t\t<span class="package-count" ng-if="$ctrl.packages.list.itemsCount && $ctrl.totalCount !== undefined">\n                    {{$ctrl.packages.list.itemsCount ? \'(\'+$ctrl.packages.list.itemsCount : \'\'}} {{$ctrl.totalCount !== undefined ? \'out of \' + $ctrl.totalCount + \')\': \'\'}}\n                </span>\n\t\t\t</h1>\n\t\t\t<span class="filter repo-type">\n                <jf-ui-select\n\t\t                jf-select-placeholder="Select package type..."\n\t\t                jf-select-display-func="$ctrl.getPackageTypeTemplate($item)"\n\t\t                jf-select-model="$ctrl.selectedPackageType"\n\t\t                jf-select-change="$ctrl.onPackageTypeChange()"\n\t\t                jf-select-options="$ctrl.packageTypes">\n                </jf-ui-select>\n            </span>\n\t\t</div>\n\n\t\t<div class="jf-header-item">\n\t\t\t<form>\n\t\t\t\t<div class="filters">\n                    <span class="filter repos-filters">\n                        <native-filters-dropdown\n\t\t                        borderless="false"\n\t\t                        initial-title="$ctrl.initialDropDownPlaceholder"\n\t\t                        on-search-submit="$ctrl.getFilteredData(true)"\n\t\t                        on-change="$ctrl.onRepoFilterChange()"\n\t\t                        repos="$ctrl.reposList"\n\t\t                        extra-filters="$ctrl.moreFiltersList">\n                        </native-filters-dropdown>\n                    </span>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</div>\n\t</div>\n\t<div class="jf-page-content">\n\t\t<div class="jf-main-content-pane">\n\t\t\t<jf-table-view\n\t\t\t\t\tjf-disable-ng-animate\n\t\t\t\t\tng-show="$ctrl.hasSelectedFilters"\n\t\t\t\t\toptions="$ctrl.tableViewOptions"\n\t\t\t\t\tobject-name="Package">\n\t\t\t</jf-table-view>\n\t\t\t<div class="no-filters-message"\n\t\t\t     jf-disable-ng-animate\n\t\t\t     ng-show="!$ctrl.hasSelectedFilters && !$ctrl.$pendingData && $ctrl.ready">\n\t\t\t\t<h1>Add search criteria to display {{$ctrl.typeSpecific.aliases.package}} list</h1>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n')}])}(),function(module){try{module=angular.module("templates.3184")}catch(err){module=angular.module("templates.3184",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("ui_components/packages_native/components/package/package.view.html",'<div class="jf-page-wrapper">\n    <div class="jf-page-header">\n        <div class="jf-header-item">\n            <h1>Package Viewer\n                <span>\n                    <i class="native-package-type-icon" ng-class="$ctrl.packageTypeIcon"></i>\n                    {{$ctrl.nativeParent.getDisplayNameForPackageType($ctrl.$stateParams.packageType)}}\n                </span>\n            </h1>\n\n            <div class="back-link">\n                <a href ng-click="$ctrl.goBack()" ng-show="$ctrl.packageAlias">\n                    <i class="icon icon-addons-arrow-left"></i>\n                    Back to list of {{$ctrl.packageAlias.toLowerCase()}}s\n                </a>\n            </div>\n        </div>\n    </div>\n    <div class="jf-page-summary">\n        <jf-summary-row\n                ng-if="$ctrl.summaryColumns && $ctrl.summaryData"\n                columns="$ctrl.summaryColumns"\n                parent-scope="$ctrl.$scope">\n        </jf-summary-row>\n    </div>\n    <div class="jf-page-content">\n        <div class="jf-content-section">\n            <div class="jf-main-content-pane">\n                <div class="xray-toggler-wrapper">\n                    <jf-switch-toggler on-toggle="$ctrl.legendRendered = false" model="$ctrl.toggleByStringModel" options="[\'Details\',\'Xray\']"></jf-switch-toggler>\n                </div>\n                <jf-table-view ng-show="$ctrl.toggleByStringModel == \'Details\'"\n                               options="$ctrl.tableViewOptions"\n                               object-name="Package">\n                </jf-table-view>\n\n                <div ng-if="$ctrl.toggleByStringModel == \'Xray\' && ($ctrl.withXray && !$ctrl.graphData && !$ctrl.xrayError)"\n                     class="xray-graph-spinner">\n                    <div class="spinner-msg">\n                        <div class="icon-hourglass"></div>\n                    </div>\n                </div>\n\n                <div ng-class="{\'mock-mode\':!$ctrl.withXray}" class="graph-wrapper" ng-if="$ctrl.toggleByStringModel == \'Xray\' && (!$ctrl.withXray || $ctrl.graphData || $ctrl.xrayError)">\n                    <div class="graph-filters" ng-if="!$ctrl.xrayError">\n                        <div ng-if="$ctrl.withXray" class="dd-wrapper">\n                            <span>\n                                <label>Time Range</label>\n                                <jf-ui-select\n                                        jf-select-placeholder="Time Range"\n                                        jf-select-model="$ctrl.selectedTimeSpan"\n                                        jf-select-change="$ctrl.getXrayData()"\n                                        jf-select-display-attr="displayName"\n                                        jf-select-options="$ctrl.dateSpanOptions">\n                                </jf-ui-select>\n                            </span>\n                            <span>\n                                <label>Limit</label>\n                                <jf-ui-select\n                                        jf-select-placeholder="Limit"\n                                        jf-select-model="$ctrl.limitVal"\n                                        jf-select-change="$ctrl.getXrayData()"\n                                        jf-select-options="$ctrl.limitOptions">\n                                </jf-ui-select>\n                            </span>\n\n\n                        </div>\n\n                        <jf-checkbox text="Security Violations">\n                            <input type="checkbox"\n                                   id="enabled"\n                                   class="security"\n                                   ng-model="$ctrl.showSecurityViolations"\n                                   ng-change="$ctrl.toggleChart(\'security\')">\n                        </jf-checkbox>\n\n                        <jf-checkbox text="License Violations">\n                            <input type="checkbox"\n                                   id="enabled"\n                                   class="license"\n                                   ng-model="$ctrl.showLicensesViolations"\n                                   ng-change="$ctrl.toggleChart(\'license\')">\n                        </jf-checkbox>\n\n                        <jf-checkbox text="Downloads">\n                            <input type="checkbox"\n                                   id="enabled"\n                                   class="downloads"\n                                   ng-model="$ctrl.showDownloadsStats"\n                                   ng-change="$ctrl.toggleChart(\'downloads\')">\n                        </jf-checkbox>\n                    </div>\n                    <div ng-if="!$ctrl.withXray" class="alert alert-info"> <strong> Mock-up.</strong>\n                        <br/>\n\t                    This graph presents what you could see if you had JFrog Xray which is available with:\n\t                    <br/>\n\t                    Artifactory Pro X, Artifactory Enterprise, Artifactory Enterprise+ or Artifactory Cloud Version.\n\t                    <br/>\n\t                    To try this feature on your data, you can start a 30-day free trial of JFrog Xray.\n                        <br/>\n                        <a target="_blank" class="jf-link" href="https://jfrog.com/xray/free-trial/">Click to start your trial.</a>\n                    </div>\n\t                <div ng-if="$ctrl.withXray && $ctrl.xrayError" class="alert alert-danger preserve-lb">{{$ctrl.xrayError}}</div>\n\t                <jf-billboard ng-if="$ctrl.chartConfig" style="display:inline-block" options="$ctrl.chartConfig"></jf-billboard>\n                    <div ng-if="$ctrl.chartConfig" id="bb-legend"></div>\n                </div>\n\n\n            </div>\n        </div>\n    </div>\n</div>\n')}])}(),function(module){try{module=angular.module("templates.3184")}catch(err){module=angular.module("templates.3184",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("ui_components/packages_native/components/version/version.view.html",'<div class="jf-page-wrapper"\n        ng-class="{\'with-xray\': $ctrl.withXray}">\n    <div class="jf-page-header">\n        <div class="jf-header-item">\n            <h1>Package Viewer\n                <span>\n                    <i class="native-package-type-icon" ng-class="$ctrl.packageTypeIcon"></i>\n                    {{$ctrl.nativeParent.getDisplayNameForPackageType($ctrl.$stateParams.packageType)}}\n                </span>\n            </h1>\n\n            <div class="back-link">\n                <a href ng-click="$ctrl.goBack()" ng-show="$ctrl.versionAlias">\n                    <i class="icon icon-addons-arrow-left"></i>\n                    Back to list of {{$ctrl.versionAlias.toLowerCase()}}s\n                </a>\n            </div>\n        </div>\n    </div>\n    <div class="jf-page-summary">\n        <jf-summary-row\n                ng-if="$ctrl.summaryColumns && $ctrl.summaryData"\n                columns=$ctrl.summaryColumns\n                parent-scope="$ctrl.$scope">\n        </jf-summary-row>\n    </div>\n\n    <div class="jf-page-content">\n        <div class="jf-content-section">\n            <div class="jf-main-content-pane">\n\t            <jf-widgets-layout widgets="$ctrl.descriptor.common.widgets"\n\t                               layout="$ctrl.descriptor.typeSpecific[$ctrl.$stateParams.packageType].widgetsLayout"\n\t                               options="$ctrl.widgetsOptions"></jf-widgets-layout>\n\n            </div>\n        </div>\n    </div>\n</div>\n')}])}(),this.createjs=this.createjs||{},createjs.extend=function(a,b){"use strict";function c(){this.constructor=a}return c.prototype=b.prototype,a.prototype=new c},this.createjs=this.createjs||{},createjs.promote=function(a,b){"use strict";var c=a.prototype,d=Object.getPrototypeOf&&Object.getPrototypeOf(c)||c.__proto__;if(d){c[(b+="_")+"constructor"]=d.constructor;for(var e in d)c.hasOwnProperty(e)&&"function"==typeof d[e]&&(c[b+e]=d[e])}return a},this.createjs=this.createjs||{},createjs.indexOf=function(a,b){"use strict";for(var c=0,d=a.length;d>c;c++)if(b===a[c])return c;return-1},this.createjs=this.createjs||{},function(){"use strict";function a(a,b,c){this.type=a,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!b,this.cancelable=!!c,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var b=a.prototype;b.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},b.stopPropagation=function(){this.propagationStopped=!0},b.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},b.remove=function(){this.removed=!0},b.clone=function(){return new a(this.type,this.bubbles,this.cancelable)},b.set=function(a){for(var b in a)this[b]=a[b];return this},b.toString=function(){return"[Event (type="+this.type+")]"},createjs.Event=a}(),this.createjs=this.createjs||{},function(){"use strict";function a(){this._listeners=null,this._captureListeners=null}var b=a.prototype;a.initialize=function(a){a.addEventListener=b.addEventListener,a.on=b.on,a.removeEventListener=a.off=b.removeEventListener,a.removeAllEventListeners=b.removeAllEventListeners,a.hasEventListener=b.hasEventListener,a.dispatchEvent=b.dispatchEvent,a._dispatchEvent=b._dispatchEvent,a.willTrigger=b.willTrigger},b.addEventListener=function(a,b,c){var d;d=c?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{};var e=d[a];return e&&this.removeEventListener(a,b,c),e=d[a],e?e.push(b):d[a]=[b],b},b.on=function(a,b,c,d,e,f){return b.handleEvent&&(c=c||b,b=b.handleEvent),c=c||this,this.addEventListener(a,function(a){b.call(c,a,e),d&&a.remove()},f)},b.removeEventListener=function(a,b,c){var d=c?this._captureListeners:this._listeners;if(d){var e=d[a];if(e)for(var f=0,g=e.length;g>f;f++)if(e[f]==b){1==g?delete d[a]:e.splice(f,1);break}}},b.off=b.removeEventListener,b.removeAllEventListeners=function(a){a?(this._listeners&&delete this._listeners[a],this._captureListeners&&delete this._captureListeners[a]):this._listeners=this._captureListeners=null},b.dispatchEvent=function(a,b,c){if("string"==typeof a){var d=this._listeners;if(!(b||d&&d[a]))return!0;a=new createjs.Event(a,b,c)}else a.target&&a.clone&&(a=a.clone());try{a.target=this}catch(e){}if(a.bubbles&&this.parent){for(var f=this,g=[f];f.parent;)g.push(f=f.parent);var h,i=g.length;for(h=i-1;h>=0&&!a.propagationStopped;h--)g[h]._dispatchEvent(a,1+(0==h));for(h=1;i>h&&!a.propagationStopped;h++)g[h]._dispatchEvent(a,3)}else this._dispatchEvent(a,2);return!a.defaultPrevented},b.hasEventListener=function(a){var b=this._listeners,c=this._captureListeners;return!!(b&&b[a]||c&&c[a])},b.willTrigger=function(a){for(var b=this;b;){if(b.hasEventListener(a))return!0;b=b.parent}return!1},b.toString=function(){return"[EventDispatcher]"},b._dispatchEvent=function(a,b){var c,d=1==b?this._captureListeners:this._listeners;if(a&&d){var e=d[a.type];if(!e||!(c=e.length))return;try{a.currentTarget=this}catch(f){}try{a.eventPhase=b}catch(f){}a.removed=!1,e=e.slice();for(var g=0;c>g&&!a.immediatePropagationStopped;g++){var h=e[g];h.handleEvent?h.handleEvent(a):h(a),a.removed&&(this.off(a.type,h,1==b),a.removed=!1)}}},createjs.EventDispatcher=a}(),this.createjs=this.createjs||{},function(){"use strict";function a(){throw"Ticker cannot be instantiated."}a.RAF_SYNCHED="synched",a.RAF="raf",a.TIMEOUT="timeout",a.useRAF=!1,a.timingMode=null,a.maxDelta=0,a.paused=!1,a.removeEventListener=null,a.removeAllEventListeners=null,a.dispatchEvent=null,a.hasEventListener=null,a._listeners=null,createjs.EventDispatcher.initialize(a),a._addEventListener=a.addEventListener,a.addEventListener=function(){return!a._inited&&a.init(),a._addEventListener.apply(a,arguments)},a._inited=!1,a._startTime=0,a._pausedTime=0,a._ticks=0,a._pausedTicks=0,a._interval=50,a._lastTime=0,a._times=null,a._tickTimes=null,a._timerId=null,a._raf=!0,a.setInterval=function(b){a._interval=b,a._inited&&a._setupTick()},a.getInterval=function(){return a._interval},a.setFPS=function(b){a.setInterval(1e3/b)},a.getFPS=function(){return 1e3/a._interval};try{Object.defineProperties(a,{interval:{get:a.getInterval,set:a.setInterval},framerate:{get:a.getFPS,set:a.setFPS}})}catch(b){console.log(b)}a.init=function(){a._inited||(a._inited=!0,a._times=[],a._tickTimes=[],a._startTime=a._getTime(),a._times.push(a._lastTime=0),a.interval=a._interval)},a.reset=function(){if(a._raf){var b=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame;b&&b(a._timerId)}else clearTimeout(a._timerId);a.removeAllEventListeners("tick"),a._timerId=a._times=a._tickTimes=null,a._startTime=a._lastTime=a._ticks=0,a._inited=!1},a.getMeasuredTickTime=function(b){var c=0,d=a._tickTimes;if(!d||d.length<1)return-1;b=Math.min(d.length,b||0|a.getFPS());for(var e=0;b>e;e++)c+=d[e];return c/b},a.getMeasuredFPS=function(b){var c=a._times;return!c||c.length<2?-1:(b=Math.min(c.length-1,b||0|a.getFPS()),1e3/((c[0]-c[b])/b))},a.setPaused=function(b){a.paused=b},a.getPaused=function(){return a.paused},a.getTime=function(b){return a._startTime?a._getTime()-(b?a._pausedTime:0):-1},a.getEventTime=function(b){return a._startTime?(a._lastTime||a._startTime)-(b?a._pausedTime:0):-1},a.getTicks=function(b){return a._ticks-(b?a._pausedTicks:0)},a._handleSynch=function(){a._timerId=null,a._setupTick(),a._getTime()-a._lastTime>=.97*(a._interval-1)&&a._tick()},a._handleRAF=function(){a._timerId=null,a._setupTick(),a._tick()},a._handleTimeout=function(){a._timerId=null,a._setupTick(),a._tick()},a._setupTick=function(){if(null==a._timerId){var b=a.timingMode||a.useRAF&&a.RAF_SYNCHED;if(b==a.RAF_SYNCHED||b==a.RAF){var c=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(c)return a._timerId=c(b==a.RAF?a._handleRAF:a._handleSynch),void(a._raf=!0)}a._raf=!1,a._timerId=setTimeout(a._handleTimeout,a._interval)}},a._tick=function(){var b=a.paused,c=a._getTime(),d=c-a._lastTime;if(a._lastTime=c,a._ticks++,b&&(a._pausedTicks++,a._pausedTime+=d),a.hasEventListener("tick")){var e=new createjs.Event("tick"),f=a.maxDelta;e.delta=f&&d>f?f:d,e.paused=b,e.time=c,e.runTime=c-a._pausedTime,a.dispatchEvent(e)}for(a._tickTimes.unshift(a._getTime()-c);a._tickTimes.length>100;)a._tickTimes.pop();for(a._times.unshift(c);a._times.length>100;)a._times.pop()};var c=window.performance&&(performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow);a._getTime=function(){return(c&&c.call(performance)||(new Date).getTime())-a._startTime},createjs.Ticker=a}(),this.createjs=this.createjs||{},function(){"use strict";function a(){throw"UID cannot be instantiated"}a._nextID=0,a.get=function(){return a._nextID++},createjs.UID=a}(),this.createjs=this.createjs||{},function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k){this.Event_constructor(a,b,c),this.stageX=d,this.stageY=e,this.rawX=null==i?d:i,this.rawY=null==j?e:j,this.nativeEvent=f,this.pointerID=g,this.primary=!!h,this.relatedTarget=k}var b=createjs.extend(a,createjs.Event);b._get_localX=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).x},b._get_localY=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).y},b._get_isTouch=function(){return-1!==this.pointerID};try{Object.defineProperties(b,{localX:{get:b._get_localX},localY:{get:b._get_localY},isTouch:{get:b._get_isTouch}})}catch(c){}b.clone=function(){return new a(this.type,this.bubbles,this.cancelable,this.stageX,this.stageY,this.nativeEvent,this.pointerID,this.primary,this.rawX,this.rawY)},b.toString=function(){return"[MouseEvent (type="+this.type+" stageX="+this.stageX+" stageY="+this.stageY+")]"},createjs.MouseEvent=createjs.promote(a,"Event")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a,b,c,d,e,f){this.setValues(a,b,c,d,e,f)}var b=a.prototype;a.DEG_TO_RAD=Math.PI/180,a.identity=null,b.setValues=function(a,b,c,d,e,f){return this.a=null==a?1:a,this.b=b||0,this.c=c||0,this.d=null==d?1:d,this.tx=e||0,this.ty=f||0,this},b.append=function(a,b,c,d,e,f){var g=this.a,h=this.b,i=this.c,j=this.d;return(1!=a||0!=b||0!=c||1!=d)&&(this.a=g*a+i*b,this.b=h*a+j*b,this.c=g*c+i*d,this.d=h*c+j*d),this.tx=g*e+i*f+this.tx,this.ty=h*e+j*f+this.ty,this},b.prepend=function(a,b,c,d,e,f){var g=this.a,h=this.c,i=this.tx;return this.a=a*g+c*this.b,this.b=b*g+d*this.b,this.c=a*h+c*this.d,this.d=b*h+d*this.d,this.tx=a*i+c*this.ty+e,this.ty=b*i+d*this.ty+f,this},b.appendMatrix=function(a){return this.append(a.a,a.b,a.c,a.d,a.tx,a.ty)},b.prependMatrix=function(a){return this.prepend(a.a,a.b,a.c,a.d,a.tx,a.ty)},b.appendTransform=function(b,c,d,e,f,g,h,i,j){if(f%360)var k=f*a.DEG_TO_RAD,l=Math.cos(k),m=Math.sin(k);else l=1,m=0;return g||h?(g*=a.DEG_TO_RAD,h*=a.DEG_TO_RAD,this.append(Math.cos(h),Math.sin(h),-Math.sin(g),Math.cos(g),b,c),this.append(l*d,m*d,-m*e,l*e,0,0)):this.append(l*d,m*d,-m*e,l*e,b,c),(i||j)&&(this.tx-=i*this.a+j*this.c,this.ty-=i*this.b+j*this.d),this},b.prependTransform=function(b,c,d,e,f,g,h,i,j){if(f%360)var k=f*a.DEG_TO_RAD,l=Math.cos(k),m=Math.sin(k);else l=1,m=0;return(i||j)&&(this.tx-=i,this.ty-=j),g||h?(g*=a.DEG_TO_RAD,h*=a.DEG_TO_RAD,this.prepend(l*d,m*d,-m*e,l*e,0,0),this.prepend(Math.cos(h),Math.sin(h),-Math.sin(g),Math.cos(g),b,c)):this.prepend(l*d,m*d,-m*e,l*e,b,c),this},b.rotate=function(b){b*=a.DEG_TO_RAD;var c=Math.cos(b),d=Math.sin(b),e=this.a,f=this.b;return this.a=e*c+this.c*d,this.b=f*c+this.d*d,this.c=-e*d+this.c*c,this.d=-f*d+this.d*c,this},b.skew=function(b,c){return b*=a.DEG_TO_RAD,c*=a.DEG_TO_RAD,this.append(Math.cos(c),Math.sin(c),-Math.sin(b),Math.cos(b),0,0),this},b.scale=function(a,b){return this.a*=a,this.b*=a,this.c*=b,this.d*=b,this},b.translate=function(a,b){return this.tx+=this.a*a+this.c*b,this.ty+=this.b*a+this.d*b,this},b.identity=function(){return this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this},b.invert=function(){var a=this.a,b=this.b,c=this.c,d=this.d,e=this.tx,f=a*d-b*c;return this.a=d/f,this.b=-b/f,this.c=-c/f,this.d=a/f,this.tx=(c*this.ty-d*e)/f,this.ty=-(a*this.ty-b*e)/f,this},b.isIdentity=function(){return 0===this.tx&&0===this.ty&&1===this.a&&0===this.b&&0===this.c&&1===this.d},b.equals=function(a){return this.tx===a.tx&&this.ty===a.ty&&this.a===a.a&&this.b===a.b&&this.c===a.c&&this.d===a.d},b.transformPoint=function(a,b,c){return c=c||{},c.x=a*this.a+b*this.c+this.tx,c.y=a*this.b+b*this.d+this.ty,c},b.decompose=function(b){null==b&&(b={}),b.x=this.tx,b.y=this.ty,b.scaleX=Math.sqrt(this.a*this.a+this.b*this.b),b.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var c=Math.atan2(-this.c,this.d),d=Math.atan2(this.b,this.a),e=Math.abs(1-c/d);return 1e-5>e?(b.rotation=d/a.DEG_TO_RAD,this.a<0&&this.d>=0&&(b.rotation+=b.rotation<=0?180:-180),b.skewX=b.skewY=0):(b.skewX=c/a.DEG_TO_RAD,b.skewY=d/a.DEG_TO_RAD),b},b.copy=function(a){return this.setValues(a.a,a.b,a.c,a.d,a.tx,a.ty)},b.clone=function(){return new a(this.a,this.b,this.c,this.d,this.tx,this.ty)},b.toString=function(){return"[Matrix2D (a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+")]"},a.identity=new a,createjs.Matrix2D=a}(),this.createjs=this.createjs||{},function(){"use strict";function a(a,b,c,d,e){this.setValues(a,b,c,d,e)}var b=a.prototype;b.setValues=function(a,b,c,d,e){return this.visible=null==a||!!a,this.alpha=null==b?1:b,this.shadow=c,this.compositeOperation=d,this.matrix=e||this.matrix&&this.matrix.identity()||new createjs.Matrix2D,this},b.append=function(a,b,c,d,e){return this.alpha*=b,this.shadow=c||this.shadow,this.compositeOperation=d||this.compositeOperation,this.visible=this.visible&&a,e&&this.matrix.appendMatrix(e),this},b.prepend=function(a,b,c,d,e){return this.alpha*=b,this.shadow=this.shadow||c,this.compositeOperation=this.compositeOperation||d,this.visible=this.visible&&a,e&&this.matrix.prependMatrix(e),this},b.identity=function(){return this.visible=!0,this.alpha=1,this.shadow=this.compositeOperation=null,this.matrix.identity(),this},b.clone=function(){return new a(this.alpha,this.shadow,this.compositeOperation,this.visible,this.matrix.clone())},createjs.DisplayProps=a}(),this.createjs=this.createjs||{},function(){"use strict";function a(a,b){this.setValues(a,b)}var b=a.prototype;b.setValues=function(a,b){return this.x=a||0,this.y=b||0,this},b.copy=function(a){return this.x=a.x,this.y=a.y,this},b.clone=function(){return new a(this.x,this.y)},b.toString=function(){return"[Point (x="+this.x+" y="+this.y+")]"},createjs.Point=a}(),this.createjs=this.createjs||{},function(){"use strict";function a(a,b,c,d){this.setValues(a,b,c,d)}var b=a.prototype;b.setValues=function(a,b,c,d){return this.x=a||0,this.y=b||0,this.width=c||0,this.height=d||0,this},b.extend=function(a,b,c,d){return c=c||0,d=d||0,a+c>this.x+this.width&&(this.width=a+c-this.x),b+d>this.y+this.height&&(this.height=b+d-this.y),a<this.x&&(this.width+=this.x-a,this.x=a),b<this.y&&(this.height+=this.y-b,this.y=b),this},b.pad=function(a,b,c,d){return this.x-=b,this.y-=a,this.width+=b+d,this.height+=a+c,this},b.copy=function(a){return this.setValues(a.x,a.y,a.width,a.height)},b.contains=function(a,b,c,d){return c=c||0,d=d||0,a>=this.x&&a+c<=this.x+this.width&&b>=this.y&&b+d<=this.y+this.height},b.union=function(a){return this.clone().extend(a.x,a.y,a.width,a.height)},b.intersection=function(b){var c=b.x,d=b.y,e=c+b.width,f=d+b.height;return this.x>c&&(c=this.x),this.y>d&&(d=this.y),this.x+this.width<e&&(e=this.x+this.width),this.y+this.height<f&&(f=this.y+this.height),c>=e||d>=f?null:new a(c,d,e-c,f-d)},b.intersects=function(a){return a.x<=this.x+this.width&&this.x<=a.x+a.width&&a.y<=this.y+this.height&&this.y<=a.y+a.height},b.isEmpty=function(){
return this.width<=0||this.height<=0},b.clone=function(){return new a(this.x,this.y,this.width,this.height)},b.toString=function(){return"[Rectangle (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+")]"},createjs.Rectangle=a}(),this.createjs=this.createjs||{},function(){"use strict";function a(a,b,c,d,e,f,g){a.addEventListener&&(this.target=a,this.overLabel=null==c?"over":c,this.outLabel=null==b?"out":b,this.downLabel=null==d?"down":d,this.play=e,this._isPressed=!1,this._isOver=!1,this._enabled=!1,a.mouseChildren=!1,this.enabled=!0,this.handleEvent({}),f&&(g&&(f.actionsEnabled=!1,f.gotoAndStop&&f.gotoAndStop(g)),a.hitArea=f))}var b=a.prototype;b.setEnabled=function(a){if(a!=this._enabled){var b=this.target;this._enabled=a,a?(b.cursor="pointer",b.addEventListener("rollover",this),b.addEventListener("rollout",this),b.addEventListener("mousedown",this),b.addEventListener("pressup",this),b._reset&&(b.__reset=b._reset,b._reset=this._reset)):(b.cursor=null,b.removeEventListener("rollover",this),b.removeEventListener("rollout",this),b.removeEventListener("mousedown",this),b.removeEventListener("pressup",this),b.__reset&&(b._reset=b.__reset,delete b.__reset))}},b.getEnabled=function(){return this._enabled};try{Object.defineProperties(b,{enabled:{get:b.getEnabled,set:b.setEnabled}})}catch(c){}b.toString=function(){return"[ButtonHelper]"},b.handleEvent=function(a){var b,c=this.target,d=a.type;"mousedown"==d?(this._isPressed=!0,b=this.downLabel):"pressup"==d?(this._isPressed=!1,b=this._isOver?this.overLabel:this.outLabel):"rollover"==d?(this._isOver=!0,b=this._isPressed?this.downLabel:this.overLabel):(this._isOver=!1,b=this._isPressed?this.overLabel:this.outLabel),this.play?c.gotoAndPlay&&c.gotoAndPlay(b):c.gotoAndStop&&c.gotoAndStop(b)},b._reset=function(){var a=this.paused;this.__reset(),this.paused=a},createjs.ButtonHelper=a}(),this.createjs=this.createjs||{},function(){"use strict";function a(a,b,c,d){this.color=a||"black",this.offsetX=b||0,this.offsetY=c||0,this.blur=d||0}var b=a.prototype;a.identity=new a("transparent",0,0,0),b.toString=function(){return"[Shadow]"},b.clone=function(){return new a(this.color,this.offsetX,this.offsetY,this.blur)},createjs.Shadow=a}(),this.createjs=this.createjs||{},function(){"use strict";function a(a){this.EventDispatcher_constructor(),this.complete=!0,this.framerate=0,this._animations=null,this._frames=null,this._images=null,this._data=null,this._loadCount=0,this._frameHeight=0,this._frameWidth=0,this._numFrames=0,this._regX=0,this._regY=0,this._spacing=0,this._margin=0,this._parseData(a)}var b=createjs.extend(a,createjs.EventDispatcher);b.getAnimations=function(){return this._animations.slice()};try{Object.defineProperties(b,{animations:{get:b.getAnimations}})}catch(c){}b.getNumFrames=function(a){if(null==a)return this._frames?this._frames.length:this._numFrames||0;var b=this._data[a];return null==b?0:b.frames.length},b.getAnimation=function(a){return this._data[a]},b.getFrame=function(a){var b;return this._frames&&(b=this._frames[a])?b:null},b.getFrameBounds=function(a,b){var c=this.getFrame(a);return c?(b||new createjs.Rectangle).setValues(-c.regX,-c.regY,c.rect.width,c.rect.height):null},b.toString=function(){return"[SpriteSheet]"},b.clone=function(){throw"SpriteSheet cannot be cloned."},b._parseData=function(a){var b,c,d,e;if(null!=a){if(this.framerate=a.framerate||0,a.images&&(c=a.images.length)>0)for(e=this._images=[],b=0;c>b;b++){var f=a.images[b];if("string"==typeof f){var g=f;f=document.createElement("img"),f.src=g}e.push(f),f.getContext||f.naturalWidth||(this._loadCount++,this.complete=!1,function(a,b){f.onload=function(){a._handleImageLoad(b)}}(this,g),function(a,b){f.onerror=function(){a._handleImageError(b)}}(this,g))}if(null==a.frames);else if(Array.isArray(a.frames))for(this._frames=[],e=a.frames,b=0,c=e.length;c>b;b++){var h=e[b];this._frames.push({image:this._images[h[4]?h[4]:0],rect:new createjs.Rectangle(h[0],h[1],h[2],h[3]),regX:h[5]||0,regY:h[6]||0})}else d=a.frames,this._frameWidth=d.width,this._frameHeight=d.height,this._regX=d.regX||0,this._regY=d.regY||0,this._spacing=d.spacing||0,this._margin=d.margin||0,this._numFrames=d.count,0==this._loadCount&&this._calculateFrames();if(this._animations=[],null!=(d=a.animations)){this._data={};var i;for(i in d){var j={name:i},k=d[i];if("number"==typeof k)e=j.frames=[k];else if(Array.isArray(k))if(1==k.length)j.frames=[k[0]];else for(j.speed=k[3],j.next=k[2],e=j.frames=[],b=k[0];b<=k[1];b++)e.push(b);else{j.speed=k.speed,j.next=k.next;var l=k.frames;e=j.frames="number"==typeof l?[l]:l.slice(0)}(j.next===!0||void 0===j.next)&&(j.next=i),(j.next===!1||e.length<2&&j.next==i)&&(j.next=null),j.speed||(j.speed=1),this._animations.push(i),this._data[i]=j}}}},b._handleImageLoad=function(a){0==--this._loadCount&&(this._calculateFrames(),this.complete=!0,this.dispatchEvent("complete"))},b._handleImageError=function(a){var b=new createjs.Event("error");b.src=a,this.dispatchEvent(b),0==--this._loadCount&&this.dispatchEvent("complete")},b._calculateFrames=function(){if(!this._frames&&0!=this._frameWidth){this._frames=[];var a=this._numFrames||1e5,b=0,c=this._frameWidth,d=this._frameHeight,e=this._spacing,f=this._margin;a:for(var g=0,h=this._images;g<h.length;g++)for(var i=h[g],j=i.width,k=i.height,l=f;k-f-d>=l;){for(var m=f;j-f-c>=m;){if(b>=a)break a;b++,this._frames.push({image:i,rect:new createjs.Rectangle(m,l,c,d),regX:this._regX,regY:this._regY}),m+=c+e}l+=d+e}this._numFrames=b}},createjs.SpriteSheet=createjs.promote(a,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function a(){this.command=null,this._stroke=null,this._strokeStyle=null,this._oldStrokeStyle=null,this._strokeDash=null,this._oldStrokeDash=null,this._strokeIgnoreScale=!1,this._fill=null,this._instructions=[],this._commitIndex=0,this._activeInstructions=[],this._dirty=!1,this._storeIndex=0,this.clear()}var b=a.prototype,c=a;a.getRGB=function(a,b,c,d){return null!=a&&null==c&&(d=b,c=255&a,b=a>>8&255,a=a>>16&255),null==d?"rgb("+a+","+b+","+c+")":"rgba("+a+","+b+","+c+","+d+")"},a.getHSL=function(a,b,c,d){return null==d?"hsl("+a%360+","+b+"%,"+c+"%)":"hsla("+a%360+","+b+"%,"+c+"%,"+d+")"},a.BASE_64={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63},a.STROKE_CAPS_MAP=["butt","round","square"],a.STROKE_JOINTS_MAP=["miter","round","bevel"];var d=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");d.getContext&&(a._ctx=d.getContext("2d"),d.width=d.height=1),b.getInstructions=function(){return this._updateInstructions(),this._instructions};try{Object.defineProperties(b,{instructions:{get:b.getInstructions}})}catch(e){}b.isEmpty=function(){return!(this._instructions.length||this._activeInstructions.length)},b.draw=function(a,b){this._updateInstructions();for(var c=this._instructions,d=this._storeIndex,e=c.length;e>d;d++)c[d].exec(a,b)},b.drawAsPath=function(a){this._updateInstructions();for(var b,c=this._instructions,d=this._storeIndex,e=c.length;e>d;d++)(b=c[d]).path!==!1&&b.exec(a)},b.moveTo=function(a,b){return this.append(new c.MoveTo(a,b),!0)},b.lineTo=function(a,b){return this.append(new c.LineTo(a,b))},b.arcTo=function(a,b,d,e,f){return this.append(new c.ArcTo(a,b,d,e,f))},b.arc=function(a,b,d,e,f,g){return this.append(new c.Arc(a,b,d,e,f,g))},b.quadraticCurveTo=function(a,b,d,e){return this.append(new c.QuadraticCurveTo(a,b,d,e))},b.bezierCurveTo=function(a,b,d,e,f,g){return this.append(new c.BezierCurveTo(a,b,d,e,f,g))},b.rect=function(a,b,d,e){return this.append(new c.Rect(a,b,d,e))},b.closePath=function(){return this._activeInstructions.length?this.append(new c.ClosePath):this},b.clear=function(){return this._instructions.length=this._activeInstructions.length=this._commitIndex=0,this._strokeStyle=this._oldStrokeStyle=this._stroke=this._fill=this._strokeDash=this._oldStrokeDash=null,this._dirty=this._strokeIgnoreScale=!1,this},b.beginFill=function(a){return this._setFill(a?new c.Fill(a):null)},b.beginLinearGradientFill=function(a,b,d,e,f,g){return this._setFill((new c.Fill).linearGradient(a,b,d,e,f,g))},b.beginRadialGradientFill=function(a,b,d,e,f,g,h,i){return this._setFill((new c.Fill).radialGradient(a,b,d,e,f,g,h,i))},b.beginBitmapFill=function(a,b,d){return this._setFill(new c.Fill(null,d).bitmap(a,b))},b.endFill=function(){return this.beginFill()},b.setStrokeStyle=function(a,b,d,e,f){return this._updateInstructions(!0),this._strokeStyle=this.command=new c.StrokeStyle(a,b,d,e,f),this._stroke&&(this._stroke.ignoreScale=f),this._strokeIgnoreScale=f,this},b.setStrokeDash=function(a,b){return this._updateInstructions(!0),this._strokeDash=this.command=new c.StrokeDash(a,b),this},b.beginStroke=function(a){return this._setStroke(a?new c.Stroke(a):null)},b.beginLinearGradientStroke=function(a,b,d,e,f,g){return this._setStroke((new c.Stroke).linearGradient(a,b,d,e,f,g))},b.beginRadialGradientStroke=function(a,b,d,e,f,g,h,i){return this._setStroke((new c.Stroke).radialGradient(a,b,d,e,f,g,h,i))},b.beginBitmapStroke=function(a,b){return this._setStroke((new c.Stroke).bitmap(a,b))},b.endStroke=function(){return this.beginStroke()},b.curveTo=b.quadraticCurveTo,b.drawRect=b.rect,b.drawRoundRect=function(a,b,c,d,e){return this.drawRoundRectComplex(a,b,c,d,e,e,e,e)},b.drawRoundRectComplex=function(a,b,d,e,f,g,h,i){return this.append(new c.RoundRect(a,b,d,e,f,g,h,i))},b.drawCircle=function(a,b,d){return this.append(new c.Circle(a,b,d))},b.drawEllipse=function(a,b,d,e){return this.append(new c.Ellipse(a,b,d,e))},b.drawPolyStar=function(a,b,d,e,f,g){return this.append(new c.PolyStar(a,b,d,e,f,g))},b.append=function(a,b){return this._activeInstructions.push(a),this.command=a,b||(this._dirty=!0),this},b.decodePath=function(b){for(var c=[this.moveTo,this.lineTo,this.quadraticCurveTo,this.bezierCurveTo,this.closePath],d=[2,2,4,6,0],e=0,f=b.length,g=[],h=0,i=0,j=a.BASE_64;f>e;){var k=b.charAt(e),l=j[k],m=l>>3,n=c[m];if(!n||3&l)throw"bad path data (@"+e+"): "+k;var o=d[m];m||(h=i=0),g.length=0,e++;for(var p=(l>>2&1)+2,q=0;o>q;q++){var r=j[b.charAt(e)],s=r>>5?-1:1;r=(31&r)<<6|j[b.charAt(e+1)],3==p&&(r=r<<6|j[b.charAt(e+2)]),r=s*r/10,q%2?h=r+=h:i=r+=i,g[q]=r,e+=p}n.apply(this,g)}return this},b.store=function(){return this._updateInstructions(!0),this._storeIndex=this._instructions.length,this},b.unstore=function(){return this._storeIndex=0,this},b.clone=function(){var b=new a;return b.command=this.command,b._stroke=this._stroke,b._strokeStyle=this._strokeStyle,b._strokeDash=this._strokeDash,b._strokeIgnoreScale=this._strokeIgnoreScale,b._fill=this._fill,b._instructions=this._instructions.slice(),b._commitIndex=this._commitIndex,b._activeInstructions=this._activeInstructions.slice(),b._dirty=this._dirty,b._storeIndex=this._storeIndex,b},b.toString=function(){return"[Graphics]"},b.mt=b.moveTo,b.lt=b.lineTo,b.at=b.arcTo,b.bt=b.bezierCurveTo,b.qt=b.quadraticCurveTo,b.a=b.arc,b.r=b.rect,b.cp=b.closePath,b.c=b.clear,b.f=b.beginFill,b.lf=b.beginLinearGradientFill,b.rf=b.beginRadialGradientFill,b.bf=b.beginBitmapFill,b.ef=b.endFill,b.ss=b.setStrokeStyle,b.sd=b.setStrokeDash,b.s=b.beginStroke,b.ls=b.beginLinearGradientStroke,b.rs=b.beginRadialGradientStroke,b.bs=b.beginBitmapStroke,b.es=b.endStroke,b.dr=b.drawRect,b.rr=b.drawRoundRect,b.rc=b.drawRoundRectComplex,b.dc=b.drawCircle,b.de=b.drawEllipse,b.dp=b.drawPolyStar,b.p=b.decodePath,b._updateInstructions=function(b){var c=this._instructions,d=this._activeInstructions,e=this._commitIndex;if(this._dirty&&d.length){c.length=e,c.push(a.beginCmd);var f=d.length,g=c.length;c.length=g+f;for(var h=0;f>h;h++)c[h+g]=d[h];this._fill&&c.push(this._fill),this._stroke&&(this._strokeDash!==this._oldStrokeDash&&(this._oldStrokeDash=this._strokeDash,c.push(this._strokeDash)),this._strokeStyle!==this._oldStrokeStyle&&(this._oldStrokeStyle=this._strokeStyle,c.push(this._strokeStyle)),c.push(this._stroke)),this._dirty=!1}b&&(d.length=0,this._commitIndex=c.length)},b._setFill=function(a){return this._updateInstructions(!0),this.command=this._fill=a,this},b._setStroke=function(a){return this._updateInstructions(!0),(this.command=this._stroke=a)&&(a.ignoreScale=this._strokeIgnoreScale),this},(c.LineTo=function(a,b){this.x=a,this.y=b}).prototype.exec=function(a){a.lineTo(this.x,this.y)},(c.MoveTo=function(a,b){this.x=a,this.y=b}).prototype.exec=function(a){a.moveTo(this.x,this.y)},(c.ArcTo=function(a,b,c,d,e){this.x1=a,this.y1=b,this.x2=c,this.y2=d,this.radius=e}).prototype.exec=function(a){a.arcTo(this.x1,this.y1,this.x2,this.y2,this.radius)},(c.Arc=function(a,b,c,d,e,f){this.x=a,this.y=b,this.radius=c,this.startAngle=d,this.endAngle=e,this.anticlockwise=!!f}).prototype.exec=function(a){a.arc(this.x,this.y,this.radius,this.startAngle,this.endAngle,this.anticlockwise)},(c.QuadraticCurveTo=function(a,b,c,d){this.cpx=a,this.cpy=b,this.x=c,this.y=d}).prototype.exec=function(a){a.quadraticCurveTo(this.cpx,this.cpy,this.x,this.y)},(c.BezierCurveTo=function(a,b,c,d,e,f){this.cp1x=a,this.cp1y=b,this.cp2x=c,this.cp2y=d,this.x=e,this.y=f}).prototype.exec=function(a){a.bezierCurveTo(this.cp1x,this.cp1y,this.cp2x,this.cp2y,this.x,this.y)},(c.Rect=function(a,b,c,d){this.x=a,this.y=b,this.w=c,this.h=d}).prototype.exec=function(a){a.rect(this.x,this.y,this.w,this.h)},(c.ClosePath=function(){}).prototype.exec=function(a){a.closePath()},(c.BeginPath=function(){}).prototype.exec=function(a){a.beginPath()},b=(c.Fill=function(a,b){this.style=a,this.matrix=b}).prototype,b.exec=function(a){if(this.style){a.fillStyle=this.style;var b=this.matrix;b&&(a.save(),a.transform(b.a,b.b,b.c,b.d,b.tx,b.ty)),a.fill(),b&&a.restore()}},b.linearGradient=function(b,c,d,e,f,g){for(var h=this.style=a._ctx.createLinearGradient(d,e,f,g),i=0,j=b.length;j>i;i++)h.addColorStop(c[i],b[i]);return h.props={colors:b,ratios:c,x0:d,y0:e,x1:f,y1:g,type:"linear"},this},b.radialGradient=function(b,c,d,e,f,g,h,i){for(var j=this.style=a._ctx.createRadialGradient(d,e,f,g,h,i),k=0,l=b.length;l>k;k++)j.addColorStop(c[k],b[k]);return j.props={colors:b,ratios:c,x0:d,y0:e,r0:f,x1:g,y1:h,r1:i,type:"radial"},this},b.bitmap=function(b,c){if(b.naturalWidth||b.getContext||b.readyState>=2){var d=this.style=a._ctx.createPattern(b,c||"");d.props={image:b,repetition:c,type:"bitmap"}}return this},b.path=!1,b=(c.Stroke=function(a,b){this.style=a,this.ignoreScale=b}).prototype,b.exec=function(a){this.style&&(a.strokeStyle=this.style,this.ignoreScale&&(a.save(),a.setTransform(1,0,0,1,0,0)),a.stroke(),this.ignoreScale&&a.restore())},b.linearGradient=c.Fill.prototype.linearGradient,b.radialGradient=c.Fill.prototype.radialGradient,b.bitmap=c.Fill.prototype.bitmap,b.path=!1,b=(c.StrokeStyle=function(a,b,c,d,e){this.width=a,this.caps=b,this.joints=c,this.miterLimit=d,this.ignoreScale=e}).prototype,b.exec=function(b){b.lineWidth=null==this.width?"1":this.width,b.lineCap=null==this.caps?"butt":isNaN(this.caps)?this.caps:a.STROKE_CAPS_MAP[this.caps],b.lineJoin=null==this.joints?"miter":isNaN(this.joints)?this.joints:a.STROKE_JOINTS_MAP[this.joints],b.miterLimit=null==this.miterLimit?"10":this.miterLimit,b.ignoreScale=null!=this.ignoreScale&&this.ignoreScale},b.path=!1,(c.StrokeDash=function(a,b){this.segments=a,this.offset=b||0}).prototype.exec=function(a){a.setLineDash&&(a.setLineDash(this.segments||c.StrokeDash.EMPTY_SEGMENTS),a.lineDashOffset=this.offset||0)},c.StrokeDash.EMPTY_SEGMENTS=[],(c.RoundRect=function(a,b,c,d,e,f,g,h){this.x=a,this.y=b,this.w=c,this.h=d,this.radiusTL=e,this.radiusTR=f,this.radiusBR=g,this.radiusBL=h}).prototype.exec=function(a){var b=(j>i?i:j)/2,c=0,d=0,e=0,f=0,g=this.x,h=this.y,i=this.w,j=this.h,k=this.radiusTL,l=this.radiusTR,m=this.radiusBR,n=this.radiusBL;0>k&&(k*=c=-1),k>b&&(k=b),0>l&&(l*=d=-1),l>b&&(l=b),0>m&&(m*=e=-1),m>b&&(m=b),0>n&&(n*=f=-1),n>b&&(n=b),a.moveTo(g+i-l,h),a.arcTo(g+i+l*d,h-l*d,g+i,h+l,l),a.lineTo(g+i,h+j-m),a.arcTo(g+i+m*e,h+j+m*e,g+i-m,h+j,m),a.lineTo(g+n,h+j),a.arcTo(g-n*f,h+j+n*f,g,h+j-n,n),a.lineTo(g,h+k),a.arcTo(g-k*c,h-k*c,g+k,h,k),a.closePath()},(c.Circle=function(a,b,c){this.x=a,this.y=b,this.radius=c}).prototype.exec=function(a){a.arc(this.x,this.y,this.radius,0,2*Math.PI)},(c.Ellipse=function(a,b,c,d){this.x=a,this.y=b,this.w=c,this.h=d}).prototype.exec=function(a){var b=this.x,c=this.y,d=this.w,e=this.h,f=.5522848,g=d/2*f,h=e/2*f,i=b+d,j=c+e,k=b+d/2,l=c+e/2;a.moveTo(b,l),a.bezierCurveTo(b,l-h,k-g,c,k,c),a.bezierCurveTo(k+g,c,i,l-h,i,l),a.bezierCurveTo(i,l+h,k+g,j,k,j),a.bezierCurveTo(k-g,j,b,l+h,b,l)},(c.PolyStar=function(a,b,c,d,e,f){this.x=a,this.y=b,this.radius=c,this.sides=d,this.pointSize=e,this.angle=f}).prototype.exec=function(a){var b=this.x,c=this.y,d=this.radius,e=(this.angle||0)/180*Math.PI,f=this.sides,g=1-(this.pointSize||0),h=Math.PI/f;a.moveTo(b+Math.cos(e)*d,c+Math.sin(e)*d);for(var i=0;f>i;i++)e+=h,1!=g&&a.lineTo(b+Math.cos(e)*d*g,c+Math.sin(e)*d*g),e+=h,a.lineTo(b+Math.cos(e)*d,c+Math.sin(e)*d);a.closePath()},a.beginCmd=new c.BeginPath,createjs.Graphics=a}(),this.createjs=this.createjs||{},function(){"use strict";function a(){this.EventDispatcher_constructor(),this.alpha=1,this.cacheCanvas=null,this.cacheID=0,this.id=createjs.UID.get(),this.mouseEnabled=!0,this.tickEnabled=!0,this.name=null,this.parent=null,this.regX=0,this.regY=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.skewX=0,this.skewY=0,this.shadow=null,this.visible=!0,this.x=0,this.y=0,this.transformMatrix=null,this.compositeOperation=null,this.snapToPixel=!0,this.filters=null,this.mask=null,this.hitArea=null,this.cursor=null,this._cacheOffsetX=0,this._cacheOffsetY=0,this._filterOffsetX=0,this._filterOffsetY=0,this._cacheScale=1,this._cacheDataURLID=0,this._cacheDataURL=null,this._props=new createjs.DisplayProps,this._rectangle=new createjs.Rectangle,this._bounds=null}var b=createjs.extend(a,createjs.EventDispatcher);a._MOUSE_EVENTS=["click","dblclick","mousedown","mouseout","mouseover","pressmove","pressup","rollout","rollover"],a.suppressCrossDomainErrors=!1,a._snapToPixelEnabled=!1;var c=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");c.getContext&&(a._hitTestCanvas=c,a._hitTestContext=c.getContext("2d"),c.width=c.height=1),a._nextCacheID=1,b.getStage=function(){for(var a=this,b=createjs.Stage;a.parent;)a=a.parent;return a instanceof b?a:null};try{Object.defineProperties(b,{stage:{get:b.getStage}})}catch(d){}b.isVisible=function(){return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY)},b.draw=function(a,b){var c=this.cacheCanvas;if(b||!c)return!1;var d=this._cacheScale;return a.drawImage(c,this._cacheOffsetX+this._filterOffsetX,this._cacheOffsetY+this._filterOffsetY,c.width/d,c.height/d),!0},b.updateContext=function(b){var c=this,d=c.mask,e=c._props.matrix;d&&d.graphics&&!d.graphics.isEmpty()&&(d.getMatrix(e),b.transform(e.a,e.b,e.c,e.d,e.tx,e.ty),d.graphics.drawAsPath(b),b.clip(),e.invert(),b.transform(e.a,e.b,e.c,e.d,e.tx,e.ty)),this.getMatrix(e);var f=e.tx,g=e.ty;a._snapToPixelEnabled&&c.snapToPixel&&(f=f+(0>f?-.5:.5)|0,g=g+(0>g?-.5:.5)|0),b.transform(e.a,e.b,e.c,e.d,f,g),b.globalAlpha*=c.alpha,c.compositeOperation&&(b.globalCompositeOperation=c.compositeOperation),c.shadow&&this._applyShadow(b,c.shadow)},b.cache=function(a,b,c,d,e){e=e||1,this.cacheCanvas||(this.cacheCanvas=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas")),this._cacheWidth=c,this._cacheHeight=d,this._cacheOffsetX=a,this._cacheOffsetY=b,this._cacheScale=e,this.updateCache()},b.updateCache=function(b){var c=this.cacheCanvas;if(!c)throw"cache() must be called before updateCache()";var d=this._cacheScale,e=this._cacheOffsetX*d,f=this._cacheOffsetY*d,g=this._cacheWidth,h=this._cacheHeight,i=c.getContext("2d"),j=this._getFilterBounds();e+=this._filterOffsetX=j.x,f+=this._filterOffsetY=j.y,g=Math.ceil(g*d)+j.width,h=Math.ceil(h*d)+j.height,g!=c.width||h!=c.height?(c.width=g,c.height=h):b||i.clearRect(0,0,g+1,h+1),i.save(),i.globalCompositeOperation=b,i.setTransform(d,0,0,d,-e,-f),this.draw(i,!0),this._applyFilters(),i.restore(),this.cacheID=a._nextCacheID++},b.uncache=function(){this._cacheDataURL=this.cacheCanvas=null,this.cacheID=this._cacheOffsetX=this._cacheOffsetY=this._filterOffsetX=this._filterOffsetY=0,this._cacheScale=1},b.getCacheDataURL=function(){return this.cacheCanvas?(this.cacheID!=this._cacheDataURLID&&(this._cacheDataURL=this.cacheCanvas.toDataURL()),this._cacheDataURL):null},b.localToGlobal=function(a,b,c){return this.getConcatenatedMatrix(this._props.matrix).transformPoint(a,b,c||new createjs.Point)},b.globalToLocal=function(a,b,c){return this.getConcatenatedMatrix(this._props.matrix).invert().transformPoint(a,b,c||new createjs.Point)},b.localToLocal=function(a,b,c,d){return d=this.localToGlobal(a,b,d),c.globalToLocal(d.x,d.y,d)},b.setTransform=function(a,b,c,d,e,f,g,h,i){return this.x=a||0,this.y=b||0,this.scaleX=null==c?1:c,this.scaleY=null==d?1:d,this.rotation=e||0,this.skewX=f||0,this.skewY=g||0,this.regX=h||0,this.regY=i||0,this},b.getMatrix=function(a){var b=this,c=a&&a.identity()||new createjs.Matrix2D;return b.transformMatrix?c.copy(b.transformMatrix):c.appendTransform(b.x,b.y,b.scaleX,b.scaleY,b.rotation,b.skewX,b.skewY,b.regX,b.regY)},b.getConcatenatedMatrix=function(a){for(var b=this,c=this.getMatrix(a);b=b.parent;)c.prependMatrix(b.getMatrix(b._props.matrix));return c},b.getConcatenatedDisplayProps=function(a){a=a?a.identity():new createjs.DisplayProps;var b=this,c=b.getMatrix(a.matrix);do a.prepend(b.visible,b.alpha,b.shadow,b.compositeOperation),b!=this&&c.prependMatrix(b.getMatrix(b._props.matrix));while(b=b.parent);return a},b.hitTest=function(b,c){var d=a._hitTestContext;d.setTransform(1,0,0,1,-b,-c),this.draw(d);var e=this._testHit(d);return d.setTransform(1,0,0,1,0,0),d.clearRect(0,0,2,2),e},b.set=function(a){for(var b in a)this[b]=a[b];return this},b.getBounds=function(){if(this._bounds)return this._rectangle.copy(this._bounds);var a=this.cacheCanvas;if(a){var b=this._cacheScale;return this._rectangle.setValues(this._cacheOffsetX,this._cacheOffsetY,a.width/b,a.height/b)}return null},b.getTransformedBounds=function(){return this._getBounds()},b.setBounds=function(a,b,c,d){null==a&&(this._bounds=a),this._bounds=(this._bounds||new createjs.Rectangle).setValues(a,b,c,d)},b.clone=function(){return this._cloneProps(new a)},b.toString=function(){return"[DisplayObject (name="+this.name+")]"},b._cloneProps=function(a){return a.alpha=this.alpha,a.mouseEnabled=this.mouseEnabled,a.tickEnabled=this.tickEnabled,a.name=this.name,a.regX=this.regX,a.regY=this.regY,a.rotation=this.rotation,a.scaleX=this.scaleX,a.scaleY=this.scaleY,a.shadow=this.shadow,a.skewX=this.skewX,a.skewY=this.skewY,a.visible=this.visible,a.x=this.x,a.y=this.y,a.compositeOperation=this.compositeOperation,a.snapToPixel=this.snapToPixel,a.filters=null==this.filters?null:this.filters.slice(0),a.mask=this.mask,a.hitArea=this.hitArea,a.cursor=this.cursor,a._bounds=this._bounds,a},b._applyShadow=function(a,b){b=b||Shadow.identity,a.shadowColor=b.color,a.shadowOffsetX=b.offsetX,a.shadowOffsetY=b.offsetY,a.shadowBlur=b.blur},b._tick=function(a){var b=this._listeners;b&&b.tick&&(a.target=null,a.propagationStopped=a.immediatePropagationStopped=!1,this.dispatchEvent(a))},b._testHit=function(b){try{var c=b.getImageData(0,0,1,1).data[3]>1}catch(d){if(!a.suppressCrossDomainErrors)throw"An error has occurred. This is most likely due to security restrictions on reading canvas pixel data with local or cross-domain images."}return c},b._applyFilters=function(){if(this.filters&&0!=this.filters.length&&this.cacheCanvas)for(var a=this.filters.length,b=this.cacheCanvas.getContext("2d"),c=this.cacheCanvas.width,d=this.cacheCanvas.height,e=0;a>e;e++)this.filters[e].applyFilter(b,0,0,c,d)},b._getFilterBounds=function(a){var b,c=this.filters,d=this._rectangle.setValues(0,0,0,0);if(!c||!(b=c.length))return d;for(var e=0;b>e;e++){var f=this.filters[e];f.getBounds&&f.getBounds(d)}return d},b._getBounds=function(a,b){return this._transformBounds(this.getBounds(),a,b)},b._transformBounds=function(a,b,c){if(!a)return a;var d=a.x,e=a.y,f=a.width,g=a.height,h=this._props.matrix;h=c?h.identity():this.getMatrix(h),(d||e)&&h.appendTransform(0,0,1,1,0,0,0,-d,-e),b&&h.prependMatrix(b);var i=f*h.a,j=f*h.b,k=g*h.c,l=g*h.d,m=h.tx,n=h.ty,o=m,p=m,q=n,r=n;return(d=i+m)<o?o=d:d>p&&(p=d),(d=i+k+m)<o?o=d:d>p&&(p=d),(d=k+m)<o?o=d:d>p&&(p=d),(e=j+n)<q?q=e:e>r&&(r=e),(e=j+l+n)<q?q=e:e>r&&(r=e),(e=l+n)<q?q=e:e>r&&(r=e),a.setValues(o,q,p-o,r-q)},b._hasMouseEventListener=function(){for(var b=a._MOUSE_EVENTS,c=0,d=b.length;d>c;c++)if(this.hasEventListener(b[c]))return!0;return!!this.cursor},createjs.DisplayObject=createjs.promote(a,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function a(){this.DisplayObject_constructor(),this.children=[],this.mouseChildren=!0,this.tickChildren=!0}var b=createjs.extend(a,createjs.DisplayObject);b.getNumChildren=function(){return this.children.length};try{Object.defineProperties(b,{numChildren:{get:b.getNumChildren}})}catch(c){}b.initialize=a,b.isVisible=function(){var a=this.cacheCanvas||this.children.length;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&a)},b.draw=function(a,b){if(this.DisplayObject_draw(a,b))return!0;for(var c=this.children.slice(),d=0,e=c.length;e>d;d++){var f=c[d];f.isVisible()&&(a.save(),f.updateContext(a),f.draw(a),a.restore())}return!0},b.addChild=function(a){if(null==a)return a;var b=arguments.length;if(b>1){for(var c=0;b>c;c++)this.addChild(arguments[c]);return arguments[b-1]}return a.parent&&a.parent.removeChild(a),a.parent=this,this.children.push(a),a.dispatchEvent("added"),a},b.addChildAt=function(a,b){var c=arguments.length,d=arguments[c-1];if(0>d||d>this.children.length)return arguments[c-2];if(c>2){for(var e=0;c-1>e;e++)this.addChildAt(arguments[e],d+e);return arguments[c-2]}return a.parent&&a.parent.removeChild(a),a.parent=this,this.children.splice(b,0,a),a.dispatchEvent("added"),a},b.removeChild=function(a){var b=arguments.length;if(b>1){for(var c=!0,d=0;b>d;d++)c=c&&this.removeChild(arguments[d]);return c}return this.removeChildAt(createjs.indexOf(this.children,a))},b.removeChildAt=function(a){var b=arguments.length;if(b>1){for(var c=[],d=0;b>d;d++)c[d]=arguments[d];c.sort(function(a,b){return b-a});for(var e=!0,d=0;b>d;d++)e=e&&this.removeChildAt(c[d]);return e}if(0>a||a>this.children.length-1)return!1;var f=this.children[a];return f&&(f.parent=null),this.children.splice(a,1),f.dispatchEvent("removed"),!0},b.removeAllChildren=function(){for(var a=this.children;a.length;)this.removeChildAt(0)},b.getChildAt=function(a){return this.children[a]},b.getChildByName=function(a){for(var b=this.children,c=0,d=b.length;d>c;c++)if(b[c].name==a)return b[c];return null},b.sortChildren=function(a){this.children.sort(a)},b.getChildIndex=function(a){return createjs.indexOf(this.children,a)},b.swapChildrenAt=function(a,b){var c=this.children,d=c[a],e=c[b];d&&e&&(c[a]=e,c[b]=d)},b.swapChildren=function(a,b){for(var c,d,e=this.children,f=0,g=e.length;g>f&&(e[f]==a&&(c=f),e[f]==b&&(d=f),null==c||null==d);f++);f!=g&&(e[c]=b,e[d]=a)},b.setChildIndex=function(a,b){var c=this.children,d=c.length;if(!(a.parent!=this||0>b||b>=d)){for(var e=0;d>e&&c[e]!=a;e++);e!=d&&e!=b&&(c.splice(e,1),c.splice(b,0,a))}},b.contains=function(a){for(;a;){if(a==this)return!0;a=a.parent}return!1},b.hitTest=function(a,b){return null!=this.getObjectUnderPoint(a,b)},b.getObjectsUnderPoint=function(a,b,c){var d=[],e=this.localToGlobal(a,b);return this._getObjectsUnderPoint(e.x,e.y,d,c>0,1==c),d},b.getObjectUnderPoint=function(a,b,c){var d=this.localToGlobal(a,b);return this._getObjectsUnderPoint(d.x,d.y,null,c>0,1==c)},b.getBounds=function(){return this._getBounds(null,!0)},b.getTransformedBounds=function(){return this._getBounds()},b.clone=function(b){var c=this._cloneProps(new a);return b&&this._cloneChildren(c),c},b.toString=function(){return"[Container (name="+this.name+")]"},b._tick=function(a){if(this.tickChildren)for(var b=this.children.length-1;b>=0;b--){var c=this.children[b];c.tickEnabled&&c._tick&&c._tick(a)}this.DisplayObject__tick(a)},b._cloneChildren=function(a){a.children.length&&a.removeAllChildren();for(var b=a.children,c=0,d=this.children.length;d>c;c++){var e=this.children[c].clone(!0);e.parent=a,b.push(e)}},b._getObjectsUnderPoint=function(b,c,d,e,f,g){if(g=g||0,!g&&!this._testMask(this,b,c))return null;var h,i=createjs.DisplayObject._hitTestContext;f=f||e&&this._hasMouseEventListener();for(var j=this.children,k=j.length,l=k-1;l>=0;l--){var m=j[l],n=m.hitArea;if(m.visible&&(n||m.isVisible())&&(!e||m.mouseEnabled)&&(n||this._testMask(m,b,c)))if(!n&&m instanceof a){var o=m._getObjectsUnderPoint(b,c,d,e,f,g+1);if(!d&&o)return e&&!this.mouseChildren?this:o}else{if(e&&!f&&!m._hasMouseEventListener())continue;var p=m.getConcatenatedDisplayProps(m._props);if(h=p.matrix,n&&(h.appendMatrix(n.getMatrix(n._props.matrix)),p.alpha=n.alpha),i.globalAlpha=p.alpha,i.setTransform(h.a,h.b,h.c,h.d,h.tx-b,h.ty-c),(n||m).draw(i),!this._testHit(i))continue;if(i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,2,2),!d)return e&&!this.mouseChildren?this:m;d.push(m)}}return null},b._testMask=function(a,b,c){var d=a.mask;if(!d||!d.graphics||d.graphics.isEmpty())return!0;var e=this._props.matrix,f=a.parent;e=f?f.getConcatenatedMatrix(e):e.identity(),e=d.getMatrix(d._props.matrix).prependMatrix(e);var g=createjs.DisplayObject._hitTestContext;return g.setTransform(e.a,e.b,e.c,e.d,e.tx-b,e.ty-c),d.graphics.drawAsPath(g),g.fillStyle="#000",g.fill(),!!this._testHit(g)&&(g.setTransform(1,0,0,1,0,0),g.clearRect(0,0,2,2),!0)},b._getBounds=function(a,b){var c=this.DisplayObject_getBounds();if(c)return this._transformBounds(c,a,b);var d=this._props.matrix;d=b?d.identity():this.getMatrix(d),a&&d.prependMatrix(a);for(var e=this.children.length,f=null,g=0;e>g;g++){var h=this.children[g];h.visible&&(c=h._getBounds(d))&&(f?f.extend(c.x,c.y,c.width,c.height):f=c.clone())}return f},createjs.Container=createjs.promote(a,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a){this.Container_constructor(),this.autoClear=!0,this.canvas="string"==typeof a?document.getElementById(a):a,this.mouseX=0,this.mouseY=0,this.drawRect=null,this.snapToPixelEnabled=!1,this.mouseInBounds=!1,this.tickOnUpdate=!0,this.mouseMoveOutside=!1,this.preventSelection=!0,this._pointerData={},this._pointerCount=0,this._primaryPointerID=null,this._mouseOverIntervalID=null,this._nextStage=null,this._prevStage=null,this.enableDOMEvents(!0)}var b=createjs.extend(a,createjs.Container);b._get_nextStage=function(){return this._nextStage},b._set_nextStage=function(a){this._nextStage&&(this._nextStage._prevStage=null),a&&(a._prevStage=this),this._nextStage=a};try{Object.defineProperties(b,{nextStage:{get:b._get_nextStage,set:b._set_nextStage}})}catch(c){}b.update=function(a){if(this.canvas&&(this.tickOnUpdate&&this.tick(a),this.dispatchEvent("drawstart",!1,!0)!==!1)){createjs.DisplayObject._snapToPixelEnabled=this.snapToPixelEnabled;var b=this.drawRect,c=this.canvas.getContext("2d");c.setTransform(1,0,0,1,0,0),this.autoClear&&(b?c.clearRect(b.x,b.y,b.width,b.height):c.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)),c.save(),this.drawRect&&(c.beginPath(),c.rect(b.x,b.y,b.width,b.height),c.clip()),this.updateContext(c),this.draw(c,!1),c.restore(),this.dispatchEvent("drawend")}},b.tick=function(a){if(this.tickEnabled&&this.dispatchEvent("tickstart",!1,!0)!==!1){var b=new createjs.Event("tick");if(a)for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);this._tick(b),this.dispatchEvent("tickend")}},b.handleEvent=function(a){"tick"==a.type&&this.update(a)},b.clear=function(){if(this.canvas){var a=this.canvas.getContext("2d");a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)}},b.toDataURL=function(a,b){
var c,d=this.canvas.getContext("2d"),e=this.canvas.width,f=this.canvas.height;if(a){c=d.getImageData(0,0,e,f);var g=d.globalCompositeOperation;d.globalCompositeOperation="destination-over",d.fillStyle=a,d.fillRect(0,0,e,f)}var h=this.canvas.toDataURL(b||"image/png");return a&&(d.putImageData(c,0,0),d.globalCompositeOperation=g),h},b.enableMouseOver=function(a){if(this._mouseOverIntervalID&&(clearInterval(this._mouseOverIntervalID),this._mouseOverIntervalID=null,0==a&&this._testMouseOver(!0)),null==a)a=20;else if(0>=a)return;var b=this;this._mouseOverIntervalID=setInterval(function(){b._testMouseOver()},1e3/Math.min(50,a))},b.enableDOMEvents=function(a){null==a&&(a=!0);var b,c,d=this._eventListeners;if(!a&&d){for(b in d)c=d[b],c.t.removeEventListener(b,c.f,!1);this._eventListeners=null}else if(a&&!d&&this.canvas){var e=window.addEventListener?window:document,f=this;d=this._eventListeners={},d.mouseup={t:e,f:function(a){f._handleMouseUp(a)}},d.mousemove={t:e,f:function(a){f._handleMouseMove(a)}},d.dblclick={t:this.canvas,f:function(a){f._handleDoubleClick(a)}},d.mousedown={t:this.canvas,f:function(a){f._handleMouseDown(a)}};for(b in d)c=d[b],c.t.addEventListener(b,c.f,!1)}},b.clone=function(){throw"Stage cannot be cloned."},b.toString=function(){return"[Stage (name="+this.name+")]"},b._getElementRect=function(a){var b;try{b=a.getBoundingClientRect()}catch(c){b={top:a.offsetTop,left:a.offsetLeft,width:a.offsetWidth,height:a.offsetHeight}}var d=(window.pageXOffset||document.scrollLeft||0)-(document.clientLeft||document.body.clientLeft||0),e=(window.pageYOffset||document.scrollTop||0)-(document.clientTop||document.body.clientTop||0),f=window.getComputedStyle?getComputedStyle(a,null):a.currentStyle,g=parseInt(f.paddingLeft)+parseInt(f.borderLeftWidth),h=parseInt(f.paddingTop)+parseInt(f.borderTopWidth),i=parseInt(f.paddingRight)+parseInt(f.borderRightWidth),j=parseInt(f.paddingBottom)+parseInt(f.borderBottomWidth);return{left:b.left+d+g,right:b.right+d-i,top:b.top+e+h,bottom:b.bottom+e-j}},b._getPointerData=function(a){var b=this._pointerData[a];return b||(b=this._pointerData[a]={x:0,y:0}),b},b._handleMouseMove=function(a){a||(a=window.event),this._handlePointerMove(-1,a,a.pageX,a.pageY)},b._handlePointerMove=function(a,b,c,d,e){if((!this._prevStage||void 0!==e)&&this.canvas){var f=this._nextStage,g=this._getPointerData(a),h=g.inBounds;this._updatePointerPosition(a,b,c,d),(h||g.inBounds||this.mouseMoveOutside)&&(-1===a&&g.inBounds==!h&&this._dispatchMouseEvent(this,h?"mouseleave":"mouseenter",!1,a,g,b),this._dispatchMouseEvent(this,"stagemousemove",!1,a,g,b),this._dispatchMouseEvent(g.target,"pressmove",!0,a,g,b)),f&&f._handlePointerMove(a,b,c,d,null)}},b._updatePointerPosition=function(a,b,c,d){var e=this._getElementRect(this.canvas);c-=e.left,d-=e.top;var f=this.canvas.width,g=this.canvas.height;c/=(e.right-e.left)/f,d/=(e.bottom-e.top)/g;var h=this._getPointerData(a);(h.inBounds=c>=0&&d>=0&&f-1>=c&&g-1>=d)?(h.x=c,h.y=d):this.mouseMoveOutside&&(h.x=0>c?0:c>f-1?f-1:c,h.y=0>d?0:d>g-1?g-1:d),h.posEvtObj=b,h.rawX=c,h.rawY=d,(a===this._primaryPointerID||-1===a)&&(this.mouseX=h.x,this.mouseY=h.y,this.mouseInBounds=h.inBounds)},b._handleMouseUp=function(a){this._handlePointerUp(-1,a,!1)},b._handlePointerUp=function(a,b,c,d){var e=this._nextStage,f=this._getPointerData(a);if(!this._prevStage||void 0!==d){var g=null,h=f.target;d||!h&&!e||(g=this._getObjectsUnderPoint(f.x,f.y,null,!0)),f.down&&(this._dispatchMouseEvent(this,"stagemouseup",!1,a,f,b,g),f.down=!1),g==h&&this._dispatchMouseEvent(h,"click",!0,a,f,b),this._dispatchMouseEvent(h,"pressup",!0,a,f,b),c?(a==this._primaryPointerID&&(this._primaryPointerID=null),delete this._pointerData[a]):f.target=null,e&&e._handlePointerUp(a,b,c,d||g&&this)}},b._handleMouseDown=function(a){this._handlePointerDown(-1,a,a.pageX,a.pageY)},b._handlePointerDown=function(a,b,c,d,e){this.preventSelection&&b.preventDefault(),(null==this._primaryPointerID||-1===a)&&(this._primaryPointerID=a),null!=d&&this._updatePointerPosition(a,b,c,d);var f=null,g=this._nextStage,h=this._getPointerData(a);e||(f=h.target=this._getObjectsUnderPoint(h.x,h.y,null,!0)),h.inBounds&&(this._dispatchMouseEvent(this,"stagemousedown",!1,a,h,b,f),h.down=!0),this._dispatchMouseEvent(f,"mousedown",!0,a,h,b),g&&g._handlePointerDown(a,b,c,d,e||f&&this)},b._testMouseOver=function(a,b,c){if(!this._prevStage||void 0!==b){var d=this._nextStage;if(!this._mouseOverIntervalID)return void(d&&d._testMouseOver(a,b,c));var e=this._getPointerData(-1);if(e&&(a||this.mouseX!=this._mouseOverX||this.mouseY!=this._mouseOverY||!this.mouseInBounds)){var f,g,h,i=e.posEvtObj,j=c||i&&i.target==this.canvas,k=null,l=-1,m="";!b&&(a||this.mouseInBounds&&j)&&(k=this._getObjectsUnderPoint(this.mouseX,this.mouseY,null,!0),this._mouseOverX=this.mouseX,this._mouseOverY=this.mouseY);var n=this._mouseOverTarget||[],o=n[n.length-1],p=this._mouseOverTarget=[];for(f=k;f;)p.unshift(f),m||(m=f.cursor),f=f.parent;for(this.canvas.style.cursor=m,!b&&c&&(c.canvas.style.cursor=m),g=0,h=p.length;h>g&&p[g]==n[g];g++)l=g;for(o!=k&&this._dispatchMouseEvent(o,"mouseout",!0,-1,e,i,k),g=n.length-1;g>l;g--)this._dispatchMouseEvent(n[g],"rollout",!1,-1,e,i,k);for(g=p.length-1;g>l;g--)this._dispatchMouseEvent(p[g],"rollover",!1,-1,e,i,o);o!=k&&this._dispatchMouseEvent(k,"mouseover",!0,-1,e,i,o),d&&d._testMouseOver(a,b||k&&this,c||j&&this)}}},b._handleDoubleClick=function(a,b){var c=null,d=this._nextStage,e=this._getPointerData(-1);b||(c=this._getObjectsUnderPoint(e.x,e.y,null,!0),this._dispatchMouseEvent(c,"dblclick",!0,-1,e,a)),d&&d._handleDoubleClick(a,b||c&&this)},b._dispatchMouseEvent=function(a,b,c,d,e,f,g){if(a&&(c||a.hasEventListener(b))){var h=new createjs.MouseEvent(b,c,(!1),e.x,e.y,f,d,d===this._primaryPointerID||-1===d,e.rawX,e.rawY,g);a.dispatchEvent(h)}},createjs.Stage=createjs.promote(a,"Container")}(),this.createjs=this.createjs||{},function(){function a(a){this.DisplayObject_constructor(),"string"==typeof a?(this.image=document.createElement("img"),this.image.src=a):this.image=a,this.sourceRect=null}var b=createjs.extend(a,createjs.DisplayObject);b.initialize=a,b.isVisible=function(){var a=this.image,b=this.cacheCanvas||a&&(a.naturalWidth||a.getContext||a.readyState>=2);return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&b)},b.draw=function(a,b){if(this.DisplayObject_draw(a,b)||!this.image)return!0;var c=this.image,d=this.sourceRect;if(d){var e=d.x,f=d.y,g=e+d.width,h=f+d.height,i=0,j=0,k=c.width,l=c.height;0>e&&(i-=e,e=0),g>k&&(g=k),0>f&&(j-=f,f=0),h>l&&(h=l),a.drawImage(c,e,f,g-e,h-f,i,j,g-e,h-f)}else a.drawImage(c,0,0);return!0},b.getBounds=function(){var a=this.DisplayObject_getBounds();if(a)return a;var b=this.image,c=this.sourceRect||b,d=b&&(b.naturalWidth||b.getContext||b.readyState>=2);return d?this._rectangle.setValues(0,0,c.width,c.height):null},b.clone=function(){var b=new a(this.image);return this.sourceRect&&(b.sourceRect=this.sourceRect.clone()),this._cloneProps(b),b},b.toString=function(){return"[Bitmap (name="+this.name+")]"},createjs.Bitmap=createjs.promote(a,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a,b){this.DisplayObject_constructor(),this.currentFrame=0,this.currentAnimation=null,this.paused=!0,this.spriteSheet=a,this.currentAnimationFrame=0,this.framerate=0,this._animation=null,this._currentFrame=null,this._skipAdvance=!1,null!=b&&this.gotoAndPlay(b)}var b=createjs.extend(a,createjs.DisplayObject);b.initialize=a,b.isVisible=function(){var a=this.cacheCanvas||this.spriteSheet.complete;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&a)},b.draw=function(a,b){if(this.DisplayObject_draw(a,b))return!0;this._normalizeFrame();var c=this.spriteSheet.getFrame(0|this._currentFrame);if(!c)return!1;var d=c.rect;return d.width&&d.height&&a.drawImage(c.image,d.x,d.y,d.width,d.height,-c.regX,-c.regY,d.width,d.height),!0},b.play=function(){this.paused=!1},b.stop=function(){this.paused=!0},b.gotoAndPlay=function(a){this.paused=!1,this._skipAdvance=!0,this._goto(a)},b.gotoAndStop=function(a){this.paused=!0,this._goto(a)},b.advance=function(a){var b=this.framerate||this.spriteSheet.framerate,c=b&&null!=a?a/(1e3/b):1;this._normalizeFrame(c)},b.getBounds=function(){return this.DisplayObject_getBounds()||this.spriteSheet.getFrameBounds(this.currentFrame,this._rectangle)},b.clone=function(){return this._cloneProps(new a(this.spriteSheet))},b.toString=function(){return"[Sprite (name="+this.name+")]"},b._cloneProps=function(a){return this.DisplayObject__cloneProps(a),a.currentFrame=this.currentFrame,a.currentAnimation=this.currentAnimation,a.paused=this.paused,a.currentAnimationFrame=this.currentAnimationFrame,a.framerate=this.framerate,a._animation=this._animation,a._currentFrame=this._currentFrame,a._skipAdvance=this._skipAdvance,a},b._tick=function(a){this.paused||(this._skipAdvance||this.advance(a&&a.delta),this._skipAdvance=!1),this.DisplayObject__tick(a)},b._normalizeFrame=function(a){a=a||0;var b,c=this._animation,d=this.paused,e=this._currentFrame;if(c){var f=c.speed||1,g=this.currentAnimationFrame;if(b=c.frames.length,g+a*f>=b){var h=c.next;if(this._dispatchAnimationEnd(c,e,d,h,b-1))return;if(h)return this._goto(h,a-(b-g)/f);this.paused=!0,g=c.frames.length-1}else g+=a*f;this.currentAnimationFrame=g,this._currentFrame=c.frames[0|g]}else if(e=this._currentFrame+=a,b=this.spriteSheet.getNumFrames(),e>=b&&b>0&&!this._dispatchAnimationEnd(c,e,d,b-1)&&(this._currentFrame-=b)>=b)return this._normalizeFrame();e=0|this._currentFrame,this.currentFrame!=e&&(this.currentFrame=e,this.dispatchEvent("change"))},b._dispatchAnimationEnd=function(a,b,c,d,e){var f=a?a.name:null;if(this.hasEventListener("animationend")){var g=new createjs.Event("animationend");g.name=f,g.next=d,this.dispatchEvent(g)}var h=this._animation!=a||this._currentFrame!=b;return h||c||!this.paused||(this.currentAnimationFrame=e,h=!0),h},b._goto=function(a,b){if(this.currentAnimationFrame=0,isNaN(a)){var c=this.spriteSheet.getAnimation(a);c&&(this._animation=c,this.currentAnimation=a,this._normalizeFrame(b))}else this.currentAnimation=this._animation=null,this._currentFrame=a,this._normalizeFrame()},createjs.Sprite=createjs.promote(a,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a){this.DisplayObject_constructor(),this.graphics=a?a:new createjs.Graphics}var b=createjs.extend(a,createjs.DisplayObject);b.isVisible=function(){var a=this.cacheCanvas||this.graphics&&!this.graphics.isEmpty();return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&a)},b.draw=function(a,b){return!!this.DisplayObject_draw(a,b)||(this.graphics.draw(a,this),!0)},b.clone=function(b){var c=b&&this.graphics?this.graphics.clone():this.graphics;return this._cloneProps(new a(c))},b.toString=function(){return"[Shape (name="+this.name+")]"},createjs.Shape=createjs.promote(a,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a,b,c){this.DisplayObject_constructor(),this.text=a,this.font=b,this.color=c,this.textAlign="left",this.textBaseline="top",this.maxWidth=null,this.outline=0,this.lineHeight=0,this.lineWidth=null}var b=createjs.extend(a,createjs.DisplayObject),c=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");c.getContext&&(a._workingContext=c.getContext("2d"),c.width=c.height=1),a.H_OFFSETS={start:0,left:0,center:-.5,end:-1,right:-1},a.V_OFFSETS={top:0,hanging:-.01,middle:-.4,alphabetic:-.8,ideographic:-.85,bottom:-1},b.isVisible=function(){var a=this.cacheCanvas||null!=this.text&&""!==this.text;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&a)},b.draw=function(a,b){if(this.DisplayObject_draw(a,b))return!0;var c=this.color||"#000";return this.outline?(a.strokeStyle=c,a.lineWidth=1*this.outline):a.fillStyle=c,this._drawText(this._prepContext(a)),!0},b.getMeasuredWidth=function(){return this._getMeasuredWidth(this.text)},b.getMeasuredLineHeight=function(){return 1.2*this._getMeasuredWidth("M")},b.getMeasuredHeight=function(){return this._drawText(null,{}).height},b.getBounds=function(){var b=this.DisplayObject_getBounds();if(b)return b;if(null==this.text||""===this.text)return null;var c=this._drawText(null,{}),d=this.maxWidth&&this.maxWidth<c.width?this.maxWidth:c.width,e=d*a.H_OFFSETS[this.textAlign||"left"],f=this.lineHeight||this.getMeasuredLineHeight(),g=f*a.V_OFFSETS[this.textBaseline||"top"];return this._rectangle.setValues(e,g,d,c.height)},b.getMetrics=function(){var b={lines:[]};return b.lineHeight=this.lineHeight||this.getMeasuredLineHeight(),b.vOffset=b.lineHeight*a.V_OFFSETS[this.textBaseline||"top"],this._drawText(null,b,b.lines)},b.clone=function(){return this._cloneProps(new a(this.text,this.font,this.color))},b.toString=function(){return"[Text (text="+(this.text.length>20?this.text.substr(0,17)+"...":this.text)+")]"},b._cloneProps=function(a){return this.DisplayObject__cloneProps(a),a.textAlign=this.textAlign,a.textBaseline=this.textBaseline,a.maxWidth=this.maxWidth,a.outline=this.outline,a.lineHeight=this.lineHeight,a.lineWidth=this.lineWidth,a},b._prepContext=function(a){return a.font=this.font||"10px sans-serif",a.textAlign=this.textAlign||"left",a.textBaseline=this.textBaseline||"top",a},b._drawText=function(b,c,d){var e=!!b;e||(b=a._workingContext,b.save(),this._prepContext(b));for(var f=this.lineHeight||this.getMeasuredLineHeight(),g=0,h=0,i=String(this.text).split(/(?:\r\n|\r|\n)/),j=0,k=i.length;k>j;j++){var l=i[j],m=null;if(null!=this.lineWidth&&(m=b.measureText(l).width)>this.lineWidth){var n=l.split(/(\s)/);l=n[0],m=b.measureText(l).width;for(var o=1,p=n.length;p>o;o+=2){var q=b.measureText(n[o]+n[o+1]).width;m+q>this.lineWidth?(e&&this._drawTextLine(b,l,h*f),d&&d.push(l),m>g&&(g=m),l=n[o+1],m=b.measureText(l).width,h++):(l+=n[o]+n[o+1],m+=q)}}e&&this._drawTextLine(b,l,h*f),d&&d.push(l),c&&null==m&&(m=b.measureText(l).width),m>g&&(g=m),h++}return c&&(c.width=g,c.height=h*f),e||b.restore(),c},b._drawTextLine=function(a,b,c){this.outline?a.strokeText(b,0,c,this.maxWidth||65535):a.fillText(b,0,c,this.maxWidth||65535)},b._getMeasuredWidth=function(b){var c=a._workingContext;c.save();var d=this._prepContext(c).measureText(b).width;return c.restore(),d},createjs.Text=createjs.promote(a,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a,b){this.Container_constructor(),this.text=a||"",this.spriteSheet=b,this.lineHeight=0,this.letterSpacing=0,this.spaceWidth=0,this._oldProps={text:0,spriteSheet:0,lineHeight:0,letterSpacing:0,spaceWidth:0}}var b=createjs.extend(a,createjs.Container);a.maxPoolSize=100,a._spritePool=[],b.draw=function(a,b){this.DisplayObject_draw(a,b)||(this._updateText(),this.Container_draw(a,b))},b.getBounds=function(){return this._updateText(),this.Container_getBounds()},b.isVisible=function(){var a=this.cacheCanvas||this.spriteSheet&&this.spriteSheet.complete&&this.text;return!!(this.visible&&this.alpha>0&&0!==this.scaleX&&0!==this.scaleY&&a)},b.clone=function(){return this._cloneProps(new a(this.text,this.spriteSheet))},b.addChild=b.addChildAt=b.removeChild=b.removeChildAt=b.removeAllChildren=function(){},b._cloneProps=function(a){return this.Container__cloneProps(a),a.lineHeight=this.lineHeight,a.letterSpacing=this.letterSpacing,a.spaceWidth=this.spaceWidth,a},b._getFrameIndex=function(a,b){var c,d=b.getAnimation(a);return d||(a!=(c=a.toUpperCase())||a!=(c=a.toLowerCase())||(c=null),c&&(d=b.getAnimation(c))),d&&d.frames[0]},b._getFrame=function(a,b){var c=this._getFrameIndex(a,b);return null==c?c:b.getFrame(c)},b._getLineHeight=function(a){var b=this._getFrame("1",a)||this._getFrame("T",a)||this._getFrame("L",a)||a.getFrame(0);return b?b.rect.height:1},b._getSpaceWidth=function(a){var b=this._getFrame("1",a)||this._getFrame("l",a)||this._getFrame("e",a)||this._getFrame("a",a)||a.getFrame(0);return b?b.rect.width:1},b._updateText=function(){var b,c=0,d=0,e=this._oldProps,f=!1,g=this.spaceWidth,h=this.lineHeight,i=this.spriteSheet,j=a._spritePool,k=this.children,l=0,m=k.length;for(var n in e)e[n]!=this[n]&&(e[n]=this[n],f=!0);if(f){var o=!!this._getFrame(" ",i);o||g||(g=this._getSpaceWidth(i)),h||(h=this._getLineHeight(i));for(var p=0,q=this.text.length;q>p;p++){var r=this.text.charAt(p);if(" "!=r||o)if("\n"!=r&&"\r"!=r){var s=this._getFrameIndex(r,i);null!=s&&(m>l?b=k[l]:(k.push(b=j.length?j.pop():new createjs.Sprite),b.parent=this,m++),b.spriteSheet=i,b.gotoAndStop(s),b.x=c,b.y=d,l++,c+=b.getBounds().width+this.letterSpacing)}else"\r"==r&&"\n"==this.text.charAt(p+1)&&p++,c=0,d+=h;else c+=g}for(;m>l;)j.push(b=k.pop()),b.parent=null,m--;j.length>a.maxPoolSize&&(j.length=a.maxPoolSize)}},createjs.BitmapText=createjs.promote(a,"Container")}(),this.createjs=this.createjs||{},function(){"use strict";function a(b,c,d,e){this.Container_constructor(),!a.inited&&a.init(),this.mode=b||a.INDEPENDENT,this.startPosition=c||0,this.loop=d,this.currentFrame=0,this.timeline=new createjs.Timeline(null,e,{paused:!0,position:c,useTicks:!0}),this.paused=!1,this.actionsEnabled=!0,this.autoReset=!0,this.frameBounds=this.frameBounds||null,this.framerate=null,this._synchOffset=0,this._prevPos=-1,this._prevPosition=0,this._t=0,this._managed={}}function b(){throw"MovieClipPlugin cannot be instantiated."}var c=createjs.extend(a,createjs.Container);a.INDEPENDENT="independent",a.SINGLE_FRAME="single",a.SYNCHED="synched",a.inited=!1,a.init=function(){a.inited||(b.install(),a.inited=!0)},c.getLabels=function(){return this.timeline.getLabels()},c.getCurrentLabel=function(){return this._updateTimeline(),this.timeline.getCurrentLabel()},c.getDuration=function(){return this.timeline.duration};try{Object.defineProperties(c,{labels:{get:c.getLabels},currentLabel:{get:c.getCurrentLabel},totalFrames:{get:c.getDuration},duration:{get:c.getDuration}})}catch(d){}c.initialize=a,c.isVisible=function(){return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY)},c.draw=function(a,b){return!!this.DisplayObject_draw(a,b)||(this._updateTimeline(),this.Container_draw(a,b),!0)},c.play=function(){this.paused=!1},c.stop=function(){this.paused=!0},c.gotoAndPlay=function(a){this.paused=!1,this._goto(a)},c.gotoAndStop=function(a){this.paused=!0,this._goto(a)},c.advance=function(b){var c=a.INDEPENDENT;if(this.mode==c){for(var d=this,e=d.framerate;(d=d.parent)&&null==e;)d.mode==c&&(e=d._framerate);this._framerate=e;var f=null!=e&&-1!=e&&null!=b?b/(1e3/e)+this._t:1,g=0|f;for(this._t=f-g;!this.paused&&g--;)this._prevPosition=this._prevPos<0?0:this._prevPosition+1,this._updateTimeline()}},c.clone=function(){throw"MovieClip cannot be cloned."},c.toString=function(){return"[MovieClip (name="+this.name+")]"},c._tick=function(a){this.advance(a&&a.delta),this.Container__tick(a)},c._goto=function(a){var b=this.timeline.resolve(a);null!=b&&(-1==this._prevPos&&(this._prevPos=NaN),this._prevPosition=b,this._t=0,this._updateTimeline())},c._reset=function(){this._prevPos=-1,this._t=this.currentFrame=0,this.paused=!1},c._updateTimeline=function(){var b=this.timeline,c=this.mode!=a.INDEPENDENT;b.loop=null==this.loop||this.loop;var d=c?this.startPosition+(this.mode==a.SINGLE_FRAME?0:this._synchOffset):this._prevPos<0?0:this._prevPosition,e=c||!this.actionsEnabled?createjs.Tween.NONE:null;if(this.currentFrame=b._calcPosition(d),b.setPosition(d,e),this._prevPosition=b._prevPosition,this._prevPos!=b._prevPos){this.currentFrame=this._prevPos=b._prevPos;for(var f in this._managed)this._managed[f]=1;for(var g=b._tweens,h=0,i=g.length;i>h;h++){var j=g[h],k=j._target;if(k!=this&&!j.passive){var l=j._stepPosition;k instanceof createjs.DisplayObject?this._addManagedChild(k,l):this._setState(k.state,l)}}var m=this.children;for(h=m.length-1;h>=0;h--){var n=m[h].id;1==this._managed[n]&&(this.removeChildAt(h),delete this._managed[n])}}},c._setState=function(a,b){if(a)for(var c=a.length-1;c>=0;c--){var d=a[c],e=d.t,f=d.p;for(var g in f)e[g]=f[g];this._addManagedChild(e,b)}},c._addManagedChild=function(b,c){b._off||(this.addChildAt(b,0),b instanceof a&&(b._synchOffset=c,b.mode==a.INDEPENDENT&&b.autoReset&&!this._managed[b.id]&&b._reset()),this._managed[b.id]=2)},c._getBounds=function(a,b){var c=this.DisplayObject_getBounds();return c||(this._updateTimeline(),this.frameBounds&&(c=this._rectangle.copy(this.frameBounds[this.currentFrame]))),c?this._transformBounds(c,a,b):this.Container__getBounds(a,b)},createjs.MovieClip=createjs.promote(a,"Container"),b.priority=100,b.install=function(){createjs.Tween.installPlugin(b,["startPosition"])},b.init=function(a,b,c){return c},b.step=function(){},b.tween=function(b,c,d,e,f,g,h,i){return b.target instanceof a?1==g?f[c]:e[c]:d}}(),this.createjs=this.createjs||{},function(){"use strict";function a(){throw"SpriteSheetUtils cannot be instantiated"}var b=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");b.getContext&&(a._workingCanvas=b,a._workingContext=b.getContext("2d"),b.width=b.height=1),a.addFlippedFrames=function(b,c,d,e){if(c||d||e){var f=0;c&&a._flip(b,++f,!0,!1),d&&a._flip(b,++f,!1,!0),e&&a._flip(b,++f,!0,!0)}},a.extractFrame=function(b,c){isNaN(c)&&(c=b.getAnimation(c).frames[0]);var d=b.getFrame(c);if(!d)return null;var e=d.rect,f=a._workingCanvas;f.width=e.width,f.height=e.height,a._workingContext.drawImage(d.image,e.x,e.y,e.width,e.height,0,0,e.width,e.height);var g=document.createElement("img");return g.src=f.toDataURL("image/png"),g},a.mergeAlpha=function(a,b,c){c||(c=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas")),c.width=Math.max(b.width,a.width),c.height=Math.max(b.height,a.height);var d=c.getContext("2d");return d.save(),d.drawImage(a,0,0),d.globalCompositeOperation="destination-in",d.drawImage(b,0,0),d.restore(),c},a._flip=function(b,c,d,e){for(var f=b._images,g=a._workingCanvas,h=a._workingContext,i=f.length/c,j=0;i>j;j++){var k=f[j];k.__tmp=j,h.setTransform(1,0,0,1,0,0),h.clearRect(0,0,g.width+1,g.height+1),g.width=k.width,g.height=k.height,h.setTransform(d?-1:1,0,0,e?-1:1,d?k.width:0,e?k.height:0),h.drawImage(k,0,0);var l=document.createElement("img");l.src=g.toDataURL("image/png"),l.width=k.width,l.height=k.height,f.push(l)}var m=b._frames,n=m.length/c;for(j=0;n>j;j++){k=m[j];var o=k.rect.clone();l=f[k.image.__tmp+i*c];var p={image:l,rect:o,regX:k.regX,regY:k.regY};d&&(o.x=l.width-o.x-o.width,p.regX=o.width-k.regX),e&&(o.y=l.height-o.y-o.height,p.regY=o.height-k.regY),m.push(p)}var q="_"+(d?"h":"")+(e?"v":""),r=b._animations,s=b._data,t=r.length/c;for(j=0;t>j;j++){var u=r[j];k=s[u];var v={name:u+q,speed:k.speed,next:k.next,frames:[]};k.next&&(v.next+=q),m=k.frames;for(var w=0,x=m.length;x>w;w++)v.frames.push(m[w]+n*c);s[v.name]=v,r.push(v.name)}},createjs.SpriteSheetUtils=a}(),this.createjs=this.createjs||{},function(){"use strict";function a(a){this.EventDispatcher_constructor(),this.maxWidth=2048,this.maxHeight=2048,this.spriteSheet=null,this.scale=1,this.padding=1,this.timeSlice=.3,this.progress=-1,this.framerate=a||0,this._frames=[],this._animations={},this._data=null,this._nextFrameIndex=0,this._index=0,this._timerID=null,this._scale=1}var b=createjs.extend(a,createjs.EventDispatcher);a.ERR_DIMENSIONS="frame dimensions exceed max spritesheet dimensions",a.ERR_RUNNING="a build is already running",b.addFrame=function(b,c,d,e,f){if(this._data)throw a.ERR_RUNNING;var g=c||b.bounds||b.nominalBounds;return!g&&b.getBounds&&(g=b.getBounds()),g?(d=d||1,this._frames.push({source:b,sourceRect:g,scale:d,funct:e,data:f,index:this._frames.length,height:g.height*d})-1):null},b.addAnimation=function(b,c,d,e){if(this._data)throw a.ERR_RUNNING;this._animations[b]={frames:c,next:d,speed:e}},b.addMovieClip=function(b,c,d,e,f,g){if(this._data)throw a.ERR_RUNNING;var h=b.frameBounds,i=c||b.bounds||b.nominalBounds;if(!i&&b.getBounds&&(i=b.getBounds()),i||h){var j,k,l=this._frames.length,m=b.timeline.duration;for(j=0;m>j;j++){var n=h&&h[j]?h[j]:i;this.addFrame(b,n,d,this._setupMovieClipFrame,{i:j,f:e,d:f})}var o=b.timeline._labels,p=[];for(var q in o)p.push({index:o[q],label:q});if(p.length)for(p.sort(function(a,b){return a.index-b.index}),j=0,k=p.length;k>j;j++){for(var r=p[j].label,s=l+p[j].index,t=l+(j==k-1?m:p[j+1].index),u=[],v=s;t>v;v++)u.push(v);(!g||(r=g(r,b,s,t)))&&this.addAnimation(r,u,!0)}}},b.build=function(){if(this._data)throw a.ERR_RUNNING;for(this._startBuild();this._drawNext(););return this._endBuild(),this.spriteSheet},b.buildAsync=function(b){if(this._data)throw a.ERR_RUNNING;this.timeSlice=b,this._startBuild();var c=this;this._timerID=setTimeout(function(){c._run()},50-50*Math.max(.01,Math.min(.99,this.timeSlice||.3)))},b.stopAsync=function(){clearTimeout(this._timerID),this._data=null},b.clone=function(){throw"SpriteSheetBuilder cannot be cloned."},b.toString=function(){return"[SpriteSheetBuilder]"},b._startBuild=function(){var b=this.padding||0;this.progress=0,this.spriteSheet=null,this._index=0,this._scale=this.scale;var c=[];this._data={images:[],frames:c,framerate:this.framerate,animations:this._animations};var d=this._frames.slice();if(d.sort(function(a,b){return a.height<=b.height?-1:1}),d[d.length-1].height+2*b>this.maxHeight)throw a.ERR_DIMENSIONS;for(var e=0,f=0,g=0;d.length;){var h=this._fillRow(d,e,g,c,b);if(h.w>f&&(f=h.w),e+=h.h,!h.h||!d.length){var i=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");i.width=this._getSize(f,this.maxWidth),i.height=this._getSize(e,this.maxHeight),this._data.images[g]=i,h.h||(f=e=0,g++)}}},b._setupMovieClipFrame=function(a,b){var c=a.actionsEnabled;a.actionsEnabled=!1,a.gotoAndStop(b.i),a.actionsEnabled=c,b.f&&b.f(a,b.d,b.i)},b._getSize=function(a,b){for(var c=4;Math.pow(2,++c)<a;);return Math.min(b,Math.pow(2,c))},b._fillRow=function(b,c,d,e,f){var g=this.maxWidth,h=this.maxHeight;c+=f;for(var i=h-c,j=f,k=0,l=b.length-1;l>=0;l--){var m=b[l],n=this._scale*m.scale,o=m.sourceRect,p=m.source,q=Math.floor(n*o.x-f),r=Math.floor(n*o.y-f),s=Math.ceil(n*o.height+2*f),t=Math.ceil(n*o.width+2*f);if(t>g)throw a.ERR_DIMENSIONS;s>i||j+t>g||(m.img=d,m.rect=new createjs.Rectangle(j,c,t,s),k=k||s,b.splice(l,1),e[m.index]=[j,c,t,s,d,Math.round(-q+n*p.regX-f),Math.round(-r+n*p.regY-f)],j+=t)}return{w:j,h:k}},b._endBuild=function(){this.spriteSheet=new createjs.SpriteSheet(this._data),this._data=null,this.progress=1,this.dispatchEvent("complete")},b._run=function(){for(var a=50*Math.max(.01,Math.min(.99,this.timeSlice||.3)),b=(new Date).getTime()+a,c=!1;b>(new Date).getTime();)if(!this._drawNext()){c=!0;break}if(c)this._endBuild();else{var d=this;this._timerID=setTimeout(function(){d._run()},50-a)}var e=this.progress=this._index/this._frames.length;if(this.hasEventListener("progress")){var f=new createjs.Event("progress");f.progress=e,this.dispatchEvent(f)}},b._drawNext=function(){var a=this._frames[this._index],b=a.scale*this._scale,c=a.rect,d=a.sourceRect,e=this._data.images[a.img],f=e.getContext("2d");return a.funct&&a.funct(a.source,a.data),f.save(),f.beginPath(),f.rect(c.x,c.y,c.width,c.height),f.clip(),f.translate(Math.ceil(c.x-d.x*b),Math.ceil(c.y-d.y*b)),f.scale(b,b),a.source.draw(f),f.restore(),++this._index<this._frames.length},createjs.SpriteSheetBuilder=createjs.promote(a,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a){this.DisplayObject_constructor(),"string"==typeof a&&(a=document.getElementById(a)),this.mouseEnabled=!1;var b=a.style;b.position="absolute",b.transformOrigin=b.WebkitTransformOrigin=b.msTransformOrigin=b.MozTransformOrigin=b.OTransformOrigin="0% 0%",this.htmlElement=a,this._oldProps=null}var b=createjs.extend(a,createjs.DisplayObject);b.isVisible=function(){return null!=this.htmlElement},b.draw=function(a,b){return!0},b.cache=function(){},b.uncache=function(){},b.updateCache=function(){},b.hitTest=function(){},b.localToGlobal=function(){},b.globalToLocal=function(){},b.localToLocal=function(){},b.clone=function(){throw"DOMElement cannot be cloned."},b.toString=function(){return"[DOMElement (name="+this.name+")]"},b._tick=function(a){var b=this.getStage();b&&b.on("drawend",this._handleDrawEnd,this,!0),this.DisplayObject__tick(a)},b._handleDrawEnd=function(a){var b=this.htmlElement;if(b){var c=b.style,d=this.getConcatenatedDisplayProps(this._props),e=d.matrix,f=d.visible?"visible":"hidden";if(f!=c.visibility&&(c.visibility=f),d.visible){var g=this._oldProps,h=g&&g.matrix,i=1e4;if(!h||!h.equals(e)){var j="matrix("+(e.a*i|0)/i+","+(e.b*i|0)/i+","+(e.c*i|0)/i+","+(e.d*i|0)/i+","+(e.tx+.5|0);c.transform=c.WebkitTransform=c.OTransform=c.msTransform=j+","+(e.ty+.5|0)+")",c.MozTransform=j+"px,"+(e.ty+.5|0)+"px)",g||(g=this._oldProps=new createjs.DisplayProps((!0),NaN)),g.matrix.copy(e)}g.alpha!=d.alpha&&(c.opacity=""+(d.alpha*i|0)/i,g.alpha=d.alpha)}}},createjs.DOMElement=createjs.promote(a,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function a(){}var b=a.prototype;b.getBounds=function(a){return a},b.applyFilter=function(a,b,c,d,e,f,g,h){f=f||a,null==g&&(g=b),null==h&&(h=c);try{var i=a.getImageData(b,c,d,e)}catch(j){return!1}return!!this._applyFilter(i)&&(f.putImageData(i,g,h),!0)},b.toString=function(){return"[Filter]"},b.clone=function(){return new a},b._applyFilter=function(a){return!0},createjs.Filter=a}(),this.createjs=this.createjs||{},function(){"use strict";function a(a,b,c){(isNaN(a)||0>a)&&(a=0),(isNaN(b)||0>b)&&(b=0),(isNaN(c)||1>c)&&(c=1),this.blurX=0|a,this.blurY=0|b,this.quality=0|c}var b=createjs.extend(a,createjs.Filter);a.MUL_TABLE=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265,497,469,443,421,25,191,365,349,335,161,155,149,9,278,269,261,505,245,475,231,449,437,213,415,405,395,193,377,369,361,353,345,169,331,325,319,313,307,301,37,145,285,281,69,271,267,263,259,509,501,493,243,479,118,465,459,113,446,55,435,429,423,209,413,51,403,199,393,97,3,379,375,371,367,363,359,355,351,347,43,85,337,333,165,327,323,5,317,157,311,77,305,303,75,297,294,73,289,287,71,141,279,277,275,68,135,67,133,33,262,260,129,511,507,503,499,495,491,61,121,481,477,237,235,467,232,115,457,227,451,7,445,221,439,218,433,215,427,425,211,419,417,207,411,409,203,202,401,399,396,197,49,389,387,385,383,95,189,47,187,93,185,23,183,91,181,45,179,89,177,11,175,87,173,345,343,341,339,337,21,167,83,331,329,327,163,81,323,321,319,159,79,315,313,39,155,309,307,153,305,303,151,75,299,149,37,295,147,73,291,145,289,287,143,285,71,141,281,35,279,139,69,275,137,273,17,271,135,269,267,133,265,33,263,131,261,130,259,129,257,1],a.SHG_TABLE=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13,14,14,14,14,10,13,14,14,14,13,13,13,9,14,14,14,15,14,15,14,15,15,14,15,15,15,14,15,15,15,15,15,14,15,15,15,15,15,15,12,14,15,15,13,15,15,15,15,16,16,16,15,16,14,16,16,14,16,13,16,16,16,15,16,13,16,15,16,14,9,16,16,16,16,16,16,16,16,16,13,14,16,16,15,16,16,10,16,15,16,14,16,16,14,16,16,14,16,16,14,15,16,16,16,14,15,14,15,13,16,16,15,17,17,17,17,17,17,14,15,17,17,16,16,17,16,15,17,16,17,11,17,16,17,16,17,16,17,17,16,17,17,16,17,17,16,16,17,17,17,16,14,17,17,17,17,15,16,14,16,15,16,13,16,15,16,14,16,15,16,12,16,15,16,17,17,17,17,17,13,16,15,17,17,17,16,15,17,17,17,16,15,17,17,14,16,17,17,16,17,17,16,15,17,16,14,17,16,15,17,16,17,17,16,17,15,16,17,14,17,16,15,17,16,17,13,17,16,17,17,16,17,14,17,16,17,16,17,16,17,9],b.getBounds=function(a){var b=0|this.blurX,c=0|this.blurY;if(0>=b&&0>=c)return a;var d=Math.pow(this.quality,.2);return(a||new createjs.Rectangle).pad(b*d+1,c*d+1,b*d+1,c*d+1)},b.clone=function(){return new a(this.blurX,this.blurY,this.quality)},b.toString=function(){return"[BlurFilter]"},b._applyFilter=function(b){var c=this.blurX>>1;if(isNaN(c)||0>c)return!1;var d=this.blurY>>1;if(isNaN(d)||0>d)return!1;if(0==c&&0==d)return!1;var e=this.quality;(isNaN(e)||1>e)&&(e=1),e|=0,e>3&&(e=3),1>e&&(e=1);var f=b.data,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=c+c+1|0,w=d+d+1|0,x=0|b.width,y=0|b.height,z=x-1|0,A=y-1|0,B=c+1|0,C=d+1|0,D={r:0,b:0,g:0,a:0},E=D;for(i=1;v>i;i++)E=E.n={r:0,b:0,g:0,a:0};E.n=D;var F={r:0,b:0,g:0,a:0},G=F;for(i=1;w>i;i++)G=G.n={
r:0,b:0,g:0,a:0};G.n=F;for(var H=null,I=0|a.MUL_TABLE[c],J=0|a.SHG_TABLE[c],K=0|a.MUL_TABLE[d],L=0|a.SHG_TABLE[d];e-- >0;){m=l=0;var M=I,N=J;for(h=y;--h>-1;){for(n=B*(r=f[0|l]),o=B*(s=f[l+1|0]),p=B*(t=f[l+2|0]),q=B*(u=f[l+3|0]),E=D,i=B;--i>-1;)E.r=r,E.g=s,E.b=t,E.a=u,E=E.n;for(i=1;B>i;i++)j=l+((i>z?z:i)<<2)|0,n+=E.r=f[j],o+=E.g=f[j+1],p+=E.b=f[j+2],q+=E.a=f[j+3],E=E.n;for(H=D,g=0;x>g;g++)f[l++]=n*M>>>N,f[l++]=o*M>>>N,f[l++]=p*M>>>N,f[l++]=q*M>>>N,j=m+((j=g+c+1)<z?j:z)<<2,n-=H.r-(H.r=f[j]),o-=H.g-(H.g=f[j+1]),p-=H.b-(H.b=f[j+2]),q-=H.a-(H.a=f[j+3]),H=H.n;m+=x}for(M=K,N=L,g=0;x>g;g++){for(l=g<<2|0,n=C*(r=f[l])|0,o=C*(s=f[l+1|0])|0,p=C*(t=f[l+2|0])|0,q=C*(u=f[l+3|0])|0,G=F,i=0;C>i;i++)G.r=r,G.g=s,G.b=t,G.a=u,G=G.n;for(k=x,i=1;d>=i;i++)l=k+g<<2,n+=G.r=f[l],o+=G.g=f[l+1],p+=G.b=f[l+2],q+=G.a=f[l+3],G=G.n,A>i&&(k+=x);if(l=g,H=F,e>0)for(h=0;y>h;h++)j=l<<2,f[j+3]=u=q*M>>>N,u>0?(f[j]=n*M>>>N,f[j+1]=o*M>>>N,f[j+2]=p*M>>>N):f[j]=f[j+1]=f[j+2]=0,j=g+((j=h+C)<A?j:A)*x<<2,n-=H.r-(H.r=f[j]),o-=H.g-(H.g=f[j+1]),p-=H.b-(H.b=f[j+2]),q-=H.a-(H.a=f[j+3]),H=H.n,l+=x;else for(h=0;y>h;h++)j=l<<2,f[j+3]=u=q*M>>>N,u>0?(u=255/u,f[j]=(n*M>>>N)*u,f[j+1]=(o*M>>>N)*u,f[j+2]=(p*M>>>N)*u):f[j]=f[j+1]=f[j+2]=0,j=g+((j=h+C)<A?j:A)*x<<2,n-=H.r-(H.r=f[j]),o-=H.g-(H.g=f[j+1]),p-=H.b-(H.b=f[j+2]),q-=H.a-(H.a=f[j+3]),H=H.n,l+=x}}return!0},createjs.BlurFilter=createjs.promote(a,"Filter")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a){this.alphaMap=a,this._alphaMap=null,this._mapData=null}var b=createjs.extend(a,createjs.Filter);b.clone=function(){var b=new a(this.alphaMap);return b._alphaMap=this._alphaMap,b._mapData=this._mapData,b},b.toString=function(){return"[AlphaMapFilter]"},b._applyFilter=function(a){if(!this.alphaMap)return!0;if(!this._prepAlphaMap())return!1;for(var b=a.data,c=this._mapData,d=0,e=b.length;e>d;d+=4)b[d+3]=c[d]||0;return!0},b._prepAlphaMap=function(){if(!this.alphaMap)return!1;if(this.alphaMap==this._alphaMap&&this._mapData)return!0;this._mapData=null;var a,b=this._alphaMap=this.alphaMap,c=b;b instanceof HTMLCanvasElement?a=c.getContext("2d"):(c=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"),c.width=b.width,c.height=b.height,a=c.getContext("2d"),a.drawImage(b,0,0));try{var d=a.getImageData(0,0,b.width,b.height)}catch(e){return!1}return this._mapData=d.data,!0},createjs.AlphaMapFilter=createjs.promote(a,"Filter")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a){this.mask=a}var b=createjs.extend(a,createjs.Filter);b.applyFilter=function(a,b,c,d,e,f,g,h){return!this.mask||(f=f||a,null==g&&(g=b),null==h&&(h=c),f.save(),a==f&&(f.globalCompositeOperation="destination-in",f.drawImage(this.mask,g,h),f.restore(),!0))},b.clone=function(){return new a(this.mask)},b.toString=function(){return"[AlphaMaskFilter]"},createjs.AlphaMaskFilter=createjs.promote(a,"Filter")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a,b,c,d,e,f,g,h){this.redMultiplier=null!=a?a:1,this.greenMultiplier=null!=b?b:1,this.blueMultiplier=null!=c?c:1,this.alphaMultiplier=null!=d?d:1,this.redOffset=e||0,this.greenOffset=f||0,this.blueOffset=g||0,this.alphaOffset=h||0}var b=createjs.extend(a,createjs.Filter);b.toString=function(){return"[ColorFilter]"},b.clone=function(){return new a(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)},b._applyFilter=function(a){for(var b=a.data,c=b.length,d=0;c>d;d+=4)b[d]=b[d]*this.redMultiplier+this.redOffset,b[d+1]=b[d+1]*this.greenMultiplier+this.greenOffset,b[d+2]=b[d+2]*this.blueMultiplier+this.blueOffset,b[d+3]=b[d+3]*this.alphaMultiplier+this.alphaOffset;return!0},createjs.ColorFilter=createjs.promote(a,"Filter")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a,b,c,d){this.setColor(a,b,c,d)}var b=a.prototype;a.DELTA_INDEX=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],a.IDENTITY_MATRIX=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],a.LENGTH=a.IDENTITY_MATRIX.length,b.setColor=function(a,b,c,d){return this.reset().adjustColor(a,b,c,d)},b.reset=function(){return this.copy(a.IDENTITY_MATRIX)},b.adjustColor=function(a,b,c,d){return this.adjustHue(d),this.adjustContrast(b),this.adjustBrightness(a),this.adjustSaturation(c)},b.adjustBrightness=function(a){return 0==a||isNaN(a)?this:(a=this._cleanValue(a,255),this._multiplyMatrix([1,0,0,0,a,0,1,0,0,a,0,0,1,0,a,0,0,0,1,0,0,0,0,0,1]),this)},b.adjustContrast=function(b){if(0==b||isNaN(b))return this;b=this._cleanValue(b,100);var c;return 0>b?c=127+b/100*127:(c=b%1,c=0==c?a.DELTA_INDEX[b]:a.DELTA_INDEX[b<<0]*(1-c)+a.DELTA_INDEX[(b<<0)+1]*c,c=127*c+127),this._multiplyMatrix([c/127,0,0,0,.5*(127-c),0,c/127,0,0,.5*(127-c),0,0,c/127,0,.5*(127-c),0,0,0,1,0,0,0,0,0,1]),this},b.adjustSaturation=function(a){if(0==a||isNaN(a))return this;a=this._cleanValue(a,100);var b=1+(a>0?3*a/100:a/100),c=.3086,d=.6094,e=.082;return this._multiplyMatrix([c*(1-b)+b,d*(1-b),e*(1-b),0,0,c*(1-b),d*(1-b)+b,e*(1-b),0,0,c*(1-b),d*(1-b),e*(1-b)+b,0,0,0,0,0,1,0,0,0,0,0,1]),this},b.adjustHue=function(a){if(0==a||isNaN(a))return this;a=this._cleanValue(a,180)/180*Math.PI;var b=Math.cos(a),c=Math.sin(a),d=.213,e=.715,f=.072;return this._multiplyMatrix([d+b*(1-d)+c*-d,e+b*-e+c*-e,f+b*-f+c*(1-f),0,0,d+b*-d+.143*c,e+b*(1-e)+.14*c,f+b*-f+c*-.283,0,0,d+b*-d+c*-(1-d),e+b*-e+c*e,f+b*(1-f)+c*f,0,0,0,0,0,1,0,0,0,0,0,1]),this},b.concat=function(b){return b=this._fixMatrix(b),b.length!=a.LENGTH?this:(this._multiplyMatrix(b),this)},b.clone=function(){return(new a).copy(this)},b.toArray=function(){for(var b=[],c=0,d=a.LENGTH;d>c;c++)b[c]=this[c];return b},b.copy=function(b){for(var c=a.LENGTH,d=0;c>d;d++)this[d]=b[d];return this},b.toString=function(){return"[ColorMatrix]"},b._multiplyMatrix=function(a){var b,c,d,e=[];for(b=0;5>b;b++){for(c=0;5>c;c++)e[c]=this[c+5*b];for(c=0;5>c;c++){var f=0;for(d=0;5>d;d++)f+=a[c+5*d]*e[d];this[c+5*b]=f}}},b._cleanValue=function(a,b){return Math.min(b,Math.max(-b,a))},b._fixMatrix=function(b){return b instanceof a&&(b=b.toArray()),b.length<a.LENGTH?b=b.slice(0,b.length).concat(a.IDENTITY_MATRIX.slice(b.length,a.LENGTH)):b.length>a.LENGTH&&(b=b.slice(0,a.LENGTH)),b},createjs.ColorMatrix=a}(),this.createjs=this.createjs||{},function(){"use strict";function a(a){this.matrix=a}var b=createjs.extend(a,createjs.Filter);b.toString=function(){return"[ColorMatrixFilter]"},b.clone=function(){return new a(this.matrix)},b._applyFilter=function(a){for(var b,c,d,e,f=a.data,g=f.length,h=this.matrix,i=h[0],j=h[1],k=h[2],l=h[3],m=h[4],n=h[5],o=h[6],p=h[7],q=h[8],r=h[9],s=h[10],t=h[11],u=h[12],v=h[13],w=h[14],x=h[15],y=h[16],z=h[17],A=h[18],B=h[19],C=0;g>C;C+=4)b=f[C],c=f[C+1],d=f[C+2],e=f[C+3],f[C]=b*i+c*j+d*k+e*l+m,f[C+1]=b*n+c*o+d*p+e*q+r,f[C+2]=b*s+c*t+d*u+e*v+w,f[C+3]=b*x+c*y+d*z+e*A+B;return!0},createjs.ColorMatrixFilter=createjs.promote(a,"Filter")}(),this.createjs=this.createjs||{},function(){"use strict";function a(){throw"Touch cannot be instantiated"}a.isSupported=function(){return!!("ontouchstart"in window||window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>0||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>0)},a.enable=function(b,c,d){return!!(b&&b.canvas&&a.isSupported())&&(!!b.__touch||(b.__touch={pointers:{},multitouch:!c,preventDefault:!d,count:0},"ontouchstart"in window?a._IOS_enable(b):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&a._IE_enable(b),!0))},a.disable=function(b){b&&("ontouchstart"in window?a._IOS_disable(b):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&a._IE_disable(b),delete b.__touch)},a._IOS_enable=function(b){var c=b.canvas,d=b.__touch.f=function(c){a._IOS_handleEvent(b,c)};c.addEventListener("touchstart",d,!1),c.addEventListener("touchmove",d,!1),c.addEventListener("touchend",d,!1),c.addEventListener("touchcancel",d,!1)},a._IOS_disable=function(a){var b=a.canvas;if(b){var c=a.__touch.f;b.removeEventListener("touchstart",c,!1),b.removeEventListener("touchmove",c,!1),b.removeEventListener("touchend",c,!1),b.removeEventListener("touchcancel",c,!1)}},a._IOS_handleEvent=function(a,b){if(a){a.__touch.preventDefault&&b.preventDefault&&b.preventDefault();for(var c=b.changedTouches,d=b.type,e=0,f=c.length;f>e;e++){var g=c[e],h=g.identifier;g.target==a.canvas&&("touchstart"==d?this._handleStart(a,h,b,g.pageX,g.pageY):"touchmove"==d?this._handleMove(a,h,b,g.pageX,g.pageY):("touchend"==d||"touchcancel"==d)&&this._handleEnd(a,h,b))}}},a._IE_enable=function(b){var c=b.canvas,d=b.__touch.f=function(c){a._IE_handleEvent(b,c)};void 0===window.navigator.pointerEnabled?(c.addEventListener("MSPointerDown",d,!1),window.addEventListener("MSPointerMove",d,!1),window.addEventListener("MSPointerUp",d,!1),window.addEventListener("MSPointerCancel",d,!1),b.__touch.preventDefault&&(c.style.msTouchAction="none")):(c.addEventListener("pointerdown",d,!1),window.addEventListener("pointermove",d,!1),window.addEventListener("pointerup",d,!1),window.addEventListener("pointercancel",d,!1),b.__touch.preventDefault&&(c.style.touchAction="none")),b.__touch.activeIDs={}},a._IE_disable=function(a){var b=a.__touch.f;void 0===window.navigator.pointerEnabled?(window.removeEventListener("MSPointerMove",b,!1),window.removeEventListener("MSPointerUp",b,!1),window.removeEventListener("MSPointerCancel",b,!1),a.canvas&&a.canvas.removeEventListener("MSPointerDown",b,!1)):(window.removeEventListener("pointermove",b,!1),window.removeEventListener("pointerup",b,!1),window.removeEventListener("pointercancel",b,!1),a.canvas&&a.canvas.removeEventListener("pointerdown",b,!1))},a._IE_handleEvent=function(a,b){if(a){a.__touch.preventDefault&&b.preventDefault&&b.preventDefault();var c=b.type,d=b.pointerId,e=a.__touch.activeIDs;if("MSPointerDown"==c||"pointerdown"==c){if(b.srcElement!=a.canvas)return;e[d]=!0,this._handleStart(a,d,b,b.pageX,b.pageY)}else e[d]&&("MSPointerMove"==c||"pointermove"==c?this._handleMove(a,d,b,b.pageX,b.pageY):("MSPointerUp"==c||"MSPointerCancel"==c||"pointerup"==c||"pointercancel"==c)&&(delete e[d],this._handleEnd(a,d,b)))}},a._handleStart=function(a,b,c,d,e){var f=a.__touch;if(f.multitouch||!f.count){var g=f.pointers;g[b]||(g[b]=!0,f.count++,a._handlePointerDown(b,c,d,e))}},a._handleMove=function(a,b,c,d,e){a.__touch.pointers[b]&&a._handlePointerMove(b,c,d,e)},a._handleEnd=function(a,b,c){var d=a.__touch,e=d.pointers;e[b]&&(d.count--,a._handlePointerUp(b,c,!0),delete e[b])},createjs.Touch=a}(),this.createjs=this.createjs||{},function(){"use strict";var a=createjs.EaselJS=createjs.EaselJS||{};a.version="0.8.2",a.buildDate="Thu, 26 Nov 2015 20:44:34 GMT"}(),this.createjs=this.createjs||{},function(){"use strict";var a=createjs.PreloadJS=createjs.PreloadJS||{};a.version="0.6.2",a.buildDate="Thu, 26 Nov 2015 20:44:31 GMT"}(),this.createjs=this.createjs||{},function(){"use strict";createjs.proxy=function(a,b){var c=Array.prototype.slice.call(arguments,2);return function(){return a.apply(b,Array.prototype.slice.call(arguments,0).concat(c))}}}(),this.createjs=this.createjs||{},function(){"use strict";function a(a,b,c){this.Event_constructor("error"),this.title=a,this.message=b,this.data=c}var b=createjs.extend(a,createjs.Event);b.clone=function(){return new createjs.ErrorEvent(this.title,this.message,this.data)},createjs.ErrorEvent=createjs.promote(a,"Event")}(),this.createjs=this.createjs||{},function(a){"use strict";function b(a,b){this.Event_constructor("progress"),this.loaded=a,this.total=null==b?1:b,this.progress=0==b?0:this.loaded/this.total}var c=createjs.extend(b,createjs.Event);c.clone=function(){return new createjs.ProgressEvent(this.loaded,this.total)},createjs.ProgressEvent=createjs.promote(b,"Event")}(window),function(){function a(b,d){function f(a){if(f[a]!==q)return f[a];var b;if("bug-string-char-index"==a)b="a"!="a"[0];else if("json"==a)b=f("json-stringify")&&f("json-parse");else{var c,e='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==a){var i=d.stringify,k="function"==typeof i&&t;if(k){(c=function(){return 1}).toJSON=c;try{k="0"===i(0)&&"0"===i(new g)&&'""'==i(new h)&&i(s)===q&&i(q)===q&&i()===q&&"1"===i(c)&&"[1]"==i([c])&&"[null]"==i([q])&&"null"==i(null)&&"[null,null,null]"==i([q,s,null])&&i({a:[c,!0,!1,null,"\0\b\n\f\r\t"]})==e&&"1"===i(null,c)&&"[\n 1,\n 2\n]"==i([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==i(new j((-864e13)))&&'"+275760-09-13T00:00:00.000Z"'==i(new j(864e13))&&'"-000001-01-01T00:00:00.000Z"'==i(new j((-621987552e5)))&&'"1969-12-31T23:59:59.999Z"'==i(new j((-1)))}catch(l){k=!1}}b=k}if("json-parse"==a){var m=d.parse;if("function"==typeof m)try{if(0===m("0")&&!m(!1)){c=m(e);var n=5==c.a.length&&1===c.a[0];if(n){try{n=!m('"\t"')}catch(l){}if(n)try{n=1!==m("01")}catch(l){}if(n)try{n=1!==m("1.")}catch(l){}}}}catch(l){n=!1}b=n}}return f[a]=!!b}b||(b=e.Object()),d||(d=e.Object());var g=b.Number||e.Number,h=b.String||e.String,i=b.Object||e.Object,j=b.Date||e.Date,k=b.SyntaxError||e.SyntaxError,l=b.TypeError||e.TypeError,m=b.Math||e.Math,n=b.JSON||e.JSON;"object"==typeof n&&n&&(d.stringify=n.stringify,d.parse=n.parse);var o,p,q,r=i.prototype,s=r.toString,t=new j((-0xc782b5b800cec));try{t=-109252==t.getUTCFullYear()&&0===t.getUTCMonth()&&1===t.getUTCDate()&&10==t.getUTCHours()&&37==t.getUTCMinutes()&&6==t.getUTCSeconds()&&708==t.getUTCMilliseconds()}catch(u){}if(!f("json")){var v="[object Function]",w="[object Date]",x="[object Number]",y="[object String]",z="[object Array]",A="[object Boolean]",B=f("bug-string-char-index");if(!t)var C=m.floor,D=[0,31,59,90,120,151,181,212,243,273,304,334],E=function(a,b){return D[b]+365*(a-1970)+C((a-1969+(b=+(b>1)))/4)-C((a-1901+b)/100)+C((a-1601+b)/400)};if((o=r.hasOwnProperty)||(o=function(a){var b,c={};return(c.__proto__=null,c.__proto__={toString:1},c).toString!=s?o=function(a){var b=this.__proto__,c=a in(this.__proto__=null,this);return this.__proto__=b,c}:(b=c.constructor,o=function(a){var c=(this.constructor||b).prototype;return a in this&&!(a in c&&this[a]===c[a])}),c=null,o.call(this,a)}),p=function(a,b){var d,e,f,g=0;(d=function(){this.valueOf=0}).prototype.valueOf=0,e=new d;for(f in e)o.call(e,f)&&g++;return d=e=null,g?p=2==g?function(a,b){var c,d={},e=s.call(a)==v;for(c in a)e&&"prototype"==c||o.call(d,c)||!(d[c]=1)||!o.call(a,c)||b(c)}:function(a,b){var c,d,e=s.call(a)==v;for(c in a)e&&"prototype"==c||!o.call(a,c)||(d="constructor"===c)||b(c);(d||o.call(a,c="constructor"))&&b(c)}:(e=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],p=function(a,b){var d,f,g=s.call(a)==v,h=!g&&"function"!=typeof a.constructor&&c[typeof a.hasOwnProperty]&&a.hasOwnProperty||o;for(d in a)g&&"prototype"==d||!h.call(a,d)||b(d);for(f=e.length;d=e[--f];h.call(a,d)&&b(d));}),p(a,b)},!f("json-stringify")){var F={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},G="000000",H=function(a,b){return(G+(b||0)).slice(-a)},I="\\u00",J=function(a){for(var b='"',c=0,d=a.length,e=!B||d>10,f=e&&(B?a.split(""):a);d>c;c++){var g=a.charCodeAt(c);switch(g){case 8:case 9:case 10:case 12:case 13:case 34:case 92:b+=F[g];break;default:if(32>g){b+=I+H(2,g.toString(16));break}b+=e?f[c]:a.charAt(c)}}return b+'"'},K=function(a,b,c,d,e,f,g){var h,i,j,k,m,n,r,t,u,v,B,D,F,G,I,L;try{h=b[a]}catch(M){}if("object"==typeof h&&h)if(i=s.call(h),i!=w||o.call(h,"toJSON"))"function"==typeof h.toJSON&&(i!=x&&i!=y&&i!=z||o.call(h,"toJSON"))&&(h=h.toJSON(a));else if(h>-1/0&&1/0>h){if(E){for(m=C(h/864e5),j=C(m/365.2425)+1970-1;E(j+1,0)<=m;j++);for(k=C((m-E(j,0))/30.42);E(j,k+1)<=m;k++);m=1+m-E(j,k),n=(h%864e5+864e5)%864e5,r=C(n/36e5)%24,t=C(n/6e4)%60,u=C(n/1e3)%60,v=n%1e3}else j=h.getUTCFullYear(),k=h.getUTCMonth(),m=h.getUTCDate(),r=h.getUTCHours(),t=h.getUTCMinutes(),u=h.getUTCSeconds(),v=h.getUTCMilliseconds();h=(0>=j||j>=1e4?(0>j?"-":"+")+H(6,0>j?-j:j):H(4,j))+"-"+H(2,k+1)+"-"+H(2,m)+"T"+H(2,r)+":"+H(2,t)+":"+H(2,u)+"."+H(3,v)+"Z"}else h=null;if(c&&(h=c.call(b,a,h)),null===h)return"null";if(i=s.call(h),i==A)return""+h;if(i==x)return h>-1/0&&1/0>h?""+h:"null";if(i==y)return J(""+h);if("object"==typeof h){for(G=g.length;G--;)if(g[G]===h)throw l();if(g.push(h),B=[],I=f,f+=e,i==z){for(F=0,G=h.length;G>F;F++)D=K(F,h,c,d,e,f,g),B.push(D===q?"null":D);L=B.length?e?"[\n"+f+B.join(",\n"+f)+"\n"+I+"]":"["+B.join(",")+"]":"[]"}else p(d||h,function(a){var b=K(a,h,c,d,e,f,g);b!==q&&B.push(J(a)+":"+(e?" ":"")+b)}),L=B.length?e?"{\n"+f+B.join(",\n"+f)+"\n"+I+"}":"{"+B.join(",")+"}":"{}";return g.pop(),L}};d.stringify=function(a,b,d){var e,f,g,h;if(c[typeof b]&&b)if((h=s.call(b))==v)f=b;else if(h==z){g={};for(var i,j=0,k=b.length;k>j;i=b[j++],h=s.call(i),(h==y||h==x)&&(g[i]=1));}if(d)if((h=s.call(d))==x){if((d-=d%1)>0)for(e="",d>10&&(d=10);e.length<d;e+=" ");}else h==y&&(e=d.length<=10?d:d.slice(0,10));return K("",(i={},i[""]=a,i),f,g,e,"",[])}}if(!f("json-parse")){var L,M,N=h.fromCharCode,O={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},P=function(){throw L=M=null,k()},Q=function(){for(var a,b,c,d,e,f=M,g=f.length;g>L;)switch(e=f.charCodeAt(L)){case 9:case 10:case 13:case 32:L++;break;case 123:case 125:case 91:case 93:case 58:case 44:return a=B?f.charAt(L):f[L],L++,a;case 34:for(a="@",L++;g>L;)if(e=f.charCodeAt(L),32>e)P();else if(92==e)switch(e=f.charCodeAt(++L)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:a+=O[e],L++;break;case 117:for(b=++L,c=L+4;c>L;L++)e=f.charCodeAt(L),e>=48&&57>=e||e>=97&&102>=e||e>=65&&70>=e||P();a+=N("0x"+f.slice(b,L));break;default:P()}else{if(34==e)break;for(e=f.charCodeAt(L),b=L;e>=32&&92!=e&&34!=e;)e=f.charCodeAt(++L);a+=f.slice(b,L)}if(34==f.charCodeAt(L))return L++,a;P();default:if(b=L,45==e&&(d=!0,e=f.charCodeAt(++L)),e>=48&&57>=e){for(48==e&&(e=f.charCodeAt(L+1),e>=48&&57>=e)&&P(),d=!1;g>L&&(e=f.charCodeAt(L),e>=48&&57>=e);L++);if(46==f.charCodeAt(L)){for(c=++L;g>c&&(e=f.charCodeAt(c),e>=48&&57>=e);c++);c==L&&P(),L=c}if(e=f.charCodeAt(L),101==e||69==e){for(e=f.charCodeAt(++L),(43==e||45==e)&&L++,c=L;g>c&&(e=f.charCodeAt(c),e>=48&&57>=e);c++);c==L&&P(),L=c}return+f.slice(b,L)}if(d&&P(),"true"==f.slice(L,L+4))return L+=4,!0;if("false"==f.slice(L,L+5))return L+=5,!1;if("null"==f.slice(L,L+4))return L+=4,null;P()}return"$"},R=function(a){var b,c;if("$"==a&&P(),"string"==typeof a){if("@"==(B?a.charAt(0):a[0]))return a.slice(1);if("["==a){for(b=[];a=Q(),"]"!=a;c||(c=!0))c&&(","==a?(a=Q(),"]"==a&&P()):P()),","==a&&P(),b.push(R(a));return b}if("{"==a){for(b={};a=Q(),"}"!=a;c||(c=!0))c&&(","==a?(a=Q(),"}"==a&&P()):P()),(","==a||"string"!=typeof a||"@"!=(B?a.charAt(0):a[0])||":"!=Q())&&P(),b[a.slice(1)]=R(Q());return b}P()}return a},S=function(a,b,c){var d=T(a,b,c);d===q?delete a[b]:a[b]=d},T=function(a,b,c){var d,e=a[b];if("object"==typeof e&&e)if(s.call(e)==z)for(d=e.length;d--;)S(e,d,c);else p(e,function(a){S(e,a,c)});return c.call(a,b,e)};d.parse=function(a,b){var c,d;return L=0,M=""+a,c=R(Q()),"$"!=Q()&&P(),L=M=null,b&&s.call(b)==v?T((d={},d[""]=c,d),"",b):c}}}return d.runInContext=a,d}var b="function"==typeof define&&define.amd,c={"function":!0,object:!0},d=c[typeof exports]&&exports&&!exports.nodeType&&exports,e=c[typeof window]&&window||this,f=d&&c[typeof module]&&module&&!module.nodeType&&"object"==typeof global&&global;if(!f||f.global!==f&&f.window!==f&&f.self!==f||(e=f),d&&!b)a(e,d);else{var g=e.JSON,h=e.JSON3,i=!1,j=a(e,e.JSON3={noConflict:function(){return i||(i=!0,e.JSON=g,e.JSON3=h,g=h=null),j}});e.JSON={parse:j.parse,stringify:j.stringify}}b&&define(function(){return j})}.call(this),function(){var a={};a.appendToHead=function(b){a.getHead().appendChild(b)},a.getHead=function(){return document.head||document.getElementsByTagName("head")[0]},a.getBody=function(){return document.body||document.getElementsByTagName("body")[0]},createjs.DomUtils=a}(),function(){var a={};a.parseXML=function(a,b){var c=null;try{if(window.DOMParser){var d=new DOMParser;c=d.parseFromString(a,b)}}catch(e){}if(!c)try{c=new ActiveXObject("Microsoft.XMLDOM"),c.async=!1,c.loadXML(a)}catch(e){c=null}return c},a.parseJSON=function(a){if(null==a)return null;try{return JSON.parse(a)}catch(b){throw b}},createjs.DataUtils=a}(),this.createjs=this.createjs||{},function(){"use strict";function a(){this.src=null,this.type=null,this.id=null,this.maintainOrder=!1,this.callback=null,this.data=null,this.method=createjs.LoadItem.GET,this.values=null,this.headers=null,this.withCredentials=!1,this.mimeType=null,this.crossOrigin=null,this.loadTimeout=c.LOAD_TIMEOUT_DEFAULT}var b=a.prototype={},c=a;c.LOAD_TIMEOUT_DEFAULT=8e3,c.create=function(b){if("string"==typeof b){var d=new a;return d.src=b,d}if(b instanceof c)return b;if(b instanceof Object&&b.src)return null==b.loadTimeout&&(b.loadTimeout=c.LOAD_TIMEOUT_DEFAULT),b;throw new Error("Type not recognized.")},b.set=function(a){for(var b in a)this[b]=a[b];return this},createjs.LoadItem=c}(),function(){var a={};a.ABSOLUTE_PATT=/^(?:\w+:)?\/{2}/i,a.RELATIVE_PATT=/^[.\/]*?\//i,a.EXTENSION_PATT=/\/?[^\/]+\.(\w{1,5})$/i,a.parseURI=function(b){var c={absolute:!1,relative:!1};if(null==b)return c;var d=b.indexOf("?");d>-1&&(b=b.substr(0,d));var e;return a.ABSOLUTE_PATT.test(b)?c.absolute=!0:a.RELATIVE_PATT.test(b)&&(c.relative=!0),(e=b.match(a.EXTENSION_PATT))&&(c.extension=e[1].toLowerCase()),c},a.formatQueryString=function(a,b){if(null==a)throw new Error("You must specify data.");var c=[];for(var d in a)c.push(d+"="+escape(a[d]));return b&&(c=c.concat(b)),c.join("&")},a.buildPath=function(a,b){if(null==b)return a;var c=[],d=a.indexOf("?");if(-1!=d){var e=a.slice(d+1);c=c.concat(e.split("&"))}return-1!=d?a.slice(0,d)+"?"+this.formatQueryString(b,c):a+"?"+this.formatQueryString(b,c)},a.isCrossDomain=function(a){var b=document.createElement("a");b.href=a.src;var c=document.createElement("a");c.href=location.href;var d=""!=b.hostname&&(b.port!=c.port||b.protocol!=c.protocol||b.hostname!=c.hostname);return d},a.isLocal=function(a){var b=document.createElement("a");return b.href=a.src,""==b.hostname&&"file:"==b.protocol},a.isBinary=function(a){switch(a){case createjs.AbstractLoader.IMAGE:case createjs.AbstractLoader.BINARY:return!0;default:return!1}},a.isImageTag=function(a){return a instanceof HTMLImageElement},a.isAudioTag=function(a){return!!window.HTMLAudioElement&&a instanceof HTMLAudioElement},a.isVideoTag=function(a){return!!window.HTMLVideoElement&&a instanceof HTMLVideoElement},a.isText=function(a){switch(a){case createjs.AbstractLoader.TEXT:case createjs.AbstractLoader.JSON:case createjs.AbstractLoader.MANIFEST:case createjs.AbstractLoader.XML:case createjs.AbstractLoader.CSS:case createjs.AbstractLoader.SVG:case createjs.AbstractLoader.JAVASCRIPT:case createjs.AbstractLoader.SPRITESHEET:return!0;default:return!1}},a.getTypeByExtension=function(a){if(null==a)return createjs.AbstractLoader.TEXT;switch(a.toLowerCase()){case"jpeg":case"jpg":case"gif":case"png":case"webp":case"bmp":return createjs.AbstractLoader.IMAGE;case"ogg":case"mp3":case"webm":return createjs.AbstractLoader.SOUND;case"mp4":case"webm":case"ts":return createjs.AbstractLoader.VIDEO;case"json":return createjs.AbstractLoader.JSON;case"xml":return createjs.AbstractLoader.XML;case"css":return createjs.AbstractLoader.CSS;case"js":return createjs.AbstractLoader.JAVASCRIPT;case"svg":return createjs.AbstractLoader.SVG;default:return createjs.AbstractLoader.TEXT}},createjs.RequestUtils=a}(),this.createjs=this.createjs||{},function(){"use strict";function a(a,b,c){this.EventDispatcher_constructor(),this.loaded=!1,this.canceled=!1,this.progress=0,this.type=c,this.resultFormatter=null,a?this._item=createjs.LoadItem.create(a):this._item=null,this._preferXHR=b,this._result=null,this._rawResult=null,this._loadedItems=null,this._tagSrcAttribute=null,this._tag=null}var b=createjs.extend(a,createjs.EventDispatcher),c=a;c.POST="POST",c.GET="GET",c.BINARY="binary",c.CSS="css",c.IMAGE="image",c.JAVASCRIPT="javascript",c.JSON="json",c.JSONP="jsonp",c.MANIFEST="manifest",c.SOUND="sound",c.VIDEO="video",c.SPRITESHEET="spritesheet",c.SVG="svg",c.TEXT="text",c.XML="xml",b.getItem=function(){return this._item},b.getResult=function(a){return a?this._rawResult:this._result},b.getTag=function(){return this._tag},b.setTag=function(a){this._tag=a},b.load=function(){this._createRequest(),this._request.on("complete",this,this),this._request.on("progress",this,this),this._request.on("loadStart",this,this),this._request.on("abort",this,this),this._request.on("timeout",this,this),this._request.on("error",this,this);var a=new createjs.Event("initialize");a.loader=this._request,this.dispatchEvent(a),this._request.load()},b.cancel=function(){this.canceled=!0,this.destroy()},b.destroy=function(){this._request&&(this._request.removeAllEventListeners(),this._request.destroy()),this._request=null,this._item=null,this._rawResult=null,this._result=null,this._loadItems=null,this.removeAllEventListeners()},b.getLoadedItems=function(){return this._loadedItems},b._createRequest=function(){this._preferXHR?this._request=new createjs.XHRRequest(this._item):this._request=new createjs.TagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},b._createTag=function(a){return null},b._sendLoadStart=function(){this._isCanceled()||this.dispatchEvent("loadstart")},b._sendProgress=function(a){if(!this._isCanceled()){var b=null;"number"==typeof a?(this.progress=a,b=new createjs.ProgressEvent(this.progress)):(b=a,this.progress=a.loaded/a.total,b.progress=this.progress,(isNaN(this.progress)||this.progress==1/0)&&(this.progress=0)),this.hasEventListener("progress")&&this.dispatchEvent(b)}},b._sendComplete=function(){if(!this._isCanceled()){this.loaded=!0;var a=new createjs.Event("complete");a.rawResult=this._rawResult,null!=this._result&&(a.result=this._result),this.dispatchEvent(a)}},b._sendError=function(a){!this._isCanceled()&&this.hasEventListener("error")&&(null==a&&(a=new createjs.ErrorEvent("PRELOAD_ERROR_EMPTY")),this.dispatchEvent(a))},b._isCanceled=function(){return!(null!=window.createjs&&!this.canceled)},b.resultFormatter=null,b.handleEvent=function(a){switch(a.type){case"complete":this._rawResult=a.target._response;var b=this.resultFormatter&&this.resultFormatter(this);b instanceof Function?b.call(this,createjs.proxy(this._resultFormatSuccess,this),createjs.proxy(this._resultFormatFailed,this)):(this._result=b||this._rawResult,this._sendComplete());break;case"progress":this._sendProgress(a);break;case"error":this._sendError(a);break;case"loadstart":this._sendLoadStart();break;case"abort":case"timeout":this._isCanceled()||this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_"+a.type.toUpperCase()+"_ERROR"))}},b._resultFormatSuccess=function(a){this._result=a,this._sendComplete()},b._resultFormatFailed=function(a){this._sendError(a)},b.buildPath=function(a,b){return createjs.RequestUtils.buildPath(a,b)},b.toString=function(){return"[PreloadJS AbstractLoader]"},createjs.AbstractLoader=createjs.promote(a,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a,b,c){this.AbstractLoader_constructor(a,b,c),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",this.on("initialize",this._updateXHR,this)}var b=createjs.extend(a,createjs.AbstractLoader);b.load=function(){this._tag||(this._tag=this._createTag(this._item.src)),this._tag.preload="auto",this._tag.load(),this.AbstractLoader_load()},b._createTag=function(){},b._createRequest=function(){this._preferXHR?this._request=new createjs.XHRRequest(this._item):this._request=new createjs.MediaTagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},b._updateXHR=function(a){a.loader.setResponseType&&a.loader.setResponseType("blob")},b._formatResult=function(a){if(this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.onstalled=null,this._preferXHR){var b=window.URL||window.webkitURL,c=a.getResult(!0);a.getTag().src=b.createObjectURL(c)}return a.getTag()},createjs.AbstractMediaLoader=createjs.promote(a,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";var a=function(a){this._item=a},b=createjs.extend(a,createjs.EventDispatcher);b.load=function(){},b.destroy=function(){},b.cancel=function(){},createjs.AbstractRequest=createjs.promote(a,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a,b,c){this.AbstractRequest_constructor(a),this._tag=b,this._tagSrcAttribute=c,this._loadedHandler=createjs.proxy(this._handleTagComplete,this),this._addedToDOM=!1,this._startTagVisibility=null}var b=createjs.extend(a,createjs.AbstractRequest);b.load=function(){this._tag.onload=createjs.proxy(this._handleTagComplete,this),this._tag.onreadystatechange=createjs.proxy(this._handleReadyStateChange,this),this._tag.onerror=createjs.proxy(this._handleError,this);var a=new createjs.Event("initialize");a.loader=this._tag,this.dispatchEvent(a),this._hideTag(),this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout),this._tag[this._tagSrcAttribute]=this._item.src,null==this._tag.parentNode&&(window.document.body.appendChild(this._tag),this._addedToDOM=!0)},b.destroy=function(){this._clean(),this._tag=null,this.AbstractRequest_destroy()},b._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var a=this._tag;("loaded"==a.readyState||"complete"==a.readyState)&&this._handleTagComplete()},b._handleError=function(){this._clean(),this.dispatchEvent("error")},b._handleTagComplete=function(){this._rawResult=this._tag,this._result=this.resultFormatter&&this.resultFormatter(this)||this._rawResult,this._clean(),this._showTag(),this.dispatchEvent("complete")},b._handleTimeout=function(){this._clean(),this.dispatchEvent(new createjs.Event("timeout"))},b._clean=function(){this._tag.onload=null,this._tag.onreadystatechange=null,this._tag.onerror=null,this._addedToDOM&&null!=this._tag.parentNode&&this._tag.parentNode.removeChild(this._tag),clearTimeout(this._loadTimeout)},b._hideTag=function(){this._startTagVisibility=this._tag.style.visibility,this._tag.style.visibility="hidden"},b._showTag=function(){this._tag.style.visibility=this._startTagVisibility},b._handleStalled=function(){},createjs.TagRequest=createjs.promote(a,"AbstractRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a,b,c){this.AbstractRequest_constructor(a),this._tag=b,this._tagSrcAttribute=c,this._loadedHandler=createjs.proxy(this._handleTagComplete,this)}var b=createjs.extend(a,createjs.TagRequest);b.load=function(){var a=createjs.proxy(this._handleStalled,this);this._stalledCallback=a;var b=createjs.proxy(this._handleProgress,this);this._handleProgress=b,this._tag.addEventListener("stalled",a),this._tag.addEventListener("progress",b),this._tag.addEventListener&&this._tag.addEventListener("canplaythrough",this._loadedHandler,!1),this.TagRequest_load()},b._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var a=this._tag;("loaded"==a.readyState||"complete"==a.readyState)&&this._handleTagComplete()},b._handleStalled=function(){},b._handleProgress=function(a){if(a&&!(a.loaded>0&&0==a.total)){var b=new createjs.ProgressEvent(a.loaded,a.total);this.dispatchEvent(b)}},b._clean=function(){this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.removeEventListener("stalled",this._stalledCallback),this._tag.removeEventListener("progress",this._progressCallback),this.TagRequest__clean()},createjs.MediaTagRequest=createjs.promote(a,"TagRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a){this.AbstractRequest_constructor(a),this._request=null,
this._loadTimeout=null,this._xhrLevel=1,this._response=null,this._rawResponse=null,this._canceled=!1,this._handleLoadStartProxy=createjs.proxy(this._handleLoadStart,this),this._handleProgressProxy=createjs.proxy(this._handleProgress,this),this._handleAbortProxy=createjs.proxy(this._handleAbort,this),this._handleErrorProxy=createjs.proxy(this._handleError,this),this._handleTimeoutProxy=createjs.proxy(this._handleTimeout,this),this._handleLoadProxy=createjs.proxy(this._handleLoad,this),this._handleReadyStateChangeProxy=createjs.proxy(this._handleReadyStateChange,this),!this._createXHR(a)}var b=createjs.extend(a,createjs.AbstractRequest);a.ACTIVEX_VERSIONS=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.5.0","Msxml2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],b.getResult=function(a){return a&&this._rawResponse?this._rawResponse:this._response},b.cancel=function(){this.canceled=!0,this._clean(),this._request.abort()},b.load=function(){if(null==this._request)return void this._handleError();null!=this._request.addEventListener?(this._request.addEventListener("loadstart",this._handleLoadStartProxy,!1),this._request.addEventListener("progress",this._handleProgressProxy,!1),this._request.addEventListener("abort",this._handleAbortProxy,!1),this._request.addEventListener("error",this._handleErrorProxy,!1),this._request.addEventListener("timeout",this._handleTimeoutProxy,!1),this._request.addEventListener("load",this._handleLoadProxy,!1),this._request.addEventListener("readystatechange",this._handleReadyStateChangeProxy,!1)):(this._request.onloadstart=this._handleLoadStartProxy,this._request.onprogress=this._handleProgressProxy,this._request.onabort=this._handleAbortProxy,this._request.onerror=this._handleErrorProxy,this._request.ontimeout=this._handleTimeoutProxy,this._request.onload=this._handleLoadProxy,this._request.onreadystatechange=this._handleReadyStateChangeProxy),1==this._xhrLevel&&(this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout));try{this._item.values&&this._item.method!=createjs.AbstractLoader.GET?this._item.method==createjs.AbstractLoader.POST&&this._request.send(createjs.RequestUtils.formatQueryString(this._item.values)):this._request.send()}catch(a){this.dispatchEvent(new createjs.ErrorEvent("XHR_SEND",null,a))}},b.setResponseType=function(a){"blob"===a&&(a=window.URL?"blob":"arraybuffer",this._responseType=a),this._request.responseType=a},b.getAllResponseHeaders=function(){return this._request.getAllResponseHeaders instanceof Function?this._request.getAllResponseHeaders():null},b.getResponseHeader=function(a){return this._request.getResponseHeader instanceof Function?this._request.getResponseHeader(a):null},b._handleProgress=function(a){if(a&&!(a.loaded>0&&0==a.total)){var b=new createjs.ProgressEvent(a.loaded,a.total);this.dispatchEvent(b)}},b._handleLoadStart=function(a){clearTimeout(this._loadTimeout),this.dispatchEvent("loadstart")},b._handleAbort=function(a){this._clean(),this.dispatchEvent(new createjs.ErrorEvent("XHR_ABORTED",null,a))},b._handleError=function(a){this._clean(),this.dispatchEvent(new createjs.ErrorEvent(a.message))},b._handleReadyStateChange=function(a){4==this._request.readyState&&this._handleLoad()},b._handleLoad=function(a){if(!this.loaded){this.loaded=!0;var b=this._checkError();if(b)return void this._handleError(b);if(this._response=this._getResponse(),"arraybuffer"===this._responseType)try{this._response=new Blob([this._response])}catch(c){if(window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,"TypeError"===c.name&&window.BlobBuilder){var d=new BlobBuilder;d.append(this._response),this._response=d.getBlob()}}this._clean(),this.dispatchEvent(new createjs.Event("complete"))}},b._handleTimeout=function(a){this._clean(),this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_TIMEOUT",null,a))},b._checkError=function(){var a=parseInt(this._request.status);switch(a){case 404:case 0:return new Error(a)}return null},b._getResponse=function(){if(null!=this._response)return this._response;if(null!=this._request.response)return this._request.response;try{if(null!=this._request.responseText)return this._request.responseText}catch(a){}try{if(null!=this._request.responseXML)return this._request.responseXML}catch(a){}return null},b._createXHR=function(a){var b=createjs.RequestUtils.isCrossDomain(a),c={},d=null;if(window.XMLHttpRequest)d=new XMLHttpRequest,b&&void 0===d.withCredentials&&window.XDomainRequest&&(d=new XDomainRequest);else{for(var e=0,f=s.ACTIVEX_VERSIONS.length;f>e;e++){var g=s.ACTIVEX_VERSIONS[e];try{d=new ActiveXObject(g);break}catch(h){}}if(null==d)return!1}null==a.mimeType&&createjs.RequestUtils.isText(a.type)&&(a.mimeType="text/plain; charset=utf-8"),a.mimeType&&d.overrideMimeType&&d.overrideMimeType(a.mimeType),this._xhrLevel="string"==typeof d.responseType?2:1;var i=null;if(i=a.method==createjs.AbstractLoader.GET?createjs.RequestUtils.buildPath(a.src,a.values):a.src,d.open(a.method||createjs.AbstractLoader.GET,i,!0),b&&d instanceof XMLHttpRequest&&1==this._xhrLevel&&(c.Origin=location.origin),a.values&&a.method==createjs.AbstractLoader.POST&&(c["Content-Type"]="application/x-www-form-urlencoded"),b||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest"),a.headers)for(var j in a.headers)c[j]=a.headers[j];for(j in c)d.setRequestHeader(j,c[j]);return d instanceof XMLHttpRequest&&void 0!==a.withCredentials&&(d.withCredentials=a.withCredentials),this._request=d,!0},b._clean=function(){clearTimeout(this._loadTimeout),null!=this._request.removeEventListener?(this._request.removeEventListener("loadstart",this._handleLoadStartProxy),this._request.removeEventListener("progress",this._handleProgressProxy),this._request.removeEventListener("abort",this._handleAbortProxy),this._request.removeEventListener("error",this._handleErrorProxy),this._request.removeEventListener("timeout",this._handleTimeoutProxy),this._request.removeEventListener("load",this._handleLoadProxy),this._request.removeEventListener("readystatechange",this._handleReadyStateChangeProxy)):(this._request.onloadstart=null,this._request.onprogress=null,this._request.onabort=null,this._request.onerror=null,this._request.ontimeout=null,this._request.onload=null,this._request.onreadystatechange=null)},b.toString=function(){return"[PreloadJS XHRRequest]"},createjs.XHRRequest=createjs.promote(a,"AbstractRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a,b,c){this.AbstractLoader_constructor(),this._plugins=[],this._typeCallbacks={},this._extensionCallbacks={},this.next=null,this.maintainScriptOrder=!0,this.stopOnError=!1,this._maxConnections=1,this._availableLoaders=[createjs.ImageLoader,createjs.JavaScriptLoader,createjs.CSSLoader,createjs.JSONLoader,createjs.JSONPLoader,createjs.SoundLoader,createjs.ManifestLoader,createjs.SpriteSheetLoader,createjs.XMLLoader,createjs.SVGLoader,createjs.BinaryLoader,createjs.VideoLoader,createjs.TextLoader],this._defaultLoaderLength=this._availableLoaders.length,this.init(a,b,c)}var b=createjs.extend(a,createjs.AbstractLoader),c=a;b.init=function(a,b,c){this.useXHR=!0,this.preferXHR=!0,this._preferXHR=!0,this.setPreferXHR(a),this._paused=!1,this._basePath=b,this._crossOrigin=c,this._loadStartWasDispatched=!1,this._currentlyLoadingScript=null,this._currentLoads=[],this._loadQueue=[],this._loadQueueBackup=[],this._loadItemsById={},this._loadItemsBySrc={},this._loadedResults={},this._loadedRawResults={},this._numItems=0,this._numItemsLoaded=0,this._scriptOrder=[],this._loadedScripts=[],this._lastProgress=NaN},c.loadTimeout=8e3,c.LOAD_TIMEOUT=0,c.BINARY=createjs.AbstractLoader.BINARY,c.CSS=createjs.AbstractLoader.CSS,c.IMAGE=createjs.AbstractLoader.IMAGE,c.JAVASCRIPT=createjs.AbstractLoader.JAVASCRIPT,c.JSON=createjs.AbstractLoader.JSON,c.JSONP=createjs.AbstractLoader.JSONP,c.MANIFEST=createjs.AbstractLoader.MANIFEST,c.SOUND=createjs.AbstractLoader.SOUND,c.VIDEO=createjs.AbstractLoader.VIDEO,c.SVG=createjs.AbstractLoader.SVG,c.TEXT=createjs.AbstractLoader.TEXT,c.XML=createjs.AbstractLoader.XML,c.POST=createjs.AbstractLoader.POST,c.GET=createjs.AbstractLoader.GET,b.registerLoader=function(a){if(!a||!a.canLoadItem)throw new Error("loader is of an incorrect type.");if(-1!=this._availableLoaders.indexOf(a))throw new Error("loader already exists.");this._availableLoaders.unshift(a)},b.unregisterLoader=function(a){var b=this._availableLoaders.indexOf(a);-1!=b&&b<this._defaultLoaderLength-1&&this._availableLoaders.splice(b,1)},b.setUseXHR=function(a){return this.setPreferXHR(a)},b.setPreferXHR=function(a){return this.preferXHR=0!=a&&null!=window.XMLHttpRequest,this.preferXHR},b.removeAll=function(){this.remove()},b.remove=function(a){var b=null;if(a&&!Array.isArray(a))b=[a];else if(a)b=a;else if(arguments.length>0)return;var c=!1;if(b){for(;b.length;){var d=b.pop(),e=this.getResult(d);for(f=this._loadQueue.length-1;f>=0;f--)if(g=this._loadQueue[f].getItem(),g.id==d||g.src==d){this._loadQueue.splice(f,1)[0].cancel();break}for(f=this._loadQueueBackup.length-1;f>=0;f--)if(g=this._loadQueueBackup[f].getItem(),g.id==d||g.src==d){this._loadQueueBackup.splice(f,1)[0].cancel();break}if(e)this._disposeItem(this.getItem(d));else for(var f=this._currentLoads.length-1;f>=0;f--){var g=this._currentLoads[f].getItem();if(g.id==d||g.src==d){this._currentLoads.splice(f,1)[0].cancel(),c=!0;break}}}c&&this._loadNext()}else{this.close();for(var h in this._loadItemsById)this._disposeItem(this._loadItemsById[h]);this.init(this.preferXHR,this._basePath)}},b.reset=function(){this.close();for(var a in this._loadItemsById)this._disposeItem(this._loadItemsById[a]);for(var b=[],c=0,d=this._loadQueueBackup.length;d>c;c++)b.push(this._loadQueueBackup[c].getItem());this.loadManifest(b,!1)},b.installPlugin=function(a){if(null!=a&&null!=a.getPreloadHandlers){this._plugins.push(a);var b=a.getPreloadHandlers();if(b.scope=a,null!=b.types)for(var c=0,d=b.types.length;d>c;c++)this._typeCallbacks[b.types[c]]=b;if(null!=b.extensions)for(c=0,d=b.extensions.length;d>c;c++)this._extensionCallbacks[b.extensions[c]]=b}},b.setMaxConnections=function(a){this._maxConnections=a,!this._paused&&this._loadQueue.length>0&&this._loadNext()},b.loadFile=function(a,b,c){if(null==a){var d=new createjs.ErrorEvent("PRELOAD_NO_FILE");return void this._sendError(d)}this._addItem(a,null,c),b!==!1?this.setPaused(!1):this.setPaused(!0)},b.loadManifest=function(a,b,d){var e=null,f=null;if(Array.isArray(a)){if(0==a.length){var g=new createjs.ErrorEvent("PRELOAD_MANIFEST_EMPTY");return void this._sendError(g)}e=a}else if("string"==typeof a)e=[{src:a,type:c.MANIFEST}];else{if("object"!=typeof a){var g=new createjs.ErrorEvent("PRELOAD_MANIFEST_NULL");return void this._sendError(g)}if(void 0!==a.src){if(null==a.type)a.type=c.MANIFEST;else if(a.type!=c.MANIFEST){var g=new createjs.ErrorEvent("PRELOAD_MANIFEST_TYPE");this._sendError(g)}e=[a]}else void 0!==a.manifest&&(e=a.manifest,f=a.path)}for(var h=0,i=e.length;i>h;h++)this._addItem(e[h],f,d);b!==!1?this.setPaused(!1):this.setPaused(!0)},b.load=function(){this.setPaused(!1)},b.getItem=function(a){return this._loadItemsById[a]||this._loadItemsBySrc[a]},b.getResult=function(a,b){var c=this._loadItemsById[a]||this._loadItemsBySrc[a];if(null==c)return null;var d=c.id;return b&&this._loadedRawResults[d]?this._loadedRawResults[d]:this._loadedResults[d]},b.getItems=function(a){var b=[];for(var c in this._loadItemsById){var d=this._loadItemsById[c],e=this.getResult(c);(a!==!0||null!=e)&&b.push({item:d,result:e,rawResult:this.getResult(c,!0)})}return b},b.setPaused=function(a){this._paused=a,this._paused||this._loadNext()},b.close=function(){for(;this._currentLoads.length;)this._currentLoads.pop().cancel();this._scriptOrder.length=0,this._loadedScripts.length=0,this.loadStartWasDispatched=!1,this._itemCount=0,this._lastProgress=NaN},b._addItem=function(a,b,c){var d=this._createLoadItem(a,b,c);if(null!=d){var e=this._createLoader(d);null!=e&&("plugins"in e&&(e.plugins=this._plugins),d._loader=e,this._loadQueue.push(e),this._loadQueueBackup.push(e),this._numItems++,this._updateProgress(),(this.maintainScriptOrder&&d.type==createjs.LoadQueue.JAVASCRIPT||d.maintainOrder===!0)&&(this._scriptOrder.push(d),this._loadedScripts.push(null)))}},b._createLoadItem=function(a,b,c){var d=createjs.LoadItem.create(a);if(null==d)return null;var e="",f=c||this._basePath;if(d.src instanceof Object){if(!d.type)return null;if(b){e=b;var g=createjs.RequestUtils.parseURI(b);null==f||g.absolute||g.relative||(e=f+e)}else null!=f&&(e=f)}else{var h=createjs.RequestUtils.parseURI(d.src);h.extension&&(d.ext=h.extension),null==d.type&&(d.type=createjs.RequestUtils.getTypeByExtension(d.ext));var i=d.src;if(!h.absolute&&!h.relative)if(b){e=b;var g=createjs.RequestUtils.parseURI(b);i=b+i,null==f||g.absolute||g.relative||(e=f+e)}else null!=f&&(e=f);d.src=e+d.src}d.path=e,(void 0===d.id||null===d.id||""===d.id)&&(d.id=i);var j=this._typeCallbacks[d.type]||this._extensionCallbacks[d.ext];if(j){var k=j.callback.call(j.scope,d,this);if(k===!1)return null;k===!0||null!=k&&(d._loader=k),h=createjs.RequestUtils.parseURI(d.src),null!=h.extension&&(d.ext=h.extension)}return this._loadItemsById[d.id]=d,this._loadItemsBySrc[d.src]=d,null==d.crossOrigin&&(d.crossOrigin=this._crossOrigin),d},b._createLoader=function(a){if(null!=a._loader)return a._loader;for(var b=this.preferXHR,c=0;c<this._availableLoaders.length;c++){var d=this._availableLoaders[c];if(d&&d.canLoadItem(a))return new d(a,b)}return null},b._loadNext=function(){if(!this._paused){this._loadStartWasDispatched||(this._sendLoadStart(),this._loadStartWasDispatched=!0),this._numItems==this._numItemsLoaded?(this.loaded=!0,this._sendComplete(),this.next&&this.next.load&&this.next.load()):this.loaded=!1;for(var a=0;a<this._loadQueue.length&&!(this._currentLoads.length>=this._maxConnections);a++){var b=this._loadQueue[a];this._canStartLoad(b)&&(this._loadQueue.splice(a,1),a--,this._loadItem(b))}}},b._loadItem=function(a){a.on("fileload",this._handleFileLoad,this),a.on("progress",this._handleProgress,this),a.on("complete",this._handleFileComplete,this),a.on("error",this._handleError,this),a.on("fileerror",this._handleFileError,this),this._currentLoads.push(a),this._sendFileStart(a.getItem()),a.load()},b._handleFileLoad=function(a){a.target=null,this.dispatchEvent(a)},b._handleFileError=function(a){var b=new createjs.ErrorEvent("FILE_LOAD_ERROR",null,a.item);this._sendError(b)},b._handleError=function(a){var b=a.target;this._numItemsLoaded++,this._finishOrderedItem(b,!0),this._updateProgress();var c=new createjs.ErrorEvent("FILE_LOAD_ERROR",null,b.getItem());this._sendError(c),this.stopOnError?this.setPaused(!0):(this._removeLoadItem(b),this._cleanLoadItem(b),this._loadNext())},b._handleFileComplete=function(a){var b=a.target,c=b.getItem(),d=b.getResult();this._loadedResults[c.id]=d;var e=b.getResult(!0);null!=e&&e!==d&&(this._loadedRawResults[c.id]=e),this._saveLoadedItems(b),this._removeLoadItem(b),this._finishOrderedItem(b)||this._processFinishedLoad(c,b),this._cleanLoadItem(b)},b._saveLoadedItems=function(a){var b=a.getLoadedItems();if(null!==b)for(var c=0;c<b.length;c++){var d=b[c].item;this._loadItemsBySrc[d.src]=d,this._loadItemsById[d.id]=d,this._loadedResults[d.id]=b[c].result,this._loadedRawResults[d.id]=b[c].rawResult}},b._finishOrderedItem=function(a,b){var c=a.getItem();if(this.maintainScriptOrder&&c.type==createjs.LoadQueue.JAVASCRIPT||c.maintainOrder){a instanceof createjs.JavaScriptLoader&&(this._currentlyLoadingScript=!1);var d=createjs.indexOf(this._scriptOrder,c);return-1!=d&&(this._loadedScripts[d]=b===!0||c,this._checkScriptLoadOrder(),!0)}return!1},b._checkScriptLoadOrder=function(){for(var a=this._loadedScripts.length,b=0;a>b;b++){var c=this._loadedScripts[b];if(null===c)break;if(c!==!0){var d=this._loadedResults[c.id];c.type==createjs.LoadQueue.JAVASCRIPT&&createjs.DomUtils.appendToHead(d);var e=c._loader;this._processFinishedLoad(c,e),this._loadedScripts[b]=!0}}},b._processFinishedLoad=function(a,b){if(this._numItemsLoaded++,!this.maintainScriptOrder&&a.type==createjs.LoadQueue.JAVASCRIPT){var c=b.getTag();createjs.DomUtils.appendToHead(c)}this._updateProgress(),this._sendFileComplete(a,b),this._loadNext()},b._canStartLoad=function(a){if(!this.maintainScriptOrder||a.preferXHR)return!0;var b=a.getItem();if(b.type!=createjs.LoadQueue.JAVASCRIPT)return!0;if(this._currentlyLoadingScript)return!1;for(var c=this._scriptOrder.indexOf(b),d=0;c>d;){var e=this._loadedScripts[d];if(null==e)return!1;d++}return this._currentlyLoadingScript=!0,!0},b._removeLoadItem=function(a){for(var b=this._currentLoads.length,c=0;b>c;c++)if(this._currentLoads[c]==a){this._currentLoads.splice(c,1);break}},b._cleanLoadItem=function(a){var b=a.getItem();b&&delete b._loader},b._handleProgress=function(a){var b=a.target;this._sendFileProgress(b.getItem(),b.progress),this._updateProgress()},b._updateProgress=function(){var a=this._numItemsLoaded/this._numItems,b=this._numItems-this._numItemsLoaded;if(b>0){for(var c=0,d=0,e=this._currentLoads.length;e>d;d++)c+=this._currentLoads[d].progress;a+=c/b*(b/this._numItems)}this._lastProgress!=a&&(this._sendProgress(a),this._lastProgress=a)},b._disposeItem=function(a){delete this._loadedResults[a.id],delete this._loadedRawResults[a.id],delete this._loadItemsById[a.id],delete this._loadItemsBySrc[a.src]},b._sendFileProgress=function(a,b){if(!this._isCanceled()&&!this._paused&&this.hasEventListener("fileprogress")){var c=new createjs.Event("fileprogress");c.progress=b,c.loaded=b,c.total=1,c.item=a,this.dispatchEvent(c)}},b._sendFileComplete=function(a,b){if(!this._isCanceled()&&!this._paused){var c=new createjs.Event("fileload");c.loader=b,c.item=a,c.result=this._loadedResults[a.id],c.rawResult=this._loadedRawResults[a.id],a.completeHandler&&a.completeHandler(c),this.hasEventListener("fileload")&&this.dispatchEvent(c)}},b._sendFileStart=function(a){var b=new createjs.Event("filestart");b.item=a,this.hasEventListener("filestart")&&this.dispatchEvent(b)},b.toString=function(){return"[PreloadJS LoadQueue]"},createjs.LoadQueue=createjs.promote(a,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a){this.AbstractLoader_constructor(a,!0,createjs.AbstractLoader.TEXT)}var b=(createjs.extend(a,createjs.AbstractLoader),a);b.canLoadItem=function(a){return a.type==createjs.AbstractLoader.TEXT},createjs.TextLoader=createjs.promote(a,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a){this.AbstractLoader_constructor(a,!0,createjs.AbstractLoader.BINARY),this.on("initialize",this._updateXHR,this)}var b=createjs.extend(a,createjs.AbstractLoader),c=a;c.canLoadItem=function(a){return a.type==createjs.AbstractLoader.BINARY},b._updateXHR=function(a){a.loader.setResponseType("arraybuffer")},createjs.BinaryLoader=createjs.promote(a,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a,b){this.AbstractLoader_constructor(a,b,createjs.AbstractLoader.CSS),this.resultFormatter=this._formatResult,this._tagSrcAttribute="href",b?this._tag=document.createElement("style"):this._tag=document.createElement("link"),this._tag.rel="stylesheet",this._tag.type="text/css"}var b=createjs.extend(a,createjs.AbstractLoader),c=a;c.canLoadItem=function(a){return a.type==createjs.AbstractLoader.CSS},b._formatResult=function(a){if(this._preferXHR){var b=a.getTag();if(b.styleSheet)b.styleSheet.cssText=a.getResult(!0);else{var c=document.createTextNode(a.getResult(!0));b.appendChild(c)}}else b=this._tag;return createjs.DomUtils.appendToHead(b),b},createjs.CSSLoader=createjs.promote(a,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a,b){this.AbstractLoader_constructor(a,b,createjs.AbstractLoader.IMAGE),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",createjs.RequestUtils.isImageTag(a)?this._tag=a:createjs.RequestUtils.isImageTag(a.src)?this._tag=a.src:createjs.RequestUtils.isImageTag(a.tag)&&(this._tag=a.tag),null!=this._tag?this._preferXHR=!1:this._tag=document.createElement("img"),this.on("initialize",this._updateXHR,this)}var b=createjs.extend(a,createjs.AbstractLoader),c=a;c.canLoadItem=function(a){return a.type==createjs.AbstractLoader.IMAGE},b.load=function(){if(""!=this._tag.src&&this._tag.complete)return void this._sendComplete();var a=this._item.crossOrigin;1==a&&(a="Anonymous"),null==a||createjs.RequestUtils.isLocal(this._item.src)||(this._tag.crossOrigin=a),this.AbstractLoader_load()},b._updateXHR=function(a){a.loader.mimeType="text/plain; charset=x-user-defined-binary",a.loader.setResponseType&&a.loader.setResponseType("blob")},b._formatResult=function(a){return this._formatImage},b._formatImage=function(a,b){var c=this._tag,d=window.URL||window.webkitURL;if(this._preferXHR)if(d){var e=d.createObjectURL(this.getResult(!0));c.src=e,c.addEventListener("load",this._cleanUpURL,!1),c.addEventListener("error",this._cleanUpURL,!1)}else c.src=this._item.src;c.complete?a(c):(c.onload=createjs.proxy(function(){a(this._tag)},this),c.onerror=createjs.proxy(function(){b(_this._tag)},this))},b._cleanUpURL=function(a){var b=window.URL||window.webkitURL;b.revokeObjectURL(a.target.src)},createjs.ImageLoader=createjs.promote(a,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a,b){this.AbstractLoader_constructor(a,b,createjs.AbstractLoader.JAVASCRIPT),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",this.setTag(document.createElement("script"))}var b=createjs.extend(a,createjs.AbstractLoader),c=a;c.canLoadItem=function(a){return a.type==createjs.AbstractLoader.JAVASCRIPT},b._formatResult=function(a){var b=a.getTag();return this._preferXHR&&(b.text=a.getResult(!0)),b},createjs.JavaScriptLoader=createjs.promote(a,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a){this.AbstractLoader_constructor(a,!0,createjs.AbstractLoader.JSON),this.resultFormatter=this._formatResult}var b=createjs.extend(a,createjs.AbstractLoader),c=a;c.canLoadItem=function(a){return a.type==createjs.AbstractLoader.JSON},b._formatResult=function(a){var b=null;try{b=createjs.DataUtils.parseJSON(a.getResult(!0))}catch(c){var d=new createjs.ErrorEvent("JSON_FORMAT",null,c);return this._sendError(d),c}return b},createjs.JSONLoader=createjs.promote(a,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a){this.AbstractLoader_constructor(a,!1,createjs.AbstractLoader.JSONP),this.setTag(document.createElement("script")),this.getTag().type="text/javascript"}var b=createjs.extend(a,createjs.AbstractLoader),c=a;c.canLoadItem=function(a){return a.type==createjs.AbstractLoader.JSONP},b.cancel=function(){this.AbstractLoader_cancel(),this._dispose()},b.load=function(){if(null==this._item.callback)throw new Error("callback is required for loading JSONP requests.");if(null!=window[this._item.callback])throw new Error("JSONP callback '"+this._item.callback+"' already exists on window. You need to specify a different callback or re-name the current one.");window[this._item.callback]=createjs.proxy(this._handleLoad,this),window.document.body.appendChild(this._tag),this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout),this._tag.src=this._item.src},b._handleLoad=function(a){this._result=this._rawResult=a,this._sendComplete(),this._dispose()},b._handleTimeout=function(){this._dispose(),this.dispatchEvent(new createjs.ErrorEvent("timeout"))},b._dispose=function(){window.document.body.removeChild(this._tag),delete window[this._item.callback],clearTimeout(this._loadTimeout)},createjs.JSONPLoader=createjs.promote(a,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a){this.AbstractLoader_constructor(a,null,createjs.AbstractLoader.MANIFEST),this.plugins=null,this._manifestQueue=null}var b=createjs.extend(a,createjs.AbstractLoader),c=a;c.MANIFEST_PROGRESS=.25,c.canLoadItem=function(a){return a.type==createjs.AbstractLoader.MANIFEST},b.load=function(){this.AbstractLoader_load()},b._createRequest=function(){var a=this._item.callback;null!=a?this._request=new createjs.JSONPLoader(this._item):this._request=new createjs.JSONLoader(this._item)},b.handleEvent=function(a){switch(a.type){case"complete":return this._rawResult=a.target.getResult(!0),this._result=a.target.getResult(),this._sendProgress(c.MANIFEST_PROGRESS),void this._loadManifest(this._result);case"progress":return a.loaded*=c.MANIFEST_PROGRESS,this.progress=a.loaded/a.total,(isNaN(this.progress)||this.progress==1/0)&&(this.progress=0),void this._sendProgress(a)}this.AbstractLoader_handleEvent(a)},b.destroy=function(){this.AbstractLoader_destroy(),this._manifestQueue.close()},b._loadManifest=function(a){if(a&&a.manifest){var b=this._manifestQueue=new createjs.LoadQueue;b.on("fileload",this._handleManifestFileLoad,this),b.on("progress",this._handleManifestProgress,this),b.on("complete",this._handleManifestComplete,this,!0),b.on("error",this._handleManifestError,this,!0);for(var c=0,d=this.plugins.length;d>c;c++)b.installPlugin(this.plugins[c]);b.loadManifest(a)}else this._sendComplete()},b._handleManifestFileLoad=function(a){a.target=null,this.dispatchEvent(a)},b._handleManifestComplete=function(a){this._loadedItems=this._manifestQueue.getItems(!0),this._sendComplete()},b._handleManifestProgress=function(a){this.progress=a.progress*(1-c.MANIFEST_PROGRESS)+c.MANIFEST_PROGRESS,this._sendProgress(this.progress)},b._handleManifestError=function(a){var b=new createjs.Event("fileerror");b.item=a.data,this.dispatchEvent(b)},createjs.ManifestLoader=createjs.promote(a,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a,b){this.AbstractMediaLoader_constructor(a,b,createjs.AbstractLoader.SOUND),createjs.RequestUtils.isAudioTag(a)?this._tag=a:createjs.RequestUtils.isAudioTag(a.src)?this._tag=a:createjs.RequestUtils.isAudioTag(a.tag)&&(this._tag=createjs.RequestUtils.isAudioTag(a)?a:a.src),null!=this._tag&&(this._preferXHR=!1)}var b=createjs.extend(a,createjs.AbstractMediaLoader),c=a;c.canLoadItem=function(a){return a.type==createjs.AbstractLoader.SOUND},b._createTag=function(a){var b=document.createElement("audio");return b.autoplay=!1,b.preload="none",b.src=a,b},createjs.SoundLoader=createjs.promote(a,"AbstractMediaLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a,b){this.AbstractMediaLoader_constructor(a,b,createjs.AbstractLoader.VIDEO),createjs.RequestUtils.isVideoTag(a)||createjs.RequestUtils.isVideoTag(a.src)?(this.setTag(createjs.RequestUtils.isVideoTag(a)?a:a.src),this._preferXHR=!1):this.setTag(this._createTag())}var b=createjs.extend(a,createjs.AbstractMediaLoader),c=a;b._createTag=function(){return document.createElement("video")},c.canLoadItem=function(a){return a.type==createjs.AbstractLoader.VIDEO},createjs.VideoLoader=createjs.promote(a,"AbstractMediaLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a,b){this.AbstractLoader_constructor(a,b,createjs.AbstractLoader.SPRITESHEET),this._manifestQueue=null}var b=createjs.extend(a,createjs.AbstractLoader),c=a;c.SPRITESHEET_PROGRESS=.25,c.canLoadItem=function(a){return a.type==createjs.AbstractLoader.SPRITESHEET},b.destroy=function(){this.AbstractLoader_destroy,this._manifestQueue.close()},b._createRequest=function(){var a=this._item.callback;null!=a?this._request=new createjs.JSONPLoader(this._item):this._request=new createjs.JSONLoader(this._item)},b.handleEvent=function(a){switch(a.type){case"complete":return this._rawResult=a.target.getResult(!0),this._result=a.target.getResult(),this._sendProgress(c.SPRITESHEET_PROGRESS),void this._loadManifest(this._result);case"progress":return a.loaded*=c.SPRITESHEET_PROGRESS,this.progress=a.loaded/a.total,(isNaN(this.progress)||this.progress==1/0)&&(this.progress=0),void this._sendProgress(a)}this.AbstractLoader_handleEvent(a)},b._loadManifest=function(a){if(a&&a.images){var b=this._manifestQueue=new createjs.LoadQueue(this._preferXHR,this._item.path,this._item.crossOrigin);b.on("complete",this._handleManifestComplete,this,!0),b.on("fileload",this._handleManifestFileLoad,this),b.on("progress",this._handleManifestProgress,this),b.on("error",this._handleManifestError,this,!0),b.loadManifest(a.images)}},b._handleManifestFileLoad=function(a){var b=a.result;if(null!=b){var c=this.getResult().images,d=c.indexOf(a.item.src);c[d]=b}},b._handleManifestComplete=function(a){this._result=new createjs.SpriteSheet(this._result),this._loadedItems=this._manifestQueue.getItems(!0),this._sendComplete()},b._handleManifestProgress=function(a){this.progress=a.progress*(1-c.SPRITESHEET_PROGRESS)+c.SPRITESHEET_PROGRESS,this._sendProgress(this.progress)},b._handleManifestError=function(a){var b=new createjs.Event("fileerror");b.item=a.data,this.dispatchEvent(b)},createjs.SpriteSheetLoader=createjs.promote(a,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a,b){this.AbstractLoader_constructor(a,b,createjs.AbstractLoader.SVG),this.resultFormatter=this._formatResult,this._tagSrcAttribute="data",b?this.setTag(document.createElement("svg")):(this.setTag(document.createElement("object")),this.getTag().type="image/svg+xml")}var b=createjs.extend(a,createjs.AbstractLoader),c=a;c.canLoadItem=function(a){return a.type==createjs.AbstractLoader.SVG},b._formatResult=function(a){var b=createjs.DataUtils.parseXML(a.getResult(!0),"text/xml"),c=a.getTag();return!this._preferXHR&&document.body.contains(c)&&document.body.removeChild(c),null!=b.documentElement?(c.appendChild(b.documentElement),c.style.visibility="visible",c):b},createjs.SVGLoader=createjs.promote(a,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a){this.AbstractLoader_constructor(a,!0,createjs.AbstractLoader.XML),this.resultFormatter=this._formatResult}var b=createjs.extend(a,createjs.AbstractLoader),c=a;c.canLoadItem=function(a){return a.type==createjs.AbstractLoader.XML},b._formatResult=function(a){return createjs.DataUtils.parseXML(a.getResult(!0),"text/xml")},createjs.XMLLoader=createjs.promote(a,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){var a=createjs.SoundJS=createjs.SoundJS||{};a.version="0.6.2",a.buildDate="Thu, 26 Nov 2015 20:44:31 GMT"}(),this.createjs=this.createjs||{},createjs.indexOf=function(a,b){"use strict";for(var c=0,d=a.length;d>c;c++)if(b===a[c])return c;return-1},this.createjs=this.createjs||{},function(){"use strict";createjs.proxy=function(a,b){var c=Array.prototype.slice.call(arguments,2);return function(){return a.apply(b,Array.prototype.slice.call(arguments,0).concat(c))}}}(),this.createjs=this.createjs||{},function(){"use strict";function a(){throw"BrowserDetect cannot be instantiated"}var b=a.agent=window.navigator.userAgent;a.isWindowPhone=b.indexOf("IEMobile")>-1||b.indexOf("Windows Phone")>-1,a.isFirefox=b.indexOf("Firefox")>-1,a.isOpera=null!=window.opera,a.isChrome=b.indexOf("Chrome")>-1,a.isIOS=(b.indexOf("iPod")>-1||b.indexOf("iPhone")>-1||b.indexOf("iPad")>-1)&&!a.isWindowPhone,a.isAndroid=b.indexOf("Android")>-1&&!a.isWindowPhone,a.isBlackberry=b.indexOf("Blackberry")>-1,createjs.BrowserDetect=a}(),this.createjs=this.createjs||{},function(){"use strict";var a=function(){this.interrupt=null,this.delay=null,this.offset=null,this.loop=null,this.volume=null,this.pan=null,this.startTime=null,this.duration=null},b=a.prototype={},c=a;c.create=function(a){if(a instanceof c||a instanceof Object){var b=new createjs.PlayPropsConfig;return b.set(a),b}throw new Error("Type not recognized.")},b.set=function(a){for(var b in a)this[b]=a[b];return this},b.toString=function(){return"[PlayPropsConfig]"},createjs.PlayPropsConfig=c}(),this.createjs=this.createjs||{},function(){"use strict";function a(){throw"Sound cannot be instantiated"}function b(a,b){this.init(a,b)}var c=a;c.INTERRUPT_ANY="any",
c.INTERRUPT_EARLY="early",c.INTERRUPT_LATE="late",c.INTERRUPT_NONE="none",c.PLAY_INITED="playInited",c.PLAY_SUCCEEDED="playSucceeded",c.PLAY_INTERRUPTED="playInterrupted",c.PLAY_FINISHED="playFinished",c.PLAY_FAILED="playFailed",c.SUPPORTED_EXTENSIONS=["mp3","ogg","opus","mpeg","wav","m4a","mp4","aiff","wma","mid"],c.EXTENSION_MAP={m4a:"mp4"},c.FILE_PATTERN=/^(?:(\w+:)\/{2}(\w+(?:\.\w+)*\/?))?([\/.]*?(?:[^?]+)?\/)?((?:[^\/?]+)\.(\w+))(?:\?(\S+)?)?$/,c.defaultInterruptBehavior=c.INTERRUPT_NONE,c.alternateExtensions=[],c.activePlugin=null,c._masterVolume=1,Object.defineProperty(c,"volume",{get:function(){return this._masterVolume},set:function(a){if(null==Number(a))return!1;if(a=Math.max(0,Math.min(1,a)),c._masterVolume=a,!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(a))for(var b=this._instances,d=0,e=b.length;e>d;d++)b[d].setMasterVolume(a)}}),c._masterMute=!1,Object.defineProperty(c,"muted",{get:function(){return this._masterMute},set:function(a){if(null==a)return!1;if(this._masterMute=a,!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(a))for(var b=this._instances,c=0,d=b.length;d>c;c++)b[c].setMasterMute(a);return!0}}),Object.defineProperty(c,"capabilities",{get:function(){return null==c.activePlugin?null:c.activePlugin._capabilities},set:function(a){return!1}}),c._pluginsRegistered=!1,c._lastID=0,c._instances=[],c._idHash={},c._preloadHash={},c._defaultPlayPropsHash={},c.addEventListener=null,c.removeEventListener=null,c.removeAllEventListeners=null,c.dispatchEvent=null,c.hasEventListener=null,c._listeners=null,createjs.EventDispatcher.initialize(c),c.getPreloadHandlers=function(){return{callback:createjs.proxy(c.initLoad,c),types:["sound"],extensions:c.SUPPORTED_EXTENSIONS}},c._handleLoadComplete=function(a){var b=a.target.getItem().src;if(c._preloadHash[b])for(var d=0,e=c._preloadHash[b].length;e>d;d++){var f=c._preloadHash[b][d];if(c._preloadHash[b][d]=!0,c.hasEventListener("fileload")){var a=new createjs.Event("fileload");a.src=f.src,a.id=f.id,a.data=f.data,a.sprite=f.sprite,c.dispatchEvent(a)}}},c._handleLoadError=function(a){var b=a.target.getItem().src;if(c._preloadHash[b])for(var d=0,e=c._preloadHash[b].length;e>d;d++){var f=c._preloadHash[b][d];if(c._preloadHash[b][d]=!1,c.hasEventListener("fileerror")){var a=new createjs.Event("fileerror");a.src=f.src,a.id=f.id,a.data=f.data,a.sprite=f.sprite,c.dispatchEvent(a)}}},c._registerPlugin=function(a){return!!a.isSupported()&&(c.activePlugin=new a,!0)},c.registerPlugins=function(a){c._pluginsRegistered=!0;for(var b=0,d=a.length;d>b;b++)if(c._registerPlugin(a[b]))return!0;return!1},c.initializeDefaultPlugins=function(){return null!=c.activePlugin||!c._pluginsRegistered&&!!c.registerPlugins([createjs.WebAudioPlugin,createjs.HTMLAudioPlugin])},c.isReady=function(){return null!=c.activePlugin},c.getCapabilities=function(){return null==c.activePlugin?null:c.activePlugin._capabilities},c.getCapability=function(a){return null==c.activePlugin?null:c.activePlugin._capabilities[a]},c.initLoad=function(a){return c._registerSound(a)},c._registerSound=function(a){if(!c.initializeDefaultPlugins())return!1;var d;if(a.src instanceof Object?(d=c._parseSrc(a.src),d.src=a.path+d.src):d=c._parsePath(a.src),null==d)return!1;a.src=d.src,a.type="sound";var e=a.data,f=null;if(null!=e&&(isNaN(e.channels)?isNaN(e)||(f=parseInt(e)):f=parseInt(e.channels),e.audioSprite))for(var g,h=e.audioSprite.length;h--;)g=e.audioSprite[h],c._idHash[g.id]={src:a.src,startTime:parseInt(g.startTime),duration:parseInt(g.duration)},g.defaultPlayProps&&(c._defaultPlayPropsHash[g.id]=createjs.PlayPropsConfig.create(g.defaultPlayProps));null!=a.id&&(c._idHash[a.id]={src:a.src});var i=c.activePlugin.register(a);return b.create(a.src,f),null!=e&&isNaN(e)?a.data.channels=f||b.maxPerChannel():a.data=f||b.maxPerChannel(),i.type&&(a.type=i.type),a.defaultPlayProps&&(c._defaultPlayPropsHash[a.src]=createjs.PlayPropsConfig.create(a.defaultPlayProps)),i},c.registerSound=function(a,b,d,e,f){var g={src:a,id:b,data:d,defaultPlayProps:f};a instanceof Object&&a.src&&(e=b,g=a),g=createjs.LoadItem.create(g),g.path=e,null==e||g.src instanceof Object||(g.src=e+a);var h=c._registerSound(g);if(!h)return!1;if(c._preloadHash[g.src]||(c._preloadHash[g.src]=[]),c._preloadHash[g.src].push(g),1==c._preloadHash[g.src].length)h.on("complete",createjs.proxy(this._handleLoadComplete,this)),h.on("error",createjs.proxy(this._handleLoadError,this)),c.activePlugin.preload(h);else if(1==c._preloadHash[g.src][0])return!0;return g},c.registerSounds=function(a,b){var c=[];a.path&&(b?b+=a.path:b=a.path,a=a.manifest);for(var d=0,e=a.length;e>d;d++)c[d]=createjs.Sound.registerSound(a[d].src,a[d].id,a[d].data,b,a[d].defaultPlayProps);return c},c.removeSound=function(a,d){if(null==c.activePlugin)return!1;a instanceof Object&&a.src&&(a=a.src);var e;if(a instanceof Object?e=c._parseSrc(a):(a=c._getSrcById(a).src,e=c._parsePath(a)),null==e)return!1;a=e.src,null!=d&&(a=d+a);for(var f in c._idHash)c._idHash[f].src==a&&delete c._idHash[f];return b.removeSrc(a),delete c._preloadHash[a],c.activePlugin.removeSound(a),!0},c.removeSounds=function(a,b){var c=[];a.path&&(b?b+=a.path:b=a.path,a=a.manifest);for(var d=0,e=a.length;e>d;d++)c[d]=createjs.Sound.removeSound(a[d].src,b);return c},c.removeAllSounds=function(){c._idHash={},c._preloadHash={},b.removeAll(),c.activePlugin&&c.activePlugin.removeAllSounds()},c.loadComplete=function(a){if(!c.isReady())return!1;var b=c._parsePath(a);return a=b?c._getSrcById(b.src).src:c._getSrcById(a).src,void 0!=c._preloadHash[a]&&1==c._preloadHash[a][0]},c._parsePath=function(a){"string"!=typeof a&&(a=a.toString());var b=a.match(c.FILE_PATTERN);if(null==b)return!1;for(var d=b[4],e=b[5],f=c.capabilities,g=0;!f[e];)if(e=c.alternateExtensions[g++],g>c.alternateExtensions.length)return null;a=a.replace("."+b[5],"."+e);var h={name:d,src:a,extension:e};return h},c._parseSrc=function(a){var b={name:void 0,src:void 0,extension:void 0},d=c.capabilities;for(var e in a)if(a.hasOwnProperty(e)&&d[e]){b.src=a[e],b.extension=e;break}if(!b.src)return!1;var f=b.src.lastIndexOf("/");return-1!=f?b.name=b.src.slice(f+1):b.name=b.src,b},c.play=function(a,b,d,e,f,g,h,i,j){var k;k=b instanceof Object||b instanceof createjs.PlayPropsConfig?createjs.PlayPropsConfig.create(b):createjs.PlayPropsConfig.create({interrupt:b,delay:d,offset:e,loop:f,volume:g,pan:h,startTime:i,duration:j});var l=c.createInstance(a,k.startTime,k.duration),m=c._playInstance(l,k);return m||l._playFailed(),l},c.createInstance=function(a,d,e){if(!c.initializeDefaultPlugins())return new createjs.DefaultSoundInstance(a,d,e);var f=c._defaultPlayPropsHash[a];a=c._getSrcById(a);var g=c._parsePath(a.src),h=null;return null!=g&&null!=g.src?(b.create(g.src),null==d&&(d=a.startTime),h=c.activePlugin.create(g.src,d,e||a.duration),f=f||c._defaultPlayPropsHash[g.src],f&&h.applyPlayProps(f)):h=new createjs.DefaultSoundInstance(a,d,e),h.uniqueId=c._lastID++,h},c.stop=function(){for(var a=this._instances,b=a.length;b--;)a[b].stop()},c.setVolume=function(a){if(null==Number(a))return!1;if(a=Math.max(0,Math.min(1,a)),c._masterVolume=a,!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(a))for(var b=this._instances,d=0,e=b.length;e>d;d++)b[d].setMasterVolume(a)},c.getVolume=function(){return this._masterVolume},c.setMute=function(a){if(null==a)return!1;if(this._masterMute=a,!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(a))for(var b=this._instances,c=0,d=b.length;d>c;c++)b[c].setMasterMute(a);return!0},c.getMute=function(){return this._masterMute},c.setDefaultPlayProps=function(a,b){a=c._getSrcById(a),c._defaultPlayPropsHash[c._parsePath(a.src).src]=createjs.PlayPropsConfig.create(b)},c.getDefaultPlayProps=function(a){return a=c._getSrcById(a),c._defaultPlayPropsHash[c._parsePath(a.src).src]},c._playInstance=function(a,b){var d=c._defaultPlayPropsHash[a.src]||{};if(null==b.interrupt&&(b.interrupt=d.interrupt||c.defaultInterruptBehavior),null==b.delay&&(b.delay=d.delay||0),null==b.offset&&(b.offset=a.getPosition()),null==b.loop&&(b.loop=a.loop),null==b.volume&&(b.volume=a.volume),null==b.pan&&(b.pan=a.pan),0==b.delay){var e=c._beginPlaying(a,b);if(!e)return!1}else{var f=setTimeout(function(){c._beginPlaying(a,b)},b.delay);a.delayTimeoutId=f}return this._instances.push(a),!0},c._beginPlaying=function(a,c){if(!b.add(a,c.interrupt))return!1;var d=a._beginPlaying(c);if(!d){var e=createjs.indexOf(this._instances,a);return e>-1&&this._instances.splice(e,1),!1}return!0},c._getSrcById=function(a){return c._idHash[a]||{src:a}},c._playFinished=function(a){b.remove(a);var c=createjs.indexOf(this._instances,a);c>-1&&this._instances.splice(c,1)},createjs.Sound=a,b.channels={},b.create=function(a,c){var d=b.get(a);return null==d&&(b.channels[a]=new b(a,c),!0)},b.removeSrc=function(a){var c=b.get(a);return null!=c&&(c._removeAll(),delete b.channels[a],!0)},b.removeAll=function(){for(var a in b.channels)b.channels[a]._removeAll();b.channels={}},b.add=function(a,c){var d=b.get(a.src);return null!=d&&d._add(a,c)},b.remove=function(a){var c=b.get(a.src);return null!=c&&(c._remove(a),!0)},b.maxPerChannel=function(){return d.maxDefault},b.get=function(a){return b.channels[a]};var d=b.prototype;d.constructor=b,d.src=null,d.max=null,d.maxDefault=100,d.length=0,d.init=function(a,b){this.src=a,this.max=b||this.maxDefault,-1==this.max&&(this.max=this.maxDefault),this._instances=[]},d._get=function(a){return this._instances[a]},d._add=function(a,b){return!!this._getSlot(b,a)&&(this._instances.push(a),this.length++,!0)},d._remove=function(a){var b=createjs.indexOf(this._instances,a);return-1!=b&&(this._instances.splice(b,1),this.length--,!0)},d._removeAll=function(){for(var a=this.length-1;a>=0;a--)this._instances[a].stop()},d._getSlot=function(b,c){var d,e;if(b!=a.INTERRUPT_NONE&&(e=this._get(0),null==e))return!0;for(var f=0,g=this.max;g>f;f++){if(d=this._get(f),null==d)return!0;if(d.playState==a.PLAY_FINISHED||d.playState==a.PLAY_INTERRUPTED||d.playState==a.PLAY_FAILED){e=d;break}b!=a.INTERRUPT_NONE&&(b==a.INTERRUPT_EARLY&&d.getPosition()<e.getPosition()||b==a.INTERRUPT_LATE&&d.getPosition()>e.getPosition())&&(e=d)}return null!=e&&(e._interrupt(),this._remove(e),!0)},d.toString=function(){return"[Sound SoundChannel]"}}(),this.createjs=this.createjs||{},function(){"use strict";var a=function(a,b,c,d){this.EventDispatcher_constructor(),this.src=a,this.uniqueId=-1,this.playState=null,this.delayTimeoutId=null,this._volume=1,Object.defineProperty(this,"volume",{get:this.getVolume,set:this.setVolume}),this._pan=0,Object.defineProperty(this,"pan",{get:this.getPan,set:this.setPan}),this._startTime=Math.max(0,b||0),Object.defineProperty(this,"startTime",{get:this.getStartTime,set:this.setStartTime}),this._duration=Math.max(0,c||0),Object.defineProperty(this,"duration",{get:this.getDuration,set:this.setDuration}),this._playbackResource=null,Object.defineProperty(this,"playbackResource",{get:this.getPlaybackResource,set:this.setPlaybackResource}),d!==!1&&d!==!0&&this.setPlaybackResource(d),this._position=0,Object.defineProperty(this,"position",{get:this.getPosition,set:this.setPosition}),this._loop=0,Object.defineProperty(this,"loop",{get:this.getLoop,set:this.setLoop}),this._muted=!1,Object.defineProperty(this,"muted",{get:this.getMuted,set:this.setMuted}),this._paused=!1,Object.defineProperty(this,"paused",{get:this.getPaused,set:this.setPaused})},b=createjs.extend(a,createjs.EventDispatcher);b.play=function(a,b,c,d,e,f){var g;return g=a instanceof Object||a instanceof createjs.PlayPropsConfig?createjs.PlayPropsConfig.create(a):createjs.PlayPropsConfig.create({interrupt:a,delay:b,offset:c,loop:d,volume:e,pan:f}),this.playState==createjs.Sound.PLAY_SUCCEEDED?(this.applyPlayProps(g),void(this._paused&&this.setPaused(!1))):(this._cleanUp(),createjs.Sound._playInstance(this,g),this)},b.stop=function(){return this._position=0,this._paused=!1,this._handleStop(),this._cleanUp(),this.playState=createjs.Sound.PLAY_FINISHED,this},b.destroy=function(){this._cleanUp(),this.src=null,this.playbackResource=null,this.removeAllEventListeners()},b.applyPlayProps=function(a){return null!=a.offset&&this.setPosition(a.offset),null!=a.loop&&this.setLoop(a.loop),null!=a.volume&&this.setVolume(a.volume),null!=a.pan&&this.setPan(a.pan),null!=a.startTime&&(this.setStartTime(a.startTime),this.setDuration(a.duration)),this},b.toString=function(){return"[AbstractSoundInstance]"},b.getPaused=function(){return this._paused},b.setPaused=function(a){return a!==!0&&a!==!1||this._paused==a||1==a&&this.playState!=createjs.Sound.PLAY_SUCCEEDED?void 0:(this._paused=a,a?this._pause():this._resume(),clearTimeout(this.delayTimeoutId),this)},b.setVolume=function(a){return a==this._volume?this:(this._volume=Math.max(0,Math.min(1,a)),this._muted||this._updateVolume(),this)},b.getVolume=function(){return this._volume},b.setMuted=function(a){return a===!0||a===!1?(this._muted=a,this._updateVolume(),this):void 0},b.getMuted=function(){return this._muted},b.setPan=function(a){return a==this._pan?this:(this._pan=Math.max(-1,Math.min(1,a)),this._updatePan(),this)},b.getPan=function(){return this._pan},b.getPosition=function(){return this._paused||this.playState!=createjs.Sound.PLAY_SUCCEEDED||(this._position=this._calculateCurrentPosition()),this._position},b.setPosition=function(a){return this._position=Math.max(0,a),this.playState==createjs.Sound.PLAY_SUCCEEDED&&this._updatePosition(),this},b.getStartTime=function(){return this._startTime},b.setStartTime=function(a){return a==this._startTime?this:(this._startTime=Math.max(0,a||0),this._updateStartTime(),this)},b.getDuration=function(){return this._duration},b.setDuration=function(a){return a==this._duration?this:(this._duration=Math.max(0,a||0),this._updateDuration(),this)},b.setPlaybackResource=function(a){return this._playbackResource=a,0==this._duration&&this._setDurationFromSource(),this},b.getPlaybackResource=function(){return this._playbackResource},b.getLoop=function(){return this._loop},b.setLoop=function(a){null!=this._playbackResource&&(0!=this._loop&&0==a?this._removeLooping(a):0==this._loop&&0!=a&&this._addLooping(a)),this._loop=a},b._sendEvent=function(a){var b=new createjs.Event(a);this.dispatchEvent(b)},b._cleanUp=function(){clearTimeout(this.delayTimeoutId),this._handleCleanUp(),this._paused=!1,createjs.Sound._playFinished(this)},b._interrupt=function(){this._cleanUp(),this.playState=createjs.Sound.PLAY_INTERRUPTED,this._sendEvent("interrupted")},b._beginPlaying=function(a){return this.setPosition(a.offset),this.setLoop(a.loop),this.setVolume(a.volume),this.setPan(a.pan),null!=a.startTime&&(this.setStartTime(a.startTime),this.setDuration(a.duration)),null!=this._playbackResource&&this._position<this._duration?(this._paused=!1,this._handleSoundReady(),this.playState=createjs.Sound.PLAY_SUCCEEDED,this._sendEvent("succeeded"),!0):(this._playFailed(),!1)},b._playFailed=function(){this._cleanUp(),this.playState=createjs.Sound.PLAY_FAILED,this._sendEvent("failed")},b._handleSoundComplete=function(a){return this._position=0,0!=this._loop?(this._loop--,this._handleLoop(),void this._sendEvent("loop")):(this._cleanUp(),this.playState=createjs.Sound.PLAY_FINISHED,void this._sendEvent("complete"))},b._handleSoundReady=function(){},b._updateVolume=function(){},b._updatePan=function(){},b._updateStartTime=function(){},b._updateDuration=function(){},b._setDurationFromSource=function(){},b._calculateCurrentPosition=function(){},b._updatePosition=function(){},b._removeLooping=function(a){},b._addLooping=function(a){},b._pause=function(){},b._resume=function(){},b._handleStop=function(){},b._handleCleanUp=function(){},b._handleLoop=function(){},createjs.AbstractSoundInstance=createjs.promote(a,"EventDispatcher"),createjs.DefaultSoundInstance=createjs.AbstractSoundInstance}(),this.createjs=this.createjs||{},function(){"use strict";var a=function(){this._capabilities=null,this._loaders={},this._audioSources={},this._soundInstances={},this._volume=1,this._loaderClass,this._soundInstanceClass},b=a.prototype;a._capabilities=null,a.isSupported=function(){return!0},b.register=function(a){var b=this._loaders[a.src];return b&&!b.canceled?this._loaders[a.src]:(this._audioSources[a.src]=!0,this._soundInstances[a.src]=[],b=new this._loaderClass(a),b.on("complete",this._handlePreloadComplete,this),this._loaders[a.src]=b,b)},b.preload=function(a){a.on("error",this._handlePreloadError,this),a.load()},b.isPreloadStarted=function(a){return null!=this._audioSources[a]},b.isPreloadComplete=function(a){return!(null==this._audioSources[a]||1==this._audioSources[a])},b.removeSound=function(a){if(this._soundInstances[a]){for(var b=this._soundInstances[a].length;b--;){var c=this._soundInstances[a][b];c.destroy()}delete this._soundInstances[a],delete this._audioSources[a],this._loaders[a]&&this._loaders[a].destroy(),delete this._loaders[a]}},b.removeAllSounds=function(){for(var a in this._audioSources)this.removeSound(a)},b.create=function(a,b,c){this.isPreloadStarted(a)||this.preload(this.register(a));var d=new this._soundInstanceClass(a,b,c,this._audioSources[a]);return this._soundInstances[a].push(d),d},b.setVolume=function(a){return this._volume=a,this._updateVolume(),!0},b.getVolume=function(){return this._volume},b.setMute=function(a){return this._updateVolume(),!0},b.toString=function(){return"[AbstractPlugin]"},b._handlePreloadComplete=function(a){var b=a.target.getItem().src;this._audioSources[b]=a.result;for(var c=0,d=this._soundInstances[b].length;d>c;c++){var e=this._soundInstances[b][c];e.setPlaybackResource(this._audioSources[b])}},b._handlePreloadError=function(a){},b._updateVolume=function(){},createjs.AbstractPlugin=a}(),this.createjs=this.createjs||{},function(){"use strict";function a(a){this.AbstractLoader_constructor(a,!0,createjs.AbstractLoader.SOUND)}var b=createjs.extend(a,createjs.AbstractLoader);a.context=null,b.toString=function(){return"[WebAudioLoader]"},b._createRequest=function(){this._request=new createjs.XHRRequest(this._item,(!1)),this._request.setResponseType("arraybuffer")},b._sendComplete=function(b){a.context.decodeAudioData(this._rawResult,createjs.proxy(this._handleAudioDecoded,this),createjs.proxy(this._sendError,this))},b._handleAudioDecoded=function(a){this._result=a,this.AbstractLoader__sendComplete()},createjs.WebAudioLoader=createjs.promote(a,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a,b,d,e){this.AbstractSoundInstance_constructor(a,b,d,e),this.gainNode=c.context.createGain(),this.panNode=c.context.createPanner(),this.panNode.panningModel=c._panningModel,this.panNode.connect(this.gainNode),this._updatePan(),this.sourceNode=null,this._soundCompleteTimeout=null,this._sourceNodeNext=null,this._playbackStartTime=0,this._endedHandler=createjs.proxy(this._handleSoundComplete,this)}var b=createjs.extend(a,createjs.AbstractSoundInstance),c=a;c.context=null,c._scratchBuffer=null,c.destinationNode=null,c._panningModel="equalpower",b.destroy=function(){this.AbstractSoundInstance_destroy(),this.panNode.disconnect(0),this.panNode=null,this.gainNode.disconnect(0),this.gainNode=null},b.toString=function(){return"[WebAudioSoundInstance]"},b._updatePan=function(){this.panNode.setPosition(this._pan,0,-.5)},b._removeLooping=function(a){this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)},b._addLooping=function(a){this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))},b._setDurationFromSource=function(){this._duration=1e3*this.playbackResource.duration},b._handleCleanUp=function(){this.sourceNode&&this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)),0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0),clearTimeout(this._soundCompleteTimeout),this._playbackStartTime=0},b._cleanUpAudioNode=function(a){if(a){a.stop(0),a.disconnect(0);try{a.buffer=c._scratchBuffer}catch(b){}a=null}return a},b._handleSoundReady=function(a){this.gainNode.connect(c.destinationNode);var b=.001*this._duration,d=.001*this._position;d>b&&(d=b),this.sourceNode=this._createAndPlayAudioNode(c.context.currentTime-b,d),this._playbackStartTime=this.sourceNode.startTime-d,this._soundCompleteTimeout=setTimeout(this._endedHandler,1e3*(b-d)),0!=this._loop&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))},b._createAndPlayAudioNode=function(a,b){var d=c.context.createBufferSource();d.buffer=this.playbackResource,d.connect(this.panNode);var e=.001*this._duration;return d.startTime=a+e,d.start(d.startTime,b+.001*this._startTime,e-b),d},b._pause=function(){this._position=1e3*(c.context.currentTime-this._playbackStartTime),this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext),0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0),clearTimeout(this._soundCompleteTimeout)},b._resume=function(){this._handleSoundReady()},b._updateVolume=function(){var a=this._muted?0:this._volume;a!=this.gainNode.gain.value&&(this.gainNode.gain.value=a)},b._calculateCurrentPosition=function(){return 1e3*(c.context.currentTime-this._playbackStartTime)},b._updatePosition=function(){this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext),clearTimeout(this._soundCompleteTimeout),this._paused||this._handleSoundReady()},b._handleLoop=function(){this._cleanUpAudioNode(this.sourceNode),this.sourceNode=this._sourceNodeNext,this._playbackStartTime=this.sourceNode.startTime,this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0),this._soundCompleteTimeout=setTimeout(this._endedHandler,this._duration)},b._updateDuration=function(){this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._pause(),this._resume())},createjs.WebAudioSoundInstance=createjs.promote(a,"AbstractSoundInstance")}(),this.createjs=this.createjs||{},function(){"use strict";function a(){this.AbstractPlugin_constructor(),this._panningModel=c._panningModel,this.context=c.context,this.dynamicsCompressorNode=this.context.createDynamicsCompressor(),this.dynamicsCompressorNode.connect(this.context.destination),this.gainNode=this.context.createGain(),this.gainNode.connect(this.dynamicsCompressorNode),createjs.WebAudioSoundInstance.destinationNode=this.gainNode,this._capabilities=c._capabilities,this._loaderClass=createjs.WebAudioLoader,this._soundInstanceClass=createjs.WebAudioSoundInstance,this._addPropsToClasses()}var b=createjs.extend(a,createjs.AbstractPlugin),c=a;c._capabilities=null,c._panningModel="equalpower",c.context=null,c._scratchBuffer=null,c._unlocked=!1,c.isSupported=function(){var a=createjs.BrowserDetect.isIOS||createjs.BrowserDetect.isAndroid||createjs.BrowserDetect.isBlackberry;return!("file:"==location.protocol&&!a&&!this._isFileXHRSupported())&&(c._generateCapabilities(),null!=c.context)},c.playEmptySound=function(){if(null!=c.context){var a=c.context.createBufferSource();a.buffer=c._scratchBuffer,a.connect(c.context.destination),a.start(0,0,0)}},c._isFileXHRSupported=function(){var a=!0,b=new XMLHttpRequest;try{b.open("GET","WebAudioPluginTest.fail",!1)}catch(c){return a=!1}b.onerror=function(){a=!1},b.onload=function(){a=404==this.status||200==this.status||0==this.status&&""!=this.response};try{b.send()}catch(c){a=!1}return a},c._generateCapabilities=function(){if(null==c._capabilities){var a=document.createElement("audio");if(null==a.canPlayType)return null;if(null==c.context)if(window.AudioContext)c.context=new AudioContext;else{if(!window.webkitAudioContext)return null;c.context=new webkitAudioContext}null==c._scratchBuffer&&(c._scratchBuffer=c.context.createBuffer(1,1,22050)),c._compatibilitySetUp(),"ontouchstart"in window&&"running"!=c.context.state&&(c._unlock(),document.addEventListener("mousedown",c._unlock,!0),document.addEventListener("touchend",c._unlock,!0)),c._capabilities={panning:!0,volume:!0,tracks:-1};for(var b=createjs.Sound.SUPPORTED_EXTENSIONS,d=createjs.Sound.EXTENSION_MAP,e=0,f=b.length;f>e;e++){var g=b[e],h=d[g]||g;c._capabilities[g]="no"!=a.canPlayType("audio/"+g)&&""!=a.canPlayType("audio/"+g)||"no"!=a.canPlayType("audio/"+h)&&""!=a.canPlayType("audio/"+h)}c.context.destination.numberOfChannels<2&&(c._capabilities.panning=!1)}},c._compatibilitySetUp=function(){if(c._panningModel="equalpower",!c.context.createGain){c.context.createGain=c.context.createGainNode;var a=c.context.createBufferSource();a.__proto__.start=a.__proto__.noteGrainOn,a.__proto__.stop=a.__proto__.noteOff,c._panningModel=0}},c._unlock=function(){c._unlocked||(c.playEmptySound(),"running"==c.context.state&&(document.removeEventListener("mousedown",c._unlock,!0),document.removeEventListener("touchend",c._unlock,!0),c._unlocked=!0))},b.toString=function(){return"[WebAudioPlugin]"},b._addPropsToClasses=function(){var a=this._soundInstanceClass;a.context=this.context,a._scratchBuffer=c._scratchBuffer,a.destinationNode=this.gainNode,a._panningModel=this._panningModel,this._loaderClass.context=this.context},b._updateVolume=function(){var a=createjs.Sound._masterMute?0:this._volume;a!=this.gainNode.gain.value&&(this.gainNode.gain.value=a)},createjs.WebAudioPlugin=createjs.promote(a,"AbstractPlugin")}(),this.createjs=this.createjs||{},function(){"use strict";function a(){throw"HTMLAudioTagPool cannot be instantiated"}function b(a){this._tags=[]}var c=a;c._tags={},c._tagPool=new b,c._tagUsed={},c.get=function(a){var b=c._tags[a];return null==b?(b=c._tags[a]=c._tagPool.get(),b.src=a):c._tagUsed[a]?(b=c._tagPool.get(),b.src=a):c._tagUsed[a]=!0,b},c.set=function(a,b){b==c._tags[a]?c._tagUsed[a]=!1:c._tagPool.set(b)},c.remove=function(a){var b=c._tags[a];return null!=b&&(c._tagPool.set(b),delete c._tags[a],delete c._tagUsed[a],!0)},c.getDuration=function(a){var b=c._tags[a];return null!=b&&b.duration?1e3*b.duration:0},createjs.HTMLAudioTagPool=a;var d=b.prototype;d.constructor=b,d.get=function(){var a;return a=0==this._tags.length?this._createTag():this._tags.pop(),null==a.parentNode&&document.body.appendChild(a),a},d.set=function(a){var b=createjs.indexOf(this._tags,a);-1==b&&(this._tags.src=null,this._tags.push(a))},d.toString=function(){return"[TagPool]"},d._createTag=function(){var a=document.createElement("audio");return a.autoplay=!1,a.preload="none",a}}(),this.createjs=this.createjs||{},function(){"use strict";function a(a,b,c,d){this.AbstractSoundInstance_constructor(a,b,c,d),this._audioSpriteStopTime=null,this._delayTimeoutId=null,this._endedHandler=createjs.proxy(this._handleSoundComplete,this),this._readyHandler=createjs.proxy(this._handleTagReady,this),this._stalledHandler=createjs.proxy(this._playFailed,this),this._audioSpriteEndHandler=createjs.proxy(this._handleAudioSpriteLoop,this),this._loopHandler=createjs.proxy(this._handleSoundComplete,this),c?this._audioSpriteStopTime=.001*(b+c):this._duration=createjs.HTMLAudioTagPool.getDuration(this.src)}var b=createjs.extend(a,createjs.AbstractSoundInstance);b.setMasterVolume=function(a){this._updateVolume()},b.setMasterMute=function(a){this._updateVolume()},b.toString=function(){return"[HTMLAudioSoundInstance]"},b._removeLooping=function(){null!=this._playbackResource&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},b._addLooping=function(){null==this._playbackResource||this._audioSpriteStopTime||(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0)},b._handleCleanUp=function(){var a=this._playbackResource;if(null!=a){a.pause(),a.loop=!1,a.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),a.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),a.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),a.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),a.removeEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1);try{a.currentTime=this._startTime}catch(b){}createjs.HTMLAudioTagPool.set(this.src,a),this._playbackResource=null}},b._beginPlaying=function(a){return this._playbackResource=createjs.HTMLAudioTagPool.get(this.src),this.AbstractSoundInstance__beginPlaying(a)},b._handleSoundReady=function(a){if(4!==this._playbackResource.readyState){var b=this._playbackResource;return b.addEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),b.addEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),b.preload="auto",void b.load()}this._updateVolume(),this._playbackResource.currentTime=.001*(this._startTime+this._position),this._audioSpriteStopTime?this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1):(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),0!=this._loop&&(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0)),this._playbackResource.play()},b._handleTagReady=function(a){this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),this._handleSoundReady()},b._pause=function(){this._playbackResource.pause()},b._resume=function(){this._playbackResource.play()},b._updateVolume=function(){if(null!=this._playbackResource){var a=this._muted||createjs.Sound._masterMute?0:this._volume*createjs.Sound._masterVolume;a!=this._playbackResource.volume&&(this._playbackResource.volume=a)}},b._calculateCurrentPosition=function(){return 1e3*this._playbackResource.currentTime-this._startTime},b._updatePosition=function(){this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1);try{this._playbackResource.currentTime=.001*(this._position+this._startTime)}catch(a){this._handleSetPositionSeek(null)}},b._handleSetPositionSeek=function(a){null!=this._playbackResource&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},b._handleAudioSpriteLoop=function(a){this._playbackResource.currentTime<=this._audioSpriteStopTime||(this._playbackResource.pause(),0==this._loop?this._handleSoundComplete(null):(this._position=0,this._loop--,this._playbackResource.currentTime=.001*this._startTime,this._paused||this._playbackResource.play(),this._sendEvent("loop")))},b._handleLoop=function(a){0==this._loop&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},b._updateStartTime=function(){this._audioSpriteStopTime=.001*(this._startTime+this._duration),this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))},b._updateDuration=function(){this._audioSpriteStopTime=.001*(this._startTime+this._duration),this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))},b._setDurationFromSource=function(){this._duration=createjs.HTMLAudioTagPool.getDuration(this.src),
this._playbackResource=null},createjs.HTMLAudioSoundInstance=createjs.promote(a,"AbstractSoundInstance")}(),this.createjs=this.createjs||{},function(){"use strict";function a(){this.AbstractPlugin_constructor(),this.defaultNumChannels=2,this._capabilities=c._capabilities,this._loaderClass=createjs.SoundLoader,this._soundInstanceClass=createjs.HTMLAudioSoundInstance}var b=createjs.extend(a,createjs.AbstractPlugin),c=a;c.MAX_INSTANCES=30,c._AUDIO_READY="canplaythrough",c._AUDIO_ENDED="ended",c._AUDIO_SEEKED="seeked",c._AUDIO_STALLED="stalled",c._TIME_UPDATE="timeupdate",c._capabilities=null,c.isSupported=function(){return c._generateCapabilities(),null!=c._capabilities},c._generateCapabilities=function(){if(null==c._capabilities){var a=document.createElement("audio");if(null==a.canPlayType)return null;c._capabilities={panning:!1,volume:!0,tracks:-1};for(var b=createjs.Sound.SUPPORTED_EXTENSIONS,d=createjs.Sound.EXTENSION_MAP,e=0,f=b.length;f>e;e++){var g=b[e],h=d[g]||g;c._capabilities[g]="no"!=a.canPlayType("audio/"+g)&&""!=a.canPlayType("audio/"+g)||"no"!=a.canPlayType("audio/"+h)&&""!=a.canPlayType("audio/"+h)}}},b.register=function(a){var b=createjs.HTMLAudioTagPool.get(a.src),c=this.AbstractPlugin_register(a);return c.setTag(b),c},b.removeSound=function(a){this.AbstractPlugin_removeSound(a),createjs.HTMLAudioTagPool.remove(a)},b.create=function(a,b,c){var d=this.AbstractPlugin_create(a,b,c);return d.setPlaybackResource(null),d},b.toString=function(){return"[HTMLAudioPlugin]"},b.setVolume=b.getVolume=b.setMute=null,createjs.HTMLAudioPlugin=createjs.promote(a,"AbstractPlugin")}(),this.createjs=this.createjs||{},function(){"use strict";function a(b,c,d){this.ignoreGlobalPause=!1,this.loop=!1,this.duration=0,this.pluginData=d||{},this.target=b,this.position=null,this.passive=!1,this._paused=!1,this._curQueueProps={},this._initQueueProps={},this._steps=[],this._actions=[],this._prevPosition=0,this._stepPosition=0,this._prevPos=-1,this._target=b,this._useTicks=!1,this._inited=!1,this._registered=!1,c&&(this._useTicks=c.useTicks,this.ignoreGlobalPause=c.ignoreGlobalPause,this.loop=c.loop,c.onChange&&this.addEventListener("change",c.onChange),c.override&&a.removeTweens(b)),c&&c.paused?this._paused=!0:createjs.Tween._register(this,!0),c&&null!=c.position&&this.setPosition(c.position,a.NONE)}var b=createjs.extend(a,createjs.EventDispatcher);a.NONE=0,a.LOOP=1,a.REVERSE=2,a.IGNORE={},a._tweens=[],a._plugins={},a.get=function(b,c,d,e){return e&&a.removeTweens(b),new a(b,c,d)},a.tick=function(b,c){for(var d=a._tweens.slice(),e=d.length-1;e>=0;e--){var f=d[e];c&&!f.ignoreGlobalPause||f._paused||f.tick(f._useTicks?1:b)}},a.handleEvent=function(a){"tick"==a.type&&this.tick(a.delta,a.paused)},a.removeTweens=function(b){if(b.tweenjs_count){for(var c=a._tweens,d=c.length-1;d>=0;d--){var e=c[d];e._target==b&&(e._paused=!0,c.splice(d,1))}b.tweenjs_count=0}},a.removeAllTweens=function(){for(var b=a._tweens,c=0,d=b.length;d>c;c++){var e=b[c];e._paused=!0,e.target&&(e.target.tweenjs_count=0)}b.length=0},a.hasActiveTweens=function(b){return b?null!=b.tweenjs_count&&!!b.tweenjs_count:a._tweens&&!!a._tweens.length},a.installPlugin=function(b,c){var d=b.priority;null==d&&(b.priority=d=0);for(var e=0,f=c.length,g=a._plugins;f>e;e++){var h=c[e];if(g[h]){for(var i=g[h],j=0,k=i.length;k>j&&!(d<i[j].priority);j++);g[h].splice(j,0,b)}else g[h]=[b]}},a._register=function(b,c){var d=b._target,e=a._tweens;if(c&&!b._registered)d&&(d.tweenjs_count=d.tweenjs_count?d.tweenjs_count+1:1),e.push(b),!a._inited&&createjs.Ticker&&(createjs.Ticker.addEventListener("tick",a),a._inited=!0);else if(!c&&b._registered){d&&d.tweenjs_count--;for(var f=e.length;f--;)if(e[f]==b){e.splice(f,1);break}}b._registered=c},b.wait=function(a,b){if(null==a||0>=a)return this;var c=this._cloneProps(this._curQueueProps);return this._addStep({d:a,p0:c,e:this._linearEase,p1:c,v:b})},b.to=function(a,b,c){return(isNaN(b)||0>b)&&(b=0),this._addStep({d:b||0,p0:this._cloneProps(this._curQueueProps),e:c,p1:this._cloneProps(this._appendQueueProps(a))})},b.call=function(a,b,c){return this._addAction({f:a,p:b?b:[this],o:c?c:this._target})},b.set=function(a,b){return this._addAction({f:this._set,o:this,p:[a,b?b:this._target]})},b.play=function(a){return a||(a=this),this.call(a.setPaused,[!1],a)},b.pause=function(a){return a||(a=this),this.call(a.setPaused,[!0],a)},b.setPosition=function(a,b){0>a&&(a=0),null==b&&(b=1);var c=a,d=!1;if(c>=this.duration&&(this.loop?c%=this.duration:(c=this.duration,d=!0)),c==this._prevPos)return d;var e=this._prevPos;if(this.position=this._prevPos=c,this._prevPosition=a,this._target)if(d)this._updateTargetProps(null,1);else if(this._steps.length>0){for(var f=0,g=this._steps.length;g>f&&!(this._steps[f].t>c);f++);var h=this._steps[f-1];this._updateTargetProps(h,(this._stepPosition=c-h.t)/h.d)}return 0!=b&&this._actions.length>0&&(this._useTicks?this._runActions(c,c):1==b&&e>c?(e!=this.duration&&this._runActions(e,this.duration),this._runActions(0,c,!0)):this._runActions(e,c)),d&&this.setPaused(!0),this.dispatchEvent("change"),d},b.tick=function(a){this._paused||this.setPosition(this._prevPosition+a)},b.setPaused=function(b){return this._paused===!!b?this:(this._paused=!!b,a._register(this,!b),this)},b.w=b.wait,b.t=b.to,b.c=b.call,b.s=b.set,b.toString=function(){return"[Tween]"},b.clone=function(){throw"Tween can not be cloned."},b._updateTargetProps=function(b,c){var d,e,f,g,h,i;if(b||1!=c){if(this.passive=!!b.v,this.passive)return;b.e&&(c=b.e(c,0,1,1)),d=b.p0,e=b.p1}else this.passive=!1,d=e=this._curQueueProps;for(var j in this._initQueueProps){null==(g=d[j])&&(d[j]=g=this._initQueueProps[j]),null==(h=e[j])&&(e[j]=h=g),f=g==h||0==c||1==c||"number"!=typeof g?1==c?h:g:g+(h-g)*c;var k=!1;if(i=a._plugins[j])for(var l=0,m=i.length;m>l;l++){var n=i[l].tween(this,j,f,d,e,c,!!b&&d==e,!b);n==a.IGNORE?k=!0:f=n}k||(this._target[j]=f)}},b._runActions=function(a,b,c){var d=a,e=b,f=-1,g=this._actions.length,h=1;for(a>b&&(d=b,e=a,f=g,g=h=-1);(f+=h)!=g;){var i=this._actions[f],j=i.t;(j==e||j>d&&e>j||c&&j==a)&&i.f.apply(i.o,i.p)}},b._appendQueueProps=function(b){var c,d,e,f,g;for(var h in b)if(void 0===this._initQueueProps[h]){if(d=this._target[h],c=a._plugins[h])for(e=0,f=c.length;f>e;e++)d=c[e].init(this,h,d);this._initQueueProps[h]=this._curQueueProps[h]=void 0===d?null:d}else d=this._curQueueProps[h];for(var h in b){if(d=this._curQueueProps[h],c=a._plugins[h])for(g=g||{},e=0,f=c.length;f>e;e++)c[e].step&&c[e].step(this,h,d,b[h],g);this._curQueueProps[h]=b[h]}return g&&this._appendQueueProps(g),this._curQueueProps},b._cloneProps=function(a){var b={};for(var c in a)b[c]=a[c];return b},b._addStep=function(a){return a.d>0&&(this._steps.push(a),a.t=this.duration,this.duration+=a.d),this},b._addAction=function(a){return a.t=this.duration,this._actions.push(a),this},b._set=function(a,b){for(var c in a)b[c]=a[c]},createjs.Tween=createjs.promote(a,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a,b,c){this.EventDispatcher_constructor(),this.ignoreGlobalPause=!1,this.duration=0,this.loop=!1,this.position=null,this._paused=!1,this._tweens=[],this._labels=null,this._labelList=null,this._prevPosition=0,this._prevPos=-1,this._useTicks=!1,this._registered=!1,c&&(this._useTicks=c.useTicks,this.loop=c.loop,this.ignoreGlobalPause=c.ignoreGlobalPause,c.onChange&&this.addEventListener("change",c.onChange)),a&&this.addTween.apply(this,a),this.setLabels(b),c&&c.paused?this._paused=!0:createjs.Tween._register(this,!0),c&&null!=c.position&&this.setPosition(c.position,createjs.Tween.NONE)}var b=createjs.extend(a,createjs.EventDispatcher);b.addTween=function(a){var b=arguments.length;if(b>1){for(var c=0;b>c;c++)this.addTween(arguments[c]);return arguments[0]}return 0==b?null:(this.removeTween(a),this._tweens.push(a),a.setPaused(!0),a._paused=!1,a._useTicks=this._useTicks,a.duration>this.duration&&(this.duration=a.duration),this._prevPos>=0&&a.setPosition(this._prevPos,createjs.Tween.NONE),a)},b.removeTween=function(a){var b=arguments.length;if(b>1){for(var c=!0,d=0;b>d;d++)c=c&&this.removeTween(arguments[d]);return c}if(0==b)return!1;for(var e=this._tweens,d=e.length;d--;)if(e[d]==a)return e.splice(d,1),a.duration>=this.duration&&this.updateDuration(),!0;return!1},b.addLabel=function(a,b){this._labels[a]=b;var c=this._labelList;if(c){for(var d=0,e=c.length;e>d&&!(b<c[d].position);d++);c.splice(d,0,{label:a,position:b})}},b.setLabels=function(a){this._labels=a?a:{}},b.getLabels=function(){var a=this._labelList;if(!a){a=this._labelList=[];var b=this._labels;for(var c in b)a.push({label:c,position:b[c]});a.sort(function(a,b){return a.position-b.position})}return a},b.getCurrentLabel=function(){var a=this.getLabels(),b=this.position,c=a.length;if(c){for(var d=0;c>d&&!(b<a[d].position);d++);return 0==d?null:a[d-1].label}return null},b.gotoAndPlay=function(a){this.setPaused(!1),this._goto(a)},b.gotoAndStop=function(a){this.setPaused(!0),this._goto(a)},b.setPosition=function(a,b){var c=this._calcPosition(a),d=!this.loop&&a>=this.duration;if(c==this._prevPos)return d;this._prevPosition=a,this.position=this._prevPos=c;for(var e=0,f=this._tweens.length;f>e;e++)if(this._tweens[e].setPosition(c,b),c!=this._prevPos)return!1;return d&&this.setPaused(!0),this.dispatchEvent("change"),d},b.setPaused=function(a){this._paused=!!a,createjs.Tween._register(this,!a)},b.updateDuration=function(){this.duration=0;for(var a=0,b=this._tweens.length;b>a;a++){var c=this._tweens[a];c.duration>this.duration&&(this.duration=c.duration)}},b.tick=function(a){this.setPosition(this._prevPosition+a)},b.resolve=function(a){var b=Number(a);return isNaN(b)&&(b=this._labels[a]),b},b.toString=function(){return"[Timeline]"},b.clone=function(){throw"Timeline can not be cloned."},b._goto=function(a){var b=this.resolve(a);null!=b&&this.setPosition(b)},b._calcPosition=function(a){return 0>a?0:a<this.duration?a:this.loop?a%this.duration:this.duration},createjs.Timeline=createjs.promote(a,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function a(){throw"Ease cannot be instantiated."}a.linear=function(a){return a},a.none=a.linear,a.get=function(a){return-1>a&&(a=-1),a>1&&(a=1),function(b){return 0==a?b:0>a?b*(b*-a+1+a):b*((2-b)*a+(1-a))}},a.getPowIn=function(a){return function(b){return Math.pow(b,a)}},a.getPowOut=function(a){return function(b){return 1-Math.pow(1-b,a)}},a.getPowInOut=function(a){return function(b){return(b*=2)<1?.5*Math.pow(b,a):1-.5*Math.abs(Math.pow(2-b,a))}},a.quadIn=a.getPowIn(2),a.quadOut=a.getPowOut(2),a.quadInOut=a.getPowInOut(2),a.cubicIn=a.getPowIn(3),a.cubicOut=a.getPowOut(3),a.cubicInOut=a.getPowInOut(3),a.quartIn=a.getPowIn(4),a.quartOut=a.getPowOut(4),a.quartInOut=a.getPowInOut(4),a.quintIn=a.getPowIn(5),a.quintOut=a.getPowOut(5),a.quintInOut=a.getPowInOut(5),a.sineIn=function(a){return 1-Math.cos(a*Math.PI/2)},a.sineOut=function(a){return Math.sin(a*Math.PI/2)},a.sineInOut=function(a){return-.5*(Math.cos(Math.PI*a)-1)},a.getBackIn=function(a){return function(b){return b*b*((a+1)*b-a)}},a.backIn=a.getBackIn(1.7),a.getBackOut=function(a){return function(b){return--b*b*((a+1)*b+a)+1}},a.backOut=a.getBackOut(1.7),a.getBackInOut=function(a){return a*=1.525,function(b){return(b*=2)<1?.5*(b*b*((a+1)*b-a)):.5*((b-=2)*b*((a+1)*b+a)+2)}},a.backInOut=a.getBackInOut(1.7),a.circIn=function(a){return-(Math.sqrt(1-a*a)-1)},a.circOut=function(a){return Math.sqrt(1- --a*a)},a.circInOut=function(a){return(a*=2)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)},a.bounceIn=function(b){return 1-a.bounceOut(1-b)},a.bounceOut=function(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},a.bounceInOut=function(b){return.5>b?.5*a.bounceIn(2*b):.5*a.bounceOut(2*b-1)+.5},a.getElasticIn=function(a,b){var c=2*Math.PI;return function(d){if(0==d||1==d)return d;var e=b/c*Math.asin(1/a);return-(a*Math.pow(2,10*(d-=1))*Math.sin((d-e)*c/b))}},a.elasticIn=a.getElasticIn(1,.3),a.getElasticOut=function(a,b){var c=2*Math.PI;return function(d){if(0==d||1==d)return d;var e=b/c*Math.asin(1/a);return a*Math.pow(2,-10*d)*Math.sin((d-e)*c/b)+1}},a.elasticOut=a.getElasticOut(1,.3),a.getElasticInOut=function(a,b){var c=2*Math.PI;return function(d){var e=b/c*Math.asin(1/a);return(d*=2)<1?-.5*(a*Math.pow(2,10*(d-=1))*Math.sin((d-e)*c/b)):a*Math.pow(2,-10*(d-=1))*Math.sin((d-e)*c/b)*.5+1}},a.elasticInOut=a.getElasticInOut(1,.3*1.5),createjs.Ease=a}(),this.createjs=this.createjs||{},function(){"use strict";function a(){throw"MotionGuidePlugin cannot be instantiated."}a.priority=0,a._rotOffS,a._rotOffE,a._rotNormS,a._rotNormE,a.install=function(){return createjs.Tween.installPlugin(a,["guide","x","y","rotation"]),createjs.Tween.IGNORE},a.init=function(a,b,c){var d=a.target;return d.hasOwnProperty("x")||(d.x=0),d.hasOwnProperty("y")||(d.y=0),d.hasOwnProperty("rotation")||(d.rotation=0),"rotation"==b&&(a.__needsRot=!0),"guide"==b?null:c},a.step=function(b,c,d,e,f){if("rotation"==c&&(b.__rotGlobalS=d,b.__rotGlobalE=e,a.testRotData(b,f)),"guide"!=c)return e;var g,h=e;h.hasOwnProperty("path")||(h.path=[]);var i=h.path;if(h.hasOwnProperty("end")||(h.end=1),h.hasOwnProperty("start")||(h.start=d&&d.hasOwnProperty("end")&&d.path===i?d.end:0),h.hasOwnProperty("_segments")&&h._length)return e;var j=i.length,k=10;if(!(j>=6&&(j-2)%4==0))throw"invalid 'path' data, please see documentation for valid paths";h._segments=[],h._length=0;for(var l=2;j>l;l+=4){for(var m,n,o=i[l-2],p=i[l-1],q=i[l+0],r=i[l+1],s=i[l+2],t=i[l+3],u=o,v=p,w=0,x=[],y=1;k>=y;y++){var z=y/k,A=1-z;m=A*A*o+2*A*z*q+z*z*s,n=A*A*p+2*A*z*r+z*z*t,w+=x[x.push(Math.sqrt((g=m-u)*g+(g=n-v)*g))-1],u=m,v=n}h._segments.push(w),h._segments.push(x),h._length+=w}g=h.orient,h.orient=!0;var B={};return a.calc(h,h.start,B),b.__rotPathS=Number(B.rotation.toFixed(5)),a.calc(h,h.end,B),b.__rotPathE=Number(B.rotation.toFixed(5)),h.orient=!1,a.calc(h,h.end,f),h.orient=g,h.orient?(b.__guideData=h,a.testRotData(b,f),e):e},a.testRotData=function(a,b){if(void 0===a.__rotGlobalS||void 0===a.__rotGlobalE){if(a.__needsRot)return;void 0!==a._curQueueProps.rotation?a.__rotGlobalS=a.__rotGlobalE=a._curQueueProps.rotation:a.__rotGlobalS=a.__rotGlobalE=b.rotation=a.target.rotation||0}if(void 0!==a.__guideData){var c=a.__guideData,d=a.__rotGlobalE-a.__rotGlobalS,e=a.__rotPathE-a.__rotPathS,f=d-e;if("auto"==c.orient)f>180?f-=360:-180>f&&(f+=360);else if("cw"==c.orient){for(;0>f;)f+=360;0==f&&d>0&&180!=d&&(f+=360)}else if("ccw"==c.orient){for(f=d-(e>180?360-e:e);f>0;)f-=360;0==f&&0>d&&-180!=d&&(f-=360)}c.rotDelta=f,c.rotOffS=a.__rotGlobalS-a.__rotPathS,a.__rotGlobalS=a.__rotGlobalE=a.__guideData=a.__needsRot=void 0}},a.tween=function(b,c,d,e,f,g,h,i){var j=f.guide;if(void 0==j||j===e.guide)return d;if(j.lastRatio!=g){var k=(j.end-j.start)*(h?j.end:g)+j.start;switch(a.calc(j,k,b.target),j.orient){case"cw":case"ccw":case"auto":b.target.rotation+=j.rotOffS+j.rotDelta*g;break;case"fixed":default:b.target.rotation+=j.rotOffS}j.lastRatio=g}return"rotation"!=c||j.orient&&"false"!=j.orient?b.target[c]:d},a.calc=function(a,b,c){if(void 0==a._segments)throw"Missing critical pre-calculated information, please file a bug";void 0==c&&(c={x:0,y:0,rotation:0});for(var d=a._segments,e=a.path,f=a._length*b,g=d.length-2,h=0;f>d[h]&&g>h;)f-=d[h],h+=2;var i=d[h+1],j=0;for(g=i.length-1;f>i[j]&&g>j;)f-=i[j],j++;var k=j/++g+f/(g*i[j]);h=2*h+2;var l=1-k;return c.x=l*l*e[h-2]+2*l*k*e[h+0]+k*k*e[h+2],c.y=l*l*e[h-1]+2*l*k*e[h+1]+k*k*e[h+3],a.orient&&(c.rotation=57.2957795*Math.atan2((e[h+1]-e[h-1])*l+(e[h+3]-e[h+1])*k,(e[h+0]-e[h-2])*l+(e[h+2]-e[h+0])*k)),c},createjs.MotionGuidePlugin=a}(),this.createjs=this.createjs||{},function(){"use strict";var a=createjs.TweenJS=createjs.TweenJS||{};a.version="0.6.2",a.buildDate="Thu, 26 Nov 2015 20:44:31 GMT"}(),function(lib,img,cjs,ss){var p;lib.properties={width:1390,height:330,fps:25,color:"#FFFFFF",manifest:[]},(lib.X_on_box=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f("#FF6E6E").s().p("AgqAwIAtg+IACADIAtgoIABABIgwBBIgpAlgAAQAWIALgPIAYAVIgLAPgAgyglIAMgOIALAKIgLAPg"),this.shape.setTransform(2.3,.8),this.shape_1=new cjs.Shape,this.shape_1.graphics.f("#FF0000").s().p("AAiArIAMgQIALAKIgNAOgAg4AlIArglIgfgbIAMgPIAfAcIguA9gAAAAMIgBACIAvhAIALAMIgrAmIAHAGIgLAPg"),this.shape_1.setTransform(2.9,.9),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_1},{t:this.shape}]}).to({state:[]},17).wait(377)),this.shape_2=new cjs.Shape,this.shape_2.graphics.f("#E6F9E7").s().p("AglBhIB5imQALAOAHAQIhpCRQgSgBgQgIgAhBBQIB8iqQAHAFAHAGIh7CpQgIgEgHgGgAhlAAQAAgqAfggQAfgfAqAAIAPABIhtCVQgKgVAAgYg"),this.shape_2.setTransform(2.4,.6),this.shape_3=new cjs.Shape,this.shape_3.graphics.f("#D3F4D4").s().p("AgMBpIBpiRQAIATAAAVQAAAqggAgQgfAggqgBIgIAAgAg7BaIB7ipIAFAEIAGAGIh5CmIgNgHgAhPBKQgNgOgIgPIBtiVQAWACATAMIh8CqIgFgGg"),this.shape_3.setTransform(3.3,.6),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_3},{t:this.shape_2}]}).to({state:[]},17).wait(377)),this.shape_4=new cjs.Shape,this.shape_4.graphics.f().s("#2E873B").ss(1.5).p("ADhD4InBAAQgKAAgGgHQgHgGAAgKIAAnBQAAgKAHgGQAGgHAKAAIHBAAQAKAAAGAHQAHAGAAAKIAAHBQAAAKgHAGQgGAHgKAAg"),this.shape_4.setTransform(.1,-.3),this.shape_5=new cjs.Shape,this.shape_5.graphics.f("#3DB44F").s().p("AgrD6QgEAAgEgEQgDgDAAgEIAAneQAAgDADgEQAEgDAEAAIBXAAQAFAAACADQADAEAAADIAAHeQAAAEgDADQgCAEgFAAg"),this.shape_5.setTransform(-21.4,.2,.636,1),this.shape_6=new cjs.Shape,this.shape_6.graphics.f("#8EDC91").s().p("AjgD4QgKAAgGgHQgHgGAAgKIAAnBQAAgKAHgGQAGgHAKAAIHBAAQAKAAAGAHQAHAGAAAKIAAHBQAAAKgHAGQgGAHgKAAg"),this.shape_6.setTransform(.1,-.3),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_6},{t:this.shape_5},{t:this.shape_4}]}).to({state:[]},17).wait(377))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-25.7),(-26.1),51.7,51.7),(lib.x=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f("#FF3300").s().p("AAAAeIhpBeIgeghIBnhbIhnhaIAeghIBpBeIBqheIAeAhIhnBaIBnBbIgeAhg"),this.timeline.addTween(cjs.Tween.get(this.shape).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-13.6),(-12.5),27.3,25),(lib.wire=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f("#C5C5C5").s().p("AjzDVQgLgFAHgLQAGgLALAGQBrA3BxgnQBwgmAwhvQANgcAFgtIAIhTQAKhoArgqQAJgJAJAJQAIAJgIAJQghAfgJBKQgFApgFBMQgOBXg9BDQhEBNhlARQgaAEgZAAQhJAAhGgkg"),this.timeline.addTween(cjs.Tween.get(this.shape).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-25.1),(-24.9),50.3,49.8),(lib.will=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f().s("#FFFFFF").ss(2.2).p("AAjAAQAAAOgKALQgLAKgOAAQgNAAgLgKQgKgLAAgOQAAgNAKgLQALgKANAAQAOAAALAKQAKALAAANg"),this.shape_1=new cjs.Shape,this.shape_1.graphics.f("#C5C5C5").s().p("AgYAZQgKgLAAgOQAAgNAKgLQALgKANAAQAOAAALAKQAKALAAANQAAAOgKALQgLAKgOAAQgNAAgLgKg"),this.shape_2=new cjs.Shape,this.shape_2.graphics.f().s("#C5C5C5").ss(2.2).p("ABFAAQAAAdgUAUQgVAUgcAAQgcAAgUgUQgUgUAAgdQAAgbAUgVQAUgUAcAAQAcAAAVAUQAUAVAAAbg"),this.shape_3=new cjs.Shape,this.shape_3.graphics.f("#FFFFFF").s().p("AgwAxQgUgUAAgdQAAgbAUgVQAUgUAcAAQAcAAAVAUQAUAVAAAbQAAAdgUAUQgVAUgcAAQgcAAgUgUg"),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_3},{t:this.shape_2},{t:this.shape_1},{t:this.shape}]}).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-8),(-8.1),16.2,16.2),(lib.v_on_box=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f("#8AE38E").s().p("Ag1AfIAOgTIAHAIIAhggIgqA5gAAqgsIAMAMIhJBIg"),this.shape.setTransform(4.4,1.1),this.shape_1=new cjs.Shape,this.shape_1.graphics.f("#6FD373").s().p("AgUArIApg5IAlglIAEAFIg+BUIgMAOgAg9AAIAFgHIALgKIAbAbIgPATg"),this.shape_1.setTransform(2.4,1.4),this.shape_2=new cjs.Shape,this.shape_2.graphics.f("#C5C5C5").s().p("AgBACIADgEIgCAFg"),this.shape_2.setTransform(-3.7,.9),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_2},{t:this.shape_1},{t:this.shape}]}).to({state:[]},60).wait(334)),this.shape_3=new cjs.Shape,this.shape_3.graphics.f("#E6F9E7").s().p("AglBhIB5imQALAOAHAQIhpCRQgSgBgQgIgAhBBQIB8iqQAHAFAHAGIh7CpQgIgEgHgGgAhlAAQAAgqAfggQAfgfAqAAIAPABIhtCVQgKgVAAgYg"),this.shape_3.setTransform(2.4,.6),this.shape_4=new cjs.Shape,this.shape_4.graphics.f("#D3F4D4").s().p("AgMBpIBpiRQAIATAAAVQAAAqggAgQgfAggqgBIgIAAgAg7BaIB7ipIAFAEIAGAGIh5CmIgNgHgAhPBKQgNgOgIgPIBtiVQAWACATAMIh8CqIgFgGg"),this.shape_4.setTransform(3.3,.6),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_4},{t:this.shape_3}]}).to({state:[]},60).wait(334)),this.shape_5=new cjs.Shape,this.shape_5.graphics.f().s("#2E873B").ss(1.5).p("ADhD4InBAAQgKAAgGgHQgHgGAAgKIAAnBQAAgKAHgGQAGgHAKAAIHBAAQAKAAAGAHQAHAGAAAKIAAHBQAAAKgHAGQgGAHgKAAg"),this.shape_5.setTransform(.1,-.3),this.shape_6=new cjs.Shape,this.shape_6.graphics.f("#3DB44F").s().p("AgrD6QgEAAgEgEQgDgDAAgEIAAneQAAgDADgEQAEgDAEAAIBXAAQAFAAACADQADAEAAADIAAHeQAAAEgDADQgCAEgFAAg"),this.shape_6.setTransform(-21.4,.2,.636,1),this.shape_7=new cjs.Shape,this.shape_7.graphics.f("#8EDC91").s().p("AjgD4QgKAAgGgHQgHgGAAgKIAAnBQAAgKAHgGQAGgHAKAAIHBAAQAKAAAGAHQAHAGAAAKIAAHBQAAAKgHAGQgGAHgKAAg"),this.shape_7.setTransform(.1,-.3),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_7},{t:this.shape_6},{t:this.shape_5}]}).to({state:[]},60).wait(334))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-25.7),(-26.1),51.7,51.7),(lib.v=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f("#66CC66").s().p("AilgGIAqgmIBQBXICpinIAoAoIjUDRg"),this.timeline.addTween(cjs.Tween.get(this.shape).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-16.6),(-12.6),33.3,25.2),(lib.Tween24=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f().s("#CCCCCC").ss(2.3,1).p("AgehSIA9Cl"),this.shape.setTransform(139.8,0),this.shape_1=new cjs.Shape,this.shape_1.graphics.f().s("#CCCCCC").ss(2.3,1).p("AgehSIA9Cl"),this.shape_1.setTransform(125.1,0),this.shape_2=new cjs.Shape,this.shape_2.graphics.f().s("#CCCCCC").ss(2.3,1).p("AgehSIA9Cl"),this.shape_2.setTransform(110.4,0),this.shape_3=new cjs.Shape,this.shape_3.graphics.f().s("#CCCCCC").ss(2.3,1).p("AgehSIA9Cl"),this.shape_3.setTransform(95.6,0),this.shape_4=new cjs.Shape,this.shape_4.graphics.f().s("#CCCCCC").ss(2.3,1).p("AgehSIA9Cl"),this.shape_4.setTransform(80.9,0),this.shape_5=new cjs.Shape,this.shape_5.graphics.f().s("#CCCCCC").ss(2.3,1).p("AgehSIA9Cl"),this.shape_5.setTransform(66.2,0),this.shape_6=new cjs.Shape,this.shape_6.graphics.f().s("#CCCCCC").ss(2.3,1).p("AgehSIA9Cl"),this.shape_6.setTransform(51.5,0),this.shape_7=new cjs.Shape,this.shape_7.graphics.f().s("#CCCCCC").ss(2.3,1).p("AgehSIA9Cl"),this.shape_7.setTransform(36.8,0),this.shape_8=new cjs.Shape,this.shape_8.graphics.f().s("#CCCCCC").ss(2.3,1).p("AgehSIA9Cl"),this.shape_8.setTransform(22.1,0),this.shape_9=new cjs.Shape,this.shape_9.graphics.f().s("#CCCCCC").ss(2.3,1).p("AgehSIA9Cl"),this.shape_9.setTransform(7.4,0),this.shape_10=new cjs.Shape,this.shape_10.graphics.f().s("#CCCCCC").ss(2.3,1).p("AgehSIA9Cl"),this.shape_10.setTransform(-7.4,0),this.shape_11=new cjs.Shape,this.shape_11.graphics.f().s("#CCCCCC").ss(2.3,1).p("AgehSIA9Cl"),this.shape_11.setTransform(-22.1,0),this.shape_12=new cjs.Shape,this.shape_12.graphics.f().s("#CCCCCC").ss(2.3,1).p("AgehSIA9Cl"),this.shape_12.setTransform(-36.8,0),this.shape_13=new cjs.Shape,this.shape_13.graphics.f().s("#CCCCCC").ss(2.3,1).p("AgehSIA9Cl"),this.shape_13.setTransform(-51.5,0),this.shape_14=new cjs.Shape,this.shape_14.graphics.f().s("#CCCCCC").ss(2.3,1).p("AgehSIA9Cl"),this.shape_14.setTransform(-66.2,0),this.shape_15=new cjs.Shape,this.shape_15.graphics.f().s("#CCCCCC").ss(2.3,1).p("AgehSIA9Cl"),this.shape_15.setTransform(-80.9,0),this.shape_16=new cjs.Shape,this.shape_16.graphics.f().s("#CCCCCC").ss(2.3,1).p("AgehSIA9Cl"),this.shape_16.setTransform(-95.6,0),this.shape_17=new cjs.Shape,this.shape_17.graphics.f().s("#CCCCCC").ss(2.3,1).p("AgehSIA9Cl"),this.shape_17.setTransform(-110.4,0),this.shape_18=new cjs.Shape,this.shape_18.graphics.f().s("#CCCCCC").ss(2.3,1).p("AgehSIA9Cl"),this.shape_18.setTransform(-125.1,0),this.shape_19=new cjs.Shape,this.shape_19.graphics.f().s("#CCCCCC").ss(2.3,1).p("AgehSIA9Cl"),this.shape_19.setTransform(-139.8,0),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_19},{t:this.shape_18},{t:this.shape_17},{t:this.shape_16},{t:this.shape_15},{t:this.shape_14},{t:this.shape_13},{t:this.shape_12},{t:this.shape_11},{t:this.shape_10},{t:this.shape_9},{t:this.shape_8},{t:this.shape_7},{t:this.shape_6},{t:this.shape_5},{t:this.shape_4},{t:this.shape_3},{t:this.shape_2},{t:this.shape_1},{t:this.shape}]}).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-144.1),(-9.5),288.2,19),(lib.Tween3=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f().s("#C5C5C5").ss(2).p("AAhAAQAAAOgKAJQgKAKgNAAQgNAAgJgKQgKgJAAgOQAAgMAKgKQAJgKANAAQANAAAKAKQAKAKAAAMg"),this.shape.setTransform(-115.9,-22.5),this.shape_1=new cjs.Shape,this.shape_1.graphics.f("#FFFFFF").s().p("AgWAXQgKgJAAgOQAAgMAKgKQAJgKANAAQANAAAKAKQAKAKAAAMQAAAOgKAJQgKAKgNAAQgNAAgJgKg"),this.shape_1.setTransform(-115.9,-22.5),this.shape_2=new cjs.Shape,this.shape_2.graphics.f().s("#C5C5C5").ss(2).p("AAhAAQAAAOgKAJQgKAKgNAAQgNAAgJgKQgKgJAAgOQAAgMAKgKQAJgKANAAQAOAAAJAKQAKAKAAAMg"),this.shape_2.setTransform(80.5,-22.5),this.shape_3=new cjs.Shape,this.shape_3.graphics.f("#FFFFFF").s().p("AgWAXQgKgJAAgOQAAgMAKgKQAJgKANAAQAOAAAJAKQAKAKAAAMQAAAOgKAJQgKAKgNAAQgNAAgJgKg"),this.shape_3.setTransform(80.5,-22.5),this.shape_4=new cjs.Shape,this.shape_4.graphics.f().s("#C5C5C5").ss(2).p("AhSgIIAAARQAAAOAKALQAKAKAPAAIBfAAQAOAAALgKQAKgLAAgOIAAgRQAAgOgKgLQgLgKgOAAIhfAAQgPAAgKAKQgKALAAAOg"),this.shape_4.setTransform(-115.9,29.5),this.shape_5=new cjs.Shape,this.shape_5.graphics.f("#FFFFFF").s().p("AgvAsQgPAAgKgLQgKgKAAgOIAAgRQAAgOAKgLQAKgKAPAAIBfAAQAOAAALAKQAKALAAAOIAAARQAAAOgKAKQgLALgOAAg"),this.shape_5.setTransform(-115.9,29.5),this.shape_6=new cjs.Shape,this.shape_6.graphics.f().s("#C5C5C5").ss(2).p("AAIhSIgQAAQgOAAgLAKQgKALAAAOIAABfQAAAPAKAKQALAKAOAAIAQAAQAPAAAKgKQALgKAAgPIAAhfQAAgOgLgLQgKgKgPAAg"),this.shape_6.setTransform(95.7,9.3),this.shape_7=new cjs.Shape,this.shape_7.graphics.f("#FFFFFF").s().p("AgHBTQgPAAgKgKQgLgKAAgPIAAhfQAAgOALgLQAKgKAPAAIAQAAQAOAAAKAKQALALAAAOIAABfQAAAPgLAKQgKAKgOAAg"),this.shape_7.setTransform(95.7,9.3),this.shape_8=new cjs.Shape,this.shape_8.graphics.f("#C5C5C5").s().p("AAAATQgIAAgFgGQgGgGABgHQAAgIAGgFQAGgGAGABQAJAAAFAGQAGAGgBAGQAAAJgGAFQgGAFgHAAIAAAAg"),this.shape_8.setTransform(56.7,-22.5),this.shape_9=new cjs.Shape,this.shape_9.graphics.f().s("#C5C5C5").ss(1.5).p("AAggcQAMANgBAQQgBASgNANQgNAMgQgBQgSgBgNgNQgMgNABgQQABgSANgNQANgMAQABQASABANANg"),this.shape_9.setTransform(56.7,-22.5),this.shape_10=new cjs.Shape,this.shape_10.graphics.f("#FFFFFF").s().p("AAAArQgSgBgNgNQgMgNABgQQABgSANgNQANgMAQABQASABANANQAMANgBAQQgBASgNANQgNALgQAAIAAAAg"),this.shape_10.setTransform(56.7,-22.5),this.shape_11=new cjs.Shape,this.shape_11.graphics.f("#C5C5C5").s().p("AAAATQgIAAgFgGQgGgGABgHQAAgIAGgFQAGgGAGABQAJAAAFAGQAGAGgBAGQAAAJgGAFQgGAFgHAAIAAAAg"),this.shape_11.setTransform(35.6,-22.5),this.shape_12=new cjs.Shape,this.shape_12.graphics.f().s("#C5C5C5").ss(1.5).p("AAggcQAMANgBAQQgBASgNANQgNAMgQgBQgSgBgNgNQgMgNABgQQABgSANgNQANgMAQABQASABANANg"),this.shape_12.setTransform(35.6,-22.5),this.shape_13=new cjs.Shape,this.shape_13.graphics.f("#FFFFFF").s().p("AAAArQgSgBgNgNQgMgNABgQQABgSANgNQANgMAQABQASABANANQAMANgBAQQgBASgNANQgNALgQAAIAAAAg"),this.shape_13.setTransform(35.6,-22.5),this.shape_14=new cjs.Shape,this.shape_14.graphics.f("#C5C5C5").s().p("AAAATQgIAAgFgGQgFgGgBgHQABgIAGgFQAGgGAGABQAJAAAFAGQAGAGAAAGQgBAJgGAFQgGAFgHAAIAAAAg"),this.shape_14.setTransform(14.6,-22.5),this.shape_15=new cjs.Shape,this.shape_15.graphics.f().s("#C5C5C5").ss(1.5).p("AAggcQAMANgBAQQgBASgNANQgNAMgQgBQgSgBgMgNQgNgNABgQQABgSANgNQANgMAQABQASABANANg"),this.shape_15.setTransform(14.6,-22.5),this.shape_16=new cjs.Shape,this.shape_16.graphics.f("#FFFFFF").s().p("AAAArQgSgBgMgNQgNgNABgQQABgSANgNQANgMAQABQASABANANQAMANgBAQQgBASgNANQgNALgQAAIAAAAg"),this.shape_16.setTransform(14.6,-22.5),this.shape_17=new cjs.Shape,this.shape_17.graphics.f("#C5C5C5").s().p("AAAATQgIAAgFgGQgGgGAAgHQABgIAGgFQAGgGAGABQAIAAAGAGQAFAGABAGQgBAJgGAFQgFAFgIAAIAAAAg"),this.shape_17.setTransform(-6.4,-22.5),this.shape_18=new cjs.Shape,this.shape_18.graphics.f().s("#C5C5C5").ss(1.5).p("AAggcQAMANgBAQQgBASgNANQgNAMgQgBQgTgBgLgNQgNgNABgQQABgSANgNQANgMARABQASABAMANg"),this.shape_18.setTransform(-6.4,-22.5),this.shape_19=new cjs.Shape,this.shape_19.graphics.f("#FFFFFF").s().p("AgBArQgRgBgNgNQgMgNABgQQABgSANgNQANgMARABQARABAMANQANANgBAQQgBASgNANQgNALgQAAIgBAAg"),this.shape_19.setTransform(-6.4,-22.5),this.shape_20=new cjs.Shape,this.shape_20.graphics.f("#C5C5C5").s().p("AAAATQgIAAgFgGQgGgGAAgHQABgIAGgFQAGgGAGABQAIAAAGAGQAFAGABAGQgBAJgGAFQgGAFgHAAIAAAAg"),this.shape_20.setTransform(-27.5,-22.5),this.shape_21=new cjs.Shape,this.shape_21.graphics.f().s("#C5C5C5").ss(1.5).p("AAggcQAMANgBAQQgBASgNANQgNAMgRgBQgSgBgMgNQgMgNABgQQABgSANgNQANgMARABQASABAMANg"),this.shape_21.setTransform(-27.5,-22.5),this.shape_22=new cjs.Shape,this.shape_22.graphics.f("#FFFFFF").s().p("AgBArQgRgBgNgNQgMgNABgQQABgSANgNQAOgMAQABQARABAMANQANANgBAQQgBASgNANQgMALgRAAIgBAAg"),this.shape_22.setTransform(-27.5,-22.5),this.shape_23=new cjs.Shape,this.shape_23.graphics.f("#C5C5C5").s().p("AAAATQgHAAgGgGQgGgGABgHQAAgIAGgFQAGgGAHABQAIAAAFAGQAFAGABAGQgBAJgGAFQgGAFgHAAIAAAAg"),this.shape_23.setTransform(-48.5,-22.5),this.shape_24=new cjs.Shape,this.shape_24.graphics.f().s("#C5C5C5").ss(1.5).p("AAfgcQANANgBAQQgBASgNANQgNAMgQgBQgSgBgNgNQgMgNABgQQABgSANgNQANgMAQABQASABAMANg"),this.shape_24.setTransform(-48.5,-22.5),this.shape_25=new cjs.Shape,this.shape_25.graphics.f("#FFFFFF").s().p("AAAArQgSgBgNgNQgMgNABgQQABgSANgNQANgMAQABQASABAMANQANANgBAQQgBASgNANQgNALgQAAIAAAAg"),this.shape_25.setTransform(-48.5,-22.5),this.shape_26=new cjs.Shape,this.shape_26.graphics.f("#C5C5C5").s().p("AAAATQgIAAgFgGQgGgGABgHQAAgIAGgFQAGgGAGABQAJAAAFAGQAGAGgBAGQAAAJgGAFQgGAFgHAAIAAAAg"),this.shape_26.setTransform(-69.6,-22.5),this.shape_27=new cjs.Shape,this.shape_27.graphics.f().s("#C5C5C5").ss(1.5).p("AAggcQAMANgBAQQgBASgNANQgNAMgQgBQgSgBgNgNQgMgNABgQQABgSANgNQANgMAQABQASABANANg"),this.shape_27.setTransform(-69.6,-22.5),this.shape_28=new cjs.Shape,this.shape_28.graphics.f("#FFFFFF").s().p("AAAArQgSgBgNgNQgMgNABgQQABgSANgNQANgMAQABQASABANANQAMANgBAQQgBASgNANQgNALgQAAIAAAAg"),this.shape_28.setTransform(-69.6,-22.5),this.shape_29=new cjs.Shape,this.shape_29.graphics.f("#C5C5C5").s().p("AAAATQgIAAgFgGQgGgGABgHQAAgIAGgFQAGgGAGABQAJAAAFAGQAGAGgBAGQAAAJgGAFQgGAFgHAAIAAAAg"),this.shape_29.setTransform(-90.6,-22.5),this.shape_30=new cjs.Shape,this.shape_30.graphics.f().s("#C5C5C5").ss(1.5).p("AAggcQAMANgBAQQgBASgNANQgNAMgQgBQgSgBgNgNQgMgNABgQQABgSANgNQANgMAQABQASABANANg"),this.shape_30.setTransform(-90.6,-22.5),this.shape_31=new cjs.Shape,this.shape_31.graphics.f("#FFFFFF").s().p("AAAArQgSgBgNgNQgMgNABgQQABgSANgNQANgMAQABQASABANANQAMANgBAQQgBASgNANQgNALgQAAIAAAAg"),this.shape_31.setTransform(-90.6,-22.5),this.shape_32=new cjs.Shape,this.shape_32.graphics.f().s("#C5C5C5").ss(2).p("ABpBBQAAAjgZAZQgYAZgjAAIgpAAQgjAAgYgZQgZgZAAgjIAAiCQAAgjAZgYQAYgZAjAAIApAAQAjAAAYAZQAZAYAAAjg"),this.shape_32.setTransform(80.5,-22.4),this.shape_33=new cjs.Shape,this.shape_33.graphics.f("#FFFFFF").s().p("AgUCWQgiAAgZgZQgZgYAAgkIAAiCQAAgjAZgYQAZgZAiAAIApAAQAjAAAYAZQAYAYAAAjIAACCQAAAkgYAYQgYAZgjAAg"),
this.shape_33.setTransform(80.5,-22.4),this.shape_34=new cjs.Shape,this.shape_34.graphics.f().s("#C5C5C5").ss(2).p("ABpBBQAAAjgZAZQgYAZgjAAIgpAAQgjAAgYgZQgZgZAAgjIAAiCQAAgjAZgYQAYgZAjAAIApAAQAjAAAYAZQAZAYAAAjg"),this.shape_34.setTransform(-116.5,-22.4),this.shape_35=new cjs.Shape,this.shape_35.graphics.f("#FFFFFF").s().p("AgUCWQgiAAgZgZQgYgYgBgkIAAiCQABgjAYgYQAZgZAiAAIApAAQAjAAAYAZQAYAYAAAjIAACCQAAAkgYAYQgYAZgjAAg"),this.shape_35.setTransform(-116.5,-22.4),this.shape_36=new cjs.Shape,this.shape_36.graphics.f().s("#C5C5C5").ss(2).p("AN6BQI7zAAIAAifIbzAAg"),this.shape_36.setTransform(-18,-22.4),this.shape_37=new cjs.Shape,this.shape_37.graphics.f("#FFFFFF").s().p("At5BQIAAifIbyAAIAACfg"),this.shape_37.setTransform(-18,-22.4),this.shape_38=new cjs.Shape,this.shape_38.graphics.f().s("#C5C5C5").ss(2).p("AD/AtIAABkIn9AAIAAkhIBaAAIAAC9g"),this.shape_38.setTransform(101.5,.1),this.shape_39=new cjs.Shape,this.shape_39.graphics.f("#FFFFFF").s().p("Aj9CQIAAkfIBaAAIAAC8IGhAAIAABjg"),this.shape_39.setTransform(101.5,.1),this.shape_40=new cjs.Shape,this.shape_40.graphics.f().s("#C5C5C5").ss(2.1).p("AAxEDIhhAAIAAoFIBhAAg"),this.shape_40.setTransform(-115.9,11.5),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_40},{t:this.shape_39},{t:this.shape_38},{t:this.shape_37},{t:this.shape_36},{t:this.shape_35},{t:this.shape_34},{t:this.shape_33},{t:this.shape_32},{t:this.shape_31},{t:this.shape_30},{t:this.shape_29},{t:this.shape_28},{t:this.shape_27},{t:this.shape_26},{t:this.shape_25},{t:this.shape_24},{t:this.shape_23},{t:this.shape_22},{t:this.shape_21},{t:this.shape_20},{t:this.shape_19},{t:this.shape_18},{t:this.shape_17},{t:this.shape_16},{t:this.shape_15},{t:this.shape_14},{t:this.shape_13},{t:this.shape_12},{t:this.shape_11},{t:this.shape_10},{t:this.shape_9},{t:this.shape_8},{t:this.shape_7},{t:this.shape_6},{t:this.shape_5},{t:this.shape_4},{t:this.shape_3},{t:this.shape_2},{t:this.shape_1},{t:this.shape}]}).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-128),(-38.4),256,76.9),(lib.Symbol37=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f("#848484").s().p("AgYAZIAAgxIAxAAIAAAxg"),this.timeline.addTween(cjs.Tween.get(this.shape).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-2.5),(-2.5),5.1,5.1),(lib.Symbol34=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f().s("#C5C5C5").ss(2,1,1).p("AFXAoIqtAAAlWgnIKtAA"),this.shape.setTransform(0,.8),this.shape_1=new cjs.Shape,this.shape_1.graphics.f("#FFFFFF").s().p("AlWAoIAAgBIAAgCIAAgCIAAgBIAAgCIAAgBIAAgBIAAgCIAAgCIAAgBIAAgCIAAgBIAAgBIAAgCIAAgCIAAgBIAAgBIAAgCIAAgBIAAgCIAAgCIAAgBIAAgBIAAgCIAAgBIAAgCIAAgBIAAAAIAAgCIAAgBIAAgBIAAgCIAAgCIAAgBIAAgCIAAgBIAAgBIAAgCIAAgCIAAgBIAAgCIAAgBIAAgBIAAgCIAAgCIAAgBIAAgCIAAgBIAAgBIAAgCIAAgCIAAgBIAAgCIAAAAIKtAAIAABOg"),this.shape_1.setTransform(0,.8),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_1},{t:this.shape}]}).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-35.3),(-4.2),70.7,10),(lib.Symbol33=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f("#8EDC91").s().p("AhwgDIAdgaIA2A7IBzhyIAbAcIiPCNg"),this.shape.setTransform(2.8,2.1),this.shape_1=new cjs.Shape,this.shape_1.graphics.f().s("#C5C5C5").ss(2,1,1).p("AChAbQgGBbguA+QgvA/g+AAQgKAAgNgDQg7gOgnhEQgohGAAhYQAAhbAohEQAnhDA7gNQANgDAKAAQA5AAAtA3QAsA1AMBT"),this.shape_1.setTransform(2.3,0),this.shape_2=new cjs.Shape,this.shape_2.graphics.f("#C5C5C5").s().p("AgtCrQgvhIAAhjQAAhlAvhGQAuhHBDAAQAMAAANADQg6ANgmBDQgnBEAABbQAABYAnBGQAmBEA6AOQgMADgNAAQhDAAguhIg"),this.shape_2.setTransform(-9.6,0),this.shape_3=new cjs.Shape,this.shape_3.graphics.f("#FFFFFF").s().p("AgZDwQg7gOgnhEQgohGAAhYQAAhbAohEQAnhDA7gNQANgDAMAAIAIABQAiADAcAWQAPALAPASQAMAPAKASQALAUAJAYIAGAUQAFATADAUIAIAAIAAABIAAACIAAABIAAACIAAABIAAACIAAABIAAACIAAABIAAACIAAABIAAACIAAABIAAACIAAABIAAACIAAABIAAACIAAABIAAACIAAABIAAACIAAABIAAACIAAABIAAACIAAABIAAACIAAABIAAACIAAABIAAACIAAABIAAACIAAAAIAAABIAAABIAAACIAAABIAAACIAAABIAAACIAAABIAAACIAAABIAAACIAAABIAAACIAAABIAAACIAAABIAAACIAAABIAAABIgFAAQgCAhgHAcQgKAkgQAeIgCADIgPAXQgRAXgUAPQgcAVgiADIgIABQgMAAgNgDg"),this.shape_3.setTransform(2.5,0),this.shape_4=new cjs.Shape,this.shape_4.graphics.f().s("#C5C5C5").ss(2,1,1).p("AgIgnIAQAAAAIAoIgNAA"),this.shape_4.setTransform(17.5,-1.2),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_4},{t:this.shape_3},{t:this.shape_2},{t:this.shape_1},{t:this.shape}]}).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-18.9),(-25.3),38.4,50.7),(lib.Symbol29=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f().s("#C5C5C5").ss(2,1,1).p("AhugjQAJgfAXgUQAVgTAegGQAMgDANAAQAuAAAiAhQAhAhAAAwQAAAughAiQgiAjguAAQgLAAgOgCQgcgHgWgTQgWgTgKgZ"),this.shape.setTransform(2,0),this.shape_1=new cjs.Shape,this.shape_1.graphics.f("#FFFFFF").s().p("AgbBwQgcgGgWgUQgWgSgKgaIgBhOQAJgeAXgUQAVgTAegGQAMgDANAAQAuAAAiAhQAhAhAAAwQAAAughAiQgiAjguAAQgLAAgOgDg"),this.shape_1.setTransform(2,0),this.shape_2=new cjs.Shape,this.shape_2.graphics.f("#C5C5C5").s().p("AhEBeQgdgUgMggIgBhOQAMgkAdgVQAdgVAmAAQALAAAMADQAnAJAaAeQAZAfAAApQAAAngZAgQgaAggnAJQgNADgKAAQgkAAgegVg"),this.shape_2.setTransform(-2,0),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_2},{t:this.shape_1},{t:this.shape}]}).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-13.1),(-12.5),27.4,25.1),(lib.Symbol25=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f().s("#C5C5C5").ss(2.2,1,1).p("Agsg3IBZBv"),this.timeline.addTween(cjs.Tween.get(this.shape).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-5.6),(-6.7),11.2,13.6),(lib.Symbol24=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f().s("#C5C5C5").ss(2.2,1,1).p("AApg6IhRB1"),this.timeline.addTween(cjs.Tween.get(this.shape).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-5.2),(-7),10.5,14.1),(lib.Symbol23=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f().s("#888888").ss(2.4).p("AJ/AmIzpAAQgXAAgNgLQgNgLAAgQQAAgPALgLQAMgLAQAAITpAAQAQAAAMALQALALAAAPQAAAOgKANQgJALgKAAg"),this.shape_1=new cjs.Shape,this.shape_1.graphics.f("#DFDFDF").s().p("ApqAmQgXAAgNgLQgNgLAAgQQAAgPALgLQAMgLAQAAITpAAQAQAAAMALQALALAAAPQAAAOgKANQgJALgKAAg"),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_1},{t:this.shape}]}).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-75.2),(-5.8),143.3,11.5),(lib.Symbol22=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f("#333333").s().p("AgcAcIAAg3IA5AAIAAA3g"),this.shape_1=new cjs.Shape,this.shape_1.graphics.f("rgba(51,51,51,0)").s().p("AgcAcIAAg3IA5AAIAAA3g"),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape}]}).to({state:[{t:this.shape_1}]},15).to({state:[{t:this.shape}]},14).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-2.9),(-2.9),5.9,5.8),(lib.Symbol19=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f("#888888").s().p("AgcC7IAAl1IA5AAIAAF1g"),this.shape_1=new cjs.Shape,this.shape_1.graphics.f("#888888").s().p("AgcCmIAAlLIA5AAIAAFLg"),this.shape_1.setTransform(0,2.1),this.shape_2=new cjs.Shape,this.shape_2.graphics.f("#888888").s().p("AgcCSIAAkjIA5AAIAAEjg"),this.shape_2.setTransform(0,4.1),this.shape_3=new cjs.Shape,this.shape_3.graphics.f("#888888").s().p("AgcCAIAAj/IA5AAIAAD/g"),this.shape_3.setTransform(0,5.9),this.shape_4=new cjs.Shape,this.shape_4.graphics.f("#888888").s().p("AgcBvIAAjeIA5AAIAADeg"),this.shape_4.setTransform(0,7.6),this.shape_5=new cjs.Shape,this.shape_5.graphics.f("#888888").s().p("AgcBgIAAi/IA5AAIAAC/g"),this.shape_5.setTransform(0,9.1),this.shape_6=new cjs.Shape,this.shape_6.graphics.f("#888888").s().p("AgcBSIAAijIA5AAIAACjg"),this.shape_6.setTransform(0,10.5),this.shape_7=new cjs.Shape,this.shape_7.graphics.f("#888888").s().p("AgcBGIAAiLIA5AAIAACLg"),this.shape_7.setTransform(0,11.7),this.shape_8=new cjs.Shape,this.shape_8.graphics.f("#888888").s().p("AgcA7IAAh1IA5AAIAAB1g"),this.shape_8.setTransform(0,12.8),this.shape_9=new cjs.Shape,this.shape_9.graphics.f("#888888").s().p("AgcAyIAAhjIA5AAIAABjg"),this.shape_9.setTransform(0,13.7),this.shape_10=new cjs.Shape,this.shape_10.graphics.f("#888888").s().p("AgcAqIAAhTIA5AAIAABTg"),this.shape_10.setTransform(0,14.5),this.shape_11=new cjs.Shape,this.shape_11.graphics.f("#888888").s().p("AgcAjIAAhFIA5AAIAABFg"),this.shape_11.setTransform(0,15.2),this.shape_12=new cjs.Shape,this.shape_12.graphics.f("#888888").s().p("AgcAeIAAg7IA5AAIAAA7g"),this.shape_12.setTransform(0,15.7),this.shape_13=new cjs.Shape,this.shape_13.graphics.f("#888888").s().p("AgcAaIAAg0IA5AAIAAA0g"),this.shape_13.setTransform(0,16.1),this.shape_14=new cjs.Shape,this.shape_14.graphics.f("#888888").s().p("AgcAYIAAgvIA5AAIAAAvg"),this.shape_14.setTransform(0,16.3),this.shape_15=new cjs.Shape,this.shape_15.graphics.f("#888888").s().p("AgcAXIAAguIA5AAIAAAug"),this.shape_15.setTransform(0,16.4),this.shape_16=new cjs.Shape,this.shape_16.graphics.f("#888888").s().p("AgcAuIAAhbIA5AAIAABbg"),this.shape_16.setTransform(0,14.1),this.shape_17=new cjs.Shape,this.shape_17.graphics.f("#888888").s().p("AgcBDIAAiFIA5AAIAACFg"),this.shape_17.setTransform(0,12),this.shape_18=new cjs.Shape,this.shape_18.graphics.f("#888888").s().p("AgcBWIAAirIA5AAIAACrg"),this.shape_18.setTransform(0,10.1),this.shape_19=new cjs.Shape,this.shape_19.graphics.f("#888888").s().p("AgcBnIAAjOIA5AAIAADOg"),this.shape_19.setTransform(0,8.4),this.shape_20=new cjs.Shape,this.shape_20.graphics.f("#888888").s().p("AgcB3IAAjtIA5AAIAADtg"),this.shape_20.setTransform(0,6.8),this.shape_21=new cjs.Shape,this.shape_21.graphics.f("#888888").s().p("AgcCFIAAkJIA5AAIAAEJg"),this.shape_21.setTransform(0,5.4),this.shape_22=new cjs.Shape,this.shape_22.graphics.f("#888888").s().p("AgcCdIAAk5IA5AAIAAE5g"),this.shape_22.setTransform(0,3),this.shape_23=new cjs.Shape,this.shape_23.graphics.f("#888888").s().p("AgcCuIAAlbIA5AAIAAFbg"),this.shape_23.setTransform(0,1.3),this.shape_24=new cjs.Shape,this.shape_24.graphics.f("#888888").s().p("AgcCzIAAlmIA5AAIAAFmg"),this.shape_24.setTransform(0,.8),this.shape_25=new cjs.Shape,this.shape_25.graphics.f("#888888").s().p("AgcC4IAAlvIA5AAIAAFvg"),this.shape_25.setTransform(0,.3),this.shape_26=new cjs.Shape,this.shape_26.graphics.f("#888888").s().p("AgcC6IAAlzIA5AAIAAFzg"),this.shape_26.setTransform(0,.1),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape}]}).to({state:[{t:this.shape_1}]},1).to({state:[{t:this.shape_2}]},1).to({state:[{t:this.shape_3}]},1).to({state:[{t:this.shape_4}]},1).to({state:[{t:this.shape_5}]},1).to({state:[{t:this.shape_6}]},1).to({state:[{t:this.shape_7}]},1).to({state:[{t:this.shape_8}]},1).to({state:[{t:this.shape_9}]},1).to({state:[{t:this.shape_10}]},1).to({state:[{t:this.shape_11}]},1).to({state:[{t:this.shape_12}]},1).to({state:[{t:this.shape_13}]},1).to({state:[{t:this.shape_14}]},1).to({state:[{t:this.shape_15}]},1).to({state:[{t:this.shape_16}]},1).to({state:[{t:this.shape_17}]},1).to({state:[{t:this.shape_18}]},1).to({state:[{t:this.shape_19}]},1).to({state:[{t:this.shape_20}]},1).to({state:[{t:this.shape_21}]},1).to({state:[{t:this.shape_2}]},1).to({state:[{t:this.shape_22}]},1).to({state:[{t:this.shape_1}]},1).to({state:[{t:this.shape_23}]},1).to({state:[{t:this.shape_24}]},1).to({state:[{t:this.shape_25}]},1).to({state:[{t:this.shape_26}]},1).to({state:[{t:this.shape}]},1).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-2.9),(-18.7),5.9,37.5),(lib.Symbol16=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f().s("#C5C5C5").ss(1.8,0,1).p("AkOCmIAAkGQAAgcAUgVQAUgUAdAAIHYAAQgbABgTATQgUAVAAAcIAAEGg"),this.shape.setTransform(-2.4,-.4),this.shape_1=new cjs.Shape,this.shape_1.graphics.f("#FFFFFF").s().p("AkOCmIAAkGQAAgcAUgVQAUgTAdAAIHYAAQgbAAgTATQgUAVAAAcIAAEGg"),this.shape_1.setTransform(-2.4,-.4),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_1},{t:this.shape}]}).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-30.5),(-18),56.4,35.2),(lib.Symbol15=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f().s("#C5C5C5").ss(1.8,1,1).p("Ah7AAID2AA"),this.shape.setTransform(-5,-27.5),this.shape_1=new cjs.Shape,this.shape_1.graphics.f().s("#C5C5C5").ss(1.8,1,1).p("Ah7AAID2AA"),this.shape_1.setTransform(-5,-2.4),this.shape_2=new cjs.Shape,this.shape_2.graphics.f().s("#C5C5C5").ss(1.8,1,1).p("AitAAIFaAA"),this.shape_2.setTransform(0,-7.4),this.shape_3=new cjs.Shape,this.shape_3.graphics.f().s("#C5C5C5").ss(1.8,1,1).p("Ah7AAID2AA"),this.shape_3.setTransform(-5,-12.4),this.shape_4=new cjs.Shape,this.shape_4.graphics.f().s("#C5C5C5").ss(1.8,1,1).p("AitAAIFaAA"),this.shape_4.setTransform(0,-17.4),this.shape_5=new cjs.Shape,this.shape_5.graphics.f().s("#C5C5C5").ss(1.8,1,1).p("Ah7AAID2AA"),this.shape_5.setTransform(-5,-22.4),this.shape_6=new cjs.Shape,this.shape_6.graphics.f().s("#C5C5C5").ss(1.8,1,1).p("Ah7AAID2AA"),this.shape_6.setTransform(-5,22.4),this.shape_7=new cjs.Shape,this.shape_7.graphics.f().s("#C5C5C5").ss(1.8,1,1).p("AitAAIFaAA"),this.shape_7.setTransform(0,17.4),this.shape_8=new cjs.Shape,this.shape_8.graphics.f().s("#C5C5C5").ss(1.8,1,1).p("Ah7AAID2AA"),this.shape_8.setTransform(-5,12.4),this.shape_9=new cjs.Shape,this.shape_9.graphics.f().s("#C5C5C5").ss(1.8,1,1).p("AitAAIFaAA"),this.shape_9.setTransform(0,7.4),this.shape_10=new cjs.Shape,this.shape_10.graphics.f().s("#C5C5C5").ss(1.8,1,1).p("Ah7AAID2AA"),this.shape_10.setTransform(-5,2.4),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_10},{t:this.shape_9},{t:this.shape_8},{t:this.shape_7},{t:this.shape_6},{t:this.shape_5},{t:this.shape_4},{t:this.shape_3},{t:this.shape_2},{t:this.shape_1},{t:this.shape}]}).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-18.4),(-28.5),36.8,52),(lib.Symbol11=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f("#848484").s().p("AgEAjQgCgDgBgDIAAg5QABgEACgCQACgCACAAQADAAADACQACACAAAEIAAA5QAAADgCADQgDACgDAAQgCAAgCgCg"),this.timeline.addTween(cjs.Tween.get(this.shape).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-.8),(-3.7),1.6,7.5),(lib.Symbol9=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f().s("#848484").ss(2.4).p("AHGArQAAAWgQAQQgPAPgWAAIshAAQgWAAgPgPQgQgQAAgWIAAhWQAAgWAQgPQAPgQAWAAIMhAAQAWAAAPAQQAQAPAAAWg"),this.shape_1=new cjs.Shape,this.shape_1.graphics.f("#FFFFFF").s().p("AmQBgQgWAAgPgPQgQgPAAgXIAAhVQAAgXAQgPQAPgPAWAAIMhAAQAWAAAPAPQAQAPAAAXIAABVQAAAXgQAPQgPAPgWAAg"),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_1},{t:this.shape}]}).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-46.6),(-10.9),93.3,21.8),(lib.Symbol7=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f().s("#848484").ss(2).p("AEYAOQAAAOgKALQgLALgOAAInoAAQgPAAgKgLQgLgLAAgOIAAgcQAAgOALgLQAKgKAPAAIHoAAQAOAAALAKQAKALAAAOg"),this.shape_1=new cjs.Shape,this.shape_1.graphics.f("#FFFFFF").s().p("AjzAxQgOAAgLgKQgLgKAAgPIAAgcQAAgOALgLQALgKAOAAIHoAAQAOAAALAKQAJALABAOIAAAcQgBAPgJAKQgLAKgOAAg"),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_1},{t:this.shape}]}).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-29),(-6),58,17.7),(lib.Symbol5=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f().s("#C5C5C5").ss(1.4,1,1).p("AAkAAQAAAPgKAKQgLALgPAAQgOAAgKgLQgLgKAAgPQAAgOALgKQAKgLAOAAQAPAAALALQAKAKAAAOg"),this.shape.setTransform(-11.7,-2),this.shape_1=new cjs.Shape,this.shape_1.graphics.f("#FFFFFF").s().p("AgYAZQgLgKAAgPQAAgOALgKQALgLANAAQAPAAAKALQALAKAAAOQAAAPgLAKQgKALgPAAQgNAAgLgLg"),this.shape_1.setTransform(-11.7,-2),this.shape_2=new cjs.Shape,this.shape_2.graphics.f().s("#C5C5C5").ss(2.2,1,1).p("ACOggIkaBB"),this.shape_2.setTransform(1.2,-5.8),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_2},{t:this.shape_1},{t:this.shape}]}).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-16.3),(-10.2),32.9,12.9),(lib.Symbol4=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f().s("#C5C5C5").ss(1.4,1,1).p("AAkAAQAAAPgKAKQgLALgPAAQgOAAgKgLQgLgKAAgPQAAgOALgKQAKgLAOAAQAPAAALALQAKAKAAAOg"),this.shape.setTransform(-2.2,2.2),this.shape_1=new cjs.Shape,this.shape_1.graphics.f("#FFFFFF").s().p("AgYAaQgLgMAAgOQAAgOALgLQALgKANAAQAOAAALAKQALALAAAOQAAAOgLAMQgLAKgOAAQgNAAgLgKg"),this.shape_1.setTransform(-2.2,2.2),this.shape_2=new cjs.Shape,this.shape_2.graphics.f().s("#C5C5C5").ss(2.2,1,1).p("AAtg+IhZB8"),this.shape_2.setTransform(1.4,-4.5),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_2},{t:this.shape_1},{t:this.shape}]}).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-6.9),(-11.9),13.9,18.8),(lib.Symbol3=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f().s("#C5C5C5").ss(1.4,1,1).p("AAkAAQAAAPgKAKQgLALgPAAQgOAAgKgLQgLgKAAgPQAAgOALgKQAKgLAOAAQAPAAALALQAKAKAAAOg"),this.shape.setTransform(2.3,2.2),this.shape_1=new cjs.Shape,this.shape_1.graphics.f("#FFFFFF").s().p("AgYAaQgLgMAAgOQAAgOALgLQALgKANAAQAPAAALAKQAKALAAAOQAAAOgKAMQgLAKgPAAQgNAAgLgKg"),this.shape_1.setTransform(2.3,2.2),this.shape_2=new cjs.Shape,this.shape_2.graphics.f().s("#C5C5C5").ss(2.2,1,1).p("Agsg+IBZB8"),this.shape_2.setTransform(-1.4,-4.5),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_2},{t:this.shape_1},{t:this.shape}]}).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-7),(-11.9),13.9,18.8),(lib.Symbol2=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f().s("#C5C5C5").ss(1.4,1,1).p("AAkAAQAAAPgKALQgLAKgPAAQgNAAgLgKQgLgLAAgPQAAgOALgKQALgLANAAQAPAAALALQAKAKAAAOg"),this.shape.setTransform(11.9,-1.4),this.shape_1=new cjs.Shape,this.shape_1.graphics.f("#FFFFFF").s().p("AgYAaQgLgLAAgPQAAgNALgLQALgLANAAQAOAAALALQALALAAANQAAAPgLALQgLAKgOAAQgNAAgLgKg"),this.shape_1.setTransform(11.9,-1.4),this.shape_2=new cjs.Shape,this.shape_2.graphics.f().s("#C5C5C5").ss(2.2,1,1).p("AiNggIEaBB"),this.shape_2.setTransform(-1.3,-5.9),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_2},{t:this.shape_1},{t:this.shape}]}).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-16.6),(-10.3),33.2,13.6),(lib.strips=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f().s("#CCCCCC").ss(2.3,1).p("AgehSIA9Cl"),this.shape.setTransform(-154.5,8.4),this.shape_1=new cjs.Shape,this.shape_1.graphics.f().s("#CCCCCC").ss(2.3,1).p("AgehSIA9Cl"),this.shape_1.setTransform(-139.8,8.4),this.shape_2=new cjs.Shape,this.shape_2.graphics.f().s("#CCCCCC").ss(2.3,1).p("AgehSIA9Cl"),this.shape_2.setTransform(154.5,8.4),this.shape_3=new cjs.Shape,this.shape_3.graphics.f().s("#CCCCCC").ss(2.3,1).p("AgehSIA9Cl"),this.shape_3.setTransform(139.8,8.4),this.shape_4=new cjs.Shape,this.shape_4.graphics.f().s("#CCCCCC").ss(2.3,1).p("AgehSIA9Cl"),this.shape_4.setTransform(125.1,8.4),this.shape_5=new cjs.Shape,this.shape_5.graphics.f().s("#CCCCCC").ss(2.3,1).p("AgehSIA9Cl"),this.shape_5.setTransform(110.4,8.4),this.shape_6=new cjs.Shape,this.shape_6.graphics.f().s("#CCCCCC").ss(2.3,1).p("AgehSIA9Cl"),this.shape_6.setTransform(95.7,8.4),this.shape_7=new cjs.Shape,this.shape_7.graphics.f().s("#CCCCCC").ss(2.3,1).p("AgehSIA9Cl"),this.shape_7.setTransform(81,8.4),this.shape_8=new cjs.Shape,this.shape_8.graphics.f().s("#CCCCCC").ss(2.3,1).p("AgehSIA9Cl"),this.shape_8.setTransform(66.2,8.4),this.shape_9=new cjs.Shape,this.shape_9.graphics.f().s("#CCCCCC").ss(2.3,1).p("AgehSIA9Cl"),this.shape_9.setTransform(51.5,8.4),this.shape_10=new cjs.Shape,this.shape_10.graphics.f().s("#CCCCCC").ss(2.3,1).p("AgehSIA9Cl"),this.shape_10.setTransform(36.8,8.4),this.shape_11=new cjs.Shape,this.shape_11.graphics.f().s("#CCCCCC").ss(2.3,1).p("AgehSIA9Cl"),this.shape_11.setTransform(22.1,8.4),this.shape_12=new cjs.Shape,this.shape_12.graphics.f().s("#CCCCCC").ss(2.3,1).p("AgehSIA9Cl"),this.shape_12.setTransform(7.4,8.4),this.shape_13=new cjs.Shape,this.shape_13.graphics.f().s("#CCCCCC").ss(2.3,1).p("AgehSIA9Cl"),this.shape_13.setTransform(-7.3,8.4),this.shape_14=new cjs.Shape,this.shape_14.graphics.f().s("#CCCCCC").ss(2.3,1).p("AgehSIA9Cl"),this.shape_14.setTransform(-22,8.4),this.shape_15=new cjs.Shape,this.shape_15.graphics.f().s("#CCCCCC").ss(2.3,1).p("AgehSIA9Cl"),this.shape_15.setTransform(-36.8,8.4),this.shape_16=new cjs.Shape,this.shape_16.graphics.f().s("#CCCCCC").ss(2.3,1).p("AgehSIA9Cl"),this.shape_16.setTransform(-51.5,8.4),this.shape_17=new cjs.Shape,this.shape_17.graphics.f().s("#CCCCCC").ss(2.3,1).p("AgehSIA9Cl"),this.shape_17.setTransform(-66.2,8.4),this.shape_18=new cjs.Shape,this.shape_18.graphics.f().s("#CCCCCC").ss(2.3,1).p("AgehSIA9Cl"),this.shape_18.setTransform(-80.9,8.4),this.shape_19=new cjs.Shape,this.shape_19.graphics.f().s("#CCCCCC").ss(2.3,1).p("AgehSIA9Cl"),this.shape_19.setTransform(-95.6,8.4),this.shape_20=new cjs.Shape,this.shape_20.graphics.f().s("#CCCCCC").ss(2.3,1).p("AgehSIA9Cl"),this.shape_20.setTransform(-110.3,8.4),this.shape_21=new cjs.Shape,this.shape_21.graphics.f().s("#CCCCCC").ss(2.3,1).p("AgehSIA9Cl"),this.shape_21.setTransform(-125,8.4),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_21},{t:this.shape_20},{t:this.shape_19},{t:this.shape_18},{t:this.shape_17},{t:this.shape_16},{t:this.shape_15},{t:this.shape_14},{t:this.shape_13},{t:this.shape_12},{t:this.shape_11},{t:this.shape_10},{t:this.shape_9},{t:this.shape_8},{t:this.shape_7},{t:this.shape_6},{t:this.shape_5},{t:this.shape_4},{t:this.shape_3},{t:this.shape_2},{t:this.shape_1},{t:this.shape}]}).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-158.8),(-1.1),317.7,19),(lib.robotic_forarm=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f().s("#C5C5C5").ss(2).p("AgdipIAAFwIA7AAIAAmX"),this.shape.setTransform(0,.5),this.shape_1=new cjs.Shape,this.shape_1.graphics.f("#FFFFFF").s().p("AgdDMIAAlwIA7gnIAAGXg"),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_1},{t:this.shape}]}).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-4),(-21.4),8,42.9),(lib.robotic_arm=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f().s("#C5C5C5").ss(2).p("AH9gmIvHAAQgRAAgLALQgMAMAAAPQAAAQAMAMQAMALAQAAIOqgJ"),this.shape.setTransform(-.5,0),this.shape_1=new cjs.Shape,this.shape_1.graphics.f("#FFFFFF").s().p("AnrAcQgMgMAAgQQAAgPAMgMQALgLARAAIPHAAIgdBEIuqAJQgQAAgMgLg"),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_1},{t:this.shape}]}).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-56.4),(-5),107.9,19),(lib.Robot_Head=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f().s("#C5C5C5").ss(2).p("ACGApIkLAAQgOAAgJgKQgKgJAAgOIAAgQQAAgNAKgJQAJgKAOAAIELAAQAOAAAJAKQAKAJAAANIAAAQQAAAOgKAJQgJAKgOAAg"),this.shape.setTransform(0,14.5,.984,.984),this.shape_1=new cjs.Shape,this.shape_1.graphics.f("#FFFFFF").s().p("AiFApQgOAAgJgKQgKgJAAgOIAAgQQAAgNAKgJQAJgKAOAAIELAAQAOAAAJAKQAKAJAAANIAAAQQAAAOgKAJQgJAKgOAAg"),this.shape_1.setTransform(0,14.5,.984,.984),this.shape_2=new cjs.Shape,this.shape_2.graphics.f().s("#C5C5C5").ss(2.2).p("Ah1A7QAAgxAjghQAigjAwAAQAwAAAjAjQAiAhAAAxg"),this.shape_2.setTransform(0,5.9,.984,.984),this.shape_3=new cjs.Shape,this.shape_3.graphics.f("#FFFFFF").s().p("Ah0A7QgBgxAjghQAigjAwAAQAwAAAjAjQAiAhABAxg"),this.shape_3.setTransform(0,5.9,.984,.984),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_3},{t:this.shape_2},{t:this.shape_1},{t:this.shape}]}).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-17.4),(-1.1),35,20.7),(lib.pipeta=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f().s("#848484").p("ABBABQAAAKgIAHQgGAHgKAAIhSAAQgJAAgHgHQgHgHAAgKIAAgBQAAgKAHgHQAHgHAJAAIBSAAQAKAAAGAHQAIAHAAAKg"),this.shape.setTransform(0,-6.2),this.shape_1=new cjs.Shape,this.shape_1.graphics.f("#FFFFFF").s().p("AgpAZQgJAAgHgHQgHgHABgKIAAgBQgBgKAHgHQAHgGAJgBIBSAAQAKABAGAGQAIAHAAAKIAAABQAAAKgIAHQgGAHgKAAg"),this.shape_1.setTransform(0,-6.2),this.shape_2=new cjs.Shape,this.shape_2.graphics.f().s("#848484").p("AAtBQIhZAAIAAifIBZAAg"),this.shape_2.setTransform(0,-16.7),this.shape_3=new cjs.Shape,this.shape_3.graphics.f("#FFFFFF").s().p("AgrBPIAAieIBYAAIAACeg"),this.shape_3.setTransform(0,-16.7),this.shape_4=new cjs.Shape,this.shape_4.graphics.f().s("#848484").ss(.9,1,1).p("AAwhtIhfAAIAAB+IAjAwIAAAfQAAAFAEAEQAEAFAEAAQAFAAAEgFQADgEAAgFIAAgfIAkgwg"),this.shape_4.setTransform(-.3,4.7),this.shape_5=new cjs.Shape,this.shape_5.graphics.f("#53AC5D").s().p("AgIBUQgDgEgBgGIAAgfIgjguIAAgnIBfgsIAABTIgjAuIAAAfQgBAGgDAEQgEADgFAAQgEAAgEgDg"),this.shape_5.setTransform(-.3,6.9),this.shape_6=new cjs.Shape,this.shape_6.graphics.f().s("#848484").ss(.9,1,1).p("AAwhtIhfAAIAAB+IAjAwIAAAfQAAAFAEAEQAEAFAEAAQAFAAAEgFQADgEAAgFIAAgfIAkgwg"),this.shape_6.setTransform(-.3,4.7),this.shape_7=new cjs.Shape,this.shape_7.graphics.f("#FFFFFF").s().p("AgIBqQgDgEgBgGIAAgfIgjgwIAAh9IBfAAIAAB9IgjAwIAAAfQgBAGgDAEQgEADgFAAQgEAAgEgDg"),this.shape_7.setTransform(-.3,4.7),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_7},{t:this.shape_6},{t:this.shape_5},{t:this.shape_4},{t:this.shape_3},{t:this.shape_2},{t:this.shape_1},{t:this.shape}]}).to({state:[]},34).wait(26))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-7.5),(-25.7),15,42.4),(lib.Pipe_top=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f().s("#848484").ss(2.4).p("ADslGInXAAIAAKMIHXAAg"),this.shape.setTransform(0,32.7),this.shape_1=new cjs.Shape,this.shape_1.graphics.f("#DFDFDF").s().p("AjrFHIAAqMIHXAAIAAKMg"),this.shape_1.setTransform(0,32.7),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_1},{t:this.shape}]}).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-24.8),(-1.2),49.7,67.8),(lib.Pipe_btm=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f().s("#848484").ss(2.4).p("AjpiWIHTAAICLEtIrpAAg"),this.shape.setTransform(0,15.2),this.shape_1=new cjs.Shape,this.shape_1.graphics.f("#DFDFDF").s().p("Al0CXICLktIHTAAICLEtg"),this.shape_1.setTransform(0,15.2),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_1},{t:this.shape}]}).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-39.2),(-1.2),78.4,32.8),(lib.outlinebox=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f().s("#8EDC91").ss(2).p("ADiDiInDAAIAAnDIHDAAg"),this.shape_1=new cjs.Shape,this.shape_1.graphics.f().s("#8EDC91").ss(1.2,1,1).p("AAAjhIAAHD"),this.shape_1.setTransform(-8.8,0),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_1},{t:this.shape}]}).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-23.6),(-23.7),47.3,47.3),(lib.needle1=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f().s("#C5C5C5").ss(1.3,1).p("AAAgWIAAAt"),this.timeline.addTween(cjs.Tween.get(this.shape).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-1),(-3.3),2,6.6),(lib.needle_2=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f().s("#C5C5C5").ss(1.3,1).p("AgIgGIARAN"),this.timeline.addTween(cjs.Tween.get(this.shape).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-1.9),(-1.7),4,3.5),(lib.Lines_02=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f().s("#CCCCCC").ss(2.3,1).p("ArXhTIA7CnApMhTIA8CnAKdhTIA7CnAIOhTIA8CnAGDhTIA7CnAD3hTIA7CnABshTIA7CnAgehTIA6CnAiphTIA7CnAnAhTIA7CnAk1hTIA8Cn"),this.shape.setTransform(72.9,-8.4),this.timeline.addTween(cjs.Tween.get(this.shape).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-1.1),(-18),148.1,19.2),(lib.line=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f().s("#8EDC91").ss(1,0,1).p("AoPAAIQfAA"),this.shape.setTransform(-34.4,-11.1),this.shape_1=new cjs.Shape,this.shape_1.graphics.f().s("#8EDC91").ss(3,0,1).p("AoPAAIQfAA"),this.shape_1.setTransform(-34.4,-8.4),this.shape_2=new cjs.Shape,this.shape_2.graphics.f().s("#FFFFFF").ss(9,0,1).p("AoPAAIQfAA"),this.shape_2.setTransform(-34.4,-9.9),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_2},{t:this.shape_1},{t:this.shape}]}).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-91.7),(-14.4),114.6,9),(lib.LightBulb=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f("rgba(83,172,93,0.91)").s().p("AgXAYQgKgKAAgOQAAgNAKgJQALgLAMAAQAOAAAJALQALAJAAANQAAANgLALQgJAKgOAAQgMAAgLgKg"),this.shape.setTransform(3.4,-3.4),this.timeline.addTween(cjs.Tween.get(this.shape).wait(30))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle(0,(-6.8),6.8,6.8),(lib.Group_2=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f("#FFFFFF").s().p("Al/GkIGQvcIFvCVImQPcg"),this.shape.setTransform(38.5,57),this.timeline.addTween(cjs.Tween.get(this.shape).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle(0,0,77,113.9),(lib.Group_1=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f("#FFFFFF").s().p("An1NJILY8BIETBwIrXcBg"),this.shape.setTransform(50.3,95.4),this.timeline.addTween(cjs.Tween.get(this.shape).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle(0,0,100.6,190.7),(lib.Group=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f("#FFFFFF").s().p("AmqNnILY8AIB9AyIrYcBg"),this.shape.setTransform(42.7,92.3),this.timeline.addTween(cjs.Tween.get(this.shape).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle(0,0,85.4,184.6),(lib.ClipGroup_6=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f().s("#C5C5C5").ss(1,0,1).p("AA6AAQAAAYgRARQgRARgYAAQgXAAgRgRQgRgRAAgYQAAgWARgRQARgSAXAAQAYAAARASQARARAAAWg"),this.shape.setTransform(6.3,6.3),this.timeline.addTween(cjs.Tween.get(this.shape).wait(1));var mask=new cjs.Shape;mask._off=!0,
mask.graphics.p("AgoApQgRgRAAgYQAAgWARgRQARgSAXAAQAYAAARASQARARAAAWQAAAYgRARQgRARgYAAQgXAAgRgRg"),mask.setTransform(6.3,6.3),this.shape_1=new cjs.Shape,this.shape_1.graphics.f("#C5C5C5").s().p("AgoAoQgRgQAAgYQAAgWARgSQARgRAXAAQAYAAARARQARASAAAWQAAAYgRAQQgRASgYgBQgXABgRgSg"),this.shape_1.setTransform(6.3,11.6),this.shape_1.mask=mask,this.timeline.addTween(cjs.Tween.get(this.shape_1).wait(1)),this.shape_2=new cjs.Shape,this.shape_2.graphics.f("#FFFFFF").s().p("AgoApQgRgRAAgYQAAgWARgRQARgSAXAAQAYAAARASQARARAAAWQAAAYgRARQgRARgYAAQgXAAgRgRg"),this.shape_2.setTransform(6.3,6.3),this.timeline.addTween(cjs.Tween.get(this.shape_2).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-.5),(-.5),13.7,13.7),(lib.ClipGroup_3=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f().s("#848484").ss(2,1).p("ACqDDIlTAAIAAmFIFTAAg"),this.shape.setTransform(54,67.9),this.timeline.addTween(cjs.Tween.get(this.shape).wait(1));var mask=new cjs.Shape;mask._off=!0,mask.graphics.p("AioDCIAAmDIFRAAIAAGDg"),mask.setTransform(54,67.9),this.shape_1=new cjs.Shape,this.shape_1.graphics.f().s("#848484").ss(1.4).p("AmpmjINTNH"),this.shape_1.setTransform(94.9,42.5),this.shape_2=new cjs.Shape,this.shape_2.graphics.f().s("#848484").ss(1.4).p("AmpmjINTNH"),this.shape_2.setTransform(88.5,48.9),this.shape_3=new cjs.Shape,this.shape_3.graphics.f().s("#848484").ss(1.4).p("AmpmjINTNH"),this.shape_3.setTransform(82,55.3),this.shape_4=new cjs.Shape,this.shape_4.graphics.f().s("#848484").ss(1.4).p("AmpmjINTNH"),this.shape_4.setTransform(75.5,61.6),this.shape_5=new cjs.Shape,this.shape_5.graphics.f().s("#848484").ss(1.4).p("AmpmjINTNH"),this.shape_5.setTransform(69.1,68),this.shape_6=new cjs.Shape,this.shape_6.graphics.f().s("#848484").ss(1.4).p("AmpmjINTNH"),this.shape_6.setTransform(62.6,74.3),this.shape_7=new cjs.Shape,this.shape_7.graphics.f().s("#848484").ss(1.4).p("AmpmjINTNH"),this.shape_7.setTransform(56.1,80.7),this.shape_8=new cjs.Shape,this.shape_8.graphics.f().s("#848484").ss(1.4).p("AmpmjINTNH"),this.shape_8.setTransform(49.7,87.1),this.shape_9=new cjs.Shape,this.shape_9.graphics.f().s("#848484").ss(1.4).p("AmqmjINVNH"),this.shape_9.setTransform(43.2,93.4),this.shape_1.mask=this.shape_2.mask=this.shape_3.mask=this.shape_4.mask=this.shape_5.mask=this.shape_6.mask=this.shape_7.mask=this.shape_8.mask=this.shape_9.mask=mask,this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_9},{t:this.shape_8},{t:this.shape_7},{t:this.shape_6},{t:this.shape_5},{t:this.shape_4},{t:this.shape_3},{t:this.shape_2},{t:this.shape_1}]}).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle(36,47.4,36,41),(lib.ClipGroup_2=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f().s("#848484").ss(2,1).p("ACqDDIlTAAIAAmFIFTAAg"),this.shape.setTransform(54,67.9),this.timeline.addTween(cjs.Tween.get(this.shape).wait(1));var mask=new cjs.Shape;mask._off=!0,mask.graphics.p("AipDCIAAmDIFTAAIAAGDg"),mask.setTransform(54,67.9),this.shape_1=new cjs.Shape,this.shape_1.graphics.f().s("#848484").ss(1.4).p("AmpmjINTNH"),this.shape_1.setTransform(94.9,42.5),this.shape_2=new cjs.Shape,this.shape_2.graphics.f().s("#848484").ss(1.4).p("AmpmjINTNH"),this.shape_2.setTransform(88.5,48.9),this.shape_3=new cjs.Shape,this.shape_3.graphics.f().s("#848484").ss(1.4).p("AmqmjINVNH"),this.shape_3.setTransform(82,55.3),this.shape_4=new cjs.Shape,this.shape_4.graphics.f().s("#848484").ss(1.4).p("AmpmjINTNH"),this.shape_4.setTransform(75.5,61.6),this.shape_5=new cjs.Shape,this.shape_5.graphics.f().s("#848484").ss(1.4).p("AmpmjINTNH"),this.shape_5.setTransform(69.1,68),this.shape_6=new cjs.Shape,this.shape_6.graphics.f().s("#848484").ss(1.4).p("AmpmjINUNH"),this.shape_6.setTransform(62.6,74.3),this.shape_7=new cjs.Shape,this.shape_7.graphics.f().s("#848484").ss(1.4).p("AmpmjINTNH"),this.shape_7.setTransform(56.1,80.7),this.shape_8=new cjs.Shape,this.shape_8.graphics.f().s("#848484").ss(1.4).p("AmpmjINTNH"),this.shape_8.setTransform(49.7,87.1),this.shape_9=new cjs.Shape,this.shape_9.graphics.f().s("#848484").ss(1.4).p("AmqmjINVNH"),this.shape_9.setTransform(43.2,93.4),this.shape_1.mask=this.shape_2.mask=this.shape_3.mask=this.shape_4.mask=this.shape_5.mask=this.shape_6.mask=this.shape_7.mask=this.shape_8.mask=this.shape_9.mask=mask,this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_9},{t:this.shape_8},{t:this.shape_7},{t:this.shape_6},{t:this.shape_5},{t:this.shape_4},{t:this.shape_3},{t:this.shape_2},{t:this.shape_1}]}).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle(36,47.4,36,41),(lib.ClipGroup_1=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f().s("#848484").ss(2,1).p("ACqDDIlTAAIAAmFIFTAAg"),this.shape.setTransform(54,67.9),this.timeline.addTween(cjs.Tween.get(this.shape).wait(1));var mask=new cjs.Shape;mask._off=!0,mask.graphics.p("AipDCIAAmDIFTAAIAAGDg"),mask.setTransform(54,67.9),this.shape_1=new cjs.Shape,this.shape_1.graphics.f().s("#848484").ss(1.4).p("AmpmjINTNH"),this.shape_1.setTransform(94.9,42.5),this.shape_2=new cjs.Shape,this.shape_2.graphics.f().s("#848484").ss(1.4).p("AmpmjINTNH"),this.shape_2.setTransform(88.5,48.9),this.shape_3=new cjs.Shape,this.shape_3.graphics.f().s("#848484").ss(1.4).p("AmqmjINVNH"),this.shape_3.setTransform(82,55.3),this.shape_4=new cjs.Shape,this.shape_4.graphics.f().s("#848484").ss(1.4).p("AmpmjINTNH"),this.shape_4.setTransform(75.5,61.6),this.shape_5=new cjs.Shape,this.shape_5.graphics.f().s("#848484").ss(1.4).p("AmpmjINTNH"),this.shape_5.setTransform(69.1,68),this.shape_6=new cjs.Shape,this.shape_6.graphics.f().s("#848484").ss(1.4).p("AmpmjINUNH"),this.shape_6.setTransform(62.6,74.3),this.shape_7=new cjs.Shape,this.shape_7.graphics.f().s("#848484").ss(1.4).p("AmpmjINTNH"),this.shape_7.setTransform(56.1,80.7),this.shape_8=new cjs.Shape,this.shape_8.graphics.f().s("#848484").ss(1.4).p("AmpmjINTNH"),this.shape_8.setTransform(49.7,87.1),this.shape_9=new cjs.Shape,this.shape_9.graphics.f().s("#848484").ss(1.4).p("AmqmjINVNH"),this.shape_9.setTransform(43.2,93.4),this.shape_1.mask=this.shape_2.mask=this.shape_3.mask=this.shape_4.mask=this.shape_5.mask=this.shape_6.mask=this.shape_7.mask=this.shape_8.mask=this.shape_9.mask=mask,this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_9},{t:this.shape_8},{t:this.shape_7},{t:this.shape_6},{t:this.shape_5},{t:this.shape_4},{t:this.shape_3},{t:this.shape_2},{t:this.shape_1}]}).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle(36,47.4,36,41),(lib.ClipGroup_0=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{});var mask=new cjs.Shape;mask._off=!0,mask.graphics.p("AuPFcIAAq3IcfAAIAAK3g"),mask.setTransform(91.2,104.7),this.shape=new cjs.Shape,this.shape.graphics.f("#DFDFDF").s().p("AuPFcIAAq3IcfAAIAAK3g"),this.shape.setTransform(91.2,104.7),this.timeline.addTween(cjs.Tween.get(this.shape).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle(0,69.8,182.4,69.8),(lib.ClipGroup=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f().s("#848484").ss(2,1).p("ACqDDIlTAAIAAmFIFTAAg"),this.shape.setTransform(54,67.9),this.timeline.addTween(cjs.Tween.get(this.shape).wait(1));var mask=new cjs.Shape;mask._off=!0,mask.graphics.p("AipDCIAAmDIFTAAIAAGDg"),mask.setTransform(54,67.9),this.shape_1=new cjs.Shape,this.shape_1.graphics.f().s("#848484").ss(1.4).p("AmpmjINTNH"),this.shape_1.setTransform(94.9,42.5),this.shape_2=new cjs.Shape,this.shape_2.graphics.f().s("#848484").ss(1.4).p("AmpmjINTNH"),this.shape_2.setTransform(88.5,48.9),this.shape_3=new cjs.Shape,this.shape_3.graphics.f().s("#848484").ss(1.4).p("AmqmjINVNH"),this.shape_3.setTransform(82,55.3),this.shape_4=new cjs.Shape,this.shape_4.graphics.f().s("#848484").ss(1.4).p("AmpmjINTNH"),this.shape_4.setTransform(75.5,61.6),this.shape_5=new cjs.Shape,this.shape_5.graphics.f().s("#848484").ss(1.4).p("AmpmjINTNH"),this.shape_5.setTransform(69.1,68),this.shape_6=new cjs.Shape,this.shape_6.graphics.f().s("#848484").ss(1.4).p("AmpmjINUNH"),this.shape_6.setTransform(62.6,74.3),this.shape_7=new cjs.Shape,this.shape_7.graphics.f().s("#848484").ss(1.4).p("AmpmjINTNH"),this.shape_7.setTransform(56.1,80.7),this.shape_8=new cjs.Shape,this.shape_8.graphics.f().s("#848484").ss(1.4).p("AmpmjINTNH"),this.shape_8.setTransform(49.7,87.1),this.shape_9=new cjs.Shape,this.shape_9.graphics.f().s("#848484").ss(1.4).p("AmqmjINVNH"),this.shape_9.setTransform(43.2,93.4),this.shape_1.mask=this.shape_2.mask=this.shape_3.mask=this.shape_4.mask=this.shape_5.mask=this.shape_6.mask=this.shape_7.mask=this.shape_8.mask=this.shape_9.mask=mask,this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_9},{t:this.shape_8},{t:this.shape_7},{t:this.shape_6},{t:this.shape_5},{t:this.shape_4},{t:this.shape_3},{t:this.shape_2},{t:this.shape_1}]}).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle(36,47.4,36,41),(lib.ClipGroup_2_1=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape_10=new cjs.Shape,this.shape_10.graphics.f().s("#848484").ss(2,1).p("ACqDDIlTAAIAAmFIFTAAg"),this.shape_10.setTransform(54,67.9),this.timeline.addTween(cjs.Tween.get(this.shape_10).wait(1));var mask_1=new cjs.Shape;mask_1._off=!0,mask_1.graphics.p("AioDCIAAmDIFRAAIAAGDg"),mask_1.setTransform(54,67.9),this.shape_11=new cjs.Shape,this.shape_11.graphics.f().s("#848484").ss(1.4).p("AmpmjINTNH"),this.shape_11.setTransform(94.9,42.5),this.shape_12=new cjs.Shape,this.shape_12.graphics.f().s("#848484").ss(1.4).p("AmpmjINTNH"),this.shape_12.setTransform(88.5,48.9),this.shape_13=new cjs.Shape,this.shape_13.graphics.f().s("#848484").ss(1.4).p("AmqmjINVNH"),this.shape_13.setTransform(82,55.3),this.shape_14=new cjs.Shape,this.shape_14.graphics.f().s("#848484").ss(1.4).p("AmpmjINTNH"),this.shape_14.setTransform(75.5,61.6),this.shape_15=new cjs.Shape,this.shape_15.graphics.f().s("#848484").ss(1.4).p("AmpmjINTNH"),this.shape_15.setTransform(69.1,68),this.shape_16=new cjs.Shape,this.shape_16.graphics.f().s("#848484").ss(1.4).p("AmpmjINUNH"),this.shape_16.setTransform(62.6,74.3),this.shape_17=new cjs.Shape,this.shape_17.graphics.f().s("#848484").ss(1.4).p("AmpmjINTNH"),this.shape_17.setTransform(56.1,80.7),this.shape_18=new cjs.Shape,this.shape_18.graphics.f().s("#848484").ss(1.4).p("AmpmjINTNH"),this.shape_18.setTransform(49.7,87.1),this.shape_19=new cjs.Shape,this.shape_19.graphics.f().s("#848484").ss(1.4).p("AmqmjINVNH"),this.shape_19.setTransform(43.2,93.4),this.shape_11.mask=this.shape_12.mask=this.shape_13.mask=this.shape_14.mask=this.shape_15.mask=this.shape_16.mask=this.shape_17.mask=this.shape_18.mask=this.shape_19.mask=mask_1,this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_19},{t:this.shape_18},{t:this.shape_17},{t:this.shape_16},{t:this.shape_15},{t:this.shape_14},{t:this.shape_13},{t:this.shape_12},{t:this.shape_11}]}).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle(36,47.4,36,41),(lib.ClipGroup_1_1=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape_10=new cjs.Shape,this.shape_10.graphics.f().s("#848484").ss(2,1).p("ACqDDIlTAAIAAmFIFTAAg"),this.shape_10.setTransform(54,67.9),this.timeline.addTween(cjs.Tween.get(this.shape_10).wait(1));var mask_1=new cjs.Shape;mask_1._off=!0,mask_1.graphics.p("AioDCIAAmDIFRAAIAAGDg"),mask_1.setTransform(54,67.9),this.shape_11=new cjs.Shape,this.shape_11.graphics.f().s("#848484").ss(1.4).p("AmpmjINTNH"),this.shape_11.setTransform(94.9,42.5),this.shape_12=new cjs.Shape,this.shape_12.graphics.f().s("#848484").ss(1.4).p("AmpmjINTNH"),this.shape_12.setTransform(88.5,48.9),this.shape_13=new cjs.Shape,this.shape_13.graphics.f().s("#848484").ss(1.4).p("AmqmjINVNH"),this.shape_13.setTransform(82,55.3),this.shape_14=new cjs.Shape,this.shape_14.graphics.f().s("#848484").ss(1.4).p("AmpmjINTNH"),this.shape_14.setTransform(75.5,61.6),this.shape_15=new cjs.Shape,this.shape_15.graphics.f().s("#848484").ss(1.4).p("AmpmjINTNH"),this.shape_15.setTransform(69.1,68),this.shape_16=new cjs.Shape,this.shape_16.graphics.f().s("#848484").ss(1.4).p("AmpmjINUNH"),this.shape_16.setTransform(62.6,74.3),this.shape_17=new cjs.Shape,this.shape_17.graphics.f().s("#848484").ss(1.4).p("AmpmjINTNH"),this.shape_17.setTransform(56.1,80.7),this.shape_18=new cjs.Shape,this.shape_18.graphics.f().s("#848484").ss(1.4).p("AmpmjINTNH"),this.shape_18.setTransform(49.7,87.1),this.shape_19=new cjs.Shape,this.shape_19.graphics.f().s("#848484").ss(1.4).p("AmqmjINVNH"),this.shape_19.setTransform(43.2,93.4),this.shape_11.mask=this.shape_12.mask=this.shape_13.mask=this.shape_14.mask=this.shape_15.mask=this.shape_16.mask=this.shape_17.mask=this.shape_18.mask=this.shape_19.mask=mask_1,this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_19},{t:this.shape_18},{t:this.shape_17},{t:this.shape_16},{t:this.shape_15},{t:this.shape_14},{t:this.shape_13},{t:this.shape_12},{t:this.shape_11}]}).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle(36,47.4,36,41),(lib.ClipGroup_0_1=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape_1=new cjs.Shape,this.shape_1.graphics.f().s("#848484").ss(1.6).p("ABKAAQAAAegWAWQgWAWgeAAQgdAAgWgWQgWgWAAgeQAAgdAWgWQAWgWAdAAQAeAAAWAWQAWAWAAAdg"),this.shape_1.setTransform(8.3,8.3),this.timeline.addTween(cjs.Tween.get(this.shape_1).wait(1));var mask_1=new cjs.Shape;mask_1._off=!0,mask_1.graphics.p("AgzA0QgWgWAAgeQAAgdAWgWQAVgWAeAAQAeAAAWAWQAWAWAAAdQAAAegWAWQgWAWgeAAQgeAAgVgWg"),mask_1.setTransform(8.3,8.3),this.shape_2=new cjs.Shape,this.shape_2.graphics.f("#848484").s().p("AgzA0QgWgVAAgfQAAgdAWgXQAVgVAeAAQAeAAAWAVQAWAXAAAdQAAAfgWAVQgWAWgeAAQgdAAgWgWg"),this.shape_2.setTransform(8.3,15.1),this.shape_2.mask=mask_1,this.timeline.addTween(cjs.Tween.get(this.shape_2).wait(1)),this.shape_3=new cjs.Shape,this.shape_3.graphics.f("#FFFFFF").s().p("AgzA0QgWgWAAgeQAAgdAWgWQAVgWAeAAQAeAAAWAWQAWAWAAAdQAAAegWAWQgWAWgeAAQgeAAgVgWg"),this.shape_3.setTransform(8.3,8.3),this.timeline.addTween(cjs.Tween.get(this.shape_3).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-.2),(-.1),16.9,16.8),(lib.ClipGroup_4=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{});var mask_1=new cjs.Shape;mask_1._off=!0,mask_1.graphics.p("AioDCIAAmDIFRAAIAAGDg"),mask_1.setTransform(54,67.9),this.shape_10=new cjs.Shape,this.shape_10.graphics.f().s("#848484").ss(1.4).p("AmpmjINTNH"),this.shape_10.setTransform(94.9,42.5),this.shape_11=new cjs.Shape,this.shape_11.graphics.f().s("#848484").ss(1.4).p("AmpmjINTNH"),this.shape_11.setTransform(88.5,48.9),this.shape_12=new cjs.Shape,this.shape_12.graphics.f().s("#848484").ss(1.4).p("AmqmjINVNH"),this.shape_12.setTransform(82,55.3),this.shape_13=new cjs.Shape,this.shape_13.graphics.f().s("#848484").ss(1.4).p("AmpmjINTNH"),this.shape_13.setTransform(75.5,61.6),this.shape_14=new cjs.Shape,this.shape_14.graphics.f().s("#848484").ss(1.4).p("AmpmjINTNH"),this.shape_14.setTransform(69.1,68),this.shape_15=new cjs.Shape,this.shape_15.graphics.f().s("#848484").ss(1.4).p("AmpmjINUNH"),this.shape_15.setTransform(62.6,74.3),this.shape_16=new cjs.Shape,this.shape_16.graphics.f().s("#848484").ss(1.4).p("AmpmjINTNH"),this.shape_16.setTransform(56.1,80.7),this.shape_17=new cjs.Shape,this.shape_17.graphics.f().s("#848484").ss(1.4).p("AmpmjINTNH"),this.shape_17.setTransform(49.7,87.1),this.shape_18=new cjs.Shape,this.shape_18.graphics.f().s("#848484").ss(1.4).p("AmqmjINVNH"),this.shape_18.setTransform(43.2,93.4),this.shape_10.mask=this.shape_11.mask=this.shape_12.mask=this.shape_13.mask=this.shape_14.mask=this.shape_15.mask=this.shape_16.mask=this.shape_17.mask=this.shape_18.mask=mask_1,this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_18},{t:this.shape_17},{t:this.shape_16},{t:this.shape_15},{t:this.shape_14},{t:this.shape_13},{t:this.shape_12},{t:this.shape_11},{t:this.shape_10}]}).wait(1)),this.shape_19=new cjs.Shape,this.shape_19.graphics.f().s("#848484").ss(2,1).p("ACqDDIlTAAIAAmFIFTAAg"),this.shape_19.setTransform(54,67.9),this.shape_20=new cjs.Shape,this.shape_20.graphics.f("#FFFFFF").s().p("AioDCIAAmDIFRAAIAAGDg"),this.shape_20.setTransform(54,67.9),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_20},{t:this.shape_19}]}).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle(36,47.4,36,41),(lib.HandleChupchik=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f().s("#C5C5C5").ss(2,1,1).p("AAAhHQANAAAKAKQAJAKAAANIAABOQAAANgJAKQgKAJgNAAQgMAAgKgJQgJgKAAgNIAAhOQAAgNAJgKQAKgKAMAAg"),this.shape.setTransform(0,7.3),this.shape_1=new cjs.Shape,this.shape_1.graphics.f("#FFFFFF").s().p("AgWA+QgJgJAAgNIAAhOQAAgNAJgKQAKgKAMAAQANAAAKAKQAJAKAAANIAABOQAAANgJAJQgKAKgNAAQgMAAgKgKg"),this.shape_1.setTransform(0,7.3),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_1},{t:this.shape}]}).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-4.2),(-1),8.6,16.5),(lib.Handle_3d=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f().s("#C5C5C5").ss(1,1,1).p("AgeglQACgEAKAAQAKgBAMAEQAQAEAGAKQAGAJgBARQgCAlg7AD"),this.shape.setTransform(.2,4.3),this.shape_1=new cjs.Shape,this.shape_1.graphics.f("#FFFFFF").s().p("AgfAnIgBgnQgBgmAEABQADgEAJAAQALgBALAEQAQAEAHAKQAGAJgBARQgDAlg7ADQAAAAgBgBQAAAAAAAAQgBgBAAAAQAAAAAAgBg"),this.shape_1.setTransform(0,4.3),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_1},{t:this.shape}]}).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-4),(-1),8.4,10.6),(lib.green_will=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f("#8EDC91").s().p("AghAiQgOgOAAgUQAAgTAOgOQAOgOATAAQATAAAPAOQAOAOAAATQAAAUgOAOQgPAOgTAAQgTAAgOgOg"),this.shape_1=new cjs.Shape,this.shape_1.graphics.f().s("#848484").ss(2).p("ABZAAQAAAlgaAZQgbAbgkAAQgjAAgbgbQgagZAAglQAAgkAagaQAbgaAjAAQAkAAAbAaQAaAaAAAkg"),this.shape_2=new cjs.Shape,this.shape_2.graphics.f("#FFFFFF").s().p("Ag+A/QgagbAAgkQAAgkAagaQAagaAkAAQAkAAAbAaQAaAaAAAkQAAAkgaAbQgbAagkAAQgkAAgagag"),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_2},{t:this.shape_1},{t:this.shape}]}).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-9.9),(-9.9),19.9,19.9),(lib.Gray_Line=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f("#848484").s().p("AhWALIAAgVICtAAIAAAVg"),this.timeline.addTween(cjs.Tween.get(this.shape).to({_off:!0},15).wait(15))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-8.7),(-1.2),17.5,2.3),(lib.glass=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f().s("#E5E5E5").ss(2,1).p("AgvCWQgYgagMghQgMgjACglQAEhIA4gyQA1gyBLAE"),this.shape.setTransform(1.6,-11.2),this.shape_1=new cjs.Shape,this.shape_1.graphics.f().s("#848484").ss(1.5,1,1).p("ADOi5QhNhWhzgGQhxgGhWBNQhWBNgGB0QgGBxBNBWQBOBVBzAGQBxAGBVhNQBWhNAGhzQAGhxhNhWgACTCkQhEA9hZgFQhcgFg9hEQg9hEAFhZQAEhcBEg9QBFg9BZAFQBcAFA9BEQA9BEgFBZQgFBchEA9g"),this.shape_1.setTransform(10.2,-8.5),this.shape_2=new cjs.Shape,this.shape_2.graphics.f("#8EDC91").s().p("AgNEWQhzgHhOhVQhMhWAFhxQAGh0BXhMQBVhOBxAHQBzAGBNBVQBOBWgHBxQgGB0hWBNQhPBHhpAAIgOAAgAiSijQhEA9gFBcQgFBaA9BDQA9BFBcAEQBZAFBFg9QBEg9AFhbQAEhag9hEQg9hEhbgFIgMAAQhTAAg/A4g"),this.shape_2.setTransform(10.2,-8.5),this.shape_3=new cjs.Shape,this.shape_3.graphics.f("#C5C5C5").s().p("Ag+BzQgQgBgLgMIgVgXIgHgKQgFgMADgMQACgNAKgJICOh/QAMgLAPABQAQAAALALIAWAZQALAMgBARQAAAQgNALIiOB/QgLAKgPAAIgCAAg"),this.shape_3.setTransform(-25.8,24.8),this.shape_4=new cjs.Shape,this.shape_4.graphics.f("#C5C5C5").s().p("Ag4ATIBRhJIAgAkIhRBJg"),this.shape_4.setTransform(-13.5,13.7),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_4},{t:this.shape_3},{t:this.shape_2},{t:this.shape_1},{t:this.shape}]}).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-38),(-37.3),77,73.7),(lib.forhand=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f("#848484").s().p("AgsAtQgSgTAAgaQAAgZASgTQATgSAZAAQAaAAATASQASATAAAZQAAAagSATQgTASgaAAQgZAAgTgSg"),this.shape.setTransform(10.2,13.6),this.shape_1=new cjs.Shape,this.shape_1.graphics.f().s("#848484").ss(2.2,1,1).p("AiCidIEGE7"),this.shape_1.setTransform(-3.4,-4.1),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_1},{t:this.shape}]}).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-17.7),(-20.9),34.3,40.9),(lib.Bulb=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f().s("#C5C5C5").ss(2,1,1).p("ADNCQQAAAZgSASQgSASgZAAIkfAAQgZAAgSgSQgSgSAAgZIAAkfQAAgZASgSQASgSAZAAIEfAAQAZAAASASQASASAAAZg"),this.shape.setTransform(20.5,20.5),this.shape_1=new cjs.Shape,this.shape_1.graphics.f("#FFFFFF").s().p("AiODNQgaAAgSgSQgRgTgBgYIAAkfQABgZARgSQASgSAaAAIEeAAQAZAAASASQARASABAZIAAEfQgBAYgRATQgSASgZAAg"),this.shape_1.setTransform(20.5,20.5),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_1},{t:this.shape}]}).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-1),(-1),43,43),(lib.box_V=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f().s("#FFFFFF").ss(1,1,1).p("AhBh5QAegRAjAAQAtAAAjAZABlhdQAmAnAAA2QAAAngTAfAiDgrQAKgeAYgYQAEgEAEgDAiHAdQgDgOAAgPQAAgJACgKABqBaQgEAEgFAEQgoApg5AAQg4AAgpgpQgUgUgKgX"),this.shape.setTransform(3.4,-.5),this.timeline.addTween(cjs.Tween.get(this.shape).to({_off:!0},22).wait(372)),this.shape_1=new cjs.Shape,this.shape_1.graphics.f("#FFFFFF").s().p("AhXgDIAXgTIAqAtIBZhYIAVAVIhwBug"),this.shape_1.setTransform(3.3,.6),this.timeline.addTween(cjs.Tween.get(this.shape_1).to({_off:!0},22).wait(372)),this.shape_2=new cjs.Shape,this.shape_2.graphics.f().s("#2E873B").ss(1.5).p("ADhD4InBAAQgKAAgGgHQgHgGAAgKIAAnBQAAgKAHgGQAGgHAKAAIHBAAQAKAAAGAHQAHAGAAAKIAAHBQAAAKgHAGQgGAHgKAAg"),this.shape_2.setTransform(.1,-.3),this.shape_3=new cjs.Shape,this.shape_3.graphics.f("#3DB44F").s().p("AAAD5IgEgBQgJgBgCgDIgHgFIgFAAIgGgCIAAnbQAAgFABgCQACgDADgBIA3AAQADABABADQADACAAAFIAAHdQAAAEgDAEQgBACgDAAg"),this.shape_3.setTransform(-21.3,.2),this.shape_4=new cjs.Shape,this.shape_4.graphics.f("#8EDC91").s().p("AjgD4QgKAAgGgHQgHgGAAgKIAAnBQAAgKAHgGQAGgHAKAAIHBAAQAKAAAGAHQAHAGAAAKIAAHBQAAAKgHAGQgGAHgKAAg"),this.shape_4.setTransform(.1,-.3),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_4},{t:this.shape_3},{t:this.shape_2}]}).to({state:[]},22).wait(372))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-25.7),(-26.1),51.7,51.7),(lib.box=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f().s("#2E873B").ss(1.5).p("ADhD4InBAAQgKAAgGgHQgHgGAAgKIAAnBQAAgKAHgGQAGgHAKAAIHBAAQAKAAAGAHQAHAGAAAKIAAHBQAAAKgHAGQgGAHgKAAg"),this.shape.setTransform(.1,-.3),this.shape_1=new cjs.Shape,this.shape_1.graphics.f("#3DB44F").s().p("AgrD6QgEAAgEgEQgDgDAAgEIAAneQAAgDADgEQAEgDAEAAIBXAAQAFAAACADQADAEAAADIAAHeQAAAEgDADQgCAEgFAAg"),this.shape_1.setTransform(-21.4,.2,.636,1),this.shape_2=new cjs.Shape,this.shape_2.graphics.f("#8EDC91").s().p("AjgD4QgKAAgGgHQgHgGAAgKIAAnBQAAgKAHgGQAGgHAKAAIHBAAQAKAAAGAHQAHAGAAAKIAAHBQAAAKgHAGQgGAHgKAAg"),this.shape_2.setTransform(.1,-.3),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_2},{t:this.shape_1},{t:this.shape}]}).to({state:[]},39).wait(355))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-25.7),(-26.1),51.7,51.7),(lib.arm=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f().s("#848484").ss(2.2,1,1).p("AAyAAQAAAUgPAPQgPAPgUAAQgTAAgPgPQgPgPAAgUQAAgTAPgPQAPgPATAAQAUAAAPAPQAPAPAAATg"),this.shape.setTransform(-14.2,16.9),this.shape_1=new cjs.Shape,this.shape_1.graphics.f("#FFFFFF").s().p("AgiAjQgPgPAAgUQAAgTAPgPQAPgPATAAQAUAAAPAPQAPAPAAATQAAAUgPAPQgPAOgUAAQgTAAgPgOg"),this.shape_1.setTransform(-14.2,16.9),this.shape_2=new cjs.Shape,this.shape_2.graphics.f().s("#848484").ss(2.2,1,1).p("AilC6QAAAAFLlz"),this.shape_2.setTransform(2.6,-3.3),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_2},{t:this.shape_1},{t:this.shape}]}).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-20.2),(-23),40.5,46),(lib.Symbol36=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.instance=new lib.Symbol37("synched",0),this.instance.setTransform(0,5),this.timeline.addTween(cjs.Tween.get(this.instance).to({y:-5.2},11,cjs.Ease.get(1)).to({y:4.9},8,cjs.Ease.get(1)).wait(1)),this.shape=new cjs.Shape,this.shape.graphics.f().s("#C5C5C5").ss(2,1).p("AAAhPIAACf"),this.timeline.addTween(cjs.Tween.get(this.shape).wait(20))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-2.5),(-9),5.1,18.1),(lib.Symbol35=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.instance=new lib.Symbol29("synched",0),this.instance.setTransform(.5,0,1,1,0,0,0,.5,0),this.timeline.addTween(cjs.Tween.get(this.instance).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-13.1),(-12.5),27.4,25.1),(lib.Symbol14=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.instance=new lib.Symbol19("synched",4),this.instance.setTransform(14.3,4),this.instance_1=new lib.Symbol19("synched",9),this.instance_1.setTransform(7.7,4),this.instance_2=new lib.Symbol19("synched",19),this.instance_2.setTransform(1.1,4),this.instance_3=new lib.Symbol19("synched",24),this.instance_3.setTransform(-5.5,4),this.instance_4=new lib.Symbol19("synched",0),this.instance_4.setTransform(-12.1,4),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance_4},{t:this.instance_3},{t:this.instance_2},{t:this.instance_1},{t:this.instance}]}).wait(30))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-15),(-14.7),32.3,37.5),(lib.Symbol13=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.instance=new lib.Symbol22("synched",24),this.instance.setTransform(-6.3,5.9),this.instance_1=new lib.Symbol22("synched",19),this.instance_1.setTransform(.3,5.9),this.instance_2=new lib.Symbol22("synched",9),this.instance_2.setTransform(6.9,5.9),this.instance_3=new lib.Symbol22("synched",9),this.instance_3.setTransform(-6.3,-.5),this.instance_4=new lib.Symbol22("synched",4),this.instance_4.setTransform(.3,-.5),this.instance_5=new lib.Symbol22("synched",0),this.instance_5.setTransform(6.9,-.5),this.instance_6=new lib.Symbol22("synched",24),this.instance_6.setTransform(-6.3,-6.9),this.instance_7=new lib.Symbol22("synched",19),this.instance_7.setTransform(.3,-6.9),this.instance_8=new lib.Symbol22("synched",14),this.instance_8.setTransform(6.9,-6.9),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance_8},{t:this.instance_7},{t:this.instance_6},{t:this.instance_5},{t:this.instance_4},{t:this.instance_3},{t:this.instance_2},{t:this.instance_1},{t:this.instance}]}).wait(60))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-9.2),(-9.8),19,18.6),(lib.robot_arm=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.instance=new lib.Robot_Head("synched",0),this.instance.setTransform(31.8,5.6,1,1,0,0,0,0,2.6),this.timeline.addTween(cjs.Tween.get(this.instance).wait(38).to({startPosition:0},0).to({regX:.1,rotation:.3,x:32.3,y:-14.9},3,cjs.Ease.get(1)).to({y:49.3},5,cjs.Ease.get(-1)).to({startPosition:0},3,cjs.Ease.get(-1)).to({startPosition:0},4).to({rotation:25.8,x:38.3,y:24.9},4,cjs.Ease.get(1)).to({regY:2.7,rotation:-57.4,x:99.5,y:-20.7},2).to({regX:.2,regY:2.8,rotation:-89.5,x:95.9,y:-47.6},1).to({regY:2.7,rotation:-121.4,x:92,y:-74.2},1).to({regX:.3,regY:2.9,scaleX:1,scaleY:1,rotation:-117.4,x:94.7,y:-58.2},2).to({regX:.2,regY:2.8,scaleX:1,scaleY:1,rotation:-92.4,x:106.3,y:-36.1},3).to({regX:.3,scaleX:1,scaleY:1,rotation:-33.5,x:59.1,y:-1.9},4,cjs.Ease.get(1)).to({regX:0,regY:2.6,scaleX:1,scaleY:1,rotation:5.5,x:28.1,y:5.4},4,cjs.Ease.get(1)).to({rotation:0,x:31.8,y:5.6},3,cjs.Ease.get(1)).to({startPosition:0},3,cjs.Ease.get(1)).wait(1)),this.instance_1=new lib.Symbol5("synched",0),this.instance_1.setTransform(17.3,18.7,1,1,0,0,0,5.5,-7.2),this.timeline.addTween(cjs.Tween.get(this.instance_1).wait(38).to({startPosition:0},0).to({regY:-7.1,rotation:-23.5,x:17.7,y:-1.9},3,cjs.Ease.get(1)).to({rotation:22.9,x:17.6,y:62.3},5,cjs.Ease.get(-1)).to({rotation:-6.3},3,cjs.Ease.get(-1)).to({rotation:-6.3},4).to({regY:-7,rotation:19.2,x:19.4,y:30.4},4,cjs.Ease.get(1)).to({rotation:-93.4,x:102.7,y:-1.4},2).to({regY:-6.9,scaleX:1,scaleY:1,rotation:-130.1,x:108.2,y:-35.3},1).to({regX:5.3,scaleX:1,scaleY:1,rotation:-175.2,x:113.4,y:-69.3},1).to({regX:5.2,regY:-6.7,scaleX:1,scaleY:1,rotation:-170,x:114.1,y:-52.8},2).to({regX:5.5,regY:-6.9,scaleX:1,scaleY:1,rotation:-128.4,x:120,y:-22},3).to({scaleX:1,scaleY:1,rotation:-67.5,x:53.6,y:15.5},4,cjs.Ease.get(1)).to({regY:-7.2,scaleX:1,scaleY:1,rotation:5.5,x:12.4,y:17.1},4,cjs.Ease.get(1)).to({rotation:-20.7,x:17.3,y:18.7},3,cjs.Ease.get(1)).to({rotation:0},3,cjs.Ease.get(1)).wait(1)),this.instance_2=new lib.Symbol25("synched",0),this.instance_2.setTransform(0,23.9,1,1,0,0,0,-4.4,-6.2),this.timeline.addTween(cjs.Tween.get(this.instance_2).wait(38).to({startPosition:0},0).to({regY:-6.1,rotation:-14,x:3.7,y:9.5},3,cjs.Ease.get(1)).to({regY:-6,rotation:103.6,x:-1.3,y:60.9},5,cjs.Ease.get(-1)).to({regX:-4.3,regY:-6.1,rotation:3,x:.9,y:69.2},3,cjs.Ease.get(-1)).to({startPosition:0},4).to({regX:-4.2,rotation:92.9,x:-.7,y:29.4},4,cjs.Ease.get(1)).to({regX:-4.3,regY:-6,rotation:-6.7,x:110.5,y:16.5},2).to({regX:-4.2,scaleX:1,scaleY:1,rotation:-56.6,x:122.2,y:-27.1},1).to({regX:-4.3,scaleX:1,scaleY:1,rotation:-65.9,x:130.8,y:-72.6},1).to({regX:-4,scaleX:1,scaleY:1,rotation:-63.2,x:128.6,y:-54.8},2).to({regX:-4.2,scaleX:1,scaleY:1,rotation:-25.1,x:136.6,y:-11.9},3).to({regY:-5.8,rotation:-45.7,x:51.9,y:33.4},4,cjs.Ease.get(1)).to({regX:-4.5,regY:-6.1,rotation:73.5,x:-5.4,y:20.6},4,cjs.Ease.get(1)).to({regX:-4.4,regY:-6.2,rotation:-5.2,x:3.8,y:30.2},3,cjs.Ease.get(1)).to({rotation:0,x:0,y:23.9},3,cjs.Ease.get(1)).wait(1)),this.instance_3=new lib.Symbol4("synched",0),this.instance_3.setTransform(26.4,20.2,1,1,0,0,0,4.7,-9.5),this.timeline.addTween(cjs.Tween.get(this.instance_3).wait(38).to({startPosition:0},0).to({rotation:-12.7,x:26.7,y:-.4},3,cjs.Ease.get(1)).to({regX:4.8,regY:-9.3,rotation:23.4,y:63.9},5,cjs.Ease.get(-1)).to({regX:4.7,regY:-9.5,rotation:-7.8,y:63.8},3,cjs.Ease.get(-1)).to({rotation:-7.8},4).to({regX:4.9,regY:-9.3,rotation:30.2,x:27.2,y:35.7},4,cjs.Ease.get(1)).to({regX:4.8,rotation:-82.9,x:108.8,y:-8.3},2).to({scaleX:1,scaleY:1,rotation:-113.8,x:108,y:-42.8},1).to({regY:-9.2,scaleX:1,scaleY:1,rotation:-152.1,x:107.3,y:-77.1},1).to({scaleX:1,scaleY:1,rotation:-146.2,x:109.3,y:-59.8},2).to({scaleX:1,scaleY:1,rotation:-117.9,x:121,y:-31.2},3).to({scaleX:1,scaleY:1,rotation:-56.5,x:61.2,y:11.8},4,cjs.Ease.get(1)).to({regX:4.7,regY:-9.5,scaleX:1,scaleY:1,rotation:5.5,x:21.3,y:19.4},4,cjs.Ease.get(1)).to({regY:-9.4,rotation:-10.5,x:26.5,y:20.2},3,cjs.Ease.get(1)).to({regY:-9.5,rotation:0,x:26.4},3,cjs.Ease.get(1)).wait(1)),this.instance_4=new lib.Symbol25("synched",0),this.instance_4.setTransform(19.4,31.9,1,1,0,0,0,-3.6,-5.8),this.timeline.addTween(cjs.Tween.get(this.instance_4).wait(38).to({startPosition:0
},0).to({regY:-5.7,rotation:-3.5,x:22.5,y:12.5},3,cjs.Ease.get(1)).to({regX:-3.5,regY:-5.6,rotation:83.3,x:16,y:71.3},5,cjs.Ease.get(-1)).to({rotation:20.5,x:22.5,y:76.8},3,cjs.Ease.get(-1)).to({startPosition:0},4).to({regX:-3.4,regY:-5.5,rotation:82.3,x:14.7,y:42.4},4,cjs.Ease.get(1)).to({rotation:-15.9,x:119.8,y:.3},2).to({scaleX:1,scaleY:1,rotation:-58.6,x:120.7,y:-41.7},1).to({regY:-5.4,scaleX:1,scaleY:1,rotation:-89.1,x:120,y:-84.3},1).to({regX:-3.3,regY:-5.3,scaleX:1,scaleY:1,rotation:-81.1,x:120.8,y:-65.3},2).to({regY:-5.5,scaleX:1,scaleY:1,rotation:-49.6,x:134.9,y:-30.5},3).to({regY:-5.4,rotation:-39.7,x:69.5,y:24.9},4,cjs.Ease.get(1)).to({regX:-3.6,regY:-5.8,rotation:65.2,x:13.2,y:30.4},4,cjs.Ease.get(1)).to({rotation:-4,x:21.7,y:32.9},3,cjs.Ease.get(1)).to({rotation:0,x:19.4,y:31.9},3,cjs.Ease.get(1)).wait(1)),this.instance_5=new lib.Symbol3("synched",0),this.instance_5.setTransform(38.3,21.3,1,1,0,0,0,-4.2,-8.4),this.timeline.addTween(cjs.Tween.get(this.instance_5).wait(38).to({startPosition:0},0).to({regX:-4.1,regY:-8.3,rotation:14.9,x:38.7,y:.9},3,cjs.Ease.get(1)).to({rotation:-24,x:38.6,y:65},5,cjs.Ease.get(-1)).to({rotation:10.2,y:65.1},3,cjs.Ease.get(-1)).to({rotation:10.2},4).to({regX:-4,rotation:76.2,x:37.4,y:41.9},4,cjs.Ease.get(1)).to({regY:-8.2,rotation:-47.5,x:116.3,y:-17.7},2).to({scaleX:1,scaleY:1,rotation:-77.2,x:109.3,y:-52.8},1).to({regX:-3.9,scaleX:1,scaleY:1,rotation:-126.4,x:102.1,y:-88},1).to({regY:-8,scaleX:1,scaleY:1,rotation:-116.4,x:105.3,y:-69.9},2).to({regY:-8.2,scaleX:1,scaleY:1,rotation:-82.4,x:121.7,y:-43.3},3).to({scaleX:1,scaleY:1,rotation:-50.2,x:71.5,y:6.8},4,cjs.Ease.get(1)).to({regX:-4.2,regY:-8.4,scaleX:1,scaleY:1,rotation:35.9,x:33,y:21.7},4,cjs.Ease.get(1)).to({regX:-4.1,rotation:-8.5,x:38.4,y:21.3},3,cjs.Ease.get(1)).to({regX:-4.2,rotation:0,x:38.3},3,cjs.Ease.get(1)).wait(1)),this.instance_6=new lib.Symbol24("synched",0),this.instance_6.setTransform(44.7,31.8,1,1,0,0,0,2.2,-3.7),this.timeline.addTween(cjs.Tween.get(this.instance_6).wait(38).to({startPosition:0},0).to({regX:2.3,regY:-3.6,rotation:6.5,x:42.4,y:12.7},3,cjs.Ease.get(1)).to({rotation:-87.6,x:48.9,y:72},5,cjs.Ease.get(-1)).to({regY:-3.5,rotation:-21,x:42.4,y:77.1},3,cjs.Ease.get(-1)).to({startPosition:0},4).to({regX:2.4,rotation:4.5,x:28.2,y:51.3},4,cjs.Ease.get(1)).to({regX:2.3,regY:-3.4,rotation:-88.2,x:128.4,y:-15.6},2).to({scaleX:1,scaleY:1,rotation:-126.9,x:119.7,y:-57.2},1).to({regX:2.2,regY:-3.3,scaleX:1,scaleY:1,rotation:-200.3,x:107.2,y:-101.4},1).to({regX:2.1,scaleX:1,scaleY:1,rotation:-191.6,x:110.3,y:-79.9},2).to({regX:2.2,scaleX:1,scaleY:1,rotation:-158.6,x:132.9,y:-48.4},3).to({regX:2.1,regY:-3.1,scaleX:1,scaleY:1,rotation:-97.7,x:85.7,y:12.2},4,cjs.Ease.get(1)).to({regX:2.2,regY:-3.8,scaleX:1,scaleY:1,rotation:5.5,x:31.9,y:35.1},4,cjs.Ease.get(1)).to({regY:-3.7,rotation:-20,x:45.7,y:32.3},3,cjs.Ease.get(1)).to({rotation:0,x:44.7,y:31.8},3,cjs.Ease.get(1)).wait(1)),this.instance_7=new lib.Symbol2("synched",0),this.instance_7.setTransform(45.9,18.4,1,1,0,0,0,-8.1,-7.6),this.timeline.addTween(cjs.Tween.get(this.instance_7).wait(38).to({startPosition:0},0).to({regX:-8,regY:-7.5,rotation:15.7,x:46.3,y:-2},3,cjs.Ease.get(1)).to({rotation:-18.7,y:62.2},5,cjs.Ease.get(-1)).to({regX:-7.9,rotation:2.3,x:46.4},3,cjs.Ease.get(-1)).to({rotation:2.3},4).to({regX:-7.8,rotation:104.5,x:43.8,y:46.2},4,cjs.Ease.get(1)).to({regX:-7.9,regY:-7.4,rotation:-19.7,x:121.5,y:-25.5},2).to({regY:-7.5,scaleX:1,scaleY:1,rotation:-59.2,x:108.6,y:-59.4},1).to({regY:-7.3,scaleX:1,scaleY:1,rotation:-120.1,x:95.8,y:-93},1).to({regY:-7.2,scaleX:1,scaleY:1,rotation:-101.8,x:101.2,y:-75.2},2).to({regX:-7.8,regY:-7.4,scaleX:1,scaleY:1,rotation:-54.6,x:121.5,y:-52.6},3).to({regY:-7.3,rotation:-45.3,x:76.9,y:.8},4,cjs.Ease.get(1)).to({regX:-8,regY:-7.5,rotation:36.4,x:40.9,y:19.6},4,cjs.Ease.get(1)).to({rotation:-7.2,x:46,y:18.5},3,cjs.Ease.get(1)).to({regX:-8.1,regY:-7.6,rotation:0,x:45.9,y:18.4},3,cjs.Ease.get(1)).wait(1)),this.instance_8=new lib.Symbol24("synched",0),this.instance_8.setTransform(66,24.4,1,1,0,0,0,4.3,-5.8),this.timeline.addTween(cjs.Tween.get(this.instance_8).wait(38).to({startPosition:0},0).to({regY:-5.7,rotation:.3,x:63.9,y:9.2},3,cjs.Ease.get(1)).to({rotation:-107.3,x:67.2,y:61.4},5,cjs.Ease.get(-1)).to({regX:4.4,rotation:-6.3,x:66.2,y:68.9},3,cjs.Ease.get(-1)).to({rotation:-6.3},4).to({regX:4.5,rotation:2.5,x:33,y:64.4},4,cjs.Ease.get(1)).to({regY:-5.5,rotation:-76.7,x:142.7,y:-26.8},2).to({regX:4.4,scaleX:1,scaleY:1,rotation:-120.8,x:121.7,y:-70.5},1).to({scaleX:1,scaleY:1,rotation:-235.8,x:90,y:-113.4},1).to({regX:4.1,scaleX:1,scaleY:1,rotation:-214.7,x:101.2,y:-90.5},2).to({regX:4.5,regY:-5.4,scaleX:1,scaleY:1,rotation:-163.6,x:137.2,y:-66.1},3).to({regY:-5.3,scaleX:1,scaleY:1,rotation:-114,x:97.9,y:-9.3},4,cjs.Ease.get(1)).to({regX:4.3,regY:-5.8,scaleX:1,scaleY:1,rotation:5.5,x:53.3,y:37.7},4,cjs.Ease.get(1)).to({rotation:-19,x:66.8,y:22.3},3,cjs.Ease.get(1)).to({rotation:0,x:66,y:24.4},3,cjs.Ease.get(1)).wait(1)),this.instance_9=new lib.will("synched",0),this.instance_9.setTransform(30.8,-33.5),this.timeline.addTween(cjs.Tween.get(this.instance_9).wait(38).to({startPosition:0},0).to({regX:.1,regY:-.1,rotation:-12.2,x:31.3,y:-54},3,cjs.Ease.get(1)).to({rotation:23.7,x:31.2,y:7.2},5,cjs.Ease.get(-1)).to({scaleX:1,scaleY:1,rotation:23.6,x:31.3},3).to({startPosition:0},4).to({scaleX:1,scaleY:1,rotation:9.5,x:54.3,y:-14.1},4,cjs.Ease.get(1)).to({rotation:-6.5,x:62,y:-41.7},2).to({scaleX:1,scaleY:1,rotation:-10.3,x:60.8,y:-47.8},1).to({scaleX:1,scaleY:1,rotation:-14.1,x:59.4,y:-53.9},1).to({scaleX:1,scaleY:1,rotation:-14.5,x:60.6,y:-46.1},2).to({scaleX:1,scaleY:1,rotation:-2,x:62.4,y:-34.3},3).to({regX:.2,rotation:6.4,x:39,y:-31},4,cjs.Ease.get(1)).to({regX:0,regY:0,rotation:0,x:30.8,y:-33.5},4,cjs.Ease.get(1)).to({startPosition:0},3,cjs.Ease.get(1)).to({startPosition:0},3,cjs.Ease.get(1)).wait(1)),this.instance_10=new lib.robotic_forarm("synched",0),this.instance_10.setTransform(31.5,-34.3,1,1,0,0,0,0,-20.4),this.timeline.addTween(cjs.Tween.get(this.instance_10).wait(38).to({startPosition:0},0).to({regX:.1,rotation:.3,x:32.1,y:-54.7},3,cjs.Ease.get(1)).to({y:8.1},5,cjs.Ease.get(-1)).to({x:32},3).to({startPosition:0},4).to({rotation:25.8,x:55.9,y:-12.4},4,cjs.Ease.get(1)).to({regX:0,regY:-20.6,rotation:-57.4,x:64.3,y:-42.6},2).to({regY:-20.4,rotation:-89.5,x:60.8,y:-47.4},1).to({regX:.1,regY:-20.6,rotation:-121.4,x:56.9,y:-52.3},1).to({regY:-20.4,scaleX:1,scaleY:1,rotation:-108.7,x:59.8,y:-45.6},2).to({regX:0,regY:-20.5,scaleX:1,scaleY:1,rotation:-92.4,x:64.9,y:-33.8},3).to({regX:.1,regY:-20.6,scaleX:1,scaleY:1,rotation:-33.5,x:38.8,y:-32.4},4,cjs.Ease.get(1)).to({regY:-20.5,scaleX:1,scaleY:1,rotation:5.5,x:31.6,y:-34.3},4,cjs.Ease.get(1)).to({regX:0,regY:-20.4,rotation:0,x:31.5},3,cjs.Ease.get(1)).to({startPosition:0},3,cjs.Ease.get(1)).wait(1)),this.instance_11=new lib.robotic_arm("synched",0),this.instance_11.setTransform(-65.1,-33.2,1,1,0,0,0,-46,.2),this.timeline.addTween(cjs.Tween.get(this.instance_11).wait(38).to({startPosition:0},0).to({regY:.1,rotation:-12.2,x:-62.4,y:-33.3},3,cjs.Ease.get(1)).to({regX:-46.1,rotation:23.7,x:-56.8,y:-31},5,cjs.Ease.get(-1)).to({scaleX:1,scaleY:1,rotation:23.6,x:-56.9},3).to({startPosition:0},4).to({scaleX:1,scaleY:1,rotation:9.5,x:-40.3,y:-29.6},4,cjs.Ease.get(1)).to({rotation:-6.5,x:-33.3,y:-30.5},2).to({scaleX:1,scaleY:1,rotation:-10.3,x:-33.6,y:-30.4},1).to({regY:-.1,scaleX:1,scaleY:1,rotation:-14.1,y:-30.3},1).to({regY:.1,rotation:-2,x:-33.4,y:-30.4},5).to({regX:-46,regY:.2,rotation:0,x:-65.1,y:-33.2},8,cjs.Ease.get(1)).to({startPosition:0},3,cjs.Ease.get(1)).to({startPosition:0},3,cjs.Ease.get(1)).wait(1)),this.instance_12=new lib.wire("synched",0),this.instance_12.setTransform(12.7,-30.5,1,1,0,0,0,21.6,-21.2),this.timeline.addTween(cjs.Tween.get(this.instance_12).wait(38).to({startPosition:0},0).to({regY:-21.3,rotation:.3,x:13.3,y:-51.1},3,cjs.Ease.get(1)).to({y:-1.1},5,cjs.Ease.get(-1)).to({regX:21.5,regY:-21.2,x:13.2},3).to({startPosition:0},4).to({regX:21.6,regY:-21.3,x:13.3,y:-20.3},4,cjs.Ease.get(1)).to({y:-31.5},2).to({y:-36.5},1).to({y:-41.6},1).to({y:-31.5},5).to({regX:21.5,rotation:0,x:6.8,y:-29.4},4,cjs.Ease.get(1)).to({regX:21.6,regY:-21.2,x:12.7,y:-30.5},4,cjs.Ease.get(1)).to({startPosition:0},3,cjs.Ease.get(1)).to({startPosition:0},3,cjs.Ease.get(1)).wait(1)),this.instance_13=new lib.box("synched",7),this.instance_13.setTransform(32.8,66.9,1,1,0,0,0,0,-25.2),this.instance_13._off=!0,this.timeline.addTween(cjs.Tween.get(this.instance_13).wait(46).to({_off:!1},0).wait(3).to({startPosition:9},0).to({startPosition:9},4).to({regX:.3,rotation:34,x:11.5,y:47.8,startPosition:11},4,cjs.Ease.get(1)).to({regX:.2,regY:-24.9,rotation:-37.4,x:125.9,y:-8.8,startPosition:13},2).to({rotation:-87.5,x:119.9,y:-49,startPosition:14},1).to({regX:.3,scaleX:1.54,scaleY:.87,rotation:-131.5,x:67.1,y:-166.5,startPosition:15},1).to({scaleX:1,scaleY:1,rotation:-213.6,x:49.5,y:-192.2,startPosition:16},1).to({_off:!0},1).wait(18))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-75.5),(-41.6),146.1,86.1),(lib.pipe=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.instance=new lib.Symbol7("synched",0),this.instance.setTransform(.5,-9.4,1,1,0,0,0,0,2.8),this.timeline.addTween(cjs.Tween.get(this.instance).to({regX:.1,regY:2.7,scaleX:1.17,scaleY:.91,x:.7,y:-16.7},6,cjs.Ease.get(1)).to({regX:.2,regY:3,scaleX:.7,scaleY:1.28,x:.6,y:14.1},2,cjs.Ease.get(1)).to({regX:.1,regY:2.6,scaleX:1.07,scaleY:.96,y:-13.1},3,cjs.Ease.get(1)).to({regX:0,regY:2.8,scaleX:1,scaleY:1,x:.5,y:-9.4},3,cjs.Ease.get(1)).wait(46)),this.instance_1=new lib.Symbol7("synched",0),this.instance_1.setTransform(.5,43.6,1,1,0,0,0,0,2.8),this.timeline.addTween(cjs.Tween.get(this.instance_1).to({regX:.1,regY:2.9,scaleX:1.17,scaleY:.91,x:.7,y:31.8},6,cjs.Ease.get(1)).to({regX:.2,regY:3,scaleX:.7,scaleY:1.28,x:.6,y:82.1},2,cjs.Ease.get(1)).to({regX:.1,regY:2.9,scaleX:1.07,scaleY:.96,y:37.6},3,cjs.Ease.get(1)).to({regX:0,regY:2.8,scaleX:1,scaleY:1,x:.5,y:43.6},3,cjs.Ease.get(1)).wait(46)),this.instance_2=new lib.Symbol7("synched",0),this.instance_2.setTransform(.5,32.6,1,1,0,0,0,0,2.8),this.timeline.addTween(cjs.Tween.get(this.instance_2).to({regX:.1,regY:2.9,scaleX:1.17,scaleY:.91,x:.7,y:21.7},6,cjs.Ease.get(1)).to({regX:.2,regY:3,scaleX:.7,scaleY:1.28,x:.6,y:68},2,cjs.Ease.get(1)).to({regX:.1,scaleX:1.07,scaleY:.96,y:27.1},3,cjs.Ease.get(1)).to({regX:0,regY:2.8,scaleX:1,scaleY:1,x:.5,y:32.6},3,cjs.Ease.get(1)).wait(46)),this.instance_3=new lib.Symbol7("synched",0),this.instance_3.setTransform(.5,21.6,1,1,0,0,0,0,2.8),this.timeline.addTween(cjs.Tween.get(this.instance_3).to({regX:.1,regY:2.9,scaleX:1.17,scaleY:.91,x:.7,y:11.7},6,cjs.Ease.get(1)).to({regX:.2,regY:3,scaleX:.7,scaleY:1.28,x:.6,y:53.8},2,cjs.Ease.get(1)).to({regX:.1,scaleX:1.07,scaleY:.96,y:16.6},3,cjs.Ease.get(1)).to({regX:0,regY:2.8,scaleX:1,scaleY:1,x:.5,y:21.6},3,cjs.Ease.get(1)).wait(46)),this.instance_4=new lib.Symbol7("synched",0),this.instance_4.setTransform(.5,.6,1,1,0,0,0,0,2.8),this.timeline.addTween(cjs.Tween.get(this.instance_4).to({regX:.1,scaleX:1.17,scaleY:.91,x:.7,y:-7.5},6,cjs.Ease.get(1)).to({regX:.2,regY:2.9,scaleX:.7,scaleY:1.28,x:.6,y:26.8},2,cjs.Ease.get(1)).to({regX:.1,regY:2.6,scaleX:1.07,scaleY:.96,y:-3.6},3,cjs.Ease.get(1)).to({regX:0,regY:2.8,scaleX:1,scaleY:1,x:.5,y:.6},3,cjs.Ease.get(1)).wait(46)),this.instance_5=new lib.Symbol7("synched",0),this.instance_5.setTransform(.5,11.1,1,1,0,0,0,0,2.8),this.timeline.addTween(cjs.Tween.get(this.instance_5).to({regX:.1,scaleX:1.17,scaleY:.91,x:.7,y:2.1},6,cjs.Ease.get(1)).to({regX:.2,regY:3,scaleX:.7,scaleY:1.28,x:.6,y:40.4},2,cjs.Ease.get(1)).to({regX:.1,scaleX:1.07,scaleY:.96,y:6.6},3,cjs.Ease.get(1)).to({regX:0,regY:2.8,scaleX:1,scaleY:1,x:.5,y:11.1},3,cjs.Ease.get(1)).wait(46)),this.instance_6=new lib.Symbol7("synched",0),this.instance_6.setTransform(.5,-9.4,1,1,0,0,0,0,2.8),this.timeline.addTween(cjs.Tween.get(this.instance_6).to({regX:.1,regY:2.7,scaleX:1.17,scaleY:.91,x:.7,y:-16.7},6,cjs.Ease.get(1)).to({regX:.2,regY:3,scaleX:.7,scaleY:1.28,x:.6,y:14.1},2,cjs.Ease.get(1)).to({regX:.1,regY:2.6,scaleX:1.07,scaleY:.96,y:-13.1},3,cjs.Ease.get(1)).to({regX:0,regY:2.8,scaleX:1,scaleY:1,x:.5,y:-9.4},3,cjs.Ease.get(1)).wait(46)),this.instance_7=new lib.Symbol7("synched",0),this.instance_7.setTransform(.5,-19.4,1,1,0,0,0,0,2.8),this.timeline.addTween(cjs.Tween.get(this.instance_7).to({regX:.1,scaleX:1.17,scaleY:.91,x:.7,y:-25.7},6,cjs.Ease.get(1)).to({regX:.2,regY:2.6,scaleX:.7,scaleY:1.28,x:.6,y:1.2},2,cjs.Ease.get(1)).to({regX:.1,scaleX:1.07,scaleY:.96,y:-22.7},3,cjs.Ease.get(1)).to({regX:0,regY:2.8,scaleX:1,scaleY:1,x:.5,y:-19.4},3,cjs.Ease.get(1)).wait(46)),this.instance_8=new lib.Pipe_btm("synched",0),this.instance_8.setTransform(.4,55.2,1,1,0,0,0,0,15.1),this.timeline.addTween(cjs.Tween.get(this.instance_8).to({regY:15.2,scaleX:1.17,scaleY:.91,x:.5,y:42.4},6,cjs.Ease.get(1)).to({regY:15.3,scaleX:.7,scaleY:1.28,x:.4,y:97},2,cjs.Ease.get(1)).to({regX:.1,regY:15.2,scaleX:1.07,scaleY:.96,x:.5,y:48.7},3,cjs.Ease.get(1)).to({regX:0,regY:15.1,scaleX:1,scaleY:1,x:.4,y:55.2},3,cjs.Ease.get(1)).wait(46)),this.instance_9=new lib.Pipe_top("synched",0),this.instance_9.setTransform(0,-59.5,1,1,0,0,0,0,32.7),this.timeline.addTween(cjs.Tween.get(this.instance_9).to({regY:32.6,scaleX:1.17,scaleY:.91,y:-62.4},6,cjs.Ease.get(1)).to({regX:.1,scaleX:.7,scaleY:1.28,x:.2,y:-50.2},2,cjs.Ease.get(1)).to({regY:32.5,scaleX:1.07,scaleY:.96,x:.1,y:-61.1},3,cjs.Ease.get(1)).to({regX:0,regY:32.7,scaleX:1,scaleY:1,x:0,y:-59.5},3,cjs.Ease.get(1)).wait(46)),this.instance_10=new lib.Symbol9("synched",0),this.instance_10.setTransform(.4,70.4,1,1,0,0,0,.1,-9.7),this.timeline.addTween(cjs.Tween.get(this.instance_10).to({scaleX:1.17,scaleY:.91,y:56.1},6,cjs.Ease.get(1)).to({regX:.2,regY:-9.5,scaleX:.7,scaleY:1.28,y:116.5},2,cjs.Ease.get(1)).to({regY:-9.6,scaleX:1.07,scaleY:.96,y:63.2},3,cjs.Ease.get(1)).to({regX:.1,regY:-9.7,scaleX:1,scaleY:1,y:70.4},3,cjs.Ease.get(1)).wait(46))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-46.3),(-93.4),93.3,184.4),(lib.pepita_move=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.instance=new lib.pipeta("synched",0),this.instance.setTransform(-38.2,-70.6,1,1,0,0,0,.8,-23.3),this.timeline.addTween(cjs.Tween.get(this.instance).wait(1).to({regX:0,regY:-4.5,x:-39,y:-51.8,startPosition:1},0).wait(1).to({regX:.8,regY:-23.3,x:-38.2,y:-70.6,startPosition:0},0).wait(1).to({regX:0,regY:-4.5,x:-39,y:-46.3,startPosition:1},0).wait(1).to({y:-34.1,startPosition:2},0).wait(1).to({y:-23.2,startPosition:3},0).wait(1).to({regX:.8,regY:-23.3,x:-38.2,y:-37.8,startPosition:0},0).wait(1).to({regX:0,regY:-4.5,x:-39,y:-19,startPosition:1},0).wait(1).to({startPosition:2},0).wait(1).to({startPosition:3},0).wait(1).to({startPosition:4},0).wait(1).to({startPosition:5},0).wait(1).to({regX:.8,regY:-23.3,x:-38.2,y:-37.8,startPosition:0},0).wait(1).to({regX:0,regY:-4.5,x:-39,y:-19.2,startPosition:1},0).wait(1).to({y:-19.9,startPosition:2},0).wait(1).to({y:-21.2,startPosition:3},0).wait(1).to({y:-23,startPosition:4},0).wait(1).to({y:-25.6,startPosition:5},0).wait(1).to({y:-28.8,startPosition:6},0).wait(1).to({y:-32.6,startPosition:7},0).wait(1).to({y:-36.8,startPosition:8},0).wait(1).to({y:-41,startPosition:9},0).wait(1).to({y:-44.9,startPosition:10},0).wait(1).to({y:-48,startPosition:11},0).wait(1).to({y:-50.2,startPosition:12},0).wait(1).to({y:-51.4,startPosition:13},0).wait(1).to({regX:.8,regY:-23.3,x:-38.2,y:-70.6,startPosition:0},0).wait(34))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-46.5),(-73),15,42.4),(lib.movingline=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f("#8EDC91").s().p("AghAiQgOgOAAgUQAAgTAOgOQAPgOASAAQAUAAAOAOQAOAOAAATQAAAUgOAOQgOAOgUAAQgSAAgPgOg"),this.shape.setTransform(-149.5,0),this.shape_1=new cjs.Shape,this.shape_1.graphics.f().s("#888888").ss(1.6).p("ABZAAQAAAkgaAbQgaAaglAAQgkAAgagaQgagbAAgkQAAgjAagbQAagaAkAAQAlAAAaAaQAaAbAAAjg"),this.shape_1.setTransform(-149.5,0),this.shape_2=new cjs.Shape,this.shape_2.graphics.f("#FFFFFF").s().p("Ag+A/QgagbAAgkQAAgjAagbQAbgaAjAAQAlAAAaAaQAaAbAAAjQAAAkgaAbQgaAaglAAQgjAAgbgag"),this.shape_2.setTransform(-149.5,0),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_2},{t:this.shape_1},{t:this.shape}]}).wait(9));var mask=new cjs.Shape;mask._off=!0,mask.graphics.p("A3WBaQglgBgagaQgagZAAgmIAAAAQAAgkAagaQAagbAlAAMAuuAAAQAlAAAZAbQAaAaAAAkIAAAAQAAAmgaAZQgaAagkABg"),this.instance=new lib.strips("synched",0),this.instance.setTransform(-8.6,-.4,1,1,0,0,0,0,8.3),this.instance.mask=mask,this.timeline.addTween(cjs.Tween.get(this.instance).to({x:4.4},8).wait(1)),this.shape_3=new cjs.Shape,this.shape_3.graphics.f().s("#888888").ss(2).p("AYxABQAAAlgbAZQgZAbglAAMguvAAAQgkAAgbgbQgagZAAglIAAgBQAAglAagZQAagbAlAAMAuvAAAQAlAAAZAbQAbAZAAAlg"),this.shape_4=new cjs.Shape,this.shape_4.graphics.f("#FFFFFF").s().p("A3XBaQgkAAgbgaQgagbAAgkIAAgBQAAglAagaQAagZAlAAMAuvAAAQAlAAAaAZQAaAaAAAlIAAABQAAAkgaAbQgaAaglAAg"),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_4},{t:this.shape_3}]}).wait(9))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-163.6),(-10),323.2,20),(lib.moving_line=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{});var mask=new cjs.Shape;mask._off=!0,mask.graphics.p("A4SBXQAogCAZgbQAWgYABgiQACgggWgYQgYgbgsgDMAwlAAAIAACtg"),mask.setTransform(5.7,-.3),this.instance=new lib.Tween24("synched",0),this.instance.setTransform(6.2,-.3),this.instance.mask=mask,this.timeline.addTween(cjs.Tween.get(this.instance).to({x:-7.3},8).wait(1)),this.shape=new cjs.Shape,this.shape.graphics.f("#8EDC91").s().p("AghAiQgOgOAAgUQAAgTAOgOQAPgOASAAQAUAAAOAOQAOAOAAATQAAAUgOAOQgOAOgUAAQgSAAgPgOg"),this.shape.setTransform(-149.5,0),this.shape_1=new cjs.Shape,this.shape_1.graphics.f().s("#888888").ss(1.6).p("ABZAAQAAAkgaAbQgaAaglAAQgkAAgagaQgagbAAgkQAAgjAagbQAagaAkAAQAlAAAaAaQAaAbAAAjg"),this.shape_1.setTransform(-149.5,0),this.shape_2=new cjs.Shape,this.shape_2.graphics.f().s("#888888").ss(2).p("AYxABQAAAlgbAZQgZAbglAAMguvAAAQgkAAgbgbQgagZAAglIAAgBQAAglAagZQAagbAlAAMAuvAAAQAlAAAZAbQAbAZAAAlg"),this.shape_3=new cjs.Shape,this.shape_3.graphics.f("#FFFFFF").s().p("A3XBaQgkAAgbgaQgagbAAgkIAAgBQAAglAagaQAagZAlAAMAuvAAAQAlAAAaAZQAaAaAAAlIAAABQAAAkgaAbQgaAaglAAg"),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_3},{t:this.shape_2},{t:this.shape_1},{t:this.shape}]}).wait(9))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-163.6),(-10),323.2,20),(lib.moving_linecopy=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.instance=new lib.green_will("synched",0),this.instance.setTransform(61.6,.3),this.timeline.addTween(cjs.Tween.get(this.instance).wait(15));var mask=new cjs.Shape;mask._off=!0,mask.graphics.p("AphBaQglgBgagaQgagZAAgmIAAAAQAAgkAagaQAZgbAmAAITEAAQAlAAAZAbQAaAaAAAkIAAAAQAAAmgaAZQgZAaglABg"),this.instance_1=new lib.Lines_02("synched",0),this.instance_1.setTransform(-11.5,-.1,1,1,0,0,0,72.9,-8.4),this.instance_1.mask=mask,this.timeline.addTween(cjs.Tween.get(this.instance_1).to({x:.1},14).wait(1)),this.shape=new cjs.Shape,this.shape.graphics.f().s("#848484").ss(2).p("AK8ABQAAAlgbAZQgaAbgkAAIzFAAQgkAAgagbQgbgZAAglIAAgBQAAglAbgZQAagbAkAAITFAAQAlAAAZAbQAbAZAAAlg"),this.shape_1=new cjs.Shape,this.shape_1.graphics.f("#FFFFFF").s().p("ApiBZQgkAAgbgZQgagbAAgkIAAgBQAAglAagaQAbgaAkAAITFAAQAlAAAZAaQAbAaAAAlIAAABQAAAkgbAbQgaAZgkAAg"),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_1},{t:this.shape}]}).wait(15))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-75.2),(-10),146.8,20.3),(lib.machine_05_springboard=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.instance=new lib.moving_linecopy("synched",0),this.instance.setTransform(61.8,0,1,1,0,0,0,62.1,.1),this.timeline.addTween(cjs.Tween.get(this.instance).wait(15))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-75.5),(-10.1),146.8,20.3),(lib.machine_02_X=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{check:22,raise:51}),this.instance=new lib.Tween3("synched",0),this.instance.setTransform(0,-23.5),this.timeline.addTween(cjs.Tween.get(this.instance).wait(60)),this.instance_1=new lib.arm("synched",0),this.instance_1.setTransform(-29.5,-40.6,1,1,7.5,0,0,16.4,-17.6),this.timeline.addTween(cjs.Tween.get(this.instance_1).wait(15).to({startPosition:0},0).to({rotation:16.5,x:-30,y:-41.2},4).to({rotation:-14.5,x:-32.1,y:-35.9},7,cjs.Ease.get(1)).wait(1).to({regX:0,regY:0,rotation:-10.6,x:-45.1,y:-15.6},0).wait(1).to({rotation:-6.6,x:-46.4,y:-16.6},0).wait(1).to({rotation:-2.7,x:-47.8,y:-17.6},0).wait(1).to({rotation:1.3,x:-49,y:-18.7},0).wait(1).to({rotation:5.2,x:-50.2,y:-19.9},0).wait(1).to({rotation:9.1,x:-51.3,y:-21.1},0).wait(1).to({rotation:13.1,x:-52.3,y:-22.5},0).wait(1).to({rotation:17,x:-53.2,y:-23.9},0).wait(1).to({rotation:20.9,x:-54,y:-25.3},0).wait(1).to({rotation:24.9,x:-54.7,y:-26.8},0).wait(1).to({rotation:28.8,x:-55.3,y:-28.3},0).wait(1).to({regX:16.1,regY:-17.8,rotation:32.7,x:-32.5,y:-35.8},0).wait(1).to({regX:0,regY:0,rotation:33.1,x:-55.4,y:-30},0).wait(1).to({rotation:34.1,x:-54.9,y:-31.3},0).wait(1).to({rotation:35.3,x:-54.2,y:-32.9},0).wait(1).to({rotation:36.3,x:-53.6,y:-34.3},0).wait(1).to({rotation:37,x:-53.2,y:-35.2},0).wait(1).to({regX:16.3,regY:-17.6,rotation:37.2,x:-29.4,y:-39.8},0).to({startPosition:0},6,cjs.Ease.get(1)).wait(1).to({regX:0,regY:0,rotation:31,x:-52.5,y:-33.3},0).wait(1).to({rotation:25.5,x:-51.7,y:-31.3},0).wait(1).to({rotation:20.7,x:-50.9,y:-29.6},0).wait(1).to({rotation:16.7,x:-50.1,y:-28.2},0).wait(1).to({rotation:13.4,x:-49.4,y:-27.1},0).wait(1).to({rotation:10.8,x:-48.8,y:-26.3},0).wait(1).to({rotation:9,x:-48.3,y:-25.7},0).wait(1).to({rotation:7.9,x:-48,y:-25.4},0).wait(1).to({regX:16.4,regY:-17.6,rotation:7.5,x:-29.5,y:-40.6},0).wait(1)),this.instance_2=new lib.forhand("synched",0),this.instance_2.setTransform(-64.8,-8.7,1,1,4.6,0,0,-16.4,-18.7),this.timeline.addTween(cjs.Tween.get(this.instance_2).wait(15).to({startPosition:0},0).to({rotation:13.3,x:-68.2,y:-12.7},4).to({regX:-16.5,scaleX:1,scaleY:1,rotation:9.8,x:-51.8,y:8.8},7,cjs.Ease.get(1)).wait(1).to({regX:-.6,regY:-.5,rotation:12,x:-42.4,y:27.2},0).wait(1).to({rotation:14.2,x:-45.5,y:24.9},0).wait(1).to({rotation:16.3,x:-48.6,y:22.6},0).wait(1).to({rotation:18.5,x:-51.8,y:20.3},0).wait(1).to({rotation:20.7,x:-54.9,y:18},0).wait(1).to({scaleX:1,scaleY:1,rotation:22.8,x:-58.1,y:15.6},0).wait(1).to({rotation:25,x:-61.3,y:13.2},0).wait(1).to({rotation:27.2,x:-64.5,y:10.8},0).wait(1).to({rotation:29.4,x:-67.7,y:8.2},0).wait(1).to({rotation:31.5,x:-70.9,y:5.8},0).wait(1).to({rotation:33.7,x:-74.1,y:3.2},0).wait(1).to({regX:-16.6,regY:-18.6,rotation:35.9,x:-79.6,y:-23.4},0).wait(1).to({regX:-.6,regY:-.5,rotation:28.1,x:-73.5,y:-.5},0).wait(1).to({rotation:7.5,x:-64.1,y:-5.3},0).wait(1).to({rotation:-18.3,x:-54.9,y:-14.9},0).wait(1).to({rotation:-40.7,x:-50.2,y:-25.3},0).wait(1).to({rotation:-54.9,x:-49.1,y:-32.2},0).wait(1).to({regX:-16.4,regY:-18.8,rotation:-59.5,x:-72.7,y:-29.9},0).to({startPosition:0},6,cjs.Ease.get(1)).wait(1).to({regX:-.6,regY:-.5,rotation:-46.1,x:-46.9,y:-24.1},0).wait(1).to({rotation:-34.2,x:-46.2,y:-15.2},0).wait(1).to({rotation:-23.9,x:-46.4,y:-7.8},0).wait(1).to({rotation:-15.2,x:-47.2,y:-1.8},0).wait(1).to({rotation:-8.1,x:-48.1,y:3},0).wait(1).to({rotation:-2.6,x:-49,y:6.5},0).wait(1).to({rotation:1.4,x:-49.8,y:8.9},0).wait(1).to({rotation:3.8,x:-50.2,y:10.3},0).wait(1).to({regX:-16.4,regY:-18.7,rotation:4.6,x:-64.8,y:-8.7},0).wait(1)),this.instance_3=new lib.glass("synched",0),this.instance_3.setTransform(-40.8,25.8,1,1,-.1,0,0,-26,24.7),this.timeline.addTween(cjs.Tween.get(this.instance_3).wait(15).to({startPosition:0},0).to({x:-50.8},4).to({regY:24.8,scaleX:1,scaleY:1,rotation:29.8,x:-28.8,y:45.9},7,cjs.Ease.get(1)).wait(1).to({regX:.4,regY:-.4,rotation:33,x:3.2,y:37},0).wait(1).to({rotation:36.2,x:-.1,y:36.9},0).wait(1).to({scaleX:1,scaleY:1,rotation:39.5,x:-3.6,y:36.7},0).wait(1).to({rotation:42.7,x:-7.3,y:36.6},0).wait(1).to({rotation:45.9,x:-10.9,y:36.5},0).wait(1).to({rotation:49.1,x:-14.8,y:36.4},0).wait(1).to({rotation:52.3,x:-18.8,y:36.2},0).wait(1).to({rotation:55.5,x:-22.8,y:36.1},0).wait(1).to({rotation:58.7,x:-27,y:35.9},0).wait(1).to({rotation:61.9,x:-31.3,y:35.7},0).wait(1).to({scaleX:1,scaleY:1,rotation:65.1,x:-35.8,y:35.4},0).wait(1).to({regX:-25.7,regY:24.9,rotation:68.3,x:-73.5,y:19.9},0).wait(1).to({regX:.4,regY:-.4,rotation:63,x:-35.6,y:27},0).wait(1).to({rotation:48.8,x:-24.8,y:6.2},0).wait(1).to({rotation:31,x:-14.2,y:-20.1},0).wait(1).to({rotation:15.6,x:-7.8,y:-42.5},0).wait(1).to({rotation:5.8,x:-5,y:-56},0).wait(1).to({regX:-25.9,regY:24.6,rotation:2.6,x:-31.3,y:-36.3},0).to({rotation:8.1,x:-31.4,y:-36.2},6,cjs.Ease.get(1)).wait(1).to({regX:.4,regY:-.4,rotation:6.4,x:-4.4,y:-45},0).wait(1).to({rotation:4.9,x:-6.8,y:-34.3},0).wait(1).to({rotation:3.5,x:-8.8,y:-25},0).wait(1).to({rotation:2.4,x:-10.6,y:-17.1},0).wait(1).to({rotation:1.5,x:-12,y:-10.7},0).wait(1).to({rotation:.8,x:-13.1,y:-5.6},0).wait(1).to({rotation:.3,x:-13.9,y:-2},0).wait(1).to({rotation:0,x:-14.3,y:.1},0).wait(1).to({regX:-26,regY:24.7,rotation:-.1,x:-40.8,y:25.8},0).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-128),(-131.2),256,168.6),(lib.machine_02=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{check:22,raise:51}),this.instance=new lib.Tween3("synched",0),this.instance.setTransform(0,-23.5),this.timeline.addTween(cjs.Tween.get(this.instance).wait(60)),this.instance_1=new lib.arm("synched",0),this.instance_1.setTransform(-29.5,-40.6,1,1,7.5,0,0,16.4,-17.6),this.timeline.addTween(cjs.Tween.get(this.instance_1).wait(19).to({startPosition:0},0).to({regX:16.3,rotation:15,x:-29.4,y:-40.7},3,cjs.Ease.get(1)).to({regY:-17.9,rotation:-49.1,x:-28.8,y:-34.9},13,cjs.Ease.get(1)).wait(1).to({regX:0,regY:0,rotation:-48.3,x:-26.2,y:-11},0).wait(1).to({rotation:-46,x:-27.3,y:-11.3},0).wait(1).to({rotation:-42.3,x:-28.9,y:-11.8},0).wait(1).to({rotation:-37.6,x:-30.9,y:-12.6},0).wait(1).to({rotation:-32.4,x:-33.2,y:-13.6},0).wait(1).to({rotation:-27.2,x:-35.4,y:-14.9},0).wait(1).to({rotation:-22.3,x:-37.4,y:-16.2},0).wait(1).to({rotation:-18.1,x:-39.1,y:-17.5},0).wait(1).to({rotation:-14.7,x:-40.5,y:-18.6},0).wait(1).to({rotation:-12.3,x:-41.4,y:-19.5},0).wait(1).to({rotation:-10.9,x:-41.9,y:-20},0).wait(1).to({regX:16.4,regY:-17.6,rotation:-10.5,x:-29.3,y:-40.7},0).wait(1).to({regX:0,regY:0,rotation:-10.2,x:-42.4,y:-20.5},0).wait(1).to({rotation:-9.3,x:-42.7,y:-20.7},0).wait(1).to({rotation:-7.9,x:-43.1,y:-21},0).wait(1).to({rotation:-6.2,x:-43.8,y:-21.5},0).wait(1).to({rotation:-4.1,x:-44.4,y:-22},0).wait(1).to({rotation:-1.8,x:-45.2,y:-22.6},0).wait(1).to({rotation:.5,x:-45.9,y:-23.2},0).wait(1).to({rotation:2.7,x:-46.6,y:-23.8},0).wait(1).to({rotation:4.6,x:-47.1,y:-24.4},0).wait(1).to({rotation:6.1,x:-47.6,y:-24.9},0).wait(1).to({rotation:7.1,x:-47.9,y:-25.2},0).wait(1).to({regX:16.4,regY:-17.6,rotation:7.5,x:-29.5,y:-40.6},0).wait(1)),this.instance_2=new lib.forhand("synched",0),this.instance_2.setTransform(-64.8,-8.7,1,1,4.6,0,0,-16.4,-18.7),this.timeline.addTween(cjs.Tween.get(this.instance_2).wait(19).to({startPosition:0},0).to({regY:-18.8,rotation:30.3,x:-67.9,y:-14.3},3,cjs.Ease.get(1)).to({regX:-16.5,regY:-18.6,rotation:27.3,x:-21.9,y:17.8},13,cjs.Ease.get(1)).wait(1).to({regX:-.6,regY:-.5,rotation:27.8,x:-16.9,y:40.8},0).wait(1).to({rotation:29,x:-19.3,y:39.8},0).wait(1).to({rotation:30.9,x:-23.1,y:38.1},0).wait(1).to({rotation:33.3,x:-28,y:36},0).wait(1).to({rotation:36,x:-33.3,y:33.6},0).wait(1).to({rotation:38.8,x:-38.8,y:31},0).wait(1).to({rotation:41.3,x:-43.9,y:28.6},0).wait(1).to({rotation:43.5,x:-48.3,y:26.6},0).wait(1).to({rotation:45.3,x:-51.7,y:24.9},0).wait(1).to({rotation:46.5,x:-54.2,y:23.6},0).wait(1).to({rotation:47.2,x:-55.7,y:22.9},0).wait(1).to({regX:-16.4,regY:-18.6,rotation:47.5,x:-53.6,y:-1.2},0).wait(1).to({regX:-.6,regY:-.5,rotation:46.8,x:-56.1,y:22.5},0).wait(1).to({rotation:44.7,x:-55.8,y:22.3},0).wait(1).to({rotation:41.5,x:-55.3,y:21.7},0).wait(1).to({rotation:37.2,x:-54.6,y:20.9},0).wait(1).to({rotation:32.3,x:-53.9,y:19.9},0).wait(1).to({rotation:26.9,x:-53,y:18.5},0).wait(1).to({rotation:21.4,x:-52.2,y:16.8},0).wait(1).to({rotation:16.2,x:-51.6,y:15.1},0).wait(1).to({rotation:11.5,x:-51.1,y:13.4},0).wait(1).to({rotation:7.8,x:-50.7,y:11.9},0).wait(1).to({rotation:5.4,x:-50.5,y:10.9},0).wait(1).to({regX:-16.4,regY:-18.7,rotation:4.6,x:-64.8,y:-8.7},0).wait(1)),this.instance_3=new lib.glass("synched",0),this.instance_3.setTransform(-40.8,25.8,1,1,-.1,0,0,-26,24.7),this.timeline.addTween(cjs.Tween.get(this.instance_3).wait(19).to({startPosition:0},0).to({regX:-25.9,regY:24.6,x:-61.2,y:27.1},3,cjs.Ease.get(1)).to({regX:-25.7,regY:24.7,rotation:18.4,x:-12.7,y:59.1},13,cjs.Ease.get(1)).wait(1).to({regX:.4,regY:-.4,rotation:19.2,x:19.2,y:43.5},0).wait(1).to({rotation:21.5,x:16.9,y:43.8},0).wait(1).to({rotation:25.1,x:13.3,y:44.1},0).wait(1).to({rotation:29.7,x:8.5,y:44.7},0).wait(1).to({rotation:34.9,x:2.9,y:45.4},0).wait(1).to({rotation:40,x:-3.1,y:46.1},0).wait(1).to({rotation:44.8,x:-8.9,y:46.8},0).wait(1).to({rotation:49,x:-14.2,y:47.5},0).wait(1).to({rotation:52.3,x:-18.5,y:47.9},0).wait(1).to({rotation:54.7,x:-21.6,y:48.3},0).wait(1).to({rotation:56.1,x:-23.5,y:48.5},0).wait(1).to({regX:-26,regY:24.8,rotation:56.5,x:-59.5,y:40.6},0).wait(1).to({regX:.4,regY:-.4,rotation:55.6,x:-23.4,y:47.9},0).wait(1).to({rotation:52.8,x:-22.2,y:45.4},0).wait(1).to({rotation:48.6,x:-20.5,y:41.6},0).wait(1).to({rotation:43,x:-18.5,y:36.5},0).wait(1).to({rotation:36.4,x:-16.6,y:30.6},0).wait(1).to({rotation:29.3,x:-15.1,y:24.2},0).wait(1).to({rotation:22.1,x:-14.2,y:17.9},0).wait(1).to({rotation:15.2,x:-13.7,y:12},0).wait(1).to({rotation:9.1,x:-13.8,y:7},0).wait(1).to({rotation:4.2,x:-14,y:3.3},0).wait(1).to({rotation:1,x:-14.3,y:.9},0).wait(1).to({regX:-26,regY:24.7,rotation:-.1,x:-40.8,y:25.3},0).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-128),(-131.2),256,168.6),(lib.lines=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.instance=new lib.Lines_02("synched",0),this.instance.setTransform(-12.7,.1,1,1,0,0,0,72.9,-8.4),this.timeline.addTween(cjs.Tween.get(this.instance).to({x:-.1},13).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-86.8),(-9.5),148.1,19.2),(lib.Lights_static=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.instance=new lib.LightBulb("synched",9),this.instance.setTransform(3.7,-3.4,1,1,0,0,0,3.4,-3.4),this.timeline.addTween(cjs.Tween.get(this.instance).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle(.3,(-6.8),6.8,6.8),(lib.Lights=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.instance=new lib.LightBulb("synched",9),this.instance.setTransform(3.7,-3.4,1,1,0,0,0,3.4,-3.4),this.timeline.addTween(cjs.Tween.get(this.instance).wait(10).to({x:15.7,startPosition:18},0).wait(10).to({x:27.7,startPosition:9},0).wait(10))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle(.3,(-6.8),6.8,6.8),(lib.hop=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.instance=new lib.Symbol23("synched",0),this.instance.setTransform(-.2,-17.8,1,1,0,0,0,-3.6,-.1),this.timeline.addTween(cjs.Tween.get(this.instance).wait(1)),this.shape=new cjs.Shape,this.shape.graphics.f().s("#888888").ss(2,1).p("AE0hKIpnCV"),this.shape.setTransform(0,9.2),this.shape_1=new cjs.Shape,this.shape_1.graphics.f().s("#888888").ss(2,1).p("AkzhKIJnCV"),this.shape_1.setTransform(0,9.2),
this.shape_2=new cjs.Shape,this.shape_2.graphics.f().s("#888888").ss(2,1).p("AE0hKIpnCV"),this.shape_2.setTransform(0,-6),this.shape_3=new cjs.Shape,this.shape_3.graphics.f().s("#888888").ss(2,1).p("AkzhKIJnCV"),this.shape_3.setTransform(0,-6),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_3},{t:this.shape_2},{t:this.shape_1},{t:this.shape}]}).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-71.8),(-23.5),143.3,41.4),(lib.computer=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.instance=new lib.Symbol14("synched",0),this.instance.setTransform(-40.1,6.4),this.instance_1=new lib.Symbol13("synched",0),this.instance_1.setTransform(10,14.2),this.shape=new cjs.Shape,this.shape.graphics.f().s("#C5C5C5").ss(1.5,1,1).p("AFNAfIqZAAQgNAAgKgJQgJgJAAgNQAAgLAJgKQAJgJAOAAIKZAAQANAAAKAJQAJAKAAALQAAANgJAJQgKAJgNAAg"),this.shape.setTransform(-20.7,57.1),this.shape_1=new cjs.Shape,this.shape_1.graphics.f("#FFFFFF").s().p("AlNAfQgMAAgJgJQgJgJAAgNQAAgLAJgKQAIgJANAAIKaAAQANAAAKAJQAIAKABALQgBANgIAJQgKAJgNAAg"),this.shape_1.setTransform(-20.7,57.1),this.shape_2=new cjs.Shape,this.shape_2.graphics.f().s("#C5C5C5").ss(1.5,1,1).p("AFNAfIqZAAQgOAAgJgJQgJgKAAgMQAAgLAJgKQAKgJANAAIKZAAQANAAAKAJQAJAKAAALQAAAMgJAKQgKAJgNAAg"),this.shape_2.setTransform(-20.7,50.7),this.shape_3=new cjs.Shape,this.shape_3.graphics.f("#FFFFFF").s().p("AlNAfQgNAAgIgJQgJgKAAgMQAAgLAJgKQAJgJAMAAIKaAAQANAAAKAJQAIAKABALQgBAMgIAKQgKAJgNAAg"),this.shape_3.setTransform(-20.7,50.7),this.shape_4=new cjs.Shape,this.shape_4.graphics.f().s("#C5C5C5").ss(1.5,1,1).p("AG6kVIABIpQAAAMgHAHQgIAIgKAAItBACQgLAAgHgIQgIgIAAgLIgBopQAAgMAIgHQAHgIAKAAINBgCQALAAAHAIQAHAIABALg"),this.shape_4.setTransform(-18.3,10.2),this.shape_5=new cjs.Shape,this.shape_5.graphics.f("#FFFFFF").s().p("AmxEpQgIgIAAgLIgBopQAAgMAIgHQAHgIAKAAINBgCQALAAAHAIQAHAIABALIABIpQAAALgHAIQgIAIgKAAItBACQgLAAgHgIg"),this.shape_5.setTransform(-18.3,10.2),this.shape_6=new cjs.Shape,this.shape_6.graphics.f().s("#C5C5C5").ss(1.5,1,1).p("AG6kVIABIpQAAAMgHAHQgIAIgKAAItBACQgLAAgHgIQgIgIAAgLIgBopQAAgMAIgHQAHgIAKAAINBgCQALAAAHAIQAHAIABALg"),this.shape_6.setTransform(-18.3,10.2),this.shape_7=new cjs.Shape,this.shape_7.graphics.f("#FFFFFF").s().p("AmxEpQgIgIAAgLIgBopQAAgMAIgHQAHgIAKAAINBgCQALAAAHAIQAHAIABALIABIpQAAALgHAIQgIAIgKAAItBACQgLAAgHgIg"),this.shape_7.setTransform(-18.3,10.2),this.shape_8=new cjs.Shape,this.shape_8.graphics.f().s("#C5C5C5").ss(1.8).p("AH5lSIACKjQAAAOgJAJQgIAKgMAAIu5ACQgMAAgIgJQgJgKAAgOIgCqiQAAgOAJgKQAIgJAMgBIO5gCQAMAAAIAKQAJAJAAAOg"),this.shape_8.setTransform(-18.3,10.2),this.shape_9=new cjs.Shape,this.shape_9.graphics.f("#FFFFFF").s().p("AnvFrQgJgLAAgNIgCqjQAAgNAJgKQAIgKAMAAIO5gCQAMAAAIAKQAJAJAAAOIACKiQAAAOgJAKQgIAKgMAAIu5ACQgMAAgIgJg"),this.shape_9.setTransform(-18.3,10.2),this.shape_10=new cjs.Shape,this.shape_10.graphics.f().s("#C5C5C5").ss(1.8).p("AH5lSIACKjQAAAOgJAJQgIAKgMAAIu5ACQgMAAgIgJQgJgKAAgOIgCqiQAAgOAJgKQAIgJAMgBIO5gCQAMAAAIAKQAJAJAAAOg"),this.shape_10.setTransform(-18.3,10.2),this.shape_11=new cjs.Shape,this.shape_11.graphics.f("#FFFFFF").s().p("AnvFrQgJgLAAgNIgCqjQAAgNAJgKQAIgKAMAAIO5gCQAMAAAIAKQAJAJAAAOIACKiQAAAOgJAKQgIAKgMAAIu5ACQgMAAgIgJg"),this.shape_11.setTransform(-18.3,10.2),this.shape_12=new cjs.Shape,this.shape_12.graphics.f().s("#C5C5C5").ss(2).p("AAIBMIgPAAQgNAAgKgJQgJgKAAgNIAAhXQAAgNAJgKQAKgJANAAIAPAAQANAAAKAJQAJAKAAANIAABXQAAANgJAKQgKAJgNAAg"),this.shape_12.setTransform(34.9,14.9),this.shape_13=new cjs.Shape,this.shape_13.graphics.f("#FFFFFF").s().p("AgHBMQgNAAgKgJQgJgKAAgNIAAhXQAAgNAJgKQAKgJANAAIAPAAQANAAAKAJQAJAKAAANIAABXQAAANgJAKQgKAJgNAAg"),this.shape_13.setTransform(34.9,14.9),this.shape_14=new cjs.Shape,this.shape_14.graphics.f().s("#C5C5C5").ss(2).p("AhLAIIAAgPQAAgNAJgKQAKgJANAAIBXAAQANAAAKAJQAJAKAAANIAAAPQAAANgJAKQgKAJgNAAIhXAAQgNAAgKgJQgJgKAAgNg"),this.shape_14.setTransform(61.3,57.5),this.shape_15=new cjs.Shape,this.shape_15.graphics.f("#FFFFFF").s().p("AgrAoQgNAAgKgJQgJgKAAgNIAAgPQAAgNAJgKQAKgJANAAIBXAAQANAAAKAJQAJAKAAANIAAAPQAAANgJAKQgKAJgNAAg"),this.shape_15.setTransform(61.3,57.5),this.shape_16=new cjs.Shape,this.shape_16.graphics.f().s("#C5C5C5").ss(2).p("ADDDrIhGAAIAAmZIk/AAIAAg8IFqAAQAOAAAGAFQAHAEAAAMg"),this.shape_16.setTransform(44.9,36.3),this.shape_17=new cjs.Shape,this.shape_17.graphics.f("#FFFFFF").s().p("AB9DqIAAmXIk/AAIAAg9IFqAAQAOABAGADQAHAFgBAMIAAG/g"),this.shape_17.setTransform(44.9,36.3),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_17},{t:this.shape_16},{t:this.shape_15},{t:this.shape_14},{t:this.shape_13},{t:this.shape_12},{t:this.shape_11},{t:this.shape_10},{t:this.shape_9},{t:this.shape_8},{t:this.shape_7},{t:this.shape_6},{t:this.shape_5},{t:this.shape_4},{t:this.shape_3},{t:this.shape_2},{t:this.shape_1},{t:this.shape},{t:this.instance_1},{t:this.instance}]}).wait(30));var mask=new cjs.Shape;mask._off=!0,mask.graphics.p("AkOAiIAAkGQAAgbAUgVQAUgUAdAAIHYAAQgbABgTATQgUAVAAAbIAAEGg"),mask.setTransform(-21,-29.7),this.instance_2=new lib.Symbol15("synched",0),this.instance_2.setTransform(-24.9,-28.9),this.instance_2.mask=mask,this.timeline.addTween(cjs.Tween.get(this.instance_2).to({y:-52.4},29).wait(1)),this.instance_3=new lib.Symbol16("synched",0),this.instance_3.setTransform(-19.1,-42.9,1,1,0,0,0,-.5,-.4),this.timeline.addTween(cjs.Tween.get(this.instance_3).wait(30)),this.shape_18=new cjs.Shape,this.shape_18.graphics.f().s("#C5C5C5").ss(2).p("Ah0AKIAAgKIDzAA"),this.shape_18.setTransform(-6.5,-59.5),this.shape_19=new cjs.Shape,this.shape_19.graphics.f("#C5C5C5").s().p("Ah5CoIAAlPIDzAAIAAFPg"),this.shape_19.setTransform(-5.1,-42.4),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_19},{t:this.shape_18}]}).wait(30))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-74.9),(-60.5),144.9,123.1),(lib.clockneedle=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.instance=new lib.Symbol11("synched",0),this.instance.setTransform(0,3.8,1,1,0,0,0,0,3.8),this.timeline.addTween(cjs.Tween.get(this.instance).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-.8),(-3.7),1.6,7.5),(lib.clockmachine=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.instance=new lib.clockneedle("synched",0),this.instance.setTransform(-.4,3.5,1,1,0,0,0,0,3.8),this.instance.filters=[new cjs.ColorFilter(0,0,0,1,197,197,197,0)],this.instance.cache(-3,-6,6,12),this.timeline.addTween(cjs.Tween.get(this.instance).wait(1).to({regY:0,rotation:.2,y:-.3},0).wait(1).to({rotation:.8},0).wait(1).to({rotation:1.6,x:-.3},0).wait(1).to({rotation:2.5},0).wait(1).to({rotation:3.5,x:-.2},0).wait(1).to({rotation:4.3},0).wait(1).to({rotation:5,x:-.1},0).wait(1).to({rotation:5.3},0).wait(1).to({regY:3.7,rotation:5.5,x:-.4,y:3.5},0).wait(1).to({regY:0,rotation:4.1,x:-.2,y:-.3},0).wait(1).to({rotation:.3,x:-.4},0).wait(1).to({rotation:-5.1,x:-.8},0).wait(1).to({rotation:-11.1,x:-1.2,y:-.2},0).wait(1).to({rotation:-16.6,x:-1.5},0).wait(1).to({rotation:-21,x:-1.8,y:-.1},0).wait(1).to({rotation:-23.6,x:-1.9,y:0},0).wait(1).to({regX:.1,regY:3.6,rotation:-24.5,x:-.4,y:3.3},0).wait(1).to({regX:0,regY:0,rotation:-23.7,x:-2,y:0},0).wait(1).to({rotation:-21.2,x:-1.8},0).wait(1).to({rotation:-17.2,x:-1.6,y:-.1},0).wait(1).to({rotation:-12,x:-1.3,y:-.2},0).wait(1).to({rotation:-5.8,x:-.9,y:-.3},0).wait(1).to({rotation:.9,x:-.4},0).wait(1).to({rotation:7.9,x:0},0).wait(1).to({rotation:14.7,x:.4,y:-.2},0).wait(1).to({rotation:21.1,x:.8,y:-.1},0).wait(1).to({rotation:26.8,x:1.1,y:0},0).wait(1).to({rotation:31.6,x:1.4,y:.2},0).wait(1).to({rotation:35.5,x:1.6,y:.3},0).wait(1).to({rotation:38.2,x:1.7,y:.4},0).wait(1).to({rotation:39.9,x:1.8,y:.5},0).wait(1).to({regY:3.6,rotation:40.4,x:-.5,y:3.3},0).wait(1).to({regY:0,rotation:38.5,x:1.8,y:.4},0).wait(1).to({rotation:35.1,x:1.6,y:.3},0).wait(1).to({regX:-.1,regY:3.5,rotation:33.7,x:-.5,y:3.2},0).wait(1).to({regX:0,regY:0,rotation:34.6,x:1.5,y:.3},0).wait(1).to({rotation:36.7,x:1.6,y:.4},0).wait(1).to({rotation:39.5,x:1.7,y:.5},0).wait(1).to({rotation:42,x:1.8,y:.6},0).wait(1).to({rotation:43.6,x:1.9,y:.7},0).wait(1).to({regX:-.1,regY:3.6,rotation:44.2,x:-.5,y:3.3},0).wait(1).to({regX:0,regY:0,rotation:42,x:1.9,y:.6},0).wait(1).to({rotation:38.3,x:1.7,y:.5},0).wait(1).to({regX:-.1,regY:3.6,rotation:36.7,x:-.6,y:3.3},0).wait(1).to({regX:0,regY:0,rotation:37,x:1.7,y:.4},0).wait(1).to({rotation:37.8},0).wait(1).to({rotation:39,y:.5},0).wait(1).to({rotation:40.1,x:1.8},0).wait(1).to({rotation:41.1},0).wait(1).to({rotation:41.7,x:1.9,y:.6},0).wait(1).to({regX:-.2,regY:3.6,rotation:41.9,x:-.6,y:3.2},0).wait(1).to({regX:0,regY:0,rotation:37.8,x:1.7,y:.4},0).wait(1).to({regX:-.3,regY:3.6,rotation:34.4,x:-.7,y:3.1},0).wait(1).to({regX:0,regY:0,rotation:32.9,x:1.5,y:.2},0).wait(1).to({rotation:28.4,x:1.3,y:.1},0).wait(1).to({rotation:21.9,x:1,y:0},0).wait(1).to({rotation:14.2,x:.6,y:-.1},0).wait(1).to({rotation:6.6,x:.2,y:-.2},0).wait(1).to({regY:3.8,rotation:0,x:-.4,y:3.5},0).wait(1)),this.instance_1=new lib.ClipGroup_6,this.instance_1.setTransform(0,2.4,1,1,0,0,0,6.3,8.7),this.shape=new cjs.Shape,this.shape.graphics.f().s("#C5C5C5").ss(1,0,1).p("AB0AAQAAAwgiAiQgiAigwAAQgvAAgigiQgigiAAgwQAAgvAigiQAigiAvAAQAwAAAiAiQAiAiAAAvg"),this.shape_1=new cjs.Shape,this.shape_1.graphics.f("#FFFFFF").s().p("AhRBSQgigiAAgwQAAgvAigiQAigiAvAAQAwAAAiAiQAiAiAAAvQAAAwgiAiQgiAigwAAQgvAAgigig"),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_1},{t:this.shape},{t:this.instance_1}]}).wait(60))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-12.6),(-12.6),25.3,25.3),(lib.clock=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.instance=new lib.needle1("synched",0),this.instance.setTransform(-.2,.5,1,1,0,0,0,0,2.3),this.timeline.addTween(cjs.Tween.get(this.instance).to({rotation:716},59).wait(1)),this.instance_1=new lib.needle_2("synched",0),this.instance_1.setTransform(-.3,.4,1,1,0,0,0,-1,-.8),this.timeline.addTween(cjs.Tween.get(this.instance_1).wait(60)),this.shape=new cjs.Shape,this.shape.graphics.f().s("#C5C5C5").ss(1.3,1).p("ABEAAQAAAcgUAUQgUATgcAAQgbAAgUgTQgUgUAAgcQAAgaAUgUQAUgUAbAAQAcAAAUAUQAUAUAAAag"),this.timeline.addTween(cjs.Tween.get(this.shape).wait(60))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-9.8),(-7.8),17.6,15.6),(lib.BoxOutline_flicker=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.instance=new lib.outlinebox("synched",0),this.instance.setTransform(22.7,-22.6),this.timeline.addTween(cjs.Tween.get(this.instance).to({_off:!0},2).wait(2).to({_off:!1},0).to({_off:!0},25).wait(3).to({_off:!1},0).to({_off:!0},3).wait(25))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-1),(-46.3),47.3,47.4),(lib.Tween16=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.instance=new lib.clock("synched",0),this.instance.setTransform(15,-95.9,1.749,1.749,0,0,0,-1.2,-.1),this.instance_1=new lib.clock("synched",0),this.instance_1.setTransform(-16.4,-95.8,1.749,1.749,-96.1),this.timeline.addTween(cjs.Tween.get({}).to({state:[]}).to({state:[{t:this.instance_1},{t:this.instance}]},2).to({state:[]},60).wait(28)),this.shape=new cjs.Shape,this.shape.graphics.f().s("#C5C5C5").ss(2,1,1).p("AizjgIFnAAQAEAAAAAFIABG4QAAAEgFAAIlnAAQgEAAAAgEIgBm4QAAgFAFAAg"),this.shape.setTransform(-1,58.9),this.shape_1=new cjs.Shape,this.shape_1.graphics.f("#FFFFFF").s().p("AizDgQgEAAAAgDIgBm4QAAgFAFAAIFnAAQAEAAAAAFIABG4QAAADgFAAg"),this.shape_1.setTransform(-1,58.9),this.shape_2=new cjs.Shape,this.shape_2.graphics.f().s("#848484").ss(2.4).p("AGVAAQAAAQgMAMQgMAMgQAAIrZAAQgRAAgLgMQgMgMAAgQQAAgQAMgLQALgMARAAILZAAQAQAAAMAMQAMALAAAQg"),this.shape_2.setTransform(0,-72.5),this.shape_3=new cjs.Shape,this.shape_3.graphics.f("#DFDFDF").s().p("AlsAnQgQAAgMgLQgLgMgBgQQABgPALgMQAMgMAQAAILZAAQAQAAAMAMQAMAMAAAPQAAAQgMAMQgMALgQAAg"),this.shape_3.setTransform(0,-72.5),this.shape_4=new cjs.Shape,this.shape_4.graphics.f().s("#848484").ss(2.4).p("AAjPFIhFAAIAA+JIBFAAg"),this.shape_4.setTransform(.1,15.8,.999,.852),this.shape_5=new cjs.Shape,this.shape_5.graphics.f("#DFDFDF").s().p("AgiPFIAA+JIBFAAIAAeJg"),this.shape_5.setTransform(.1,15.8,.999,.852),this.timeline.addTween(cjs.Tween.get({}).to({state:[]}).to({state:[{t:this.shape_5},{t:this.shape_4},{t:this.shape_3},{t:this.shape_2},{t:this.shape_1},{t:this.shape}]},2).to({state:[]},60).wait(28)),this.shape_6=new cjs.Shape,this.shape_6.graphics.f().s("#CCCCCC").ss(2).p("AllDeIAAmDQAAguAuAAIJvAAQAuAAAAAuIAAGD"),this.shape_6.setTransform(.3,-94.4),this.shape_7=new cjs.Shape,this.shape_7.graphics.f("#FFFFFF").s().p("AllDZIAAmDQAAguAuAAIJvAAQAuAAAAAuIAAGDg"),this.shape_7.setTransform(.3,-93.9),this.timeline.addTween(cjs.Tween.get({}).to({state:[]}).to({state:[{t:this.shape_7},{t:this.shape_6}]},2).to({state:[]},60).wait(28))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-52),(-116.6),104,215.8),(lib.Tween15=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.instance=new lib.Symbol35("synched",0),this.instance.setTransform(.5,0,1,1,0,0,0,.5,0),this.timeline.addTween(cjs.Tween.get(this.instance).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-13.1),(-12.5),27.4,25.1),(lib.Tween14=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.instance=new lib.Symbol35("synched",0),this.instance.setTransform(.5,0,1,1,0,0,0,.5,0),this.timeline.addTween(cjs.Tween.get(this.instance).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-13.1),(-12.5),27.4,25.1),(lib.Symbol31copy2=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.instance=new lib.Symbol33("synched",0),this.instance.setTransform(36.1,90,.206,1,0,0,0,14.8,0),this.instance._off=!0,this.timeline.addTween(cjs.Tween.get(this.instance).wait(2).to({_off:!1},0).to({regX:15.1},51,cjs.Ease.get(-1)).to({regX:15.4,scaleX:.04,x:40.6},2).to({regX:14.8,scaleX:1,x:-45.6},3,cjs.Ease.get(-1)).wait(1).to({scaleX:.95,scaleY:1.06,x:-45.5},0).wait(1)),this.shape=new cjs.Shape,this.shape.graphics.f("#C5C5C5").s().p("AgZDzQgEAAgIgqQgMhCAAh4QAAiNAOhJIANgrIBIAAQgNHlgBAAg"),this.shape.setTransform(29.3,90.2),this.shape._off=!0,this.shape_1=new cjs.Shape,this.shape_1.graphics.f("#C5C5C5").s().p("AgXD2QgXj0AXj4IA2AAIAABmIAEAGIgEDkIAACcg"),this.shape_1.setTransform(32.8,90.5),this.shape_2=new cjs.Shape,this.shape_2.graphics.f("#C5C5C5").s().p("AgbDzQgDAAAAgKQgBgTgDgNQgMhDABh3QAAiNANhJQAFgSACgOQABgLgBAAIBIAAQgNHlgBAAg"),this.shape_2.setTransform(36.3,90.2),this.shape_3=new cjs.Shape,this.shape_3.graphics.f("#C5C5C5").s().p("AALDzIgkgCQgCAAgBgKIgFgYIgCgHQgRhDAAh2IAAgBQAAiFAShIIADgJIAJgfIACgKIgBAAIBJgBIABAMIgMHDQgDAWgCAAg"),this.shape_3.setTransform(24.6,90.2),this.shape_4=new cjs.Shape,this.shape_4.graphics.f("#C5C5C5").s().p("AASDzQgSgCgRgGQgEgCgDgHIgLgWIgDgHQgihEAAh1IAAAAQgBiIAmhHIAFgIIASgcIAEgIIAAAAIATgDIA4AAIAGAHIgMHQQgJAOgIAAg"),this.shape_4.setTransform(-10.2,90.2),this.shape_5=new cjs.Shape,this.shape_5.graphics.f("#C5C5C5").s().p("AAgDzQgigLgjgiQhGhGAAh4QAAiNBIhFQAXgWAYgLIAWgHIBJAAQgMHlgBAAg"),this.shape_5.setTransform(-68.4,90.2),this.timeline.addTween(cjs.Tween.get({}).to({state:[]}).to({state:[{t:this.shape}]},2).to({state:[{t:this.shape}]},1).to({state:[{t:this.shape}]},1).to({state:[{t:this.shape}]},1).to({state:[{t:this.shape}]},1).to({state:[{t:this.shape}]},1).to({state:[{t:this.shape}]},1).to({state:[{t:this.shape}]},1).to({state:[{t:this.shape}]},1).to({state:[{t:this.shape}]},1).to({state:[{t:this.shape}]},1).to({state:[{t:this.shape}]},1).to({state:[{t:this.shape}]},1).to({state:[{t:this.shape}]},1).to({state:[{t:this.shape}]},1).to({state:[{t:this.shape}]},1).to({state:[{t:this.shape}]},1).to({state:[{t:this.shape}]},1).to({state:[{t:this.shape}]},1).to({state:[{t:this.shape}]},1).to({state:[{t:this.shape}]},1).to({state:[{t:this.shape}]},1).to({state:[{t:this.shape}]},1).to({state:[{t:this.shape}]},1).to({state:[{t:this.shape}]},1).to({state:[{t:this.shape}]},1).to({state:[{t:this.shape}]},1).to({state:[{t:this.shape}]},1).to({state:[{t:this.shape}]},1).to({state:[{t:this.shape}]},1).to({state:[{t:this.shape}]},1).to({state:[{t:this.shape}]},1).to({state:[{t:this.shape}]},1).to({state:[{t:this.shape}]},1).to({state:[{t:this.shape}]},1).to({state:[{t:this.shape}]},1).to({state:[{t:this.shape}]},1).to({state:[{t:this.shape}]},1).to({state:[{t:this.shape}]},1).to({state:[{t:this.shape}]},1).to({state:[{t:this.shape}]},1).to({state:[{t:this.shape}]},1).to({state:[{t:this.shape}]},1).to({state:[{t:this.shape}]},1).to({state:[{t:this.shape}]},1).to({state:[{t:this.shape}]},1).to({state:[{t:this.shape}]},1).to({state:[{t:this.shape}]},1).to({state:[{t:this.shape}]},1).to({state:[{t:this.shape}]},1).to({state:[{t:this.shape}]},1).to({state:[{t:this.shape}]},1).to({state:[{t:this.shape_1}]},1).to({state:[{t:this.shape_2}]},1).to({state:[{t:this.shape_3}]},1).to({state:[{t:this.shape_4}]},1).to({state:[{t:this.shape_5}]},1).to({state:[]},1).wait(1)),this.timeline.addTween(cjs.Tween.get(this.shape).wait(2).to({_off:!1},0).wait(51).to({_off:!0},1).wait(6)),this.instance_1=new lib.HandleChupchik("synched",0),this.instance_1.setTransform(37.4,88.6,1.846,1,0,0,0,0,7.3),this.instance_1._off=!0,this.timeline.addTween(cjs.Tween.get(this.instance_1).wait(2).to({_off:!1},0).to({regX:.1,x:37.6},51,cjs.Ease.get(-1)).to({regX:0,x:37.4},2).to({scaleX:1,x:6},3,cjs.Ease.get(-1)).wait(1).to({x:5.7},0).wait(1)),this.instance_2=new lib.Symbol34("synched",0),this.instance_2.setTransform(37.3,88.6,.06,1,0,0,0,34.4,.5),this.instance_2._off=!0,this.timeline.addTween(cjs.Tween.get(this.instance_2).wait(2).to({_off:!1},0).to({regX:35.3,y:88.5},51,cjs.Ease.get(-1)).to({regX:34.4,y:88.6},2).to({regX:34.6,regY:.4,scaleX:1,x:27.4,y:88.5},3,cjs.Ease.get(-1)).wait(1).to({regX:34.5,scaleX:1.02,x:27.3},0).wait(1)),this.instance_3=new lib.Tween15("synched",0),this.instance_3.setTransform(36,88.5),this.instance_3._off=!0,this.instance_4=new lib.Tween14("synched",0),this.instance_4.setTransform(36,88.5),this.timeline.addTween(cjs.Tween.get({}).to({state:[]}).to({state:[{t:this.instance_3}]},2).to({state:[{t:this.instance_3}]},51).to({state:[{t:this.instance_3}]},2).to({state:[{t:this.instance_4}]},3).to({state:[{t:this.instance_4}]},1).wait(1)),this.timeline.addTween(cjs.Tween.get(this.instance_3).wait(2).to({_off:!1},0).to({startPosition:0},51,cjs.Ease.get(-1)).to({startPosition:0},2).to({_off:!0},3,cjs.Ease.get(-1)).wait(2)),this.instance_5=new lib.Tween16("synched",2),this.instance_5.setTransform(39.2,29.5),this.instance_5._off=!0,this.timeline.addTween(cjs.Tween.get(this.instance_5).wait(2).to({_off:!1},0).wait(58))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-2.5),(-87.1),90.4,215.8),(lib.Symbol31copy=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.instance=new lib.Symbol33("synched",0),this.instance.setTransform(-45.6,90,1,1,0,0,0,14.8,0),this.instance._off=!0,this.timeline.addTween(cjs.Tween.get(this.instance).wait(2).to({_off:!1},0).to({scaleX:.21,x:36.1},8,cjs.Ease.get(1)).wait(50)),this.shape=new cjs.Shape,this.shape.graphics.f("#C5C5C5").s().p("AAYDzQgSgEgSgIQgMgHgNgXIgDgFQgthDAAh2QAAiLAxhGIAFgGQASgbANgHIAVgEIA3AAIAKAFIgMHXQgMAJgMAAg"),this.shape.setTransform(-33.2,90.2),this.shape_1=new cjs.Shape,this.shape_1.graphics.f("#C5C5C5").s().p("AAWDzQgUgDgQgGQgLgFgMgbIgCgFQgmhDAAh2QAAiKAphGIAEgHQAQgfAMgFIATgDIA3AAIAIAHQgLGmgCArQgJANgJAAg"),this.shape_1.setTransform(-18.6,90.2),this.shape_2=new cjs.Shape,this.shape_2.graphics.f("#C5C5C5").s().p("AATDzQgTgCgSgEQgIgEgLgeIgCgFQgehDAAh3QAAiIAhhHIADgHQAQgiAIgEIAUgCIA2AAIAFAJQgKGWgCA2QgIAQgGAAg"),this.shape_2.setTransform(-5.9,90.2),this.shape_3=new cjs.Shape,this.shape_3.graphics.f("#C5C5C5").s().p("AARDzIgkgEQgIgDgJggIgCgFQgZhCAAh4QAAiHAbhIIADgHQAOglAGgCIATgCIA2AAIAEALIgNHHQgFATgEAAg"),this.shape_3.setTransform(4.9,90.2),this.shape_4=new cjs.Shape,this.shape_4.graphics.f("#C5C5C5").s().p("AAPDzIgkgDQgHgBgIgiIgCgFQgUhCAAh4QAAiHAWhIIACgHQAPgoADgBIBIgBIADAMIgNHEQgDAVgDAAg"),this.shape_4.setTransform(13.6,90.2),this.shape_5=new cjs.Shape,this.shape_5.graphics.f("#C5C5C5").s().p("AANDzIgkgBQgFgBgIgkIgBgFQgRhCAAh4QAAiGAShIIABgIQAOgpACgBIBIAAIACANQgKF1gDBMQgCAXgCAAg"),this.shape_5.setTransform(20.5,90.2),this.shape_6=new cjs.Shape,this.shape_6.graphics.f("#C5C5C5").s().p("AAMDzIgkAAQgEgBgIgkIgBgGQgOhBAAh5QAAiFAPhIIABgIIAOgrIBIAAIABAOIgNG/IgCAYg"),this.shape_6.setTransform(25.4,90.2),this.shape_7=new cjs.Shape,this.shape_7.graphics.f("#C5C5C5").s().p("AAMDzIgkAAQgFAAgHglIgBgFQgMhCAAh4QAAiGANhIIABgIIANgrIBIAAIAAAOIgMG+IgCAZg"),this.shape_7.setTransform(28.3,90.2),this.shape_8=new cjs.Shape,this.shape_8.graphics.f("#C5C5C5").s().p("AgZDzQgEAAgIgqQgMhCAAh4QAAiNAOhJIANgrIBIAAQgNHlgBAAg"),this.shape_8.setTransform(29.3,90.2),this.shape_8._off=!0,this.timeline.addTween(cjs.Tween.get({}).to({state:[]}).to({state:[{t:this.shape}]},2).to({state:[{t:this.shape_1}]},1).to({state:[{t:this.shape_2}]},1).to({state:[{t:this.shape_3}]},1).to({state:[{t:this.shape_4}]},1).to({state:[{t:this.shape_5}]},1).to({state:[{t:this.shape_6}]},1).to({state:[{t:this.shape_7}]},1).to({state:[{t:this.shape_8}]},1).to({state:[{t:this.shape_8}]},1).to({state:[{t:this.shape_8}]},1).to({state:[{t:this.shape_8}]},1).to({state:[{t:this.shape_8}]},1).to({state:[{t:this.shape_8}]},1).to({state:[{t:this.shape_8}]},1).to({state:[{t:this.shape_8}]},1).to({state:[{t:this.shape_8}]},1).to({state:[{t:this.shape_8}]},1).to({state:[{t:this.shape_8}]},1).to({state:[{t:this.shape_8}]},1).to({state:[{t:this.shape_8}]},1).to({state:[{t:this.shape_8}]},1).to({state:[{t:this.shape_8}]},1).to({state:[{t:this.shape_8}]},1).to({state:[{t:this.shape_8}]},1).to({state:[{t:this.shape_8}]},1).to({state:[{t:this.shape_8}]},1).to({state:[{t:this.shape_8}]},1).to({state:[{t:this.shape_8}]},1).to({state:[{t:this.shape_8}]},1).to({state:[{t:this.shape_8}]},1).to({state:[{t:this.shape_8}]},1).to({state:[{t:this.shape_8}]},1).to({state:[{t:this.shape_8}]},1).to({state:[{t:this.shape_8}]},1).to({state:[{t:this.shape_8}]},1).to({state:[{t:this.shape_8}]},1).to({state:[{t:this.shape_8}]},1).to({state:[{t:this.shape_8}]},1).to({state:[{t:this.shape_8}]},1).to({state:[{t:this.shape_8}]},1).to({state:[{t:this.shape_8}]},1).to({state:[{t:this.shape_8}]},1).to({state:[{t:this.shape_8}]},1).to({state:[{t:this.shape_8}]},1).to({state:[{t:this.shape_8}]},1).to({state:[{t:this.shape_8}]},1).to({state:[{t:this.shape_8}]},1).to({state:[{t:this.shape_8}]},1).to({state:[{t:this.shape_8}]},1).to({state:[{t:this.shape_8}]},1).to({state:[{t:this.shape_8}]},1).to({state:[{t:this.shape_8}]},1).to({state:[{t:this.shape_8}]},1).to({state:[{t:this.shape_8}]},1).to({state:[{t:this.shape_8}]},1).to({state:[{t:this.shape_8}]},1).to({state:[{t:this.shape_8}]},1).wait(1)),this.timeline.addTween(cjs.Tween.get(this.shape_8).wait(10).to({_off:!1},0).wait(50)),this.instance_1=new lib.HandleChupchik("synched",0),this.instance_1.setTransform(6,88.6,1,1,0,0,0,0,7.3),this.instance_1._off=!0,this.timeline.addTween(cjs.Tween.get(this.instance_1).wait(2).to({_off:!1},0).to({scaleX:1.85,x:37.4},8,cjs.Ease.get(1)).wait(50)),this.instance_2=new lib.Symbol34("synched",0),this.instance_2.setTransform(27.4,88.5,1,1,0,0,0,34.6,.4),this.instance_2._off=!0,this.timeline.addTween(cjs.Tween.get(this.instance_2).wait(2).to({_off:!1},0).to({regX:34.4,regY:.5,scaleX:.06,x:37.3,y:88.6},8,cjs.Ease.get(1)).wait(50)),this.instance_3=new lib.Tween14("synched",0),this.instance_3.setTransform(36,88.5),this.instance_3._off=!0,this.instance_4=new lib.Tween15("synched",0),this.instance_4.setTransform(36,88.5),this.timeline.addTween(cjs.Tween.get({}).to({state:[]}).to({state:[{t:this.instance_3}]},2).to({state:[{t:this.instance_4}]},8).wait(50)),this.timeline.addTween(cjs.Tween.get(this.instance_3).wait(2).to({_off:!1},0).to({_off:!0},8,cjs.Ease.get(1)).wait(50)),this.instance_5=new lib.Tween16("synched",2),this.instance_5.setTransform(39.2,29.5),this.instance_5._off=!0,this.timeline.addTween(cjs.Tween.get(this.instance_5).wait(2).to({_off:!1},0).wait(58))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-79.3),(-87.1),167.2,215.8),(lib.Symbol31=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.instance=new lib.Symbol33("synched",0),this.instance.setTransform(-45.6,90,1,1,0,0,0,14.8,0),this.timeline.addTween(cjs.Tween.get(this.instance).to({scaleX:.21,x:36.1},10,cjs.Ease.get(1)).to({regX:15.1},43,cjs.Ease.get(-1)).to({regX:15.4,scaleX:.04,x:40.6},2).to({regX:14.8,scaleX:1,x:-45.6},3,cjs.Ease.get(-1)).wait(1).to({scaleX:.95,scaleY:1.06,x:-45.5},0).wait(1)),this.shape=new cjs.Shape,this.shape.graphics.f("#C5C5C5").s().p("AAgDzQgigLgjgiQhGhGAAh4QAAiNBIhFQAXgWAYgLIAWgHIBJAAQgMHlgBAAg"),this.shape.setTransform(-68.4,90.2),this.shape_1=new cjs.Shape,this.shape_1.graphics.f("#C5C5C5").s().p("AAcDzQgTgFgRgKQgPgJgOgUIgDgEQg4hEAAh2QAAiLA9hGIAFgGQASgWARgJIAWgFIA4AAIAOADQgNHNgBAQQgOAFgPAAg"),this.shape_1.setTransform(-49.8,90.2),this.shape_2=new cjs.Shape,this.shape_2.graphics.f("#C5C5C5").s().p("AAYDzQgSgEgSgIQgMgHgNgXIgDgFQgthDAAh2QAAiLAxhGIAFgGQASgbANgHIAVgEIA3AAIAKAFIgMHXQgMAJgMAAg"),this.shape_2.setTransform(-33.2,90.2),this.shape_3=new cjs.Shape,this.shape_3.graphics.f("#C5C5C5").s().p("AAWDzQgUgDgQgGQgLgFgMgbIgCgFQgmhDAAh2QAAiKAphGIAEgHQAQgfAMgFIATgDIA3AAIAIAHQgLGmgCArQgJANgJAAg"),this.shape_3.setTransform(-18.6,90.2),this.shape_4=new cjs.Shape,this.shape_4.graphics.f("#C5C5C5").s().p("AATDzQgTgCgSgEQgIgEgLgeIgCgFQgehDAAh3QAAiIAhhHIADgHQAQgiAIgEIAUgCIA2AAIAFAJQgKGWgCA2QgIAQgGAAg"),this.shape_4.setTransform(-5.9,90.2),this.shape_5=new cjs.Shape,this.shape_5.graphics.f("#C5C5C5").s().p("AARDzIgkgEQgIgDgJggIgCgFQgZhCAAh4QAAiHAbhIIADgHQAOglAGgCIATgCIA2AAIAEALIgNHHQgFATgEAAg"),this.shape_5.setTransform(4.9,90.2),this.shape_6=new cjs.Shape,this.shape_6.graphics.f("#C5C5C5").s().p("AAPDzIgkgDQgHgBgIgiIgCgFQgUhCAAh4QAAiHAWhIIACgHQAPgoADgBIBIgBIADAMIgNHEQgDAVgDAAg"),this.shape_6.setTransform(13.6,90.2),this.shape_7=new cjs.Shape,this.shape_7.graphics.f("#C5C5C5").s().p("AANDzIgkgBQgFgBgIgkIgBgFQgRhCAAh4QAAiGAShIIABgIQAOgpACgBIBIAAIACANQgKF1gDBMQgCAXgCAAg"),this.shape_7.setTransform(20.5,90.2),this.shape_8=new cjs.Shape,this.shape_8.graphics.f("#C5C5C5").s().p("AAMDzIgkAAQgEgBgIgkIgBgGQgOhBAAh5QAAiFAPhIIABgIIAOgrIBIAAIABAOIgNG/IgCAYg"),this.shape_8.setTransform(25.4,90.2),this.shape_9=new cjs.Shape,this.shape_9.graphics.f("#C5C5C5").s().p("AAMDzIgkAAQgFAAgHglIgBgFQgMhCAAh4QAAiGANhIIABgIIANgrIBIAAIAAAOIgMG+IgCAZg"),this.shape_9.setTransform(28.3,90.2),this.shape_10=new cjs.Shape,this.shape_10.graphics.f("#C5C5C5").s().p("AgZDzQgEAAgIgqQgMhCAAh4QAAiNAOhJIANgrIBIAAQgNHlgBAAg"),this.shape_10.setTransform(29.3,90.2),this.shape_10._off=!0,this.shape_11=new cjs.Shape,this.shape_11.graphics.f("#C5C5C5").s().p("AgXD2QgXj0AXj4IA2AAIAABmIAEAGIgEDkIAACcg"),this.shape_11.setTransform(32.8,90.5),this.shape_12=new cjs.Shape,this.shape_12.graphics.f("#C5C5C5").s().p("AgbDzQgDAAAAgKQgBgTgDgNQgMhDABh3QAAiNANhJQAFgSACgOQABgLgBAAIBIAAQgNHlgBAAg"),this.shape_12.setTransform(36.3,90.2),this.shape_13=new cjs.Shape,this.shape_13.graphics.f("#C5C5C5").s().p("AALDzIgkgCQgCAAgBgKIgFgYIgCgHQgRhDAAh2IAAgBQAAiFAShIIADgJIAJgfIACgKIgBAAIBJgBIABAMIgMHDQgDAWgCAAg"),this.shape_13.setTransform(24.6,90.2),this.shape_14=new cjs.Shape,this.shape_14.graphics.f("#C5C5C5").s().p("AASDzQgSgCgRgGQgEgCgDgHIgLgWIgDgHQgihEAAh1IAAAAQgBiIAmhHIAFgIIASgcIAEgIIAAAAIATgDIA4AAIAGAHIgMHQQgJAOgIAAg"),this.shape_14.setTransform(-10.2,90.2),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape}]}).to({state:[{t:this.shape_1}]},1).to({state:[{t:this.shape_2}]},1).to({state:[{t:this.shape_3}]},1).to({state:[{t:this.shape_4}]},1).to({state:[{t:this.shape_5}]},1).to({state:[{t:this.shape_6}]},1).to({state:[{t:this.shape_7}]},1).to({state:[{t:this.shape_8}]},1).to({state:[{t:this.shape_9}]},1).to({state:[{t:this.shape_10}]},1).to({state:[{t:this.shape_10}]},1).to({state:[{t:this.shape_10}]},1).to({state:[{t:this.shape_10}]},1).to({state:[{t:this.shape_10}]},1).to({state:[{t:this.shape_10}]},1).to({state:[{t:this.shape_10}]},1).to({state:[{t:this.shape_10}]},1).to({state:[{t:this.shape_10}]},1).to({state:[{t:this.shape_10}]},1).to({state:[{t:this.shape_10}]},1).to({state:[{t:this.shape_10}]},1).to({state:[{t:this.shape_10}]},1).to({state:[{t:this.shape_10}]},1).to({state:[{t:this.shape_10}]},1).to({state:[{t:this.shape_10}]},1).to({state:[{t:this.shape_10}]},1).to({state:[{t:this.shape_10}]},1).to({state:[{t:this.shape_10}]},1).to({state:[{t:this.shape_10}]},1).to({state:[{t:this.shape_10}]},1).to({state:[{t:this.shape_10}]},1).to({state:[{t:this.shape_10}]},1).to({state:[{t:this.shape_10}]},1).to({state:[{t:this.shape_10}]},1).to({state:[{t:this.shape_10}]},1).to({state:[{t:this.shape_10}]},1).to({state:[{t:this.shape_10}]},1).to({state:[{t:this.shape_10}]},1).to({state:[{t:this.shape_10}]},1).to({state:[{t:this.shape_10}]},1).to({state:[{t:this.shape_10}]},1).to({state:[{t:this.shape_10}]},1).to({state:[{t:this.shape_10}]},1).to({state:[{t:this.shape_10}]},1).to({state:[{t:this.shape_10}]},1).to({state:[{t:this.shape_10}]},1).to({state:[{t:this.shape_10}]},1).to({state:[{t:this.shape_10}]},1).to({state:[{t:this.shape_10}]},1).to({state:[{t:this.shape_10}]},1).to({state:[{t:this.shape_10}]},1).to({state:[{t:this.shape_10}]},1).to({state:[{t:this.shape_10}]},1).to({state:[{t:this.shape_11}]},1).to({state:[{t:this.shape_12}]},1).to({state:[{t:this.shape_13}]},1).to({state:[{t:this.shape_14}]},1).to({state:[{t:this.shape}]},1).to({state:[]},1).wait(1)),this.timeline.addTween(cjs.Tween.get(this.shape_10).wait(10).to({_off:!1},0).wait(43).to({_off:!0},1).wait(6)),this.instance_1=new lib.HandleChupchik("synched",0),this.instance_1.setTransform(6,88.6,1,1,0,0,0,0,7.3),this.timeline.addTween(cjs.Tween.get(this.instance_1).to({scaleX:1.85,x:37.4},10,cjs.Ease.get(1)).to({regX:.1,x:37.6},43,cjs.Ease.get(-1)).to({regX:0,x:37.4},2).to({scaleX:1,x:6},3,cjs.Ease.get(-1)).wait(1).to({x:5.7},0).wait(1)),this.instance_2=new lib.Symbol34("synched",0),this.instance_2.setTransform(27.4,88.5,1,1,0,0,0,34.6,.4),this.timeline.addTween(cjs.Tween.get(this.instance_2).to({regX:34.4,regY:.5,scaleX:.06,x:37.3,y:88.6},10,cjs.Ease.get(1)).to({regX:35.3,y:88.5},43,cjs.Ease.get(-1)).to({regX:34.4,y:88.6},2).to({regX:34.6,regY:.4,scaleX:1,x:27.4,y:88.5},3,cjs.Ease.get(-1)).wait(1).to({regX:34.5,scaleX:1.02,x:27.3},0).wait(1)),this.instance_3=new lib.Tween14("synched",0),this.instance_3.setTransform(36,88.5),this.instance_4=new lib.Tween15("synched",0),this.instance_4.setTransform(36,88.5),this.instance_4._off=!0,this.timeline.addTween(cjs.Tween.get(this.instance_3).to({_off:!0},10,cjs.Ease.get(1)).wait(45).to({_off:!1},3,cjs.Ease.get(-1)).wait(1).to({startPosition:0},0).wait(1)),this.timeline.addTween(cjs.Tween.get(this.instance_4).to({_off:!1},10,cjs.Ease.get(1)).to({startPosition:0},43,cjs.Ease.get(-1)).to({startPosition:0},2).to({_off:!0},3,cjs.Ease.get(-1)).wait(2)),this.instance_5=new lib.Tween16("synched",2),this.instance_5.setTransform(39.2,29.5),this.timeline.addTween(cjs.Tween.get(this.instance_5).wait(60))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-79.3),(-87.1),167.2,215.8),(lib.sampling=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.shape=new cjs.Shape,this.shape.graphics.f().s("#848484").ss(2).p("AOQFdI8fAAIAAq5IcfAAg"),this.shape.setTransform(0,4.4),this.timeline.addTween(cjs.Tween.get(this.shape).wait(60));var mask=new cjs.Shape;mask._off=!0,mask.graphics.p("AuPFcIAAq3IcfAAIAAK3g"),mask.setTransform(-.4,5.3),this.instance=new lib.Group,this.instance.setTransform(54.4,-2.7,1,1,0,0,0,42.7,92.3),this.instance.alpha=.5,this.instance_1=new lib.Group_1,this.instance_1.setTransform(13,.4,1,1,0,0,0,50.3,95.4),this.instance_1.alpha=.5,this.instance_2=new lib.Group_2,this.instance_2.setTransform(-41.8,2.3,1,1,0,0,0,38.5,57),this.instance_2.alpha=.5,
this.instance.mask=this.instance_1.mask=this.instance_2.mask=mask,this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance_2},{t:this.instance_1},{t:this.instance}]}).wait(60)),this.instance_3=new lib.pepita_move("synched",47),this.instance_3.setTransform(39.1,-35.6,1,1,0,0,0,-39,-35.5),this.instance_4=new lib.pepita_move("synched",51),this.instance_4.setTransform(13.7,-35.6,1,1,0,0,0,-39,-35.5),this.instance_5=new lib.pepita_move("synched",55),this.instance_5.setTransform(-12.7,-35.6,1,1,0,0,0,-39,-35.5),this.instance_6=new lib.pepita_move("synched",0),this.instance_6.setTransform(-38.9,-35.6,1,1,0,0,0,-39,-35.5),this.instance_3.mask=this.instance_4.mask=this.instance_5.mask=this.instance_6.mask=mask,this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance_6},{t:this.instance_5},{t:this.instance_4},{t:this.instance_3}]}).wait(60))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-92.2),(-31.5),184.4,71.8),(lib.Reflection_maker=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.instance=new lib.Gray_Line("single",14),this.instance.setTransform(-39,-11.7),this.timeline.addTween(cjs.Tween.get(this.instance).wait(60)),this.instance_1=new lib.Gray_Line("single",14),this.instance_1.setTransform(-39,-15.7),this.timeline.addTween(cjs.Tween.get(this.instance_1).wait(60)),this.instance_2=new lib.Gray_Line("single",14),this.instance_2.setTransform(-39,-19.7),this.timeline.addTween(cjs.Tween.get(this.instance_2).wait(60)),this.instance_3=new lib.Gray_Line("single",14),this.instance_3.setTransform(-39,-23.7),this.timeline.addTween(cjs.Tween.get(this.instance_3).wait(60)),this.instance_4=new lib.Gray_Line("single",14),this.instance_4.setTransform(-39,-27.7),this.timeline.addTween(cjs.Tween.get(this.instance_4).wait(60)),this.instance_5=new lib.Gray_Line("single",14),this.instance_5.setTransform(-39,-31.7),this.timeline.addTween(cjs.Tween.get(this.instance_5).wait(60)),this.instance_6=new lib.v("synched",0),this.instance_6.setTransform(.3,3.8),this.instance_6.alpha=0,this.instance_6._off=!0,this.timeline.addTween(cjs.Tween.get(this.instance_6).wait(38).to({_off:!1},0).wait(1).to({y:3.1,alpha:.136},0).wait(1).to({y:2.2,alpha:.32},0).wait(1).to({y:1.2,alpha:.526},0).wait(1).to({y:.3,alpha:.703},0).wait(1).to({y:-.4,alpha:.831},0).wait(1).to({y:-.8,alpha:.915},0).wait(1).to({y:-1,alpha:.966},0).wait(1).to({y:-1.2,alpha:.992},0).wait(1).to({alpha:1},0).wait(8).to({startPosition:0},0).to({alpha:0},4).wait(1));var mask=new cjs.Shape;mask._off=!0,mask.graphics.p("AoNF8IAAr4IQaAAIAAL4g"),mask.setTransform(-2.2,.7),this.instance_7=new lib.line("synched",0),this.instance_7.setTransform(31.7,-30.3),this.instance_7._off=!0,this.instance_7.mask=mask,this.timeline.addTween(cjs.Tween.get(this.instance_7).wait(32).to({_off:!1},0).to({y:5.5},8,cjs.Ease.get(.6)).to({y:50.6},5,cjs.Ease.get(-.6)).to({_off:!0},1).wait(14)),this.instance_8=new lib.BoxOutline_flicker("single",57),this.instance_8.setTransform(0,-.7,1,1,0,0,0,22.7,-22.7),this.timeline.addTween(cjs.Tween.get(this.instance_8).wait(26).to({mode:"synched",startPosition:0},0).to({startPosition:6},6).to({alpha:.352,startPosition:20},14).wait(14))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-47.7),(-32.9),17.5,22.3),(lib.moving_line_1=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.instance=new lib.green_will("synched",0),this.instance.setTransform(-61.8,.3),this.timeline.addTween(cjs.Tween.get(this.instance).wait(60)),this.instance_1=new lib.green_will("synched",0),this.instance_1.setTransform(61.6,.3),this.timeline.addTween(cjs.Tween.get(this.instance_1).wait(60));var mask=new cjs.Shape;mask._off=!0,mask.graphics.p("AphBaQglgBgagaQgagZAAgmIAAAAQAAgkAagaQAZgbAmAAITEAAQAlAAAZAbQAaAaAAAkIAAAAQAAAmgaAZQgZAaglABg"),this.instance_2=new lib.lines("synched",0),this.instance_2.setTransform(1.2,-.2),this.instance_2.mask=mask,this.timeline.addTween(cjs.Tween.get(this.instance_2).wait(60)),this.shape=new cjs.Shape,this.shape.graphics.f().s("#848484").ss(2).p("AK8ABQAAAlgbAZQgaAbgkAAIzFAAQgkAAgagbQgbgZAAglIAAgBQAAglAbgZQAagbAkAAITFAAQAlAAAZAbQAbAZAAAlg"),this.shape_1=new cjs.Shape,this.shape_1.graphics.f("#FFFFFF").s().p("ApiBZQgkAAgbgZQgagbAAgkIAAgBQAAglAagaQAbgaAkAAITFAAQAlAAAZAaQAbAaAAAlIAAABQAAAkgbAbQgaAZgkAAg"),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_1},{t:this.shape}]}).wait(60))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-75.2),(-10),146.8,20.3),(lib.Machine_C_02_NoCrate_In=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.instance=new lib.Symbol31copy2("synched",2,(!1)),this.instance.setTransform(423.5,-14.9,1,1,0,0,0,4.1,.2),this.timeline.addTween(cjs.Tween.get(this.instance).wait(60)),this.instance_1=new lib.machine_05_springboard("synched",0),this.instance_1.setTransform(653.2,122.8,1,1,0,0,0,61.1,.8),this.timeline.addTween(cjs.Tween.get(this.instance_1).wait(60))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle(411.4,(-139),252,271.2),(lib.Machine_C_02_NoCrate=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.instance=new lib.Symbol33("synched",0),this.instance.setTransform(455.5,74.9,.206,1,0,0,0,14.8,0),this.instance_1=new lib.HandleChupchik("synched",0),this.instance_1.setTransform(456.8,73.5,1.846,1,0,0,0,0,7.3),this.shape=new cjs.Shape,this.shape.graphics.f("#C5C5C5").s().p("AgYDzQgGAAgHgqQgLhCAAh4QAAiNANhJIANgrIBIAAQgNHlgBAAg"),this.shape.setTransform(448.6,75.1),this.instance_2=new lib.Symbol34("synched",0),this.instance_2.setTransform(456.6,73.5,.06,1,0,0,0,34.4,.5),this.instance_3=new lib.Tween15("synched",0),this.instance_3.setTransform(455.3,73.4),this.instance_4=new lib.Tween16("synched",2),this.instance_4.setTransform(458.6,14.4),this.instance_5=new lib.Handle_3d("synched",0),this.instance_5.setTransform(455.9,73.7,1,1,0,0,0,.1,4.3),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance_5},{t:this.instance_4},{t:this.instance_3},{t:this.instance_2},{t:this.shape},{t:this.instance_1},{t:this.instance}]}).to({state:[]},60).wait(1)),this.instance_6=new lib.machine_05_springboard("synched",0),this.instance_6.setTransform(653.3,122.8,1,1,42.7,0,0,61.2,.7),this.timeline.addTween(cjs.Tween.get(this.instance_6).wait(4).to({regX:61.1,rotation:38.2,x:653.2},0).to({regY:.8,rotation:-1.4},7,cjs.Ease.get(1)).to({rotation:0},3,cjs.Ease.get(1)).to({_off:!0},46).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle(411.4,(-139),252.2,271.5),(lib.Machine_C_02_FirstNoCreate=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.instance=new lib.Symbol31copy("synched",2,(!1)),this.instance.setTransform(423.5,-14.9,1,1,0,0,0,4.1,.2),this.timeline.addTween(cjs.Tween.get(this.instance).wait(60)),this.instance_1=new lib.box_V("synched",0),this.instance_1.setTransform(293.5,103.9,1,1,-18.7,0,0,.1,25.3),this.timeline.addTween(cjs.Tween.get(this.instance_1).wait(1).to({regY:-.3,rotation:-22.6,x:293.3,y:79.1,startPosition:1},0).wait(1).to({regY:25.3,scaleX:1,scaleY:1,rotation:-26.5,x:312.9,y:101.7,startPosition:0},0).wait(1).to({regY:-.3,rotation:-21.2,x:312.2,y:79.9,startPosition:1},0).wait(1).to({rotation:-15.8,x:323,y:81.3,startPosition:2},0).wait(1).to({scaleX:1,scaleY:1,rotation:-10.5,x:333.9,y:83,startPosition:3},0).wait(1).to({rotation:-5.1,x:344.8,y:84.8,startPosition:4},0).wait(1).to({regX:.3,regY:25.4,rotation:.2,x:355.7,y:112.4,startPosition:0},0).wait(1).to({regX:.1,regY:-.3,rotation:4.1,x:365.9,y:85.2,startPosition:1},0).wait(1).to({regX:.4,regY:25.4,rotation:8,x:373,y:109.1,startPosition:0},0).wait(1).to({regX:.1,regY:-.3,rotation:4.6,x:383.3,y:84.2,startPosition:1},0).wait(1).to({rotation:1.2,x:390.4,y:84.8,startPosition:2},0).wait(1).to({regX:.5,regY:25.6,rotation:-2.2,x:398.8,y:111.2,startPosition:0},0).wait(1).to({regX:.1,regY:-.3,rotation:-.8,x:406.7,y:86,startPosition:1},0).wait(1).to({regX:.5,regY:25.6,rotation:.5,x:416.2,y:112.4,startPosition:0},0).wait(1).to({regX:.1,regY:-.3,scaleX:1,scaleY:1,rotation:.4,x:424.8,y:86.6,startPosition:1},0).wait(1).to({x:433.7,startPosition:2},0).wait(1).to({rotation:.3,x:442.5,y:86.7,startPosition:3},0).wait(1).to({x:451.4,startPosition:4},0).wait(1).to({rotation:.2,x:460.2,y:86.8,startPosition:5},0).wait(1).to({x:469.1,startPosition:6},0).wait(1).to({scaleX:1,scaleY:1,rotation:.1,x:477.9,y:86.9,startPosition:7},0).wait(1).to({x:486.8,startPosition:8},0).wait(1).to({regX:0,regY:25.2,rotation:0,x:496,y:112.9,startPosition:0},0).to({x:504.1,startPosition:1},1,cjs.Ease.get(.9)).to({x:592.1,startPosition:0},21).to({startPosition:6},6).to({regX:.1,regY:25.3,rotation:-.7,y:114.5,startPosition:8},2).to({regX:0,scaleX:1.17,scaleY:.69,rotation:26.4,x:600.3,y:85.1,startPosition:0},1).to({regX:.1,regY:25.2,scaleX:.79,scaleY:1.24,rotation:44.8,x:647.6,y:23.7,startPosition:1},1).to({regX:.2,scaleX:.86,scaleY:1.16,rotation:61.8,x:720.2,y:-8,startPosition:2},1).to({regX:.1,scaleX:1,scaleY:1,rotation:65.4,x:767.3,y:-27.7,startPosition:0},2).to({_off:!0},1).wait(1)),this.instance_2=new lib.machine_05_springboard("synched",0),this.instance_2.setTransform(653.3,122.8,1,1,42.7,0,0,61.2,.7),this.timeline.addTween(cjs.Tween.get(this.instance_2).wait(4).to({regX:61.1,rotation:38.2,x:653.2},0).to({regY:.8,rotation:-1.4},7,cjs.Ease.get(1)).to({rotation:0},3,cjs.Ease.get(1)).wait(37).to({startPosition:0},0).to({rotation:-3},2,cjs.Ease.get(1)).to({regY:.7,rotation:38.2},2,cjs.Ease.get(1)).to({regX:61.2,rotation:42.7,x:653.3},4,cjs.Ease.get(1)).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle(250.8,(-139),412.8,271.5),(lib.Machine_C_02=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.instance=new lib.Symbol31("synched",2),this.instance.setTransform(423.5,-14.9,1,1,0,0,0,4.1,.2),this.timeline.addTween(cjs.Tween.get(this.instance).wait(60)),this.instance_1=new lib.box_V("synched",0),this.instance_1.setTransform(293.5,103.9,1,1,-18.7,0,0,.1,25.3),this.timeline.addTween(cjs.Tween.get(this.instance_1).wait(1).to({regY:-.3,rotation:-22.6,x:293.3,y:79.1,startPosition:1},0).wait(1).to({regY:25.3,scaleX:1,scaleY:1,rotation:-26.5,x:312.9,y:101.7,startPosition:0},0).wait(1).to({regY:-.3,rotation:-21.2,x:312.2,y:79.9,startPosition:1},0).wait(1).to({rotation:-15.8,x:323,y:81.3,startPosition:2},0).wait(1).to({scaleX:1,scaleY:1,rotation:-10.5,x:333.9,y:83,startPosition:3},0).wait(1).to({rotation:-5.1,x:344.8,y:84.8,startPosition:4},0).wait(1).to({regX:.3,regY:25.4,rotation:.2,x:355.7,y:112.4,startPosition:0},0).wait(1).to({regX:.1,regY:-.3,rotation:4.1,x:365.9,y:85.2,startPosition:1},0).wait(1).to({regX:.4,regY:25.4,rotation:8,x:373,y:109.1,startPosition:0},0).wait(1).to({regX:.1,regY:-.3,rotation:4.6,x:383.3,y:84.2,startPosition:1},0).wait(1).to({rotation:1.2,x:390.4,y:84.8,startPosition:2},0).wait(1).to({regX:.5,regY:25.6,rotation:-2.2,x:398.8,y:111.2,startPosition:0},0).wait(1).to({regX:.1,regY:-.3,rotation:-.8,x:406.7,y:86,startPosition:1},0).wait(1).to({regX:.5,regY:25.6,rotation:.5,x:416.2,y:112.4,startPosition:0},0).wait(1).to({regX:.1,regY:-.3,scaleX:1,scaleY:1,rotation:.4,x:424.8,y:86.6,startPosition:1},0).wait(1).to({x:433.7,startPosition:2},0).wait(1).to({rotation:.3,x:442.5,y:86.7,startPosition:3},0).wait(1).to({x:451.4,startPosition:4},0).wait(1).to({rotation:.2,x:460.2,y:86.8,startPosition:5},0).wait(1).to({x:469.1,startPosition:6},0).wait(1).to({scaleX:1,scaleY:1,rotation:.1,x:477.9,y:86.9,startPosition:7},0).wait(1).to({x:486.8,startPosition:8},0).wait(1).to({regX:0,regY:25.2,rotation:0,x:496,y:112.9,startPosition:0},0).to({x:504.1,startPosition:1},1,cjs.Ease.get(.9)).to({x:592.1,startPosition:0},21).to({startPosition:6},6).to({regX:.1,regY:25.3,rotation:-.7,y:114.5,startPosition:8},2).to({regX:0,scaleX:1.17,scaleY:.69,rotation:26.4,x:600.3,y:85.1,startPosition:0},1).to({regX:.1,regY:25.2,scaleX:.79,scaleY:1.24,rotation:44.8,x:647.6,y:23.7,startPosition:1},1).to({regX:.2,scaleX:.86,scaleY:1.16,rotation:61.8,x:720.2,y:-8,startPosition:2},1).to({regX:.1,scaleX:1,scaleY:1,rotation:65.4,x:767.3,y:-27.7,startPosition:0},2).to({_off:!0},1).wait(1)),this.instance_2=new lib.machine_05_springboard("synched",0),this.instance_2.setTransform(653.3,122.8,1,1,42.7,0,0,61.2,.7),this.timeline.addTween(cjs.Tween.get(this.instance_2).wait(4).to({regX:61.1,rotation:38.2,x:653.2},0).to({regY:.8,rotation:-1.4},7,cjs.Ease.get(1)).to({rotation:0},3,cjs.Ease.get(1)).wait(37).to({startPosition:0},0).to({rotation:-3},2,cjs.Ease.get(1)).to({regY:.7,rotation:38.2},2,cjs.Ease.get(1)).to({regX:61.2,rotation:42.7,x:653.3},4,cjs.Ease.get(1)).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle(250.8,(-139),412.8,271.5),(lib.Machine_B_X=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.instance=new lib.hop("synched",0),this.instance.setTransform(-122.8,149.2),this.timeline.addTween(cjs.Tween.get(this.instance).wait(42).to({startPosition:0},0).wait(18)),this.instance_1=new lib.moving_line_1("synched",0),this.instance_1.setTransform(-121.3,119.9,1,1,0,0,0,-2,0),this.timeline.addTween(cjs.Tween.get(this.instance_1).wait(40).to({regX:-61.6,regY:.5,x:-180.9,y:120.4,mode:"single",startPosition:42},0).to({regY:.6,rotation:2.2,x:-180.8,y:120.5},2,cjs.Ease.get(.99)).to({regX:-61.7,regY:.5,rotation:-61.2,x:-180.9,y:120.4},2,cjs.Ease.get(.99)).to({regX:-61.8,rotation:-67,y:120.5},3).to({regY:.6,rotation:.5,y:120.4},6,cjs.Ease.get(-1)).to({rotation:-2.9},2,cjs.Ease.get(1)).to({regX:-61.9,rotation:-.2,x:-181},2,cjs.Ease.get(-1)).to({regX:-61.6,regY:.5,rotation:0,x:-180.9},2,cjs.Ease.get(1)).wait(1)),this.instance_2=new lib.machine_02_X("synched",0),this.instance_2.setTransform(-119.9,36),this.timeline.addTween(cjs.Tween.get(this.instance_2).wait(60));var mask=new cjs.Shape;mask._off=!0;var mask_graphics_0=(new cjs.Graphics).p("AqbC6QhAhAAAhaQAAhZBAhAQBBhABaAAQBbAABABAQBABAAABZQAABahABAQhABBhbAAQhaAAhBhBg"),mask_graphics_20=(new cjs.Graphics).p("AqYDvQhAhAAAhbQAAhYBAhBQBAhABbABQBagBBABAQBBBBAABYQAABbhBBAQhABBhaAAQhbAAhAhBg"),mask_graphics_21=(new cjs.Graphics).p("Ap0EfQhAhAAAhaQAAhbBAg+QBBhABaAAQBbAABABAQBBA+AABbQAABahBBAQhABAhbAAQhaAAhBhAg"),mask_graphics_22=(new cjs.Graphics).p("ApXFHQhAhAAAhaQAAhbBAhAQBAg/BbAAQBbAAA/A/QBBBAAABbQAABahBBAQg/BAhbAAQhbAAhAhAg"),mask_graphics_23=(new cjs.Graphics).p("Ao9FmQg/hAgBhbQABhaA/hBQBBg+BbAAQBaAABAA+QBBBBAABaQAABbhBBAQhABAhaAAQhbAAhBhAg"),mask_graphics_24=(new cjs.Graphics).p("AowF7QhAhAAAhbQAAhaBAhBQBBhABaAAQBbAABABAQBBBBAABaQAABbhBBAQhABAhbAAQhaAAhBhAg"),mask_graphics_25=(new cjs.Graphics).p("AokGLQhAhAAAhaQAAhbBAhAQBAhABbAAQBaAABABAQBBBAAABbQAABahBBAQhABAhaAAQhbAAhAhAg"),mask_graphics_26=(new cjs.Graphics).p("AolGPQhAhAAAhbQAAhaBAhBQBBhABaAAQBbAABABAQBABBAABaQAABbhABAQhABAhbAAQhaAAhBhAg"),mask_graphics_27=(new cjs.Graphics).p("Ao2GSQhAhAAAhbQAAhaBAhBQBAhABbAAQBaAABABAQBBBBAABaQAABbhBBAQhABAhaAAQhbAAhAhAg"),mask_graphics_28=(new cjs.Graphics).p("ApIGVQhAhAAAhaQAAhbBAhAQBBhABaAAQBbAABABAQBABAAABbQAABahABAQhABBhbAAQhaAAhBhBg"),mask_graphics_29=(new cjs.Graphics).p("ApZGYQhAhAAAhaQAAhbBAhAQBAhABbAAQBaAABABAQBBBAAABbQAABahBBAQhABBhaAAQhbAAhAhBg"),mask_graphics_30=(new cjs.Graphics).p("AprGbQhAhAAAhaQAAhbBAhAQBBhABaAAQBaAABBBAQBABAAABbQAABahABAQhBBBhaAAQhaAAhBhBg"),mask_graphics_31=(new cjs.Graphics).p("AqAGeQhAhAAAhbQAAhaBAhBQBAhABbAAQBaAABABAQBBBBAABaQAABbhBBAQhABAhaAAQhbAAhAhAg"),mask_graphics_32=(new cjs.Graphics).p("AqWGgQhAhAAAhbQAAhaBAhBQBBhABaAAQBbAABABAQBABBAABaQAABbhABAQhABAhbAAQhaAAhBhAg"),mask_graphics_33=(new cjs.Graphics).p("AqrGiQhAhAAAhbQAAhaBAhBQBBhABaAAQBbAABABAQBABBAABaQAABbhABAQhABAhbAAQhaAAhBhAg"),mask_graphics_34=(new cjs.Graphics).p("ArAGkQhAhAAAhaQAAhbBAhAQBAhABbAAQBaAABABAQBBBAAABbQAABahBBAQhABBhaAAQhbAAhAhBg"),mask_graphics_35=(new cjs.Graphics).p("ArVGmQhAhAAAhaQAAhbBAhAQBAhABbAAQBaAABABAQBBBAAABbQAABahBBAQhABBhaAAQhbAAhAhBg"),mask_graphics_36=(new cjs.Graphics).p("ArrGoQhAhAAAhaQAAhbBAhAQBBhABaAAQBbAABABAQBABAAABbQAABahABAQhABBhbAAQhaAAhBhBg"),mask_graphics_37=(new cjs.Graphics).p("AsAGrQhAhAAAhbQAAhbBAhAQBAhABbAAQBbAABABAQBABAAABbQAABbhABAQhABAhbAAQhbAAhAhAg"),mask_graphics_38=(new cjs.Graphics).p("AsVGtQhAhAAAhbQAAhaBAhBQBAhABbAAQBaAABABAQBBBBAABaQAABbhBBAQhABBhaAAQhbAAhAhBg"),mask_graphics_39=(new cjs.Graphics).p("Ar8GBQhAhAAAhaQAAhbBAhAQBAhABbAAQBaAABABAQBBBAAABbQAABahBBAQhABBhaAAQhbAAhAhBg"),mask_graphics_40=(new cjs.Graphics).p("ArBEKQhAhAAAhaQAAhaBAg/QBAhABaAAQBbAABABAQBAA/AABaQAABahABAQhABBhbAAQhaAAhAhBg"),mask_graphics_41=(new cjs.Graphics).p("AqPCaQhBhAABhaQgBhZBBhBQBAhABaABQBbgBBABAQBBBBgBBZQABBahBBAQhABBhbAAQhaAAhAhBg"),mask_graphics_42=(new cjs.Graphics).p("ApxCaQhBhAAAhaQAAhZBBhAQBAhABbAAQBaAABABAQBABAAABZQAABahABAQhABAhaAAQhbAAhAhAg"),mask_graphics_43=(new cjs.Graphics).p("AppCAQhAhAAAhYQAAhbBAhAQBBhABaAAQBbAABABAQBABAAABbQAABYhABAQhABAhbAAQhaAAhBhAg");this.timeline.addTween(cjs.Tween.get(mask).to({graphics:mask_graphics_0,x:-73.2,y:25.2}).wait(20).to({graphics:mask_graphics_20,x:-73,y:30.4}).wait(1).to({graphics:mask_graphics_21,x:-69.3,y:35.2}).wait(1).to({graphics:mask_graphics_22,x:-66.4,y:39.2}).wait(1).to({graphics:mask_graphics_23,x:-63.8,y:42.3}).wait(1).to({graphics:mask_graphics_24,x:-62.5,y:44.4}).wait(1).to({graphics:mask_graphics_25,x:-61.4,y:46}).wait(1).to({graphics:mask_graphics_26,x:-61.4,y:46.4}).wait(1).to({graphics:mask_graphics_27,x:-63.2,y:46.7}).wait(1).to({graphics:mask_graphics_28,x:-64.9,y:47}).wait(1).to({graphics:mask_graphics_29,x:-66.7,y:47.3}).wait(1).to({graphics:mask_graphics_30,x:-68.4,y:47.7}).wait(1).to({graphics:mask_graphics_31,x:-70.6,y:47.9}).wait(1).to({graphics:mask_graphics_32,x:-72.7,y:48.1}).wait(1).to({graphics:mask_graphics_33,x:-74.8,y:48.3}).wait(1).to({graphics:mask_graphics_34,x:-77,y:48.5}).wait(1).to({graphics:mask_graphics_35,x:-79.1,y:48.7}).wait(1).to({graphics:mask_graphics_36,x:-81.2,y:48.9}).wait(1).to({graphics:mask_graphics_37,x:-83.3,y:49.2}).wait(1).to({graphics:mask_graphics_38,x:-85.5,y:49.4}).wait(1).to({graphics:mask_graphics_39,x:-83,y:45}).wait(1).to({graphics:mask_graphics_40,x:-77.1,y:33.2}).wait(1).to({graphics:mask_graphics_41,x:-72.1,y:14.2}).wait(1).to({graphics:mask_graphics_42,x:-69.1,y:-11.3}).wait(1).to({graphics:mask_graphics_43,x:-68.2,y:-24.5}).wait(17)),this.instance_3=new lib.X_on_box("synched",0),this.instance_3.setTransform(-183.5,112.5,1.134,1.134,0,0,0,0,25.3),this.instance_3._off=!0,this.instance_3.mask=mask,this.timeline.addTween(cjs.Tween.get(this.instance_3).wait(11).to({_off:!1},0).wait(1).to({regX:.1,regY:-.3,scaleX:1.14,scaleY:1.14,x:-180.3,y:83.4,startPosition:1},0).wait(1).to({scaleX:1.14,scaleY:1.14,x:-177.3,startPosition:2},0).wait(1).to({scaleX:1.14,scaleY:1.14,x:-174.3,startPosition:3},0).wait(1).to({scaleX:1.14,scaleY:1.14,x:-171.3,y:83.3,startPosition:4},0).wait(1).to({scaleX:1.14,scaleY:1.14,x:-168.3,startPosition:5},0).wait(1).to({scaleX:1.14,scaleY:1.14,x:-165.3,startPosition:6},0).wait(1).to({scaleX:1.14,scaleY:1.14,x:-162.3,startPosition:7},0).wait(1).to({scaleX:1.14,scaleY:1.14,x:-159.3,y:83.2,startPosition:8},0).wait(1).to({scaleX:1.15,scaleY:1.15,x:-156.3,startPosition:9},0).wait(1).to({scaleX:1.15,scaleY:1.15,x:-153.3,startPosition:10},0).wait(1).to({scaleX:1.15,scaleY:1.15,x:-150.3,startPosition:11},0).wait(1).to({scaleX:1.15,scaleY:1.15,x:-147.3,y:83.1,startPosition:12},0).wait(1).to({regX:0,regY:25.3,scaleX:1.15,scaleY:1.15,x:-144.4,y:112.6,startPosition:0},0).wait(1).to({regX:.1,regY:-.3,scaleX:1.15,scaleY:1.15,x:-143.2,y:83.1,startPosition:1},0).wait(1).to({scaleX:1.15,scaleY:1.15,x:-142.1,y:83.2,startPosition:2},0).wait(1).to({scaleX:1.15,scaleY:1.15,x:-141,startPosition:3},0).wait(1).to({scaleX:1.15,scaleY:1.15,x:-139.9,startPosition:4},0).wait(1).to({scaleX:1.14,scaleY:1.14,x:-138.8,startPosition:5},0).wait(1).to({scaleX:1.14,scaleY:1.14,x:-137.6,y:83.3,startPosition:6},0).wait(1).to({scaleX:1.14,scaleY:1.14,x:-136.5,startPosition:7},0).wait(1).to({scaleX:1.14,scaleY:1.14,x:-135.3,startPosition:8},0).wait(1).to({scaleX:1.14,scaleY:1.14,x:-134.1,y:83.4,startPosition:9},0).wait(1).to({scaleX:1.14,scaleY:1.14,x:-132.9,startPosition:10},0).wait(1).to({scaleX:1.14,scaleY:1.14,x:-131.7,startPosition:11},0).wait(1).to({scaleX:1.13,scaleY:1.13,x:-130.4,y:83.5,startPosition:12},0).wait(1).to({scaleX:1.13,scaleY:1.13,x:-129,startPosition:13},0).wait(1).to({scaleX:1.13,scaleY:1.13,x:-127.7,startPosition:14},0).wait(1).to({scaleX:1.13,scaleY:1.13,x:-126.2,y:83.6,startPosition:15},0).wait(1).to({regX:-.1,regY:25.2,scaleX:1.13,scaleY:1.13,x:-124.9,y:112.4,startPosition:16},0).to({_off:!0},1).wait(19)),this.instance_4=new lib.box("synched",0),this.instance_4.setTransform(-183.5,112.5,1.134,1.134,0,0,0,0,25.3),this.instance_4._off=!0,this.instance_4.mask=mask,this.timeline.addTween(cjs.Tween.get(this.instance_4).wait(11).to({_off:!1},0).wait(1).to({regX:.1,regY:-.3,scaleX:1.14,scaleY:1.14,x:-180.3,y:83.4,startPosition:1},0).wait(1).to({scaleX:1.14,scaleY:1.14,x:-177.3,startPosition:2},0).wait(1).to({scaleX:1.14,scaleY:1.14,x:-174.3,startPosition:3},0).wait(1).to({scaleX:1.14,scaleY:1.14,x:-171.3,y:83.3,startPosition:4},0).wait(1).to({scaleX:1.14,scaleY:1.14,x:-168.3,startPosition:5},0).wait(1).to({scaleX:1.14,scaleY:1.14,x:-165.3,startPosition:6},0).wait(1).to({scaleX:1.14,scaleY:1.14,x:-162.3,startPosition:7},0).wait(1).to({scaleX:1.14,scaleY:1.14,x:-159.3,y:83.2,startPosition:8},0).wait(1).to({scaleX:1.15,scaleY:1.15,x:-156.3,startPosition:9},0).wait(1).to({scaleX:1.15,scaleY:1.15,x:-153.3,startPosition:10},0).wait(1).to({scaleX:1.15,scaleY:1.15,x:-150.3,startPosition:11},0).wait(1).to({scaleX:1.15,scaleY:1.15,x:-147.3,y:83.1,startPosition:12},0).wait(1).to({regX:0,regY:25.3,scaleX:1.15,scaleY:1.15,x:-144.4,y:112.6,startPosition:0},0).wait(1).to({regX:.1,regY:-.3,scaleX:1.15,scaleY:1.15,x:-143.2,y:83.1,startPosition:1},0).wait(1).to({scaleX:1.15,scaleY:1.15,x:-142.1,y:83.2,startPosition:2},0).wait(1).to({scaleX:1.15,scaleY:1.15,x:-141,startPosition:3},0).wait(1).to({scaleX:1.15,scaleY:1.15,x:-139.9,startPosition:4},0).wait(1).to({scaleX:1.14,scaleY:1.14,x:-138.8,startPosition:5},0).wait(1).to({scaleX:1.14,scaleY:1.14,x:-137.6,y:83.3,startPosition:6},0).wait(1).to({scaleX:1.14,scaleY:1.14,x:-136.5,startPosition:7},0).wait(1).to({scaleX:1.14,scaleY:1.14,x:-135.3,startPosition:8},0).wait(1).to({scaleX:1.14,scaleY:1.14,x:-134.1,y:83.4,startPosition:9},0).wait(1).to({scaleX:1.14,scaleY:1.14,x:-132.9,startPosition:10},0).wait(1).to({scaleX:1.14,scaleY:1.14,x:-131.7,startPosition:11},0).wait(1).to({scaleX:1.13,scaleY:1.13,x:-130.4,y:83.5,startPosition:12},0).wait(1).to({scaleX:1.13,scaleY:1.13,x:-129,startPosition:13},0).wait(1).to({scaleX:1.13,scaleY:1.13,x:-127.7,startPosition:14},0).wait(1).to({scaleX:1.13,scaleY:1.13,x:-126.2,y:83.6,startPosition:15},0).wait(1).to({regX:-.1,regY:25.2,scaleX:1.13,scaleY:1.13,x:-124.9,y:112.4,startPosition:16},0).to({_off:!0},1).wait(19)),this.instance_5=new lib.box("synched",0),this.instance_5.setTransform(-240.2,112.3,1,1,0,0,0,0,25.2),this.timeline.addTween(cjs.Tween.get(this.instance_5).to({x:-183.5,y:112.4},11).wait(1).to({regX:.1,regY:-.3,x:-180.3,y:86.9,startPosition:1},0).wait(1).to({x:-177.3,startPosition:2},0).wait(1).to({x:-174.3,startPosition:3},0).wait(1).to({x:-171.3,startPosition:4},0).wait(1).to({x:-168.3,startPosition:5},0).wait(1).to({x:-165.3,startPosition:6},0).wait(1).to({x:-162.3,startPosition:7},0).wait(1).to({x:-159.3,startPosition:8},0).wait(1).to({x:-156.3,startPosition:9},0).wait(1).to({x:-153.3,startPosition:10},0).wait(1).to({x:-150.3,startPosition:11},0).wait(1).to({x:-147.3,startPosition:12},0).wait(1).to({regX:0,regY:25.2,x:-144.4,y:112.4,startPosition:0},0).wait(1).to({regX:.1,regY:-.3,x:-143.2,y:86.9,startPosition:1},0).wait(1).to({x:-142.1,startPosition:2},0).wait(1).to({x:-141,startPosition:3},0).wait(1).to({x:-139.9,startPosition:4},0).wait(1).to({x:-138.7,startPosition:5},0).wait(1).to({x:-137.6,startPosition:6},0).wait(1).to({x:-136.5,startPosition:7},0).wait(1).to({x:-135.3,startPosition:8},0).wait(1).to({x:-134.1,startPosition:9},0).wait(1).to({x:-132.9,startPosition:10},0).wait(1).to({x:-131.6,startPosition:11},0).wait(1).to({x:-130.3,startPosition:12},0).wait(1).to({x:-129,startPosition:13},0).wait(1).to({x:-127.6,startPosition:14},0).wait(1).to({x:-126.2,startPosition:15},0).wait(1).to({regX:0,regY:25.2,x:-124.8,y:112.4,startPosition:16},0).to({rotation:2.5,x:-113.7,y:113.5,startPosition:18},2,cjs.Ease.get(1)).to({regX:-.5,regY:24.8,scaleX:1.31,scaleY:.68,rotation:-32.2,x:-122.5,y:55.4,startPosition:19},1).to({regX:-.6,regY:25.1,scaleX:.89,scaleY:1.22,rotation:-38.2,x:-208.3,y:-58.7,startPosition:20},1).to({x:-295.9,y:-162.5,startPosition:21},1).to({_off:!0},1).wait(14))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-265.9),(-26),274,193),(lib.Machine_B=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.instance=new lib.machine_02("synched",0),this.instance.setTransform(-119.9,36),this.timeline.addTween(cjs.Tween.get(this.instance).wait(60));var mask=new cjs.Shape;mask._off=!0;var mask_graphics_0=(new cjs.Graphics).p("AqZC6Qg/g/AAhZQAAhYA+g/QBAg/BZAAQBaAAA+A/QA/A/ABBYQAABZg/A/Qg/A/haAAIAAAAQhZAAg/g/g"),mask_graphics_19=(new cjs.Graphics).p("AqZC6Qg/g/AAhZQAAhYA+g/QBAg/BZAAQBaAAA+A/QA/A/ABBYQAABZg/A/Qg/A/haAAIAAAAQhZAAg/g/g"),mask_graphics_20=(new cjs.Graphics).p("ArSC9Qg/g+AAhaQAAhXA/hAQA/g/BaAAQBZAAA/A/QA/BAAABXQAABag/A+Qg/A/hZABIgBAAQhZAAg/hAg"),mask_graphics_21=(new cjs.Graphics).p("Ar0DAQg/g/AAhaQAAhXA/g/QA/hABZAAQBaAAA/A/QA/BAAABXQAABag/A+Qg/A/hZABIgBAAQhZAAg/g/g"),mask_graphics_22=(new cjs.Graphics).p("AsADBQg/g/AAhaQAAhXA/g/QA/g/BagBQBZAAA/BAQA/A/AABXQAABag/A/Qg+A/haAAIAAAAQhaAAg/g/g"),mask_graphics_23=(new cjs.Graphics).p("ApGEgQhZgEg8hCQg8hCAEhaQAEhXBCg8QBCg8BaAEQBZAEA8BCQA8BDgFBXQgEBahBA7Qg+A4hSAAIgMAAg"),mask_graphics_24=(new cjs.Graphics).p("AonE9QhZgIg5hEQg6hFAIhZQAJhXBEg5QBFg5BZAIQBZAIA5BFQA5BDgIBZQgIBZhFA4Qg8AyhMAAIgVgBg"),mask_graphics_25=(new cjs.Graphics).p("AoMFYQhZgLg2hHQg2hHALhZQAMhZBHg0QBHg2BZAMQBYALA2BGQA2BGgLBZQgMBZhHA2Qg6AshGAAQgPAAgQgCg"),mask_graphics_26=(new cjs.Graphics).p("AnzFwQhZgOgzhKQg0hIAPhYQAPhZBIgxQBJg0BZAPQBYAPAzBHQA0BJgPBYQgPBYhJAzQg4AphCAAQgTAAgTgEg"),mask_graphics_27=(new cjs.Graphics).p("AneGGQhXgSgxhLQgyhKAShXQAShYBKgwQBKgxBYASQBYASAxBIQAxBLgSBYQgSBXhKAxQg2Akg+AAQgWAAgYgEg"),mask_graphics_28=(new cjs.Graphics).p("AnKGZQhYgVgvhMQgvhLAUhXQAVhXBLgwQBMgtBXAVQBYASAuBMQAvBMgUBXQgUBXhMAvQg1Ahg6AAQgZAAgagGg"),mask_graphics_29=(new cjs.Graphics).p("Am6GpQhXgWgthOQgthMAWhXQAXhXBMgtQBOgrBWAUQBXAXAsBNQAuBNgXBXQgWBWhNAtQgzAeg4AAQgbAAgdgHg"),mask_graphics_30=(new cjs.Graphics).p("AmsG3QhWgYgshPQgshNAZhWQAYhXBOgrQBOgrBWAYQBWAYArBOQArBOgYBWQgYBWhNArQgyAcg2AAQgeAAgegIg"),mask_graphics_31=(new cjs.Graphics).p("AmhHCQhWgagqhPQgqhOAahWQAZhVBPgrQBOgqBWAaQBWAZAqBPQAqBPgaBWQgaBWhOApQgxAbgzAAQggAAgggKg"),mask_graphics_32=(new cjs.Graphics).p("AmYHLQhWgbgphQQgphPAbhVQAbhVBPgqQBPgpBVAbQBWAbAoBPQApBQgaBVQgbBVhPApQgwAZgyAAQghAAghgKg"),mask_graphics_33=(new cjs.Graphics).p("AmSHRQhVgcgphQQgohPAchVQAbhVBQgpQBPgoBWAcQBVAbAnBQQApBQgcBVQgbBVhQAoQgvAYgxAAQgiAAgigLg"),mask_graphics_34=(new cjs.Graphics).p("AmOHVQhVgdgohQQgohPAchVQAchVBQgoQBQgoBVAcQBVAcAnBQQAoBQgcBVQgcBVhQAoQgvAXgwAAQgiAAgjgLg"),mask_graphics_35=(new cjs.Graphics).p("AmOHVQhVgcgohQQgohQAdhVQAchVBQgoQBQgnBVAcQBUAcAoBQQAnBQgcBVQgcBVhQAoQguAXgxAAQgiAAgjgMg"),mask_graphics_36=(new cjs.Graphics).p("AmVHVQhUgdgnhRQgmhQAdhUQAehVBQgnQBQgmBVAdQBUAeAmBQQAnBRgdBUQgeBVhQAmQgtAWgvAAQgkAAglgNg"),mask_graphics_37=(new cjs.Graphics).p("AmnHWQhTghgkhSQgjhSAhhTQAghTBSgkQBSgjBUAhQBTAhAjBRQAjBTghBTQghBThRAjQgrATgqAAQgoAAgogQg"),mask_graphics_38=(new cjs.Graphics).p("AnFHWQhRgmgehUQgehUAmhRQAmhRBUgeQBUgeBRAmQBRAmAeBUQAeBUgmBRQgmBRhUAeQglANglAAQguAAgtgVg"),mask_graphics_39=(new cjs.Graphics).p("AnrHWQhOgsgXhXQgYhWAthNQAshOBWgYQBWgXBOAtQBOAsAXBWQAXBXgtBNQgsBOhWAXQgdAIgdAAQg2AAgzgdg"),mask_graphics_40=(new cjs.Graphics).p("AoXHVQhKgzgPhYQgQhYAzhJQA0hKBXgQQBYgPBKAzQBJAzAPBYQAQBYg0BKQgzBJhXAPQgVAEgTAAQhBAAg4gng"),mask_graphics_41=(new cjs.Graphics).p("ApFHTQhEg6gHhZQgIhZA5hEQA6hFBZgIQBZgHBEA6QBFA5AHBZQAHBZg5BEQg6BFhYAHIgVABQhMAAg9gyg"),mask_graphics_42=(new cjs.Graphics).p("ApvHPQhAg/AAhZQAAhZA/hAQA/g/BZgBQBaABA/A/QBAA/gBBZQAABZg/BAQg/A/hZAAIgBAAQhYAAg/g/g"),mask_graphics_43=(new cjs.Graphics).p("AoBIVQhZgGg7hEQg7hDAHhZQAGhZBEg7QBDg7BZAGQBZAHA7BEQA7BDgHBZQgHBZhDA7Qg9A1hOAAIgRgBg"),mask_graphics_44=(new cjs.Graphics).p("AokIaQhYgMg3hHQg3hGAMhZQALhYBHg3QBHg3BYAMQBZALA3BHQA2BHgMBYQgLBZhHA3Qg6AthHAAQgOAAgQgCg"),mask_graphics_45=(new cjs.Graphics).p("Ao9IcQhYgPgzhJQg0hJAPhYQAPhXBJg0QBJg0BYAPQBYAPA0BJQAzBJgPBYQgPBYhJA0Qg5AohBAAQgTAAgUgEg"),mask_graphics_46=(new cjs.Graphics).p("ApMIeQhXgRgyhKQgyhLARhXQARhYBLgyQBKgyBXARQBYASAyBKQAyBKgSBYQgRBXhLAyQg3Alg+AAQgVAAgXgEg"),mask_graphics_47=(new cjs.Graphics).p("ApPIfQhXgRgyhLQgxhLAShXQAShYBKgxQBLgxBXARQBYATAxBKQAyBLgTBXQgSBYhLAxQg2Akg+AAQgWAAgXgFg"),mask_graphics_48=(new cjs.Graphics).p("ApJIbQhYgRgyhJQgzhKARhYQAQhYBKgyQBKgzBXARQBYAQAzBKQAyBKgRBXQgQBYhKAzQg4Amg/AAQgVAAgVgEg"),mask_graphics_49=(new cjs.Graphics).p("Ao4INQhZgMg2hHQg2hHANhZQAMhYBHg2QBIg2BYAMQBYAMA2BIQA2BHgMBYQgNBZhHA2Qg6AshFAAQgQAAgQgDg"),mask_graphics_50=(new cjs.Graphics).p("AofH3QhZgFg7hDQg7hDAGhaQAFhZBDg7QBDg7BZAFQBaAGA7BDQA7BDgGBZQgGBahDA7Qg9A2hPAAIgQgBg"),mask_graphics_51=(new cjs.Graphics).p("AqaGeQhBg9gDhZQgDhZA9hCQA9hBBZgDQBZgDBCA9QBBA9ADBZQACBZg9BCQg9BBhYADIgJAAQhUAAg+g6g"),mask_graphics_52=(new cjs.Graphics).p("Ap9GJQhIg1gNhZQgOhYA2hIQA1hIBYgNQBYgLBIAzQBIA2ANBYQANBYg1BIQg2BIhXANQgSADgRAAQhEAAg5grg"),mask_graphics_53=(new cjs.Graphics).p("ApgFwQhOgsgYhWQgYhWAshOQAshMBVgYQBXgYBOAsQBOAqAXBWQAYBWgsBOQgsBOhWAYQgeAIgdAAQg2AAgygcg"),mask_graphics_54=(new cjs.Graphics).p("ApFFUQhTghgihTQgjhSAihTQAihRBSgiQBSgjBTAiQBTAhAiBRQAiBSghBTQgiBThSAiQgpASgqAAQgpAAgpgRg"),mask_graphics_55=(new cjs.Graphics).p("AotE4QhWgXgshOQgthNAYhXQAXhUBOgsQBNgsBXAXQBWAYAsBNQAsBMgYBWQgXBXhNAsQgzAcg2AAQgdAAgegIg"),mask_graphics_56=(new cjs.Graphics).p("AoaEfQhYgPg0hIQg0hIAOhZQAOhWBIg0QBJg1BYAPQBYAOA0BIQA0BHgOBYQgOBZhIAzQg5AqhDAAQgSAAgTgDg"),mask_graphics_57=(new cjs.Graphics).p("AoMEJQhZgGg6hEQg6hEAGhZQAHhXBDg6QBEg6BZAGQBaAHA5BEQA6BEgGBXQgHBZhDA6Qg9A0hOAAIgSgBg"),mask_graphics_58=(new cjs.Graphics).p("AoDD7QhagBg+hBQg+hAAChaQAChXBAg+QBBg+BZACQBZACA+BAQA+BBgCBXQgCBahAA9Qg+A8hXAAIgEAAg"),mask_graphics_59=(new cjs.Graphics).p("AqZC3Qg/g+AAhaQAAhXA+hAQBAg/BZAAQBaAAA+A/QA/BAABBXQAABag/A+Qg/BAhaAAIAAAAQhZAAg/hAg");this.timeline.addTween(cjs.Tween.get(mask).to({graphics:mask_graphics_0,x:-73,y:25}).wait(19).to({graphics:mask_graphics_19,x:-73,y:25}).wait(1).to({graphics:mask_graphics_20,x:-78.6,y:25.3}).wait(1).to({graphics:mask_graphics_21,x:-82,y:25.5}).wait(1).to({graphics:mask_graphics_22,x:-83.2,y:25.6}).wait(1).to({graphics:mask_graphics_23,x:-78.9,y:28.9}).wait(1).to({graphics:mask_graphics_24,x:-74.9,y:31.9}).wait(1).to({graphics:mask_graphics_25,x:-71.3,y:34.7}).wait(1).to({graphics:mask_graphics_26,x:-68.1,y:37.2}).wait(1).to({graphics:mask_graphics_27,x:-65.2,y:39.5}).wait(1).to({graphics:mask_graphics_28,x:-62.7,y:41.5}).wait(1).to({graphics:mask_graphics_29,x:-60.6,y:43.3}).wait(1).to({graphics:mask_graphics_30,x:-58.7,y:44.8}).wait(1).to({graphics:mask_graphics_31,x:-57.3,y:46}).wait(1).to({graphics:mask_graphics_32,x:-56.1,y:47}).wait(1).to({graphics:mask_graphics_33,x:-55.3,y:47.7}).wait(1).to({graphics:mask_graphics_34,x:-54.8,y:48.1}).wait(1).to({graphics:mask_graphics_35,x:-54.8,y:48.1}).wait(1).to({graphics:mask_graphics_36,x:-55.1,y:48.3}).wait(1).to({graphics:mask_graphics_37,x:-56.2,y:48.6}).wait(1).to({graphics:mask_graphics_38,x:-57.9,y:49.2}).wait(1).to({graphics:mask_graphics_39,x:-60.2,y:50}).wait(1).to({graphics:mask_graphics_40,x:-62.9,y:50.8}).wait(1).to({graphics:mask_graphics_41,x:-65.9,y:51.8}).wait(1).to({graphics:mask_graphics_42,x:-68.8,y:52.7}).wait(1).to({graphics:mask_graphics_43,x:-71.5,y:53.4}).wait(1).to({graphics:mask_graphics_44,x:-73.7,y:54}).wait(1).to({graphics:mask_graphics_45,x:-75.4,
y:54.4}).wait(1).to({graphics:mask_graphics_46,x:-76.4,y:54.7}).wait(1).to({graphics:mask_graphics_47,x:-76.5,y:54.9}).wait(1).to({graphics:mask_graphics_48,x:-76.3,y:54.3}).wait(1).to({graphics:mask_graphics_49,x:-75.6,y:52.8}).wait(1).to({graphics:mask_graphics_50,x:-74.6,y:50.4}).wait(1).to({graphics:mask_graphics_51,x:-73.6,y:47.3}).wait(1).to({graphics:mask_graphics_52,x:-72.7,y:43.6}).wait(1).to({graphics:mask_graphics_53,x:-72,y:39.7}).wait(1).to({graphics:mask_graphics_54,x:-71.7,y:35.7}).wait(1).to({graphics:mask_graphics_55,x:-71.8,y:32.1}).wait(1).to({graphics:mask_graphics_56,x:-72.1,y:29}).wait(1).to({graphics:mask_graphics_57,x:-72.5,y:26.7}).wait(1).to({graphics:mask_graphics_58,x:-72.8,y:25.2}).wait(1).to({graphics:mask_graphics_59,x:-73,y:24.7}).wait(1)),this.instance_1=new lib.v_on_box("synched",0),this.instance_1.setTransform(-240.3,112.5,1.122,1.122,0,0,0,-.1,25.3),this.instance_1.mask=mask,this.timeline.addTween(cjs.Tween.get(this.instance_1).to({regY:25.2,scaleX:1.11,scaleY:1.11,x:-183.6,y:112.4,startPosition:11},11).to({regY:25.3,scaleX:1.12,scaleY:1.12,x:-144.5,y:112.6,startPosition:24},13).to({scaleX:1.13,scaleY:1.13,x:-98,startPosition:51},27).to({scaleX:1.13,scaleY:1.13,x:-17.6,y:112.7,startPosition:59},8).wait(1)),this.instance_2=new lib.box("synched",0),this.instance_2.setTransform(-240.3,112.5,1.122,1.122,0,0,0,-.1,25.3),this.instance_2.mask=mask,this.timeline.addTween(cjs.Tween.get(this.instance_2).to({regY:25.2,scaleX:1.11,scaleY:1.11,x:-183.6,y:112.4},11).wait(1).to({regX:.1,regY:-.3,scaleX:1.11,scaleY:1.11,x:-180.3,y:84,startPosition:1},0).wait(1).to({scaleX:1.11,scaleY:1.11,x:-177.3,startPosition:2},0).wait(1).to({scaleX:1.11,scaleY:1.11,x:-174.3,startPosition:3},0).wait(1).to({scaleX:1.12,scaleY:1.12,x:-171.3,startPosition:4},0).wait(1).to({x:-168.3,y:83.9,startPosition:5},0).wait(1).to({scaleX:1.12,scaleY:1.12,x:-165.3,startPosition:6},0).wait(1).to({scaleX:1.12,scaleY:1.12,x:-162.3,startPosition:7},0).wait(1).to({scaleX:1.12,scaleY:1.12,x:-159.3,startPosition:8},0).wait(1).to({scaleX:1.12,scaleY:1.12,x:-156.3,startPosition:9},0).wait(1).to({scaleX:1.12,scaleY:1.12,x:-153.3,startPosition:10},0).wait(1).to({x:-150.3,startPosition:11},0).wait(1).to({scaleX:1.12,scaleY:1.12,x:-147.3,startPosition:12},0).wait(1).to({regX:-.1,regY:25.3,scaleX:1.12,scaleY:1.12,x:-144.5,y:112.6,startPosition:0},0).wait(1).to({regX:.1,regY:-.3,x:-143.2,y:83.8,startPosition:1},0).wait(1).to({x:-142.1,startPosition:2},0).wait(1).to({scaleX:1.12,scaleY:1.12,x:-141,startPosition:3},0).wait(1).to({x:-139.9,startPosition:4},0).wait(1).to({x:-138.7,startPosition:5},0).wait(1).to({x:-137.6,startPosition:6},0).wait(1).to({x:-136.5,startPosition:7},0).wait(1).to({x:-135.3,startPosition:8},0).wait(1).to({x:-134.1,startPosition:9},0).wait(1).to({scaleX:1.12,scaleY:1.12,x:-132.9,startPosition:10},0).wait(1).to({x:-131.6,startPosition:11},0).wait(1).to({x:-130.3,startPosition:12},0).wait(1).to({x:-129,startPosition:13},0).wait(1).to({x:-127.6,startPosition:14},0).wait(1).to({x:-126.2,startPosition:15},0).wait(1).to({scaleX:1.13,scaleY:1.13,x:-124.7,startPosition:16},0).wait(1).to({x:-123.1,startPosition:17},0).wait(1).to({x:-121.4,startPosition:18},0).wait(1).to({x:-119.6,y:83.7,startPosition:19},0).wait(1).to({scaleX:1.13,scaleY:1.13,x:-117.6,startPosition:20},0).wait(1).to({x:-115.5,startPosition:21},0).wait(1).to({x:-113.2,startPosition:22},0).wait(1).to({x:-110.7,startPosition:23},0).wait(1).to({scaleX:1.13,scaleY:1.13,x:-108,startPosition:24},0).wait(1).to({x:-104.9,startPosition:25},0).wait(1).to({scaleX:1.13,scaleY:1.13,x:-101.6,startPosition:26},0).wait(1).to({regX:-.1,regY:25.3,x:-98,y:112.6,startPosition:0},0).to({scaleX:1.13,scaleY:1.13,x:-17.6,y:112.7,startPosition:8},8).wait(1)),this.instance_3=new lib.box("synched",0),this.instance_3.setTransform(-240.2,112.3,1,1,0,0,0,0,25.2),this.timeline.addTween(cjs.Tween.get(this.instance_3).to({x:-183.5,y:112.4},11).wait(1).to({regX:.1,regY:-.3,x:-180.3,y:86.9,startPosition:1},0).wait(1).to({x:-177.3,startPosition:2},0).wait(1).to({x:-174.3,startPosition:3},0).wait(1).to({x:-171.3,startPosition:4},0).wait(1).to({x:-168.3,startPosition:5},0).wait(1).to({x:-165.3,startPosition:6},0).wait(1).to({x:-162.3,startPosition:7},0).wait(1).to({x:-159.3,startPosition:8},0).wait(1).to({x:-156.3,startPosition:9},0).wait(1).to({x:-153.3,startPosition:10},0).wait(1).to({x:-150.3,startPosition:11},0).wait(1).to({x:-147.3,startPosition:12},0).wait(1).to({regX:0,regY:25.2,x:-144.4,y:112.4,startPosition:0},0).wait(1).to({regX:.1,regY:-.3,x:-143.2,y:86.9,startPosition:1},0).wait(1).to({x:-142.1,startPosition:2},0).wait(1).to({x:-141,startPosition:3},0).wait(1).to({x:-139.9,startPosition:4},0).wait(1).to({x:-138.7,startPosition:5},0).wait(1).to({x:-137.6,startPosition:6},0).wait(1).to({x:-136.5,startPosition:7},0).wait(1).to({x:-135.3,startPosition:8},0).wait(1).to({x:-134.1,startPosition:9},0).wait(1).to({x:-132.9,startPosition:10},0).wait(1).to({x:-131.6,startPosition:11},0).wait(1).to({x:-130.3,startPosition:12},0).wait(1).to({x:-129,startPosition:13},0).wait(1).to({x:-127.6,startPosition:14},0).wait(1).to({x:-126.2,startPosition:15},0).wait(1).to({x:-124.7,startPosition:16},0).wait(1).to({x:-123.1,startPosition:17},0).wait(1).to({x:-121.4,startPosition:18},0).wait(1).to({x:-119.6,startPosition:19},0).wait(1).to({x:-117.6,startPosition:20},0).wait(1).to({x:-115.5,startPosition:21},0).wait(1).to({x:-113.2,startPosition:22},0).wait(1).to({x:-110.7,startPosition:23},0).wait(1).to({x:-108,startPosition:24},0).wait(1).to({x:-104.9,startPosition:25},0).wait(1).to({x:-101.6,startPosition:26},0).wait(1).to({regX:0,regY:25.2,x:-97.9,y:112.5,startPosition:0},0).to({x:-17.5,startPosition:8},8).wait(1)),this.instance_4=new lib.hop("synched",0),this.instance_4.setTransform(-122.8,149.2),this.instance_5=new lib.moving_line_1("synched",0),this.instance_5.setTransform(-121.3,119.9,1,1,0,0,0,-2,0),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance_5},{t:this.instance_4}]}).wait(60))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-265.9),(-26),274,193),(lib.machine_03_NoCrate=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.instance=new lib.clockmachine("synched",4),this.instance.setTransform(-51.1,-14.8),this.timeline.addTween(cjs.Tween.get(this.instance).wait(60)),this.instance_1=new lib.clockmachine("synched",9),this.instance_1.setTransform(-79.4,-14.8),this.timeline.addTween(cjs.Tween.get(this.instance_1).wait(60)),this.instance_2=new lib.clockmachine("synched",14),this.instance_2.setTransform(-107.7,-14.8),this.timeline.addTween(cjs.Tween.get(this.instance_2).wait(60));var mask=new cjs.Shape;mask._off=!0,mask.graphics.p("AuRFbIAAq1IACAAIcdAAIAEAAIAAK1g"),mask.setTransform(-131.3,52.5),this.instance_3=new lib.Group,this.instance_3.setTransform(-77,45.3,1,1,0,0,0,42.7,92.3),this.instance_3.alpha=.5,this.instance_4=new lib.Group_1,this.instance_4.setTransform(-118.4,48.4,1,1,0,0,0,50.3,95.4),this.instance_4.alpha=.5,this.instance_5=new lib.Group_2,this.instance_5.setTransform(-173.2,50.3,1,1,0,0,0,38.5,57),this.instance_5.alpha=.5,this.shape=new cjs.Shape,this.shape.graphics.f().s("#848484").ss(2).p("AOQFdIgEAAI8aAAIAAqwIAAgJIceAAg"),this.shape.setTransform(-131.4,52.4),this.shape_1=new cjs.Shape,this.shape_1.graphics.f("#DFDFDF").s().p("AuPFcIAAq3IAFAAIcaAAIAAKuI8aAAIAAquIAAKuIcaAAIAAAJgAOQFTg"),this.shape_1.setTransform(-131.8,53.3),this.instance_3.mask=this.instance_4.mask=this.instance_5.mask=this.shape.mask=this.shape_1.mask=mask,this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_1},{t:this.shape},{t:this.instance_5},{t:this.instance_4},{t:this.instance_3}]}).wait(60)),this.instance_6=new lib.Symbol36("synched",9),this.instance_6.setTransform(-171.7,-18.1),this.timeline.addTween(cjs.Tween.get(this.instance_6).wait(60)),this.instance_7=new lib.Symbol36("synched",11),this.instance_7.setTransform(-179.7,-18.1),this.timeline.addTween(cjs.Tween.get(this.instance_7).wait(60)),this.instance_8=new lib.Symbol36("synched",13),this.instance_8.setTransform(-187.7,-18.1),this.timeline.addTween(cjs.Tween.get(this.instance_8).wait(60)),this.instance_9=new lib.Symbol36("synched",15),this.instance_9.setTransform(-195.7,-18.1),this.timeline.addTween(cjs.Tween.get(this.instance_9).wait(60)),this.instance_10=new lib.Symbol36("synched",17),this.instance_10.setTransform(-203.7,-18.1),this.timeline.addTween(cjs.Tween.get(this.instance_10).wait(60)),this.instance_11=new lib.Symbol36("synched",0),this.instance_11.setTransform(-211.7,-18.1),this.timeline.addTween(cjs.Tween.get(this.instance_11).wait(60)),this.instance_12=new lib.Lights("synched",19),this.instance_12.setTransform(-50.7,7,1,1,0,0,0,15.6,-3.4),this.instance_13=new lib.Lights_static("synched",0),this.instance_13.setTransform(-208.7,7.3,1,1,0,0,0,15.6,-3.4),this.shape_2=new cjs.Shape,this.shape_2.graphics.f().s("#999999").ss(1,1,1).p("ABUhFQALAOAHAQIhpCRQgSgBgQgIgAA7haQAHAFAHAGIh7CpQgIgEgHgGgAhbAtQgKgVAAgYQAAgrAfgfQAfgfAqAAQAIAAAHABg"),this.shape_2.setTransform(-149.4,68.5),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_2},{t:this.instance_13},{t:this.instance_12}]}).wait(60)),this.shape_3=new cjs.Shape,this.shape_3.graphics.f().s("#848484").ss(2).p("AIzo1I2UAAQg/AAgtAtQgsAtAABAIAAIaIi+AAIAAN1MAlvAAAIAA/nIqFAAIAAG+IAAAOAI5o1IgGAAAPBK+I8fAAIAAq6IcfAAg"),this.shape_3.setTransform(-136,17),this.shape_4=new cjs.Shape,this.shape_4.graphics.f("#FFFFFF").s().p("Ay2P0IAAt1IC+AAIAAoaQgBg/AtguQAsgtA/AAIWUAAIAAAOIAAgOIAAm+IKEAAIAAfngAteK+IcfAAIAAq6I8fAAgAI4o1IgFAAg"),this.shape_4.setTransform(-136,17),this.shape_5=new cjs.Shape,this.shape_5.graphics.f().s("#848484").ss(2).p("EApfAAcMhS+AAAQgLAAgJgIQgIgJAAgLQAAgKAIgJQAJgIALAAMBS+AAAQAMAAAIAIQAJAJAAAKQAAALgJAJQgIAIgMAAg"),this.shape_5.setTransform(9,121.5),this.shape_6=new cjs.Shape,this.shape_6.graphics.f("#DFDFDF").s().p("EgpeAAcQgMAAgIgIQgJgJAAgLQAAgKAJgJQAIgIAMAAMBS9AAAQAMAAAIAIQAJAJAAAKQAAALgJAJQgIAIgMAAg"),this.shape_6.setTransform(9,121.5),this.shape_7=new cjs.Shape,this.shape_7.graphics.f("#C5C5C5").s().p("AghAiQgOgOAAgUQAAgTAOgOQAPgOASAAQAUAAAOAOQAOAOAAATQAAAUgOAOQgOAOgUAAQgSAAgPgOg"),this.shape_7.setTransform(-31.5,108.7),this.shape_8=new cjs.Shape,this.shape_8.graphics.f().s("#C5C5C5").ss(1.6).p("ABZAAQAAAkgaAbQgbAagkAAQgkAAgagaQgagbAAgkQAAgjAagbQAagaAkAAQAkAAAbAaQAaAbAAAjg"),this.shape_8.setTransform(-31.5,108.7),this.shape_9=new cjs.Shape,this.shape_9.graphics.f().s("#888888").ss(2.3,1).p("AgchTIA5Cn"),this.shape_9.setTransform(-163.5,109.7),this.shape_10=new cjs.Shape,this.shape_10.graphics.f().s("#888888").ss(2.3,1).p("AgchTIA5Cn"),this.shape_10.setTransform(-178.2,109.4),this.shape_11=new cjs.Shape,this.shape_11.graphics.f().s("#888888").ss(2.3,1).p("AgchTIA5Cn"),this.shape_11.setTransform(-192.8,109),this.shape_12=new cjs.Shape,this.shape_12.graphics.f().s("#888888").ss(2.3,1).p("AgchTIA5Cn"),this.shape_12.setTransform(-207.6,108.7),this.shape_13=new cjs.Shape,this.shape_13.graphics.f().s("#888888").ss(2.3,1).p("AgchTIA5Cn"),this.shape_13.setTransform(-222.3,108.3),this.shape_14=new cjs.Shape,this.shape_14.graphics.f().s("#888888").ss(2.3,1).p("AgchTIA5Cn"),this.shape_14.setTransform(-237,108),this.shape_15=new cjs.Shape,this.shape_15.graphics.f().s("#888888").ss(2.3,1).p("AgchTIA5Cn"),this.shape_15.setTransform(-251.7,107.6),this.shape_16=new cjs.Shape,this.shape_16.graphics.f("#8EDC91").s().p("AghAiQgOgOAAgUQAAgTAOgOQAPgOASAAQATAAAPAOQAOAOAAATQAAAUgOAOQgPAOgTAAQgSAAgPgOg"),this.shape_16.setTransform(-146.3,108.7),this.shape_17=new cjs.Shape,this.shape_17.graphics.f().s("#848484").ss(2).p("ABZAAQAAAkgaAbQgbAagkAAQgkAAgagaQgagbAAgkQAAgjAagbQAagaAkAAQAkAAAbAaQAaAbAAAjg"),this.shape_17.setTransform(-146.3,108.7),this.shape_18=new cjs.Shape,this.shape_18.graphics.f("#FFFFFF").s().p("Ag+A+QgagaAAgkQAAgjAagbQAagaAkAAQAlAAAaAaQAaAbAAAjQAAAlgaAZQgbAbgkAAQgkAAgagbg"),this.shape_18.setTransform(-146.3,108.7),this.shape_19=new cjs.Shape,this.shape_19.graphics.f("#8EDC91").s().p("AghAiQgOgOAAgUQAAgTAOgOQAOgOATAAQATAAAPAOQAOAOAAATQAAAUgOAOQgPAOgTAAQgTAAgOgOg"),this.shape_19.setTransform(-268.5,108.7),this.shape_20=new cjs.Shape,this.shape_20.graphics.f().s("#848484").ss(2).p("ABZAAQAAAlgaAZQgbAbgkAAQgjAAgbgbQgagZAAglQAAgkAagaQAbgaAjAAQAkAAAbAaQAaAaAAAkg"),this.shape_20.setTransform(-268.5,108.7),this.shape_21=new cjs.Shape,this.shape_21.graphics.f("#FFFFFF").s().p("Ag+A/QgagbAAgkQAAgkAagaQAagaAkAAQAkAAAbAaQAaAaAAAkQAAAkgaAbQgbAagkAAQgkAAgagag"),this.shape_21.setTransform(-268.5,108.7),this.shape_22=new cjs.Shape,this.shape_22.graphics.f().s("#848484").ss(2).p("AK8ABQAAAlgbAZQgaAbgkAAIzFAAQgkAAgagbQgbgZAAglIAAgBQAAglAbgZQAagbAkAAITFAAQAkAAAaAbQAbAZAAAlg"),this.shape_22.setTransform(-207.5,108.7),this.shape_23=new cjs.Shape,this.shape_23.graphics.f("#FFFFFF").s().p("ApiBZQgkAAgbgZQgagbABgkIAAgBQgBglAagaQAbgaAkAAITEAAQAlAAAaAaQAaAaAAAlIAAABQAAAkgaAbQgaAZglAAg"),this.shape_23.setTransform(-207.5,108.7),this.instance_14=new lib.ClipGroup,this.instance_14.setTransform(120.5,140.3,1,1,0,0,0,69,68),this.instance_15=new lib.ClipGroup_1,this.instance_15.setTransform(252.5,140.3,1,1,0,0,0,69,68),this.instance_16=new lib.ClipGroup_2,this.instance_16.setTransform(-21.5,140.3,1,1,0,0,0,69,68),this.instance_17=new lib.ClipGroup_3,this.instance_17.setTransform(-205.4,140.3,1,1,0,0,0,69,68),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance_17},{t:this.instance_16},{t:this.instance_15},{t:this.instance_14},{t:this.shape_23},{t:this.shape_22},{t:this.shape_21},{t:this.shape_20},{t:this.shape_19},{t:this.shape_18},{t:this.shape_17},{t:this.shape_16},{t:this.shape_15},{t:this.shape_14},{t:this.shape_13},{t:this.shape_12},{t:this.shape_11},{t:this.shape_10},{t:this.shape_9},{t:this.shape_8},{t:this.shape_7},{t:this.shape_6},{t:this.shape_5},{t:this.shape_4},{t:this.shape_3}]}).wait(60)),this.instance_18=new lib.moving_line("synched",0),this.instance_18.setTransform(122.4,109,1,1,180,0,0,-2.1,0),this.timeline.addTween(cjs.Tween.get(this.instance_18).wait(60))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-282.6),(-139.7),604.5,348.2),(lib.machine_03=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.instance=new lib.clockmachine("synched",4),this.instance.setTransform(-51.1,-14.8),this.timeline.addTween(cjs.Tween.get(this.instance).wait(60)),this.instance_1=new lib.clockmachine("synched",9),this.instance_1.setTransform(-79.4,-14.8),this.timeline.addTween(cjs.Tween.get(this.instance_1).wait(60)),this.instance_2=new lib.clockmachine("synched",14),this.instance_2.setTransform(-107.7,-14.8),this.timeline.addTween(cjs.Tween.get(this.instance_2).wait(60)),this.instance_3=new lib.sampling("synched",0),this.instance_3.setTransform(-127,43,1,1,0,0,0,4.4,-5),this.timeline.addTween(cjs.Tween.get(this.instance_3).wait(60)),this.instance_4=new lib.Symbol36("synched",9),this.instance_4.setTransform(-171.7,-18.1),this.timeline.addTween(cjs.Tween.get(this.instance_4).wait(60)),this.instance_5=new lib.Symbol36("synched",11),this.instance_5.setTransform(-179.7,-18.1),this.timeline.addTween(cjs.Tween.get(this.instance_5).wait(60)),this.instance_6=new lib.Symbol36("synched",13),this.instance_6.setTransform(-187.7,-18.1),this.timeline.addTween(cjs.Tween.get(this.instance_6).wait(60)),this.instance_7=new lib.Symbol36("synched",15),this.instance_7.setTransform(-195.7,-18.1),this.timeline.addTween(cjs.Tween.get(this.instance_7).wait(60)),this.instance_8=new lib.Symbol36("synched",17),this.instance_8.setTransform(-203.7,-18.1),this.timeline.addTween(cjs.Tween.get(this.instance_8).wait(60)),this.instance_9=new lib.Symbol36("synched",0),this.instance_9.setTransform(-211.7,-18.1),this.timeline.addTween(cjs.Tween.get(this.instance_9).wait(60)),this.instance_10=new lib.Lights("synched",19),this.instance_10.setTransform(-50.7,7,1,1,0,0,0,15.6,-3.4),this.instance_11=new lib.Lights("synched",0),this.instance_11.setTransform(-208.7,7.3,1,1,0,0,0,15.6,-3.4),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance_11},{t:this.instance_10}]}).wait(60)),this.shape=new cjs.Shape,this.shape.graphics.f().s("#848484").ss(2).p("AIzo1I2UAAQg/AAgtAtQgsAtAABAIAAIaIi+AAIAAN1MAlvAAAIAA/nIqFAAIAAG+IAAAOAI5o1IgGAAAPBK+I8fAAIAAq6IcfAAg"),this.shape.setTransform(-136,17),this.shape_1=new cjs.Shape,this.shape_1.graphics.f("#FFFFFF").s().p("Ay2P0IAAt1IC+AAIAAoaQgBg/AtguQAsgtA/AAIWUAAIAAAOIAAgOIAAm+IKEAAIAAfngAteK+IcfAAIAAq6I8fAAgAI4o1IgFAAg"),this.shape_1.setTransform(-136,17),this.shape_2=new cjs.Shape,this.shape_2.graphics.f().s("#848484").ss(2).p("EApfAAcMhS+AAAQgLAAgJgIQgIgJAAgLQAAgKAIgJQAJgIALAAMBS+AAAQAMAAAIAIQAJAJAAAKQAAALgJAJQgIAIgMAAg"),this.shape_2.setTransform(9,121.5),this.shape_3=new cjs.Shape,this.shape_3.graphics.f("#DFDFDF").s().p("EgpeAAcQgMAAgIgIQgJgJAAgLQAAgKAJgJQAIgIAMAAMBS9AAAQAMAAAIAIQAJAJAAAKQAAALgJAJQgIAIgMAAg"),this.shape_3.setTransform(9,121.5),this.shape_4=new cjs.Shape,this.shape_4.graphics.f("#C5C5C5").s().p("AghAiQgOgOAAgUQAAgTAOgOQAPgOASAAQAUAAAOAOQAOAOAAATQAAAUgOAOQgOAOgUAAQgSAAgPgOg"),this.shape_4.setTransform(-31.5,108.7),this.shape_5=new cjs.Shape,this.shape_5.graphics.f().s("#C5C5C5").ss(1.6).p("ABZAAQAAAkgaAbQgbAagkAAQgkAAgagaQgagbAAgkQAAgjAagbQAagaAkAAQAkAAAbAaQAaAbAAAjg"),this.shape_5.setTransform(-31.5,108.7),this.shape_6=new cjs.Shape,this.shape_6.graphics.f().s("#888888").ss(2.3,1).p("AgchTIA5Cn"),this.shape_6.setTransform(-163.5,109.7),this.shape_7=new cjs.Shape,this.shape_7.graphics.f().s("#888888").ss(2.3,1).p("AgchTIA5Cn"),this.shape_7.setTransform(-178.2,109.4),this.shape_8=new cjs.Shape,this.shape_8.graphics.f().s("#888888").ss(2.3,1).p("AgchTIA5Cn"),this.shape_8.setTransform(-192.8,109),this.shape_9=new cjs.Shape,this.shape_9.graphics.f().s("#888888").ss(2.3,1).p("AgchTIA5Cn"),this.shape_9.setTransform(-207.6,108.7),this.shape_10=new cjs.Shape,this.shape_10.graphics.f().s("#888888").ss(2.3,1).p("AgchTIA5Cn"),this.shape_10.setTransform(-222.3,108.3),this.shape_11=new cjs.Shape,this.shape_11.graphics.f().s("#888888").ss(2.3,1).p("AgchTIA5Cn"),this.shape_11.setTransform(-237,108),this.shape_12=new cjs.Shape,this.shape_12.graphics.f().s("#888888").ss(2.3,1).p("AgchTIA5Cn"),this.shape_12.setTransform(-251.7,107.6),this.shape_13=new cjs.Shape,this.shape_13.graphics.f("#8EDC91").s().p("AghAiQgOgOAAgUQAAgTAOgOQAPgOASAAQATAAAPAOQAOAOAAATQAAAUgOAOQgPAOgTAAQgSAAgPgOg"),this.shape_13.setTransform(-146.3,108.7),this.shape_14=new cjs.Shape,this.shape_14.graphics.f().s("#848484").ss(2).p("ABZAAQAAAkgaAbQgbAagkAAQgkAAgagaQgagbAAgkQAAgjAagbQAagaAkAAQAkAAAbAaQAaAbAAAjg"),this.shape_14.setTransform(-146.3,108.7),this.shape_15=new cjs.Shape,this.shape_15.graphics.f("#FFFFFF").s().p("Ag+A+QgagaAAgkQAAgjAagbQAagaAkAAQAlAAAaAaQAaAbAAAjQAAAlgaAZQgbAbgkAAQgkAAgagbg"),this.shape_15.setTransform(-146.3,108.7),this.shape_16=new cjs.Shape,this.shape_16.graphics.f("#8EDC91").s().p("AghAiQgOgOAAgUQAAgTAOgOQAOgOATAAQATAAAPAOQAOAOAAATQAAAUgOAOQgPAOgTAAQgTAAgOgOg"),this.shape_16.setTransform(-268.5,108.7),this.shape_17=new cjs.Shape,this.shape_17.graphics.f().s("#848484").ss(2).p("ABZAAQAAAlgaAZQgbAbgkAAQgjAAgbgbQgagZAAglQAAgkAagaQAbgaAjAAQAkAAAbAaQAaAaAAAkg"),this.shape_17.setTransform(-268.5,108.7),this.shape_18=new cjs.Shape,this.shape_18.graphics.f("#FFFFFF").s().p("Ag+A/QgagbAAgkQAAgkAagaQAagaAkAAQAkAAAbAaQAaAaAAAkQAAAkgaAbQgbAagkAAQgkAAgagag"),this.shape_18.setTransform(-268.5,108.7),this.shape_19=new cjs.Shape,this.shape_19.graphics.f().s("#848484").ss(2).p("AK8ABQAAAlgbAZQgaAbgkAAIzFAAQgkAAgagbQgbgZAAglIAAgBQAAglAbgZQAagbAkAAITFAAQAkAAAaAbQAbAZAAAlg"),this.shape_19.setTransform(-207.5,108.7),this.shape_20=new cjs.Shape,this.shape_20.graphics.f("#FFFFFF").s().p("ApiBZQgkAAgbgZQgagbABgkIAAgBQgBglAagaQAbgaAkAAITEAAQAlAAAaAaQAaAaAAAlIAAABQAAAkgaAbQgaAZglAAg"),this.shape_20.setTransform(-207.5,108.7),this.instance_12=new lib.ClipGroup,this.instance_12.setTransform(120.5,140.3,1,1,0,0,0,69,68),this.instance_13=new lib.ClipGroup_1,this.instance_13.setTransform(252.5,140.3,1,1,0,0,0,69,68),this.instance_14=new lib.ClipGroup_2,this.instance_14.setTransform(-21.5,140.3,1,1,0,0,0,69,68),this.instance_15=new lib.ClipGroup_3,this.instance_15.setTransform(-205.4,140.3,1,1,0,0,0,69,68),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance_15},{t:this.instance_14},{t:this.instance_13},{t:this.instance_12},{t:this.shape_20},{t:this.shape_19},{t:this.shape_18},{t:this.shape_17},{t:this.shape_16},{t:this.shape_15},{t:this.shape_14},{t:this.shape_13},{t:this.shape_12},{t:this.shape_11},{t:this.shape_10},{t:this.shape_9},{t:this.shape_8},{t:this.shape_7},{t:this.shape_6},{t:this.shape_5},{t:this.shape_4},{t:this.shape_3},{t:this.shape_2},{t:this.shape_1},{t:this.shape}]}).wait(60)),this.instance_16=new lib.moving_line("synched",0),this.instance_16.setTransform(122.4,109,1,1,180,0,0,-2.1,0),this.timeline.addTween(cjs.Tween.get(this.instance_16).wait(60))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-282.6),(-85.3),604.5,293.8),(lib.machine_01=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.instance=new lib.clock("synched",0),this.instance.setTransform(86.8,-53.7,1,1,94.8),this.timeline.addTween(cjs.Tween.get(this.instance).wait(60)),this.instance_1=new lib.clock("synched",0),this.instance_1.setTransform(66.4,-53.9,1,1,0,0,0,-1.2,-.1),this.timeline.addTween(cjs.Tween.get(this.instance_1).wait(60)),this.instance_2=new lib.clock("synched",0),this.instance_2.setTransform(48.4,-53.8,1,1,-96.1),this.timeline.addTween(cjs.Tween.get(this.instance_2).wait(60)),this.instance_3=new lib.clock("synched",0),this.instance_3.setTransform(29.3,-53.7,1,1,69.7),this.timeline.addTween(cjs.Tween.get(this.instance_3).wait(60)),this.instance_4=new lib.Reflection_maker("synched",0),this.instance_4.setTransform(70,21.9),this.timeline.addTween(cjs.Tween.get(this.instance_4).wait(60)),this.instance_5=new lib.clockneedle("synched",0),this.instance_5.setTransform(-41.6,-50.9),this.timeline.addTween(cjs.Tween.get(this.instance_5).wait(1).to({rotation:.2,x:-41.7,y:-50.8},0).wait(1).to({rotation:.8,y:-50.4},0).wait(1).to({rotation:1.6,y:-49.9},0).wait(1).to({rotation:2.5,y:-49.2},0).wait(1).to({rotation:3.5,y:-48.6},0).wait(1).to({rotation:4.3,y:-48},0).wait(1).to({rotation:5,y:-47.6},0).wait(1).to({rotation:5.3,y:-47.3},0).wait(1).to({regY:3.7,rotation:5.5,x:-41.6,y:-47.2},0).wait(1).to({regY:0,rotation:4.1,x:-41.4,y:-50.9},0).wait(1).to({rotation:.3,x:-41.6},0).wait(1).to({rotation:-5.1,x:-42},0).wait(1).to({rotation:-11.1,x:-42.4},0).wait(1).to({rotation:-16.6,x:-42.7,y:-50.8},0).wait(1).to({rotation:-21,x:-43,y:-50.7},0).wait(1).to({rotation:-23.6,x:-43.1},0).wait(1).to({regX:.1,regY:3.6,rotation:-24.5,x:-41.6,y:-47.4},0).wait(1).to({regX:0,regY:0,rotation:-23.7,x:-43.2,y:-50.6},0).wait(1).to({rotation:-21.2,x:-43,y:-50.7},0).wait(1).to({rotation:-17.2,x:-42.8,y:-50.8},0).wait(1).to({rotation:-12,x:-42.5,y:-50.9},0).wait(1).to({rotation:-5.8,x:-42.1},0).wait(1).to({rotation:.9,x:-41.6,y:-51},0).wait(1).to({rotation:7.9,x:-41.2},0).wait(1).to({rotation:14.7,x:-40.8,y:-50.9},0).wait(1).to({rotation:21.1,x:-40.4,y:-50.8},0).wait(1).to({rotation:26.8,x:-40.1,y:-50.6},0).wait(1).to({rotation:31.6,x:-39.8,y:-50.5},0).wait(1).to({rotation:35.5,x:-39.6,y:-50.4},0).wait(1).to({rotation:38.2,x:-39.5,y:-50.3},0).wait(1).to({rotation:39.9,x:-39.4,y:-50.2},0).wait(1).to({regY:3.6,rotation:40.4,x:-41.7,y:-47.3},0).wait(1).to({regY:0,rotation:38.5,x:-39.5,y:-50.2},0).wait(1).to({rotation:35.1,x:-39.6,y:-50.4},0).wait(1).to({regX:-.1,regY:3.6,rotation:33.7,x:-41.8,y:-47.4},0).wait(1).to({regX:0,regY:0,rotation:34.6,x:-39.7,y:-50.3},0).wait(1).to({rotation:36.7,x:-39.6},0).wait(1).to({rotation:39.5,x:-39.4,y:-50.2},0).wait(1).to({rotation:42,x:-39.3,y:-50.1},0).wait(1).to({rotation:43.6,y:-50},0).wait(1).to({regX:-.1,regY:3.6,rotation:44.2,x:-41.7,y:-47.4},0).wait(1).to({regX:0,regY:0,rotation:42,x:-39.3,y:-50},0).wait(1).to({rotation:38.3,x:-39.5,y:-50.2},0).wait(1).to({regX:-.1,regY:3.6,rotation:36.7,x:-41.8,y:-47.4},0).wait(1).to({regX:0,regY:0,rotation:37,x:-39.5,y:-50.2},0).wait(1).to({rotation:37.8},0).wait(1).to({rotation:39},0).wait(1).to({rotation:40.1,x:-39.4,y:-50.1},0).wait(1).to({rotation:41.1},0).wait(1).to({rotation:41.7,x:-39.3},0).wait(1).to({regX:-.2,regY:3.6,rotation:41.9,x:-41.8,y:-47.5},0).wait(1).to({regX:0,regY:0,rotation:37.8,x:-39.5,y:-50.3},0).wait(1).to({regX:-.3,regY:3.6,rotation:34.4,x:-41.9,y:-47.6},0).wait(1).to({regX:0,regY:0,rotation:32.9,x:-39.7,y:-50.4},0).wait(1).to({rotation:28.4,x:-39.9,y:-50.6},0).wait(1).to({rotation:21.9,x:-40.2,y:-50.7},0).wait(1).to({rotation:14.2,x:-40.6,y:-50.8},0).wait(1).to({rotation:6.6,x:-41},0).wait(1).to({regY:3.8,rotation:0,x:-41.6,y:-47.1},0).wait(1)),this.instance_6=new lib.Lights("synched",0),this.instance_6.setTransform(107.1,73.5,1,1,0,0,0,15.6,-3.4),this.timeline.addTween(cjs.Tween.get(this.instance_6).wait(60)),this.shape=new cjs.Shape,this.shape.graphics.f().s("#C5C5C5").ss(2).p("AIDGGIwEAAQgJAAgGgGQgGgGAAgJIAAriQAAgIAGgGQAGgGAJAAIQEAAQAIAAAGAGQAGAGAAAIIAALiQAAAJgGAGQgGAGgIAAg"),this.shape.setTransform(67.5,22.6),this.shape_1=new cjs.Shape,this.shape_1.graphics.f().s("#888888").ss(2.4).p("AfzAmMg/lAAAQgQAAgKgLQgLgKAAgQIAAgBQAAgPALgLQAKgLAQAAMA/lAABQAQAAAKAKQALALAAAPIAAABQAAAQgLAKQgKALgQAAg"),this.shape_1.setTransform(-1.4,104.8),this.shape_2=new cjs.Shape,this.shape_2.graphics.f("#DFDFDF").s().p("A/yAmQgQAAgKgLQgLgLAAgPIAAgBQAAgPALgLQAKgLAQAAMA/lAAAQAQAAAKALQALALAAAPIAAABQAAAPgLALQgKALgQAAg"),this.shape_2.setTransform(-1.4,104.8),this.shape_3=new cjs.Shape,this.shape_3.graphics.f().s("#848484").ss(2).p("AAAH9IAAAAQASAAANgNQAOgNAAgTIAAufQAAgTgOgNQgNgNgSAAIAAAAQgSAAgNANQgNANAAATIAAOfQAAATANANQANANASAAg"),this.shape_3.setTransform(-70,55),this.shape_4=new cjs.Shape,this.shape_4.graphics.f("#DFDFDF").s().p("AAAH9QgSAAgMgNQgOgNAAgTIAAufQAAgTAOgNQAMgNASAAIAAAAQASAAANANQANANAAATIAAOfQAAATgNANQgNANgSAAg"),this.shape_4.setTransform(-70,55),this.shape_5=new cjs.Shape,this.shape_5.graphics.f().s("#848484").ss(2).p("AAAH9IAAAAQASAAANgNQAOgNAAgTIAAufQAAgTgOgNQgNgNgSAAIAAAAQgSAAgNANQgNANAAATIAAOfQAAATANANQANANASAAg"),this.shape_5.setTransform(-61,55),this.shape_6=new cjs.Shape,this.shape_6.graphics.f("#DFDFDF").s().p("AAAH9QgSAAgMgNQgOgNAAgTIAAufQAAgTAOgNQAMgNASAAIAAAAQASAAANANQANANAAATIAAOfQAAATgNANQgNANgSAAg"),this.shape_6.setTransform(-61,55),this.shape_7=new cjs.Shape,this.shape_7.graphics.f().s("#848484").ss(2).p("AJHq/IyNAAQgyAAgkAjQgkAkAAAyIAAUHIWBAAIAA0HQAAgygkgkQgkgjgyAAg"),this.shape_7.setTransform(70,31.2),this.shape_8=new cjs.Shape,this.shape_8.graphics.f("#FFFFFF").s().p("ArALBIAA0HQAAgzAkgjQAkgjAygBISNAAQAyABAkAjQAkAjAAAzIAAUHg"),this.shape_8.setTransform(70,31.2),this.shape_9=new cjs.Shape,this.shape_9.graphics.f().s("#848484").ss(2).p("AFAieIAALiIp/AAIAAyGICMAAQAWAAAOAOQAOAPAAAVIAAEYIFnAAQAlAAAaAaQAbAaAAAmg"),this.shape_9.setTransform(171.5,43.7),this.shape_10=new cjs.Shape,this.shape_10.graphics.f("#DFDFDF").s().p("Ak+JEIAAyGICLAAQAVAAAPAOQAPAPAAAUIAAEYIFmAAQAlAAAbAbQAaAaAAAlIAALjg"),this.shape_10.setTransform(171.5,43.7),this.shape_11=new cjs.Shape,this.shape_11.graphics.f().s("#848484").ss(2).p("AEnoqIAARVIpNAAIAAuXIEOAAIAAi+g"),this.shape_11.setTransform(-27,45.5),this.shape_12=new cjs.Shape,this.shape_12.graphics.f("#DFDFDF").s().p("AklIqIAAuWIEOAAIAAi+IE9AAIAARUg"),this.shape_12.setTransform(-27,45.5),this.shape_13=new cjs.Shape,this.shape_13.graphics.f().s("#C5C5C5").ss(2).p("ABTAJIAAgRQAAgOgKgLQgKgKgPAAIhfAAQgOAAgLAKQgKALAAAOIAAARQAAAOAKALQALAKAOAAIBfAAQAPAAAKgKQAKgLAAgOg"),this.shape_13.setTransform(-42.2,5),this.shape_14=new cjs.Shape,this.shape_14.graphics.f("#FFFFFF").s().p("AgvAsQgOAAgLgKQgKgLAAgOIAAgRQAAgOAKgLQALgKAOAAIBfAAQAPAAAKAKQAKALAAAOIAAARQAAAOgKALQgKAKgPAAg"),this.shape_14.setTransform(-42.2,5),this.instance_7=new lib.ClipGroup_0_1,this.instance_7.setTransform(-41.6,-47,1,1,0,0,0,8.3,11.3),this.shape_15=new cjs.Shape,this.shape_15.graphics.f().s("#848484").ss(1.6).p("ACVAAQAAA9gsAsQgsAsg9AAQg9AAgrgsQgsgsAAg9QAAg8AsgsQArgsA9AAQA9AAAsAsQAsAsAAA8g"),this.shape_15.setTransform(-41.6,-50),this.shape_16=new cjs.Shape,this.shape_16.graphics.f("#C5C5C5").s().p("AhoBpQgrgsAAg9QAAg8ArgsQAsgsA8AAQA9AAAsAsQAsAsAAA8QAAA9gsAsQgsAsg9AAQg8AAgsgsg"),this.shape_16.setTransform(-41.6,-50),this.shape_17=new cjs.Shape,this.shape_17.graphics.f().s("#848484").ss(2).p("AgHBTIAQAAQAPAAAKgKQAKgLAAgOIAAhfQAAgPgKgKQgKgKgPAAIgQAAQgPAAgKAKQgKAKAAAPIgBBfQAAAOALALQAKAKAPAAg"),this.shape_17.setTransform(9.9,-52.5),this.shape_18=new cjs.Shape,this.shape_18.graphics.f("#DFDFDF").s().p("AgIBTQgOAAgLgKQgKgLAAgOIAAhfQABgPAJgKQALgKAOAAIARAAQAPAAAKAKQAKAKAAAPIAABfQAAAOgKALQgKAKgPAAg"),this.shape_18.setTransform(9.9,-52.5),this.shape_19=new cjs.Shape,this.shape_19.graphics.f().s("#C5C5C5").ss(2).p("AAUmGIAACXIgmCgIAmCPIAAFH"),this.shape_19.setTransform(31.7,0),this.instance_8=new lib.ClipGroup_4,this.instance_8.setTransform(-119.5,124.6,1,1,0,0,0,69,68),this.instance_9=new lib.ClipGroup_1_1,this.instance_9.setTransform(185.5,124.6,1,1,0,0,0,69,68),this.instance_10=new lib.ClipGroup_2_1,this.instance_10.setTransform(-16.5,124.6,1,1,0,0,0,69,68),this.instance_11=new lib.Symbol13("synched",0),this.instance_11.setTransform(110.6,-53.2,.899,.899,90),this.instance_11.filters=[new cjs.ColorFilter(0,0,0,1,197,197,197,0)],this.instance_11.cache(-11,-12,23,23),this.shape_20=new cjs.Shape,this.shape_20.graphics.f().s("#848484").ss(2).p("AIJiLIwRAAQgNAAgKAJQgJAKAAANIAAD3IRRAAIAAj3QAAgNgJgKQgKgJgNAAg"),this.shape_20.setTransform(70,-53.3),this.shape_21=new cjs.Shape,this.shape_21.graphics.f("#FFFFFF").s().p("AooCLIAAj2QAAgNAJgJQAKgKANABIQRAAQANgBAKAKQAJAJAAANIAAD2g"),this.shape_21.setTransform(70,-53.3),this.shape_22=new cjs.Shape,this.shape_22.graphics.f().s("#C5C5C5").ss(2).p("Ak1FFIBGAAIAApCIIlAAIAAhGIpNgBQgPAAgIAGQgHAFAAAOg"),this.shape_22.setTransform(-14.5,-22.5),this.shape_23=new cjs.Shape,this.shape_23.graphics.f("#FFFFFF").s().p("Ak1FFIAApwQAAgOAIgFQAGgGAPAAIJOABIAABGIokAAIAAJCg"),this.shape_23.setTransform(-14.5,-22.5),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_23},{t:this.shape_22},{t:this.shape_21},{t:this.shape_20},{t:this.instance_11},{t:this.instance_10},{t:this.instance_9},{t:this.instance_8},{t:this.shape_19},{t:this.shape_18},{t:this.shape_17},{t:this.shape_16},{t:this.shape_15},{t:this.instance_7},{t:this.shape_14},{t:this.shape_13},{t:this.shape_12},{t:this.shape_11},{t:this.shape_10},{t:this.shape_9},{t:this.shape_8},{t:this.shape_7},{t:this.shape_6},{t:this.shape_5},{t:this.shape_4},{t:this.shape_3},{t:this.shape_2},{t:this.shape_1},{t:this.shape}]}).wait(60)),this.instance_12=new lib.movingline("synched",0),this.instance_12.setTransform(-66.1,93,1,1,0,0,0,-2.1,0),this.instance_13=new lib.movingline("synched",0),this.instance_13.setTransform(69.1,93,1,1,180,0,0,-2.1,0),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance_13},{t:this.instance_12}]}).wait(60))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-227.7),(-145.2),482.5,338),(lib.Machine_C_01NoCrate=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.instance=new lib.Bulb("synched",0),this.instance.setTransform(177.5,84.5,.524,.524,0,0,0,20.5,20.5),this.instance.alpha=.57,this.timeline.addTween(cjs.Tween.get(this.instance).wait(60)),this.instance_1=new lib.machine_03_NoCrate("synched",0),this.instance_1.setTransform(252.2,36.7,1,1,0,0,0,19.6,24.4),this.timeline.addTween(cjs.Tween.get(this.instance_1).wait(60)),this.instance_2=new lib.ClipGroup_0,this.instance_2.setTransform(107.6,55.6,1.077,1.266,0,0,0,96,95.4),this.timeline.addTween(cjs.Tween.get(this.instance_2).wait(60))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-50.1),(-73),566.6,246),(lib.Machine_C_01_X=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.instance=new lib.x("synched",0),this.instance.setTransform(177.5,84.5,.524,.524),this.instance.alpha=0,this.instance._off=!0,this.instance_1=new lib.v("synched",0),this.instance_1.setTransform(177.5,84.5,.524,.524),
this.instance_1.alpha=0,this.timeline.addTween(cjs.Tween.get({}).to({state:[]}).to({state:[{t:this.instance}]},24).to({state:[{t:this.instance}]},2).to({state:[{t:this.instance}]},1).to({state:[{t:this.instance}]},4).to({state:[{t:this.instance}]},23).to({state:[{t:this.instance_1}]},5).wait(1)),this.timeline.addTween(cjs.Tween.get(this.instance).wait(24).to({_off:!1},0).to({alpha:1},2).to({alpha:0},1).to({alpha:1},4).wait(23).to({startPosition:0},0).to({_off:!0,alpha:0},5).wait(1)),this.instance_2=new lib.Bulb("synched",0),this.instance_2.setTransform(177.5,84.5,.524,.524,0,0,0,20.5,20.5),this.instance_2.alpha=.57,this.timeline.addTween(cjs.Tween.get(this.instance_2).wait(60)),this.instance_3=new lib.machine_03("synched",0),this.instance_3.setTransform(252.2,36.7,1,1,0,0,0,19.6,24.4),this.timeline.addTween(cjs.Tween.get(this.instance_3).wait(60)),this.instance_4=new lib.box("synched",0),this.instance_4.setTransform(2.6,112.5,1,1,0,0,0,0,25.2),this.timeline.addTween(cjs.Tween.get(this.instance_4).to({x:240.9,y:112.7},39).wait(1).to({regX:.1,regY:-.3,x:246.8,y:87.2,startPosition:1},0).wait(1).to({x:252.7,startPosition:2},0).wait(1).to({x:258.5,startPosition:3},0).wait(1).to({x:264.4,startPosition:4},0).wait(1).to({x:270.2,startPosition:5},0).wait(1).to({regX:0,regY:25.2,x:276,y:112.7,startPosition:6},0).to({x:281.8,startPosition:7},1).to({_off:!0},1).wait(13)),this.instance_5=new lib.ClipGroup_0,this.instance_5.setTransform(107.6,55.6,1.077,1.266,0,0,0,96,95.4),this.timeline.addTween(cjs.Tween.get(this.instance_5).wait(60))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-50.1),(-127.3),566.6,300.3),(lib.Machine_C_01=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.instance=new lib.v("synched",0),this.instance.setTransform(177.5,84.5,.524,.524),this.instance.alpha=0,this.instance._off=!0,this.timeline.addTween(cjs.Tween.get(this.instance).wait(25).to({_off:!1},0).to({alpha:1},7).wait(21).to({startPosition:0},0).to({alpha:0},6).wait(1)),this.instance_1=new lib.Bulb("synched",0),this.instance_1.setTransform(177.5,84.5,.524,.524,0,0,0,20.5,20.5),this.instance_1.alpha=.57,this.timeline.addTween(cjs.Tween.get(this.instance_1).wait(60)),this.instance_2=new lib.machine_03("synched",0),this.instance_2.setTransform(252.2,36.7,1,1,0,0,0,19.6,24.4),this.timeline.addTween(cjs.Tween.get(this.instance_2).wait(60)),this.instance_3=new lib.box("synched",0),this.instance_3.setTransform(2.6,112.5,1,1,0,0,0,0,25.2),this.instance_4=new lib.box_V("synched",0),this.instance_4.setTransform(352.7,113,.829,1.446,0,0,0,0,25.3),this.instance_4._off=!0,this.timeline.addTween(cjs.Tween.get(this.instance_3).to({x:240.9,y:112.7},39).wait(1).to({regX:.1,regY:-.3,x:246.8,y:87.2,startPosition:1},0).wait(1).to({x:252.7,startPosition:2},0).wait(1).to({x:258.5,startPosition:3},0).wait(1).to({x:264.4,startPosition:4},0).wait(1).to({x:270.2,startPosition:5},0).wait(1).to({x:276,startPosition:6},0).wait(1).to({x:281.9,startPosition:7},0).wait(1).to({x:287.7,startPosition:8},0).wait(1).to({x:293.6,startPosition:9},0).wait(1).to({x:299.4,startPosition:10},0).wait(1).to({x:305.3,startPosition:11},0).wait(1).to({x:311.1,startPosition:12},0).wait(1).to({x:316.9,startPosition:13},0).wait(1).to({x:322.8,startPosition:14},0).wait(1).to({x:328.6,startPosition:15},0).wait(1).to({x:334.5,startPosition:16},0).wait(1).to({regX:0,regY:25.2,x:340.2,y:112.8,startPosition:0},0).to({_off:!0,regY:25.3,scaleX:.83,scaleY:1.45,x:352.7,y:113},1).wait(3)),this.timeline.addTween(cjs.Tween.get(this.instance_4).wait(56).to({_off:!1},1).to({regY:25.4,scaleX:1.16,scaleY:.89,x:331.8,y:99.4},1).to({regY:25.2,scaleX:1,scaleY:1,rotation:-10.5,x:308.3,y:104},1).wait(1)),this.instance_5=new lib.ClipGroup_0,this.instance_5.setTransform(107.6,55.6,1.077,1.266,0,0,0,96,95.4),this.timeline.addTween(cjs.Tween.get(this.instance_5).wait(60))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-50.1),(-127.3),566.6,300.3),(lib.Machine_A=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{"step 1":0}),this.instance=new lib.pipe("synched",0),this.instance.setTransform(-549.4,-82.2),this.timeline.addTween(cjs.Tween.get(this.instance).wait(60)),this.instance_1=new lib.machine_01("synched",0),this.instance_1.setTransform(-404.8,51.9,1,1,0,0,0,13.6,23.9),this.timeline.addTween(cjs.Tween.get(this.instance_1).wait(60)),this.instance_2=new lib.box("synched",0),this.instance_2.setTransform(-549,77.7,.967,1.141,0,0,0,.1,25.4),this.instance_2._off=!0,this.timeline.addTween(cjs.Tween.get(this.instance_2).wait(8).to({_off:!1},0).to({regX:.2,scaleX:.84,scaleY:1.2,y:112.6},2,cjs.Ease.get(1)).to({regX:.1,regY:25.3,scaleX:1.35,scaleY:.75,y:112.2},1,cjs.Ease.get(1)).to({regY:25.4,scaleX:.95,scaleY:1.15,x:-549.1},2).to({regX:0,regY:25.2,scaleX:1,scaleY:1,x:-549.2,y:112.1},2).to({startPosition:0},1).to({x:-322.2,y:112.3},26).wait(18))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-646.1),(-175.7),458.4,348.7),(lib.MACHINE=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{MachineBBad:60,badSampling:180,step2:0,"step 3":60,"step 4":120,step5:180}),this.instance=new lib.machine_05_springboard("synched",0),this.instance.setTransform(653,122.9,1,1,0,0,0,61.1,.8),this.timeline.addTween(cjs.Tween.get(this.instance).to({_off:!0},14).wait(286));var mask=new cjs.Shape;mask._off=!0;var mask_graphics_0=(new cjs.Graphics).p("EgasAmQMAAAhMfMA1ZAAAMAAABMfg");this.timeline.addTween(cjs.Tween.get(mask).to({graphics:mask_graphics_0,x:343.1,y:79.9}).wait(14).to({graphics:null,x:0,y:0}).wait(286)),this.instance_1=new lib.Machine_C_02("synched",0),this.instance_1.setTransform(538.2,30.8,1,1,0,0,0,538.5,30.8),this.instance_2=new lib.Machine_C_02_FirstNoCreate("synched",0,(!1)),this.instance_2.setTransform(538.2,30.8,1,1,0,0,0,538.5,30.8),this.instance_3=new lib.Machine_C_02_NoCrate("synched",0),this.instance_3.setTransform(538.2,30.8,1,1,0,0,0,538.5,30.8),this.instance_4=new lib.Machine_C_02_NoCrate_In("synched",0),this.instance_4.setTransform(538.2,30.8,1,1,0,0,0,538.5,30.8),this.instance_1.mask=this.instance_2.mask=this.instance_3.mask=this.instance_4.mask=mask,this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance_1}]}).to({state:[{t:this.instance_2}]},120).to({state:[{t:this.instance_3}]},60).to({state:[{t:this.instance_4}]},60).wait(60)),this.instance_5=new lib.Machine_C_01("synched",0),this.instance_5.setTransform(251.8,46.6,1,1,0,0,0,252.1,46.6),this.instance_6=new lib.Machine_C_01NoCrate("synched",0),this.instance_6.setTransform(251.8,46.6,1,1,0,0,0,252.1,46.6),this.instance_7=new lib.Machine_C_01_X("synched",0),this.instance_7.setTransform(251.8,46.6,1,1,0,0,0,252.1,46.6),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance_5}]}).to({state:[{t:this.instance_6}]},120).to({state:[{t:this.instance_7}]},60).to({state:[{t:this.instance_5}]},60).wait(60)),this.instance_8=new lib.Machine_A("synched",0),this.instance_8.setTransform(-407.1,22.4,1,1,0,0,0,-406.8,22.4),this.timeline.addTween(cjs.Tween.get(this.instance_8).wait(180).to({startPosition:4},0).wait(60).to({startPosition:0},0).wait(60)),this.instance_9=new lib.Machine_B("synched",0),this.instance_9.setTransform(-129.1,36,1,1,0,0,0,-128.8,36),this.instance_10=new lib.Machine_B_X("synched",59),this.instance_10.setTransform(-129.1,36,1,1,0,0,0,-128.8,36),this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance_9}]}).to({state:[{t:this.instance_10}]},60).to({state:[{t:this.instance_9}]},60).to({state:[{t:this.instance_9}]},60).to({state:[{t:this.instance_9}]},60).wait(60)),this.timeline.addTween(cjs.Tween.get(this.instance_9).to({_off:!0},60).wait(60).to({_off:!1},0).wait(60).to({startPosition:0},0).wait(60).to({startPosition:0},0).wait(60)),this.instance_11=new lib.robot_arm("single",0),this.instance_11.setTransform(243.6,-5.1,1,1,0,0,0,-2.7,0),this.timeline.addTween(cjs.Tween.get(this.instance_11).wait(219).to({mode:"synched",startPosition:38,loop:!1},0).wait(81)),this.instance_12=new lib.computer("synched",0),this.instance_12.setTransform(68.2,-86.5,1,1,0,0,0,-2.5,.5),this.timeline.addTween(cjs.Tween.get(this.instance_12).wait(300))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle((-646.4),(-175.7),1309.5,348.7),(lib.jfrog_v45_Html_5=function(mode,startPosition,loop){this.initialize(mode,startPosition,loop,{}),this.instance=new lib.MACHINE,this.instance.setTransform(693.3,240.8,1,1,0,0,0,8.7,74.5),this.timeline.addTween(cjs.Tween.get(this.instance).wait(1))}).prototype=p=new cjs.MovieClip,p.nominalBounds=new cjs.Rectangle(729.4,155.6,1317.6,500.5)}(lib=lib||{},images=images||{},createjs=createjs||{},ss=ss||{});var lib,images,createjs,ss;!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(t.d3=t.d3||{})}(this,function(t){"use strict";function n(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function e(t){var e;return 1===t.length&&(e=t,t=function(t,r){return n(e(t),r)}),{left:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)<0?r=o+1:i=o}return r},right:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)>0?i=o:r=o+1}return r}}}function a(t,n){return[t,n]}function u(t){return null===t?NaN:+t}function f(t,n){var e,r,i=t.length,o=0,a=-1,f=0,c=0;if(null==n)for(;++a<i;)isNaN(e=u(t[a]))||(c+=(r=e-f)*(e-(f+=r/++o)));else for(;++a<i;)isNaN(e=u(n(t[a],a,t)))||(c+=(r=e-f)*(e-(f+=r/++o)));if(o>1)return c/(o-1)}function c(t,n){var e=f(t,n);return e?Math.sqrt(e):e}function s(t,n){var e,r,i,o=t.length,a=-1;if(null==n){for(;++a<o;)if(null!=(e=t[a])&&e>=e)for(r=i=e;++a<o;)null!=(e=t[a])&&(r>e&&(r=e),i<e&&(i=e))}else for(;++a<o;)if(null!=(e=n(t[a],a,t))&&e>=e)for(r=i=e;++a<o;)null!=(e=n(t[a],a,t))&&(r>e&&(r=e),i<e&&(i=e));return[r,i]}function p(t){return function(){return t}}function v(t){return t}function g(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),o=new Array(i);++r<i;)o[r]=t+r*e;return o}function m(t,n,e){var r,i,o,a,u=-1;if(e=+e,(t=+t)===(n=+n)&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(a=x(t,n,e))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),n=Math.floor(n/a),o=new Array(i=Math.ceil(n-t+1));++u<i;)o[u]=(t+u)*a;else for(t=Math.floor(t*a),n=Math.ceil(n*a),o=new Array(i=Math.ceil(t-n+1));++u<i;)o[u]=(t-u)/a;return r&&o.reverse(),o}function x(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=y?10:o>=_?5:o>=b?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=y?10:o>=_?5:o>=b?2:1)}function w(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=y?i*=10:o>=_?i*=5:o>=b&&(i*=2),n<t?-i:i}function M(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function A(t,n,e){if(null==e&&(e=u),r=t.length){if((n=+n)<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,o=Math.floor(i),a=+e(t[o],o,t);return a+(+e(t[o+1],o+1,t)-a)*(i-o)}}function T(t,n){var e,r,i=t.length,o=-1;if(null==n){for(;++o<i;)if(null!=(e=t[o])&&e>=e)for(r=e;++o<i;)null!=(e=t[o])&&e>r&&(r=e)}else for(;++o<i;)if(null!=(e=n(t[o],o,t))&&e>=e)for(r=e;++o<i;)null!=(e=n(t[o],o,t))&&e>r&&(r=e);return r}function N(t){for(var n,e,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(e=new Array(a);--i>=0;)for(n=(r=t[i]).length;--n>=0;)e[--a]=r[n];return e}function S(t,n){var e,r,i=t.length,o=-1;if(null==n){for(;++o<i;)if(null!=(e=t[o])&&e>=e)for(r=e;++o<i;)null!=(e=t[o])&&r>e&&(r=e)}else for(;++o<i;)if(null!=(e=n(t[o],o,t))&&e>=e)for(r=e;++o<i;)null!=(e=n(t[o],o,t))&&r>e&&(r=e);return r}function E(t){if(!(i=t.length))return[];for(var n=-1,e=S(t,k),r=new Array(e);++n<e;)for(var i,o=-1,a=r[n]=new Array(i);++o<i;)a[o]=t[o][n];return r}function k(t){return t.length}function P(t){return t}function q(t){return"translate("+(t+.5)+",0)"}function O(t){return"translate(0,"+(t+.5)+")"}function Y(){return!this.__axis}function B(t,n){function l(l){var h=null==r?n.ticks?n.ticks.apply(n,e):n.domain():r,d=null==i?n.tickFormat?n.tickFormat.apply(n,e):P:i,p=Math.max(o,0)+u,v=n.range(),g=+v[0]+.5,y=+v[v.length-1]+.5,_=(n.bandwidth?function(t){var n=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(n=Math.round(n)),function(e){return+t(e)+n}}:function(t){return function(n){return+t(n)}})(n.copy()),b=l.selection?l.selection():l,m=b.selectAll(".domain").data([null]),x=b.selectAll(".tick").data(h,n).order(),w=x.exit(),M=x.enter().append("g").attr("class","tick"),A=x.select("line"),T=x.select("text");m=m.merge(m.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),x=x.merge(M),A=A.merge(M.append("line").attr("stroke","currentColor").attr(c+"2",f*o)),T=T.merge(M.append("text").attr("fill","currentColor").attr(c,f*p).attr("dy",t===z?"0em":t===L?"0.71em":"0.32em")),l!==b&&(m=m.transition(l),x=x.transition(l),A=A.transition(l),T=T.transition(l),w=w.transition(l).attr("opacity",U).attr("transform",function(t){return isFinite(t=_(t))?s(t):this.getAttribute("transform")}),M.attr("opacity",U).attr("transform",function(t){var n=this.parentNode.__axis;return s(n&&isFinite(n=n(t))?n:_(t))})),w.remove(),m.attr("d",t===D||t==R?a?"M"+f*a+","+g+"H0.5V"+y+"H"+f*a:"M0.5,"+g+"V"+y:a?"M"+g+","+f*a+"V0.5H"+y+"V"+f*a:"M"+g+",0.5H"+y),x.attr("opacity",1).attr("transform",function(t){return s(_(t))}),A.attr(c+"2",f*o),T.attr(c,f*p).text(d),b.filter(Y).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===R?"start":t===D?"end":"middle"),b.each(function(){this.__axis=_})}var e=[],r=null,i=null,o=6,a=6,u=3,f=t===z||t===D?-1:1,c=t===D||t===R?"x":"y",s=t===z||t===L?q:O;return l.scale=function(t){return arguments.length?(n=t,l):n},l.ticks=function(){return e=C.call(arguments),l},l.tickArguments=function(t){return arguments.length?(e=null==t?[]:C.call(t),l):e.slice()},l.tickValues=function(t){return arguments.length?(r=null==t?null:C.call(t),l):r&&r.slice()},l.tickFormat=function(t){return arguments.length?(i=t,l):i},l.tickSize=function(t){return arguments.length?(o=a=+t,l):o},l.tickSizeInner=function(t){return arguments.length?(o=+t,l):o},l.tickSizeOuter=function(t){return arguments.length?(a=+t,l):a},l.tickPadding=function(t){return arguments.length?(u=+t,l):u},l}function I(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new H(r)}function H(t){this._=t}function j(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function X(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=F,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}function $(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),V.hasOwnProperty(n)?{space:V[n],local:t}:t}function W(t){var n=$(t);return(n.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===G&&n.documentElement.namespaceURI===G?n.createElement(t):n.createElementNS(e,t)}})(n)}function Z(){}function Q(t){return null==t?Z:function(){return this.querySelector(t)}}function J(){return[]}function K(t){return null==t?J:function(){return this.querySelectorAll(t)}}function it(t){return new Array(t.length)}function ot(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function ut(t,n,e,r,i,o){for(var a,u=0,f=n.length,c=o.length;u<c;++u)(a=n[u])?(a.__data__=o[u],r[u]=a):e[u]=new ot(t,o[u]);for(;u<f;++u)(a=n[u])&&(i[u]=a)}function ft(t,n,e,r,i,o,a){var u,f,c,s={},l=n.length,h=o.length,d=new Array(l);for(u=0;u<l;++u)(f=n[u])&&(d[u]=c=at+a.call(f,f.__data__,u,n),c in s?i[u]=f:s[c]=f);for(u=0;u<h;++u)(f=s[c=at+a.call(t,o[u],u,o)])?(r[u]=f,f.__data__=o[u],s[c]=null):e[u]=new ot(t,o[u]);for(u=0;u<l;++u)(f=n[u])&&s[d[u]]===f&&(i[u]=f)}function ct(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function st(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function lt(t,n){return t.style.getPropertyValue(n)||st(t).getComputedStyle(t,null).getPropertyValue(n)}function ht(t){return t.trim().split(/^|\s+/)}function dt(t){return t.classList||new pt(t)}function pt(t){this._node=t,this._names=ht(t.getAttribute("class")||"")}function vt(t,n){for(var e=dt(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function gt(t,n){for(var e=dt(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function yt(){this.textContent=""}function _t(){this.innerHTML=""}function bt(){this.nextSibling&&this.parentNode.appendChild(this)}function mt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function xt(){return null}function wt(){var t=this.parentNode;t&&t.removeChild(this)}function Mt(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function At(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}function Nt(t,n,e){return t=St(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function St(n,e,r){return function(i){var o=t.event;t.event=i;try{n.call(this,this.__data__,e,r)}finally{t.event=o}}}function Et(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function kt(t,n,e){var r=Tt.hasOwnProperty(t.type)?Nt:St;return function(i,o,a){var u,f=this.__on,c=r(n,o,a);if(f)for(var s=0,l=f.length;s<l;++s)if((u=f[s]).type===t.type&&u.name===t.name)return this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=c,u.capture=e),void(u.value=n);this.addEventListener(t.type,c,e),u={type:t.type,name:t.name,value:n,listener:c,capture:e},f?f.push(u):this.__on=[u]}}function Ct(n,e,r,i){var o=t.event;n.sourceEvent=t.event,t.event=n;try{return e.apply(r,i)}finally{t.event=o}}function Pt(t,n,e){var r=st(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function Rt(t,n){this._groups=t,this._parents=n}function Lt(){return new Rt([[document.documentElement]],zt)}function Dt(t){return"string"==typeof t?new Rt([[document.querySelector(t)]],[document.documentElement]):new Rt([[t]],zt)}function qt(){return new Ot}function Ot(){this._="@"+(++Ut).toString(36)}function Yt(){for(var n,e=t.event;n=e.sourceEvent;)e=n;return e}function Bt(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]}function Ft(t){var n=Yt();return n.changedTouches&&(n=n.changedTouches[0]),Bt(t,n)}function It(t,n,e){arguments.length<3&&(e=n,n=Yt().changedTouches);for(var r,i=0,o=n?n.length:0;i<o;++i)if((r=n[i]).identifier===e)return Bt(t,r);return null}function Ht(){t.event.stopImmediatePropagation()}function jt(){t.event.preventDefault(),t.event.stopImmediatePropagation()}function Xt(t){var n=t.document.documentElement,e=Dt(t).on("dragstart.drag",jt,!0);"onselectstart"in n?e.on("selectstart.drag",jt,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function Gt(t,n){var e=t.document.documentElement,r=Dt(t).on("dragstart.drag",null);n&&(r.on("click.drag",jt,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}function Vt(t){return function(){return t}}function $t(t,n,e,r,i,o,a,u,f,c){this.target=t,this.type=n,this.subject=e,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=u,this.dy=f,this._=c}function Wt(){return!t.event.button}function Zt(){return this.parentNode}function Qt(n){return null==n?{x:t.event.x,y:t.event.y}:n}function Jt(){return"ontouchstart"in this}function Kt(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function tn(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function nn(){}function vn(t){var n;return t=(t+"").trim().toLowerCase(),(n=an.exec(t))?new mn((n=parseInt(n[1],16))>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):(n=un.exec(t))?gn(parseInt(n[1],16)):(n=fn.exec(t))?new mn(n[1],n[2],n[3],1):(n=cn.exec(t))?new mn(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=sn.exec(t))?yn(n[1],n[2],n[3],n[4]):(n=ln.exec(t))?yn(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=hn.exec(t))?wn(n[1],n[2]/100,n[3]/100,1):(n=dn.exec(t))?wn(n[1],n[2]/100,n[3]/100,n[4]):pn.hasOwnProperty(t)?gn(pn[t]):"transparent"===t?new mn(NaN,NaN,NaN,0):null}function gn(t){return new mn(t>>16&255,t>>8&255,255&t,1)}function yn(t,n,e,r){return r<=0&&(t=n=e=NaN),new mn(t,n,e,r)}function _n(t){return t instanceof nn||(t=vn(t)),t?new mn((t=t.rgb()).r,t.g,t.b,t.opacity):new mn}function bn(t,n,e,r){return 1===arguments.length?_n(t):new mn(t,n,e,null==r?1:r)}function mn(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function xn(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function wn(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new An(t,n,e,r)}function Mn(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof An)return new An(t.h,t.s,t.l,t.opacity);if(t instanceof nn||(t=vn(t)),!t)return new An;if(t instanceof An)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,u=o-i,f=(o+i)/2;return u?(a=n===o?(e-r)/u+6*(e<r):e===o?(r-n)/u+2:(n-e)/u+4,u/=f<.5?o+i:2-o-i,a*=60):u=f>0&&f<1?0:a,new An(a,u,f,t.opacity)}(t):new An(t,n,e,null==r?1:r)}function An(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Tn(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function Dn(t){if(t instanceof qn)return new qn(t.l,t.a,t.b,t.opacity);if(t instanceof jn){if(isNaN(t.h))return new qn(t.l,0,0,t.opacity);var n=t.h*Nn;return new qn(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}t instanceof mn||(t=_n(t));var e,r,i=Fn(t.r),o=Fn(t.g),a=Fn(t.b),u=On((.2225045*i+.7168786*o+.0606169*a)/kn);return i===o&&o===a?e=r=u:(e=On((.4360747*i+.3850649*o+.1430804*a)/En),r=On((.0139322*i+.0971045*o+.7141733*a)/Cn)),new qn(116*u-16,500*(e-u),200*(u-r),t.opacity)}function Un(t,n,e,r){return 1===arguments.length?Dn(t):new qn(t,n,e,null==r?1:r)}function qn(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function On(t){return t>Ln?Math.pow(t,1/3):t/Rn+Pn}function Yn(t){return t>zn?t*t*t:Rn*(t-Pn)}function Bn(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Fn(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function In(t){if(t instanceof jn)return new jn(t.h,t.c,t.l,t.opacity);if(t instanceof qn||(t=Dn(t)),0===t.a&&0===t.b)return new jn(NaN,0,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*Sn;return new jn(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Hn(t,n,e,r){return 1===arguments.length?In(t):new jn(t,n,e,null==r?1:r)}function jn(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function Kn(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof te)return new te(t.h,t.s,t.l,t.opacity);t instanceof mn||(t=_n(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(Jn*r+Zn*n-Qn*e)/(Jn+Zn-Qn),o=r-i,a=(Wn*(e-i)-Vn*o)/$n,u=Math.sqrt(a*a+o*o)/(Wn*i*(1-i)),f=u?Math.atan2(a,o)*Sn-120:NaN;return new te(f<0?f+360:f,u,i,t.opacity)}(t):new te(t,n,e,null==r?1:r)}function te(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function ne(t,n,e,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*n+(4-6*o+3*a)*e+(1+3*t+3*o-3*a)*r+a*i)/6}function ee(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,u=r<n-1?t[r+2]:2*o-i;return ne((e-r/n)*n,a,i,o,u)}}function re(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),i=t[(r+n-1)%n],o=t[r%n],a=t[(r+1)%n],u=t[(r+2)%n];return ne((e-r/n)*n,i,o,a,u)}}function ie(t){return function(){return t}}function oe(t,n){return function(e){return t+e*n}}function ae(t,n){var e=n-t;return e?oe(t,e>180||e<-180?e-360*Math.round(e/360):e):ie(isNaN(t)?n:t)}function ue(t){return 1==(t=+t)?fe:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):ie(isNaN(n)?e:n)}}function fe(t,n){var e=n-t;return e?oe(t,e):ie(isNaN(t)?n:t)}function se(t){return function(n){var e,r,i=n.length,o=new Array(i),a=new Array(i),u=new Array(i);for(e=0;e<i;++e)r=bn(n[e]),o[e]=r.r||0,a[e]=r.g||0,u[e]=r.b||0;return o=t(o),a=t(a),u=t(u),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=u(t),r+""}}}function de(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(e=0;e<i;++e)o[e]=me(t[e],n[e]);for(;e<r;++e)a[e]=n[e];return function(t){for(e=0;e<i;++e)a[e]=o[e](t);return a}}function pe(t,n){var e=new Date;return n-=t=+t,function(r){return e.setTime(t+n*r),e}}function ve(t,n){return n-=t=+t,function(e){return t+n*e}}function ge(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=me(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}function be(t,n){var e,r,i,o=ye.lastIndex=_e.lastIndex=0,a=-1,u=[],f=[];for(t+="",n+="";(e=ye.exec(t))&&(r=_e.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(e=e[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,f.push({i:a,x:ve(e,r)})),o=_e.lastIndex;return o<n.length&&(i=n.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?f[0]?function(t){return function(n){return t(n)+""}}(f[0].x):function(t){return function(){return t}}(n):(n=f.length,function(t){for(var e,r=0;r<n;++r)u[(e=f[r]).i]=e.x(t);return u.join("")})}function me(t,n){var e,r=typeof n;return null==n||"boolean"===r?ie(n):("number"===r?ve:"string"===r?(e=vn(n))?(n=e,ce):be:n instanceof vn?ce:n instanceof Date?pe:Array.isArray(n)?de:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?ge:ve)(t,n)}function xe(t,n){return n-=t=+t,function(e){return Math.round(t+n*e)}}function Ee(t,n,e,r,i,o){var a,u,f;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(f=t*e+n*r)&&(e-=t*f,r-=n*f),(u=Math.sqrt(e*e+r*r))&&(e/=u,r/=u,f/=u),t*r<n*e&&(t=-t,n=-n,f=-f,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*Ne,skewX:Math.atan(f)*Ne,scaleX:a,scaleY:u}}function ke(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var u=[],f=[];return o=t(o),a=t(a),function(t,r,i,o,a,u){if(t!==i||r!==o){var f=a.push("translate(",null,n,null,e);u.push({i:f-4,x:ve(t,i)},{i:f-2,x:ve(r,o)})}else(i||o)&&a.push("translate("+i+n+o+e)}(o.translateX,o.translateY,a.translateX,a.translateY,u,f),function(t,n,e,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:e.push(i(e)+"rotate(",null,r)-2,x:ve(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(o.rotate,a.rotate,u,f),function(t,n,e,o){t!==n?o.push({i:e.push(i(e)+"skewX(",null,r)-2,x:ve(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(o.skewX,a.skewX,u,f),function(t,n,e,r,o,a){if(t!==e||n!==r){var u=o.push(i(o)+"scale(",null,",",null,")");a.push({i:u-4,x:ve(t,e)},{i:u-2,x:ve(n,r)})}else 1===e&&1===r||o.push(i(o)+"scale("+e+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,u,f),o=a=null,function(t){for(var n,e=-1,r=f.length;++e<r;)u[(n=f[e]).i]=n.x(t);return u.join("")}}}function Ue(t){return((t=Math.exp(t))+1/t)/2}function qe(t,n){var e,r,i=t[0],o=t[1],a=t[2],u=n[0],f=n[1],c=n[2],s=u-i,l=f-o,h=s*s+l*l;if(h<De)r=Math.log(c/a)/ze,e=function(t){return[i+t*s,o+t*l,a*Math.exp(ze*t*r)]};else{var d=Math.sqrt(h),p=(c*c-a*a+Le*h)/(2*a*Re*d),v=(c*c-a*a-Le*h)/(2*c*Re*d),g=Math.log(Math.sqrt(p*p+1)-p),y=Math.log(Math.sqrt(v*v+1)-v);r=(y-g)/ze,e=function(t){var n,e=t*r,u=Ue(g),f=a/(Re*d)*(u*(n=ze*e+g,((n=Math.exp(2*n))-1)/(n+1))-function(t){return((t=Math.exp(t))-1/t)/2}(g));return[i+f*s,o+f*l,a*u/Ue(ze*e+g)]}}return e.duration=1e3*r,e}function Oe(t){return function(n,e){var r=t((n=Mn(n)).h,(e=Mn(e)).h),i=fe(n.s,e.s),o=fe(n.l,e.l),a=fe(n.opacity,e.opacity);return function(t){return n.h=r(t),n.s=i(t),n.l=o(t),n.opacity=a(t),n+""}}}function Fe(t){return function(n,e){var r=t((n=Hn(n)).h,(e=Hn(e)).h),i=fe(n.c,e.c),o=fe(n.l,e.l),a=fe(n.opacity,e.opacity);return function(t){return n.h=r(t),n.c=i(t),n.l=o(t),n.opacity=a(t),n+""}}}function je(t){return function n(e){function r(n,r){var i=t((n=Kn(n)).h,(r=Kn(r)).h),o=fe(n.s,r.s),a=fe(n.l,r.l),u=fe(n.opacity,r.opacity);return function(t){return n.h=i(t),n.s=o(t),n.l=a(Math.pow(t,e)),n.opacity=u(t),n+""}}return e=+e,r.gamma=n,r}(1)}function ir(){return tr||(rr(or),tr=er.now()+nr)}function or(){tr=0}function ar(){this._call=this._time=this._next=null}function ur(t,n,e){var r=new ar;return r.restart(t,n,e),r}function fr(){ir(),++We;for(var t,n=Ve;n;)(t=tr-n._time)>=0&&n._call.call(null,t),n=n._next;--We}function cr(){tr=(Ke=er.now())+nr,We=Ze=0;try{fr()}finally{We=0,function(){for(var t,n,e=Ve,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Ve=n);$e=t,lr(r)}(),tr=0}}function sr(){var t=er.now(),n=t-Ke;n>Je&&(nr-=n,Ke=t)}function lr(t){We||(Ze&&(Ze=clearTimeout(Ze)),t-tr>24?(t<1/0&&(Ze=setTimeout(cr,t-er.now()-nr)),Qe&&(Qe=clearInterval(Qe))):(Qe||(Ke=er.now(),Qe=setInterval(sr,Je)),We=1,rr(cr)))}function hr(t,n,e){var r=new ar;return n=null==n?0:+n,r.restart(function(e){r.stop(),t(e+n)},n,e),r}function wr(t,n,e,r,i,o){var a=t.__transition;if(a){if(e in a)return}else t.__transition={};!function(t,n,e){function o(f){var c,s,l,h;if(e.state!==gr)return u();for(c in i)if((h=i[c]).name===e.name){if(h.state===_r)return hr(o);h.state===br?(h.state=xr,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[c]):+c<n&&(h.state=xr,h.timer.stop(),delete i[c])}if(hr(function(){e.state===_r&&(e.state=br,e.timer.restart(a,e.delay,e.time),a(f))}),e.state=yr,e.on.call("start",t,t.__data__,e.index,e.group),e.state===yr){for(e.state=_r,r=new Array(l=e.tween.length),c=0,s=-1;c<l;++c)(h=e.tween[c].value.call(t,t.__data__,e.index,e.group))&&(r[++s]=h);r.length=s+1}}function a(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(u),e.state=mr,1),o=-1,a=r.length;++o<a;)r[o].call(null,i);e.state===mr&&(e.on.call("end",t,t.__data__,e.index,e.group),u())}function u(){for(var r in e.state=xr,e.timer.stop(),delete i[n],i)return;delete t.__transition}var r,i=t.__transition;i[n]=e,e.timer=ur(function(t){e.state=gr,e.timer.restart(o,e.delay,e.time),e.delay<=t&&o(t-e.delay)},0,e.time)}(t,e,{name:n,index:r,group:i,on:dr,tween:pr,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:vr})}function Mr(t,n){var e=Tr(t,n);if(e.state>vr)throw new Error("too late; already scheduled");return e}function Ar(t,n){var e=Tr(t,n);if(e.state>yr)throw new Error("too late; already started");return e}function Tr(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function Nr(t,n){var e,r,i,o=t.__transition,a=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>yr&&e.state<mr,e.state=xr,e.timer.stop(),r&&e.on.call("interrupt",t,t.__data__,e.index,e.group),delete o[i]):a=!1;a&&delete t.__transition}}function Sr(t,n,e){var r=t._id;return t.each(function(){var t=Ar(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)}),function(t){return Tr(t,r).value[n]}}function Er(t,n){var e;return("number"==typeof n?ve:n instanceof vn?ce:(e=vn(n))?(n=e,ce):be)(t,n)}function Pr(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function zr(t){return Lt().transition(t)}function Rr(){return++Cr}function Dr(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function Ur(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}function Ir(t){return(1-Math.cos(Br*t))/2}function Hr(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2;
}function jr(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}function ni(t){return(t=+t)<Xr?ti*t*t:t<Vr?ti*(t-=Gr)*t+$r:t<Zr?ti*(t-=Wr)*t+Qr:ti*(t-=Jr)*t+Kr}function si(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))return ci.time=ir(),ci;return e}function hi(t){return function(){return t}}function di(t,n,e){this.target=t,this.type=n,this.selection=e}function pi(){t.event.stopImmediatePropagation()}function vi(){t.event.preventDefault(),t.event.stopImmediatePropagation()}function Ei(t){return{type:t}}function ki(){return!t.event.button}function Ci(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Pi(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function zi(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Ri(n){function u(t){var e=t.property("__brush",h).selectAll(".overlay").data([Ei("overlay")]);e.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Mi.overlay).merge(e).each(function(){var t=Pi(this).extent;Dt(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),t.selectAll(".selection").data([Ei("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Mi.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=t.selectAll(".handle").data(n.handles,function(t){return t.type});r.exit().remove(),r.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return Mi[t.type]}),t.each(f).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",l)}function f(){var t=Dt(this),n=Pi(this).selection;n?(t.selectAll(".selection").style("display",null).attr("x",n[0][0]).attr("y",n[0][1]).attr("width",n[1][0]-n[0][0]).attr("height",n[1][1]-n[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?n[1][0]-a/2:n[0][0]-a/2}).attr("y",function(t){return"s"===t.type[0]?n[1][1]-a/2:n[0][1]-a/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?n[1][0]-n[0][0]+a:a}).attr("height",function(t){return"e"===t.type||"w"===t.type?n[1][1]-n[0][1]+a:a})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(t,n){return t.__brush.emitter||new s(t,n)}function s(t,n){this.that=t,this.args=n,this.state=t.__brush,this.active=0}function l(){function O(){var t=Ft(b);!P||y||_||(Math.abs(t[0]-R[0])>Math.abs(t[1]-R[1])?_=!0:y=!0),R=t,g=!0,vi(),Y()}function Y(){var t;switch(p=R[0]-z[0],v=R[1]-z[1],x){case yi:case gi:w&&(p=Math.max(S-r,Math.min(k-s,p)),o=r+p,l=s+p),M&&(v=Math.max(E-a,Math.min(C-h,v)),u=a+v,d=h+v);break;case _i:w<0?(p=Math.max(S-r,Math.min(k-r,p)),o=r+p,l=s):w>0&&(p=Math.max(S-s,Math.min(k-s,p)),o=r,l=s+p),M<0?(v=Math.max(E-a,Math.min(C-a,v)),u=a+v,d=h):M>0&&(v=Math.max(E-h,Math.min(C-h,v)),u=a,d=h+v);break;case bi:w&&(o=Math.max(S,Math.min(k,r-p*w)),l=Math.max(S,Math.min(k,s+p*w))),M&&(u=Math.max(E,Math.min(C,a-v*M)),d=Math.max(E,Math.min(C,h+v*M)))}l<o&&(w*=-1,t=r,r=s,s=t,t=o,o=l,l=t,m in Ai&&U.attr("cursor",Mi[m=Ai[m]])),d<u&&(M*=-1,t=a,a=h,h=t,t=u,u=d,d=t,m in Ti&&U.attr("cursor",Mi[m=Ti[m]])),A.selection&&(N=A.selection),y&&(o=N[0][0],l=N[1][0]),_&&(u=N[0][1],d=N[1][1]),N[0][0]===o&&N[0][1]===u&&N[1][0]===l&&N[1][1]===d||(A.selection=[[o,u],[l,d]],f.call(b),L.brush())}function B(){if(pi(),t.event.touches){if(t.event.touches.length)return;e&&clearTimeout(e),e=setTimeout(function(){e=null},500),D.on("touchmove.brush touchend.brush touchcancel.brush",null)}else Gt(t.event.view,g),q.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);D.attr("pointer-events","all"),U.attr("cursor",Mi.overlay),A.selection&&(N=A.selection),zi(N)&&(A.selection=null,f.call(b)),L.end()}if(t.event.touches){if(t.event.changedTouches.length<t.event.touches.length)return vi()}else if(e)return;if(i.apply(this,arguments)){var r,o,a,u,s,l,h,d,p,v,g,y,_,b=this,m=t.event.target.__data__.type,x="selection"===(t.event.metaKey?m="overlay":m)?gi:t.event.altKey?bi:_i,w=n===xi?null:Ni[m],M=n===mi?null:Si[m],A=Pi(b),T=A.extent,N=A.selection,S=T[0][0],E=T[0][1],k=T[1][0],C=T[1][1],P=w&&M&&t.event.shiftKey,z=Ft(b),R=z,L=c(b,arguments).beforestart();"overlay"===m?A.selection=N=[[r=n===xi?S:z[0],a=n===mi?E:z[1]],[s=n===xi?k:r,h=n===mi?C:a]]:(r=N[0][0],a=N[0][1],s=N[1][0],h=N[1][1]),o=r,u=a,l=s,d=h;var D=Dt(b).attr("pointer-events","none"),U=D.selectAll(".overlay").attr("cursor",Mi[m]);if(t.event.touches)D.on("touchmove.brush",O,!0).on("touchend.brush touchcancel.brush",B,!0);else{var q=Dt(t.event.view).on("keydown.brush",function(){switch(t.event.keyCode){case 16:P=w&&M;break;case 18:x===_i&&(w&&(s=l-p*w,r=o+p*w),M&&(h=d-v*M,a=u+v*M),x=bi,Y());break;case 32:x!==_i&&x!==bi||(w<0?s=l-p:w>0&&(r=o-p),M<0?h=d-v:M>0&&(a=u-v),x=yi,U.attr("cursor",Mi.selection),Y());break;default:return}vi()},!0).on("keyup.brush",function(){switch(t.event.keyCode){case 16:P&&(y=_=P=!1,Y());break;case 18:x===bi&&(w<0?s=l:w>0&&(r=o),M<0?h=d:M>0&&(a=u),x=_i,Y());break;case 32:x===yi&&(t.event.altKey?(w&&(s=l-p*w,r=o+p*w),M&&(h=d-v*M,a=u+v*M),x=bi):(w<0?s=l:w>0&&(r=o),M<0?h=d:M>0&&(a=u),x=_i),U.attr("cursor",Mi[m]),Y());break;default:return}vi()},!0).on("mousemove.brush",O,!0).on("mouseup.brush",B,!0);Xt(t.event.view)}pi(),Nr(b),f.call(b),L.start()}}function h(){var t=this.__brush||{selection:null};return t.extent=r.apply(this,arguments),t.dim=n,t}var e,r=Ci,i=ki,o=I(u,"start","brush","end"),a=6;return u.move=function(t,e){t.selection?t.on("start.brush",function(){c(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){c(this,arguments).end()}).tween("brush",function(){function s(n){r.selection=1===n&&zi(a)?null:u(n),f.call(t),i.brush()}var t=this,r=t.__brush,i=c(t,arguments),o=r.selection,a=n.input("function"==typeof e?e.apply(this,arguments):e,r.extent),u=me(o,a);return o&&a?s:s(1)}):t.each(function(){var t=arguments,r=this.__brush,i=n.input("function"==typeof e?e.apply(this,t):e,r.extent),o=c(this,t).beforestart();Nr(this),r.selection=null==i||zi(i)?null:i,f.call(this),o.start().brush().end()})},s.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(t){Ct(new di(u,t,n.output(this.state.selection)),o.apply,o,[t,this.that,this.args])}},u.extent=function(t){return arguments.length?(r="function"==typeof t?t:hi([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),u):r},u.filter=function(t){return arguments.length?(i="function"==typeof t?t:hi(!!t),u):i},u.handleSize=function(t){return arguments.length?(a=+t,u):a},u.on=function(){var t=o.on.apply(o,arguments);return t===o?u:t},u}function Fi(t){return function(){return t}}function Xi(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Gi(){return new Xi}function Vi(t){return t.source}function $i(t){return t.target}function Wi(t){return t.radius}function Zi(t){return t.startAngle}function Qi(t){return t.endAngle}function Ji(){}function Ki(t,n){var e=new Ji;if(t instanceof Ji)t.each(function(t,n){e.set(n,t)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==n)for(;++i<o;)e.set(i,t[i]);else for(;++i<o;)e.set(n(r=t[i],i,t),r)}else if(t)for(var a in t)e.set(a,t[a]);return e}function to(){return{}}function no(t,n,e){t[n]=e}function eo(){return Ki()}function ro(t,n,e){t.set(n,e)}function io(){}function ao(t,n){var e=new io;if(t instanceof io)t.each(function(t){e.add(t)});else if(t){var r=-1,i=t.length;if(null==n)for(;++r<i;)e.add(t[r]);else for(;++r<i;)e.add(n(t[r],r,t))}return e}function fo(t,n){return t-n}function co(t){return function(){return t}}function so(t,n){for(var e,r=-1,i=n.length;++r<i;)if(e=lo(t,n[r]))return e;return 0}function lo(t,n){for(var e=n[0],r=n[1],i=-1,o=0,a=t.length,u=a-1;o<a;u=o++){var f=t[o],c=f[0],s=f[1],l=t[u],h=l[0],d=l[1];if(ho(f,l,n))return 0;s>r!=d>r&&e<(h-c)*(r-s)/(d-s)+c&&(i=-i)}return i}function ho(t,n,e){var r,i,o,a;return function(t,n,e){return(n[0]-t[0])*(e[1]-t[1])==(e[0]-t[0])*(n[1]-t[1])}(t,n,e)&&(i=t[r=+(t[0]===n[0])],o=e[r],a=n[r],i<=o&&o<=a||a<=o&&o<=i)}function po(){}function go(){function i(t){var n=e(t);if(Array.isArray(n))n=n.slice().sort(fo);else{var r=s(t),i=r[0],a=r[1];n=w(i,a,n),n=g(Math.floor(i/n)*n,Math.floor(a/n)*n,n)}return n.map(function(n){return o(t,n)})}function o(e,i){var o=[],u=[];return function(e,r,i){function p(t){var n,e,r=[t[0][0]+o,t[0][1]+u],f=[t[1][0]+o,t[1][1]+u],c=a(r),s=a(f);(n=d[c])?(e=h[s])?(delete d[n.end],delete h[e.start],n===e?(n.ring.push(f),i(n.ring)):h[n.start]=d[e.end]={start:n.start,end:e.end,ring:n.ring.concat(e.ring)}):(delete d[n.end],n.ring.push(f),d[n.end=s]=n):(n=h[s])?(e=d[c])?(delete h[n.start],delete d[e.end],n===e?(n.ring.push(f),i(n.ring)):h[e.start]=d[n.end]={start:e.start,end:n.end,ring:e.ring.concat(n.ring)}):(delete h[n.start],n.ring.unshift(r),h[n.start=c]=n):h[c]=d[s]={start:c,end:s,ring:[r,f]}}var o,u,f,c,s,l,h=new Array,d=new Array;for(o=u=-1,c=e[0]>=r,vo[c<<1].forEach(p);++o<t-1;)f=c,c=e[o+1]>=r,vo[f|c<<1].forEach(p);for(vo[c<<0].forEach(p);++u<n-1;){for(o=-1,c=e[u*t+t]>=r,s=e[u*t]>=r,vo[c<<1|s<<2].forEach(p);++o<t-1;)f=c,c=e[u*t+t+o+1]>=r,l=s,s=e[u*t+o+1]>=r,vo[f|c<<1|s<<2|l<<3].forEach(p);vo[c|s<<3].forEach(p)}for(o=-1,s=e[u*t]>=r,vo[s<<2].forEach(p);++o<t-1;)l=s,s=e[u*t+o+1]>=r,vo[s<<2|l<<3].forEach(p);vo[s<<3].forEach(p)}(e,i,function(t){r(t,e,i),function(t){for(var n=0,e=t.length,r=t[e-1][1]*t[0][0]-t[e-1][0]*t[0][1];++n<e;)r+=t[n-1][1]*t[n][0]-t[n-1][0]*t[n][1];return r}(t)>0?o.push([t]):u.push(t)}),u.forEach(function(t){for(var n,e=0,r=o.length;e<r;++e)if(-1!==so((n=o[e])[0],t))return void n.push(t)}),{type:"MultiPolygon",value:i,coordinates:o}}function a(n){return 2*n[0]+n[1]*(t+1)*4}function u(e,r,i){e.forEach(function(e){var o,a=e[0],u=e[1],f=0|a,c=0|u,s=r[c*t+f];a>0&&a<t&&f===a&&(o=r[c*t+f-1],e[0]=a+(i-o)/(s-o)-.5),u>0&&u<n&&c===u&&(o=r[(c-1)*t+f],e[1]=u+(i-o)/(s-o)-.5)})}var t=1,n=1,e=M,r=u;return i.contour=o,i.size=function(e){if(!arguments.length)return[t,n];var r=Math.ceil(e[0]),o=Math.ceil(e[1]);if(!(r>0&&o>0))throw new Error("invalid size");return t=r,n=o,i},i.thresholds=function(t){return arguments.length?(e="function"==typeof t?t:co(Array.isArray(t)?uo.call(t):t),i):e},i.smooth=function(t){return arguments.length?(r=t?u:po,i):r===u},i}function yo(t,n,e){for(var r=t.width,i=t.height,o=1+(e<<1),a=0;a<i;++a)for(var u=0,f=0;u<r+e;++u)u<r&&(f+=t.data[u+a*r]),u>=e&&(u>=o&&(f-=t.data[u-o+a*r]),n.data[u-e+a*r]=f/Math.min(u+1,r-1+o-u,o))}function _o(t,n,e){for(var r=t.width,i=t.height,o=1+(e<<1),a=0;a<r;++a)for(var u=0,f=0;u<i+e;++u)u<i&&(f+=t.data[a+u*r]),u>=e&&(u>=o&&(f-=t.data[a+(u-o)*r]),n.data[a+(u-e)*r]=f/Math.min(u+1,i-1+o-u,o))}function bo(t){return t[0]}function mo(t){return t[1]}function xo(){return 1}function So(t){return new Function("d","return {"+t.map(function(t,n){return JSON.stringify(t)+": d["+n+"]"}).join(",")+"}")}function Eo(t){function r(t,n){function s(){if(f)return Mo;if(c)return c=!1,wo;var n,r,i=a;if(t.charCodeAt(i)===Ao){for(;a++<o&&t.charCodeAt(a)!==Ao||t.charCodeAt(++a)===Ao;);return(n=a)>=o?f=!0:(r=t.charCodeAt(a++))===To?c=!0:r===No&&(c=!0,t.charCodeAt(a)===To&&++a),t.slice(i+1,n-1).replace(/""/g,'"')}for(;a<o;){if((r=t.charCodeAt(n=a++))===To)c=!0;else if(r===No)c=!0,t.charCodeAt(a)===To&&++a;else if(r!==e)continue;return t.slice(i,n)}return f=!0,t.slice(i,o)}var r,i=[],o=t.length,a=0,u=0,f=o<=0,c=!1;for(t.charCodeAt(o-1)===To&&--o,t.charCodeAt(o-1)===No&&--o;(r=s())!==Mo;){for(var l=[];r!==wo&&r!==Mo;)l.push(r),r=s();n&&null==(l=n(l,u++))||i.push(l)}return i}function i(n){return n.map(o).join(t)}function o(t){return null==t?"":n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}var n=new RegExp('["'+t+"\n\r]"),e=t.charCodeAt(0);return{parse:function(t,n){var e,i,o=r(t,function(t,r){return e?e(t,r-1):(i=t,void(e=n?function(t,n){var e=So(t);return function(r,i){return n(e(r),i,t)}}(t,n):So(t)))});return o.columns=i||[],o},parseRows:r,format:function(n,e){return null==e&&(e=function(t){var n=Object.create(null),e=[];return t.forEach(function(t){for(var r in t)r in n||e.push(n[r]=r)}),e}(n)),[e.map(o).join(t)].concat(n.map(function(n){return e.map(function(t){return o(n[t])}).join(t)})).join("\n")},formatRows:function(t){return t.map(i).join("\n")}}}function Yo(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function Bo(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function Fo(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Io(t,n){return fetch(t,n).then(Fo)}function Ho(t){return function(n,e,r){return 2===arguments.length&&"function"==typeof e&&(r=e,e=void 0),Io(n,e).then(function(n){return t(n,r)})}}function Go(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.json()}function Vo(t){return function(n,e){return Io(n,e).then(function(n){return(new DOMParser).parseFromString(n,t)})}}function Qo(t){return function(){return t}}function Jo(){return 1e-6*(Math.random()-.5)}function Ko(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,o,a,u,f,c,s,l,h,d=t._root,p={data:r},v=t._x0,g=t._y0,y=t._x1,_=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((c=n>=(o=(v+y)/2))?v=o:y=o,(s=e>=(a=(g+_)/2))?g=a:_=a,i=d,!(d=d[l=s<<1|c]))return i[l]=p,t;if(u=+t._x.call(null,d.data),f=+t._y.call(null,d.data),n===u&&e===f)return p.next=d,i?i[l]=p:t._root=p,t;do i=i?i[l]=new Array(4):t._root=new Array(4),(c=n>=(o=(v+y)/2))?v=o:y=o,(s=e>=(a=(g+_)/2))?g=a:_=a;while((l=s<<1|c)==(h=(f>=a)<<1|u>=o));return i[h]=d,i[l]=p,t}function ta(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i}function na(t){return t[0]}function ea(t){return t[1]}function ra(t,n,e){var r=new ia(null==n?na:n,null==e?ea:e,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function ia(t,n,e,r,i,o){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function oa(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}function ua(t){return t.x+t.vx}function fa(t){return t.y+t.vy}function ca(t){return t.index}function sa(t,n){var e=t.get(n);if(!e)throw new Error("missing: "+n);return e}function la(t){return t.x}function ha(t){return t.y}function va(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function ga(t){return(t=va(Math.abs(t)))?t[1]:NaN}function ba(t){return new ma(t)}function ma(t){if(!(n=_a.exec(t)))throw new Error("invalid format: "+t);var n;this.fill=n[1]||" ",this.align=n[2]||">",this.sign=n[3]||"-",this.symbol=n[4]||"",this.zero=!!n[5],this.width=n[6]&&+n[6],this.comma=!!n[7],this.precision=n[8]&&+n[8].slice(1),this.trim=!!n[9],this.type=n[10]||""}function xa(t,n){var e=va(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array((-i)).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}function Ma(t){return t}function Na(t){function f(t){function m(t){var i,u,c,m=g,x=y;if("c"===v)x=_(t)+x,t="";else{var w=(t=+t)<0;if(t=_(Math.abs(t),d),p&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(i>0){if(!+t[r])break t;i=0}}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),w&&0==+t&&(w=!1),m=(w?"("===f?f:"-":"-"===f||"("===f?"":f)+m,x=("s"===v?Ta[8+ya/3]:"")+x+(w&&"("===f?")":""),b)for(i=-1,u=t.length;++i<u;)if(48>(c=t.charCodeAt(i))||c>57){x=(46===c?o+t.slice(i+1):t.slice(i))+x,t=t.slice(0,i);break}}h&&!s&&(t=r(t,1/0));var M=m.length+t.length+x.length,A=M<l?new Array(l-M+1).join(n):"";switch(h&&s&&(t=r(A+t,A.length?l-x.length:1/0),A=""),e){case"<":t=m+t+x+A;break;case"=":t=m+A+t+x;break;case"^":t=A.slice(0,M=A.length>>1)+m+t+x+A.slice(M);break;default:t=A+m+t+x}return a(t)}var n=(t=ba(t)).fill,e=t.align,f=t.sign,c=t.symbol,s=t.zero,l=t.width,h=t.comma,d=t.precision,p=t.trim,v=t.type;"n"===v?(h=!0,v="g"):wa[v]||(null==d&&(d=12),p=!0,v="g"),(s||"0"===n&&"="===e)&&(s=!0,n="0",e="=");var g="$"===c?i[0]:"#"===c&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",y="$"===c?i[1]:/[%p]/.test(v)?u:"",_=wa[v],b=/[defgprs%]/.test(v);return d=null==d?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,d)):Math.max(0,Math.min(20,d)),m.toString=function(){return t+""},m}var n,e,r=t.grouping&&t.thousands?(n=t.grouping,e=t.thousands,function(t,r){for(var i=t.length,o=[],a=0,u=n[0],f=0;i>0&&u>0&&(f+u+1>r&&(u=Math.max(1,r-f)),o.push(t.substring(i-=u,i+u)),!((f+=u+1)>r));)u=n[a=(a+1)%n.length];return o.reverse().join(e)}):Ma,i=t.currency,o=t.decimal,a=t.numerals?function(t){return function(n){return n.replace(/[0-9]/g,function(n){return t[+n]})}}(t.numerals):Ma,u=t.percent||"%";return{format:f,formatPrefix:function(t,n){var e=f(((t=ba(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(ga(n)/3))),i=Math.pow(10,-r),o=Ta[8+r/3];return function(t){return e(i*t)+o}}}}function Sa(n){return Aa=Na(n),t.format=Aa.format,t.formatPrefix=Aa.formatPrefix,Aa}function Ea(t){return Math.max(0,-ga(Math.abs(t)))}function ka(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(ga(n)/3)))-ga(Math.abs(t)))}function Ca(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,ga(n)-ga(t))+1}function Pa(){return new za}function za(){this.reset()}function La(t,n,e){var r=t.s=n+e,i=r-n,o=r-i;t.t=n-o+(e-i)}function nu(t){return t>1?0:t<-1?qa:Math.acos(t)}function eu(t){return t>1?Oa:t<-1?-Oa:Math.asin(t)}function ru(t){return(t=Qa(t/2))*t}function iu(){}function ou(t,n){t&&uu.hasOwnProperty(t.type)&&uu[t.type](t,n)}function fu(t,n,e){var r,i=-1,o=t.length-e;for(n.lineStart();++i<o;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function cu(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)fu(t[e],n,1);n.polygonEnd()}function su(t,n){t&&au.hasOwnProperty(t.type)?au[t.type](t,n):ou(t,n)}function bu(){_u.point=xu}function mu(){wu(lu,hu)}function xu(t,n){_u.point=wu,lu=t,hu=n,du=t*=Ia,pu=Ga(n=(n*=Ia)/2+Ya),vu=Qa(n)}function wu(t,n){var e=(t*=Ia)-du,r=e>=0?1:-1,i=r*e,o=Ga(n=(n*=Ia)/2+Ya),a=Qa(n),u=vu*a,f=pu*o+u*Ga(i),c=u*r*Qa(i);gu.add(Xa(c,f)),du=t,pu=o,vu=a}function Mu(t){return[Xa(t[1],t[0]),eu(t[2])]}function Au(t){var n=t[0],e=t[1],r=Ga(e);return[r*Ga(n),r*Qa(n),Qa(e)]}function Tu(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function Nu(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function Su(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function Eu(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function ku(t){var n=Ka(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function of(t,n){Ou.push(Yu=[Cu=t,zu=t]),n<Pu&&(Pu=n),n>Ru&&(Ru=n)}function af(t,n){var e=Au([t*Ia,n*Ia]);if(qu){var r=Nu(qu,e),i=Nu([r[1],-r[0],0],r);ku(i),i=Mu(i);var o,a=t-Lu,u=a>0?1:-1,f=i[0]*Fa*u,c=Ha(a)>180;c^(u*Lu<f&&f<u*t)?(o=i[1]*Fa)>Ru&&(Ru=o):c^(u*Lu<(f=(f+360)%360-180)&&f<u*t)?(o=-i[1]*Fa)<Pu&&(Pu=o):(n<Pu&&(Pu=n),n>Ru&&(Ru=n)),c?t<Lu?hf(Cu,t)>hf(Cu,zu)&&(zu=t):hf(t,zu)>hf(Cu,zu)&&(Cu=t):zu>=Cu?(t<Cu&&(Cu=t),t>zu&&(zu=t)):t>Lu?hf(Cu,t)>hf(Cu,zu)&&(zu=t):hf(t,zu)>hf(Cu,zu)&&(Cu=t)}else Ou.push(Yu=[Cu=t,zu=t]);n<Pu&&(Pu=n),n>Ru&&(Ru=n),qu=e,Lu=t}function uf(){rf.point=af}function ff(){Yu[0]=Cu,Yu[1]=zu,rf.point=of,qu=null}function cf(t,n){if(qu){var e=t-Lu;ef.add(Ha(e)>180?e+(e>0?360:-360):e)}else Du=t,Uu=n;_u.point(t,n),af(t,n)}function sf(){_u.lineStart()}function lf(){cf(Du,Uu),_u.lineEnd(),Ha(ef)>Da&&(Cu=-(zu=180)),Yu[0]=Cu,Yu[1]=zu,qu=null}function hf(t,n){return(n-=t)<0?n+360:n}function df(t,n){return t[0]-n[0]}function pf(t,n){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}function gf(t,n){t*=Ia;var e=Ga(n*=Ia);yf(e*Ga(t),e*Qa(t),Qa(n))}function yf(t,n,e){Iu+=(t-Iu)/++Bu,Hu+=(n-Hu)/Bu,ju+=(e-ju)/Bu}function _f(){vf.point=bf}function bf(t,n){t*=Ia;var e=Ga(n*=Ia);Ku=e*Ga(t),tf=e*Qa(t),nf=Qa(n),vf.point=mf,yf(Ku,tf,nf)}function mf(t,n){t*=Ia;var e=Ga(n*=Ia),r=e*Ga(t),i=e*Qa(t),o=Qa(n),a=Xa(Ka((a=tf*o-nf*i)*a+(a=nf*r-Ku*o)*a+(a=Ku*i-tf*r)*a),Ku*r+tf*i+nf*o);Fu+=a,Xu+=a*(Ku+(Ku=r)),Gu+=a*(tf+(tf=i)),Vu+=a*(nf+(nf=o)),yf(Ku,tf,nf)}function xf(){vf.point=gf}function wf(){vf.point=Af}function Mf(){Tf(Qu,Ju),vf.point=gf}function Af(t,n){Qu=t,Ju=n,t*=Ia,n*=Ia,vf.point=Tf;var e=Ga(n);Ku=e*Ga(t),tf=e*Qa(t),nf=Qa(n),yf(Ku,tf,nf)}function Tf(t,n){t*=Ia;var e=Ga(n*=Ia),r=e*Ga(t),i=e*Qa(t),o=Qa(n),a=tf*o-nf*i,u=nf*r-Ku*o,f=Ku*i-tf*r,c=Ka(a*a+u*u+f*f),s=eu(c),l=c&&-s/c;$u+=l*a,Wu+=l*u,Zu+=l*f,Fu+=s,Xu+=s*(Ku+(Ku=r)),Gu+=s*(tf+(tf=i)),Vu+=s*(nf+(nf=o)),yf(Ku,tf,nf)}function Nf(t){return function(){return t}}function Sf(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return(e=n.invert(e,r))&&t.invert(e[0],e[1])}),e}function Ef(t,n){return[t>qa?t-Ba:t<-qa?t+Ba:t,n]}function kf(t,n,e){return(t%=Ba)?n||e?Sf(Pf(t),zf(n,e)):Pf(t):n||e?zf(n,e):Ef}function Cf(t){return function(n,e){return[(n+=t)>qa?n-Ba:n<-qa?n+Ba:n,e]}}function Pf(t){var n=Cf(t);return n.invert=Cf(-t),n}function zf(t,n){function a(t,n){var a=Ga(n),u=Ga(t)*a,f=Qa(t)*a,c=Qa(n),s=c*e+u*r;return[Xa(f*i-s*o,u*e-c*r),eu(s*i+f*o)]}var e=Ga(t),r=Qa(t),i=Ga(n),o=Qa(n);return a.invert=function(t,n){var a=Ga(n),u=Ga(t)*a,f=Qa(t)*a,c=Qa(n),s=c*i-f*o;return[Xa(f*i+c*o,u*e+s*r),eu(s*e-u*r)]},a}function Rf(t){function n(n){return(n=t(n[0]*Ia,n[1]*Ia))[0]*=Fa,n[1]*=Fa,n}return t=kf(t[0]*Ia,t[1]*Ia,t.length>2?t[2]*Ia:0),n.invert=function(n){return(n=t.invert(n[0]*Ia,n[1]*Ia))[0]*=Fa,n[1]*=Fa,n},n}function Lf(t,n,e,r,i,o){if(e){var a=Ga(n),u=Qa(n),f=r*e;null==i?(i=n+r*Ba,o=n-f/2):(i=Df(a,i),o=Df(a,o),(r>0?i<o:i>o)&&(i+=r*Ba));for(var c,s=i;r>0?s>o:s<o;s-=f)c=Mu([a,-u*Ga(s),-u*Qa(s)]),t.point(c[0],c[1])}}function Df(t,n){(n=Au(n))[0]-=t,ku(n);var e=nu(-n[1]);return((-n[2]<0?-e:e)+Ba-Da)%Ba}function Uf(){var t,n=[];return{point:function(n,e){t.push([n,e])},lineStart:function(){n.push(t=[])},lineEnd:iu,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function qf(t,n){return Ha(t[0]-n[0])<Da&&Ha(t[1]-n[1])<Da}function Of(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Yf(t,n,e,r,i){var o,a,u=[],f=[];if(t.forEach(function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],a=t[n];if(qf(r,a)){for(i.lineStart(),o=0;o<n;++o)i.point((r=t[o])[0],r[1]);i.lineEnd()}else u.push(e=new Of(r,t,null,(!0))),f.push(e.o=new Of(r,null,e,(!1))),u.push(e=new Of(a,t,null,(!1))),f.push(e.o=new Of(a,null,e,(!0)))}}),u.length){for(f.sort(n),Bf(u),Bf(f),o=0,a=f.length;o<a;++o)f[o].e=e=!e;for(var c,s,l=u[0];;){for(var h=l,d=!0;h.v;)if((h=h.n)===l)return;c=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(o=0,a=c.length;o<a;++o)i.point((s=c[o])[0],s[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(c=h.p.z,o=c.length-1;o>=0;--o)i.point((s=c[o])[0],s[1]);else r(h.x,h.p.x,-1,i);h=h.p}c=(h=h.o).z,d=!d}while(!h.v);i.lineEnd()}}}function Bf(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}function If(t,n){var e=n[0],r=n[1],i=Qa(r),o=[Qa(e),-Ga(e),0],a=0,u=0;Ff.reset(),1===i?r=Oa+Da:-1===i&&(r=-Oa-Da);for(var f=0,c=t.length;f<c;++f)if(l=(s=t[f]).length)for(var s,l,h=s[l-1],d=h[0],p=h[1]/2+Ya,v=Qa(p),g=Ga(p),y=0;y<l;++y,d=b,v=x,g=w,h=_){var _=s[y],b=_[0],m=_[1]/2+Ya,x=Qa(m),w=Ga(m),M=b-d,A=M>=0?1:-1,T=A*M,N=T>qa,S=v*x;if(Ff.add(Xa(S*A*Qa(T),g*w+S*Ga(T))),a+=N?M+A*Ba:M,N^d>=e^b>=e){var E=Nu(Au(h),Au(_));ku(E);var k=Nu(o,E);ku(k);var C=(N^M>=0?-1:1)*eu(k[2]);(r>C||r===C&&(E[0]||E[1]))&&(u+=N^M>=0?1:-1)}}return(a<-Da||a<Da&&Ff<-Da)^1&u}function Hf(t,n,e,r){return function(i){function d(n,e){t(n,e)&&i.point(n,e)}function p(t,n){f.point(t,n)}function v(){h.point=p,f.lineStart()}function g(){h.point=d,f.lineEnd()}function y(t,n){u.push([t,n]),s.point(t,n)}function _(){s.lineStart(),u=[]}function b(){y(u[0][0],u[0][1]),s.lineEnd();var t,n,e,r,f=s.clean(),h=c.result(),d=h.length;if(u.pop(),o.push(u),u=null,d)if(1&f){if((n=(e=h[0]).length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),t=0;t<n;++t)i.point((r=e[t])[0],r[1]);i.lineEnd()}}else d>1&&2&f&&h.push(h.pop().concat(h.shift())),a.push(h.filter(jf))}var o,a,u,f=n(i),c=Uf(),s=n(c),l=!1,h={point:d,lineStart:v,lineEnd:g,polygonStart:function(){h.point=y,h.lineStart=_,h.lineEnd=b,a=[],o=[]},polygonEnd:function(){h.point=d,h.lineStart=v,h.lineEnd=g,a=N(a);var t=If(o,r);a.length?(l||(i.polygonStart(),l=!0),Yf(a,Xf,t,e,i)):t&&(l||(i.polygonStart(),l=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};return h}}function jf(t){return t.length>1}function Xf(t,n){return((t=t.x)[0]<0?t[1]-Oa-Da:Oa-t[1])-((n=n.x)[0]<0?n[1]-Oa-Da:Oa-n[1])}function Vf(t){function o(t,e){return Ga(t)*Ga(e)>n}function a(t,e,r){var i=[1,0,0],o=Nu(Au(t),Au(e)),a=Tu(o,o),u=o[0],f=a-u*u;if(!f)return!r&&t;var c=n*a/f,s=-n*u/f,l=Nu(i,o),h=Eu(i,c);Su(h,Eu(o,s));var d=l,p=Tu(h,d),v=Tu(d,d),g=p*p-v*(Tu(h,h)-1);if(!(g<0)){var y=Ka(g),_=Eu(d,(-p-y)/v);if(Su(_,h),_=Mu(_),!r)return _;var b,m=t[0],x=e[0],w=t[1],M=e[1];x<m&&(b=m,m=x,x=b);var A=x-m,T=Ha(A-qa)<Da;if(!T&&M<w&&(b=w,w=M,M=b),T||A<Da?T?w+M>0^_[1]<(Ha(_[0]-m)<Da?w:M):w<=_[1]&&_[1]<=M:A>qa^(m<=_[0]&&_[0]<=x)){var N=Eu(d,(-p+y)/v);return Su(N,h),[_,Mu(N)]}}}function u(n,e){var i=r?t:qa-t,o=0;return n<-i?o|=1:n>i&&(o|=2),e<-i?o|=4:e>i&&(o|=8),o}var n=Ga(t),e=6*Ia,r=n>0,i=Ha(n)>Da;return Hf(o,function(t){var n,e,f,c,s;return{lineStart:function(){c=f=!1,s=1},point:function(l,h){var d,p=[l,h],v=o(l,h),g=r?v?0:u(l,h):v?u(l+(l<0?qa:-qa),h):0;if(!n&&(c=f=v)&&t.lineStart(),v!==f&&(!(d=a(n,p))||qf(n,d)||qf(p,d))&&(p[0]+=Da,p[1]+=Da,v=o(p[0],p[1])),v!==f)s=0,v?(t.lineStart(),d=a(p,n),t.point(d[0],d[1])):(d=a(n,p),t.point(d[0],d[1]),t.lineEnd()),n=d;else if(i&&n&&r^v){var y;g&e||!(y=a(p,n,!0))||(s=0,r?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1])))}!v||n&&qf(n,p)||t.point(p[0],p[1]),n=p,f=v,e=g},lineEnd:function(){f&&t.lineEnd(),n=null},clean:function(){return s|(c&&f)<<1}}},function(n,r,i,o){Lf(o,t,e,i,n,r)},r?[0,-t]:[-qa,t-qa])}function Zf(t,n,e,r){function i(i,o){return t<=i&&i<=e&&n<=o&&o<=r}function o(i,o,u,c){var s=0,l=0;if(null==i||(s=a(i,u))!==(l=a(o,u))||f(i,o)<0^u>0){do c.point(0===s||3===s?t:e,s>1?r:n);while((s=(s+u+4)%4)!==l)}else c.point(o[0],o[1])}function a(r,i){return Ha(r[0]-t)<Da?i>0?0:3:Ha(r[0]-e)<Da?i>0?2:1:Ha(r[1]-n)<Da?i>0?1:0:i>0?3:2}function u(t,n){return f(t.x,n.x)}function f(t,n){var e=a(t,1),r=a(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(a){function w(t,n){i(t,n)&&b.point(t,n)}function M(o,a){var u=i(o,a);if(c&&s.push([o,a]),y)l=o,h=a,d=u,y=!1,u&&(b.lineStart(),b.point(o,a));else if(u&&g)b.point(o,a);else{var f=[p=Math.max(Wf,Math.min($f,p)),v=Math.max(Wf,Math.min($f,v))],m=[o=Math.max(Wf,Math.min($f,o)),a=Math.max(Wf,Math.min($f,a))];!function(t,n,e,r,i,o){var a,u=t[0],f=t[1],c=0,s=1,l=n[0]-u,h=n[1]-f;if(a=e-u,l||!(a>0)){if(a/=l,l<0){if(a<c)return;a<s&&(s=a)}else if(l>0){if(a>s)return;a>c&&(c=a)}if(a=i-u,l||!(a<0)){if(a/=l,l<0){if(a>s)return;a>c&&(c=a)}else if(l>0){if(a<c)return;a<s&&(s=a)}if(a=r-f,h||!(a>0)){if(a/=h,h<0){if(a<c)return;a<s&&(s=a)}else if(h>0){if(a>s)return;a>c&&(c=a)}if(a=o-f,h||!(a<0)){if(a/=h,h<0){if(a>s)return;a>c&&(c=a)}else if(h>0){if(a<c)return;a<s&&(s=a)}return c>0&&(t[0]=u+c*l,t[1]=f+c*h),s<1&&(n[0]=u+s*l,n[1]=f+s*h),!0}}}}}(f,m,t,n,e,r)?u&&(b.lineStart(),b.point(o,a),_=!1):(g||(b.lineStart(),b.point(f[0],f[1])),b.point(m[0],m[1]),u||b.lineEnd(),_=!1)}p=o,v=a,g=u}var f,c,s,l,h,d,p,v,g,y,_,b=a,m=Uf(),x={point:w,lineStart:function(){x.point=M,c&&c.push(s=[]),y=!0,g=!1,p=v=NaN},lineEnd:function(){f&&(M(l,h),d&&g&&m.rejoin(),f.push(m.result())),x.point=w,g&&b.lineEnd()},polygonStart:function(){b=m,f=[],c=[],_=!0},polygonEnd:function(){var n=function(){for(var n=0,e=0,i=c.length;e<i;++e)for(var o,a,u=c[e],f=1,s=u.length,l=u[0],h=l[0],d=l[1];f<s;++f)o=h,a=d,l=u[f],h=l[0],d=l[1],a<=r?d>r&&(h-o)*(r-a)>(d-a)*(t-o)&&++n:d<=r&&(h-o)*(r-a)<(d-a)*(t-o)&&--n;return n}(),e=_&&n,i=(f=N(f)).length;(e||i)&&(a.polygonStart(),e&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&Yf(f,u,n,o,a),a.polygonEnd()),b=a,f=c=s=null}};return x}}function ec(){nc.point=nc.lineEnd=iu}function rc(t,n){Qf=t*=Ia,Jf=Qa(n*=Ia),Kf=Ga(n),nc.point=ic}function ic(t,n){t*=Ia;var e=Qa(n*=Ia),r=Ga(n),i=Ha(t-Qf),o=Ga(i),a=r*Qa(i),u=Kf*e-Jf*r*o,f=Jf*e+Kf*r*o;tc.add(Xa(Ka(a*a+u*u),f)),Qf=t,Jf=e,Kf=r}function oc(t){return tc.reset(),su(t,nc),+tc}function fc(t,n){return ac[0]=t,ac[1]=n,oc(uc)}function lc(t,n){return!(!t||!sc.hasOwnProperty(t.type))&&sc[t.type](t,n)}function hc(t,n){return 0===fc(t,n)}function dc(t,n){var e=fc(t[0],t[1]);return fc(t[0],n)+fc(n,t[1])<=e+Da}function pc(t,n){return!!If(t.map(vc),gc(n))}function vc(t){return(t=t.map(gc)).pop(),t}function gc(t){return[t[0]*Ia,t[1]*Ia]}function yc(t,n,e){var r=g(t,n-Da,e).concat(n);return function(t){return r.map(function(n){return[t,n]})}}function _c(t,n,e){var r=g(t,n-Da,e).concat(n);return function(t){return r.map(function(n){return[n,t]})}}function bc(){function _(){return{type:"MultiLineString",coordinates:b()}}function b(){return g(Va(r/p)*p,e,p).map(s).concat(g(Va(u/v)*v,a,v).map(l)).concat(g(Va(n/h)*h,t,h).filter(function(t){return Ha(t%p)>Da}).map(f)).concat(g(Va(o/d)*d,i,d).filter(function(t){return Ha(t%v)>Da}).map(c))}var t,n,e,r,i,o,a,u,f,c,s,l,h=10,d=h,p=90,v=360,y=2.5;return _.lines=function(){return b().map(function(t){return{type:"LineString",coordinates:t}})},_.outline=function(){return{type:"Polygon",coordinates:[s(r).concat(l(a).slice(1),s(e).reverse().slice(1),l(u).reverse().slice(1))]}},_.extent=function(t){return arguments.length?_.extentMajor(t).extentMinor(t):_.extentMinor()},_.extentMajor=function(t){return arguments.length?(r=+t[0][0],e=+t[1][0],u=+t[0][1],a=+t[1][1],r>e&&(t=r,r=e,e=t),u>a&&(t=u,u=a,a=t),_.precision(y)):[[r,u],[e,a]]},_.extentMinor=function(e){return arguments.length?(n=+e[0][0],t=+e[1][0],o=+e[0][1],i=+e[1][1],n>t&&(e=n,n=t,t=e),o>i&&(e=o,o=i,i=e),_.precision(y)):[[n,o],[t,i]]},_.step=function(t){return arguments.length?_.stepMajor(t).stepMinor(t):_.stepMinor()},_.stepMajor=function(t){return arguments.length?(p=+t[0],v=+t[1],_):[p,v]},_.stepMinor=function(t){return arguments.length?(h=+t[0],d=+t[1],_):[h,d]},_.precision=function(h){return arguments.length?(y=+h,f=yc(o,i,90),c=_c(n,t,y),s=yc(u,a,90),l=_c(r,e,y),_):y},_.extentMajor([[-180,-90+Da],[180,90-Da]]).extentMinor([[-180,-80-Da],[180,80+Da]])}function mc(t){return t}function Ec(){Sc.point=kc}function kc(t,n){Sc.point=Cc,xc=Mc=t,wc=Ac=n}function Cc(t,n){Nc.add(Ac*t-Mc*n),Mc=t,Ac=n}function Pc(){Cc(xc,wc)}function Qc(t,n){Fc+=t,Ic+=n,++Hc}function Jc(){Zc.point=Kc}function Kc(t,n){Zc.point=ts,Qc(Yc=t,Bc=n)}function ts(t,n){var e=t-Yc,r=n-Bc,i=Ka(e*e+r*r);jc+=i*(Yc+t)/2,Xc+=i*(Bc+n)/2,Gc+=i,Qc(Yc=t,Bc=n)}function ns(){Zc.point=Qc}function es(){Zc.point=is}function rs(){os(qc,Oc)}function is(t,n){Zc.point=os,Qc(qc=Yc=t,Oc=Bc=n)}function os(t,n){var e=t-Yc,r=n-Bc,i=Ka(e*e+r*r);jc+=i*(Yc+t)/2,Xc+=i*(Bc+n)/2,Gc+=i,Vc+=(i=Bc*t-Yc*n)*(Yc+t),$c+=i*(Bc+n),Wc+=3*i,Qc(Yc=t,Bc=n)}function as(t){this._context=t}function ps(t,n){ds.point=vs,fs=ss=t,cs=ls=n}function vs(t,n){ss-=t,ls-=n,hs.add(Ka(ss*ss+ls*ls)),ss=t,ls=n}function gs(){this._string=[]}function ys(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function _s(t){return function(n){var e=new bs;for(var r in t)e[r]=t[r];return e.stream=n,e}}function bs(){}function ms(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),su(e,t.stream(Uc)),n(Uc.result()),null!=r&&t.clipExtent(r),t}
function xs(t,n,e){return ms(t,function(e){var r=n[1][0]-n[0][0],i=n[1][1]-n[0][1],o=Math.min(r/(e[1][0]-e[0][0]),i/(e[1][1]-e[0][1])),a=+n[0][0]+(r-o*(e[1][0]+e[0][0]))/2,u=+n[0][1]+(i-o*(e[1][1]+e[0][1]))/2;t.scale(150*o).translate([a,u])},e)}function ws(t,n,e){return xs(t,[[0,0],n],e)}function Ms(t,n,e){return ms(t,function(e){var r=+n,i=r/(e[1][0]-e[0][0]),o=(r-i*(e[1][0]+e[0][0]))/2,a=-i*e[0][1];t.scale(150*i).translate([o,a])},e)}function As(t,n,e){return ms(t,function(e){var r=+n,i=r/(e[1][1]-e[0][1]),o=-i*e[0][0],a=(r-i*(e[1][1]+e[0][1]))/2;t.scale(150*i).translate([o,a])},e)}function Ss(t,n){return+n?function(t,n){function e(r,i,o,a,u,f,c,s,l,h,d,p,v,g){var y=c-r,_=s-i,b=y*y+_*_;if(b>4*n&&v--){var m=a+h,x=u+d,w=f+p,M=Ka(m*m+x*x+w*w),A=eu(w/=M),T=Ha(Ha(w)-1)<Da||Ha(o-l)<Da?(o+l)/2:Xa(x,m),N=t(T,A),S=N[0],E=N[1],k=S-r,C=E-i,P=_*k-y*C;(P*P/b>n||Ha((y*k+_*C)/b-.5)>.3||a*h+u*d+f*p<Ns)&&(e(r,i,o,a,u,f,S,E,T,m/=M,x/=M,w,v,g),g.point(S,E),e(S,E,T,m,x,w,c,s,l,h,d,p,v,g))}}return function(n){function g(e,r){e=t(e,r),n.point(e[0],e[1])}function y(){s=NaN,v.point=_,n.lineStart()}function _(r,i){var o=Au([r,i]),a=t(r,i);e(s,l,c,h,d,p,s=a[0],l=a[1],c=r,h=o[0],d=o[1],p=o[2],Ts,n),n.point(s,l)}function b(){v.point=g,n.lineEnd()}function m(){y(),v.point=x,v.lineEnd=w}function x(t,n){_(r=t,n),i=s,o=l,a=h,u=d,f=p,v.point=_}function w(){e(s,l,c,h,d,p,i,o,r,a,u,f,Ts,n),v.lineEnd=b,b()}var r,i,o,a,u,f,c,s,l,h,d,p,v={point:g,lineStart:y,lineEnd:b,polygonStart:function(){n.polygonStart(),v.lineStart=m},polygonEnd:function(){n.polygonEnd(),v.lineStart=y}};return v}}(t,n):function(t){return _s({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}(t)}function ks(t,n,e,r){function h(t,r){return[a*t-u*r+n,e-u*t-a*r]}var i=Ga(r),o=Qa(r),a=i*t,u=o*t,f=i/t,c=o/t,s=(o*e-i*n)/t,l=(o*n+i*e)/t;return h.invert=function(t,n){return[f*t-c*n+s,l-c*t-f*n]},h}function Cs(t){return Ps(function(){return t})()}function Ps(t){function T(t){return f(t[0]*Ia,t[1]*Ia)}function N(t){return(t=f.invert(t[0],t[1]))&&[t[0]*Fa,t[1]*Fa]}function S(){var t=ks(l,0,0,b).apply(null,n(p,v)),r=(b?ks:function(t,n,e){function r(r,i){return[n+t*r,e-t*i]}return r.invert=function(r,i){return[(r-n)/t,(e-i)/t]},r})(l,h-t[0],d-t[1],b);return e=kf(g,y,_),u=Sf(n,r),f=Sf(e,u),a=Ss(u,A),E()}function E(){return c=s=null,T}var n,e,r,i,o,a,u,f,c,s,l=150,h=480,d=250,p=0,v=0,g=0,y=0,_=0,b=0,m=null,x=Gf,w=null,M=mc,A=.5;return T.stream=function(t){return c&&s===t?c:c=Es(function(t){return _s({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}(e)(x(a(M(s=t)))))},T.preclip=function(t){return arguments.length?(x=t,m=void 0,E()):x},T.postclip=function(t){return arguments.length?(M=t,w=r=i=o=null,E()):M},T.clipAngle=function(t){return arguments.length?(x=+t?Vf(m=t*Ia):(m=null,Gf),E()):m*Fa},T.clipExtent=function(t){return arguments.length?(M=null==t?(w=r=i=o=null,mc):Zf(w=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),E()):null==w?null:[[w,r],[i,o]]},T.scale=function(t){return arguments.length?(l=+t,S()):l},T.translate=function(t){return arguments.length?(h=+t[0],d=+t[1],S()):[h,d]},T.center=function(t){return arguments.length?(p=t[0]%360*Ia,v=t[1]%360*Ia,S()):[p*Fa,v*Fa]},T.rotate=function(t){return arguments.length?(g=t[0]%360*Ia,y=t[1]%360*Ia,_=t.length>2?t[2]%360*Ia:0,S()):[g*Fa,y*Fa,_*Fa]},T.angle=function(t){return arguments.length?(b=t%360*Ia,S()):b*Fa},T.precision=function(t){return arguments.length?(a=Ss(u,A=t*t),E()):Ka(A)},T.fitExtent=function(t,n){return xs(T,t,n)},T.fitSize=function(t,n){return ws(T,t,n)},T.fitWidth=function(t,n){return Ms(T,t,n)},T.fitHeight=function(t,n){return As(T,t,n)},function(){return n=t.apply(this,arguments),T.invert=n.invert&&N,S()}}function zs(t){var n=0,e=qa/3,r=Ps(t),i=r(n,e);return i.parallels=function(t){return arguments.length?r(n=t[0]*Ia,e=t[1]*Ia):[n*Fa,e*Fa]},i}function Rs(t,n){function a(t,n){var e=Ka(i-2*r*Qa(n))/r;return[e*Qa(t*=r),o-e*Ga(t)]}var e=Qa(t),r=(e+Qa(n))/2;if(Ha(r)<Da)return function(t){function e(t,e){return[t*n,Qa(e)/n]}var n=Ga(t);return e.invert=function(t,e){return[t/n,eu(e*n)]},e}(t);var i=1+e*(2*r-e),o=Ka(i)/r;return a.invert=function(t,n){var e=o-n;return[Xa(t,Ha(e))/r*Ja(e),eu((i-(t*t+e*e)*r*r)/(2*r))]},a}function Ls(){return zs(Rs).scale(155.424).center([0,33.6442])}function Ds(){return Ls().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Us(t){return function(n,e){var r=Ga(n),i=Ga(e),o=t(r*i);return[o*i*Qa(n),o*Qa(e)]}}function qs(t){return function(n,e){var r=Ka(n*n+e*e),i=t(r),o=Qa(i),a=Ga(i);return[Xa(n*o,r*a),eu(r&&e*o/r)]}}function Bs(t,n){return[t,Wa(tu((Oa+n)/2))]}function Fs(t){function s(){var o=qa*a(),u=i(Rf(i.rotate()).invert([0,0]));return f(null==c?[[u[0]-o,u[1]-o],[u[0]+o,u[1]+o]]:t===Bs?[[Math.max(u[0]-o,c),n],[Math.min(u[0]+o,e),r]]:[[c,Math.max(u[1]-o,n)],[e,Math.min(u[1]+o,r)]])}var n,e,r,i=Cs(t),o=i.center,a=i.scale,u=i.translate,f=i.clipExtent,c=null;return i.scale=function(t){return arguments.length?(a(t),s()):a()},i.translate=function(t){return arguments.length?(u(t),s()):u()},i.center=function(t){return arguments.length?(o(t),s()):o()},i.clipExtent=function(t){return arguments.length?(null==t?c=n=e=r=null:(c=+t[0][0],n=+t[0][1],e=+t[1][0],r=+t[1][1]),s()):null==c?null:[[c,n],[e,r]]},s()}function Is(t){return tu((Oa+t)/2)}function Hs(t,n){function o(t,n){i>0?n<-Oa+Da&&(n=-Oa+Da):n>Oa-Da&&(n=Oa-Da);var e=i/Za(Is(n),r);return[e*Qa(r*t),i-e*Ga(r*t)]}var e=Ga(t),r=t===n?Qa(t):Wa(e/Ga(n))/Wa(Is(n)/Is(t)),i=e*Za(Is(t),r)/r;return r?(o.invert=function(t,n){var e=i-n,o=Ja(r)*Ka(t*t+e*e);return[Xa(t,Ha(e))/r*Ja(e),2*ja(Za(i/o,1/r))-Oa]},o):Bs}function js(t,n){return[t,n]}function Xs(t,n){function o(t,n){var e=i-n,o=r*t;return[e*Qa(o),i-e*Ga(o)]}var e=Ga(t),r=t===n?Qa(t):(e-Ga(n))/(n-t),i=e/r+t;return Ha(r)<Da?js:(o.invert=function(t,n){var e=i-n;return[Xa(t,Ha(e))/r*Ja(e),i-Ja(r)*Ka(t*t+e*e)]},o)}function Qs(t,n){var e=eu(Zs*Qa(n)),r=e*e,i=r*r*r;return[t*Ga(e)/(Zs*(Gs+3*Vs*r+i*(7*$s+9*Ws*r))),e*(Gs+Vs*r+i*($s+Ws*r))]}function Js(t,n){var e=Ga(n),r=Ga(t)*e;return[e*Qa(t)/r,Qa(n)/r]}function Ks(t,n,e,r){return 1===t&&1===n&&0===e&&0===r?mc:_s({point:function(i,o){this.stream.point(i*t+e,o*n+r)}})}function tl(t,n){var e=n*n,r=e*e;return[t*(.8707-.131979*e+r*(r*(.003971*e-.001529*r)-.013791)),n*(1.007226+e*(.015085+r*(.028874*e-.044475-.005916*r)))]}function nl(t,n){return[Ga(n)*Qa(t),Qa(n)]}function el(t,n){var e=Ga(n),r=1+Ga(t)*e;return[e*Qa(t)/r,Qa(n)/r]}function rl(t,n){return[Wa(tu((Oa+n)/2)),-t]}function il(t,n){return t.parent===n.parent?1:2}function ol(t,n){return t+n.x}function al(t,n){return Math.max(t,n.y)}function ul(t){var n=0,e=t.children,r=e&&e.length;if(r)for(;--r>=0;)n+=e[r].value;else n=1;t.value=n}function fl(t,n){var e,r,i,o,a,u=new hl(t),f=+t.value&&(u.value=t.value),c=[u];for(null==n&&(n=cl);e=c.pop();)if(f&&(e.value=+e.data.value),(i=n(e.data))&&(a=i.length))for(e.children=new Array(a),o=a-1;o>=0;--o)c.push(r=e.children[o]=new hl(i[o])),r.parent=e,r.depth=e.depth+1;return u.eachBefore(ll)}function cl(t){return t.children}function sl(t){t.data=t.data.data}function ll(t){var n=0;do t.height=n;while((t=t.parent)&&t.height<++n)}function hl(t){this.data=t,this.depth=this.height=0,this.parent=null}function pl(t){for(var n,e,r=0,i=(t=function(t){for(var n,e,r=t.length;r;)e=Math.random()*r--|0,n=t[r],t[r]=t[e],t[e]=n;return t}(dl.call(t))).length,o=[];r<i;)n=t[r],e&&yl(e,n)?++r:(e=bl(o=vl(o,n)),r=0);return e}function vl(t,n){var e,r;if(_l(n,t))return[n];for(e=0;e<t.length;++e)if(gl(n,t[e])&&_l(ml(t[e],n),t))return[t[e],n];for(e=0;e<t.length-1;++e)for(r=e+1;r<t.length;++r)if(gl(ml(t[e],t[r]),n)&&gl(ml(t[e],n),t[r])&&gl(ml(t[r],n),t[e])&&_l(xl(t[e],t[r],n),t))return[t[e],t[r],n];throw new Error}function gl(t,n){var e=t.r-n.r,r=n.x-t.x,i=n.y-t.y;return e<0||e*e<r*r+i*i}function yl(t,n){var e=t.r-n.r+1e-6,r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function _l(t,n){for(var e=0;e<n.length;++e)if(!yl(t,n[e]))return!1;return!0}function bl(t){switch(t.length){case 1:return{x:(n=t[0]).x,y:n.y,r:n.r};case 2:return ml(t[0],t[1]);case 3:return xl(t[0],t[1],t[2])}var n}function ml(t,n){var e=t.x,r=t.y,i=t.r,o=n.x,a=n.y,u=n.r,f=o-e,c=a-r,s=u-i,l=Math.sqrt(f*f+c*c);return{x:(e+o+f/l*s)/2,y:(r+a+c/l*s)/2,r:(l+i+u)/2}}function xl(t,n,e){var r=t.x,i=t.y,o=t.r,a=n.x,u=n.y,f=n.r,c=e.x,s=e.y,l=e.r,h=r-a,d=r-c,p=i-u,v=i-s,g=f-o,y=l-o,_=r*r+i*i-o*o,b=_-a*a-u*u+f*f,m=_-c*c-s*s+l*l,x=d*p-h*v,w=(p*m-v*b)/(2*x)-r,M=(v*g-p*y)/x,A=(d*b-h*m)/(2*x)-i,T=(h*y-d*g)/x,N=M*M+T*T-1,S=2*(o+w*M+A*T),E=w*w+A*A-o*o,k=-(N?(S+Math.sqrt(S*S-4*N*E))/(2*N):E/S);return{x:r+w+M*k,y:i+A+T*k,r:k}}function wl(t,n,e){var r,i,o,a,u=t.x-n.x,f=t.y-n.y,c=u*u+f*f;c?(i=n.r+e.r,i*=i,a=t.r+e.r,i>(a*=a)?(r=(c+a-i)/(2*c),o=Math.sqrt(Math.max(0,a/c-r*r)),e.x=t.x-r*u-o*f,e.y=t.y-r*f+o*u):(r=(c+i-a)/(2*c),o=Math.sqrt(Math.max(0,i/c-r*r)),e.x=n.x+r*u-o*f,e.y=n.y+r*f+o*u)):(e.x=n.x+e.r,e.y=n.y)}function Ml(t,n){var e=t.r+n.r-1e-6,r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function Al(t){var n=t._,e=t.next._,r=n.r+e.r,i=(n.x*e.r+e.x*n.r)/r,o=(n.y*e.r+e.y*n.r)/r;return i*i+o*o}function Tl(t){this._=t,this.next=null,this.previous=null}function Nl(t){if(!(i=t.length))return 0;var n,e,r,i,o,a,u,f,c,s,l;if((n=t[0]).x=0,n.y=0,!(i>1))return n.r;if(e=t[1],n.x=-e.r,e.x=n.r,e.y=0,!(i>2))return n.r+e.r;wl(e,n,r=t[2]),n=new Tl(n),e=new Tl(e),r=new Tl(r),n.next=r.previous=e,e.next=n.previous=r,r.next=e.previous=n;t:for(u=3;u<i;++u){wl(n._,e._,r=t[u]),r=new Tl(r),f=e.next,c=n.previous,s=e._.r,l=n._.r;do if(s<=l){if(Ml(f._,r._)){e=f,n.next=e,e.previous=n,--u;continue t}s+=f._.r,f=f.next}else{if(Ml(c._,r._)){(n=c).next=e,e.previous=n,--u;continue t}l+=c._.r,c=c.previous}while(f!==c.next);for(r.previous=n,r.next=e,n.next=e.previous=e=r,o=Al(n);(r=r.next)!==e;)(a=Al(r))<o&&(n=r,o=a);e=n.next}for(n=[e._],r=e;(r=r.next)!==e;)n.push(r._);for(r=pl(n),u=0;u<i;++u)(n=t[u]).x-=r.x,n.y-=r.y;return r.r}function Sl(t){if("function"!=typeof t)throw new Error;return t}function El(){return 0}function kl(t){return function(){return t}}function Cl(t){return Math.sqrt(t.value)}function Pl(t){return function(n){n.children||(n.r=Math.max(0,+t(n)||0))}}function zl(t,n){return function(e){if(r=e.children){var r,i,o,a=r.length,u=t(e)*n||0;if(u)for(i=0;i<a;++i)r[i].r+=u;if(o=Nl(r),u)for(i=0;i<a;++i)r[i].r-=u;e.r=o+u}}}function Rl(t){return function(n){var e=n.parent;n.r*=t,e&&(n.x=e.x+t*n.x,n.y=e.y+t*n.y)}}function Ll(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function Dl(t,n,e,r,i){for(var o,a=t.children,u=-1,f=a.length,c=t.value&&(r-n)/t.value;++u<f;)(o=a[u]).y0=e,o.y1=i,o.x0=n,o.x1=n+=o.value*c}function Yl(t){return t.id}function Bl(t){return t.parentId}function Fl(t,n){return t.parent===n.parent?1:2}function Il(t){var n=t.children;return n?n[0]:t.t}function Hl(t){var n=t.children;return n?n[n.length-1]:t.t}function jl(t,n,e){var r=e/(n.i-t.i);n.c-=r,n.s+=e,t.c+=r,n.z+=e,n.m+=e}function Xl(t,n,e){return t.a.parent===n.parent?t.a:e}function Gl(t,n){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}function Vl(t,n,e,r,i){for(var o,a=t.children,u=-1,f=a.length,c=t.value&&(i-e)/t.value;++u<f;)(o=a[u]).x0=n,o.x1=r,o.y0=e,o.y1=e+=o.value*c}function Wl(t,n,e,r,i,o){for(var a,u,f,c,s,l,h,d,p,v,g,y=[],_=n.children,b=0,m=0,x=_.length,w=n.value;b<x;){f=i-e,c=o-r;do s=_[m++].value;while(!s&&m<x);for(l=h=s,g=s*s*(v=Math.max(c/f,f/c)/(w*t)),p=Math.max(h/g,g/l);m<x;++m){if(s+=u=_[m].value,u<l&&(l=u),u>h&&(h=u),g=s*s*v,(d=Math.max(h/g,g/l))>p){s-=u;break}p=d}y.push(a={value:s,dice:f<c,children:_.slice(b,m)}),a.dice?Dl(a,e,r,i,w?r+=c*s/w:o):Vl(a,e,r,w?e+=f*s/w:i,o),w-=s,b=m}return y}function Jl(t,n){return t[0]-n[0]||t[1]-n[1]}function Kl(t){for(var n,e,r,i=t.length,o=[0,1],a=2,u=2;u<i;++u){for(;a>1&&(n=t[o[a-2]],e=t[o[a-1]],r=t[u],(e[0]-n[0])*(r[1]-n[1])-(e[1]-n[1])*(r[0]-n[0])<=0);)--a;o[a++]=u}return o.slice(0,a)}function th(){return Math.random()}function lh(t){function i(i){var o=i+"",a=n.get(o);if(!a){if(r!==sh)return r;n.set(o,a=e.push(i))}return t[(a-1)%t.length]}var n=Ki(),e=[],r=sh;return t=null==t?[]:ch.call(t),i.domain=function(t){if(!arguments.length)return e.slice();e=[],n=Ki();for(var r,o,a=-1,u=t.length;++a<u;)n.has(o=(r=t[a])+"")||n.set(o,e.push(r));return i},i.range=function(n){return arguments.length?(t=ch.call(n),i):t.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return lh().domain(e).range(t).unknown(r)},i}function hh(){function s(){var e=r().length,s=o[1]<o[0],l=o[s-0],h=o[1-s];t=(h-l)/Math.max(1,e-u+2*f),a&&(t=Math.floor(t)),l+=(h-l-t*(e-u))*c,n=t*(1-u),a&&(l=Math.round(l),n=Math.round(n));var d=g(e).map(function(n){return l+t*n});return i(s?d.reverse():d)}var t,n,e=lh().unknown(void 0),r=e.domain,i=e.range,o=[0,1],a=!1,u=0,f=0,c=.5;return delete e.unknown,e.domain=function(t){return arguments.length?(r(t),s()):r()},e.range=function(t){return arguments.length?(o=[+t[0],+t[1]],s()):o.slice()},e.rangeRound=function(t){return o=[+t[0],+t[1]],a=!0,s()},e.bandwidth=function(){return n},e.step=function(){return t},e.round=function(t){return arguments.length?(a=!!t,s()):a},e.padding=function(t){return arguments.length?(u=f=Math.max(0,Math.min(1,t)),s()):u},e.paddingInner=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),s()):u},e.paddingOuter=function(t){return arguments.length?(f=Math.max(0,Math.min(1,t)),s()):f},e.align=function(t){return arguments.length?(c=Math.max(0,Math.min(1,t)),s()):c},e.copy=function(){return hh().domain(r()).range(o).round(a).paddingInner(u).paddingOuter(f).align(c)},s()}function dh(t){return function(){return t}}function ph(t){return+t}function gh(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:dh(n)}function yh(t,n,e,r){var i=t[0],o=t[1],a=n[0],u=n[1];return o<i?(i=e(o,i),a=r(u,a)):(i=e(i,o),a=r(a,u)),function(t){return a(i(t))}}function _h(t,n,e,r){var o=Math.min(t.length,n.length)-1,a=new Array(o),u=new Array(o),f=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++f<o;)a[f]=e(t[f],t[f+1]),u[f]=r(n[f],n[f+1]);return function(n){var e=i(t,n,1,o)-1;return u[e](a[e](n))}}function bh(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function mh(t,n){function c(){return e=Math.min(o.length,a.length)>2?_h:yh,r=i=null,s}function s(n){return(r||(r=e(o,a,f?function(t){return function(n,e){var r=t(n=+n,e=+e);return function(t){return t<=n?0:t>=e?1:r(t)}}}(t):t,u)))(+n)}var e,r,i,o=vh,a=vh,u=me,f=!1;return s.invert=function(t){return(i||(i=e(a,o,gh,f?function(t){return function(n,e){var r=t(n=+n,e=+e);return function(t){return t<=0?n:t>=1?e:r(t)}}}(n):n)))(+t)},s.domain=function(t){return arguments.length?(o=fh.call(t,ph),c()):o.slice()},s.range=function(t){return arguments.length?(a=ch.call(t),c()):a.slice()},s.rangeRound=function(t){return a=ch.call(t),u=xe,c()},s.clamp=function(t){return arguments.length?(f=!!t,c()):f},s.interpolate=function(t){return arguments.length?(u=t,c()):u},c()}function xh(n){var e=n.domain;return n.ticks=function(t){var n=e();return m(n[0],n[n.length-1],null==t?10:t)},n.tickFormat=function(n,r){return function(n,e,r){var i,o=n[0],a=n[n.length-1],u=w(o,a,null==e?10:e);switch((r=ba(null==r?",f":r)).type){case"s":var f=Math.max(Math.abs(o),Math.abs(a));return null!=r.precision||isNaN(i=ka(u,f))||(r.precision=i),t.formatPrefix(r,f);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=Ca(u,Math.max(Math.abs(o),Math.abs(a))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=Ea(u))||(r.precision=i-2*("%"===r.type))}return t.format(r)}(e(),n,r)},n.nice=function(t){null==t&&(t=10);var r,i=e(),o=0,a=i.length-1,u=i[o],f=i[a];return f<u&&(r=u,u=f,f=r,r=o,o=a,a=r),(r=x(u,f,t))>0?r=x(u=Math.floor(u/r)*r,f=Math.ceil(f/r)*r,t):r<0&&(r=x(u=Math.ceil(u*r)/r,f=Math.floor(f*r)/r,t)),r>0?(i[o]=Math.floor(u/r)*r,i[a]=Math.ceil(f/r)*r,e(i)):r<0&&(i[o]=Math.ceil(u*r)/r,i[a]=Math.floor(f*r)/r,e(i)),n},n}function wh(t,n){var e,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(e=r,r=i,i=e,e=o,o=a,a=e),t[r]=n.floor(o),t[i]=n.ceil(a),t}function Mh(t,n){return(n=Math.log(n/t))?function(e){return Math.log(e/t)/n}:dh(n)}function Ah(t,n){return t<0?function(e){return-Math.pow(-n,e)*Math.pow(-t,1-e)}:function(e){return Math.pow(n,e)*Math.pow(t,1-e)}}function Th(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Nh(t){return 10===t?Th:t===Math.E?Math.exp:function(n){return Math.pow(t,n)}}function Sh(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(n){return Math.log(n)/t})}function Eh(t){return function(n){return-t(-n)}}function kh(t,n){return t<0?-Math.pow(-t,n):Math.pow(t,n)}function Ch(){var t=1,n=mh(function(n,e){return(e=kh(e,t)-(n=kh(n,t)))?function(r){return(kh(r,t)-n)/e}:dh(e)},function(n,e){return e=kh(e,t)-(n=kh(n,t)),function(r){return kh(n+e*r,1/t)}}),e=n.domain;return n.exponent=function(n){return arguments.length?(t=+n,e(e())):t},n.copy=function(){return bh(n,Ch().exponent(t))},xh(n)}function Rh(t,n,e,r){function i(n){return t(n=new Date((+n))),n}return i.floor=i,i.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},i.round=function(t){var n=i(t),e=i.ceil(t);return t-n<e-t?n:e},i.offset=function(t,e){return n(t=new Date((+t)),null==e?1:Math.floor(e)),t},i.range=function(e,r,o){var a,u=[];if(e=i.ceil(e),o=null==o?1:Math.floor(o),!(e<r&&o>0))return u;do u.push(a=new Date((+e))),n(e,o),t(e);while(a<e&&e<r);return u},i.filter=function(e){return Rh(function(n){if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)},function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;n(t,-1),!e(t););else for(;--r>=0;)for(;n(t,1),!e(t););})},e&&(i.count=function(n,r){return Ph.setTime(+n),zh.setTime(+r),t(Ph),t(zh),Math.floor(e(Ph,zh))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(n){return r(n)%t==0}:function(n){return i.count(0,n)%t==0}):i:null}),i}function Gh(t){return Rh(function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+7*n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Uh)/qh})}function yd(t){return Rh(function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+7*n)},function(t,n){return(n-t)/qh})}function Ud(t){if(0<=t.y&&t.y<100){var n=new Date((-1),t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function qd(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Od(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function Yd(t){function w(t,n){return function(e){var r,i,o,a=[],u=-1,f=0,c=t.length;for(e instanceof Date||(e=new Date((+e)));++u<c;)37===t.charCodeAt(u)&&(a.push(t.slice(f,u)),null!=(i=Fd[r=t.charAt(++u)])?r=t.charAt(++u):i="e"===r?" ":"0",(o=n[r])&&(r=o(e,i)),a.push(r),f=u+1);return a.push(t.slice(f,u)),a.join("")}}function M(t,n){return function(e){var r,i,o=Od(1900);if(A(o,t,e+="",0)!=e.length)return null;if("Q"in o)return new Date(o.Q);if("p"in o&&(o.H=o.H%12+12*o.p),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=qd(Od(o.y))).getUTCDay(),r=i>4||0===i?bd.ceil(r):bd(r),r=vd.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=n(Od(o.y))).getDay(),r=i>4||0===i?$h.ceil(r):$h(r),r=jh.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?qd(Od(o.y)).getUTCDay():n(Od(o.y)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,qd(o)):n(o)}}function A(t,n,e,r){for(var i,o,a=0,u=n.length,f=e.length;a<u;){if(r>=f)return-1;if(37===(i=n.charCodeAt(a++))){if(i=n.charAt(a++),!(o=x[i in Fd?n.charAt(a++):i])||(r=o(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}var n=t.dateTime,e=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,u=t.months,f=t.shortMonths,c=Vd(i),s=$d(i),l=Vd(o),h=$d(o),d=Vd(a),p=$d(a),v=Vd(u),g=$d(u),y=Vd(f),_=$d(f),b={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return f[t.getMonth()]},B:function(t){return u[t.getMonth()]},c:null,d:pp,e:pp,f:bp,H:vp,I:gp,j:yp,L:_p,m:mp,M:xp,p:function(t){return i[+(t.getHours()>=12)]},Q:Wp,s:Zp,S:wp,u:Mp,U:Ap,V:Tp,w:Np,W:Sp,x:null,X:null,y:Ep,Y:kp,Z:Cp,"%":$p},m={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return f[t.getUTCMonth()]},B:function(t){return u[t.getUTCMonth()]},c:null,d:Pp,e:Pp,f:Up,H:zp,I:Rp,j:Lp,L:Dp,m:qp,M:Op,p:function(t){return i[+(t.getUTCHours()>=12)]},Q:Wp,s:Zp,S:Yp,u:Bp,U:Fp,V:Ip,w:Hp,W:jp,x:null,X:null,y:Xp,Y:Gp,Z:Vp,"%":$p},x={a:function(t,n,e){var r=d.exec(n.slice(e));return r?(t.w=p[r[0].toLowerCase()],e+r[0].length):-1},A:function(t,n,e){var r=l.exec(n.slice(e));return r?(t.w=h[r[0].toLowerCase()],e+r[0].length):-1},b:function(t,n,e){var r=y.exec(n.slice(e));return r?(t.m=_[r[0].toLowerCase()],e+r[0].length):-1},B:function(t,n,e){var r=v.exec(n.slice(e));return r?(t.m=g[r[0].toLowerCase()],e+r[0].length):-1},c:function(t,e,r){return A(t,n,e,r)},d:ip,e:ip,f:sp,H:ap,I:ap,j:op,L:cp,m:rp,M:up,p:function(t,n,e){var r=c.exec(n.slice(e));return r?(t.p=s[r[0].toLowerCase()],e+r[0].length):-1},Q:hp,s:dp,S:fp,u:Zd,U:Qd,V:Jd,w:Wd,W:Kd,x:function(t,n,r){return A(t,e,n,r)},X:function(t,n,e){return A(t,r,n,e)},y:np,Y:tp,Z:ep,"%":lp};return b.x=w(e,b),b.X=w(r,b),b.c=w(n,b),m.x=w(e,m),m.X=w(r,m),m.c=w(n,m),{format:function(t){var n=w(t+="",b);return n.toString=function(){return t},n},parse:function(t){var n=M(t+="",Ud);return n.toString=function(){return t},n},utcFormat:function(t){var n=w(t+="",m);return n.toString=function(){return t},n},utcParse:function(t){var n=M(t,qd);return n.toString=function(){return t},n}}}function Xd(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function Gd(t){return t.replace(jd,"\\$&")}function Vd(t){return new RegExp("^(?:"+t.map(Gd).join("|")+")","i")}function $d(t){for(var n={},e=-1,r=t.length;++e<r;)n[t[e].toLowerCase()]=e;return n}function Wd(t,n,e){var r=Id.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function Zd(t,n,e){var r=Id.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function Qd(t,n,e){var r=Id.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function Jd(t,n,e){var r=Id.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function Kd(t,n,e){var r=Id.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function tp(t,n,e){var r=Id.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function np(t,n,e){var r=Id.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function ep(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function rp(t,n,e){var r=Id.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function ip(t,n,e){var r=Id.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function op(t,n,e){var r=Id.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function ap(t,n,e){var r=Id.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function up(t,n,e){var r=Id.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function fp(t,n,e){var r=Id.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function cp(t,n,e){var r=Id.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function sp(t,n,e){var r=Id.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function lp(t,n,e){var r=Hd.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function hp(t,n,e){var r=Id.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function dp(t,n,e){var r=Id.exec(n.slice(e));return r?(t.Q=1e3*+r[0],e+r[0].length):-1}function pp(t,n){return Xd(t.getDate(),n,2)}function vp(t,n){return Xd(t.getHours(),n,2)}function gp(t,n){return Xd(t.getHours()%12||12,n,2)}function yp(t,n){return Xd(1+jh.count(cd(t),t),n,3)}function _p(t,n){return Xd(t.getMilliseconds(),n,3)}function bp(t,n){return _p(t,n)+"000"}function mp(t,n){return Xd(t.getMonth()+1,n,2)}function xp(t,n){return Xd(t.getMinutes(),n,2)}function wp(t,n){return Xd(t.getSeconds(),n,2)}function Mp(t){var n=t.getDay();return 0===n?7:n}function Ap(t,n){return Xd(Vh.count(cd(t),t),n,2)}function Tp(t,n){var e=t.getDay();return t=e>=4||0===e?Qh(t):Qh.ceil(t),Xd(Qh.count(cd(t),t)+(4===cd(t).getDay()),n,2)}function Np(t){return t.getDay()}function Sp(t,n){return Xd($h.count(cd(t),t),n,2)}function Ep(t,n){return Xd(t.getFullYear()%100,n,2)}function kp(t,n){return Xd(t.getFullYear()%1e4,n,4)}function Cp(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+Xd(n/60|0,"0",2)+Xd(n%60,"0",2)}function Pp(t,n){return Xd(t.getUTCDate(),n,2)}function zp(t,n){return Xd(t.getUTCHours(),n,2)}function Rp(t,n){return Xd(t.getUTCHours()%12||12,n,2)}function Lp(t,n){return Xd(1+vd.count(Ld(t),t),n,3)}function Dp(t,n){return Xd(t.getUTCMilliseconds(),n,3)}function Up(t,n){return Dp(t,n)+"000"}function qp(t,n){return Xd(t.getUTCMonth()+1,n,2)}function Op(t,n){return Xd(t.getUTCMinutes(),n,2)}function Yp(t,n){return Xd(t.getUTCSeconds(),n,2)}function Bp(t){var n=t.getUTCDay();return 0===n?7:n}function Fp(t,n){return Xd(_d.count(Ld(t),t),n,2)}function Ip(t,n){var e=t.getUTCDay();return t=e>=4||0===e?wd(t):wd.ceil(t),Xd(wd.count(Ld(t),t)+(4===Ld(t).getUTCDay()),n,2)}function Hp(t){return t.getUTCDay()}function jp(t,n){return Xd(bd.count(Ld(t),t),n,2)}function Xp(t,n){return Xd(t.getUTCFullYear()%100,n,2)}function Gp(t,n){return Xd(t.getUTCFullYear()%1e4,n,4)}function Vp(){return"+0000"}function $p(){return"%"}function Wp(t){return+t}function Zp(t){return Math.floor(+t/1e3)}function Qp(n){return Bd=Yd(n),t.timeFormat=Bd.format,t.timeParse=Bd.parse,t.utcFormat=Bd.utcFormat,t.utcParse=Bd.utcParse,Bd}function uv(t){return new Date(t)}function fv(t){return t instanceof Date?+t:+new Date((+t))}function cv(t,n,r,i,o,a,u,f,c){function M(e){return(u(e)<e?d:a(e)<e?p:o(e)<e?v:i(e)<e?g:n(e)<e?r(e)<e?y:_:t(e)<e?b:m)(e)}function A(n,r,i,o){if(null==n&&(n=10),"number"==typeof n){var a=Math.abs(i-r)/n,u=e(function(t){return t[2]}).right(x,a);u===x.length?(o=w(r/av,i/av,n),n=t):u?(o=(u=x[a/x[u-1][2]<x[u][2]/a?u-1:u])[1],n=u[0]):(o=Math.max(w(r,i,n),1),n=f)}return null==o?n:n.every(o)}var s=mh(gh,ve),l=s.invert,h=s.domain,d=c(".%L"),p=c(":%S"),v=c("%I:%M"),g=c("%I %p"),y=c("%a %d"),_=c("%b %d"),b=c("%B"),m=c("%Y"),x=[[u,1,tv],[u,5,5*tv],[u,15,15*tv],[u,30,30*tv],[a,1,nv],[a,5,5*nv],[a,15,15*nv],[a,30,30*nv],[o,1,ev],[o,3,3*ev],[o,6,6*ev],[o,12,12*ev],[i,1,rv],[i,2,2*rv],[r,1,iv],[n,1,ov],[n,3,3*ov],[t,1,av]];return s.invert=function(t){return new Date(l(t))},s.domain=function(t){return arguments.length?h(fh.call(t,fv)):h().map(uv)},s.ticks=function(t,n){var e,r=h(),i=r[0],o=r[r.length-1],a=o<i;return a&&(e=i,i=o,o=e),e=(e=A(t,i,o,n))?e.range(i,o+1):[],a?e.reverse():e},s.tickFormat=function(t,n){return null==n?M:c(n)},s.nice=function(t,n){var e=h();return(t=A(t,e[0],e[e.length-1],n))?h(wh(e,t)):s},s.copy=function(){return bh(s,cv(t,n,r,i,o,a,u,f,c))},s}function sv(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(6*r,6*++r);return e}function mv(t){return le(t[t.length-1])}function Eg(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}function Rg(t){return function(){return t}}function Xg(t){return t>=1?Hg:t<=-1?-Hg:Math.asin(t)}function Gg(t){return t.innerRadius}function Vg(t){return t.outerRadius}function $g(t){return t.startAngle}function Wg(t){return t.endAngle}function Zg(t){return t&&t.padAngle}function Qg(t,n,e,r,i,o,a){var u=t-e,f=n-r,c=(a?o:-o)/Bg(u*u+f*f),s=c*f,l=-c*u,h=t+s,d=n+l,p=e+s,v=r+l,g=(h+p)/2,y=(d+v)/2,_=p-h,b=v-d,m=_*_+b*b,x=i-o,w=h*v-p*d,M=(b<0?-1:1)*Bg(qg(0,x*x*m-w*w)),A=(w*b-_*M)/m,T=(-w*_-b*M)/m,N=(w*b+_*M)/m,S=(-w*_+b*M)/m,E=A-g,k=T-y,C=N-g,P=S-y;return E*E+k*k>C*C+P*P&&(A=N,T=S),{cx:A,cy:T,x01:-s,y01:-l,x11:A*(i/x-1),y11:T*(i/x-1)}}function Jg(t){this._context=t}function Kg(t){return new Jg(t)}function ty(t){return t[0]}function ny(t){return t[1]}function ey(){function a(a){var u,f,c,s=a.length,l=!1;for(null==r&&(o=i(c=Gi())),u=0;u<=s;++u)!(u<s&&e(f=a[u],u,a))===l&&((l=!l)?o.lineStart():o.lineEnd()),l&&o.point(+t(f,u,a),+n(f,u,a));if(c)return o=null,c+""||null}var t=ty,n=ny,e=Rg(!0),r=null,i=Kg,o=null;return a.x=function(n){return arguments.length?(t="function"==typeof n?n:Rg(+n),a):t},a.y=function(t){return arguments.length?(n="function"==typeof t?t:Rg(+t),a):n},a.defined=function(t){return arguments.length?(e="function"==typeof t?t:Rg(!!t),a):e},a.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),a):i},a.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),a):r},a}function ry(){function f(f){var c,s,l,h,d,p=f.length,v=!1,g=new Array(p),y=new Array(p);for(null==o&&(u=a(d=Gi())),c=0;c<=p;++c){if(!(c<p&&i(h=f[c],c,f))===v)if(v=!v)s=c,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),l=c-1;l>=s;--l)u.point(g[l],y[l]);u.lineEnd(),u.areaEnd()}v&&(g[c]=+t(h,c,f),y[c]=+e(h,c,f),u.point(n?+n(h,c,f):g[c],r?+r(h,c,f):y[c]))}if(d)return u=null,d+""||null}function c(){return ey().defined(i).curve(a).context(o)}var t=ty,n=null,e=Rg(0),r=ny,i=Rg(!0),o=null,a=Kg,u=null;return f.x=function(e){return arguments.length?(t="function"==typeof e?e:Rg(+e),n=null,f):t},f.x0=function(n){return arguments.length?(t="function"==typeof n?n:Rg(+n),f):t},f.x1=function(t){return arguments.length?(n=null==t?null:"function"==typeof t?t:Rg(+t),f):n},f.y=function(t){return arguments.length?(e="function"==typeof t?t:Rg(+t),r=null,f):e},f.y0=function(t){return arguments.length?(e="function"==typeof t?t:Rg(+t),f):e},f.y1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:Rg(+t),f):r},f.lineX0=f.lineY0=function(){return c().x(t).y(e)},f.lineY1=function(){return c().x(t).y(r)},f.lineX1=function(){return c().x(n).y(e)},f.defined=function(t){return arguments.length?(i="function"==typeof t?t:Rg(!!t),f):i},f.curve=function(t){return arguments.length?(a=t,null!=o&&(u=a(o)),f):a},f.context=function(t){return arguments.length?(null==t?o=u=null:u=a(o=t),f):o},f}function iy(t,n){return n<t?-1:n>t?1:n>=t?0:NaN}function oy(t){return t}function uy(t){this._curve=t}function fy(t){function n(n){return new uy(t(n))}return n._curve=t,n}function cy(t){var n=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?n(fy(t)):n()._curve},t}function sy(){return cy(ey().curve(ay))}function ly(){var t=ry().curve(ay),n=t.curve,e=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return cy(e())},delete t.lineX0,t.lineEndAngle=function(){return cy(r())},delete t.lineX1,t.lineInnerRadius=function(){return cy(i())},delete t.lineY0,t.lineOuterRadius=function(){return cy(o())},delete t.lineY1,t.curve=function(t){return arguments.length?n(fy(t)):n()._curve},t}function hy(t,n){return[(n=+n)*Math.cos(t-=Math.PI/2),n*Math.sin(t)]}function py(t){return t.source}function vy(t){return t.target}function gy(t){function a(){var a,u=dy.call(arguments),f=n.apply(this,u),c=e.apply(this,u);if(o||(o=a=Gi()),t(o,+r.apply(this,(u[0]=f,u)),+i.apply(this,u),+r.apply(this,(u[0]=c,u)),+i.apply(this,u)),a)return o=null,a+""||null}var n=py,e=vy,r=ty,i=ny,o=null;return a.source=function(t){return arguments.length?(n=t,a):n},a.target=function(t){return arguments.length?(e=t,a):e},a.x=function(t){return arguments.length?(r="function"==typeof t?t:Rg(+t),a):r},a.y=function(t){return arguments.length?(i="function"==typeof t?t:Rg(+t),a):i},a.context=function(t){
return arguments.length?(o=null==t?null:t,a):o},a}function yy(t,n,e,r,i){t.moveTo(n,e),t.bezierCurveTo(n=(n+r)/2,e,n,i,r,i)}function _y(t,n,e,r,i){t.moveTo(n,e),t.bezierCurveTo(n,e=(e+i)/2,r,e,r,i)}function by(t,n,e,r,i){var o=hy(n,e),a=hy(n,e=(e+i)/2),u=hy(r,e),f=hy(r,i);t.moveTo(o[0],o[1]),t.bezierCurveTo(a[0],a[1],u[0],u[1],f[0],f[1])}function qy(){}function Oy(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function Yy(t){this._context=t}function By(t){this._context=t}function Fy(t){this._context=t}function Iy(t,n){this._basis=new Yy(t),this._beta=n}function jy(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function Xy(t,n){this._context=t,this._k=(1-n)/6}function Vy(t,n){this._context=t,this._k=(1-n)/6}function Wy(t,n){this._context=t,this._k=(1-n)/6}function Qy(t,n,e){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>Fg){var u=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,f=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*u-t._x0*t._l12_2a+t._x2*t._l01_2a)/f,i=(i*u-t._y0*t._l12_2a+t._y2*t._l01_2a)/f}if(t._l23_a>Fg){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,s=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-n*t._l12_2a)/s,a=(a*c+t._y1*t._l23_2a-e*t._l12_2a)/s}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function Jy(t,n){this._context=t,this._alpha=n}function t_(t,n){this._context=t,this._alpha=n}function e_(t,n){this._context=t,this._alpha=n}function i_(t){this._context=t}function o_(t){return t<0?-1:1}function a_(t,n,e){var r=t._x1-t._x0,i=n-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(e-t._y1)/(i||r<0&&-0),u=(o*i+a*r)/(r+i);return(o_(o)+o_(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(u))||0}function u_(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function f_(t,n,e){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,u=(o-r)/3;t._context.bezierCurveTo(r+u,i+u*n,o-u,a-u*e,o,a)}function c_(t){this._context=t}function s_(t){this._context=new l_(t)}function l_(t){this._context=t}function h_(t){this._context=t}function d_(t){var n,e,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],n=1;n<r-1;++n)i[n]=1,o[n]=4,a[n]=4*t[n]+2*t[n+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],n=1;n<r;++n)e=i[n]/o[n-1],o[n]-=e,a[n]-=e*a[n-1];for(i[r-1]=a[r-1]/o[r-1],n=r-2;n>=0;--n)i[n]=(a[n]-i[n+1])/o[n];for(o[r-1]=(t[r]+i[r-1])/2,n=0;n<r-1;++n)o[n]=2*t[n+1]-i[n+1];return[i,o]}function p_(t,n){this._context=t,this._t=n}function v_(t,n){if((i=t.length)>1)for(var e,r,i,o=1,a=t[n[0]],u=a.length;o<i;++o)for(r=a,a=t[n[o]],e=0;e<u;++e)a[e][1]+=a[e][0]=isNaN(r[e][1])?r[e][0]:r[e][1]}function g_(t){for(var n=t.length,e=new Array(n);--n>=0;)e[n]=n;return e}function y_(t,n){return t[n]}function __(t){var n=t.map(b_);return g_(t).sort(function(t,e){return n[t]-n[e]})}function b_(t){for(var n,e=0,r=-1,i=t.length;++r<i;)(n=+t[r][1])&&(e+=n);return e}function m_(t){return function(){return t}}function x_(t){return t[0]}function w_(t){return t[1]}function M_(){this._=null}function A_(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function T_(t,n){var e=n,r=n.R,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function N_(t,n){var e=n,r=n.L,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function S_(t){for(;t.L;)t=t.L;return t}function E_(t,n,e,r){var i=[null,null],o=J_.push(i)-1;return i.left=t,i.right=n,e&&C_(i,t,n,e),r&&C_(i,n,t,r),Z_[t.index].halfedges.push(o),Z_[n.index].halfedges.push(o),i}function k_(t,n,e){var r=[n,e];return r.left=t,r}function C_(t,n,e,r){t[0]||t[1]?t.left===e?t[1]=r:t[0]=r:(t[0]=r,t.left=n,t.right=e)}function P_(t,n,e,r,i){var o,a=t[0],u=t[1],f=a[0],c=a[1],s=0,l=1,h=u[0]-f,d=u[1]-c;if(o=n-f,h||!(o>0)){if(o/=h,h<0){if(o<s)return;o<l&&(l=o)}else if(h>0){if(o>l)return;o>s&&(s=o)}if(o=r-f,h||!(o<0)){if(o/=h,h<0){if(o>l)return;o>s&&(s=o)}else if(h>0){if(o<s)return;o<l&&(l=o)}if(o=e-c,d||!(o>0)){if(o/=d,d<0){if(o<s)return;o<l&&(l=o)}else if(d>0){if(o>l)return;o>s&&(s=o)}if(o=i-c,d||!(o<0)){if(o/=d,d<0){if(o>l)return;o>s&&(s=o)}else if(d>0){if(o<s)return;o<l&&(l=o)}return!(s>0||l<1)||(s>0&&(t[0]=[f+s*h,c+s*d]),l<1&&(t[1]=[f+l*h,c+l*d]),!0)}}}}}function z_(t,n,e,r,i){var o=t[1];if(o)return!0;var a,u,f=t[0],c=t.left,s=t.right,l=c[0],h=c[1],d=s[0],p=s[1],v=(l+d)/2,g=(h+p)/2;if(p===h){if(v<n||v>=r)return;if(l>d){if(f){if(f[1]>=i)return}else f=[v,e];o=[v,i]}else{if(f){if(f[1]<e)return}else f=[v,i];o=[v,e]}}else if(u=g-(a=(l-d)/(p-h))*v,a<-1||a>1)if(l>d){if(f){if(f[1]>=i)return}else f=[(e-u)/a,e];o=[(i-u)/a,i]}else{if(f){if(f[1]<e)return}else f=[(i-u)/a,i];o=[(e-u)/a,e]}else if(h<p){if(f){if(f[0]>=r)return}else f=[n,a*n+u];o=[r,a*r+u]}else{if(f){if(f[0]<n)return}else f=[r,a*r+u];o=[n,a*n+u]}return t[0]=f,t[1]=o,!0}function R_(t,n){var e=t.site,r=n.left,i=n.right;return e===i&&(i=r,r=e),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(e===r?(r=n[1],i=n[0]):(r=n[0],i=n[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function L_(t,n){return n[+(n.left!==t.site)]}function D_(t,n){return n[+(n.left===t.site)]}function O_(){A_(this),this.x=this.y=this.arc=this.site=this.cy=null}function Y_(t){var n=t.P,e=t.N;if(n&&e){var r=n.site,i=t.site,o=e.site;if(r!==o){var a=i[0],u=i[1],f=r[0]-a,c=r[1]-u,s=o[0]-a,l=o[1]-u,h=2*(f*l-c*s);if(!(h>=-tb)){var d=f*f+c*c,p=s*s+l*l,v=(l*d-c*p)/h,g=(f*p-s*d)/h,y=q_.pop()||new O_;y.arc=t,y.site=i,y.x=v+a,y.y=(y.cy=g+u)+Math.sqrt(v*v+g*g),t.circle=y;for(var _=null,b=Q_._;b;)if(y.y<b.y||y.y===b.y&&y.x<=b.x){if(!b.L){_=b.P;break}b=b.L}else{if(!b.R){_=b;break}b=b.R}Q_.insert(_,y),_||(U_=y)}}}}function B_(t){var n=t.circle;n&&(n.P||(U_=n.N),Q_.remove(n),q_.push(n),A_(n),t.circle=null)}function I_(){A_(this),this.edge=this.site=this.circle=null}function H_(t){var n=F_.pop()||new I_;return n.site=t,n}function j_(t){B_(t),W_.remove(t),F_.push(t),A_(t)}function X_(t){var n=t.circle,e=n.x,r=n.cy,i=[e,r],o=t.P,a=t.N,u=[t];j_(t);for(var f=o;f.circle&&Math.abs(e-f.circle.x)<K_&&Math.abs(r-f.circle.cy)<K_;)o=f.P,u.unshift(f),j_(f),f=o;u.unshift(f),B_(f);for(var c=a;c.circle&&Math.abs(e-c.circle.x)<K_&&Math.abs(r-c.circle.cy)<K_;)a=c.N,u.push(c),j_(c),c=a;u.push(c),B_(c);var s,l=u.length;for(s=1;s<l;++s)c=u[s],f=u[s-1],C_(c.edge,f.site,c.site,i);f=u[0],(c=u[l-1]).edge=E_(f.site,c.site,null,i),Y_(f),Y_(c)}function G_(t){for(var n,e,r,i,o=t[0],a=t[1],u=W_._;u;)if((r=V_(u,a)-o)>K_)u=u.L;else{if(!((i=o-$_(u,a))>K_)){r>-K_?(n=u.P,e=u):i>-K_?(n=u,e=u.N):n=e=u;break}if(!u.R){n=u;break}u=u.R}!function(t){Z_[t.index]={site:t,halfedges:[]}}(t);var f=H_(t);if(W_.insert(n,f),n||e){if(n===e)return B_(n),e=H_(n.site),W_.insert(f,e),f.edge=e.edge=E_(n.site,f.site),Y_(n),void Y_(e);if(e){B_(n),B_(e);var c=n.site,s=c[0],l=c[1],h=t[0]-s,d=t[1]-l,p=e.site,v=p[0]-s,g=p[1]-l,y=2*(h*g-d*v),_=h*h+d*d,b=v*v+g*g,m=[(g*_-d*b)/y+s,(h*b-v*_)/y+l];C_(e.edge,c,p,m),f.edge=E_(c,t,null,m),e.edge=E_(t,p,null,m),Y_(n),Y_(e)}else f.edge=E_(n.site,f.site)}}function V_(t,n){var e=t.site,r=e[0],i=e[1],o=i-n;if(!o)return r;var a=t.P;if(!a)return-1/0;var u=(e=a.site)[0],f=e[1],c=f-n;if(!c)return u;var s=u-r,l=1/o-1/c,h=s/c;return l?(-h+Math.sqrt(h*h-2*l*(s*s/(-2*c)-f+c/2+i-o/2)))/l+r:(r+u)/2}function $_(t,n){var e=t.N;if(e)return V_(e,n);var r=t.site;return r[1]===n?r[0]:1/0}function nb(t,n){return n[1]-t[1]||n[0]-t[0]}function eb(t,n){var e,r,i,o=t.sort(nb).pop();for(J_=[],Z_=new Array(t.length),W_=new M_,Q_=new M_;;)if(i=U_,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===e&&o[1]===r||(G_(o),e=o[0],r=o[1]),o=t.pop();else{if(!i)break;X_(i.arc)}if(function(){for(var t,n,e,r,i=0,o=Z_.length;i<o;++i)if((t=Z_[i])&&(r=(n=t.halfedges).length)){var a=new Array(r),u=new Array(r);for(e=0;e<r;++e)a[e]=e,u[e]=R_(t,J_[n[e]]);for(a.sort(function(t,n){return u[n]-u[t]}),e=0;e<r;++e)u[e]=n[a[e]];for(e=0;e<r;++e)n[e]=u[e]}}(),n){var a=+n[0][0],u=+n[0][1],f=+n[1][0],c=+n[1][1];!function(t,n,e,r){for(var i,o=J_.length;o--;)z_(i=J_[o],t,n,e,r)&&P_(i,t,n,e,r)&&(Math.abs(i[0][0]-i[1][0])>K_||Math.abs(i[0][1]-i[1][1])>K_)||delete J_[o]}(a,u,f,c),function(t,n,e,r){var i,o,a,u,f,c,s,l,h,d,p,v,g=Z_.length,y=!0;for(i=0;i<g;++i)if(o=Z_[i]){for(a=o.site,u=(f=o.halfedges).length;u--;)J_[f[u]]||f.splice(u,1);for(u=0,c=f.length;u<c;)p=(d=D_(o,J_[f[u]]))[0],v=d[1],l=(s=L_(o,J_[f[++u%c]]))[0],h=s[1],(Math.abs(p-l)>K_||Math.abs(v-h)>K_)&&(f.splice(u,0,J_.push(k_(a,d,Math.abs(p-t)<K_&&r-v>K_?[t,Math.abs(l-t)<K_?h:r]:Math.abs(v-r)<K_&&e-p>K_?[Math.abs(h-r)<K_?l:e,r]:Math.abs(p-e)<K_&&v-n>K_?[e,Math.abs(l-e)<K_?h:n]:Math.abs(v-n)<K_&&p-t>K_?[Math.abs(h-n)<K_?l:t,n]:null))-1),++c);c&&(y=!1)}if(y){var _,b,m,x=1/0;for(i=0,y=null;i<g;++i)(o=Z_[i])&&(m=(_=(a=o.site)[0]-t)*_+(b=a[1]-n)*b)<x&&(x=m,y=o);if(y){var w=[t,n],M=[t,r],A=[e,r],T=[e,n];y.halfedges.push(J_.push(k_(a=y.site,w,M))-1,J_.push(k_(a,M,A))-1,J_.push(k_(a,A,T))-1,J_.push(k_(a,T,w))-1)}}for(i=0;i<g;++i)(o=Z_[i])&&(o.halfedges.length||delete Z_[i])}(a,u,f,c)}this.edges=J_,this.cells=Z_,W_=Q_=J_=Z_=null}function rb(t){return function(){return t}}function ib(t,n,e){this.target=t,this.type=n,this.transform=e}function ob(t,n,e){this.k=t,this.x=n,this.y=e}function ub(t){return t.__zoom||ab}function fb(){t.event.stopImmediatePropagation()}function cb(){t.event.preventDefault(),t.event.stopImmediatePropagation()}function sb(){return!t.event.button}function lb(){var t,n,e=this;return e instanceof SVGElement?(t=(e=e.ownerSVGElement||e).width.baseVal.value,n=e.height.baseVal.value):(t=e.clientWidth,n=e.clientHeight),[[0,0],[t,n]]}function hb(){return this.__zoom||ab}function db(){return-t.event.deltaY*(t.event.deltaMode?120:1)/500}function pb(){return"ontouchstart"in this}function vb(t,n,e){var r=t.invertX(n[0][0])-e[0][0],i=t.invertX(n[1][0])-e[1][0],o=t.invertY(n[0][1])-e[0][1],a=t.invertY(n[1][1])-e[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}var r=e(n),i=r.right,o=r.left,l=Array.prototype,h=l.slice,d=l.map,y=Math.sqrt(50),_=Math.sqrt(10),b=Math.sqrt(2),C=Array.prototype.slice,z=1,R=2,L=3,D=4,U=1e-6,F={value:function(){}};H.prototype=I.prototype={constructor:H,on:function(t,n){var e,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");if(e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})),a=-1,u=o.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++a<u;)if(e=(t=o[a]).type)i[e]=X(i[e],t.name,n);else if(null==n)for(e in i)i[e]=X(i[e],t.name,null);return this}for(;++a<u;)if((e=(t=o[a]).type)&&(e=j(i[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new H(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var G="http://www.w3.org/1999/xhtml",V={svg:"http://www.w3.org/2000/svg",xhtml:G,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},tt=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var nt=document.documentElement;if(!nt.matches){var et=nt.webkitMatchesSelector||nt.msMatchesSelector||nt.mozMatchesSelector||nt.oMatchesSelector;tt=function(t){return function(){return et.call(this,t)}}}}var rt=tt;ot.prototype={constructor:ot,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var at="$";pt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Tt={};t.event=null,"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Tt={mouseenter:"mouseover",mouseleave:"mouseout"}));var zt=[null];Rt.prototype=Lt.prototype={constructor:Rt,select:function(t){"function"!=typeof t&&(t=Q(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a,u=n[i],f=u.length,c=r[i]=new Array(f),s=0;s<f;++s)(o=u[s])&&(a=t.call(o,o.__data__,s,u))&&("__data__"in o&&(a.__data__=o.__data__),c[s]=a);return new Rt(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=K(t));for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a,u=n[o],f=u.length,c=0;c<f;++c)(a=u[c])&&(r.push(t.call(a,a.__data__,c,u)),i.push(a));return new Rt(r,i)},filter:function(t){"function"!=typeof t&&(t=rt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,f=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&f.push(o);return new Rt(r,this._parents)},data:function(t,n){if(!t)return p=new Array(this.size()),s=-1,this.each(function(t){p[++s]=t}),p;var e,r=n?ft:ut,i=this._parents,o=this._groups;"function"!=typeof t&&(e=t,t=function(){return e});for(var a=o.length,u=new Array(a),f=new Array(a),c=new Array(a),s=0;s<a;++s){var l=i[s],h=o[s],d=h.length,p=t.call(l,l&&l.__data__,s,i),v=p.length,g=f[s]=new Array(v),y=u[s]=new Array(v);r(l,h,g,y,c[s]=new Array(d),p,n);for(var _,b,m=0,x=0;m<v;++m)if(_=g[m]){for(m>=x&&(x=m+1);!(b=y[x])&&++x<v;);_._next=b||null}}return(u=new Rt(u,i))._enter=f,u._exit=c,u},enter:function(){return new Rt(this._enter||this._groups.map(it),this._parents)},exit:function(){return new Rt(this._exit||this._groups.map(it),this._parents)},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var f,c=n[u],s=e[u],l=c.length,h=a[u]=new Array(l),d=0;d<l;++d)(f=c[d]||s[d])&&(h[d]=f);for(;u<r;++u)a[u]=n[u];return new Rt(a,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=ct);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,u=e[o],f=u.length,c=i[o]=new Array(f),s=0;s<f;++s)(a=u[s])&&(c[s]=a);c.sort(n)}return new Rt(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each(function(){t[++n]=this}),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,n){var e=$(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof n?e.local?function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}:function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}:e.local?function(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}:function(t,n){return function(){this.setAttribute(t,n)}})(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof n?function(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}:function(t,n,e){return function(){this.style.setProperty(t,n,e)}})(t,n,null==e?"":e)):lt(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?function(t){return function(){delete this[t]}}:"function"==typeof n?function(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}:function(t,n){return function(){this[t]=n}})(t,n)):this.node()[t]},classed:function(t,n){var e=ht(t+"");if(arguments.length<2){for(var r=dt(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?function(t,n){return function(){(n.apply(this,arguments)?vt:gt)(this,t)}}:n?function(t){return function(){vt(this,t)}}:function(t){return function(){gt(this,t)}})(e,n))},text:function(t){return arguments.length?this.each(null==t?yt:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?_t:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(bt)},lower:function(){return this.each(mt)},append:function(t){var n="function"==typeof t?t:W(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},insert:function(t,n){var e="function"==typeof t?t:W(t),r=null==n?xt:"function"==typeof n?n:Q(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(wt)},clone:function(t){return this.select(t?At:Mt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=function(t){return t.trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}})}(t+""),a=o.length;if(!(arguments.length<2)){for(u=n?kt:Et,null==e&&(e=!1),r=0;r<a;++r)this.each(u(o[r],n,e));return this}var u=this.node().__on;if(u)for(var f,c=0,s=u.length;c<s;++c)for(r=0,f=u[c];r<a;++r)if((i=o[r]).type===f.type&&i.name===f.name)return f.value},dispatch:function(t,n){return this.each(("function"==typeof n?function(t,n){return function(){return Pt(this,t,n.apply(this,arguments))}}:function(t,n){return function(){return Pt(this,t,n)}})(t,n))}};var Ut=0;Ot.prototype=qt.prototype={constructor:Ot,get:function(t){for(var n=this._;!(n in t);)if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}},$t.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var en="\\s*([+-]?\\d+)\\s*",rn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",on="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",an=/^#([0-9a-f]{3})$/,un=/^#([0-9a-f]{6})$/,fn=new RegExp("^rgb\\("+[en,en,en]+"\\)$"),cn=new RegExp("^rgb\\("+[on,on,on]+"\\)$"),sn=new RegExp("^rgba\\("+[en,en,en,rn]+"\\)$"),ln=new RegExp("^rgba\\("+[on,on,on,rn]+"\\)$"),hn=new RegExp("^hsl\\("+[rn,on,on]+"\\)$"),dn=new RegExp("^hsla\\("+[rn,on,on,rn]+"\\)$"),pn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Kt(nn,vn,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),Kt(mn,bn,tn(nn,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new mn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new mn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+xn(this.r)+xn(this.g)+xn(this.b)},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),Kt(An,Mn,tn(nn,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new An(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new An(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new mn(Tn(t>=240?t-240:t+120,i,r),Tn(t,i,r),Tn(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var Nn=Math.PI/180,Sn=180/Math.PI,En=.96422,kn=1,Cn=.82521,Pn=4/29,zn=6/29,Rn=3*zn*zn,Ln=zn*zn*zn;Kt(qn,Un,tn(nn,{brighter:function(t){return new qn(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new qn(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return new mn(Bn(3.1338561*(n=En*Yn(n))-1.6168667*(t=kn*Yn(t))-.4906146*(e=Cn*Yn(e))),Bn(-.9787684*n+1.9161415*t+.033454*e),Bn(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}})),Kt(jn,Hn,tn(nn,{brighter:function(t){return new jn(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new jn(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Dn(this).rgb()}}));var Xn=-.14861,Gn=1.78277,Vn=-.29227,$n=-.90649,Wn=1.97294,Zn=Wn*$n,Qn=Wn*Gn,Jn=Gn*Vn-$n*Xn;Kt(te,Kn,tn(nn,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new te(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new te(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Nn,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new mn(255*(n+e*(Xn*r+Gn*i)),255*(n+e*(Vn*r+$n*i)),255*(n+e*(Wn*r)),this.opacity)}}));var we,Me,Ae,Te,Ve,$e,ce=function t(n){function r(t,n){var r=e((t=bn(t)).r,(n=bn(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),a=fe(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=a(n),t+""}}var e=ue(n);return r.gamma=t,r}(1),le=se(ee),he=se(re),ye=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_e=new RegExp(ye.source,"g"),Ne=180/Math.PI,Se={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Ce=ke(function(t){return"none"===t?Se:(we||(we=document.createElement("DIV"),Me=document.documentElement,Ae=document.defaultView),we.style.transform=t,t=Ae.getComputedStyle(Me.appendChild(we),null).getPropertyValue("transform"),Me.removeChild(we),Ee(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),Pe=ke(function(t){return null==t?Se:(Te||(Te=document.createElementNS("http://www.w3.org/2000/svg","g")),Te.setAttribute("transform",t),(t=Te.transform.baseVal.consolidate())?Ee((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Se)},", ",")",")"),ze=Math.SQRT2,Re=2,Le=4,De=1e-12,Ye=Oe(ae),Be=Oe(fe),Ie=Fe(ae),He=Fe(fe),Xe=je(ae),Ge=je(fe),We=0,Ze=0,Qe=0,Je=1e3,Ke=0,tr=0,nr=0,er="object"==typeof performance&&performance.now?performance:Date,rr="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};ar.prototype=ur.prototype={constructor:ar,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?ir():+e)+(null==n?0:+n),this._next||$e===this||($e?$e._next=this:Ve=this,$e=this),this._call=t,this._time=e,lr()},stop:function(){this._call&&(this._call=null,this._time=1/0,lr())}};var dr=I("start","end","interrupt"),pr=[],vr=0,gr=1,yr=2,_r=3,br=4,mr=5,xr=6,kr=Lt.prototype.constructor,Cr=0,Lr=Lt.prototype;Pr.prototype=zr.prototype={constructor:Pr,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=Q(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var u,f,c=r[a],s=c.length,l=o[a]=new Array(s),h=0;h<s;++h)(u=c[h])&&(f=t.call(u,u.__data__,h,c))&&("__data__"in u&&(f.__data__=u.__data__),l[h]=f,wr(l[h],n,e,h,l,Tr(u,e)));return new Pr(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=K(t));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var f,c=r[u],s=c.length,l=0;l<s;++l)if(f=c[l]){for(var h,d=t.call(f,f.__data__,l,c),p=Tr(f,e),v=0,g=d.length;v<g;++v)(h=d[v])&&wr(h,n,e,v,d,p);o.push(d),a.push(f)}return new Pr(o,a,n,e)},filter:function(t){"function"!=typeof t&&(t=rt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,f=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&f.push(o);return new Pr(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var f,c=n[u],s=e[u],l=c.length,h=a[u]=new Array(l),d=0;d<l;++d)(f=c[d]||s[d])&&(h[d]=f);for(;u<r;++u)a[u]=n[u];return new Pr(a,this._parents,this._name,this._id)},selection:function(){return new kr(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=Rr(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],f=u.length,c=0;c<f;++c)if(a=u[c]){var s=Tr(a,n);wr(a,t,e,c,u,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new Pr(r,this._parents,t,e)},call:Lr.call,nodes:Lr.nodes,node:Lr.node,size:Lr.size,empty:Lr.empty,each:Lr.each,on:function(t,n){var e=this._id;return arguments.length<2?Tr(this.node(),e).on.on(t):this.each(function(t,n,e){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t})}(n)?Mr:Ar;return function(){var a=o(this,t),u=a.on;u!==r&&(i=(r=u).copy()).on(n,e),a.on=i}}(e,t,n))},attr:function(t,n){var e=$(t),r="transform"===e?Pe:Er;return this.attrTween(t,"function"==typeof n?(e.local?function(t,n,e){var r,i,o;return function(){var a,u=e(this);return null!=u?(a=this.getAttributeNS(t.space,t.local))===u?null:a===r&&u===i?o:o=n(r=a,i=u):void this.removeAttributeNS(t.space,t.local)}}:function(t,n,e){var r,i,o;return function(){var a,u=e(this);return null!=u?(a=this.getAttribute(t))===u?null:a===r&&u===i?o:o=n(r=a,i=u):void this.removeAttribute(t)}})(e,r,Sr(this,"attr."+t,n)):null==n?(e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(e):(e.local?function(t,n,e){var r,i;return function(){var o=this.getAttributeNS(t.space,t.local);return o===e?null:o===r?i:i=n(r=o,e)}}:function(t,n,e){var r,i;return function(){var o=this.getAttribute(t);return o===e?null:o===r?i:i=n(r=o,e)}})(e,r,n+""))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=$(t);return this.tween(e,(r.local?function(t,n){function e(){var e=this,r=n.apply(e,arguments);return r&&function(n){e.setAttributeNS(t.space,t.local,r(n))}}return e._value=n,e}:function(t,n){function e(){var e=this,r=n.apply(e,arguments);return r&&function(n){e.setAttribute(t,r(n))}}return e._value=n,e})(r,n))},style:function(t,n,e){var r="transform"==(t+="")?Ce:Er;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var o=lt(this,t),a=(this.style.removeProperty(t),lt(this,t));return o===a?null:o===e&&a===r?i:i=n(e=o,r=a)}}(t,r)).on("end.style."+t,function(t){return function(){this.style.removeProperty(t)}}(t)):this.styleTween(t,"function"==typeof n?function(t,n,e){var r,i,o;return function(){var a=lt(this,t),u=e(this);return null==u&&(this.style.removeProperty(t),u=lt(this,t)),a===u?null:a===r&&u===i?o:o=n(r=a,i=u)}}(t,r,Sr(this,"style."+t,n)):function(t,n,e){var r,i;return function(){var o=lt(this,t);return o===e?null:o===r?i:i=n(r=o,e)}}(t,r,n+""),e)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,function(t,n,e){function r(){var r=this,i=n.apply(r,arguments);return i&&function(n){r.style.setProperty(t,i(n),e)}}return r._value=n,r}(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(Sr(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",(t=this._id,function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}));var t},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=Tr(this.node(),e).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?function(t,n){var e,r;return function(){var i=Ar(this,t),o=i.tween;
if(o!==e)for(var a=0,u=(r=e=o).length;a<u;++a)if(r[a].name===n){(r=r.slice()).splice(a,1);break}i.tween=r}}:function(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var o=Ar(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var u={name:n,value:e},f=0,c=i.length;f<c;++f)if(i[f].name===n){i[f]=u;break}f===c&&i.push(u)}o.tween=i}})(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){Mr(this,t).delay=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){Mr(this,t).delay=n}})(n,t)):Tr(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){Ar(this,t).duration=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){Ar(this,t).duration=n}})(n,t)):Tr(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(function(t,n){if("function"!=typeof n)throw new Error;return function(){Ar(this,t).ease=n}}(n,t)):Tr(this.node(),n).ease}};var qr=function t(n){function e(t){return Math.pow(t,n)}return n=+n,e.exponent=t,e}(3),Or=function t(n){function e(t){return 1-Math.pow(1-t,n)}return n=+n,e.exponent=t,e}(3),Yr=function t(n){function e(t){return((t*=2)<=1?Math.pow(t,n):2-Math.pow(2-t,n))/2}return n=+n,e.exponent=t,e}(3),Br=Math.PI,Fr=Br/2,Xr=4/11,Gr=6/11,Vr=8/11,$r=.75,Wr=9/11,Zr=10/11,Qr=.9375,Jr=21/22,Kr=63/64,ti=1/Xr/Xr,ei=function t(n){function e(t){return t*t*((n+1)*t-n)}return n=+n,e.overshoot=t,e}(1.70158),ri=function t(n){function e(t){return--t*t*((n+1)*t+n)+1}return n=+n,e.overshoot=t,e}(1.70158),ii=function t(n){function e(t){return((t*=2)<1?t*t*((n+1)*t-n):(t-=2)*t*((n+1)*t+n)+2)/2}return n=+n,e.overshoot=t,e}(1.70158),oi=2*Math.PI,ai=function t(n,e){function i(t){return n*Math.pow(2,10*--t)*Math.sin((r-t)/e)}var r=Math.asin(1/(n=Math.max(1,n)))*(e/=oi);return i.amplitude=function(n){return t(n,e*oi)},i.period=function(e){return t(n,e)},i}(1,.3),ui=function t(n,e){function i(t){return 1-n*Math.pow(2,-10*(t=+t))*Math.sin((t+r)/e)}var r=Math.asin(1/(n=Math.max(1,n)))*(e/=oi);return i.amplitude=function(n){return t(n,e*oi)},i.period=function(e){return t(n,e)},i}(1,.3),fi=function t(n,e){function i(t){return((t=2*t-1)<0?n*Math.pow(2,10*t)*Math.sin((r-t)/e):2-n*Math.pow(2,-10*t)*Math.sin((r+t)/e))/2}var r=Math.asin(1/(n=Math.max(1,n)))*(e/=oi);return i.amplitude=function(n){return t(n,e*oi)},i.period=function(e){return t(n,e)},i}(1,.3),ci={time:null,delay:0,duration:250,ease:Ur};Lt.prototype.interrupt=function(t){return this.each(function(){Nr(this,t)})},Lt.prototype.transition=function(t){var n,e;t instanceof Pr?(n=t._id,t=t._name):(n=Rr(),(e=ci).time=ir(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],f=u.length,c=0;c<f;++c)(a=u[c])&&wr(a,t,n,c,u,e||si(a,n));return new Pr(r,this._parents,t,n)};var li=[null],gi={name:"drag"},yi={name:"space"},_i={name:"handle"},bi={name:"center"},mi={name:"x",handles:["e","w"].map(Ei),input:function(t,n){return t&&[[t[0],n[0][1]],[t[1],n[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},xi={name:"y",handles:["n","s"].map(Ei),input:function(t,n){return t&&[[n[0][0],t[0]],[n[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},wi={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(Ei),input:function(t){return t},output:function(t){return t}},Mi={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ai={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Ti={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Ni={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Si={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1},Li=Math.cos,Di=Math.sin,Ui=Math.PI,qi=Ui/2,Oi=2*Ui,Yi=Math.max,Bi=Array.prototype.slice,Ii=Math.PI,Hi=2*Ii,ji=Hi-1e-6;Xi.prototype=Gi.prototype={constructor:Xi,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,o){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var o=this._x1,a=this._y1,u=e-t,f=r-n,c=o-t,s=a-n,l=c*c+s*s;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(l>1e-6)if(Math.abs(s*u-f*c)>1e-6&&i){var h=e-o,d=r-a,p=u*u+f*f,v=h*h+d*d,g=Math.sqrt(p),y=Math.sqrt(l),_=i*Math.tan((Ii-Math.acos((p+l-v)/(2*g*y)))/2),b=_/y,m=_/g;Math.abs(b-1)>1e-6&&(this._+="L"+(t+b*c)+","+(n+b*s)),this._+="A"+i+","+i+",0,0,"+ +(s*h>c*d)+","+(this._x1=t+m*u)+","+(this._y1=n+m*f)}else this._+="L"+(this._x1=t)+","+(this._y1=n)},arc:function(t,n,e,r,i,o){t=+t,n=+n;var a=(e=+e)*Math.cos(r),u=e*Math.sin(r),f=t+a,c=n+u,s=1^o,l=o?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+f+","+c:(Math.abs(this._x1-f)>1e-6||Math.abs(this._y1-c)>1e-6)&&(this._+="L"+f+","+c),e&&(l<0&&(l=l%Hi+Hi),l>ji?this._+="A"+e+","+e+",0,1,"+s+","+(t-a)+","+(n-u)+"A"+e+","+e+",0,1,"+s+","+(this._x1=f)+","+(this._y1=c):l>1e-6&&(this._+="A"+e+","+e+",0,"+ +(l>=Ii)+","+s+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}},Ji.prototype=Ki.prototype={constructor:Ji,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,n){return this["$"+t]=n,this},remove:function(t){var n="$"+t;return n in this&&delete this[n]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)"$"===n[0]&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)"$"===n[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var n in this)"$"===n[0]&&t(this[n],n.slice(1),this)}};var oo=Ki.prototype;io.prototype=ao.prototype={constructor:io,has:oo.has,add:function(t){return this["$"+(t+="")]=t,this},remove:oo.remove,clear:oo.clear,values:oo.keys,size:oo.size,empty:oo.empty,each:oo.each};var uo=Array.prototype.slice,vo=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]],wo={},Mo={},Ao=34,To=10,No=13,ko=Eo(","),Co=ko.parse,Po=ko.parseRows,zo=ko.format,Ro=ko.formatRows,Lo=Eo("\t"),Do=Lo.parse,Uo=Lo.parseRows,qo=Lo.format,Oo=Lo.formatRows,jo=Ho(Co),Xo=Ho(Do),$o=Vo("application/xml"),Wo=Vo("text/html"),Zo=Vo("image/svg+xml"),aa=ra.prototype=ia.prototype;aa.copy=function(){var t,n,e=new ia(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=oa(r),e;for(t=[{source:r,target:e._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(n=r.source[i])&&(n.length?t.push({source:n,target:r.target[i]=new Array(4)}):r.target[i]=oa(n));return e},aa.add=function(t){var n=+this._x.call(null,t),e=+this._y.call(null,t);return Ko(this.cover(n,e),n,e,t)},aa.addAll=function(t){var n,e,r,i,o=t.length,a=new Array(o),u=new Array(o),f=1/0,c=1/0,s=-1/0,l=-1/0;for(e=0;e<o;++e)isNaN(r=+this._x.call(null,n=t[e]))||isNaN(i=+this._y.call(null,n))||(a[e]=r,u[e]=i,r<f&&(f=r),r>s&&(s=r),i<c&&(c=i),i>l&&(l=i));for(s<f&&(f=this._x0,s=this._x1),l<c&&(c=this._y0,l=this._y1),this.cover(f,c).cover(s,l),e=0;e<o;++e)Ko(this,a[e],u[e],t[e]);return this},aa.cover=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,o=(r=Math.floor(n))+1;else{if(!(e>t||t>i||r>n||n>o))return this;var a,u,f=i-e,c=this._root;switch(u=(n<(r+o)/2)<<1|t<(e+i)/2){case 0:do(a=new Array(4))[u]=c,c=a;while(o=r+(f*=2),t>(i=e+f)||n>o);break;case 1:do(a=new Array(4))[u]=c,c=a;while(o=r+(f*=2),(e=i-f)>t||n>o);break;case 2:do(a=new Array(4))[u]=c,c=a;while(r=o-(f*=2),t>(i=e+f)||r>n);break;case 3:do(a=new Array(4))[u]=c,c=a;while(r=o-(f*=2),(e=i-f)>t||r>n)}this._root&&this._root.length&&(this._root=c)}return this._x0=e,this._y0=r,this._x1=i,this._y1=o,this},aa.data=function(){var t=[];return this.visit(function(n){if(!n.length)do t.push(n.data);while(n=n.next)}),t},aa.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},aa.find=function(t,n,e){var r,i,o,a,u,f,c,s=this._x0,l=this._y0,h=this._x1,d=this._y1,p=[],v=this._root;for(v&&p.push(new ta(v,s,l,h,d)),null==e?e=1/0:(s=t-e,l=n-e,h=t+e,d=n+e,e*=e);f=p.pop();)if(!(!(v=f.node)||(i=f.x0)>h||(o=f.y0)>d||(a=f.x1)<s||(u=f.y1)<l))if(v.length){var g=(i+a)/2,y=(o+u)/2;p.push(new ta(v[3],g,y,a,u),new ta(v[2],i,y,g,u),new ta(v[1],g,o,a,y),new ta(v[0],i,o,g,y)),(c=(n>=y)<<1|t>=g)&&(f=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=f)}else{var _=t-+this._x.call(null,v.data),b=n-+this._y.call(null,v.data),m=_*_+b*b;if(m<e){var x=Math.sqrt(e=m);s=t-x,l=n-x,h=t+x,d=n+x,r=v.data}}return r},aa.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var n,e,r,i,o,a,u,f,c,s,l,h,d=this._root,p=this._x0,v=this._y0,g=this._x1,y=this._y1;if(!d)return this;if(d.length)for(;;){if((c=o>=(u=(p+g)/2))?p=u:g=u,(s=a>=(f=(v+y)/2))?v=f:y=f,n=d,!(d=d[l=s<<1|c]))return this;if(!d.length)break;(n[l+1&3]||n[l+2&3]||n[l+3&3])&&(e=n,h=l)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):n?(i?n[l]=i:delete n[l],(d=n[0]||n[1]||n[2]||n[3])&&d===(n[3]||n[2]||n[1]||n[0])&&!d.length&&(e?e[h]=d:this._root=d),this):(this._root=i,this)},aa.removeAll=function(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this},aa.root=function(){return this._root},aa.size=function(){var t=0;return this.visit(function(n){if(!n.length)do++t;while(n=n.next)}),t},aa.visit=function(t){var n,e,r,i,o,a,u=[],f=this._root;for(f&&u.push(new ta(f,this._x0,this._y0,this._x1,this._y1));n=u.pop();)if(!t(f=n.node,r=n.x0,i=n.y0,o=n.x1,a=n.y1)&&f.length){var c=(r+o)/2,s=(i+a)/2;(e=f[3])&&u.push(new ta(e,c,s,o,a)),(e=f[2])&&u.push(new ta(e,r,s,c,a)),(e=f[1])&&u.push(new ta(e,c,i,o,s)),(e=f[0])&&u.push(new ta(e,r,i,c,s))}return this},aa.visitAfter=function(t){var n,e=[],r=[];for(this._root&&e.push(new ta(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var i=n.node;if(i.length){var o,a=n.x0,u=n.y0,f=n.x1,c=n.y1,s=(a+f)/2,l=(u+c)/2;(o=i[0])&&e.push(new ta(o,a,u,s,l)),(o=i[1])&&e.push(new ta(o,s,u,f,l)),(o=i[2])&&e.push(new ta(o,a,l,s,c)),(o=i[3])&&e.push(new ta(o,s,l,f,c))}r.push(n)}for(;n=r.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this},aa.x=function(t){return arguments.length?(this._x=t,this):this._x},aa.y=function(t){return arguments.length?(this._y=t,this):this._y};var ya,da=10,pa=Math.PI*(3-Math.sqrt(5)),_a=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;ba.prototype=ma.prototype,ma.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Aa,wa={"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return xa(100*t,n)},r:xa,s:function(t,n){var e=va(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(ya=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+va(t,Math.max(0,n+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},Ta=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];Sa({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),za.prototype={constructor:za,reset:function(){this.s=this.t=0},add:function(t){La(Ra,t,this.t),La(this,Ra.s,this.s),this.s?this.t+=Ra.t:this.s=Ra.t},valueOf:function(){return this.s}};var lu,hu,du,pu,vu,Cu,Pu,zu,Ru,Lu,Du,Uu,qu,Ou,Yu,Bu,Fu,Iu,Hu,ju,Xu,Gu,Vu,$u,Wu,Zu,Qu,Ju,Ku,tf,nf,Ra=new za,Da=1e-6,Ua=1e-12,qa=Math.PI,Oa=qa/2,Ya=qa/4,Ba=2*qa,Fa=180/qa,Ia=qa/180,Ha=Math.abs,ja=Math.atan,Xa=Math.atan2,Ga=Math.cos,Va=Math.ceil,$a=Math.exp,Wa=Math.log,Za=Math.pow,Qa=Math.sin,Ja=Math.sign||function(t){return t>0?1:t<0?-1:0},Ka=Math.sqrt,tu=Math.tan,au={Feature:function(t,n){ou(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)ou(e[r].geometry,n)}},uu={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){fu(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)fu(e[r],n,0)},Polygon:function(t,n){cu(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)cu(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)ou(e[r],n)}},gu=Pa(),yu=Pa(),_u={point:iu,lineStart:iu,lineEnd:iu,polygonStart:function(){gu.reset(),_u.lineStart=bu,_u.lineEnd=mu},polygonEnd:function(){var t=+gu;yu.add(t<0?Ba+t:t),this.lineStart=this.lineEnd=this.point=iu},sphere:function(){yu.add(Ba)}},ef=Pa(),rf={point:of,lineStart:uf,lineEnd:ff,polygonStart:function(){rf.point=cf,rf.lineStart=sf,rf.lineEnd=lf,ef.reset(),_u.polygonStart()},polygonEnd:function(){_u.polygonEnd(),rf.point=of,rf.lineStart=uf,rf.lineEnd=ff,gu<0?(Cu=-(zu=180),Pu=-(Ru=90)):ef>Da?Ru=90:ef<-Da&&(Pu=-90),Yu[0]=Cu,Yu[1]=zu}},vf={sphere:iu,point:gf,lineStart:_f,lineEnd:xf,polygonStart:function(){vf.lineStart=wf,vf.lineEnd=Mf},polygonEnd:function(){vf.lineStart=_f,vf.lineEnd=xf}};Ef.invert=Ef;var Qf,Jf,Kf,xc,wc,Mc,Ac,qc,Oc,Yc,Bc,Ff=Pa(),Gf=Hf(function(){return!0},function(t){var n,e=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(o,a){var u=o>0?qa:-qa,f=Ha(o-e);Ha(f-qa)<Da?(t.point(e,r=(r+a)/2>0?Oa:-Oa),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),t.point(o,r),n=0):i!==u&&f>=qa&&(Ha(e-i)<Da&&(e-=i*Da),Ha(o-u)<Da&&(o-=u*Da),r=function(t,n,e,r){var i,o,a=Qa(t-e);return Ha(a)>Da?ja((Qa(n)*(o=Ga(r))*Qa(e)-Qa(r)*(i=Ga(n))*Qa(t))/(i*o*a)):(n+r)/2}(e,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),n=0),t.point(e=o,r=a),i=u},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}},function(t,n,e,r){var i;if(null==t)i=e*Oa,r.point(-qa,i),r.point(0,i),r.point(qa,i),r.point(qa,0),r.point(qa,-i),r.point(0,-i),r.point(-qa,-i),r.point(-qa,0),r.point(-qa,i);else if(Ha(t[0]-n[0])>Da){var o=t[0]<n[0]?qa:-qa;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])},[-qa,-Oa]),$f=1e9,Wf=-$f,tc=Pa(),nc={sphere:iu,point:iu,lineStart:function(){nc.point=rc,nc.lineEnd=ec},lineEnd:iu,polygonStart:iu,polygonEnd:iu},ac=[null,null],uc={type:"LineString",coordinates:ac},cc={Feature:function(t,n){return lc(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)if(lc(e[r].geometry,n))return!0;return!1}},sc={Sphere:function(){return!0},Point:function(t,n){return hc(t.coordinates,n)},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(hc(e[r],n))return!0;return!1},LineString:function(t,n){return dc(t.coordinates,n)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(dc(e[r],n))return!0;return!1},Polygon:function(t,n){return pc(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(pc(e[r],n))return!0;return!1},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)if(lc(e[r],n))return!0;return!1}},Tc=Pa(),Nc=Pa(),Sc={point:iu,lineStart:iu,lineEnd:iu,polygonStart:function(){Sc.lineStart=Ec,Sc.lineEnd=Pc},polygonEnd:function(){Sc.lineStart=Sc.lineEnd=Sc.point=iu,Tc.add(Ha(Nc)),Nc.reset()},result:function(){var t=Tc/2;return Tc.reset(),t}},zc=1/0,Rc=zc,Lc=-zc,Dc=Lc,Uc={point:function(t,n){t<zc&&(zc=t),t>Lc&&(Lc=t),n<Rc&&(Rc=n),n>Dc&&(Dc=n)},lineStart:iu,lineEnd:iu,polygonStart:iu,polygonEnd:iu,result:function(){var t=[[zc,Rc],[Lc,Dc]];return Lc=Dc=-(Rc=zc=1/0),t}},Fc=0,Ic=0,Hc=0,jc=0,Xc=0,Gc=0,Vc=0,$c=0,Wc=0,Zc={point:Qc,lineStart:Jc,lineEnd:ns,polygonStart:function(){Zc.lineStart=es,Zc.lineEnd=rs},polygonEnd:function(){Zc.point=Qc,Zc.lineStart=Jc,Zc.lineEnd=ns},result:function(){var t=Wc?[Vc/Wc,$c/Wc]:Gc?[jc/Gc,Xc/Gc]:Hc?[Fc/Hc,Ic/Hc]:[NaN,NaN];return Fc=Ic=Hc=jc=Xc=Gc=Vc=$c=Wc=0,t}};as.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,Ba)}},result:iu};var us,fs,cs,ss,ls,hs=Pa(),ds={point:iu,lineStart:function(){ds.point=ps},lineEnd:function(){us&&vs(fs,cs),ds.point=iu},polygonStart:function(){us=!0},polygonEnd:function(){us=null},result:function(){var t=+hs;return hs.reset(),t}};gs.prototype={_radius:4.5,_circle:ys(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._string.push("M",t,",",n),this._point=1;break;case 1:this._string.push("L",t,",",n);break;default:null==this._circle&&(this._circle=ys(this._radius)),this._string.push("M",t,",",n,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},bs.prototype={constructor:bs,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Ts=16,Ns=Ga(30*Ia),Es=_s({point:function(t,n){this.stream.point(t*Ia,n*Ia)}}),Os=Us(function(t){return Ka(2/(1+t))});Os.invert=qs(function(t){return 2*eu(t/2)});var Ys=Us(function(t){return(t=nu(t))&&t/Qa(t)});Ys.invert=qs(function(t){return t}),Bs.invert=function(t,n){return[t,2*ja($a(n))-Oa]},js.invert=js;var Gs=1.340264,Vs=-.081106,$s=893e-6,Ws=.003796,Zs=Ka(3)/2;Qs.invert=function(t,n){for(var e,r=n,i=r*r,o=i*i*i,a=0;a<12&&(o=(i=(r-=e=(r*(Gs+Vs*i+o*($s+Ws*i))-n)/(Gs+3*Vs*i+o*(7*$s+9*Ws*i)))*r)*i*i,!(Ha(e)<Ua));++a);return[Zs*t*(Gs+3*Vs*i+o*(7*$s+9*Ws*i))/Ga(r),eu(Qa(r)/Zs)]},Js.invert=qs(ja),tl.invert=function(t,n){var e,r=n,i=25;do{var o=r*r,a=o*o;r-=e=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-n)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(Ha(e)>Da&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]},nl.invert=qs(eu),el.invert=qs(function(t){return 2*ja(t)}),rl.invert=function(t,n){return[-n,2*ja($a(t))-Oa]},hl.prototype=fl.prototype={constructor:hl,count:function(){return this.eachAfter(ul)},each:function(t){var n,e,r,i,o=this,a=[o];do for(n=a.reverse(),a=[];o=n.pop();)if(t(o),e=o.children)for(r=0,i=e.length;r<i;++r)a.push(e[r]);while(a.length);return this},eachAfter:function(t){for(var n,e,r,i=this,o=[i],a=[];i=o.pop();)if(a.push(i),n=i.children)for(e=0,r=n.length;e<r;++e)o.push(n[e]);for(;i=a.pop();)t(i);return this},eachBefore:function(t){for(var n,e,r=this,i=[r];r=i.pop();)if(t(r),n=r.children)for(e=n.length-1;e>=0;--e)i.push(n[e]);return this},sum:function(t){return this.eachAfter(function(n){for(var e=+t(n.data)||0,r=n.children,i=r&&r.length;--i>=0;)e+=r[i].value;n.value=e})},sort:function(t){return this.eachBefore(function(n){n.children&&n.children.sort(t)})},path:function(t){for(var n=this,e=function(t,n){if(t===n)return t;var e=t.ancestors(),r=n.ancestors(),i=null;for(t=e.pop(),n=r.pop();t===n;)i=t,t=e.pop(),n=r.pop();return i}(n,t),r=[n];n!==e;)n=n.parent,r.push(n);for(var i=r.length;t!==e;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,n=[t];t=t.parent;)n.push(t);return n},descendants:function(){var t=[];return this.each(function(n){t.push(n)}),t},leaves:function(){var t=[];return this.eachBefore(function(n){n.children||t.push(n)}),t},links:function(){var t=this,n=[];return t.each(function(e){e!==t&&n.push({source:e.parent,target:e})}),n},copy:function(){return fl(this).eachBefore(sl)}};var dl=Array.prototype.slice,Ul="$",ql={depth:-1},Ol={};Gl.prototype=Object.create(hl.prototype);var $l=(1+Math.sqrt(5))/2,Zl=function t(n){function e(t,e,r,i,o){Wl(n,t,e,r,i,o)}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}($l),Ql=function t(n){function e(t,e,r,i,o){if((a=t._squarify)&&a.ratio===n)for(var a,u,f,c,s,l=-1,h=a.length,d=t.value;++l<h;){for(f=(u=a[l]).children,c=u.value=0,s=f.length;c<s;++c)u.value+=f[c].value;u.dice?Dl(u,e,r,i,r+=(o-r)*u.value/d):Vl(u,e,r,e+=(i-e)*u.value/d,o),d-=u.value}else t._squarify=a=Wl(n,t,e,r,i,o),a.ratio=n}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}($l),nh=function t(n){function e(t,e){return t=null==t?0:+t,e=null==e?1:+e,1===arguments.length?(e=t,t=0):e-=t,function(){return n()*e+t}}return e.source=t,e}(th),eh=function t(n){function e(t,e){var r,i;return t=null==t?0:+t,e=null==e?1:+e,function(){var o;if(null!=r)o=r,r=null;else do r=2*n()-1,o=2*n()-1,i=r*r+o*o;while(!i||i>1);return t+e*o*Math.sqrt(-2*Math.log(i)/i)}}return e.source=t,e}(th),rh=function t(n){function e(){var t=eh.source(n).apply(this,arguments);return function(){return Math.exp(t())}}return e.source=t,e}(th),ih=function t(n){function e(t){return function(){for(var e=0,r=0;r<t;++r)e+=n();return e}}return e.source=t,e}(th),oh=function t(n){function e(t){var e=ih.source(n)(t);return function(){return e()/t}}return e.source=t,e}(th),ah=function t(n){function e(t){return function(){return-Math.log(1-n())/t}}return e.source=t,e}(th),uh=Array.prototype,fh=uh.map,ch=uh.slice,sh={name:"implicit"},vh=[0,1],Ph=new Date,zh=new Date,Lh=Rh(function(){},function(t,n){t.setTime(+t+n)},function(t,n){return n-t});Lh.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Rh(function(n){n.setTime(Math.floor(n/t)*t)},function(n,e){n.setTime(+n+e*t)},function(n,e){return(e-n)/t}):Lh:null};var Dh=Lh.range,Uh=6e4,qh=6048e5,Oh=Rh(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,n){t.setTime(+t+1e3*n)},function(t,n){return(n-t)/1e3},function(t){return t.getUTCSeconds()}),Yh=Oh.range,Bh=Rh(function(t){t.setTime(Math.floor(t/Uh)*Uh)},function(t,n){t.setTime(+t+n*Uh)},function(t,n){return(n-t)/Uh},function(t){return t.getMinutes()}),Fh=Bh.range,Ih=Rh(function(t){var n=t.getTimezoneOffset()*Uh%36e5;n<0&&(n+=36e5),t.setTime(36e5*Math.floor((+t-n)/36e5)+n)},function(t,n){t.setTime(+t+36e5*n)},function(t,n){return(n-t)/36e5},function(t){return t.getHours()}),Hh=Ih.range,jh=Rh(function(t){t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Uh)/864e5},function(t){return t.getDate()-1}),Xh=jh.range,Vh=Gh(0),$h=Gh(1),Wh=Gh(2),Zh=Gh(3),Qh=Gh(4),Jh=Gh(5),Kh=Gh(6),td=Vh.range,nd=$h.range,ed=Wh.range,rd=Zh.range,id=Qh.range,od=Jh.range,ad=Kh.range,ud=Rh(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,n){t.setMonth(t.getMonth()+n)},function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),fd=ud.range,cd=Rh(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t,n){return n.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});cd.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Rh(function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,e){n.setFullYear(n.getFullYear()+e*t)}):null};var sd=cd.range,ld=Rh(function(t){t.setUTCSeconds(0,0)},function(t,n){t.setTime(+t+n*Uh)},function(t,n){return(n-t)/Uh},function(t){return t.getUTCMinutes()}),hd=ld.range,dd=Rh(function(t){t.setUTCMinutes(0,0,0)},function(t,n){t.setTime(+t+36e5*n)},function(t,n){return(n-t)/36e5},function(t){return t.getUTCHours()}),pd=dd.range,vd=Rh(function(t){t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n)},function(t,n){return(n-t)/864e5},function(t){return t.getUTCDate()-1}),gd=vd.range,_d=yd(0),bd=yd(1),md=yd(2),xd=yd(3),wd=yd(4),Md=yd(5),Ad=yd(6),Td=_d.range,Nd=bd.range,Sd=md.range,Ed=xd.range,kd=wd.range,Cd=Md.range,Pd=Ad.range,zd=Rh(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCMonth(t.getUTCMonth()+n)},function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),Rd=zd.range,Ld=Rh(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)},function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});Ld.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Rh(function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)}):null};var Bd,Dd=Ld.range,Fd={"-":"",_:" ",0:"0"},Id=/^\s*\d+/,Hd=/^%/,jd=/[\\^$*+?|[\]().{}]/g;Qp({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Jp=Date.prototype.toISOString?function(t){return t.toISOString()}:t.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),Kp=+new Date("2000-01-01T00:00:00.000Z")?function(t){var n=new Date(t);return isNaN(n)?null:n}:t.utcParse("%Y-%m-%dT%H:%M:%S.%LZ"),tv=1e3,nv=60*tv,ev=60*nv,rv=24*ev,iv=7*rv,ov=30*rv,av=365*rv,lv=sv("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),hv=sv("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),dv=sv("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),pv=sv("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),vv=sv("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),gv=sv("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),yv=sv("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),_v=sv("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),bv=sv("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),xv=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(sv),wv=mv(xv),Mv=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(sv),Av=mv(Mv),Tv=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(sv),Nv=mv(Tv),Sv=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(sv),Ev=mv(Sv),kv=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(sv),Cv=mv(kv),Pv=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(sv),zv=mv(Pv),Rv=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(sv),Lv=mv(Rv),Dv=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(sv),Uv=mv(Dv),qv=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(sv),Ov=mv(qv),Yv=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(sv),Bv=mv(Yv),Fv=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(sv),Iv=mv(Fv),Hv=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(sv),jv=mv(Hv),Xv=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(sv),Gv=mv(Xv),Vv=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(sv),$v=mv(Vv),Wv=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(sv),Zv=mv(Wv),Qv=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(sv),Jv=mv(Qv),Kv=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(sv),tg=mv(Kv),ng=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(sv),eg=mv(ng),rg=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(sv),ig=mv(rg),og=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(sv),ag=mv(og),ug=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(sv),fg=mv(ug),cg=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(sv),sg=mv(cg),lg=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(sv),hg=mv(lg),dg=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(sv),pg=mv(dg),vg=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(sv),gg=mv(vg),yg=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(sv),_g=mv(yg),bg=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(sv),mg=mv(bg),xg=Ge(Kn(300,.5,0),Kn(-240,.5,1)),wg=Ge(Kn(-100,.75,.35),Kn(80,1.5,.8)),Mg=Ge(Kn(260,.75,.35),Kn(80,1.5,.8)),Ag=Kn(),Tg=bn(),Ng=Math.PI/3,Sg=2*Math.PI/3,kg=Eg(sv("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Cg=Eg(sv("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Pg=Eg(sv("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),zg=Eg(sv("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),Lg=Math.abs,Dg=Math.atan2,Ug=Math.cos,qg=Math.max,Og=Math.min,Yg=Math.sin,Bg=Math.sqrt,Fg=1e-12,Ig=Math.PI,Hg=Ig/2,jg=2*Ig;
Jg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}};var ay=fy(Kg);uy.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,n){this._curve.point(n*Math.sin(t),n*-Math.cos(t))}};var dy=Array.prototype.slice,my={draw:function(t,n){var e=Math.sqrt(n/Ig);t.moveTo(e,0),t.arc(0,0,e,0,jg)}},xy={draw:function(t,n){var e=Math.sqrt(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}},wy=Math.sqrt(1/3),My=2*wy,Ay={draw:function(t,n){var e=Math.sqrt(n/My),r=e*wy;t.moveTo(0,-e),t.lineTo(r,0),t.lineTo(0,e),t.lineTo(-r,0),t.closePath()}},Ty=Math.sin(Ig/10)/Math.sin(7*Ig/10),Ny=Math.sin(jg/10)*Ty,Sy=-Math.cos(jg/10)*Ty,Ey={draw:function(t,n){var e=Math.sqrt(.8908130915292852*n),r=Ny*e,i=Sy*e;t.moveTo(0,-e),t.lineTo(r,i);for(var o=1;o<5;++o){var a=jg*o/5,u=Math.cos(a),f=Math.sin(a);t.lineTo(f*e,-u*e),t.lineTo(u*r-f*i,f*r+u*i)}t.closePath()}},ky={draw:function(t,n){var e=Math.sqrt(n),r=-e/2;t.rect(r,r,e,e)}},Cy=Math.sqrt(3),Py={draw:function(t,n){var e=-Math.sqrt(n/(3*Cy));t.moveTo(0,2*e),t.lineTo(-Cy*e,-e),t.lineTo(Cy*e,-e),t.closePath()}},zy=Math.sqrt(3)/2,Ry=1/Math.sqrt(12),Ly=3*(Ry/2+1),Dy={draw:function(t,n){var e=Math.sqrt(n/Ly),r=e/2,i=e*Ry,o=r,a=e*Ry+e,u=-o,f=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(u,f),t.lineTo(-.5*r-zy*i,zy*r+-.5*i),t.lineTo(-.5*o-zy*a,zy*o+-.5*a),t.lineTo(-.5*u-zy*f,zy*u+-.5*f),t.lineTo(-.5*r+zy*i,-.5*i-zy*r),t.lineTo(-.5*o+zy*a,-.5*a-zy*o),t.lineTo(-.5*u+zy*f,-.5*f-zy*u),t.closePath()}},Uy=[my,xy,Ay,ky,Ey,Py,Dy];Yy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Oy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Oy(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},By.prototype={areaStart:qy,areaEnd:qy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:Oy(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},Fy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 3:this._point=4;default:Oy(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},Iy.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0)for(var r,i=t[0],o=n[0],a=t[e]-i,u=n[e]-o,f=-1;++f<=e;)r=f/e,this._basis.point(this._beta*t[f]+(1-this._beta)*(i+r*a),this._beta*n[f]+(1-this._beta)*(o+r*u));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};var Hy=function t(n){function e(t){return 1===n?new Yy(t):new Iy(t,n)}return e.beta=function(n){return t(+n)},e}(.85);Xy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:jy(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:jy(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Gy=function t(n){function e(t){return new Xy(t,n)}return e.tension=function(n){return t(+n)},e}(0);Vy.prototype={areaStart:qy,areaEnd:qy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:jy(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var $y=function t(n){function e(t){return new Vy(t,n)}return e.tension=function(n){return t(+n)},e}(0);Wy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:jy(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Zy=function t(n){function e(t){return new Wy(t,n)}return e.tension=function(n){return t(+n)},e}(0);Jy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:Qy(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Ky=function t(n){function e(t){return n?new Jy(t,n):new Xy(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);t_.prototype={areaStart:qy,areaEnd:qy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Qy(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var n_=function t(n){function e(t){return n?new t_(t,n):new Vy(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);e_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Qy(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var r_=function t(n){function e(t){return n?new e_(t,n):new Wy(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);i_.prototype={areaStart:qy,areaEnd:qy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}},c_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:f_(this,this._t0,u_(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(n=+n,(t=+t)!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,f_(this,u_(this,e=a_(this,t,n)),e);break;default:f_(this,this._t0,e=a_(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}},(s_.prototype=Object.create(c_.prototype)).point=function(t,n){c_.prototype.point.call(this,n,t)},l_.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,o){this._context.bezierCurveTo(n,t,r,e,o,i)}},h_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),2===e)this._context.lineTo(t[1],n[1]);else for(var r=d_(t),i=d_(n),o=0,a=1;a<e;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],n[a]);(this._line||0!==this._line&&1===e)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}},p_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}}this._x=t,this._y=n}},M_.prototype={constructor:M_,insert:function(t,n){var e,r,i;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){for(t=t.R;t.L;)t=t.L;t.L=n}else t.R=n;e=t}else this._?(t=S_(this._),n.P=null,n.N=t,t.P=t.L=n,e=t):(n.P=n.N=null,this._=n,e=null);for(n.L=n.R=null,n.U=e,n.C=!0,t=n;e&&e.C;)e===(r=e.U).L?(i=r.R)&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.R&&(T_(this,e),e=(t=e).U),e.C=!1,r.C=!0,N_(this,r)):(i=r.L)&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.L&&(N_(this,e),e=(t=e).U),e.C=!1,r.C=!0,T_(this,r)),e=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n,e,r,i=t.U,o=t.L,a=t.R;if(e=o?a?S_(a):o:a,i?i.L===t?i.L=e:i.R=e:this._=e,o&&a?(r=e.C,e.C=t.C,e.L=o,o.U=e,e!==a?(i=e.U,e.U=t.U,t=e.R,i.L=t,e.R=a,a.U=e):(e.U=i,i=e,t=e.R)):(r=t.C,t=e),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((n=i.R).C&&(n.C=!1,i.C=!0,T_(this,i),n=i.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,N_(this,n),n=i.R),n.C=i.C,i.C=n.R.C=!1,T_(this,i),t=this._;break}}else if((n=i.L).C&&(n.C=!1,i.C=!0,N_(this,i),n=i.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,T_(this,n),n=i.L),n.C=i.C,i.C=n.L.C=!1,N_(this,i),t=this._;break}n.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var U_,W_,Z_,Q_,J_,q_=[],F_=[],K_=1e-6,tb=1e-12;eb.prototype={constructor:eb,polygons:function(){var t=this.edges;return this.cells.map(function(n){var e=n.halfedges.map(function(e){return L_(n,t[e])});return e.data=n.site.data,e})},triangles:function(){var t=[],n=this.edges;return this.cells.forEach(function(e,r){if(o=(i=e.halfedges).length)for(var i,o,a,u,f,c,s=e.site,l=-1,h=n[i[o-1]],d=h.left===s?h.right:h.left;++l<o;)a=d,d=(h=n[i[l]]).left===s?h.right:h.left,a&&d&&r<a.index&&r<d.index&&(f=a,c=d,((u=s)[0]-c[0])*(f[1]-u[1])-(u[0]-f[0])*(c[1]-u[1])<0)&&t.push([s.data,a.data,d.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,n,e){for(var r,i,o=this,a=o._found||0,u=o.cells.length;!(i=o.cells[a]);)if(++a>=u)return null;var f=t-i.site[0],c=n-i.site[1],s=f*f+c*c;do i=o.cells[r=a],a=null,i.halfedges.forEach(function(e){var r=o.edges[e],u=r.left;if(u!==i.site&&u||(u=r.right)){var f=t-u[0],c=n-u[1],l=f*f+c*c;l<s&&(s=l,a=u.index)}});while(null!==a);return o._found=r,null==e||s<=e*e?i.site:null}},ob.prototype={constructor:ob,scale:function(t){return 1===t?this:new ob(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new ob(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ab=new ob(1,0,0);ub.prototype=ob.prototype,t.version="5.7.0",t.bisect=i,t.bisectRight=i,t.bisectLeft=o,t.ascending=n,t.bisector=e,t.cross=function(t,n,e){var r,i,o,u,f=t.length,c=n.length,s=new Array(f*c);for(null==e&&(e=a),r=o=0;r<f;++r)for(u=t[r],i=0;i<c;++i,++o)s[o]=e(u,n[i]);return s},t.descending=function(t,n){return n<t?-1:n>t?1:n>=t?0:NaN},t.deviation=c,t.extent=s,t.histogram=function(){function r(r){var o,a,u=r.length,f=new Array(u);for(o=0;o<u;++o)f[o]=t(r[o],o,r);var c=n(f),s=c[0],l=c[1],h=e(f,s,l);Array.isArray(h)||(h=w(s,l,h),h=g(Math.ceil(s/h)*h,l,h));for(var d=h.length;h[0]<=s;)h.shift(),--d;for(;h[d-1]>l;)h.pop(),--d;var p,v=new Array(d+1);for(o=0;o<=d;++o)(p=v[o]=[]).x0=o>0?h[o-1]:s,p.x1=o<d?h[o]:l;for(o=0;o<u;++o)s<=(a=f[o])&&a<=l&&v[i(h,a,0,d)].push(r[o]);return v}var t=v,n=s,e=M;return r.value=function(n){return arguments.length?(t="function"==typeof n?n:p(n),r):t},r.domain=function(t){return arguments.length?(n="function"==typeof t?t:p([t[0],t[1]]),r):n},r.thresholds=function(t){return arguments.length?(e="function"==typeof t?t:p(Array.isArray(t)?h.call(t):t),r):e},r},t.thresholdFreedmanDiaconis=function(t,e,r){return t=d.call(t,u).sort(n),Math.ceil((r-e)/(2*(A(t,.75)-A(t,.25))*Math.pow(t.length,-1/3)))},t.thresholdScott=function(t,n,e){return Math.ceil((e-n)/(3.5*c(t)*Math.pow(t.length,-1/3)))},t.thresholdSturges=M,t.max=T,t.mean=function(t,n){var e,r=t.length,i=r,o=-1,a=0;if(null==n)for(;++o<r;)isNaN(e=u(t[o]))?--i:a+=e;else for(;++o<r;)isNaN(e=u(n(t[o],o,t)))?--i:a+=e;if(i)return a/i},t.median=function(t,e){var r,i=t.length,o=-1,a=[];if(null==e)for(;++o<i;)isNaN(r=u(t[o]))||a.push(r);else for(;++o<i;)isNaN(r=u(e(t[o],o,t)))||a.push(r);return A(a.sort(n),.5)},t.merge=N,t.min=S,t.pairs=function(t,n){null==n&&(n=a);for(var e=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);e<r;)o[e]=n(i,i=t[++e]);return o},t.permute=function(t,n){for(var e=n.length,r=new Array(e);e--;)r[e]=t[n[e]];return r},t.quantile=A,t.range=g,t.scan=function(t,e){if(r=t.length){var r,i,o=0,a=0,u=t[a];for(null==e&&(e=n);++o<r;)(e(i=t[o],u)<0||0!==e(u,u))&&(u=i,a=o);return 0===e(u,u)?a:void 0}},t.shuffle=function(t,n,e){for(var r,i,o=(null==e?t.length:e)-(n=null==n?0:+n);o;)i=Math.random()*o--|0,r=t[o+n],t[o+n]=t[i+n],t[i+n]=r;return t},t.sum=function(t,n){var e,r=t.length,i=-1,o=0;if(null==n)for(;++i<r;)(e=+t[i])&&(o+=e);else for(;++i<r;)(e=+n(t[i],i,t))&&(o+=e);return o},t.ticks=m,t.tickIncrement=x,t.tickStep=w,t.transpose=E,t.variance=f,t.zip=function(){return E(arguments)},t.axisTop=function(t){return B(z,t)},t.axisRight=function(t){return B(R,t)},t.axisBottom=function(t){return B(L,t)},t.axisLeft=function(t){return B(D,t)},t.brush=function(){return Ri(wi)},t.brushX=function(){return Ri(mi)},t.brushY=function(){return Ri(xi)},t.brushSelection=function(t){var n=t.__brush;return n?n.dim.output(n.selection):null},t.chord=function(){function i(i){var o,a,u,f,c,s,l=i.length,h=[],d=g(l),p=[],v=[],y=v.groups=new Array(l),_=new Array(l*l);for(o=0,c=-1;++c<l;){for(a=0,s=-1;++s<l;)a+=i[c][s];h.push(a),p.push(g(l)),o+=a}for(n&&d.sort(function(t,e){return n(h[t],h[e])}),e&&p.forEach(function(t,n){t.sort(function(t,r){return e(i[n][t],i[n][r])})}),f=(o=Yi(0,Oi-t*l)/o)?t:Oi/l,a=0,c=-1;++c<l;){for(u=a,s=-1;++s<l;){var b=d[c],m=p[b][s],x=i[b][m],w=a,M=a+=x*o;_[m*l+b]={index:b,subindex:m,startAngle:w,endAngle:M,value:x}}y[b]={index:b,startAngle:u,endAngle:a,value:h[b]},a+=f}for(c=-1;++c<l;)for(s=c-1;++s<l;){var A=_[s*l+c],T=_[c*l+s];(A.value||T.value)&&v.push(A.value<T.value?{source:T,target:A}:{source:A,target:T})}return r?v.sort(r):v}var t=0,n=null,e=null,r=null;return i.padAngle=function(n){return arguments.length?(t=Yi(0,n),i):t},i.sortGroups=function(t){return arguments.length?(n=t,i):n},i.sortSubgroups=function(t){return arguments.length?(e=t,i):e},i.sortChords=function(t){return arguments.length?(null==t?r=null:(n=t,r=function(t,e){return n(t.source.value+t.target.value,e.source.value+e.target.value)})._=t,i):r&&r._;var n},i},t.ribbon=function(){function a(){var a,u=Bi.call(arguments),f=t.apply(this,u),c=n.apply(this,u),s=+e.apply(this,(u[0]=f,u)),l=r.apply(this,u)-qi,h=i.apply(this,u)-qi,d=s*Li(l),p=s*Di(l),v=+e.apply(this,(u[0]=c,u)),g=r.apply(this,u)-qi,y=i.apply(this,u)-qi;if(o||(o=a=Gi()),o.moveTo(d,p),o.arc(0,0,s,l,h),l===g&&h===y||(o.quadraticCurveTo(0,0,v*Li(g),v*Di(g)),o.arc(0,0,v,g,y)),o.quadraticCurveTo(0,0,d,p),o.closePath(),a)return o=null,a+""||null}var t=Vi,n=$i,e=Wi,r=Zi,i=Qi,o=null;return a.radius=function(t){return arguments.length?(e="function"==typeof t?t:Fi(+t),a):e},a.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:Fi(+t),a):r},a.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:Fi(+t),a):i},a.source=function(n){return arguments.length?(t=n,a):t},a.target=function(t){return arguments.length?(n=t,a):n},a.context=function(t){return arguments.length?(o=null==t?null:t,a):o},a},t.nest=function(){function o(e,i,a,u){if(i>=r.length)return null!=t&&e.sort(t),null!=n?n(e):e;for(var f,c,s,l=-1,h=e.length,d=r[i++],p=Ki(),v=a();++l<h;)(s=p.get(f=d(c=e[l])+""))?s.push(c):p.set(f,[c]);return p.each(function(t,n){u(v,n,o(t,i,a,u))}),v}var t,n,e,r=[],i=[];return e={object:function(t){return o(t,0,to,no)},map:function(t){return o(t,0,eo,ro)},entries:function(t){return function t(e,o){if(++o>r.length)return e;var a,u=i[o-1];return null!=n&&o>=r.length?a=e.entries():(a=[],e.each(function(n,e){a.push({key:e,values:t(n,o)})})),null!=u?a.sort(function(t,n){return u(t.key,n.key)}):a}(o(t,0,eo,ro),0)},key:function(t){return r.push(t),e},sortKeys:function(t){return i[r.length-1]=t,e},sortValues:function(n){return t=n,e},rollup:function(t){return n=t,e}}},t.set=ao,t.map=Ki,t.keys=function(t){var n=[];for(var e in t)n.push(e);return n},t.values=function(t){var n=[];for(var e in t)n.push(t[e]);return n},t.entries=function(t){var n=[];for(var e in t)n.push({key:e,value:t[e]});return n},t.color=vn,t.rgb=bn,t.hsl=Mn,t.lab=Un,t.hcl=Hn,t.lch=function(t,n,e,r){return 1===arguments.length?In(t):new jn(e,n,t,null==r?1:r)},t.gray=function(t,n){return new qn(t,0,0,null==n?1:n)},t.cubehelix=Kn,t.contours=go,t.contourDensity=function(){function l(r){var i=new Float32Array(f*c),l=new Float32Array(f*c);r.forEach(function(r,o,s){var l=+t(r,o,s)+u>>a,h=+n(r,o,s)+u>>a,d=+e(r,o,s);l>=0&&l<f&&h>=0&&h<c&&(i[l+h*f]+=d)}),yo({width:f,height:c,data:i},{width:f,height:c,data:l},o>>a),_o({width:f,height:c,data:l},{width:f,height:c,data:i},o>>a),yo({width:f,height:c,data:i},{width:f,height:c,data:l},o>>a),_o({width:f,height:c,data:l},{width:f,height:c,data:i},o>>a),yo({width:f,height:c,data:i},{width:f,height:c,data:l},o>>a),_o({width:f,height:c,data:l},{width:f,height:c,data:i},o>>a);var d=s(i);if(!Array.isArray(d)){var p=T(i);d=w(0,p,d),(d=g(0,Math.floor(p/d)*d,d)).shift()}return go().thresholds(d).size([f,c])(i).map(h)}function h(t){return t.value*=Math.pow(2,-2*a),t.coordinates.forEach(d),t}function d(t){t.forEach(p)}function p(t){t.forEach(v)}function v(t){t[0]=t[0]*Math.pow(2,a)-u,t[1]=t[1]*Math.pow(2,a)-u}function y(){return f=r+2*(u=3*o)>>a,c=i+2*u>>a,l}var t=bo,n=mo,e=xo,r=960,i=500,o=20,a=2,u=3*o,f=r+2*u>>a,c=i+2*u>>a,s=co(20);return l.x=function(n){return arguments.length?(t="function"==typeof n?n:co(+n),l):t},l.y=function(t){return arguments.length?(n="function"==typeof t?t:co(+t),l):n},l.weight=function(t){return arguments.length?(e="function"==typeof t?t:co(+t),l):e},l.size=function(t){if(!arguments.length)return[r,i];var n=Math.ceil(t[0]),e=Math.ceil(t[1]);if(!(n>=0||n>=0))throw new Error("invalid size");return r=n,i=e,y()},l.cellSize=function(t){if(!arguments.length)return 1<<a;if(!((t=+t)>=1))throw new Error("invalid cell size");return a=Math.floor(Math.log(t)/Math.LN2),y()},l.thresholds=function(t){return arguments.length?(s="function"==typeof t?t:co(Array.isArray(t)?uo.call(t):t),l):s},l.bandwidth=function(t){if(!arguments.length)return Math.sqrt(o*(o+1));if(!((t=+t)>=0))throw new Error("invalid bandwidth");return o=Math.round((Math.sqrt(4*t*t+1)-1)/2),y()},l},t.dispatch=I,t.drag=function(){function d(t){t.on("mousedown.drag",p).filter(f).on("touchstart.drag",y).on("touchmove.drag",_).on("touchend.drag touchcancel.drag",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(){if(!i&&o.apply(this,arguments)){var u=m("mouse",a.apply(this,arguments),Ft,this,arguments);u&&(Dt(t.event.view).on("mousemove.drag",v,!0).on("mouseup.drag",g,!0),Xt(t.event.view),Ht(),r=!1,n=t.event.clientX,e=t.event.clientY,u("start"))}}function v(){if(jt(),!r){var i=t.event.clientX-n,o=t.event.clientY-e;r=i*i+o*o>h}c.mouse("drag")}function g(){Dt(t.event.view).on("mousemove.drag mouseup.drag",null),Gt(t.event.view,r),jt(),c.mouse("end")}function y(){if(o.apply(this,arguments)){var n,e,r=t.event.changedTouches,i=a.apply(this,arguments),u=r.length;for(n=0;n<u;++n)(e=m(r[n].identifier,i,It,this,arguments))&&(Ht(),e("start"))}}function _(){var n,e,r=t.event.changedTouches,i=r.length;for(n=0;n<i;++n)(e=c[r[n].identifier])&&(jt(),e("drag"))}function b(){var n,e,r=t.event.changedTouches,o=r.length;for(i&&clearTimeout(i),i=setTimeout(function(){i=null},500),n=0;n<o;++n)(e=c[r[n].identifier])&&(Ht(),e("end"))}function m(n,e,r,i,o){var a,f,h,p=r(e,n),v=s.copy();if(Ct(new $t(d,"beforestart",a,n,l,p[0],p[1],0,0,v),function(){return null!=(t.event.subject=a=u.apply(i,o))&&(f=a.x-p[0]||0,h=a.y-p[1]||0,!0)}))return function t(u){var s,g=p;switch(u){case"start":c[n]=t,s=l++;break;case"end":delete c[n],--l;case"drag":p=r(e,n),s=l}Ct(new $t(d,u,a,n,s,p[0]+f,p[1]+h,p[0]-g[0],p[1]-g[1],v),v.apply,v,[u,i,o])}}var n,e,r,i,o=Wt,a=Zt,u=Qt,f=Jt,c={},s=I("start","drag","end"),l=0,h=0;return d.filter=function(t){return arguments.length?(o="function"==typeof t?t:Vt(!!t),d):o},d.container=function(t){return arguments.length?(a="function"==typeof t?t:Vt(t),d):a},d.subject=function(t){return arguments.length?(u="function"==typeof t?t:Vt(t),d):u},d.touchable=function(t){return arguments.length?(f="function"==typeof t?t:Vt(!!t),d):f},d.on=function(){var t=s.on.apply(s,arguments);return t===s?d:t},d.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,d):Math.sqrt(h)},d},t.dragDisable=Xt,t.dragEnable=Gt,t.dsvFormat=Eo,t.csvParse=Co,t.csvParseRows=Po,t.csvFormat=zo,t.csvFormatRows=Ro,t.tsvParse=Do,t.tsvParseRows=Uo,t.tsvFormat=qo,t.tsvFormatRows=Oo,t.easeLinear=function(t){return+t},t.easeQuad=Dr,t.easeQuadIn=function(t){return t*t},t.easeQuadOut=function(t){return t*(2-t)},t.easeQuadInOut=Dr,t.easeCubic=Ur,t.easeCubicIn=function(t){return t*t*t},t.easeCubicOut=function(t){return--t*t*t+1},t.easeCubicInOut=Ur,t.easePoly=Yr,t.easePolyIn=qr,t.easePolyOut=Or,t.easePolyInOut=Yr,t.easeSin=Ir,t.easeSinIn=function(t){return 1-Math.cos(t*Fr)},t.easeSinOut=function(t){return Math.sin(t*Fr)},t.easeSinInOut=Ir,t.easeExp=Hr,t.easeExpIn=function(t){return Math.pow(2,10*t-10)},t.easeExpOut=function(t){return 1-Math.pow(2,-10*t)},t.easeExpInOut=Hr,t.easeCircle=jr,t.easeCircleIn=function(t){return 1-Math.sqrt(1-t*t)},t.easeCircleOut=function(t){return Math.sqrt(1- --t*t)},t.easeCircleInOut=jr,t.easeBounce=ni,t.easeBounceIn=function(t){return 1-ni(1-t)},t.easeBounceOut=ni,t.easeBounceInOut=function(t){return((t*=2)<=1?1-ni(1-t):ni(t-1)+1)/2},t.easeBack=ii,t.easeBackIn=ei,t.easeBackOut=ri,t.easeBackInOut=ii,t.easeElastic=ui,t.easeElasticIn=ai,t.easeElasticOut=ui,t.easeElasticInOut=fi,t.blob=function(t,n){return fetch(t,n).then(Yo)},t.buffer=function(t,n){return fetch(t,n).then(Bo)},t.dsv=function(t,n,e,r){3===arguments.length&&"function"==typeof e&&(r=e,e=void 0);var i=Eo(t);return Io(n,e).then(function(t){return i.parse(t,r)})},t.csv=jo,t.tsv=Xo,t.image=function(t,n){return new Promise(function(e,r){var i=new Image;for(var o in n)i[o]=n[o];i.onerror=r,i.onload=function(){e(i)},i.src=t})},t.json=function(t,n){return fetch(t,n).then(Go)},t.text=Io,t.xml=$o,t.html=Wo,t.svg=Zo,t.forceCenter=function(t,n){function r(){var r,i,o=e.length,a=0,u=0;for(r=0;r<o;++r)a+=(i=e[r]).x,u+=i.y;for(a=a/o-t,u=u/o-n,r=0;r<o;++r)(i=e[r]).x-=a,i.y-=u}var e;return null==t&&(t=0),null==n&&(n=0),r.initialize=function(t){e=t},r.x=function(n){return arguments.length?(t=+n,r):t},r.y=function(t){return arguments.length?(n=+t,r):n},r},t.forceCollide=function(t){function o(){function p(t,n,e,i,o){var a=t.data,h=t.r,d=s+h;if(!a)return n>f+d||i<f-d||e>c+d||o<c-d;if(a.index>u.index){var p=f-a.x-a.vx,v=c-a.y-a.vy,g=p*p+v*v;g<d*d&&(0===p&&(g+=(p=Jo())*p),0===v&&(g+=(v=Jo())*v),g=(d-(g=Math.sqrt(g)))/g*r,u.vx+=(p*=g)*(d=(h*=h)/(l+h)),u.vy+=(v*=g)*d,a.vx-=p*(d=1-d),a.vy-=v*d)}}for(var t,o,u,f,c,s,l,h=n.length,d=0;d<i;++d)for(o=ra(n,ua,fa).visitAfter(a),t=0;t<h;++t)u=n[t],s=e[u.index],l=s*s,f=u.x+u.vx,c=u.y+u.vy,o.visit(p)}function a(t){if(t.data)return t.r=e[t.data.index];for(var n=t.r=0;n<4;++n)t[n]&&t[n].r>t.r&&(t.r=t[n].r)}function u(){if(n){var r,i,o=n.length;for(e=new Array(o),r=0;r<o;++r)i=n[r],e[i.index]=+t(i,r,n)}}var n,e,r=1,i=1;return"function"!=typeof t&&(t=Qo(null==t?1:+t)),o.initialize=function(t){n=t,u()},o.iterations=function(t){return arguments.length?(i=+t,o):i},o.strength=function(t){return arguments.length?(r=+t,o):r},o.radius=function(n){return arguments.length?(t="function"==typeof n?n:Qo(+n),u(),o):t},o},t.forceLink=function(t){function s(r){for(var i=0,a=t.length;i<c;++i)for(var u,f,s,l,h,d,p,v=0;v<a;++v)f=(u=t[v]).source,l=(s=u.target).x+s.vx-f.x-f.vx||Jo(),h=s.y+s.vy-f.y-f.vy||Jo(),l*=d=((d=Math.sqrt(l*l+h*h))-e[v])/d*r*n[v],h*=d,s.vx-=l*(p=o[v]),s.vy-=h*p,f.vx+=l*(p=1-p),f.vy+=h*p}function l(){if(r){var u,f,c=r.length,s=t.length,l=Ki(r,a);for(u=0,i=new Array(c);u<s;++u)(f=t[u]).index=u,"object"!=typeof f.source&&(f.source=sa(l,f.source)),"object"!=typeof f.target&&(f.target=sa(l,f.target)),i[f.source.index]=(i[f.source.index]||0)+1,i[f.target.index]=(i[f.target.index]||0)+1;for(u=0,o=new Array(s);u<s;++u)f=t[u],o[u]=i[f.source.index]/(i[f.source.index]+i[f.target.index]);n=new Array(s),h(),e=new Array(s),d()}}function h(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+u(t[e],e,t)}function d(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+f(t[n],n,t)}var n,e,r,i,o,a=ca,u=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},f=Qo(30),c=1;return null==t&&(t=[]),s.initialize=function(t){r=t,l()},s.links=function(n){return arguments.length?(t=n,l(),s):t},s.id=function(t){return arguments.length?(a=t,s):a},s.iterations=function(t){return arguments.length?(c=+t,s):c},s.strength=function(t){return arguments.length?(u="function"==typeof t?t:Qo(+t),h(),s):u},s.distance=function(t){return arguments.length?(f="function"==typeof t?t:Qo(+t),d(),s):f},s},t.forceManyBody=function(){function f(r){var i,o=t.length,a=ra(t,la,ha).visitAfter(s);for(e=r,i=0;i<o;++i)n=t[i],a.visit(l)}function c(){if(t){var n,e,o=t.length;for(r=new Array(o),n=0;n<o;++n)e=t[n],r[e.index]=+i(e,n,t)}}function s(t){var n,e,i,o,a,u=0,f=0;if(t.length){for(i=o=a=0;a<4;++a)(n=t[a])&&(e=Math.abs(n.value))&&(u+=n.value,f+=e,i+=e*n.x,o+=e*n.y);t.x=i/f,t.y=o/f}else{(n=t).x=n.data.x,n.y=n.data.y;do u+=r[n.data.index];while(n=n.next)}t.value=u}function l(t,i,f,c){if(!t.value)return!0;var s=t.x-n.x,l=t.y-n.y,h=c-i,d=s*s+l*l;if(h*h/u<d)return d<a&&(0===s&&(d+=(s=Jo())*s),0===l&&(d+=(l=Jo())*l),d<o&&(d=Math.sqrt(o*d)),n.vx+=s*t.value*e/d,n.vy+=l*t.value*e/d),!0;if(!(t.length||d>=a)){(t.data!==n||t.next)&&(0===s&&(d+=(s=Jo())*s),0===l&&(d+=(l=Jo())*l),d<o&&(d=Math.sqrt(o*d)));
do t.data!==n&&(h=r[t.data.index]*e/d,n.vx+=s*h,n.vy+=l*h);while(t=t.next)}}var t,n,e,r,i=Qo(-30),o=1,a=1/0,u=.81;return f.initialize=function(n){t=n,c()},f.strength=function(t){return arguments.length?(i="function"==typeof t?t:Qo(+t),c(),f):i},f.distanceMin=function(t){return arguments.length?(o=t*t,f):Math.sqrt(o)},f.distanceMax=function(t){return arguments.length?(a=t*t,f):Math.sqrt(a)},f.theta=function(t){return arguments.length?(u=t*t,f):Math.sqrt(u)},f},t.forceRadial=function(t,n,e){function u(t){for(var a=0,u=r.length;a<u;++a){var f=r[a],c=f.x-n||1e-6,s=f.y-e||1e-6,l=Math.sqrt(c*c+s*s),h=(o[a]-l)*i[a]*t/l;f.vx+=c*h,f.vy+=s*h}}function f(){if(r){var n,e=r.length;for(i=new Array(e),o=new Array(e),n=0;n<e;++n)o[n]=+t(r[n],n,r),i[n]=isNaN(o[n])?0:+a(r[n],n,r)}}var r,i,o,a=Qo(.1);return"function"!=typeof t&&(t=Qo(+t)),null==n&&(n=0),null==e&&(e=0),u.initialize=function(t){r=t,f()},u.strength=function(t){return arguments.length?(a="function"==typeof t?t:Qo(+t),f(),u):a},u.radius=function(n){return arguments.length?(t="function"==typeof n?n:Qo(+n),f(),u):t},u.x=function(t){return arguments.length?(n=+t,u):n},u.y=function(t){return arguments.length?(e=+t,u):e},u},t.forceSimulation=function(t){function s(){l(),c.call("tick",n),e<r&&(f.stop(),c.call("end",n))}function l(){var n,r,f=t.length;for(e+=(o-e)*i,u.each(function(t){t(e)}),n=0;n<f;++n)null==(r=t[n]).fx?r.x+=r.vx*=a:(r.x=r.fx,r.vx=0),null==r.fy?r.y+=r.vy*=a:(r.y=r.fy,r.vy=0)}function h(){for(var n,e=0,r=t.length;e<r;++e){if((n=t[e]).index=e,isNaN(n.x)||isNaN(n.y)){var i=da*Math.sqrt(e),o=e*pa;n.x=i*Math.cos(o),n.y=i*Math.sin(o)}(isNaN(n.vx)||isNaN(n.vy))&&(n.vx=n.vy=0)}}function d(n){return n.initialize&&n.initialize(t),n}var n,e=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,u=Ki(),f=ur(s),c=I("tick","end");return null==t&&(t=[]),h(),n={tick:l,restart:function(){return f.restart(s),n},stop:function(){return f.stop(),n},nodes:function(e){return arguments.length?(t=e,h(),u.each(d),n):t},alpha:function(t){return arguments.length?(e=+t,n):e},alphaMin:function(t){return arguments.length?(r=+t,n):r},alphaDecay:function(t){return arguments.length?(i=+t,n):+i},alphaTarget:function(t){return arguments.length?(o=+t,n):o},velocityDecay:function(t){return arguments.length?(a=1-t,n):1-a},force:function(t,e){return arguments.length>1?(null==e?u.remove(t):u.set(t,d(e)),n):u.get(t)},find:function(n,e,r){var i,o,a,u,f,c=0,s=t.length;for(null==r?r=1/0:r*=r,c=0;c<s;++c)(a=(i=n-(u=t[c]).x)*i+(o=e-u.y)*o)<r&&(f=u,r=a);return f},on:function(t,e){return arguments.length>1?(c.on(t,e),n):c.on(t)}}},t.forceX=function(t){function o(t){for(var i,o=0,a=n.length;o<a;++o)(i=n[o]).vx+=(r[o]-i.x)*e[o]*t}function a(){if(n){var o,a=n.length;for(e=new Array(a),r=new Array(a),o=0;o<a;++o)e[o]=isNaN(r[o]=+t(n[o],o,n))?0:+i(n[o],o,n)}}var n,e,r,i=Qo(.1);return"function"!=typeof t&&(t=Qo(null==t?0:+t)),o.initialize=function(t){n=t,a()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:Qo(+t),a(),o):i},o.x=function(n){return arguments.length?(t="function"==typeof n?n:Qo(+n),a(),o):t},o},t.forceY=function(t){function o(t){for(var i,o=0,a=n.length;o<a;++o)(i=n[o]).vy+=(r[o]-i.y)*e[o]*t}function a(){if(n){var o,a=n.length;for(e=new Array(a),r=new Array(a),o=0;o<a;++o)e[o]=isNaN(r[o]=+t(n[o],o,n))?0:+i(n[o],o,n)}}var n,e,r,i=Qo(.1);return"function"!=typeof t&&(t=Qo(null==t?0:+t)),o.initialize=function(t){n=t,a()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:Qo(+t),a(),o):i},o.y=function(n){return arguments.length?(t="function"==typeof n?n:Qo(+n),a(),o):t},o},t.formatDefaultLocale=Sa,t.formatLocale=Na,t.formatSpecifier=ba,t.precisionFixed=Ea,t.precisionPrefix=ka,t.precisionRound=Ca,t.geoArea=function(t){return yu.reset(),su(t,_u),2*yu},t.geoBounds=function(t){var n,e,r,i,o,a,u;if(Ru=zu=-(Cu=Pu=1/0),Ou=[],su(t,rf),e=Ou.length){for(Ou.sort(df),n=1,o=[r=Ou[0]];n<e;++n)pf(r,(i=Ou[n])[0])||pf(r,i[1])?(hf(r[0],i[1])>hf(r[0],r[1])&&(r[1]=i[1]),hf(i[0],r[1])>hf(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,n=0,r=o[e=o.length-1];n<=e;r=i,++n)i=o[n],(u=hf(r[1],i[0]))>a&&(a=u,Cu=i[0],zu=r[1])}return Ou=Yu=null,Cu===1/0||Pu===1/0?[[NaN,NaN],[NaN,NaN]]:[[Cu,Pu],[zu,Ru]]},t.geoCentroid=function(t){Bu=Fu=Iu=Hu=ju=Xu=Gu=Vu=$u=Wu=Zu=0,su(t,vf);var n=$u,e=Wu,r=Zu,i=n*n+e*e+r*r;return i<Ua&&(n=Xu,e=Gu,r=Vu,Fu<Da&&(n=Iu,e=Hu,r=ju),(i=n*n+e*e+r*r)<Ua)?[NaN,NaN]:[Xa(e,n)*Fa,eu(r/Ka(i))*Fa]},t.geoCircle=function(){function a(){var a=e.apply(this,arguments),u=r.apply(this,arguments)*Ia,f=i.apply(this,arguments)*Ia;return t=[],n=kf(-a[0]*Ia,-a[1]*Ia,0).invert,Lf(o,u,f,1),a={type:"Polygon",coordinates:[t]},t=n=null,a}var t,n,e=Nf([0,0]),r=Nf(90),i=Nf(6),o={point:function(e,r){t.push(e=n(e,r)),e[0]*=Fa,e[1]*=Fa}};return a.center=function(t){return arguments.length?(e="function"==typeof t?t:Nf([+t[0],+t[1]]),a):e},a.radius=function(t){return arguments.length?(r="function"==typeof t?t:Nf(+t),a):r},a.precision=function(t){return arguments.length?(i="function"==typeof t?t:Nf(+t),a):i},a},t.geoClipAntimeridian=Gf,t.geoClipCircle=Vf,t.geoClipExtent=function(){var t,n,e,r=0,i=0,o=960,a=500;return e={stream:function(e){return t&&n===e?t:t=Zf(r,i,o,a)(n=e)},extent:function(u){return arguments.length?(r=+u[0][0],i=+u[0][1],o=+u[1][0],a=+u[1][1],t=n=null,e):[[r,i],[o,a]]}}},t.geoClipRectangle=Zf,t.geoContains=function(t,n){return(t&&cc.hasOwnProperty(t.type)?cc[t.type]:lc)(t,n)},t.geoDistance=fc,t.geoGraticule=bc,t.geoGraticule10=function(){return bc()()},t.geoInterpolate=function(t,n){var e=t[0]*Ia,r=t[1]*Ia,i=n[0]*Ia,o=n[1]*Ia,a=Ga(r),u=Qa(r),f=Ga(o),c=Qa(o),s=a*Ga(e),l=a*Qa(e),h=f*Ga(i),d=f*Qa(i),p=2*eu(Ka(ru(o-r)+a*f*ru(i-e))),v=Qa(p),g=p?function(t){var n=Qa(t*=p)/v,e=Qa(p-t)/v,r=e*s+n*h,i=e*l+n*d,o=e*u+n*c;return[Xa(i,r)*Fa,Xa(o,Ka(r*r+i*i))*Fa]}:function(){return[e*Fa,r*Fa]};return g.distance=p,g},t.geoLength=oc,t.geoPath=function(t,n){function o(t){return t&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),su(t,e(r))),r.result()}var e,r,i=4.5;return o.area=function(t){return su(t,e(Sc)),Sc.result()},o.measure=function(t){return su(t,e(ds)),ds.result()},o.bounds=function(t){return su(t,e(Uc)),Uc.result()},o.centroid=function(t){return su(t,e(Zc)),Zc.result()},o.projection=function(n){return arguments.length?(e=null==n?(t=null,mc):(t=n).stream,o):t},o.context=function(t){return arguments.length?(r=null==t?(n=null,new gs):new as(n=t),"function"!=typeof i&&r.pointRadius(i),o):n},o.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(r.pointRadius(+t),+t),o):i},o.projection(t).context(n)},t.geoAlbers=Ds,t.geoAlbersUsa=function(){function s(t){var n=t[0],a=t[1];return o=null,e.point(n,a),o||(r.point(n,a),o)||(i.point(n,a),o)}function l(){return t=n=null,s}var t,n,e,r,i,o,a=Ds(),u=Ls().rotate([154,0]).center([-2,58.5]).parallels([55,65]),f=Ls().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(t,n){o=[t,n]}};return s.invert=function(t){var n=a.scale(),e=a.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?u:i>=.166&&i<.234&&r>=-.214&&r<-.115?f:a).invert(t)},s.stream=function(e){return t&&n===e?t:(r=[a.stream(n=e),u.stream(e),f.stream(e)],i=r.length,t={point:function(t,n){for(var e=-1;++e<i;)r[e].point(t,n)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},s.precision=function(t){return arguments.length?(a.precision(t),u.precision(t),f.precision(t),l()):a.precision()},s.scale=function(t){return arguments.length?(a.scale(t),u.scale(.35*t),f.scale(t),s.translate(a.translate())):a.scale()},s.translate=function(t){if(!arguments.length)return a.translate();var n=a.scale(),o=+t[0],s=+t[1];return e=a.translate(t).clipExtent([[o-.455*n,s-.238*n],[o+.455*n,s+.238*n]]).stream(c),r=u.translate([o-.307*n,s+.201*n]).clipExtent([[o-.425*n+Da,s+.12*n+Da],[o-.214*n-Da,s+.234*n-Da]]).stream(c),i=f.translate([o-.205*n,s+.212*n]).clipExtent([[o-.214*n+Da,s+.166*n+Da],[o-.115*n-Da,s+.234*n-Da]]).stream(c),l()},s.fitExtent=function(t,n){return xs(s,t,n)},s.fitSize=function(t,n){return ws(s,t,n)},s.fitWidth=function(t,n){return Ms(s,t,n)},s.fitHeight=function(t,n){return As(s,t,n)},s.scale(1070)},t.geoAzimuthalEqualArea=function(){return Cs(Os).scale(124.75).clipAngle(179.999)},t.geoAzimuthalEqualAreaRaw=Os,t.geoAzimuthalEquidistant=function(){return Cs(Ys).scale(79.4188).clipAngle(179.999)},t.geoAzimuthalEquidistantRaw=Ys,t.geoConicConformal=function(){return zs(Hs).scale(109.5).parallels([30,30])},t.geoConicConformalRaw=Hs,t.geoConicEqualArea=Ls,t.geoConicEqualAreaRaw=Rs,t.geoConicEquidistant=function(){return zs(Xs).scale(131.154).center([0,13.9389])},t.geoConicEquidistantRaw=Xs,t.geoEqualEarth=function(){return Cs(Qs).scale(177.158)},t.geoEqualEarthRaw=Qs,t.geoEquirectangular=function(){return Cs(js).scale(152.63)},t.geoEquirectangularRaw=js,t.geoGnomonic=function(){return Cs(Js).scale(144.049).clipAngle(60)},t.geoGnomonicRaw=Js,t.geoIdentity=function(){function p(){return r=i=null,o}var t,n,e,r,i,o,a=1,u=0,f=0,c=1,s=1,l=mc,h=null,d=mc;return o={stream:function(t){return r&&i===t?r:r=l(d(i=t))},postclip:function(r){return arguments.length?(d=r,h=t=n=e=null,p()):d},clipExtent:function(r){return arguments.length?(d=null==r?(h=t=n=e=null,mc):Zf(h=+r[0][0],t=+r[0][1],n=+r[1][0],e=+r[1][1]),p()):null==h?null:[[h,t],[n,e]]},scale:function(t){return arguments.length?(l=Ks((a=+t)*c,a*s,u,f),p()):a},translate:function(t){return arguments.length?(l=Ks(a*c,a*s,u=+t[0],f=+t[1]),p()):[u,f]},reflectX:function(t){return arguments.length?(l=Ks(a*(c=t?-1:1),a*s,u,f),p()):c<0},reflectY:function(t){return arguments.length?(l=Ks(a*c,a*(s=t?-1:1),u,f),p()):s<0},fitExtent:function(t,n){return xs(o,t,n)},fitSize:function(t,n){return ws(o,t,n)},fitWidth:function(t,n){return Ms(o,t,n)},fitHeight:function(t,n){return As(o,t,n)}}},t.geoProjection=Cs,t.geoProjectionMutator=Ps,t.geoMercator=function(){return Fs(Bs).scale(961/Ba)},t.geoMercatorRaw=Bs,t.geoNaturalEarth1=function(){return Cs(tl).scale(175.295)},t.geoNaturalEarth1Raw=tl,t.geoOrthographic=function(){return Cs(nl).scale(249.5).clipAngle(90+Da)},t.geoOrthographicRaw=nl,t.geoStereographic=function(){return Cs(el).scale(250).clipAngle(142)},t.geoStereographicRaw=el,t.geoTransverseMercator=function(){var t=Fs(rl),n=t.center,e=t.rotate;return t.center=function(t){return arguments.length?n([-t[1],t[0]]):[(t=n())[1],-t[0]]},t.rotate=function(t){return arguments.length?e([t[0],t[1],t.length>2?t[2]+90:90]):[(t=e())[0],t[1],t[2]-90]},e([0,0,90]).scale(159.155)},t.geoTransverseMercatorRaw=rl,t.geoRotation=Rf,t.geoStream=su,t.geoTransform=function(t){return{stream:_s(t)}},t.cluster=function(){function i(i){var o,a=0;i.eachAfter(function(n){var e=n.children;e?(n.x=function(t){return t.reduce(ol,0)/t.length}(e),n.y=function(t){return 1+t.reduce(al,0)}(e)):(n.x=o?a+=t(n,o):0,n.y=0,o=n)});var u=function(t){for(var n;n=t.children;)t=n[0];return t}(i),f=function(t){for(var n;n=t.children;)t=n[n.length-1];return t}(i),c=u.x-t(u,f)/2,s=f.x+t(f,u)/2;return i.eachAfter(r?function(t){t.x=(t.x-i.x)*n,t.y=(i.y-t.y)*e}:function(t){t.x=(t.x-c)/(s-c)*n,t.y=(1-(i.y?t.y/i.y:1))*e})}var t=il,n=1,e=1,r=!1;return i.separation=function(n){return arguments.length?(t=n,i):t},i.size=function(t){return arguments.length?(r=!1,n=+t[0],e=+t[1],i):r?null:[n,e]},i.nodeSize=function(t){return arguments.length?(r=!0,n=+t[0],e=+t[1],i):r?[n,e]:null},i},t.hierarchy=fl,t.pack=function(){function i(i){return i.x=n/2,i.y=e/2,t?i.eachBefore(Pl(t)).eachAfter(zl(r,.5)).eachBefore(Rl(1)):i.eachBefore(Pl(Cl)).eachAfter(zl(El,1)).eachAfter(zl(r,i.r/Math.min(n,e))).eachBefore(Rl(Math.min(n,e)/(2*i.r))),i}var t=null,n=1,e=1,r=El;return i.radius=function(n){return arguments.length?(t=null==(e=n)?null:Sl(e),i):t;var e},i.size=function(t){return arguments.length?(n=+t[0],e=+t[1],i):[n,e]},i.padding=function(t){return arguments.length?(r="function"==typeof t?t:kl(+t),i):r},i},t.packSiblings=function(t){return Nl(t),t},t.packEnclose=pl,t.partition=function(){function i(i){var o=i.height+1;return i.x0=i.y0=e,i.x1=t,i.y1=n/o,i.eachBefore(function(t,n){return function(r){r.children&&Dl(r,r.x0,t*(r.depth+1)/n,r.x1,t*(r.depth+2)/n);var i=r.x0,o=r.y0,a=r.x1-e,u=r.y1-e;a<i&&(i=a=(i+a)/2),u<o&&(o=u=(o+u)/2),r.x0=i,r.y0=o,r.x1=a,r.y1=u}}(n,o)),r&&i.eachBefore(Ll),i}var t=1,n=1,e=0,r=!1;return i.round=function(t){return arguments.length?(r=!!t,i):r},i.size=function(e){return arguments.length?(t=+e[0],n=+e[1],i):[t,n]},i.padding=function(t){return arguments.length?(e=+t,i):e},i},t.stratify=function(){function e(e){var r,i,o,a,u,f,c,s=e.length,l=new Array(s),h={};for(i=0;i<s;++i)r=e[i],u=l[i]=new hl(r),null!=(f=t(r,i,e))&&(f+="")&&(h[c=Ul+(u.id=f)]=c in h?Ol:u);for(i=0;i<s;++i)if(u=l[i],null!=(f=n(e[i],i,e))&&(f+="")){if(!(a=h[Ul+f]))throw new Error("missing: "+f);if(a===Ol)throw new Error("ambiguous: "+f);a.children?a.children.push(u):a.children=[u],u.parent=a}else{if(o)throw new Error("multiple roots");o=u}if(!o)throw new Error("no root");if(o.parent=ql,o.eachBefore(function(t){t.depth=t.parent.depth+1,--s}).eachBefore(ll),o.parent=null,s>0)throw new Error("cycle");return o}var t=Yl,n=Bl;return e.id=function(n){return arguments.length?(t=Sl(n),e):t},e.parentId=function(t){return arguments.length?(n=Sl(t),e):n},e},t.tree=function(){function i(i){var f=function(t){for(var n,e,r,i,o,a=new Gl(t,0),u=[a];n=u.pop();)if(r=n._.children)for(n.children=new Array(o=r.length),i=o-1;i>=0;--i)u.push(e=n.children[i]=new Gl(r[i],i)),e.parent=n;return(a.parent=new Gl(null,0)).children=[a],a}(i);if(f.eachAfter(o),f.parent.m=-f.z,f.eachBefore(a),r)i.eachBefore(u);else{var c=i,s=i,l=i;i.eachBefore(function(t){t.x<c.x&&(c=t),t.x>s.x&&(s=t),t.depth>l.depth&&(l=t)});var h=c===s?1:t(c,s)/2,d=h-c.x,p=n/(s.x+h+d),v=e/(l.depth||1);i.eachBefore(function(t){t.x=(t.x+d)*p,t.y=t.depth*v})}return i}function o(n){var e=n.children,r=n.parent.children,i=n.i?r[n.i-1]:null;if(e){!function(t){for(var n,e=0,r=0,i=t.children,o=i.length;--o>=0;)(n=i[o]).z+=e,n.m+=e,e+=n.s+(r+=n.c)}(n);var o=(e[0].z+e[e.length-1].z)/2;i?(n.z=i.z+t(n._,i._),n.m=n.z-o):n.z=o}else i&&(n.z=i.z+t(n._,i._));n.parent.A=function(n,e,r){if(e){for(var i,o=n,a=n,u=e,f=o.parent.children[0],c=o.m,s=a.m,l=u.m,h=f.m;u=Hl(u),o=Il(o),u&&o;)f=Il(f),(a=Hl(a)).a=n,(i=u.z+l-o.z-c+t(u._,o._))>0&&(jl(Xl(u,n,r),n,i),c+=i,s+=i),l+=u.m,c+=o.m,h+=f.m,s+=a.m;u&&!Hl(a)&&(a.t=u,a.m+=l-s),o&&!Il(f)&&(f.t=o,f.m+=c-h,r=n)}return r}(n,i,n.parent.A||r[0])}function a(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function u(t){t.x*=n,t.y=t.depth*e}var t=Fl,n=1,e=1,r=null;return i.separation=function(n){return arguments.length?(t=n,i):t},i.size=function(t){return arguments.length?(r=!1,n=+t[0],e=+t[1],i):r?null:[n,e]},i.nodeSize=function(t){return arguments.length?(r=!0,n=+t[0],e=+t[1],i):r?[n,e]:null},i},t.treemap=function(){function s(t){return t.x0=t.y0=0,t.x1=e,t.y1=r,t.eachBefore(l),i=[0],n&&t.eachBefore(Ll),t}function l(n){var e=i[n.depth],r=n.x0+e,s=n.y0+e,l=n.x1-e,h=n.y1-e;l<r&&(r=l=(r+l)/2),h<s&&(s=h=(s+h)/2),n.x0=r,n.y0=s,n.x1=l,n.y1=h,n.children&&(e=i[n.depth+1]=o(n)/2,r+=c(n)-e,s+=a(n)-e,(l-=u(n)-e)<r&&(r=l=(r+l)/2),(h-=f(n)-e)<s&&(s=h=(s+h)/2),t(n,r,s,l,h))}var t=Zl,n=!1,e=1,r=1,i=[0],o=El,a=El,u=El,f=El,c=El;return s.round=function(t){return arguments.length?(n=!!t,s):n},s.size=function(t){return arguments.length?(e=+t[0],r=+t[1],s):[e,r]},s.tile=function(n){return arguments.length?(t=Sl(n),s):t},s.padding=function(t){return arguments.length?s.paddingInner(t).paddingOuter(t):s.paddingInner()},s.paddingInner=function(t){return arguments.length?(o="function"==typeof t?t:kl(+t),s):o},s.paddingOuter=function(t){return arguments.length?s.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):s.paddingTop()},s.paddingTop=function(t){return arguments.length?(a="function"==typeof t?t:kl(+t),s):a},s.paddingRight=function(t){return arguments.length?(u="function"==typeof t?t:kl(+t),s):u},s.paddingBottom=function(t){return arguments.length?(f="function"==typeof t?t:kl(+t),s):f},s.paddingLeft=function(t){return arguments.length?(c="function"==typeof t?t:kl(+t),s):c},s},t.treemapBinary=function(t,n,e,r,i){var o,a,u=t.children,f=u.length,c=new Array(f+1);for(c[0]=a=o=0;o<f;++o)c[o+1]=a+=u[o].value;!function t(n,e,r,i,o,a,f){if(n>=e-1){var s=u[n];return s.x0=i,s.y0=o,s.x1=a,void(s.y1=f)}for(var l=c[n],h=r/2+l,d=n+1,p=e-1;d<p;){var v=d+p>>>1;c[v]<h?d=v+1:p=v}h-c[d-1]<c[d]-h&&n+1<d&&--d;var g=c[d]-l,y=r-g;if(a-i>f-o){var _=(i*y+a*g)/r;t(n,d,g,i,o,_,f),t(d,e,y,_,o,a,f)}else{var b=(o*y+f*g)/r;t(n,d,g,i,o,a,b),t(d,e,y,i,b,a,f)}}(0,f,t.value,n,e,r,i)},t.treemapDice=Dl,t.treemapSlice=Vl,t.treemapSliceDice=function(t,n,e,r,i){(1&t.depth?Vl:Dl)(t,n,e,r,i)},t.treemapSquarify=Zl,t.treemapResquarify=Ql,t.interpolate=me,t.interpolateArray=de,t.interpolateBasis=ee,t.interpolateBasisClosed=re,t.interpolateDate=pe,t.interpolateDiscrete=function(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}},t.interpolateHue=function(t,n){var e=ae(+t,+n);return function(t){var n=e(t);return n-360*Math.floor(n/360)}},t.interpolateNumber=ve,t.interpolateObject=ge,t.interpolateRound=xe,t.interpolateString=be,t.interpolateTransformCss=Ce,t.interpolateTransformSvg=Pe,t.interpolateZoom=qe,t.interpolateRgb=ce,t.interpolateRgbBasis=le,t.interpolateRgbBasisClosed=he,t.interpolateHsl=Ye,t.interpolateHslLong=Be,t.interpolateLab=function(t,n){var e=fe((t=Un(t)).l,(n=Un(n)).l),r=fe(t.a,n.a),i=fe(t.b,n.b),o=fe(t.opacity,n.opacity);return function(n){return t.l=e(n),t.a=r(n),t.b=i(n),t.opacity=o(n),t+""}},t.interpolateHcl=Ie,t.interpolateHclLong=He,t.interpolateCubehelix=Xe,t.interpolateCubehelixLong=Ge,t.piecewise=function(t,n){for(var e=0,r=n.length-1,i=n[0],o=new Array(r<0?0:r);e<r;)o[e]=t(i,i=n[++e]);return function(t){var n=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[n](t-n)}},t.quantize=function(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e},t.path=Gi,t.polygonArea=function(t){for(var n,e=-1,r=t.length,i=t[r-1],o=0;++e<r;)n=i,i=t[e],o+=n[1]*i[0]-n[0]*i[1];return o/2},t.polygonCentroid=function(t){for(var n,e,r=-1,i=t.length,o=0,a=0,u=t[i-1],f=0;++r<i;)n=u,u=t[r],f+=e=n[0]*u[1]-u[0]*n[1],o+=(n[0]+u[0])*e,a+=(n[1]+u[1])*e;return[o/(f*=3),a/f]},t.polygonHull=function(t){if((e=t.length)<3)return null;var n,e,r=new Array(e),i=new Array(e);for(n=0;n<e;++n)r[n]=[+t[n][0],+t[n][1],n];for(r.sort(Jl),n=0;n<e;++n)i[n]=[r[n][0],-r[n][1]];var o=Kl(r),a=Kl(i),u=a[0]===o[0],f=a[a.length-1]===o[o.length-1],c=[];for(n=o.length-1;n>=0;--n)c.push(t[r[o[n]][2]]);for(n=+u;n<a.length-f;++n)c.push(t[r[a[n]][2]]);return c},t.polygonContains=function(t,n){for(var e,r,i=t.length,o=t[i-1],a=n[0],u=n[1],f=o[0],c=o[1],s=!1,l=0;l<i;++l)e=(o=t[l])[0],(r=o[1])>u!=c>u&&a<(f-e)*(u-r)/(c-r)+e&&(s=!s),f=e,c=r;return s},t.polygonLength=function(t){for(var n,e,r=-1,i=t.length,o=t[i-1],a=o[0],u=o[1],f=0;++r<i;)n=a,e=u,n-=a=(o=t[r])[0],e-=u=o[1],f+=Math.sqrt(n*n+e*e);return f},t.quadtree=ra,t.randomUniform=nh,t.randomNormal=eh,t.randomLogNormal=rh,t.randomBates=oh,t.randomIrwinHall=ih,t.randomExponential=ah,t.scaleBand=hh,t.scalePoint=function(){return function t(n){var e=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return t(e())},n}(hh().paddingInner(1))},t.scaleIdentity=function t(){function e(t){return+t}var n=[0,1];return e.invert=e,e.domain=e.range=function(t){return arguments.length?(n=fh.call(t,ph),e):n.slice()},e.copy=function(){return t().domain(n)},xh(e)},t.scaleLinear=function t(){var n=mh(gh,ve);return n.copy=function(){return bh(n,t())},xh(n)},t.scaleLog=function n(){function u(){return o=Sh(i),a=Nh(i),r()[0]<0&&(o=Eh(o),a=Eh(a)),e}var e=mh(Mh,Ah).domain([1,10]),r=e.domain,i=10,o=Sh(10),a=Nh(10);return e.base=function(t){return arguments.length?(i=+t,u()):i},e.domain=function(t){return arguments.length?(r(t),u()):r()},e.ticks=function(t){var n,e=r(),u=e[0],f=e[e.length-1];(n=f<u)&&(h=u,u=f,f=h);var c,s,l,h=o(u),d=o(f),p=null==t?10:+t,v=[];if(!(i%1)&&d-h<p){if(h=Math.round(h)-1,d=Math.round(d)+1,u>0){for(;h<d;++h)for(s=1,c=a(h);s<i;++s)if(!((l=c*s)<u)){if(l>f)break;v.push(l)}}else for(;h<d;++h)for(s=i-1,c=a(h);s>=1;--s)if(!((l=c*s)<u)){if(l>f)break;v.push(l)}}else v=m(h,d,Math.min(d-h,p)).map(a);return n?v.reverse():v},e.tickFormat=function(n,r){if(null==r&&(r=10===i?".0e":","),"function"!=typeof r&&(r=t.format(r)),n===1/0)return r;null==n&&(n=10);var u=Math.max(1,i*n/e.ticks().length);return function(t){var n=t/a(Math.round(o(t)));return n*i<i-.5&&(n*=i),n<=u?r(t):""}},e.nice=function(){return r(wh(r(),{floor:function(t){return a(Math.floor(o(t)))},ceil:function(t){return a(Math.ceil(o(t)))}}))},e.copy=function(){return bh(e,n().base(i))},e},t.scaleOrdinal=lh,t.scaleImplicit=sh,t.scalePow=Ch,t.scaleSqrt=function(){return Ch().exponent(.5)},t.scaleQuantile=function t(){function a(){var t=0,n=Math.max(1,r.length);for(o=new Array(n-1);++t<n;)o[t-1]=A(e,t/n);return u}function u(t){if(!isNaN(t=+t))return r[i(o,t)]}var e=[],r=[],o=[];return u.invertExtent=function(t){var n=r.indexOf(t);return n<0?[NaN,NaN]:[n>0?o[n-1]:e[0],n<o.length?o[n]:e[e.length-1]]},u.domain=function(t){if(!arguments.length)return e.slice();e=[];for(var r,i=0,o=t.length;i<o;++i)null==(r=t[i])||isNaN(r=+r)||e.push(r);return e.sort(n),a()},u.range=function(t){return arguments.length?(r=ch.call(t),a()):r.slice()},u.quantiles=function(){return o.slice()},u.copy=function(){return t().domain(e).range(r)},u},t.scaleQuantize=function t(){function u(t){if(t<=t)return a[i(o,t,0,r)]}function f(){var t=-1;for(o=new Array(r);++t<r;)o[t]=((t+1)*e-(t-r)*n)/(r+1);return u}var n=0,e=1,r=1,o=[.5],a=[0,1];return u.domain=function(t){return arguments.length?(n=+t[0],e=+t[1],f()):[n,e]},u.range=function(t){return arguments.length?(r=(a=ch.call(t)).length-1,f()):a.slice()},u.invertExtent=function(t){var i=a.indexOf(t);return i<0?[NaN,NaN]:i<1?[n,o[0]]:i>=r?[o[r-1],e]:[o[i-1],o[i]]},u.copy=function(){return t().domain([n,e]).range(a)},xh(u)},t.scaleThreshold=function t(){function o(t){if(t<=t)return e[i(n,t,0,r)]}var n=[.5],e=[0,1],r=1;return o.domain=function(t){return arguments.length?(n=ch.call(t),r=Math.min(n.length,e.length-1),o):n.slice()},o.range=function(t){return arguments.length?(e=ch.call(t),r=Math.min(n.length,e.length-1),o):e.slice()},o.invertExtent=function(t){var r=e.indexOf(t);return[n[r-1],n[r]]},o.copy=function(){return t().domain(n).range(e)},o},t.scaleTime=function(){return cv(cd,ud,Vh,jh,Ih,Bh,Oh,Lh,t.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},t.scaleUtc=function(){return cv(Ld,zd,_d,vd,dd,ld,Oh,Lh,t.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},t.scaleSequential=function t(n){function a(t){var r=(t-e)*i;return n(o?Math.max(0,Math.min(1,r)):r)}var e=0,r=1,i=1,o=!1;return a.domain=function(t){return arguments.length?(e=+t[0],r=+t[1],i=e===r?0:1/(r-e),a):[e,r]},a.clamp=function(t){return arguments.length?(o=!!t,a):o},a.interpolator=function(t){return arguments.length?(n=t,a):n},a.copy=function(){return t(n).domain([e,r]).clamp(o)},xh(a)},t.scaleDiverging=function t(n){function f(t){var e=.5+((t=+t)-r)*(t<r?o:a);return n(u?Math.max(0,Math.min(1,e)):e)}var e=0,r=.5,i=1,o=1,a=1,u=!1;return f.domain=function(t){return arguments.length?(e=+t[0],r=+t[1],i=+t[2],o=e===r?0:.5/(r-e),a=r===i?0:.5/(i-r),f):[e,r,i]},f.clamp=function(t){return arguments.length?(u=!!t,f):u},f.interpolator=function(t){return arguments.length?(n=t,f):n},f.copy=function(){return t(n).domain([e,r,i]).clamp(u)},xh(f)},t.schemeCategory10=lv,t.schemeAccent=hv,t.schemeDark2=dv,t.schemePaired=pv,t.schemePastel1=vv,t.schemePastel2=gv,t.schemeSet1=yv,t.schemeSet2=_v,t.schemeSet3=bv,t.interpolateBrBG=wv,t.schemeBrBG=xv,t.interpolatePRGn=Av,t.schemePRGn=Mv,t.interpolatePiYG=Nv,t.schemePiYG=Tv,t.interpolatePuOr=Ev,t.schemePuOr=Sv,t.interpolateRdBu=Cv,t.schemeRdBu=kv,t.interpolateRdGy=zv,t.schemeRdGy=Pv,t.interpolateRdYlBu=Lv,t.schemeRdYlBu=Rv,t.interpolateRdYlGn=Uv,t.schemeRdYlGn=Dv,t.interpolateSpectral=Ov,t.schemeSpectral=qv,t.interpolateBuGn=Bv,t.schemeBuGn=Yv,t.interpolateBuPu=Iv,t.schemeBuPu=Fv,t.interpolateGnBu=jv,t.schemeGnBu=Hv,t.interpolateOrRd=Gv,t.schemeOrRd=Xv,t.interpolatePuBuGn=$v,t.schemePuBuGn=Vv,t.interpolatePuBu=Zv,t.schemePuBu=Wv,t.interpolatePuRd=Jv,t.schemePuRd=Qv,t.interpolateRdPu=tg,t.schemeRdPu=Kv,t.interpolateYlGnBu=eg,t.schemeYlGnBu=ng,t.interpolateYlGn=ig,t.schemeYlGn=rg,t.interpolateYlOrBr=ag,t.schemeYlOrBr=og,t.interpolateYlOrRd=fg,t.schemeYlOrRd=ug,t.interpolateBlues=sg,t.schemeBlues=cg,t.interpolateGreens=hg,t.schemeGreens=lg,t.interpolateGreys=pg,t.schemeGreys=dg,t.interpolatePurples=gg,t.schemePurples=vg,t.interpolateReds=_g,t.schemeReds=yg,t.interpolateOranges=mg,t.schemeOranges=bg,t.interpolateCubehelixDefault=xg,t.interpolateRainbow=function(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return Ag.h=360*t-100,Ag.s=1.5-1.5*n,Ag.l=.8-.9*n,Ag+""},t.interpolateWarm=wg,t.interpolateCool=Mg,t.interpolateSinebow=function(t){var n;return t=(.5-t)*Math.PI,Tg.r=255*(n=Math.sin(t))*n,Tg.g=255*(n=Math.sin(t+Ng))*n,Tg.b=255*(n=Math.sin(t+Sg))*n,Tg+""},t.interpolateViridis=kg,t.interpolateMagma=Cg,t.interpolateInferno=Pg,t.interpolatePlasma=zg,t.create=function(t){return Dt(W(t).call(document.documentElement))},t.creator=W,t.local=qt,t.matcher=rt,t.mouse=Ft,t.namespace=$,t.namespaces=V,t.clientPoint=Bt,t.select=Dt,t.selectAll=function(t){return"string"==typeof t?new Rt([document.querySelectorAll(t)],[document.documentElement]):new Rt([null==t?[]:t],zt)},t.selection=Lt,t.selector=Q,t.selectorAll=K,t.style=lt,t.touch=It,t.touches=function(t,n){null==n&&(n=Yt().touches);for(var e=0,r=n?n.length:0,i=new Array(r);e<r;++e)i[e]=Bt(t,n[e]);return i},t.window=st,t.customEvent=Ct,t.arc=function(){function f(){var f,c,s,l=+t.apply(this,arguments),h=+n.apply(this,arguments),d=i.apply(this,arguments)-Hg,p=o.apply(this,arguments)-Hg,v=Lg(p-d),g=p>d;if(u||(u=f=Gi()),h<l&&(c=h,h=l,l=c),h>Fg)if(v>jg-Fg)u.moveTo(h*Ug(d),h*Yg(d)),u.arc(0,0,h,d,p,!g),l>Fg&&(u.moveTo(l*Ug(p),l*Yg(p)),u.arc(0,0,l,p,d,g));else{var y,_,b=d,m=p,x=d,w=p,M=v,A=v,T=a.apply(this,arguments)/2,N=T>Fg&&(r?+r.apply(this,arguments):Bg(l*l+h*h)),S=Og(Lg(h-l)/2,+e.apply(this,arguments)),E=S,k=S;if(N>Fg){var C=Xg(N/l*Yg(T)),P=Xg(N/h*Yg(T));(M-=2*C)>Fg?(x+=C*=g?1:-1,w-=C):(M=0,x=w=(d+p)/2),(A-=2*P)>Fg?(b+=P*=g?1:-1,m-=P):(A=0,b=m=(d+p)/2)}var z=h*Ug(b),R=h*Yg(b),L=l*Ug(w),D=l*Yg(w);if(S>Fg){var U=h*Ug(m),q=h*Yg(m),O=l*Ug(x),Y=l*Yg(x);if(v<Ig){var B=M>Fg?function(t,n,e,r,i,o,a,u){var f=e-t,c=r-n,s=a-i,l=u-o,h=(s*(n-o)-l*(t-i))/(l*f-s*c);return[t+h*f,n+h*c]}(z,R,O,Y,U,q,L,D):[L,D],F=z-B[0],I=R-B[1],H=U-B[0],j=q-B[1],X=1/Yg(((s=(F*H+I*j)/(Bg(F*F+I*I)*Bg(H*H+j*j)))>1?0:s<-1?Ig:Math.acos(s))/2),G=Bg(B[0]*B[0]+B[1]*B[1]);E=Og(S,(l-G)/(X-1)),k=Og(S,(h-G)/(X+1))}}A>Fg?k>Fg?(y=Qg(O,Y,z,R,h,k,g),_=Qg(U,q,L,D,h,k,g),u.moveTo(y.cx+y.x01,y.cy+y.y01),k<S?u.arc(y.cx,y.cy,k,Dg(y.y01,y.x01),Dg(_.y01,_.x01),!g):(u.arc(y.cx,y.cy,k,Dg(y.y01,y.x01),Dg(y.y11,y.x11),!g),u.arc(0,0,h,Dg(y.cy+y.y11,y.cx+y.x11),Dg(_.cy+_.y11,_.cx+_.x11),!g),u.arc(_.cx,_.cy,k,Dg(_.y11,_.x11),Dg(_.y01,_.x01),!g))):(u.moveTo(z,R),u.arc(0,0,h,b,m,!g)):u.moveTo(z,R),l>Fg&&M>Fg?E>Fg?(y=Qg(L,D,U,q,l,-E,g),_=Qg(z,R,O,Y,l,-E,g),u.lineTo(y.cx+y.x01,y.cy+y.y01),E<S?u.arc(y.cx,y.cy,E,Dg(y.y01,y.x01),Dg(_.y01,_.x01),!g):(u.arc(y.cx,y.cy,E,Dg(y.y01,y.x01),Dg(y.y11,y.x11),!g),u.arc(0,0,l,Dg(y.cy+y.y11,y.cx+y.x11),Dg(_.cy+_.y11,_.cx+_.x11),g),u.arc(_.cx,_.cy,E,Dg(_.y11,_.x11),Dg(_.y01,_.x01),!g))):u.arc(0,0,l,w,x,g):u.lineTo(L,D)}else u.moveTo(0,0);if(u.closePath(),f)return u=null,f+""||null}var t=Gg,n=Vg,e=Rg(0),r=null,i=$g,o=Wg,a=Zg,u=null;return f.centroid=function(){var e=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Ig/2;return[Ug(r)*e,Yg(r)*e]},f.innerRadius=function(n){return arguments.length?(t="function"==typeof n?n:Rg(+n),f):t},f.outerRadius=function(t){return arguments.length?(n="function"==typeof t?t:Rg(+t),f):n},f.cornerRadius=function(t){return arguments.length?(e="function"==typeof t?t:Rg(+t),f):e},f.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:Rg(+t),f):r},f.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:Rg(+t),f):i},f.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:Rg(+t),f):o},f.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:Rg(+t),f):a},f.context=function(t){return arguments.length?(u=null==t?null:t,f):u},f},t.area=ry,t.line=ey,t.pie=function(){function a(a){var u,f,c,s,l,h=a.length,d=0,p=new Array(h),v=new Array(h),g=+r.apply(this,arguments),y=Math.min(jg,Math.max(-jg,i.apply(this,arguments)-g)),_=Math.min(Math.abs(y)/h,o.apply(this,arguments)),b=_*(y<0?-1:1);for(u=0;u<h;++u)(l=v[p[u]=u]=+t(a[u],u,a))>0&&(d+=l);for(null!=n?p.sort(function(t,e){return n(v[t],v[e])}):null!=e&&p.sort(function(t,n){return e(a[t],a[n])}),u=0,c=d?(y-h*b)/d:0;u<h;++u,g=s)f=p[u],s=g+((l=v[f])>0?l*c:0)+b,v[f]={data:a[f],index:u,value:l,startAngle:g,endAngle:s,padAngle:_};return v}var t=oy,n=iy,e=null,r=Rg(0),i=Rg(jg),o=Rg(0);return a.value=function(n){return arguments.length?(t="function"==typeof n?n:Rg(+n),a):t},a.sortValues=function(t){return arguments.length?(n=t,e=null,a):n},a.sort=function(t){return arguments.length?(e=t,n=null,a):e},a.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:Rg(+t),a):r},a.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:Rg(+t),a):i},a.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:Rg(+t),a):o},a},t.areaRadial=ly,t.radialArea=ly,t.lineRadial=sy,t.radialLine=sy,t.pointRadial=hy,t.linkHorizontal=function(){return gy(yy)},t.linkVertical=function(){return gy(_y)},t.linkRadial=function(){var t=gy(by);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t},t.symbol=function(){function r(){var r;if(e||(e=r=Gi()),t.apply(this,arguments).draw(e,+n.apply(this,arguments)),r)return e=null,r+""||null}var t=Rg(my),n=Rg(64),e=null;return r.type=function(n){return arguments.length?(t="function"==typeof n?n:Rg(n),r):t},r.size=function(t){return arguments.length?(n="function"==typeof t?t:Rg(+t),r):n},r.context=function(t){return arguments.length?(e=null==t?null:t,r):e},r},t.symbols=Uy,t.symbolCircle=my,t.symbolCross=xy,t.symbolDiamond=Ay,t.symbolSquare=ky,t.symbolStar=Ey,t.symbolTriangle=Py,t.symbolWye=Dy,t.curveBasisClosed=function(t){return new By(t)},t.curveBasisOpen=function(t){return new Fy(t)},t.curveBasis=function(t){return new Yy(t)},t.curveBundle=Hy,t.curveCardinalClosed=$y,t.curveCardinalOpen=Zy,t.curveCardinal=Gy,t.curveCatmullRomClosed=n_,t.curveCatmullRomOpen=r_,t.curveCatmullRom=Ky,t.curveLinearClosed=function(t){return new i_(t)},t.curveLinear=Kg,t.curveMonotoneX=function(t){return new c_(t)},t.curveMonotoneY=function(t){return new s_(t)},t.curveNatural=function(t){return new h_(t)},t.curveStep=function(t){return new p_(t,.5)},t.curveStepAfter=function(t){return new p_(t,1)},t.curveStepBefore=function(t){return new p_(t,0)},t.stack=function(){function i(i){var o,a,u=t.apply(this,arguments),f=i.length,c=u.length,s=new Array(c);for(o=0;o<c;++o){for(var l,h=u[o],d=s[o]=new Array(f),p=0;p<f;++p)d[p]=l=[0,+r(i[p],h,p,i)],l.data=i[p];d.key=h}for(o=0,a=n(s);o<c;++o)s[a[o]].index=o;return e(s,a),s}var t=Rg([]),n=g_,e=v_,r=y_;return i.keys=function(n){return arguments.length?(t="function"==typeof n?n:Rg(dy.call(n)),i):t},i.value=function(t){return arguments.length?(r="function"==typeof t?t:Rg(+t),i):r},i.order=function(t){return arguments.length?(n=null==t?g_:"function"==typeof t?t:Rg(dy.call(t)),i):n},i.offset=function(t){return arguments.length?(e=null==t?v_:t,i):e},i},t.stackOffsetExpand=function(t,n){if((r=t.length)>0){for(var e,r,i,o=0,a=t[0].length;o<a;++o){for(i=e=0;e<r;++e)i+=t[e][o][1]||0;if(i)for(e=0;e<r;++e)t[e][o][1]/=i;
}v_(t,n)}},t.stackOffsetDiverging=function(t,n){if((u=t.length)>1)for(var e,r,i,o,a,u,f=0,c=t[n[0]].length;f<c;++f)for(o=a=0,e=0;e<u;++e)(i=(r=t[n[e]][f])[1]-r[0])>=0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=a,r[0]=a+=i):r[0]=o},t.stackOffsetNone=v_,t.stackOffsetSilhouette=function(t,n){if((e=t.length)>0){for(var e,r=0,i=t[n[0]],o=i.length;r<o;++r){for(var a=0,u=0;a<e;++a)u+=t[a][r][1]||0;i[r][1]+=i[r][0]=-u/2}v_(t,n)}},t.stackOffsetWiggle=function(t,n){if((i=t.length)>0&&(r=(e=t[n[0]]).length)>0){for(var e,r,i,o=0,a=1;a<r;++a){for(var u=0,f=0,c=0;u<i;++u){for(var s=t[n[u]],l=s[a][1]||0,h=(l-(s[a-1][1]||0))/2,d=0;d<u;++d){var p=t[n[d]];h+=(p[a][1]||0)-(p[a-1][1]||0)}f+=l,c+=h*l}e[a-1][1]+=e[a-1][0]=o,f&&(o-=c/f)}e[a-1][1]+=e[a-1][0]=o,v_(t,n)}},t.stackOrderAscending=__,t.stackOrderDescending=function(t){return __(t).reverse()},t.stackOrderInsideOut=function(t){var n,e,r=t.length,i=t.map(b_),o=g_(t).sort(function(t,n){return i[n]-i[t]}),a=0,u=0,f=[],c=[];for(n=0;n<r;++n)e=o[n],a<u?(a+=i[e],f.push(e)):(u+=i[e],c.push(e));return c.reverse().concat(f)},t.stackOrderNone=g_,t.stackOrderReverse=function(t){return g_(t).reverse()},t.timeInterval=Rh,t.timeMillisecond=Lh,t.timeMilliseconds=Dh,t.utcMillisecond=Lh,t.utcMilliseconds=Dh,t.timeSecond=Oh,t.timeSeconds=Yh,t.utcSecond=Oh,t.utcSeconds=Yh,t.timeMinute=Bh,t.timeMinutes=Fh,t.timeHour=Ih,t.timeHours=Hh,t.timeDay=jh,t.timeDays=Xh,t.timeWeek=Vh,t.timeWeeks=td,t.timeSunday=Vh,t.timeSundays=td,t.timeMonday=$h,t.timeMondays=nd,t.timeTuesday=Wh,t.timeTuesdays=ed,t.timeWednesday=Zh,t.timeWednesdays=rd,t.timeThursday=Qh,t.timeThursdays=id,t.timeFriday=Jh,t.timeFridays=od,t.timeSaturday=Kh,t.timeSaturdays=ad,t.timeMonth=ud,t.timeMonths=fd,t.timeYear=cd,t.timeYears=sd,t.utcMinute=ld,t.utcMinutes=hd,t.utcHour=dd,t.utcHours=pd,t.utcDay=vd,t.utcDays=gd,t.utcWeek=_d,t.utcWeeks=Td,t.utcSunday=_d,t.utcSundays=Td,t.utcMonday=bd,t.utcMondays=Nd,t.utcTuesday=md,t.utcTuesdays=Sd,t.utcWednesday=xd,t.utcWednesdays=Ed,t.utcThursday=wd,t.utcThursdays=kd,t.utcFriday=Md,t.utcFridays=Cd,t.utcSaturday=Ad,t.utcSaturdays=Pd,t.utcMonth=zd,t.utcMonths=Rd,t.utcYear=Ld,t.utcYears=Dd,t.timeFormatDefaultLocale=Qp,t.timeFormatLocale=Yd,t.isoFormat=Jp,t.isoParse=Kp,t.now=ir,t.timer=ur,t.timerFlush=fr,t.timeout=hr,t.interval=function(t,n,e){var r=new ar,i=n;return null==n?(r.restart(t,n,e),r):(n=+n,e=null==e?ir():+e,r.restart(function o(a){a+=i,r.restart(o,i+=n,e),t(a)},n,e),r)},t.transition=zr,t.active=function(t,n){var e,r,i=t.__transition;if(i)for(r in n=null==n?null:n+"",i)if((e=i[r]).state>gr&&e.name===n)return new Pr([[t]],li,n,(+r));return null},t.interrupt=Nr,t.voronoi=function(){function r(r){return new eb(r.map(function(e,i){var o=[Math.round(t(e,i,r)/K_)*K_,Math.round(n(e,i,r)/K_)*K_];return o.index=i,o.data=e,o}),e)}var t=x_,n=w_,e=null;return r.polygons=function(t){return r(t).polygons()},r.links=function(t){return r(t).links()},r.triangles=function(t){return r(t).triangles()},r.x=function(n){return arguments.length?(t="function"==typeof n?n:m_(+n),r):t},r.y=function(t){return arguments.length?(n="function"==typeof t?t:m_(+t),r):n},r.extent=function(t){return arguments.length?(e=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],r):e&&[[e[0][0],e[0][1]],[e[1][0],e[1][1]]]},r.size=function(t){return arguments.length?(e=null==t?null:[[0,0],[+t[0],+t[1]]],r):e&&[e[1][0]-e[0][0],e[1][1]-e[0][1]]},r},t.zoom=function(){function y(t){t.property("__zoom",hb).on("wheel.zoom",A).on("mousedown.zoom",T).on("dblclick.zoom",N).filter(u).on("touchstart.zoom",S).on("touchmove.zoom",E).on("touchend.zoom touchcancel.zoom",k).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function _(t,n){return(n=Math.max(f[0],Math.min(f[1],n)))===t.k?t:new ob(n,t.x,t.y)}function b(t,n,e){var r=n[0]-e[0]*t.k,i=n[1]-e[1]*t.k;return r===t.x&&i===t.y?t:new ob(t.k,r,i)}function m(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function x(t,n,e){t.on("start.zoom",function(){w(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){w(this,arguments).end()}).tween("zoom",function(){var t=arguments,r=w(this,t),o=i.apply(this,t),a=e||m(o),u=Math.max(o[1][0]-o[0][0],o[1][1]-o[0][1]),f=this.__zoom,c="function"==typeof n?n.apply(this,t):n,s=l(f.invert(a).concat(u/f.k),c.invert(a).concat(u/c.k));return function(t){if(1===t)t=c;else{var n=s(t),e=u/n[2];t=new ob(e,a[0]-n[0]*e,a[1]-n[1]*e)}r.zoom(null,t)}})}function w(t,n){for(var e,r=0,i=h.length;r<i;++r)if((e=h[r]).that===t)return e;return new M(t,n)}function M(t,n){this.that=t,this.args=n,this.index=-1,this.active=0,this.extent=i.apply(t,n)}function A(){if(r.apply(this,arguments)){var t=w(this,arguments),n=this.__zoom,e=Math.max(f[0],Math.min(f[1],n.k*Math.pow(2,a.apply(this,arguments)))),i=Ft(this);if(t.wheel)t.mouse[0][0]===i[0]&&t.mouse[0][1]===i[1]||(t.mouse[1]=n.invert(t.mouse[0]=i)),clearTimeout(t.wheel);else{if(n.k===e)return;t.mouse=[i,n.invert(i)],Nr(this),t.start()}cb(),t.wheel=setTimeout(function(){t.wheel=null,t.end()},v),t.zoom("mouse",o(b(_(n,e),t.mouse[0],t.mouse[1]),t.extent,c))}}function T(){if(!e&&r.apply(this,arguments)){var n=w(this,arguments),i=Dt(t.event.view).on("mousemove.zoom",function(){if(cb(),!n.moved){var e=t.event.clientX-u,r=t.event.clientY-f;n.moved=e*e+r*r>g}n.zoom("mouse",o(b(n.that.__zoom,n.mouse[0]=Ft(n.that),n.mouse[1]),n.extent,c))},!0).on("mouseup.zoom",function(){i.on("mousemove.zoom mouseup.zoom",null),Gt(t.event.view,n.moved),cb(),n.end()},!0),a=Ft(this),u=t.event.clientX,f=t.event.clientY;Xt(t.event.view),fb(),n.mouse=[a,this.__zoom.invert(a)],Nr(this),n.start()}}function N(){if(r.apply(this,arguments)){var n=this.__zoom,e=Ft(this),a=n.invert(e),u=n.k*(t.event.shiftKey?.5:2),f=o(b(_(n,u),e,a),i.apply(this,arguments),c);cb(),s>0?Dt(this).transition().duration(s).call(x,f,e):Dt(this).call(y.transform,f)}}function S(){if(r.apply(this,arguments)){var e,i,o,a,u=w(this,arguments),f=t.event.changedTouches,c=f.length;for(fb(),i=0;i<c;++i)a=[a=It(this,f,(o=f[i]).identifier),this.__zoom.invert(a),o.identifier],u.touch0?u.touch1||(u.touch1=a):(u.touch0=a,e=!0);if(n&&(n=clearTimeout(n),!u.touch1))return u.end(),void((a=Dt(this).on("dblclick.zoom"))&&a.apply(this,arguments));e&&(n=setTimeout(function(){n=null},p),Nr(this),u.start())}}function E(){var e,r,i,a,u=w(this,arguments),f=t.event.changedTouches,s=f.length;for(cb(),n&&(n=clearTimeout(n)),e=0;e<s;++e)i=It(this,f,(r=f[e]).identifier),u.touch0&&u.touch0[2]===r.identifier?u.touch0[0]=i:u.touch1&&u.touch1[2]===r.identifier&&(u.touch1[0]=i);if(r=u.that.__zoom,u.touch1){var l=u.touch0[0],h=u.touch0[1],d=u.touch1[0],p=u.touch1[1],v=(v=d[0]-l[0])*v+(v=d[1]-l[1])*v,g=(g=p[0]-h[0])*g+(g=p[1]-h[1])*g;r=_(r,Math.sqrt(v/g)),i=[(l[0]+d[0])/2,(l[1]+d[1])/2],a=[(h[0]+p[0])/2,(h[1]+p[1])/2]}else{if(!u.touch0)return;i=u.touch0[0],a=u.touch0[1]}u.zoom("touch",o(b(r,i,a),u.extent,c))}function k(){var n,r,i=w(this,arguments),o=t.event.changedTouches,a=o.length;for(fb(),e&&clearTimeout(e),e=setTimeout(function(){e=null},p),n=0;n<a;++n)r=o[n],i.touch0&&i.touch0[2]===r.identifier?delete i.touch0:i.touch1&&i.touch1[2]===r.identifier&&delete i.touch1;i.touch1&&!i.touch0&&(i.touch0=i.touch1,delete i.touch1),i.touch0?i.touch0[1]=this.__zoom.invert(i.touch0[0]):i.end()}var n,e,r=sb,i=lb,o=vb,a=db,u=pb,f=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],s=250,l=qe,h=[],d=I("start","zoom","end"),p=500,v=150,g=0;return y.transform=function(t,n){var e=t.selection?t.selection():t;e.property("__zoom",hb),t!==e?x(t,n):e.interrupt().each(function(){w(this,arguments).start().zoom(null,"function"==typeof n?n.apply(this,arguments):n).end()})},y.scaleBy=function(t,n){y.scaleTo(t,function(){return this.__zoom.k*("function"==typeof n?n.apply(this,arguments):n)})},y.scaleTo=function(t,n){y.transform(t,function(){var t=i.apply(this,arguments),e=this.__zoom,r=m(t),a=e.invert(r),u="function"==typeof n?n.apply(this,arguments):n;return o(b(_(e,u),r,a),t,c)})},y.translateBy=function(t,n,e){y.transform(t,function(){return o(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof e?e.apply(this,arguments):e),i.apply(this,arguments),c)})},y.translateTo=function(t,n,e){y.transform(t,function(){var t=i.apply(this,arguments),r=this.__zoom,a=m(t);return o(ab.translate(a[0],a[1]).scale(r.k).translate("function"==typeof n?-n.apply(this,arguments):-n,"function"==typeof e?-e.apply(this,arguments):-e),t,c)})},M.prototype={start:function(){return 1==++this.active&&(this.index=h.push(this)-1,this.emit("start")),this},zoom:function(t,n){return this.mouse&&"mouse"!==t&&(this.mouse[1]=n.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=n.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=n.invert(this.touch1[0])),this.that.__zoom=n,this.emit("zoom"),this},end:function(){return 0==--this.active&&(h.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){Ct(new ib(y,t,this.that.__zoom),d.apply,d,[t,this.that,this.args])}},y.wheelDelta=function(t){return arguments.length?(a="function"==typeof t?t:rb(+t),y):a},y.filter=function(t){return arguments.length?(r="function"==typeof t?t:rb(!!t),y):r},y.touchable=function(t){return arguments.length?(u="function"==typeof t?t:rb(!!t),y):u},y.extent=function(t){return arguments.length?(i="function"==typeof t?t:rb([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),y):i},y.scaleExtent=function(t){return arguments.length?(f[0]=+t[0],f[1]=+t[1],y):[f[0],f[1]]},y.translateExtent=function(t){return arguments.length?(c[0][0]=+t[0][0],c[1][0]=+t[1][0],c[0][1]=+t[0][1],c[1][1]=+t[1][1],y):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},y.constrain=function(t){return arguments.length?(o=t,y):o},y.duration=function(t){return arguments.length?(s=+t,y):s},y.interpolate=function(t){return arguments.length?(l=t,y):l},y.on=function(){var t=d.on.apply(d,arguments);return t===d?y:t},y.clickDistance=function(t){return arguments.length?(g=(t=+t)*t,y):Math.sqrt(g)},y},t.zoomTransform=ub,t.zoomIdentity=ab,Object.defineProperty(t,"__esModule",{value:!0})}),!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("d3-time-format"),require("d3-selection"),require("d3-array"),require("d3-transition"),require("d3-scale"),require("d3-brush"),require("d3-collection"),require("d3-dsv"),require("d3-drag"),require("d3-shape"),require("d3-interpolate"),require("d3-color"),require("d3-zoom"),require("d3-ease"));else if("function"==typeof define&&define.amd)define(["d3-time-format","d3-selection","d3-array","d3-transition","d3-scale","d3-brush","d3-collection","d3-dsv","d3-drag","d3-shape","d3-interpolate","d3-color","d3-zoom","d3-ease"],e);else{var i="object"==typeof exports?e(require("d3-time-format"),require("d3-selection"),require("d3-array"),require("d3-transition"),require("d3-scale"),require("d3-brush"),require("d3-collection"),require("d3-dsv"),require("d3-drag"),require("d3-shape"),require("d3-interpolate"),require("d3-color"),require("d3-zoom"),require("d3-ease")):e(t.d3,t.d3,t.d3,t.d3,t.d3,t.d3,t.d3,t.d3,t.d3,t.d3,t.d3,t.d3,t.d3,t.d3);for(var n in i)("object"==typeof exports?exports:t)[n]=i[n]}}(window,function(t,e,i,n,a,r,o,s,l,u,d,c,f,g){return function(t){function __webpack_require__(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,__webpack_require__),n.l=!0,n.exports}var e={};return __webpack_require__.m=t,__webpack_require__.c=e,__webpack_require__.d=function(t,e,i){__webpack_require__.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},__webpack_require__.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.t=function(t,e){if(1&e&&(t=__webpack_require__(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(__webpack_require__.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)__webpack_require__.d(i,n,function(e){return t[e]}.bind(null,n));return i},__webpack_require__.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return __webpack_require__.d(e,"a",e),e},__webpack_require__.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=0)}([function(t,e,i){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0,e.bb=void 0;var n=_interopRequireDefault(i(1)),a=_interopRequireDefault(i(3)),r=_interopRequireDefault(i(8));i(15);var o={version:"1.6.2",generate:function(t){var e=new n["default"](t);return e.internal.charts=this.instance,this.instance.push(e),e},instance:[],chart:{fn:n["default"].prototype,internal:{fn:a["default"].prototype,axis:{fn:r["default"].prototype}}}};i(17),i(19),i(20),i(21),i(23),i(25),i(26),i(27),i(29),i(30),i(32),i(34),i(35),i(36),i(37),i(38),i(39),i(40),i(41),i(42),i(43),i(44),i(45),i(46),i(47),i(48),i(50),i(51),i(53),i(54),i(55),i(56),i(57),i(58),i(59),i(60),i(61),i(63),i(64),i(65),i(66),i(67),i(68),i(69),i(70),i(71),i(72),i(73),i(74),i(76),i(9),i(77),i(78),e.bb=o,e["default"]=o},function(t,e,i){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var n=_interopRequireDefault(i(2)),a=_interopRequireDefault(i(3));e["default"]=function Chart(t){(0,n["default"])(this,Chart);var e=new a["default"](this);this.internal=e,e.loadConfig(t),e.beforeInit(t),e.init(),this.$=e.getChartElements(),e.afterInit(t),function bindThis(t,e,i){Object.keys(t).forEach(function(n){e[n]=t[n].bind(i),Object.keys(t[n]).length&&bindThis(t[n],e[n],i)})}(Chart.prototype,this,this)},t.exports=e["default"]},function(t,e,i){"use strict";e.__esModule=!0,e["default"]=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,i){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var n=_interopRequireDefault(i(2)),a=i(4),r=i(5),o=i(6),s=i(7),l=_interopRequireDefault(i(8)),u=_interopRequireDefault(i(14)),d=i(11),c=function(){function ChartInternal(t){(0,n["default"])(this,ChartInternal);var e=this;e.api=t,e.config=e.getOptions(),e.data={},e.cache={},e.axes={}}return ChartInternal.prototype.beforeInit=function(){var t=this.config;(0,d.callFn)(t.onbeforeinit,this)},ChartInternal.prototype.afterInit=function(){var t=this.config;(0,d.callFn)(t.onafterinit,this)},ChartInternal.prototype.init=function(){var t=this,e=t.config,i=void 0;if(t.initParams(),e.data_url)t.convertUrlToData(e.data_url,e.data_mimeType,e.data_headers,e.data_keys,t.initWithData);else if(e.data_json)i=t.convertJsonToData(e.data_json,e.data_keys);else if(e.data_rows)i=t.convertRowsToData(e.data_rows);else{if(!e.data_columns)throw Error("url or json or rows or columns is required.");i=t.convertColumnsToData(e.data_columns)}i&&t.initWithData(i)},ChartInternal.prototype.initParams=function(){var t=this,e=t.config,i=e.axis_rotated;t.datetimeId="bb-"+ +new Date,t.clipId=t.datetimeId+"-clip",t.clipIdForXAxis=t.clipId+"-xaxis",t.clipIdForYAxis=t.clipId+"-yaxis",t.clipIdForGrid=t.clipId+"-grid",t.clipIdForSubchart=t.clipId+"-subchart",t.clipPath=t.getClipPath(t.clipId),t.clipPathForXAxis=t.getClipPath(t.clipIdForXAxis),t.clipPathForYAxis=t.getClipPath(t.clipIdForYAxis),t.clipPathForGrid=t.getClipPath(t.clipIdForGrid),t.clipPathForSubchart=t.getClipPath(t.clipIdForSubchart),t.dragStart=null,t.dragging=!1,t.flowing=!1,t.cancelClick=!1,t.mouseover=!1,t.transiting=!1,t.color=t.generateColor(),t.levelColor=t.generateLevelColor(),t.point=t.generatePoint(),t.extraLineClasses=t.generateExtraLineClass(),t.dataTimeFormat=e.data_xLocaltime?a.timeParse:a.utcParse,t.axisTimeFormat=e.axis_x_localtime?a.timeFormat:a.utcFormat,t.defaultAxisTimeFormat=function(e){var i=(e.getMilliseconds()?".%L":e.getSeconds()&&".:%S")||e.getMinutes()&&"%I:%M"||e.getHours()&&"%I %p"||e.getDay()&&1!==e.getDate()&&"%-m/%-d"||1!==e.getDate()&&"%b %d"||e.getMonth()&&"%-m/%-d"||"%Y/%-m/%-d";return t.axisTimeFormat(i)(e)},t.hiddenTargetIds=[],t.hiddenLegendIds=[],t.focusedTargetIds=[],t.defocusedTargetIds=[],t.xOrient=i?"left":"bottom",t.yOrient=i?e.axis_y_inner?"top":"bottom":e.axis_y_inner?"right":"left",t.y2Orient=i?e.axis_y2_inner?"bottom":"top":e.axis_y2_inner?"left":"right",t.subXOrient=i?"left":"bottom",t.isLegendRight="right"===e.legend_position,t.isLegendInset="inset"===e.legend_position,t.isLegendTop="top-left"===e.legend_inset_anchor||"top-right"===e.legend_inset_anchor,t.isLegendLeft="top-left"===e.legend_inset_anchor||"bottom-left"===e.legend_inset_anchor,t.legendStep=0,t.legendItemWidth=0,t.legendItemHeight=0,t.currentMaxTickWidths={x:0,y:0,y2:0},t.rotated_padding_left=30,t.rotated_padding_right=i&&!e.axis_x_show?0:30,t.rotated_padding_top=5,t.withoutFadeIn={},t.inputType=t.convertInputType(),t.axes.subx=(0,r.selectAll)([])},ChartInternal.prototype.initWithData=function(t){var e=this,i=e.config;e.axis=new l["default"](e),i.subchart_show&&e.initBrush(),i.zoom_enabled&&(e.initZoom(),e.initZoomBehaviour());var n={element:i.bindto,classname:"bb"};if((0,d.isObject)(i.bindto)&&(n.element=i.bindto.element||"#chart",n.classname=i.bindto.classname||n.classname),e.selectChart=(0,d.isFunction)(n.element.node)?i.bindto.element:(0,r.select)(n.element?n.element:[]),e.selectChart.html("").classed(n.classname,!0),e.data.xs={},e.data.targets=e.convertDataToTargets(t),i.data_filter&&(e.data.targets=e.data.targets.filter(i.data_filter)),i.data_hide&&e.addHiddenTargetIds(!0===i.data_hide?e.mapToIds(e.data.targets):i.data_hide),i.legend_hide&&e.addHiddenLegendIds(!0===i.legend_hide?e.mapToIds(e.data.targets):i.legend_hide),e.hasType("gauge")&&(i.legend_show=!1),e.updateSizes(),e.updateScales(),e.x.domain((0,o.extent)(e.getXDomain(e.data.targets))),e.y.domain(e.getYDomain(e.data.targets,"y")),e.y2.domain(e.getYDomain(e.data.targets,"y2")),e.subX.domain(e.x.domain()),e.subY.domain(e.y.domain()),e.subY2.domain(e.y2.domain()),e.orgXDomain=e.x.domain(),e.svg=e.selectChart.append("svg").style("overflow","hidden").style("display","block"),i.interaction_enabled&&e.inputType){var a="touch"===e.inputType;e.svg.on(a?"touchstart":"mouseenter",function(){return(0,d.callFn)(i.onover,e)}).on(a?"touchend":"mouseleave",function(){return(0,d.callFn)(i.onout,e)})}i.svg_classname&&e.svg.attr("class",i.svg_classname),e.defs=e.svg.append("defs"),e.clipChart=e.appendClip(e.defs,e.clipId),e.clipXAxis=e.appendClip(e.defs,e.clipIdForXAxis),e.clipYAxis=e.appendClip(e.defs,e.clipIdForYAxis),e.clipGrid=e.appendClip(e.defs,e.clipIdForGrid),e.clipSubchart=e.appendClip(e.defs,e.clipIdForSubchart),(0,d.isFunction)(i.color_tiles)&&e.patterns&&e.patterns.forEach(function(t){return e.defs.append(function(){return t.node})}),e.updateSvgSize();var s=e.svg.append("g").attr("transform",e.getTranslate("main"));if(e.main=s,i.subchart_show&&e.initSubchart&&e.initSubchart(),e.initTooltip&&e.initTooltip(),e.initLegend&&e.initLegend(),e.initTitle&&e.initTitle(),s.append("text").attr("class",u["default"].text+" "+u["default"].empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),e.initRegion(),e.initGrid(),i.clipPath||e.axis.init(),s.append("g").attr("class",u["default"].chart).attr("clip-path",e.clipPath),i.grid_lines_front&&e.initGridLines(),i.grid_front&&e.initXYFocusGrid(),e.initEventRect(),e.initChartElements(),s.insert("rect",i.zoom_privileged?null:"g."+u["default"].regions).attr("class",u["default"].zoomRect).attr("width",e.width).attr("height",e.height).style("opacity","0").on("dblclick.zoom",null),i.axis_x_extent&&e.brush.scale(e.getDefaultExtent()),i.clipPath&&e.axis.init(),e.updateTargets(e.data.targets),e.updateDimension(),i.oninit.call(e),e.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1,initializing:!0}),i.data_onmin||i.data_onmax){var c=e.getMinMaxData();(0,d.callFn)(i.data_onmin,e,c.min),(0,d.callFn)(i.data_onmax,e,c.max)}e.bindResize(),e.api.element=e.selectChart.node()},ChartInternal.prototype.initChartElements=function(){var t=this;["Pie","Bar","Line","Arc","Gauge","Bubble","Radar","Text"].forEach(function(e){var i="init"+e;t[i]&&t[i]()})},ChartInternal.prototype.getChartElements=function(){var t=this;return{chart:t.selectChart,svg:t.svg,defs:t.defs,main:t.main,tooltip:t.tooltip,legend:t.legend,title:t.title,grid:t.grid,arc:t.arcs,bar:{bars:t.mainBar},line:{lines:t.mainLine,areas:t.mainArea,circles:t.mainCircle},text:{texts:t.texts}}},ChartInternal.prototype.smoothLines=function(t,e){"grid"===e&&t.each(function(){var t=(0,r.select)(this),e=["x1","x2","y1","y2"].map(function(e){return Math.ceil(t.attr(e))}),i=e[0],n=e[1],a=e[2],o=e[3];t.attr({x1:i,x2:n,y1:a,y2:o})})},ChartInternal.prototype.updateSizes=function(){var t=this,e=t.config,i=e.axis_rotated,n=t.hasArcType(),a=t.legend?t.getLegendHeight():0,r=t.legend?t.getLegendWidth():0,o=t.isLegendRight||t.isLegendInset?0:a,s=i||n?0:t.getHorizontalAxisHeight("x"),l=e.subchart_show&&!n?e.subchart_size_height+s:0;t.currentWidth=t.getCurrentWidth(),t.currentHeight=t.getCurrentHeight(),t.margin=i?{top:t.getHorizontalAxisHeight("y2")+t.getCurrentPaddingTop(),right:n?0:t.getCurrentPaddingRight(),bottom:t.getHorizontalAxisHeight("y")+o+t.getCurrentPaddingBottom(),left:l+(n?0:t.getCurrentPaddingLeft())}:{top:4+t.getCurrentPaddingTop(),right:n?0:t.getCurrentPaddingRight(),bottom:s+l+o+t.getCurrentPaddingBottom(),left:n?0:t.getCurrentPaddingLeft()},t.margin2=i?{top:t.margin.top,right:NaN,bottom:20+o,left:t.rotated_padding_left}:{top:t.currentHeight-l-o,right:NaN,bottom:s+o,left:t.margin.left},t.margin3={top:0,right:NaN,bottom:0,left:0},t.updateSizeForLegend&&t.updateSizeForLegend(a,r),t.width=t.currentWidth-t.margin.left-t.margin.right,t.height=t.currentHeight-t.margin.top-t.margin.bottom,t.width<0&&(t.width=0),t.height<0&&(t.height=0),t.width2=i?t.margin.left-t.rotated_padding_left-t.rotated_padding_right:t.width,t.height2=i?t.height:t.currentHeight-t.margin2.top-t.margin2.bottom,t.width2<0&&(t.width2=0),t.height2<0&&(t.height2=0),t.arcWidth=t.width-(t.isLegendRight?r+10:0),t.arcHeight=t.height-(t.isLegendRight?0:10),t.hasType("gauge")&&!e.gauge_fullCircle&&(t.arcHeight+=t.height-t.getGaugeLabelHeight()),t.updateRadius&&t.updateRadius(),t.isLegendRight&&n&&(t.margin3.left=t.arcWidth/2+1.1*t.radiusExpanded)},ChartInternal.prototype.updateTargets=function(t){var e=this;e.updateTargetsForText(t),e.updateTargetsForBar(t),e.updateTargetsForLine(t),e.hasArcType(t)&&(e.hasType("radar")?e.updateTargetsForRadar(t):e.updateTargetsForArc(t)),e.updateTargetsForSubchart&&e.updateTargetsForSubchart(t),e.showTargets()},ChartInternal.prototype.showTargets=function(){var t=this;t.svg.selectAll("."+u["default"].target).filter(function(e){return t.isTargetToShow(e.id)}).transition().duration(t.config.transition_duration).style("opacity","1")},ChartInternal.prototype.getWithOption=function(t){var e={Y:!0,Subchart:!0,Transition:!0,EventRect:!0,Dimension:!0,TrimXDomain:!0,Transform:!1,UpdateXDomain:!1,UpdateOrgXDomain:!1,Legend:!1,UpdateXAxis:"UpdateXDomain",TransitionForExit:"Transition",TransitionForAxis:"Transition"};return Object.keys(e).forEach(function(i){var n=e[i];(0,d.isString)(n)&&(n=e[n]),e[i]=(0,d.getOption)(t,"with"+i,n)}),e},ChartInternal.prototype.redraw=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],i=this,n=i.main,a=i.config,o=a.axis_rotated,l=i.hasType("radar"),c=i.getShapeIndices(i.isAreaType),f=i.getShapeIndices(i.isBarType),g=i.getShapeIndices(i.isLineType),h=i.hasArcType(),p=i.filterTargetsToShow(i.data.targets),x=i.xv.bind(i),_=void 0,m=void 0,v=void 0,y=i.getWithOption(t),b=y.Transition?a.transition_duration:0,T=y.TransitionForExit?b:0,A=y.TransitionForAxis?b:0,w=e||i.axis.generateTransitions(A);if(t.initializing&&a.tooltip_init_show||"touch"!==i.inputType||i.hideTooltip(),y.Legend&&a.legend_show&&!a.legend_contents_bindto?i.updateLegend(i.mapToIds(i.data.targets),t,w):y.Dimension&&i.updateDimension(!0),i.isCategorized()&&0===p.length&&i.x.domain([0,i.axes.x.selectAll(".tick").size()]),p.length?(i.updateXDomain(p,y.UpdateXDomain,y.UpdateOrgXDomain,y.TrimXDomain),!a.axis_x_tick_values&&(_=i.axis.updateXAxisTickValues(p))):(i.xAxis.tickValues([]),i.subXAxis.tickValues([])),a.zoom_rescale&&!t.flow&&(v=i.x.orgDomain()),["y","y2"].forEach(function(t){var e=i[t],n=a["axis_"+t+"_tick_values"],r=a["axis_"+t+"_tick_count"];if(e.domain(i.getYDomain(p,t,v)),!n&&r){var o=e.domain();i[t+"Axis"].tickValues(i.axis.generateTickValues(o,o.every(function(t){return 0===t})?1:r,i.isTimeSeriesY()))}}),i.axis.redraw(w,h),i.axis.updateLabels(y.Transition),(y.UpdateXDomain||y.UpdateXAxis)&&p.length)if(a.axis_x_tick_culling&&_){for(var D=1;D<_.length;D++)if(_.length/D<a.axis_x_tick_culling_max){m=D;break}i.svg.selectAll("."+u["default"].axisX+" .tick text").each(function(t){var e=_.indexOf(t);e>=0&&(0,r.select)(this).style("display",e%m?"none":"block")})}else i.svg.selectAll("."+u["default"].axisX+" .tick text").style("display","block");var L=i.generateDrawArea?i.generateDrawArea(c,!1):void 0,S=i.generateDrawBar?i.generateDrawBar(f):void 0,C=i.generateDrawLine?i.generateDrawLine(g,!1):void 0,R=i.generateXYForText(c,f,g,!0),F=i.generateXYForText(c,f,g,!1);y.Y&&(i.subY.domain(i.getYDomain(p,"y")),i.subY2.domain(i.getYDomain(p,"y2"))),i.updateXgridFocus(),n.select("text."+u["default"].text+"."+u["default"].empty).attr("x",i.width/2).attr("y",i.height/2).text(a.data_empty_label_text).transition().style("opacity",p.length?0:1),i.updateGrid(b),i.updateRegion(b),i.updateBar(T),i.updateLine(T),i.updateArea(T),i.updateCircle(),i.hasDataLabel()&&i.updateText(T),i.redrawTitle&&i.redrawTitle(),i.redrawArc&&i.redrawArc(b,T,y.Transform),l&&i.redrawRadar(b,T),a.subchart_show&&i.redrawSubchart&&i.redrawSubchart(y.Subchart,w,b,T,c,f,g),n.selectAll("."+u["default"].selectedCircles).filter(i.isBarType.bind(i)).selectAll("circle").remove(),a.interaction_enabled&&!t.flow&&y.EventRect&&(i.redrawEventRect(),i.bindZoomEvent()),i.updateCircleY();var X=(l?i.radarCircleX:o?i.circleY:i.circleX).bind(i),I=(l?i.radarCircleY:o?i.circleX:i.circleY).bind(i),M=t.flow&&i.generateFlow({targets:p,flow:t.flow,duration:t.flow.duration,drawBar:S,drawLine:C,drawArea:L,cx:X,cy:I,xv:x,xForText:R,yForText:F}),k=(b||M)&&i.isTabVisible(),E=[i.redrawBar(S,k),i.redrawLine(C,k),i.redrawArea(L,k),i.redrawCircle(X,I,k,M),i.redrawText(R,F,t.flow,k),i.redrawRegion(k),i.redrawGrid(k)],B=M||a.onrendered?function(){M&&M(),(0,d.callFn)(a.onrendered,i)}:null;if(B)if(k){var O=i.generateWait();(0,s.transition)().duration(b).each(function(){E.reduce(function(t,e){return t.concat(e)},[]).forEach(function(t){return O.add(t)})}).call(O,B)}else B();i.mapToIds(i.data.targets).forEach(function(t){i.withoutFadeIn[t]=!0})},ChartInternal.prototype.updateAndRedraw=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this,i=e.config,n=void 0;t.withTransition=(0,d.getOption)(t,"withTransition",!0),t.withTransform=(0,d.getOption)(t,"withTransform",!1),t.withLegend=(0,d.getOption)(t,"withLegend",!1),t.withUpdateXDomain=!0,t.withUpdateOrgXDomain=!0,t.withTransitionForExit=!1,t.withTransitionForTransform=(0,d.getOption)(t,"withTransitionForTransform",t.withTransition),e.updateSizes(),t.withLegend&&i.legend_show||(n=e.axis.generateTransitions(t.withTransitionForAxis?i.transition_duration:0),e.updateScales(),e.updateSvgSize(),e.transformAll(t.withTransitionForTransform,n)),e.redraw(t,n)},ChartInternal.prototype.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},ChartInternal.prototype.isTimeSeries=function(){return"timeseries"===this.config.axis_x_type},ChartInternal.prototype.isCategorized=function(){return this.config.axis_x_type.indexOf("category")>=0||this.hasType("radar")},ChartInternal.prototype.isCustomX=function(){var t=this.config;return!this.isTimeSeries()&&(t.data_x||(0,d.notEmpty)(t.data_xs))},ChartInternal.prototype.isTimeSeriesY=function(){return"timeseries"===this.config.axis_y_type},ChartInternal.prototype.getTranslate=function(t){var e=this,i=e.config.axis_rotated,n=void 0,a=void 0;if("main"===t)n=(0,d.asHalfPixel)(e.margin.left),a=(0,d.asHalfPixel)(e.margin.top);else if("context"===t)n=(0,d.asHalfPixel)(e.margin2.left),a=(0,d.asHalfPixel)(e.margin2.top);else if("legend"===t)n=e.margin3.left,a=e.margin3.top;else if("x"===t)n=0,a=i?0:e.height;else if("y"===t)n=0,a=i?e.height:0;else if("y2"===t)n=i?0:e.width,a=i?1:0;else if("subx"===t)n=0,a=i?0:e.height2;else if("arc"===t)n=e.arcWidth/2,a=e.arcHeight/2;else if("radar"===t){var r=(e.arcWidth-e.arcHeight)/2;n=Math.max(r,0)+4,a=r<0?Math.abs(r):(0,d.asHalfPixel)(e.margin.top)}return"translate("+n+", "+a+")"},ChartInternal.prototype.initialOpacity=function(t){return null!==this.getBaseValue(t)&&this.withoutFadeIn[t.id]?"1":"0"},ChartInternal.prototype.initialOpacityForCircle=function(t){return null!==this.getBaseValue(t)&&this.withoutFadeIn[t.id]?this.opacityForCircle(t):"0"},ChartInternal.prototype.opacityForCircle=function(t){var e=this.config.point_show?"1":"0";return(0,d.isValue)(this.getBaseValue(t))?this.isBubbleType(t)||this.isScatterType(t)?"0.5":e:"0"},ChartInternal.prototype.opacityForText=function(){return this.hasDataLabel()?"1":"0"},ChartInternal.prototype.xx=function(t){var e=this.config.zoom_enabled&&this.zoomScale?this.zoomScale:this.x;return t?e(t.x):null},ChartInternal.prototype.xv=function(t){var e=this,i=e.getBaseValue(t);return e.isTimeSeries()?i=e.parseDate(i):e.isCategorized()&&(0,d.isString)(i)&&(i=e.config.axis_x_categories.indexOf(i)),Math.ceil(e.x(i))},ChartInternal.prototype.yv=function(t){var e=t.axis&&"y2"===t.axis?this.y2:this.y;return Math.ceil(e(this.getBaseValue(t)))},ChartInternal.prototype.subxx=function(t){return t?this.subX(t.x):null},ChartInternal.prototype.transformMain=function(t,e){var i=this,n=void 0,a=void 0,r=void 0;e&&e.axisX?n=e.axisX:(n=i.main.select("."+u["default"].axisX),t&&(n=n.transition())),e&&e.axisY?a=e.axisY:(a=i.main.select("."+u["default"].axisY),t&&(a=a.transition())),e&&e.axisY2?r=e.axisY2:(r=i.main.select("."+u["default"].axisY2),t&&(r=r.transition())),(t?i.main.transition():i.main).attr("transform",i.getTranslate("main")),n.attr("transform",i.getTranslate("x")),a.attr("transform",i.getTranslate("y")),r.attr("transform",i.getTranslate("y2")),i.main.select("."+u["default"].chartArcs).attr("transform",i.getTranslate("arc"))},ChartInternal.prototype.transformAll=function(t,e){var i=this;i.transformMain(t,e),i.config.subchart_show&&i.transformContext(t,e),i.legend&&i.transformLegend(t)},ChartInternal.prototype.updateSvgSize=function(){var t=this,e=t.svg.select("."+u["default"].brush+" .overlay"),i=e.size()?e.attr("height"):0;t.svg.attr("width",t.currentWidth).attr("height",t.currentHeight),t.svg.selectAll(["#"+t.clipId,"#"+t.clipIdForGrid]).select("rect").attr("width",t.width).attr("height",t.height),t.svg.select("#"+t.clipIdForXAxis).select("rect").attr("x",t.getXAxisClipX.bind(t)).attr("y",t.getXAxisClipY.bind(t)).attr("width",t.getXAxisClipWidth.bind(t)).attr("height",t.getXAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForYAxis).select("rect").attr("x",t.getYAxisClipX.bind(t)).attr("y",t.getYAxisClipY.bind(t)).attr("width",t.getYAxisClipWidth.bind(t)).attr("height",t.getYAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForSubchart).select("rect").attr("width",t.width).attr("height",i),t.svg.select("."+u["default"].zoomRect).attr("width",t.width).attr("height",t.height),t.brush&&t.brush.scale(t.subX,i)},ChartInternal.prototype.updateDimension=function(t){var e=this;t||(e.config.axis_rotated?(e.axes.x.call(e.xAxis),e.axes.subx.call(e.subXAxis)):(e.axes.y.call(e.yAxis),e.axes.y2.call(e.y2Axis))),e.updateSizes(),e.updateScales(t),e.updateSvgSize(),e.transformAll(!1)},ChartInternal.prototype.bindResize=function(){var t=this,e=t.config;t.resizeFunction=t.generateResize(),
t.resizeFunction.add(function(){return e.onresize.call(t)}),e.resize_auto&&t.resizeFunction.add(function(){t.resizeTimeout&&(window.clearTimeout(t.resizeTimeout),t.resizeTimeout=null),t.resizeTimeout=window.setTimeout(t.api.flush,100)}),t.resizeFunction.add(function(){return e.onresized.call(t)}),window.addEventListener("resize",t.resizeFunction)},ChartInternal.prototype.generateResize=function(){function callResizeFunctions(){t.forEach(function(t){return t()})}var t=[];return callResizeFunctions.add=function(e){return t.push(e)},callResizeFunctions.remove=function(e){return t.splice(t.indexOf(e),1)},callResizeFunctions},ChartInternal.prototype.endall=function(t,e){var i=0;t.each(function(){return++i}).on("end",function(){for(var t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];--i||e.apply.apply(e,[this].concat(n))})},ChartInternal.prototype.generateWait=function(){var t=[],e=function(e,i){var n=void 0;!function loop(){var e=0;t.forEach(function(t){if(t.empty())e++;else try{t.transition()}catch(i){e++}}),n&&clearTimeout(n),e===t.length?i&&i():n=setTimeout(loop,50)}()};return e.add=function(e){(0,d.isArray)(e)?t=t.concat(e):t.push(e)},e},ChartInternal.prototype.parseDate=function(t){var e=void 0;return t instanceof Date?e=t:(0,d.isString)(t)?e=this.dataTimeFormat(this.config.data_xFormat)(t):(0,d.isNumber)(t)&&!isNaN(t)&&(e=new Date((+t))),(!e||isNaN(+e))&&console&&console.error&&console.error("Failed to parse x '"+t+"' to Date object"),e},ChartInternal.prototype.isTabVisible=function(){return!document[["hidden","mozHidden","msHidden","webkitHidden"].filter(function(t){return t in document})[0]]},ChartInternal.prototype.convertInputType=function(){var t=this.config,e=this.isMobile(),i=t.interaction_inputType_mouse&&!e&&"onmouseover"in window,n=!1;return t.interaction_inputType_touch&&(n="ontouchmove"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),(i?"mouse":n&&"touch")||null},ChartInternal}();e["default"]=c,t.exports=e["default"]},function(e,i){e.exports=t},function(t,i){t.exports=e},function(t,e){t.exports=i},function(t,e){t.exports=n},function(t,e,i){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var n=_interopRequireDefault(i(2)),a=_interopRequireDefault(i(9)),r=_interopRequireDefault(i(14)),o=i(11),s=function(t,e){var i=t.config.axis_rotated;return e?i:!i},l=function(){function Axis(t){(0,n["default"])(this,Axis),this.owner=t}return Axis.prototype.init=function(){var t=this,e=this.owner,i=e.config,n=i.axis_rotated,a=e.main;["x","y","y2"].forEach(function(s){var l="axis"+(0,o.capitalize)(s),u=r["default"].axis+" "+r["default"][l],d=r["default"][l+"Label"];e.axes[s]=a.append("g").attr("class",u).attr("clip-path",function(){var t=null;return"x"===s?t=e.clipPathForXAxis:"y"===s&&i.axis_y_inner&&(t=e.clipPathForYAxis),t}).attr("transform",e.getTranslate(s)).style("visibility",i["axis_"+s+"_show"]?"visible":"hidden"),e.axes[s].append("text").attr("class",d).attr("transform",["rotate(-90)",null]["x"===s?+!n:+n]).style("text-anchor",t.textAnchorForXAxisLabel.bind(t))})},Axis.prototype.getXAxis=function(t,e,i,n,r,s,l,u){var d=this.owner,c=d.config,f=d.isCategorized(),g={isCategory:f,withOuterTick:s,withoutTransition:l,config:c,axisName:t,tickMultiline:c.axis_x_tick_multiline,tickWidth:c.axis_x_tick_width,tickTextRotate:u?0:c.axis_x_tick_rotate,tickTitle:f&&c.axis_x_tick_tooltip&&d.api.categories(),orgXScale:d.x},h=(0,a["default"])(g).scale(d.zoomScale||e).orient(i),p=r;return d.isTimeSeries()&&r&&!(0,o.isFunction)(r)&&(p=r.map(function(t){return d.parseDate(t)})),h.tickFormat(n).tickValues(p),f&&(h.tickCentered(c.axis_x_tick_centered),(0,o.isEmpty)(c.axis_x_tick_culling)&&(c.axis_x_tick_culling=!1)),h},Axis.prototype.getYAxis=function(t,e,i,n,r,o,s,l){var u=this.owner,d=u.config,c={withOuterTick:o,withoutTransition:s,config:d,axisName:t,tickTextRotate:l?0:d.axis_y_tick_rotate},f=(0,a["default"])(c).scale(e).orient(i).tickFormat(n);return u.isTimeSeriesY()?f.ticks(d.axis_y_tick_time_value):f.tickValues(r),f},Axis.prototype.updateXAxisTickValues=function(t,e){var i=this.owner,n=i.config,a=n.axis_x_tick_count,r=void 0;return(n.axis_x_tick_fit||a)&&(r=this.generateTickValues(i.mapTargetsToUniqueXs(t),a,i.isTimeSeries())),e?e.tickValues(r):(i.xAxis.tickValues(r),i.subXAxis.tickValues(r)),r},Axis.prototype.getId=function(t){var e=this.owner.config;return t in e.data_axes?e.data_axes[t]:"y"},Axis.prototype.getXAxisTickFormat=function(){var t=this.owner,e=t.config.axis_x_tick_format,i=t.isTimeSeries(),n=t.isCategorized(),a=void 0;return e?(0,o.isFunction)(e)?a=e:i&&(a=function(i){return i?t.axisTimeFormat(e)(i):""}):a=i?t.defaultAxisTimeFormat:n?t.categoryName:function(t){return t<0?t.toFixed(0):t},(0,o.isFunction)(a)?function(e){return a.apply(t,n?[e,t.categoryName(e)]:[e])}:a},Axis.prototype.getTickValues=function(t){var e=this.owner,i=e.config["axis_"+t+"_tick_values"],n=e[t+"Axis"];return i||(n?n.tickValues():void 0)},Axis.prototype.getXAxisTickValues=function(){return this.getTickValues("x")},Axis.prototype.getYAxisTickValues=function(){return this.getTickValues("y")},Axis.prototype.getY2AxisTickValues=function(){return this.getTickValues("y2")},Axis.prototype.getLabelOptionByAxisId=function(t){return this.owner.config["axis_"+t+"_label"]},Axis.prototype.getLabelText=function(t){var e=this.getLabelOptionByAxisId(t);return(0,o.isString)(e)?e:e?e.text:null},Axis.prototype.setLabelText=function(t,e){var i=this.owner.config,n=this.getLabelOptionByAxisId(t);(0,o.isString)(n)?i["axis_"+t+"_label"]=e:n&&(n.text=e)},Axis.prototype.getLabelPosition=function(t,e){var i=this.owner.config.axis_rotated,n=this.getLabelOptionByAxisId(t),a=(0,o.isObjectType)(n)&&n.position?n.position:e[+!i],r=function(t){return!!~a.indexOf(t)};return{isInner:r("inner"),isOuter:r("outer"),isLeft:r("left"),isCenter:r("center"),isRight:r("right"),isTop:r("top"),isMiddle:r("middle"),isBottom:r("bottom")}},Axis.prototype.getXAxisLabelPosition=function(){return this.getLabelPosition("x",["inner-top","inner-right"])},Axis.prototype.getYAxisLabelPosition=function(){return this.getLabelPosition("y",["inner-right","inner-top"])},Axis.prototype.getY2AxisLabelPosition=function(){return this.getLabelPosition("y2",["inner-right","inner-top"])},Axis.prototype.getLabelPositionById=function(t){return this["get"+t.toUpperCase()+"AxisLabelPosition"]()},Axis.prototype.textForXAxisLabel=function(){return this.getLabelText("x")},Axis.prototype.textForYAxisLabel=function(){return this.getLabelText("y")},Axis.prototype.textForY2AxisLabel=function(){return this.getLabelText("y2")},Axis.prototype.xForAxisLabel=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.owner,n=t.isMiddle?-i.height/2:0;return s(i,e)?n=t.isLeft?0:t.isCenter?i.width/2:i.width:t.isBottom&&(n=-i.height),n},Axis.prototype.dxForAxisLabel=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.owner,n=t.isBottom?"0.5em":"0";return s(i,e)?n=t.isLeft?"0.5em":t.isRight?"-0.5em":"0":t.isTop&&(n="-0.5em"),n},Axis.prototype.textAnchorForAxisLabel=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.owner,n=t.isMiddle?"middle":"end";return s(i,e)?n=t.isLeft?"start":t.isCenter?"middle":"end":t.isBottom&&(n="start"),n},Axis.prototype.xForXAxisLabel=function(){return this.xForAxisLabel(this.getXAxisLabelPosition(),!1)},Axis.prototype.xForYAxisLabel=function(){return this.xForAxisLabel(this.getYAxisLabelPosition())},Axis.prototype.xForY2AxisLabel=function(){return this.xForAxisLabel(this.getY2AxisLabelPosition())},Axis.prototype.dxForXAxisLabel=function(){return this.dxForAxisLabel(this.getXAxisLabelPosition(),!1)},Axis.prototype.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.getYAxisLabelPosition())},Axis.prototype.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.getY2AxisLabelPosition())},Axis.prototype.dyForXAxisLabel=function(){var t=this.owner.config,e=this.getXAxisLabelPosition().isInner,i=t.axis_x_height;return t.axis_rotated?e?"1.2em":-25-this.getMaxTickWidth("x"):e?"-0.5em":i?i-10:"3em"},Axis.prototype.dyForYAxisLabel=function(){var t=this.owner,e=this.getYAxisLabelPosition().isInner;return t.config.axis_rotated?e?"-0.5em":"3em":e?"1.2em":-10-(t.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)},Axis.prototype.dyForY2AxisLabel=function(){var t=this.owner,e=this.getY2AxisLabelPosition().isInner;return t.config.axis_rotated?e?"1.2em":"-2.2em":e?"-0.5em":15+(t.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},Axis.prototype.textAnchorForXAxisLabel=function(){return this.textAnchorForAxisLabel(this.getXAxisLabelPosition(),!1)},Axis.prototype.textAnchorForYAxisLabel=function(){return this.textAnchorForAxisLabel(this.getYAxisLabelPosition())},Axis.prototype.textAnchorForY2AxisLabel=function(){return this.textAnchorForAxisLabel(this.getY2AxisLabelPosition())},Axis.prototype.getMaxTickWidth=function(t,e){var i=this.owner,n=i.config,a=i.currentMaxTickWidths,r=0;if(e&&a[t])return a[t];if(i.svg){var o=/^y2?$/.test(t),s=i.filterTargetsToShow(i.data.targets),l=o?"getY":"getX",u=i[t].copy().domain(i[l+"Domain"](s,t)),d=this[l+"Axis"](t,u,i[t+"Orient"],o?n["axis_"+t+"_tick_format"]:i.xAxisTickFormat,null,!1,!0,!0);o||this.updateXAxisTickValues(s,d);var c=i.selectChart.append("svg").style("visibility","hidden").style("position","fixed").style("top","0px").style("left","0px");c.call(d).selectAll("text").each(function(){r=Math.max(r,this.getBoundingClientRect().width)}),c.remove()}return r>0&&(a[t]=r),a[t]},Axis.prototype.updateLabels=function(t){var e=this,i=this.owner,n={X:i.main.select("."+r["default"].axisX+" ."+r["default"].axisXLabel),Y:i.main.select("."+r["default"].axisY+" ."+r["default"].axisYLabel),Y2:i.main.select("."+r["default"].axisY2+" ."+r["default"].axisY2Label)};Object.keys(n).forEach(function(i){var a=n[i],r=i+"AxisLabel";(t?a.transition():a).attr("x",e["xFor"+r].bind(e)).attr("dx",e["dxFor"+r].bind(e)).attr("dy",e["dyFor"+r].bind(e)).text(e["textFor"+r].bind(e))})},Axis.prototype.getPadding=function(t,e,i,n){var a=(0,o.isNumber)(t)?t:t[e];return(0,o.isValue)(a)?"ratio"===t.unit?t[e]*n:this.convertPixelsToAxisPadding(a,n):i},Axis.prototype.convertPixelsToAxisPadding=function(t,e){var i=this.owner;return e*(t/(i.config.axis_rotated?i.width:i.height))},Axis.prototype.generateTickValues=function(t,e,i){var n=t,a=void 0,r=void 0,s=void 0,l=void 0,u=void 0,d=void 0;if(e){var c=(0,o.isFunction)(e)?e():e;if(1===c)n=[t[0]];else if(2===c)n=[t[0],t[t.length-1]];else if(c>2){for(s=c-2,a=t[0],l=((r=t[t.length-1])-a)/(s+1),n=[a],u=0;u<s;u++)d=+a+l*(u+1),n.push(i?new Date(d):d);n.push(r)}}return i||(n=n.sort(function(t,e){return t-e})),n},Axis.prototype.generateTransitions=function(t){var e=this.owner.axes,i=["x","y","y2","subx"].map(function(i){return t?e[i].transition().duration(t):e[i]});return{axisX:i[0],axisY:i[1],axisY2:i[2],axisSubX:i[3]}},Axis.prototype.redraw=function(t,e){var i=this.owner,n=e?"0":"1";["x","y","y2","subx"].forEach(function(t){i.axes[t].style("opacity",n)}),t.axisX.call(i.xAxis),t.axisY.call(i.yAxis),t.axisY2.call(i.y2Axis),t.axisSubX.call(i.subXAxis)},Axis}();e["default"]=l,t.exports=e["default"]},function(t,e,i){"use strict";e.__esModule=!0,e["default"]=function(){function axisX(t,e){t.attr("transform",function(t){return"translate("+Math.ceil(e(t)+c)+", 0)"})}function axisY(t,e){t.attr("transform",function(t){return"translate(0,"+Math.ceil(e(t))+")"})}function textFormatted(t){var e=/\d+\.\d+0{5,}\d$/.test(t)?+(t+"").replace(/0+\d$/,""):t,i=u?u(e):e;return(0,r.isDefined)(i)?i:""}function transitionise(e){return t.withoutTransition?e.interrupt():e.transition(h)}function axis(n){n.each(function(){var n=(0,a.select)(this);axis.g=n;var u=this.__chart__||e,f=function(){var t=e.copy();return t.domain().length||t.domain(e.domain()),t}();this.__chart__=f;var h=l||function(t){var e=[];if(t.ticks)return t.ticks.apply(t,d?(0,r.toArray)(d):[]).map(function(t){return(0,r.isString)(t)&&(0,r.isNumber)(t)&&!isNaN(t)&&Math.round(10*t)/10||t});for(var i=t.domain(),n=Math.ceil(i[0]);n<i[1];n++)e.push(n);return e.length>0&&e[0]>0&&e.unshift(e[0]-(e[1]-e[0])),e}(f),p=n.selectAll(".tick").data(h,f),x=p.enter().insert("g",".domain").attr("class","tick").style("opacity","1"),_=p.exit().remove(),m=transitionise(p=x.merge(p)).style("opacity","1"),v=void 0,y=void 0,b=e.rangeExtent?e.rangeExtent():function(t){var e=t[0],i=t[t.length-1];return e<i?[e,i]:[i,e]}((t.orgXScale||e).range()),T=n.selectAll(".domain").data([0]),A=T.enter().append("path").attr("class","domain").merge(transitionise(T));x.append("line"),x.append("text");var w=x.select("line"),D=m.select("line"),L=x.select("text"),S=m.select("text");t.isCategory?(c=Math.ceil((f(1)-f(0))/2),v=g?0:c,y=g?c:0):c=v=0;var C=o.size||o(n.select(".tick")),R=[],F=(Math.max(6,0),/^(left|right)$/.test(i)),X=/^(top|bottom)$/.test(i),I=p.select("text").selectAll("tspan").data(function(e,i){var n=t.tickMultiline?function(e,i){var n=textFormatted(e),a=(0,r.isString)(n)&&n.indexOf("\n")>-1?n.split("\n"):[];if(a.length)return a;var o=i,s=void 0,l=void 0,u=void 0;return(0,r.isArray)(n)?n:((!o||o<=0)&&(o=F?95:t.isCategory?Math.ceil(f(h[1])-f(h[0]))-12:110),function split(t,e){l=void 0;for(var i=1;i<e.length;i++)if(" "===e.charAt(i)&&(l=i),s=e.substr(0,i+1),u=C.w*s.length,o<u)return split(t.concat(e.substr(0,l||i)),e.slice(l?l+1:i));return t.concat(e)}(a,n+""))}(e,t.tickWidth):(0,r.isArray)(textFormatted(e))?textFormatted(e).concat():[textFormatted(e)];return R[i]=n.length,n.map(function(t){return{index:i,splitted:t}})});I.exit().remove(),I=I.enter().append("tspan").merge(I).text(function(t){return t.splitted});var M=X?axisX:axisY,k=/^(top|left)$/.test(i)?-1:1,E=M===axisX?"y":"x";w.attr(E+"2",6*k),L.attr(""+E,9*k),A.attr("d",function(){var t=s*k;return X?"M"+b[0]+","+t+"V0H"+b[1]+"V"+t:"M"+t+","+b[0]+"H0V"+b[1]+"H"+t});var B=t.tickTextRotate,O=t.axisName&&/^(x|y|y2)$/.test(t.axisName)?t.config["axis_"+t.axisName+"_tick_text_position"]:{x:0,y:0};if(I.attr("x",X?0:9*k).attr("dx",function(){var t=0;return"bottom"===i&&B&&(t=8*Math.sin(Math.PI*(B/180))),t+(O.x||0)}()).attr("dy",function(t,e){var n=0;return"top"!==i&&(n=0===e?F?-((R[t.index]-1)*(C.h/2)-3):0===O.y?".71em":0:C.h),(0,r.isNumber)(n)&&O.y?n+O.y:n||".71em"}),"bottom"===i?(D.attr("x1",v).attr("x2",v).attr("y2",function(t){var i=e(t)+(g?0:c);return b[0]<i&&i<b[1]?6:0}),S.attr("x",0).attr("y",function(t){return t?11.5-t/15*2.5*(t>0?1:-1):9}(B)).style("text-anchor",function(t){return t?t>0?"start":"end":"middle"}(B)).attr("transform",function(t){return t?"rotate("+t+")":null}(B))):"top"===i?(D.attr("x2",0).attr("y2",-6),S.attr("x",0).attr("y",-9).style("text-anchor","middle")):"left"===i?(D.attr("x2",-6).attr("y1",y).attr("y2",y),S.attr("x",-9).attr("y",c).style("text-anchor","end")):"right"===i&&(D.attr("x2",6).attr("y2",0),S.attr("x",9).attr("y",0).style("text-anchor","start")),t.tickTitle&&S.append&&S.append("title").each(function(e){(0,a.select)(this).text(t.tickTitle[e])}),f.bandwidth){var P=f,z=P.bandwidth()/2;f=u=function(t){return P(t)+z}}else u.bandwidth?u=f:_.call(M,f);x.call(M,u),m.call(M,f)})}var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=(0,n.scaleLinear)(),i="bottom",s=t.withOuterTick?6:0,l=null,u=void 0,d=void 0,c=0,f=!0,g=void 0,h=void 0;return axis.scale=function(t){return arguments.length?(e=t,axis):e},axis.orient=function(t){return arguments.length?(i=t in{top:1,right:1,bottom:1,left:1}?t+"":"bottom",axis):i},axis.tickFormat=function(t){return arguments.length?(u=t,axis):u},axis.tickCentered=function(t){return arguments.length?(g=t,axis):g},axis.tickOffset=function(){return c},axis.tickInterval=function(e){var i=void 0;return i=t.isCategory?2*c:(axis.g.select("path.domain").node().getTotalLength()-2*s)/(e||axis.g.selectAll("line").size()),i===1/0?0:i},axis.ticks=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return e.length?(d=(0,r.toArray)(e),axis):d},axis.tickCulling=function(t){return arguments.length?(f=t,axis):f},axis.tickValues=function(t){if((0,r.isFunction)(t))l=function(){return t(e.domain())};else{if(!arguments.length)return l;l=t}return axis},axis.setTransition=function(t){return h=t,axis},axis};var n=i(10),a=i(5),r=i(11),o=function getSizeFor1Char(t){var e={w:5.5,h:11.5};return t.empty()||t.select("text").text("0").call(function(t){try{var i=t.node().getBBox(),n=i.height,a=i.width;n&&a&&(e.h=n,e.w=a),t.text("")}catch(r){}}),getSizeFor1Char.size=e};t.exports=e["default"]},function(t,e){t.exports=a},function(t,e,i){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0,e.toArray=e.sanitise=e.merge=e.notEmpty=e.isValue=e.isUndefined=e.isString=e.isObjectType=e.isObject=e.isNumber=e.isFunction=e.isEmpty=e.isDefined=e.isBoolean=e.isArray=e.hasValue=e.getRectSegList=e.getPathBox=e.getOption=e.getCssRules=e.getBrushSelection=e.extend=e.emulateEvent=e.diffDomain=e.ceil10=e.capitalize=e.callFn=e.brushEmpty=e.asHalfPixel=void 0;var n=_interopRequireDefault(i(12)),a=i(5),r=i(13),o=_interopRequireDefault(i(14)),s=function(t){return"function"==typeof t},l=function(t){return"string"==typeof t},u=function(t){return void 0===t},d=function(t){return void 0!==t},c=function(t){return"object"===(void 0===t?"undefined":(0,n["default"])(t))},f=function(t){return u(t)||null===t||l(t)&&0===t.length||c(t)&&0===Object.keys(t).length},g=function(t){return t&&t.constructor===Array},h=function(t){return t&&!t.nodeType&&c(t)&&!g(t)},p=function(t){var e=t.getBBox(),i=[e.x,e.y,e.width,e.height],n=i[0],a=i[1],r=i[2],o=i[3];return[{x:n,y:a+o},{x:n,y:a},{x:n+r,y:a},{x:n+r,y:a+o}]},x=function(t){var e=null,i=a.event,n=t.context||t.main;return i&&"BrushEvent"===i.constructor.name?e=i.selection:n&&(e=n.select("."+o["default"].brush).node())&&(e=(0,r.brushSelection)(e)),e},_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];for(var i in e)t[i]=e[i];return t},m=function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];if(!i.length||1===i.length&&!i[0])return t;var a=i.shift();return h(t)&&h(a)&&Object.keys(a).forEach(function(e){var i=a[e];h(i)?(!t[e]&&(t[e]={}),t[e]=m(t[e],i)):t[e]=g(i)?i.concat():i}),_.apply(void 0,[t].concat(i))},v=function(t){return[].slice.call(t)},y={mouse:function(){try{return new MouseEvent("t"),function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{bubbles:!1,cancelable:!1,screenX:0,screenY:0,clientX:0,clientY:0};t.dispatchEvent(new MouseEvent(e,i))}}catch(t){return function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{bubbles:!1,cancelable:!1,screenX:0,screenY:0,clientX:0,clientY:0},n=document.createEvent("MouseEvent");n.initMouseEvent(e,i.bubbles,i.cancelable,window,0,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),t.dispatchEvent(n)}}}(),touch:function(t,e,i){var n=new Touch(Object.assign({identifier:Date.now(),target:t,radiusX:2.5,radiusY:2.5,rotationAngle:10,force:.5},i));t.dispatchEvent(new TouchEvent(e,{cancelable:!0,bubbles:!0,shiftKey:!0,touches:[n],targetTouches:[],changedTouches:[n]}))}};e.asHalfPixel=function(t){return Math.ceil(t)+.5},e.brushEmpty=function(t){var e=x(t);return!e||e[0]===e[1]},e.callFn=function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];var a=s(t);return a&&t.call.apply(t,i),a},e.capitalize=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},e.ceil10=function(t){return 10*Math.ceil(t/10)},e.diffDomain=function(t){return t[1]-t[0]},e.emulateEvent=y,e.extend=_,e.getBrushSelection=x,e.getCssRules=function(t){var e=[];return t.forEach(function(t){try{t.cssRules&&t.cssRules.length&&(e=e.concat(v(t.cssRules)))}catch(i){console.error("Error while reading rules from "+t.href+": "+i.toString())}}),e},e.getOption=function(t,e,i){return d(t[e])?t[e]:i},e.getPathBox=function(t){var e=t.getBoundingClientRect(),i=[e.width,e.height],n=i[0],a=i[1],r=p(t);return{x:r[0].x,y:Math.min(r[0].y,r[1].y),width:n,height:a}},e.getRectSegList=p,e.hasValue=function(t,e){var i=!1;return Object.keys(t).forEach(function(n){return t[n]===e&&(i=!0)}),i},e.isArray=g,e.isBoolean=function(t){return"boolean"==typeof t},e.isDefined=d,e.isEmpty=f,e.isFunction=s,e.isNumber=function(t){return"number"==typeof t},e.isObject=h,e.isObjectType=c,e.isString=l,e.isUndefined=u,e.isValue=function(t){return t||0===t},e.notEmpty=function(t){return!f(t)},e.merge=m,e.sanitise=function(t){return l(t)?t.replace(/</g,"&lt;").replace(/>/g,"&gt;"):t},e.toArray=v},function(t,e,i){"use strict";e.__esModule=!0,e["default"]=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":void 0===t?"undefined":function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}(t)}},function(t,e){t.exports=r},function(t,e,i){"use strict";e.__esModule=!0,e["default"]={arc:"bb-arc",arcs:"bb-arcs",area:"bb-area",areas:"bb-areas",axis:"bb-axis",axisX:"bb-axis-x",axisXLabel:"bb-axis-x-label",axisY:"bb-axis-y",axisY2:"bb-axis-y2",axisY2Label:"bb-axis-y2-label",axisYLabel:"bb-axis-y-label",bar:"bb-bar",bars:"bb-bars",brush:"bb-brush",button:"bb-button",buttonZoomReset:"bb-zoom-reset",chart:"bb-chart",chartArc:"bb-chart-arc",chartArcs:"bb-chart-arcs",chartArcsBackground:"bb-chart-arcs-background",chartArcsGaugeMax:"bb-chart-arcs-gauge-max",chartArcsGaugeMin:"bb-chart-arcs-gauge-min",chartArcsGaugeUnit:"bb-chart-arcs-gauge-unit",chartArcsTitle:"bb-chart-arcs-title",chartBar:"bb-chart-bar",chartBars:"bb-chart-bars",chartLine:"bb-chart-line",chartLines:"bb-chart-lines",chartRadar:"bb-chart-radar",chartRadars:"bb-chart-radars",chartText:"bb-chart-text",chartTexts:"bb-chart-texts",circle:"bb-circle",circles:"bb-circles",colorPattern:"bb-color-pattern",defocused:"bb-defocused",dragarea:"bb-dragarea",empty:"bb-empty",eventRect:"bb-event-rect",eventRects:"bb-event-rects",eventRectsMultiple:"bb-event-rects-multiple",eventRectsSingle:"bb-event-rects-single",focused:"bb-focused",gaugeValue:"bb-gauge-value",grid:"bb-grid",gridLines:"bb-grid-lines",legendBackground:"bb-legend-background",legendItem:"bb-legend-item",legendItemEvent:"bb-legend-item-event",legendItemFocused:"bb-legend-item-focused",legendItemHidden:"bb-legend-item-hidden",legendItemPoint:"bb-legend-item-point",legendItemTile:"bb-legend-item-tile",level:"bb-level",levels:"bb-levels",line:"bb-line",lines:"bb-lines",region:"bb-region",regions:"bb-regions",selectedCircle:"bb-selected-circle",selectedCircles:"bb-selected-circles",shape:"bb-shape",shapes:"bb-shapes",target:"bb-target",text:"bb-text",texts:"bb-texts",title:"bb-title",tooltip:"bb-tooltip",tooltipContainer:"bb-tooltip-container",tooltipName:"bb-tooltip-name",xgrid:"bb-xgrid",xgridFocus:"bb-xgrid-focus",xgridLine:"bb-xgrid-line",xgridLines:"bb-xgrid-lines",xgrids:"bb-xgrids",ygrid:"bb-ygrid",ygridLine:"bb-ygrid-line",ygridLines:"bb-ygrid-lines",ygrids:"bb-ygrids",zoomBrush:"bb-zoom-brush",zoomRect:"bb-zoom-rect",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"},t.exports=e["default"]},function(t,e,i){},,function(t,e,i){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}var n=_interopRequireDefault(i(18)),a=_interopRequireDefault(i(3)),r=i(11);(0,r.extend)(a["default"].prototype,{getOptions:function(){var t=new n["default"];return(0,r.merge)(t.value,this.additionalConfig)},additionalConfig:{},loadConfig:function(t){var e=this.config,i=void 0,n=void 0,a=void 0,o=function(){var t=n.shift();return t&&i&&(0,r.isObjectType)(i)&&t in i?(i=i[t],o()):t?void 0:i};Object.keys(e).forEach(function(s){i=t,n=s.split("_"),a=o(),(0,r.isDefined)(a)&&(e[s]=a)})}})},function(t,e,i){"use strict";e.__esModule=!0;var n=function(t){return t&&t.__esModule?t:{"default":t}}(i(2));e["default"]=function Options(){(0,n["default"])(this,Options),this.value={bindto:"#chart",clipPath:!0,svg_classname:void 0,size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,resize_auto:!0,zoom_enabled:void 0,zoom_extent:void 0,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:void 0,zoom_onzoomstart:void 0,zoom_onzoomend:void 0,zoom_resetButton:!0,zoom_x_min:void 0,zoom_x_max:void 0,interaction_enabled:!0,interaction_brighten:!0,interaction_inputType_mouse:!0,interaction_inputType_touch:{},onover:function(){},onout:function(){},onresize:function(){},onresized:function(){},onbeforeinit:void 0,oninit:function(){},onafterinit:void 0,onrendered:void 0,transition_duration:350,data_x:void 0,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(t){return t},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_labels_position:{},data_order:"desc",data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_onclick:function(){},data_onover:function(){},data_onout:function(){},data_onselected:function(){},data_onunselected:function(){},data_onmin:void 0,data_onmax:void 0,data_url:void 0,data_headers:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_axis_x_show:!0,subchart_onbrush:function(){},color_pattern:[],color_tiles:void 0,color_threshold:{},legend_show:!0,legend_hide:!1,legend_contents_bindto:void 0,legend_contents_template:void 0,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onover:void 0,legend_item_onout:void 0,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,legend_usePoint:!1,axis_rotated:!1,axis_x_clipPath:!0,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,axis_x_tick_text_position:{x:0,y:0},axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_width:null,axis_x_tick_tooltip:!1,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_extent:void 0,axis_x_label:{},axis_y_clipPath:!0,axis_y_show:!0,axis_y_type:void 0,axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,axis_y_inner:!1,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_rotate:0,axis_y_tick_count:void 0,axis_y_tick_text_position:{x:0,y:0},axis_y_tick_time_value:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:!1,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:void 0,axis_y2_tick_text_position:{x:0,y:0},axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_front:!1,grid_lines_front:!0,point_show:!0,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_pattern:[],point_select_r:void 0,point_type:"circle",line_connectNull:!1,line_step_type:"step",line_classes:void 0,line_point:!0,bar_padding:0,bar_radius:void 0,bar_radius_ratio:void 0,bar_width:void 0,bar_width_ratio:.6,bar_width_max:void 0,bar_zerobased:!0,bubble_maxR:35,area_zerobased:!0,area_above:!1,pie_label_show:!0,pie_label_format:void 0,pie_label_threshold:.05,pie_label_ratio:void 0,pie_expand:{},pie_expand_duration:50,pie_innerRadius:0,pie_padAngle:0,pie_padding:0,gauge_fullCircle:!1,gauge_label_show:!0,gauge_label_format:void 0,gauge_min:0,gauge_max:100,gauge_startingAngle:-1*Math.PI/2,gauge_label_extents:void 0,gauge_units:void 0,gauge_width:void 0,gauge_expand:{},gauge_expand_duration:50,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:.05,donut_label_ratio:void 0,donut_width:void 0,donut_title:"",donut_expand:{},donut_expand_duration:50,donut_padAngle:0,spline_interpolation_type:"cardinal",radar_axis_max:void 0,radar_axis_line_show:!0,radar_axis_text_show:!0,radar_level_depth:3,radar_level_show:!0,radar_level_text_format:function(t){return t%1==0?t:t.toFixed(2)},radar_level_text_show:!0,radar_size_ratio:.87,radar_direction_clockwise:!1,regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_position:void 0,tooltip_contents:function(t,e,i,n){return this.getTooltipContent?this.getTooltipContent(t,e,i,n):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_linked:!1,tooltip_linked_name:"",tooltip_onshow:function(){},tooltip_onhide:function(){},tooltip_onshown:function(){},tooltip_onhidden:function(){},tooltip_order:null,title_text:void 0,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center"}},t.exports=e["default"]},function(t,e,i){"use strict";var n=i(10),a=function(t){return t&&t.__esModule?t:{"default":t}}(i(3));(0,i(11).extend)(a["default"].prototype,{getScale:function(t,e,i){return(i?(0,n.scaleTime)():(0,n.scaleLinear)()).range([t,e])},getX:function(t,e,i,n){var a=this.zoomScale||this.getScale(t,e,this.isTimeSeries());return this.getCustomizedScale(i?a.domain(i):a,n)},getY:function(t,e,i){var n=this.getScale(t,e,this.isTimeSeriesY());return i&&n.domain(i),n},getCustomizedScale:function(t,e){var i=this,n=e||function(){return i.xAxis.tickOffset()},a=function(e,i){var a=t(e)+n();return i?a:Math.ceil(a)};for(var r in t)a[r]=t[r];return a.orgDomain=function(){return t.domain()},a.orgScale=function(){return t},i.isCategorized()&&(a.domain=function(e){var i=e;return arguments.length?(t.domain(i),a):[(i=this.orgDomain())[0],i[1]+1]}),a},getYScale:function(t){return"y2"===this.axis.getId(t)?this.y2:this.y},getSubYScale:function(t){return"y2"===this.axis.getId(t)?this.subY2:this.subY},updateScales:function(t){var e=this,i=e.config,n=i.axis_rotated,a=!e.x;e.xMin=n?1:0,e.xMax=n?e.height:e.width,e.yMin=n?0:e.height,e.yMax=n?e.width:1,e.subXMin=e.xMin,e.subXMax=e.xMax,e.subYMin=n?0:e.height2,e.subYMax=n?e.width2:1,e.x=e.getX(e.xMin,e.xMax,a?void 0:e.x.orgDomain(),function(){return e.xAxis.tickOffset()}),e.y=e.getY(e.yMin,e.yMax,a?i.axis_y_default:e.y.domain()),e.y2=e.getY(e.yMin,e.yMax,a?i.axis_y2_default:e.y2.domain()),e.subX=e.getX(e.xMin,e.xMax,e.orgXDomain,function(t){return t%1?0:e.subXAxis.tickOffset()}),e.subY=e.getY(e.subYMin,e.subYMax,a?i.axis_y_default:e.subY.domain()),e.subY2=e.getY(e.subYMin,e.subYMax,a?i.axis_y2_default:e.subY2.domain()),e.xAxisTickFormat=e.axis.getXAxisTickFormat(),e.xAxisTickValues=e.axis.getXAxisTickValues(),e.yAxisTickValues=e.axis.getYAxisTickValues(),e.y2AxisTickValues=e.axis.getY2AxisTickValues(),e.xAxis=e.axis.getXAxis("x",e.x,e.xOrient,e.xAxisTickFormat,e.xAxisTickValues,i.axis_x_tick_outer,t),e.subXAxis=e.axis.getXAxis("subx",e.subX,e.subXOrient,e.xAxisTickFormat,e.xAxisTickValues,i.axis_x_tick_outer),e.yAxis=e.axis.getYAxis("y",e.y,e.yOrient,i.axis_y_tick_format,e.yAxisTickValues,i.axis_y_tick_outer),e.y2Axis=e.axis.getYAxis("y2",e.y2,e.y2Orient,i.axis_y2_tick_format,e.y2AxisTickValues,i.axis_y2_tick_outer),e.updateArc&&e.updateArc()}})},function(t,e,i){"use strict";var n=i(6),a=function(t){return t&&t.__esModule?t:{"default":t}}(i(3)),r=i(11);(0,r.extend)(a["default"].prototype,{getYDomainMinMax:function(t,e){var i=this,a="min"===e,r=i.config.data_groups,o=i.mapToIds(t),s=i.getValuesAsIdKeyed(t),l=a?n.min:n.max;return r.length>0&&function(){for(var e=i["has"+(a?"Negative":"Positive")+"ValueInTargets"](t),n=void 0,l=void 0,u=0;l=r[u];u++)if(0!==(l=l.filter(function(t){
return o.indexOf(t)>=0})).length){if(n=l[0],e&&s[n]){var d=a?function(t,e){s[n][e]=t<0?t:0}:function(t,e){s[n][e]=t>0?t:0};s[n].forEach(d)}for(var c,f=function(t,r){return s[r]?void s[r].forEach(function(t,o){var l=+t,u=a?l>0:l<0;i.axis.getId(r)===i.axis.getId(n)&&s[n]&&(!e||!u)&&(s[n][o]+=l)}):"continue"},g=1;c=l[g];g++)f(0,c)}}(),l(Object.keys(s).map(function(t){return l(s[t])}))},getYDomainMin:function(t){return this.getYDomainMinMax(t,"min")},getYDomainMax:function(t){return this.getYDomainMinMax(t,"max")},getYDomain:function(t,e,i){var n=this,a=n.config,o=t.filter(function(t){return n.axis.getId(t.id)===e}),s=i?n.filterByXDomain(o,i):o,l="y2"===e?a.axis_y2_min:a.axis_y_min,u="y2"===e?a.axis_y2_max:a.axis_y_max,d=n.getYDomainMin(s),c=n.getYDomainMax(s),f="y2"===e?a.axis_y2_center:a.axis_y_center,g=n.hasType("bar",s)&&a.bar_zerobased||n.hasType("area",s)&&a.area_zerobased,h="y2"===e?a.axis_y2_inverted:a.axis_y_inverted,p=n.hasDataLabel()&&a.axis_rotated,x=n.hasDataLabel()&&!a.axis_rotated,_=void 0;if(d=(0,r.isValue)(l)?l:(0,r.isValue)(u)?d<u?d:u-10:d,c=(0,r.isValue)(u)?u:(0,r.isValue)(l)?l<c?c:l+10:c,0===s.length)return"y2"===e?n.y2.domain():n.y.domain();isNaN(d)&&(d=0),isNaN(c)&&(c=d),d===c&&(d<0?c=0:d=0);var m=d>=0&&c>=0,v=d<=0&&c<=0;((0,r.isValue)(l)&&m||(0,r.isValue)(u)&&v)&&(g=!1),g&&(m&&(d=0),v&&(c=0));var y=Math.abs(c-d),b=.1*y,T=.1*y;if((0,r.isDefined)(f)){var A=Math.max(Math.abs(d),Math.abs(c));c=f+A,d=f-A}if(p){_=n.getDataLabelLength(d,c,"width");var w=(0,r.diffDomain)(n.y.range()),D=[_[0]/w,_[1]/w];b+=y*(D[1]/(1-D[0]-D[1])),T+=y*(D[0]/(1-D[0]-D[1]))}else x&&(_=n.getDataLabelLength(d,c,"height"),b+=n.axis.convertPixelsToAxisPadding(_[1],y),T+=n.axis.convertPixelsToAxisPadding(_[0],y));"y"===e&&(0,r.notEmpty)(a.axis_y_padding)&&(b=n.axis.getPadding(a.axis_y_padding,"top",b,y),T=n.axis.getPadding(a.axis_y_padding,"bottom",T,y)),"y2"===e&&(0,r.notEmpty)(a.axis_y2_padding)&&(b=n.axis.getPadding(a.axis_y2_padding,"top",b,y),T=n.axis.getPadding(a.axis_y2_padding,"bottom",T,y)),g&&(m&&(T=d),v&&(b=-c));var L=[d-T,c+b];return h?L.reverse():L},getXDomainMinMax:function(t,e){var i=this.config["axis_x_"+e],a="min"===e?n.min:n.max;return(0,r.isDefined)(i)?this.isTimeSeries()?this.parseDate(i):i:a(t,function(t){return a(t.values,function(t){return t.x})})},getXDomainMin:function(t){return this.getXDomainMinMax(t,"min")},getXDomainMax:function(t){return this.getXDomainMinMax(t,"max")},getXDomainPadding:function(t){var e=this.config,i=t[1]-t[0],n=e.axis_x_padding,a=void 0,o=void 0;o=this.isCategorized()?0:this.hasType("bar")?(a=this.getMaxDataCount())>1?i/(a-1)/2:.5:.01*i;var s=o,l=o;return(0,r.isObject)(n)&&(0,r.notEmpty)(n)?(s=(0,r.isValue)(n.left)?n.left:o,l=(0,r.isValue)(n.right)?n.right:o):(0,r.isNumber)(e.axis_x_padding)&&(s=n,l=n),{left:s,right:l}},getXDomain:function(t){var e=this,i=[e.getXDomainMin(t),e.getXDomainMax(t)],n=i[0],a=i[1],r=e.getXDomainPadding(i),o=0,s=0;return n-a!=0||e.isCategorized()||(e.isTimeSeries()?(n=new Date(.5*n.getTime()),a=new Date(1.5*a.getTime())):(n=0===n?1:.5*n,a=0===a?-1:1.5*a)),(n||0===n)&&(o=e.isTimeSeries()?new Date(n.getTime()-r.left):n-r.left),(a||0===a)&&(s=e.isTimeSeries()?new Date(a.getTime()+r.right):a+r.right),[o,s]},updateXDomain:function(t,e,i,a,o){var s=this,l=s.config.zoom_enabled;if(i&&(s.x.domain(o||(0,n.extent)(s.getXDomain(t))),s.orgXDomain=s.x.domain(),l&&s.zoom.updateScaleExtent(),s.subX.domain(s.x.domain()),s.brush&&s.brush.scale(s.subX)),e){var u=o||!s.brush||(0,r.brushEmpty)(s)?s.orgXDomain:(0,r.getBrushSelection)(s).map(s.subX.invert);s.x.domain(u),l&&s.zoom.updateScaleExtent()}return a&&s.x.domain(s.trimXDomain(s.x.orgDomain())),s.x.domain()},trimXDomain:function(t){var e=this.getZoomDomain(),i=e[0],n=e[1];return t[0]<=i&&(t[1]=+t[1]+(i-t[0]),t[0]=i),n<=t[1]&&(t[0]=+t[0]-(t[1]-n),t[1]=n),t}})},function(t,e,i){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}var n=i(6),a=i(22),r=_interopRequireDefault(i(14)),o=_interopRequireDefault(i(3)),s=i(11);(0,s.extend)(o["default"].prototype,{isX:function(t){var e=this.config,i=e.data_x&&t===e.data_x,n=(0,s.notEmpty)(e.data_xs)&&(0,s.hasValue)(e.data_xs,t);return i||n},isNotX:function(t){return!this.isX(t)},getXKey:function(t){var e=this.config;return e.data_x?e.data_x:(0,s.notEmpty)(e.data_xs)?e.data_xs[t]:null},getXValuesOfXKey:function(t,e){var i=this,n=void 0;return(e&&(0,s.notEmpty)(e)?i.mapToIds(e):[]).forEach(function(e){i.getXKey(e)===t&&(n=i.data.xs[e])}),n},getIndexByX:function(t){var e=this.filterByX(this.data.targets,t);return e.length?e[0].index:null},getXValue:function(t,e){return t in this.data.xs&&this.data.xs[t]&&(0,s.isValue)(this.data.xs[t][e])?this.data.xs[t][e]:e},getOtherTargetXs:function(){var t=Object.keys(this.data.xs);return t.length?this.data.xs[t[0]]:null},getOtherTargetX:function(t){var e=this.getOtherTargetXs();return e&&t<e.length?e[t]:null},addXs:function(t){var e=this;Object.keys(t).forEach(function(i){e.config.data_xs[i]=t[i]})},hasMultipleX:function(t){return(0,a.set)(Object.keys(t).map(function(e){return t[e]})).size()>1},isMultipleX:function(){return(0,s.notEmpty)(this.config.data_xs)||!this.config.data_xSort||this.hasType("bubble")||this.hasType("scatter")},addName:function(t){var e=void 0;return t&&(e=this.config.data_names[t.id],t.name=void 0===e?t.id:e),t},getAllValuesOnIndex:function(t){var e=this;return e.filterTargetsToShow(e.data.targets).map(function(i){return e.addName(e.getValueOnIndex(i.values,t))})},getValueOnIndex:function(t,e){var i=t.filter(function(t){return t.index===e});return i.length?i[0]:null},updateTargetX:function(t,e){var i=this;t.forEach(function(t){t.values.forEach(function(n,a){n.x=i.generateTargetX(e[a],t.id,a)}),i.data.xs[t.id]=e})},updateTargetXs:function(t,e){var i=this;t.forEach(function(t){e[t.id]&&i.updateTargetX([t],e[t.id])})},generateTargetX:function(t,e,i){var n=this,a=i;return n.isTimeSeries()?a=t?n.parseDate(t):n.parseDate(n.getXValue(e,i)):n.isCustomX()&&!n.isCategorized()&&(a=(0,s.isValue)(t)?+t:n.getXValue(e,i)),a},cloneTarget:function(t){return{id:t.id,id_org:t.id_org,values:t.values.map(function(t){return{x:t.x,value:t.value,id:t.id}})}},updateXs:function(){var t=this;t.data.targets.length&&(t.xs=[],t.data.targets[0].values.forEach(function(e){t.xs[e.index]=e.x}))},getPrevX:function(t){var e=this.xs[t-1];return(0,s.isDefined)(e)?e:null},getNextX:function(t){var e=this.xs[t+1];return(0,s.isDefined)(e)?e:null},getBaseValue:function(t){var e=t.value;return e&&this.isAreaRangeType(t)&&(e=this.getAreaRangeData(t,"mid")),e},getMinMaxValue:function(t){var e=this.getBaseValue.bind(this),i=void 0,a=void 0;return(t||this.data.targets.map(function(t){return t.values})).forEach(function(t){i=(0,n.min)([i,(0,n.min)(t,e)]),a=(0,n.max)([a,(0,n.max)(t,e)])}),{min:i,max:a}},getMinMaxData:function(){var t=this,e=t.getCache("$minMaxData");if(!e){var i=t.data.targets.map(function(t){return t.values}),n=t.getMinMaxValue(i),a=[],r=[];i.forEach(function(e){var i=t.getFilteredDataByValue(e,n.min),o=t.getFilteredDataByValue(e,n.max);i.length&&(a=a.concat(i)),o.length&&(r=r.concat(o))}),t.addCache("$minMaxData",e={min:a,max:r})}return e},getTotalDataSum:function(){var t=this.getCache("$totalDataSum");if(!t){var e=0;this.data.targets.map(function(t){return t.values}).forEach(function(t){e+=(0,n.sum)(t,function(t){return t.value})}),this.addCache("$totalDataSum",t=e)}return t},getFilteredDataByValue:function(t,e){var i=this;return t.filter(function(t){return i.getBaseValue(t)===e})},getMaxDataCount:function(){return(0,n.max)(this.data.targets,function(t){return t.values.length})},getMaxDataCountTarget:function(t){var e=t.length,i=0,n=void 0;return e>1?t.forEach(function(t){t.values.length>i&&(n=t,i=t.values.length)}):n=e?t[0]:null,n},mapToIds:function(t){return t.map(function(t){return t.id})},mapToTargetIds:function(t){return t?(0,s.isArray)(t)?t.concat():[t]:this.mapToIds(this.data.targets)},hasTarget:function(t,e){for(var i,n=this.mapToIds(t),a=0;i=n[a];a++)if(i===e)return!0;return!1},isTargetToShow:function(t){return this.hiddenTargetIds.indexOf(t)<0},isLegendToShow:function(t){return this.hiddenLegendIds.indexOf(t)<0},filterTargetsToShow:function(t){var e=this;return t.filter(function(t){return e.isTargetToShow(t.id)})},mapTargetsToUniqueXs:function(t){var e=(0,a.set)((0,n.merge)(t.map(function(t){return t.values.map(function(t){return+t.x})}))).values();return(e=this.isTimeSeries()?e.map(function(t){return new Date((+t))}):e.map(function(t){return+t})).sort(function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN})},addHiddenTargetIds:function(t){this.hiddenTargetIds=this.hiddenTargetIds.concat(t)},removeHiddenTargetIds:function(t){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(e){return t.indexOf(e)<0})},addHiddenLegendIds:function(t){this.hiddenLegendIds=this.hiddenLegendIds.concat(t)},removeHiddenLegendIds:function(t){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(e){return t.indexOf(e)<0})},getValuesAsIdKeyed:function(t){var e={};return t.forEach(function(t){var i=[];t.values.forEach(function(t){var e=t.value;(0,s.isArray)(e)?i.push.apply(i,e):(0,s.isObject)(e)&&"high"in e?i.push.apply(i,Object.values(e)):i.push(e)}),e[t.id]=i}),e},checkValueInTargets:function(t,e){for(var i=Object.keys(t),n=void 0,a=0;a<i.length;a++){n=t[i[a]].values;for(var r=0;r<n.length;r++)if(e(n[r].value))return!0}return!1},hasNegativeValueInTargets:function(t){return this.checkValueInTargets(t,function(t){return t<0})},hasPositiveValueInTargets:function(t){return this.checkValueInTargets(t,function(t){return t>0})},_checkOrder:function(t){var e=this.config;return(0,s.isString)(e.data_order)&&e.data_order.toLowerCase()===t},isOrderDesc:function(){return this._checkOrder("desc")},isOrderAsc:function(){return this._checkOrder("asc")},orderTargets:function(t){var e=this.config,i=[].concat(t),n=this.isOrderAsc(),a=this.isOrderDesc();return n||a?i.sort(function(t,e){var i=function(t,e){return t+Math.abs(e.value)},a=t.values.reduce(i,0),r=e.values.reduce(i,0);return n?r-a:a-r}):(0,s.isFunction)(e.data_order)&&i.sort(e.data_order),i},filterByX:function(t,e){return(0,n.merge)(t.map(function(t){return t.values})).filter(function(t){return t.x-e==0})},filterRemoveNull:function(t){var e=this;return t.filter(function(t){return(0,s.isValue)(e.getBaseValue(t))})},filterByXDomain:function(t,e){return t.map(function(t){return{id:t.id,id_org:t.id_org,values:t.values.filter(function(t){return e[0]<=t.x&&t.x<=e[1]})}})},hasDataLabel:function(){var t=this.config.data_labels;return(0,s.isBoolean)(t)&&t||(0,s.isObjectType)(t)&&(0,s.notEmpty)(t)},getDataLabelLength:function(t,e,i){var n=this,a=[0,0];return n.selectChart.select("svg").selectAll(".dummy").data([t,e]).enter().append("text").text(function(t){return n.dataLabelFormat(t.id)(t)}).each(function(t,e){a[e]=1.3*this.getBoundingClientRect()[i]}).remove(),a},isNoneArc:function(t){return this.hasTarget(this.data.targets,t.id)},isArc:function(t){return"data"in t&&this.hasTarget(this.data.targets,t.data.id)},findSameXOfValues:function(t,e){var i=t[e].x,n=[],a=void 0;for(a=e-1;a>=0&&i===t[a].x;a--)n.push(t[a]);for(a=e;a<t.length&&i===t[a].x;a++)n.push(t[a]);return n},findClosestFromTargets:function(t,e){var i=this,n=t.map(function(t){return i.findClosest(t.values,e)});return i.findClosest(n,e)},findClosest:function(t,e){var i=this,n=i.config.point_sensitivity,a=void 0;return t.filter(function(t){return t&&i.isBarType(t.id)}).forEach(function(t){var e=i.main.select("."+r["default"].bars+i.getTargetSelectorSuffix(t.id)+" ."+r["default"].bar+"-"+t.index).node();!a&&i.isWithinBar(e)&&(a=t)}),t.filter(function(t){return t&&!i.isBarType(t.id)}).forEach(function(t){var r=i.dist(t,e);r<n&&(n=r,a=t)}),a},dist:function(t,e){var i=this.config.axis_rotated,n=i?1:0,a=i?0:1,r=this.circleY(t,t.index),o=this.x(t.x);return Math.sqrt(Math.pow(o-e[n],2)+Math.pow(r-e[a],2))},convertValuesToStep:function(t){var e=this.config,i=e.axis_rotated,n=e.line_step_type,a=this.isCategorized(),r=(0,s.isArray)(t)?t.concat():[t];if(!i&&!a)return t;var o=r[0].id,l=r[0].x-1,u=r[0].value;return a&&r.unshift({x:l,value:u,id:o}),"step-after"===n&&r.unshift({x:l-1,value:u,id:o}),u=r[(l=r.length)-1].value,a&&r.push({x:l,value:u,id:o}),"step-before"===n&&r.push({x:l+1,value:u,id:o}),r},convertValuesToRange:function(t){var e=[];return((0,s.isArray)(t)?t.concat():[t]).forEach(function(t){var i=t.x,n=t.id;e.push({x:i,id:n,value:t.value[0]}),e.push({x:i,id:n,value:t.value[2]})}),e},updateDataAttributes:function(t,e){var i=this.config["data_"+t];return(0,s.isUndefined)(e)?i:(Object.keys(e).forEach(function(t){i[t]=e[t]}),this.redraw({withLegend:!0}),i)},getAreaRangeData:function(t,e){var i=t.value;if((0,s.isArray)(i)){var n=["high","mid","low"].indexOf(e);return-1===n?null:i[n]}return i[e]}})},function(t,e){t.exports=o},function(t,e,i){"use strict";var n=i(24),a=i(22),r=function(t){return t&&t.__esModule?t:{"default":t}}(i(3)),o=i(11);(0,o.extend)(r["default"].prototype,{convertUrlToData:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"csv",n=arguments[2],a=arguments[3],r=arguments[4],s=new XMLHttpRequest;if(n){var l=Object.keys(n),u=Array.isArray(l),d=0;for(l=u?l:l[Symbol.iterator]();;){var c;if(u){if(d>=l.length)break;c=l[d++]}else{if((d=l.next()).done)break;c=d.value}var f=c;s.setRequestHeader(f,n[f])}}s.open("GET",t),s.onreadystatechange=function(){if(4===s.readyState){if(200!==s.status)throw new Error(t+": Something went wrong loading!");var n=s.responseText;n&&r.call(e,e["convert"+(0,o.capitalize)(i)+"ToData"]("json"===i?JSON.parse(n):n,a))}},s.send()},_convertCsvTsvToData:function(t,e){var i=t.rows(e),n=void 0;return 1===i.length?(n=[{}],i[0].forEach(function(t){n[0][t]=null})):n=t.parse(e),n},convertCsvToData:function(t){return this._convertCsvTsvToData({rows:n.csvParseRows,parse:n.csvParse},t)},convertTsvToData:function(t){return this._convertCsvTsvToData({rows:n.tsvParseRows,parse:n.tsvParse},t)},convertJsonToData:function(t,e){var i=this,n=this.config,a=[],r=void 0,s=void 0;if((0,o.isArray)(t)){var l=e||n.data_keys;l.x?(r=l.value.concat(l.x),n.data_x=l.x):r=l.value,a.push(r),t.forEach(function(t){var e=[],n=r,s=Array.isArray(n),l=0;for(n=s?n:n[Symbol.iterator]();;){var u;if(s){if(l>=n.length)break;u=n[l++]}else{if((l=n.next()).done)break;u=l.value}var d=u,c=i.findValueInJson(t,d);(0,o.isUndefined)(c)&&(c=null),e.push(c)}a.push(e)}),s=this.convertRowsToData(a)}else Object.keys(t).forEach(function(e){var i=t[e].concat();i.unshift(e),a.push(i)}),s=this.convertColumnsToData(a);return s},findValueInJson:function(t,e){if(void 0!==t[e])return t[e];var i=t,n=e.replace(/\[(\w+)\]/g,".$1").replace(/^\./,"").split("."),a=Array.isArray(n),r=0;for(n=a?n:n[Symbol.iterator]();;){var o;if(a){if(r>=n.length)break;o=n[r++]}else{if((r=n.next()).done)break;o=r.value}if(!(o in i)){i=void 0;break}i=i[o]}return i},convertRowsToData:function(t){for(var e=t[0],i=[],n=1,a=t.length;n<a;n++){for(var r={},s=0,l=t[n].length;s<l;s++){if((0,o.isUndefined)(t[n][s]))throw new Error("Source data is missing a component at ("+n+", "+s+")!");r[e[s]]=t[n][s]}i.push(r)}return i},convertColumnsToData:function(t){for(var e=[],i=0,n=t.length;i<n;i++)for(var a=t[i][0],r=1,s=t[i].length;r<s;r++){if((0,o.isUndefined)(e[r-1])&&(e[r-1]={}),(0,o.isUndefined)(t[i][r]))throw new Error("Source data is missing a component at ("+i+", "+r+")!");e[r-1][a]=t[i][r]}return e},convertDataToTargets:function(t,e){var i=this,n=this,r=n.config,s=(0,a.keys)(t[0]).filter(n.isNotX,n),l=(0,a.keys)(t[0]).filter(n.isX,n),u=void 0;s.forEach(function(a){var s=i.getXKey(a);i.isCustomX()||i.isTimeSeries()?l.indexOf(s)>=0?u=(e&&n.data.xs[a]||[]).concat(t.map(function(t){return t[s]}).filter(o.isValue).map(function(t,e){return n.generateTargetX(t,a,e)})):r.data_x?u=i.getOtherTargetXs():(0,o.notEmpty)(r.data_xs)&&(u=n.getXValuesOfXKey(s,n.data.targets)):u=t.map(function(t,e){return e}),u&&(i.data.xs[a]=u)}),s.forEach(function(t){if(!u)throw new Error('x is not defined for id = "'+t+'".')});var d=s.map(function(e,i){var a=r.data_idConverter(e),s=n.getXKey(e),l=n.isCustomX()&&n.isCategorized(),u=l&&t.map(function(t){return t.x}).every(function(t){return r.axis_x_categories.indexOf(t)>-1});return{id:a,id_org:e,values:t.map(function(t,d){var c=t[s],f=t[e],g=void 0;return f=null===f||isNaN(f)?(0,o.isArray)(f)||(0,o.isObject)(f)&&f.high?f:null:+t[e],l&&0===i&&!(0,o.isUndefined)(c)?(!u&&0===i&&0===d&&(r.axis_x_categories=[]),-1===(g=r.axis_x_categories.indexOf(c))&&(g=r.axis_x_categories.length,r.axis_x_categories.push(c))):g=n.generateTargetX(c,e,d),((0,o.isUndefined)(t[e])||n.data.xs[e].length<=d)&&(g=void 0),{x:g,value:f,id:a}}).filter(function(t){return(0,o.isDefined)(t.x)})}});return d.forEach(function(t){r.data_xSort&&(t.values=t.values.sort(function(t,e){return(t.x||0===t.x?t.x:1/0)-(e.x||0===e.x?e.x:1/0)})),t.values.forEach(function(t,e){var i=n.data.targets?n.getIndexByX(t.x):null;t.index=null===i?e:i}),n.data.xs[t.id].sort(function(t,e){return t-e})}),n.hasNegativeValue=n.hasNegativeValueInTargets(d),n.hasPositiveValue=n.hasPositiveValueInTargets(d),r.data_type&&n.setTargetType(n.mapToIds(d).filter(function(t){return!(t in r.data_types)}),r.data_type),d.forEach(function(t){return n.addCache(t.id_org,t,!0)}),d}})},function(t,e){t.exports=s},function(t,e,i){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}var n=_interopRequireDefault(i(14)),a=_interopRequireDefault(i(3));(0,i(11).extend)(a["default"].prototype,{load:function(t,e){var i=this,n=t;n&&(e.filter&&(n=n.filter(e.filter)),(e.type||e.types)&&n.forEach(function(t){var n=e.types&&e.types[t.id]||e.type;i.setTargetType(t.id,n)}),i.data.targets.forEach(function(t){for(var e=0;e<n.length;e++)if(t.id===n[e].id){t.values=n[e].values,n.splice(e,1);break}}),i.data.targets=i.data.targets.concat(n)),i.updateTargets(i.data.targets),i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),e.done&&e.done()},loadFromArgs:function(t){var e=this,i=void 0;e.resetCache(),t.data?i=t.data:t.url?e.convertUrlToData(t.url,t.mimeType,t.headers,t.keys,function(i){e.load(e.convertDataToTargets(i),t)}):t.json?i=e.convertJsonToData(t.json,t.keys):t.rows?i=e.convertRowsToData(t.rows):t.columns&&(i=e.convertColumnsToData(t.columns)),e.load(i?e.convertDataToTargets(i):null,t)},unload:function(t,e){var i=this,a=e,r=t;return i.resetCache(),a||(a=function(){}),(r=r.filter(function(t){return i.hasTarget(i.data.targets,t)}))&&0!==r.length?(i.svg.selectAll(r.map(function(t){return i.selectorTarget(t)})).transition().style("opacity","0").remove().call(i.endall,a),void r.forEach(function(t){i.withoutFadeIn[t]=!1,i.legend&&i.legend.selectAll("."+n["default"].legendItem+i.getTargetSelectorSuffix(t)).remove(),i.data.targets=i.data.targets.filter(function(e){return e.id!==t})})):void a()}})},function(t,e,i){"use strict";var n=function(t){return t&&t.__esModule?t:{"default":t}}(i(3));(0,i(11).extend)(n["default"].prototype,{categoryName:function(t){var e=this.config;return t<e.axis_x_categories.length?e.axis_x_categories[t]:t}})},function(t,e,i){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}var n=i(5),a=i(28),r=_interopRequireDefault(i(3)),o=_interopRequireDefault(i(14)),s=i(11);(0,s.extend)(r["default"].prototype,{initEventRect:function(){this.main.select("."+o["default"].chart).append("g").attr("class",o["default"].eventRects).style("fill-opacity","0")},redrawEventRect:function(){var t=this,e=t.config,i=e.zoom_enabled,n=t.isMultipleX(),a=void 0,r=t.main.select("."+o["default"].eventRects).style("cursor",!i||!0!==i&&"wheel"!==i.type?null:e.axis_rotate?"ns-resize":"ew-resize").classed(o["default"].eventRectsMultiple,n).classed(o["default"].eventRectsSingle,!n);if(r.selectAll("."+o["default"].eventRect).remove(),t.eventRect=r.selectAll("."+o["default"].eventRect),n)a=t.eventRect.data([0]),a=t.generateEventRectsForMultipleXs(a.enter()).merge(a);else{var s=t.getMaxDataCountTarget(t.data.targets);r.datum(s?s.values:[]),t.eventRect=r.selectAll("."+o["default"].eventRect),(a=t.eventRect.data(function(t){return t})).exit().remove(),a=t.generateEventRectsForSingleX(a.enter()).merge(a)}t.updateEventRect(a),"touch"!==t.inputType||t.svg.on("touchstart.eventRect")||t.hasArcType()||t.bindTouchOnEventRect(n)},bindTouchOnEventRect:function(t){var e=this,i=e.config,a=function(){var t=n.event.changedTouches[0];return(0,n.select)(document.elementFromPoint(t.clientX,t.clientY))},r=function(t){var e=t&&t.attr("class")&&1*t.attr("class").replace(new RegExp("("+o["default"].eventRect+"-?|s)","g"),"");return(isNaN(e)||null===e)&&(e=-1),e},l=i.interaction_inputType_touch.preventDefault,u=(0,s.isBoolean)(l)&&l||!1,d=!isNaN(l)&&l||null,c=void 0;e.svg.on("touchstart.eventRect touchmove.eventRect",function(){var s=a();if(!s.empty()&&s.classed(o["default"].eventRect)){if(e.dragging||e.flowing||e.hasArcType())return;!function(t){var e=t.type,n=t.changedTouches[0]["client"+(i.axis_rotated?"Y":"X")];"touchstart"===e?u?t.preventDefault():null!==d&&(c=n):"touchmove"===e&&(u||!0===c||null!==d&&Math.abs(c-n)>=d)&&(c=!0,t.preventDefault())}(n.event),function(i){if(t)e.selectRectForMultipleXs(i);else{var n=a(),o=r(n);e.setOver(o),-1===o?e.unselectRect():e.selectRectForSingle(i,n,o)}}(this)}else e.unselectRect()}).on("touchend.eventRect",function(){var n=a();if(!n.empty()&&n.classed(o["default"].eventRect)){if(e.hasArcType()||!e.toggleShape||e.cancelClick)return void(e.cancelClick&&(e.cancelClick=!1));var s=r(n);t||-1===s||e.main.selectAll("."+o["default"].shape+"-"+s).each(function(t){return i.data_onout.call(e.api,t)})}})},updateEventRect:function(t){var e=this,i=e.config,n=e.zoomScale||e.x,a=t||e.eventRect.data(),r=i.axis_rotated,o=void 0,s=void 0,l=void 0,u=void 0;if(e.isMultipleX())o=0,s=0,l=e.width,u=e.height;else{var d=void 0,c=void 0;if(e.isCategorized())d=e.getEventRectWidth(),c=function(t){return n(t.x)-d/2};else{e.updateXs();var f=function(t){var i=t.index;return{prev:e.getPrevX(i),next:e.getNextX(i)}};d=function(t){var i=f(t);return null===i.prev&&null===i.next?r?e.height:e.width:(null===i.prev&&(i.prev=n.domain()[0]),null===i.next&&(i.next=n.domain()[1]),Math.max(0,(n(i.next)-n(i.prev))/2))},c=function(t){var i=f(t),a=e.data.xs[t.id][t.index];return null===i.prev&&null===i.next?0:(null===i.prev&&(i.prev=n.domain()[0]),(n(a)+n(i.prev))/2)}}o=r?0:c,s=r?c:0,l=r?e.width:d,u=r?d:e.height}a.attr("class",e.classEvent.bind(e)).attr("x",o).attr("y",s).attr("width",l).attr("height",u)},selectRectForSingle:function(t,e,i){var a=this,r=a.config,s=r.data_selection_enabled,l=r.data_selection_grouped,u=r.tooltip_grouped,d=a.getAllValuesOnIndex(i);u&&(a.showTooltip(d,t),a.showXGridFocus(d),!s||l)||a.main.selectAll("."+o["default"].shape+"-"+i).each(function(){(0,n.select)(this).classed(o["default"].EXPANDED,!0),s&&e.style("cursor",l?"pointer":null),u||(a.hideXGridFocus(),a.hideTooltip(),!l&&a.expandCirclesBars(i))}).filter(function(t){return a.isWithinShape(this,t)}).call(function(n){var o=n.data();s&&(l||r.data_selection_isselectable(o))&&e.style("cursor","pointer"),u||(a.showTooltip(o,t),a.showXGridFocus(o),a.unexpandCircles(),n.each(function(t){return a.expandCirclesBars(i,t.id)}))})},expandCirclesBars:function(t,e,i){this.config.point_focus_expand_enabled&&this.expandCircles(t,e,i),this.expandBars(t,e,i)},selectRectForMultipleXs:function(t){var e=this,i=e.config,a=e.filterTargetsToShow(e.data.targets);if(!e.dragging&&!e.hasArcType(a)){var r=(0,n.mouse)(t),s=e.findClosestFromTargets(a,r);if(e.mouseover&&(!s||s.id!==e.mouseover.id)&&(i.data_onout.call(e.api,e.mouseover),e.mouseover=void 0),!s)return void e.unselectRect();var l=(e.isBubbleType(s)||e.isScatterType(s)||!i.tooltip_grouped?[s]:e.filterByX(a,s.x)).map(function(t){return e.addName(t)});e.showTooltip(l,t),e.expandCirclesBars(s.index,s.id,!0),e.showXGridFocus(l),(e.isBarType(s.id)||e.dist(s,r)<i.point_sensitivity)&&(e.svg.select("."+o["default"].eventRect).style("cursor","pointer"),!e.mouseover&&(i.data_onover.call(e.api,s),e.mouseover=s))}},unselectRect:function(){var t=this;t.svg.select("."+o["default"].eventRect).style("cursor",null),t.hideXGridFocus(),t.hideTooltip(),t.unexpandCircles(),t.unexpandBars()},setOver:function(t){var e=this,i=e.config;e.expandCirclesBars(t,null,!0),-1!==t&&e.main.selectAll("."+o["default"].shape+"-"+t).each(function(t){return i.data_onover.call(e.api,t)})},getDraggableSelection:function(){var t=this,e=t.config;return e.interaction_enabled&&e.data_selection_draggable&&t.drag?(0,a.drag)().on("drag",function(){t.drag((0,n.mouse)(this))}).on("start",function(){t.dragstart((0,n.mouse)(this))}).on("end",function(){t.dragend()}):function(){}},generateEventRectsForSingleX:function(t){var e=this,i=e.config,a=t.append("rect").attr("class",e.classEvent.bind(e)).style("cursor",i.data_selection_enabled&&i.data_selection_grouped?"pointer":null).on("click",function(t){e.clickHandlerForSingleX.bind(this)(t,e)}).call(e.getDraggableSelection());return"mouse"===e.inputType&&a.on("mouseover",function(t){e.dragging||e.flowing||e.hasArcType()||e.setOver(t.index)}).on("mousemove",function(t){if(!(e.dragging||e.flowing||e.hasArcType())){var i=t.index,a=e.svg.select("."+o["default"].eventRect+"-"+i);e.isStepType(t)&&"step-after"===e.config.line_step_type&&(0,n.mouse)(this)[0]<e.x(e.getXValue(t.id,i))&&(i-=1),-1===i?e.unselectRect():e.selectRectForSingle(this,a,i)}}).on("mouseout",function(t){if(e.config&&!e.hasArcType()){var n=t.index;e.unselectRect(),e.main.selectAll("."+o["default"].shape+"-"+n).each(function(t){return i.data_onout.call(e.api,t)})}}),a},clickHandlerForSingleX:function(t,e){var i=e,n=i.config;if(i.hasArcType()||!i.toggleShape||i.cancelClick)i.cancelClick&&(i.cancelClick=!1);else{var a=t.index;i.main.selectAll("."+o["default"].shape+"-"+a).each(function(t){(n.data_selection_grouped||i.isWithinShape(this,t))&&(i.toggleShape(this,t,a),n.data_onclick.call(i.api,t,this))})}},generateEventRectsForMultipleXs:function(t){var e=this,i=t.append("rect").attr("x",0).attr("y",0).attr("width",e.width).attr("height",e.height).attr("class",o["default"].eventRect).on("click",function(){e.clickHandlerForMultipleXS.bind(this)(e)}).call(e.getDraggableSelection());return"mouse"===e.inputType&&i.on("mouseover mousemove",function(){e.selectRectForMultipleXs(this)}).on("mouseout",function(){!e.config||e.hasArcType()||e.unselectRect()}),i},clickHandlerForMultipleXS:function(t){var e=t,i=e.config,a=e.filterTargetsToShow(e.data.targets);if(!e.hasArcType(a)){var r=(0,n.mouse)(this),s=e.findClosestFromTargets(a,r);!s||(e.isBarType(s.id)||e.dist(s,r)<i.point_sensitivity)&&e.main.selectAll("."+o["default"].shapes+e.getTargetSelectorSuffix(s.id)).selectAll("."+o["default"].shape+"-"+s.index).each(function(){(i.data_selection_grouped||e.isWithinShape(this,s))&&(e.toggleShape(this,s,s.index),i.data_onclick.call(e.api,s,this))})}},dispatchEvent:function(t,e,i){var n="."+(this.isMultipleX()?o["default"].eventRect:o["default"].eventRect+"-"+e),a=this.main.select(n).node(),r=a.getBoundingClientRect(),l=r.left+(i?i[0]:0)+r.width/2,u=r.top+(i?i[1]:0);s.emulateEvent[/^(mouse|click)/.test(t)?"mouse":"touch"](a,t,{screenX:l,screenY:u,clientX:l,clientY:u})}})},function(t,e){t.exports=l},function(t,e,i){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}var n=_interopRequireDefault(i(3)),a=_interopRequireDefault(i(14)),r=i(11);(0,r.extend)(n["default"].prototype,{getCurrentWidth:function(){return this.config.size_width||this.getParentWidth()},getCurrentHeight:function(){var t=this.config,e=t.size_height||this.getParentHeight();return e>0?e:320/(this.hasType("gauge")&&!t.gauge_fullCircle?2:1)},getCurrentPaddingTop:function(){var t=this.config,e=(0,r.isValue)(t.padding_top)?t.padding_top:0;return this.title&&this.title.node()&&(e+=this.getTitlePadding()),e},getCurrentPaddingBottom:function(){var t=this.config;return(0,r.isValue)(t.padding_bottom)?t.padding_bottom:0},getCurrentPaddingLeft:function(t){var e=this.config;return(0,r.isValue)(e.padding_left)?e.padding_left:e.axis_rotated?e.axis_x_show?Math.max((0,r.ceil10)(this.getAxisWidthByAxisId("x",t)),40):1:!e.axis_y_show||e.axis_y_inner?this.axis.getYAxisLabelPosition().isOuter?30:1:(0,r.ceil10)(this.getAxisWidthByAxisId("y",t))},getCurrentPaddingRight:function(){var t=this,e=t.config,i=t.isLegendRight?t.getLegendWidth()+20:0;return(0,r.isValue)(e.padding_right)?e.padding_right+1:e.axis_rotated?10+i:!e.axis_y2_show||e.axis_y2_inner?2+i+(t.axis.getY2AxisLabelPosition().isOuter?20:0):(0,r.ceil10)(t.getAxisWidthByAxisId("y2"))+i},getParentRectValue:function(t){for(var e="offset"+(0,r.capitalize)(t),i=this.selectChart.node(),n=void 0;!n&&i&&"BODY"!==i.tagName;){try{n=i.getBoundingClientRect()[t]}catch(o){e in i&&(n=i[e])}i=i.parentNode}if("width"===t){var a=document.body.offsetWidth;n>a&&(n=a)}return n},getParentWidth:function(){return this.getParentRectValue("width")},getParentHeight:function(){var t=this.selectChart.style("height");return t.indexOf("px")>0?+t.replace("px",""):0},getSvgLeft:function(t){var e=this,i=e.config,n=i.axis_rotated||!i.axis_rotated&&!i.axis_y_inner,r=i.axis_rotated?a["default"].axisX:a["default"].axisY,o=e.main.select("."+r).node(),s=o&&n?o.getBoundingClientRect():{right:0},l=e.selectChart.node().getBoundingClientRect(),u=e.hasArcType(),d=s.right-l.left-(u?0:e.getCurrentPaddingLeft(t));return d>0?d:0},getAxisWidthByAxisId:function(t,e){var i=this.axis.getLabelPositionById(t);return this.axis.getMaxTickWidth(t,e)+(i.isInner?20:40)},getHorizontalAxisHeight:function(t){var e=this,i=e.config,n=30;return"x"!==t||i.axis_x_show?"x"===t&&i.axis_x_height?i.axis_x_height:"y"!==t||i.axis_y_show?"y2"!==t||i.axis_y2_show?("x"===t&&!i.axis_rotated&&i.axis_x_tick_rotate&&(n=30+e.axis.getMaxTickWidth(t)*Math.cos(Math.PI*(90-i.axis_x_tick_rotate)/180)),"y"===t&&i.axis_rotated&&i.axis_y_tick_rotate&&(n=30+e.axis.getMaxTickWidth(t)*Math.cos(Math.PI*(90-i.axis_y_tick_rotate)/180)),n+(e.axis.getLabelPositionById(t).isInner?0:10)+("y2"===t?-10:0)):e.rotated_padding_top:!i.legend_show||e.isLegendRight||e.isLegendInset?1:10:8},getEventRectWidth:function(){return Math.max(0,this.xAxis.tickInterval())}})},function(t,e,i){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}var n=i(31),a=i(5),r=_interopRequireDefault(i(14)),o=_interopRequireDefault(i(3)),s=i(11);(0,s.extend)(o["default"].prototype,{getShapeIndices:function(t){var e=this.config,i={},n=0;return this.filterTargetsToShow(this.data.targets.filter(t,this)).forEach(function(t){for(var a,r=0;a=e.data_groups[r];r++)if(!(a.indexOf(t.id)<0))for(var o,l=0;o=a[l];l++)if(o in i){i[t.id]=i[o];break}(0,s.isUndefined)(i[t.id])&&(i[t.id]=n++)}),i.__max__=n-1,i},getShapeX:function(t,e,i,n){var a=n?this.subX:this.zoomScale||this.x,r=this.config.bar_padding;return function(n){var o=n.id in i?i[n.id]:0,s=n.x||0===n.x?a(n.x)-t*(e/2-o):0;return t&&s&&e>1&&r&&(o&&(s+=r*o),e>2?s-=(e-1)*r/2:2===e&&(s-=r/2)),s}},getShapeY:function(t){var e=this;return function(i){return(t?e.getSubYScale(i.id):e.getYScale(i.id))(i.value)}},getShapeOffset:function(t,e,i){var n=this,a=n.orderTargets(n.filterTargetsToShow(n.data.targets.filter(t,n))),r=a.map(function(t){return t.id});return function(t,o){var l=i?n.getSubYScale(t.id):n.getYScale(t.id),u=l(0),d=u,c=o;return a.forEach(function(i){var a=n.isStepType(t)?n.convertValuesToStep(i.values):i.values;i.id===t.id||e[i.id]!==e[t.id]||r.indexOf(i.id)<r.indexOf(t.id)&&(((0,s.isUndefined)(a[c])||+a[c].x!=+t.x)&&(c=-1,a.forEach(function(e,i){(e.x.constructor===Date?+e.x:e.x)===(t.x.constructor===Date?+t.x:t.x)&&(c=i)})),c in a&&a[c].value*t.value>=0&&(d+=l(a[c].value)-u))}),d}},isWithinShape:function(t,e){var i=this,n=(0,a.select)(t),o=void 0;return i.isTargetToShow(e.id)?i.hasValidPointType(t.nodeName)?o=i.isStepType(e)?i.isWithinStep(t,i.getYScale(e.id)(e.value)):i.isWithinCircle(t,1.5*i.pointSelectR(e)):"path"===t.nodeName&&(o=!n.classed(r["default"].bar)||i.isWithinBar(t)):o=!1,
o},getInterpolate:function(t){var e=this.getInterpolateType(t);return{basis:n.curveBasis,"basis-closed":n.curveBasisClosed,"basis-open":n.curveBasisOpen,bundle:n.curveBundle,cardinal:n.curveCardinal,"cardinal-closed":n.curveCardinalClosed,"cardinal-open":n.curveCardinalOpen,"catmull-rom":n.curveCatmullRom,"catmull-rom-closed":n.curveCatmullRomClosed,"catmull-rom-open":n.curveCatmullRomOpen,"monotone-x":n.curveMonotoneX,"monotone-y":n.curveMonotoneY,natural:n.curveNatural,"linear-closed":n.curveLinearClosed,linear:n.curveLinear,step:n.curveStep,"step-after":n.curveStepAfter,"step-before":n.curveStepBefore}[e]},getInterpolateType:function(t){var e=this,i=e.config.spline_interpolation_type,n=e.isInterpolationType(i)?i:"cardinal";return e.isSplineType(t)?n:e.isStepType(t)?e.config.line_step_type:"linear"}})},function(t,e){t.exports=u},function(t,e,i){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}var n=i(5),a=i(31),r=i(6),o=i(33),s=_interopRequireDefault(i(3)),l=_interopRequireDefault(i(14)),u=i(11);(0,u.extend)(s["default"].prototype,{initPie:function(){var t=this.config,e=t.pie_padding,i=this.hasType("pie")&&e?.01*e:t[t.data_type+"_padAngle"]?t[t.data_type+"_padAngle"]:0;this.pie=(0,a.pie)().padAngle(i).value(function(t){return t.values.reduce(function(t,e){return t+e.value},0)}),t.data_order||this.pie.sort(null)},updateRadius:function(){var t=this,e=t.config,i=e.pie_innerRadius,n=e.pie_padding,a=e.gauge_width||e.donut_width;t.radiusExpanded=Math.min(t.arcWidth,t.arcHeight)/2,t.radius=.95*t.radiusExpanded,t.innerRadiusRatio=a?(t.radius-a)/t.radius:.6;var r=i||(n?n*(t.innerRadiusRatio+.1):0);t.innerRadius=t.hasType("donut")||t.hasType("gauge")?t.radius*t.innerRadiusRatio:r},updateArc:function(){var t=this;t.svgArc=t.getSvgArc(),t.svgArcExpanded=t.getSvgArcExpanded(),t.svgArcExpandedSub=t.getSvgArcExpanded(.98)},updateAngle:function(t){var e=this,i=e.config,n=t,a=!1,r=0,o=void 0,s=void 0,l=void 0,u=void 0;return i?(e.pie(e.filterTargetsToShow(e.data.targets)).forEach(function(t){a||t.data.id!==n.data.id||(a=!0,(n=t).index=r),r++}),isNaN(n.startAngle)&&(n.startAngle=0),isNaN(n.endAngle)&&(n.endAngle=n.startAngle),e.isGaugeType(n.data)&&(o=i.gauge_min,s=i.gauge_max,l=Math.PI*(i.gauge_fullCircle?2:1)/(s-o),u=n.value<o?0:n.value<s?n.value-o:s-o,n.startAngle=i.gauge_startingAngle,n.endAngle=n.startAngle+l*u),a?n:null):null},getSvgArc:function(){var t=this,e=(0,a.arc)().outerRadius(t.radius).innerRadius(t.innerRadius),i=function(i,n){if(n)return e(i);var a=t.updateAngle(i);return a?e(a):"M 0 0"};return i.centroid=e.centroid,i},getSvgArcExpanded:function(t){var e=this,i=(0,a.arc)().outerRadius(e.radiusExpanded*(t||1)).innerRadius(e.innerRadius);return function(t){var n=e.updateAngle(t);return n?i(n):"M 0 0"}},getArc:function(t,e,i){return i||this.isArcType(t.data)?this.svgArc(t,e):"M 0 0"},transformForArcLabel:function(t){var e=this,i=e.config,n=e.updateAngle(t),a="";if(n&&!e.hasType("gauge")){var r=this.svgArc.centroid(n),o=isNaN(r[0])?0:r[0],s=isNaN(r[1])?0:r[1],l=Math.sqrt(o*o+s*s),d=e.hasType("donut")&&i.donut_label_ratio||e.hasType("pie")&&i.pie_label_ratio;a="translate("+o*(d=d?(0,u.isFunction)(d)?d(t,e.radius,l):d:e.radius&&(l?(36/e.radius>.375?1.175-36/e.radius:.8)*e.radius/l:0))+","+s*d+")"}return a},getArcRatio:function(t){var e=this,i=e.config,n=null;if(t)if(e.pie.padAngle()()){var a=e.getTotalDataSum();e.hiddenTargetIds.length&&(a-=(0,r.sum)(e.api.data.values.call(e.api,e.hiddenTargetIds))),n=t.value/a}else n=(t.endAngle-t.startAngle)/(Math.PI*(e.hasType("gauge")&&!i.gauge_fullCircle?1:2));return n},convertToArcData:function(t){return this.addName({id:t.data.id,value:t.value,ratio:this.getArcRatio(t),index:t.index})},textForArcLabel:function(t){var e=this,i=t.node?t.datum():t;if(!e.shouldShowArcLabel())return"";var n=e.updateAngle(i),a=n?n.value:null,r=e.getArcRatio(n),o=i.data.id;if(!e.hasType("gauge")&&!e.meetsArcLabelThreshold(r))return"";var s=(e.getArcLabelFormat()||e.defaultArcValueFormat)(a,r,o).toString();if(t.node)if(-1===s.indexOf("\n"))t.text(s);else{var l=s.split("\n"),u=l.length-1;l.forEach(function(e,i){t.append("tspan").attr("x",0).attr("dy",(0===i?-u:1)+"em").text(e)})}return s},textForGaugeMinMax:function(t,e){var i=this.getGaugeLabelExtents();return i?i(t,e):t},expandArc:function(t){var e=this,i=void 0;if(e.transiting)i=window.setInterval(function(){e.transiting||(window.clearInterval(i),e.legend.selectAll("."+l["default"].legendItemFocused).size()>0&&e.expandArc(t))},10);else{var a=e.mapToTargetIds(t);e.svg.selectAll(e.selectorTargets(a,"."+l["default"].chartArc)).each(function(t){e.shouldExpand(t.data.id)&&(0,n.select)(this).selectAll("path").transition().duration(e.expandDuration(t.data.id)).attr("d",e.svgArcExpanded).transition().duration(2*e.expandDuration(t.data.id)).attr("d",e.svgArcExpandedSub)})}},unexpandArc:function(t){var e=this;if(!e.transiting){var i=e.mapToTargetIds(t);e.svg.selectAll(e.selectorTargets(i,"."+l["default"].chartArc)).selectAll("path").transition().duration(function(t){return e.expandDuration(t.data.id)}).attr("d",e.svgArc),e.svg.selectAll(""+l["default"].arc).style("opacity","1")}},expandDuration:function(t){var e=this.config;return this.isDonutType(t)?e.donut_expand_duration:this.isGaugeType(t)?e.gauge_expand_duration:this.isPieType(t)?e.pie_expand_duration:50},shouldExpand:function(t){var e=this.config;return this.isDonutType(t)&&e.donut_expand||this.isGaugeType(t)&&e.gauge_expand||this.isPieType(t)&&e.pie_expand},shouldShowArcLabel:function(){var t=this.config,e=!0;return this.hasType("donut")?e=t.donut_label_show:this.hasType("pie")&&(e=t.pie_label_show),e},meetsArcLabelThreshold:function(t){var e=this.config;return t>=(this.hasType("donut")?e.donut_label_threshold:e.pie_label_threshold)},getArcLabelFormat:function(){var t=this.config,e=t.pie_label_format;return this.hasType("gauge")?e=t.gauge_label_format:this.hasType("donut")&&(e=t.donut_label_format),e},getGaugeLabelExtents:function(){return this.config.gauge_label_extents},getArcTitle:function(){return this.hasType("donut")?this.config.donut_title:""},updateTargetsForArc:function(t){var e=this,i=e.main,n=e.classChartArc.bind(e),a=e.classArcs.bind(e),r=e.classFocus.bind(e),o=i.select("."+l["default"].chartArcs).selectAll("."+l["default"].chartArc).data(e.pie(t)).attr("class",function(t){return n(t)+r(t.data)}),s=o.enter().append("g").attr("class",n);s.append("g").attr("class",a).merge(o),s.append("text").attr("dy",e.hasType("gauge")?"-.1em":".35em").style("opacity","0").style("text-anchor","middle").style("pointer-events","none")},initArc:function(){this.arcs=this.main.select("."+l["default"].chart).append("g").attr("class",l["default"].chartArcs).attr("transform",this.getTranslate("arc")),this.setArcTitle()},setArcTitle:function(){var t=this.getArcTitle();if(t){var e=t.split("\n"),i=this.arcs.append("text").attr("class",l["default"].chartArcsTitle).style("text-anchor","middle");if(e.length>1){var n=+i.style("font-size").replace("px",""),a=Math.floor(i.text(".").node().getBBox().height,i.text(""));e.forEach(function(t,e){return i.insert("tspan").text(t).attr("x",0).attr("dy",e?a:0)}),i.attr("y","-"+(n*(e.length-2)||n/2))}else i.text(t)}},redrawArc:function(t,e,i){function selectArc(t,e,i){a.expandArc(i),a.api.focus(i),a.toggleFocusLegend(i,!0),a.showTooltip([e],t)}function unselectArc(t){var e=t&&t.id||void 0;a.unexpandArc(e),a.api.revert(),a.revertLegend(),a.hideTooltip()}var a=this,r=a.config,s=a.main,u="touch"===a.inputType,d="mouse"===a.inputType,c=s.selectAll("."+l["default"].arcs).selectAll("."+l["default"].arc).data(a.arcData.bind(a));if(c.exit().transition().duration(e).style("opacity","0").remove(),(c=c.enter().append("path").attr("class",a.classArc.bind(a)).style("fill",function(t){return a.color(t.data)}).style("cursor",function(t){return r.interaction_enabled&&(r.data_selection_isselectable(t)?"pointer":null)}).style("opacity","0").each(function(t){a.isGaugeType(t.data)&&(t.startAngle=r.gauge_startingAngle,t.endAngle=r.gauge_startingAngle),this._current=t}).merge(c)).attr("transform",function(t){return!a.isGaugeType(t.data)&&i?"scale(0)":""}).style("opacity",function(t){return t===this._current?"0":"1"}).each(function(){a.transiting=!0}).transition().duration(t).attrTween("d",function(t){var e=a.updateAngle(t);if(!e)return function(){return"M 0 0"};isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle);var i=(0,o.interpolate)(this._current,e);return this._current=i(0),function(e){var n=i(e);return n.data=t.data,a.getArc(n,!0)}}).attr("transform",i?"scale(1)":"").style("fill",function(t){return a.levelColor?a.levelColor(t.data.values[0].value):a.color(t.data.id)}).style("opacity","1").call(a.endall,function(){a.transiting=!1}),r.interaction_enabled&&(c.on("click",function(t,e){var i=a.updateAngle(t),n=void 0;i&&(n=a.convertToArcData(i),a.toggleShape&&a.toggleShape(this,n,e),a.config.data_onclick.call(a.api,n,this))}),d&&c.on("mouseover",function(t){if(!a.transiting){var e=a.updateAngle(t),i=e?a.convertToArcData(e):null;selectArc(this,i,i&&i.id||void 0),a.config.data_onover(i,this)}}).on("mouseout",function(t){if(!a.transiting){var e=a.updateAngle(t),i=e?a.convertToArcData(e):null;unselectArc(),a.config.data_onout(i,this)}}).on("mousemove",function(t){var e=a.updateAngle(t),i=e?a.convertToArcData(e):null;a.showTooltip([i],this)}),u&&a.hasArcType())){var f=function(){var t=n.event.changedTouches[0];return(0,n.select)(document.elementFromPoint(t.clientX,t.clientY))};a.svg.on("touchstart",function(){if(!a.transiting){var t=f().datum(),e=t&&t.data&&t.data.id?a.updateAngle(t):null,i=e?a.convertToArcData(e):null,n=i&&i.id||void 0;void 0===n?unselectArc():selectArc(this,i,n),a.config.data_onover(i,this)}}).on("touchend",function(){if(!a.transiting){var t=f().datum(),e=t&&t.data&&t.data.id?a.updateAngle(t):null,i=e?a.convertToArcData(e):null,n=i&&i.id||void 0;void 0===n?unselectArc():selectArc(this,i,n),a.config.data_onout(i,this)}}).on("touchmove",function(){var t=f().datum(),e=t&&t.data&&t.data.id?a.updateAngle(t):null,i=e?a.convertToArcData(e):null,n=i&&i.id||void 0;void 0===n?unselectArc():selectArc(this,i,n)})}var g=s.selectAll("."+l["default"].chartArc).select("text").style("opacity","0").attr("class",function(t){return a.isGaugeType(t.data)?l["default"].gaugeValue:""});if(r.gauge_fullCircle&&g.attr("dy",""+Math.round(a.radius/14)),g[!g.empty()&&g.classed(l["default"].gaugeValue)?"call":"text"](a.textForArcLabel.bind(a)).attr("transform",a.transformForArcLabel.bind(a)).style("font-size",function(t){return a.isGaugeType(t.data)?Math.round(a.radius/5)+"px":""}).transition().duration(t).style("opacity",function(t){return a.isTargetToShow(t.data.id)&&a.isArcType(t.data)?"1":"0"}),s.select("."+l["default"].chartArcsTitle).style("opacity",a.hasType("donut")||a.hasType("gauge")?"1":"0"),a.hasType("gauge")){var h=(r.gauge_fullCircle?-4:-1)*r.gauge_startingAngle;a.arcs.select("."+l["default"].chartArcsBackground).attr("d",function(){var t={data:[{value:r.gauge_max}],startAngle:r.gauge_startingAngle,endAngle:h};return a.getArc(t,!0,!0)}),a.arcs.select("."+l["default"].chartArcsGaugeUnit).attr("dy",".75em").text(r.gauge_label_show?r.gauge_units:""),r.gauge_label_show&&(a.arcs.select("."+l["default"].chartArcsGaugeMin).attr("dx",-1*(a.innerRadius+(a.radius-a.innerRadius)/(r.gauge_fullCircle?1:2))+"px").attr("dy","1.2em").text(a.textForGaugeMinMax(r.gauge_min,!1)),!r.gauge_fullCircle&&a.arcs.select("."+l["default"].chartArcsGaugeMax).attr("dx",a.innerRadius+(a.radius-a.innerRadius)/2+"px").attr("dy","1.2em").text(a.textForGaugeMinMax(r.gauge_max,!0)))}},initGauge:function(){var t=this.config,e=this.arcs;this.hasType("gauge")&&(e.append("path").attr("class",l["default"].chartArcsBackground),e.append("text").attr("class",l["default"].chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),t.gauge_label_show&&(e.append("text").attr("class",l["default"].chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),!t.gauge_fullCircle&&e.append("text").attr("class",l["default"].chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none")))},getGaugeLabelHeight:function(){return this.config.gauge_label_show?20:0}})},function(t,e){t.exports=d},function(t,e,i){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}var n=i(5),a=_interopRequireDefault(i(14)),r=_interopRequireDefault(i(3)),o=i(11);(0,o.extend)(r["default"].prototype,{initBar:function(){this.main.select("."+a["default"].chart).append("g").attr("class",a["default"].chartBars)},updateTargetsForBar:function(t){var e=this,i=e.config,n=e.classChartBar.bind(e),r=e.classBars.bind(e),o=e.classFocus.bind(e);e.main.select("."+a["default"].chartBars).selectAll("."+a["default"].chartBar).data(t).attr("class",function(t){return n(t)+o(t)}).enter().append("g").attr("class",n).style("opacity","0").style("pointer-events","none").append("g").attr("class",r).style("cursor",function(t){return i.data_selection_isselectable(t)?"pointer":null})},updateBar:function(t){var e=this,i=e.barData.bind(e),n=e.classBar.bind(e),r=e.initialOpacity.bind(e),o=function(t){return e.color(t.id)};e.mainBar=e.main.selectAll("."+a["default"].bars).selectAll("."+a["default"].bar).data(i),e.mainBar.exit().transition().duration(t).style("opacity","0").remove(),e.mainBar=e.mainBar.enter().append("path").attr("class",n).style("stroke",o).style("fill",o).merge(e.mainBar).style("opacity",r)},redrawBar:function(t,e){return[(e?this.mainBar.transition(Math.random().toString()):this.mainBar).attr("d",t).style("fill",this.color).style("opacity","1")]},getBarW:function(t,e){var i=this.config,n=(0,o.isNumber)(i.bar_width)?i.bar_width:e?t.tickInterval(this.getMaxDataCount())*i.bar_width_ratio/e:0;return i.bar_width_max&&n>i.bar_width_max?i.bar_width_max:n},getBars:function(t,e){var i=(0,o.isValue)(t)?"-"+t:"";return(e?this.main.selectAll("."+a["default"].bars+this.getTargetSelectorSuffix(e)):this.main).selectAll("."+a["default"].bar+i)},expandBars:function(t,e,i){i&&this.unexpandBars(),this.getBars(t,e).classed(a["default"].EXPANDED,!0)},unexpandBars:function(t){this.getBars(t).classed(a["default"].EXPANDED,!1)},generateDrawBar:function(t,e){var i=this.config,n=this.generateGetBarPoints(t,e),a=i.axis_rotated,r=i.data_groups.length,s=i.bar_radius,l=i.bar_radius_ratio,u=(0,o.isNumber)(s)&&s>0?function(){return s}:(0,o.isNumber)(l)?function(t){return t*l}:null;return function(t,e){var i=n(t,e),o=+a,s=+!o,l=t.value<0,d=["",""],c=0;if(u&&!r){var f=a?s:o,g=i[2][f]-i[0][f],h="a"+(c=u(g))+","+c+" "+(l?"1 0 0":"0 0 1")+" ";d[+!a]=""+h+c+","+c,d[+a]=""+h+[-c,c][a?"sort":"reverse"](),l&&d.reverse()}var p=a?"H"+(i[1][o]-c)+" "+d[0]+"V"+(i[2][s]-c)+" "+d[1]+"H"+i[3][o]:"V"+(i[1][s]+(l?-c:c))+" "+d[0]+"H"+(i[2][o]-c)+" "+d[1]+"V"+i[3][s];return"M"+i[0][o]+","+i[0][s]+p+"z"}},generateGetBarPoints:function(t,e){var i=this,n=e?i.subXAxis:i.xAxis,a=t.__max__+1,r=i.getBarW(n,a),o=i.getShapeX(r,a,t,!!e),s=i.getShapeY(!!e),l=i.getShapeOffset(i.isBarType,t,!!e),u=e?i.getSubYScale:i.getYScale;return function(t,e){var n=u.call(i,t.id)(0),a=l(t,e)||n,d=o(t),c=s(t);return i.config.axis_rotated&&(t.value>0&&c<n||t.value<0&&n<c)&&(c=n),[[d,a],[d,c-(n-a)],[d+r,c-(n-a)],[d+r,a]]}},isWithinBar:function(t){var e=(0,n.mouse)(t),i=(0,o.getRectSegList)(t),a=t.getBBox(),r=i[0],s=i[1],l=Math.min(r.x,s.x),u=Math.min(r.y,s.y),d=a.width,c=a.height;return l-2<e[0]&&e[0]<l+d+2&&u-2<e[1]&&e[1]<u+c+2}})},function(t,e,i){"use strict";var n=i(6),a=function(t){return t&&t.__esModule?t:{"default":t}}(i(3)),r=i(11);(0,r.extend)(a["default"].prototype,{initBubble:function(){var t=this.config;this.hasType("bubble")&&(t.point_show=!0,t.point_type="circle",t.point_sensitivity=25)},getBaseLength:function(){var t=this.getCache("$baseLength");return t||this.addCache("$baseLength",t=(0,n.min)([this.axes.x.select("path").node().getTotalLength(),this.axes.y.select("path").node().getTotalLength()])),t},getBubbleR:function(t){var e=this.config.bubble_maxR;(0,r.isFunction)(e)?e=e(t):!(0,r.isNumber)(e)&&(e=this.getBaseLength()/(2*this.getMaxDataCount())+12);var i=(0,n.max)(this.getMinMaxData().max.map(function(t){return(0,r.isObject)(t.value)?t.value.mid:t.value})),a=e*e*Math.PI,o=t.value*(a/i);return Math.sqrt(o/Math.PI)}})},function(t,e,i){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}var n=i(31),a=i(5),r=_interopRequireDefault(i(14)),o=_interopRequireDefault(i(3)),s=i(11);(0,s.extend)(o["default"].prototype,{initLine:function(){this.main.select("."+r["default"].chart).append("g").attr("class",r["default"].chartLines)},updateTargetsForLine:function(t){var e=this,i=e.config,n=e.classChartLine.bind(e),a=e.classLines.bind(e),o=e.classAreas.bind(e),s=e.classCircles.bind(e),l=e.classFocus.bind(e),u=e.main.select("."+r["default"].chartLines).selectAll("."+r["default"].chartLine).data(t).attr("class",function(t){return n(t)+l(t)}).enter().append("g").attr("class",n).style("opacity","0").style("pointer-events","none");u.append("g").attr("class",a),u.append("g").attr("class",o),i.point_show&&(i.data_selection_enabled&&u.append("g").attr("class",function(t){return e.generateClass(r["default"].selectedCircles,t.id)}),u.append("g").attr("class",s).style("cursor",function(t){return i.data_selection_isselectable(t)?"pointer":null})),t.forEach(function(t){e.main.selectAll("."+r["default"].selectedCircles+e.getTargetSelectorSuffix(t.id)).selectAll(""+r["default"].selectedCircle).each(function(e){e.value=t.values[e.index].value})})},updateLine:function(t){var e=this;e.mainLine=e.main.selectAll("."+r["default"].lines).selectAll("."+r["default"].line).data(e.lineData.bind(e)),e.mainLine.exit().transition().duration(t).style("opacity","0").remove(),e.mainLine=e.mainLine.enter().append("path").attr("class",function(t){return e.classLine.bind(e)(t)+" "+(e.extraLineClasses(t)||"")}).style("stroke",e.color).merge(e.mainLine).style("opacity",e.initialOpacity.bind(e)).style("shape-rendering",function(t){return e.isStepType(t)?"crispEdges":""}).attr("transform",null)},redrawLine:function(t,e){return[(e?this.mainLine.transition(Math.random().toString()):this.mainLine).attr("d",t).style("stroke",this.color).style("opacity","1")]},getCurve:function(t){var e=this;return e.config.axis_rotated&&e.isStepType(t)?function(i){var n=e.getInterpolate(t)(i);return n.orgPoint=n.point,n.pointRotated=function(t,e){1===this._point&&(this._point=2);var i=this._y*(1-this._t)+e*this._t;this._context.lineTo(this._x,i),this._context.lineTo(t,i),this._x=t,this._y=e},n.point=function(t,e){0===this._point?this.orgPoint(t,e):this.pointRotated(t,e)},n}:e.getInterpolate(t)},generateDrawLine:function(t,e){var i=this,a=i.config,r=a.line_connectNull,o=a.axis_rotated,s=i.generateGetLinePoints(t,e),l=e?i.getSubYScale:i.getYScale,u=function(t){return(e?i.subxx:i.xx).call(i,t)},d=function(t,e){return a.data_groups.length>0?s(t,e)[0][1]:l.call(i,t.id)(i.getBaseValue(t))},c=(0,n.line)();return c=o?c.x(d).y(u):c.x(u).y(d),r||(c=c.defined(function(t){return null!==i.getBaseValue(t)})),function(t){var n=e?i.x:i.subX,s=l.call(i,t.id),u=r?i.filterRemoveNull(t.values):t.values,d=0,f=0,g=void 0;return i.isLineType(t)?a.data_regions[t.id]?g=i.lineWithRegions(u,n,s,a.data_regions[t.id]):(i.isStepType(t)&&(u=i.convertValuesToStep(u)),g=c.curve(i.getCurve(t))(u)):(u[0]&&(d=n(u[0].x),f=s(u[0].value)),g=o?"M "+f+" "+d:"M "+d+" "+f),g||"M 0 0"}},generateGetLinePoints:function(t,e){var i=this,n=i.config,a=t.__max__+1,r=!!e,o=i.getShapeX(0,a,t,r),s=i.getShapeY(r),l=i.getShapeOffset(i.isLineType,t,r),u=r?i.getSubYScale:i.getYScale;return function(t,e){var a=u.call(i,t.id)(0),r=l(t,e)||a,d=o(t),c=s(t);n.axis_rotated&&(t.value>0&&c<a||t.value<0&&a<c)&&(c=a);var f=[d,c-(a-r)];return[f,f,f,f]}},lineWithRegions:function(t,e,i,n){var a=this,r=a.config.axis_rotated,o=a.isTimeSeries(),l=a.isCategorized()?.5:0,u=[],d=void 0,c=void 0,f=void 0,g=void 0,h=function(t,e){for(var i,n=0;i=e[n];n++)if(i.start<t&&t<=i.end)return i.style;return!1};if((0,s.isDefined)(n))for(var p,x=function(t,e){return(0,s.isUndefined)(t)?e:o?a.parseDate(t):t},_=0;p=n[_];_++){var m=x(p.start,t[0].x),v=x(p.end,t[t.length-1].x),y=p.style||{dasharray:"2 2"};u[_]={start:m,end:v,style:y}}for(var b,T=r?function(t){return i(t.value)}:function(t){return e(t.x)},A=r?function(t){return e(t.x)}:function(t){return i(t.value)},w=function(t){return"M"+t[0][0]+","+t[0][1]+"L"+t[1][0]+","+t[1][1]},D=o?function(t,n,a,o){var s=t.x.getTime(),l=n.x-t.x,u=new Date(s+l*a),d=new Date(s+l*(a+o)),g=r?[[i(c(a)),e(u)],[i(c(a+f)),e(d)]]:[[e(u),i(c(a))],[e(d),i(c(a+f))]];return w(g)}:function(t,n,a,o){var s=r?[[i(c(a),!0),e(d(a))],[i(c(a+o),!0),e(d(a+o))]]:[[e(d(a),!0),i(c(a))],[e(d(a+o),!0),i(c(a+o))]];return w(s)},L="M",S=0;b=t[S];S++){var C=t[S-1];if(y=h(b.x,u),(0,s.isUndefined)(u)||!y)L+=(S?"L":"")+T(b)+","+A(b);else{try{y=y.dasharray.split(" ")}catch(M){y="2 2".split(" ")}d=a.getScale(C.x+l,b.x+l,o),c=a.getScale(C.value,b.value);var R=e(b.x)-e(C.x),F=i(b.value)-i(C.value),X=Math.sqrt(Math.pow(R,2)+Math.pow(F,2));g=(f=y[0]/X)*y[1];for(var I=f;I<=1;I+=g)L+=D(C,b,I,f),I+g>=1&&(L+=D(C,b,1,0))}}return L},updateArea:function(t){var e=this;e.mainArea=e.main.selectAll("."+r["default"].areas).selectAll("."+r["default"].area).data(e.lineData.bind(e)),e.mainArea.exit().transition().duration(t).style("opacity","0").remove(),e.mainArea=e.mainArea.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",function(){return e.orgAreaOpacity=(0,a.select)(this).style("opacity"),"0"}).merge(e.mainArea),e.mainArea.style("opacity",e.orgAreaOpacity)},redrawArea:function(t,e){var i=this;return[(e?this.mainArea.transition(Math.random().toString()):this.mainArea).attr("d",t).style("fill",this.color).style("opacity",function(t){return i.isAreaRangeType(t)?i.orgAreaOpacity/1.75:i.orgAreaOpacity})]},generateDrawArea:function(t,e){var i=this,a=i.config,r=a.line_connectNull,o=a.axis_rotated,s=a.data_groups.length>0,l=i.generateGetAreaPoints(t,e),u=e?i.getSubYScale:i.getYScale,d=function(t){return(e?i.subxx:i.xx).call(i,t)},c=function(t,e){return s?l(t,e)[0][1]:u.call(i,t.id)(i.isAreaRangeType(t)?i.getAreaRangeData(t,"high"):i.getAreaBaseValue(t.id))},f=function(t,e){return s?l(t,e)[1][1]:u.call(i,t.id)(i.isAreaRangeType(t)?i.getAreaRangeData(t,"low"):t.value)};return function(t){var e=r?i.filterRemoveNull(t.values):t.values,s=0,l=0,u=void 0;if(i.isAreaType(t)){var g=(0,n.area)();g=o?g.y(d).x0(c).x1(f):g.x(d).y0(a.area_above?0:c).y1(f),r||(g=g.defined(function(t){return null!==i.getBaseValue(t)})),i.isStepType(t)&&(e=i.convertValuesToStep(e)),u=g.curve(i.getCurve(t))(e)}else e[0]&&(s=i.x(e[0].x),l=i.getYScale(t.id)(e[0].value)),u=o?"M "+l+" "+s:"M "+s+" "+l;return u||"M 0 0"}},getAreaBaseValue:function(){return 0},generateGetAreaPoints:function(t,e){var i=this,n=i.config,a=t.__max__+1,r=i.getShapeX(0,a,t,!!e),o=i.getShapeY(!!e),s=i.getShapeOffset(i.isAreaType,t,!!e),l=e?i.getSubYScale:i.getYScale;return function(t,e){var a=l.call(i,t.id)(0),u=s(t,e)||a,d=r(t),c=o(t);return n.axis_rotated&&(t.value>0&&c<a||t.value<0&&a<c)&&(c=a),[[d,u],[d,c-(a-u)],[d,c-(a-u)],[d,u]]}},updateCircle:function(){var t=this;t.config.point_show&&(t.mainCircle=t.main.selectAll("."+r["default"].circles).selectAll("."+r["default"].circle).data(function(e){return!t.isBarType(e)&&(!t.isLineType(e)||t.shouldDrawPointsForLine(e))&&t.labelishData(e)}),t.mainCircle.exit().remove(),t.mainCircle=t.mainCircle.enter().append(t.point("create",this,t.classCircle.bind(t),t.pointR.bind(t),t.color)).merge(t.mainCircle).style("stroke",t.color).style("opacity",t.initialOpacityForCircle.bind(t)))},redrawCircle:function(t,e,i,n){var a=this,o=a.main.selectAll("."+r["default"].selectedCircle);if(!a.config.point_show)return[];var s=[];a.mainCircle.each(function(r){var l=a.point("update",a,t,e,a.opacityForCircle.bind(a),a.color,i,n,o).bind(this)(r);s.push(l)});var l=a.isCirclePoint()?"c":"";return[s,o.attr(l+"x",t).attr(l+"y",e)]},circleX:function(t){var e=(0,s.isValue)(t.x);return this.config.zoom_enabled&&this.zoomScale?e?this.zoomScale(t.x):null:e?this.x(t.x):null},updateCircleY:function(){var t=this,e=void 0,i=void 0;t.config.data_groups.length>0?(e=t.getShapeIndices(t.isLineType),i=t.generateGetLinePoints(e),t.circleY=function(t,e){return i(t,e)[0][1]}):t.circleY=function(e){return t.getYScale(e.id)(t.getBaseValue(e))}},getCircles:function(t,e){var i=(0,s.isValue)(t)?"-"+t:"";return(e?this.main.selectAll("."+r["default"].circles+this.getTargetSelectorSuffix(e)):this.main).selectAll("."+r["default"].circle+i)},expandCircles:function(t,e,i){var n=this,o=n.pointExpandedR.bind(n);i&&n.unexpandCircles();var s=n.getCircles(t,e).classed(r["default"].EXPANDED,!0),l=o(s)/n.config.point_r;n.isCirclePoint()?s.attr("r",o):s.each(function(){var t=(0,a.select)(this),e=this.getBBox(),i=e.x+.5*e.width,n=e.y+.5*e.height;"circle"===this.tagName?t.attr("r",o):t.style("transform","translate("+(1-l)*i+"px, "+(1-l)*n+"px) scale("+l+")")})},unexpandCircles:function(t){var e=this,i=e.pointR.bind(e),n=e.getCircles(t).filter(function(){return(0,a.select)(this).classed(r["default"].EXPANDED)}).classed(r["default"].EXPANDED,!1);n.attr("r",i),e.isCirclePoint()||n.style("transform","scale("+i(n)/e.config.point_r+")")},pointR:function(t){var e=this.config.point_r,i=e;return this.isStepType(t)?i=0:this.isBubbleType(t)?i=this.getBubbleR(t):(0,s.isFunction)(e)&&(i=e(t)),i},pointExpandedR:function(t){var e=this.config,i=this.isBubbleType(t)?1.15:1.75;return e.point_focus_expand_enabled?e.point_focus_expand_r||this.pointR(t)*i:this.pointR(t)},pointSelectR:function(t){var e=this.config.point_select_r;return(0,s.isFunction)(e)?e(t):e||4*this.pointR(t)},isWithinCircle:function(t,e){var i=(0,a.mouse)(t),n=(0,a.select)(t),r=this.isCirclePoint()?"c":"",o=+n.attr(r+"x"),s=+n.attr(r+"y");if(!o&&!s&&1===t.nodeType){var l=t.getBBox?t.getBBox():t.getBoundingClientRect();o=l.x,s=l.y}return Math.sqrt(Math.pow(o-i[0],2)+Math.pow(s-i[1],2))<e},isWithinStep:function(t,e){return Math.abs(e-(0,a.mouse)(t)[1])<30},shouldDrawPointsForLine:function(t){var e=this.config.line_point;return!0===e||(0,s.isArray)(e)&&-1!==e.indexOf(t.id)}})},function(t,e,i){"use strict";var n=i(5),a=function(t){return t&&t.__esModule?t:{"default":t}}(i(3)),r=i(11);(0,r.extend)(a["default"].prototype,{hasValidPointType:function(t){return/^(circle|rect(angle)?|polygon|ellipse|use)$/i.test(t||this.config.point_type)},hasValidPointDrawMethods:function(t){var e=t||this.config.point_type;return(0,r.isObjectType)(e)&&(0,r.isFunction)(e.create)&&(0,r.isFunction)(e.update)},insertPointInfoDefs:function(t,e){for(var i,a=(new DOMParser).parseFromString(t,"image/svg+xml").firstChild,o=document.createElementNS(n.namespaces.svg,a.nodeName.toLowerCase()),s=a.attributes,l=0;i=s[l];l++)i=i.name,o.setAttribute(i,a.getAttribute(i));o.id=e,o.style.fill="inherit",o.style.stroke="inherit",a.children.length&&(o.innerHTML=(0,r.toArray)(a.children).map(function(t){return t.outerHTML}).join("")),this.defs.node().appendChild(o)},pointFromDefs:function(t){return this.defs.select("#"+t)},generatePoint:function(){var t=this,e=t.config,i=[],a=(0,r.notEmpty)(e.point_pattern)?e.point_pattern:[e.point_type];return function(e,r){for(var o=arguments.length,s=Array(o>2?o-2:0),l=2;l<o;l++)s[l-2]=arguments[l];return function(o){var l=o.id||o.data&&o.data.id||o,u=(0,n.select)(this),d=void 0;if(i.indexOf(l)<0&&i.push(l),d=a[i.indexOf(l)%a.length],t.hasValidPointType(d))d=t[d];else if(!t.hasValidPointDrawMethods(d)){var c=t.datetimeId+"-point-"+l;if(t.pointFromDefs(c).size()<1&&t.insertPointInfoDefs(d,c),"create"===e)return t.custom.create.bind(r).apply(void 0,[u,c].concat(s));if("update"===e)return t.custom.update.bind(r).apply(void 0,[u].concat(s))}return d[e].bind(r).apply(void 0,[u].concat(s))}}},getTransitionName:function(){return Math.random().toString()},custom:{create:function(t,e,i,n,a){return t.append("use").attr("xlink:href","#"+e).attr("class",i).style("fill",a).node()},update:function(t,e,i,n,a,r,o,s){var l=t.node().getBBox();l.width/=2,l.height/=2;var u=function(t){return e(t)-l.width},d=function(t){return i(t)-l.height},c=t;if(r){var f=this.getTransitionName();o&&(c=t.attr("x",u)),c=t.transition(f).attr("x",u).attr("y",d).transition(f),s.transition(this.getTransitionName())}else c=t.attr("x",u).attr("y",d);return c.style("opacity",n).style("fill",a)}},circle:{create:function(t,e,i,n){return t.append("circle").attr("class",e).attr("r",i).style("fill",n).node()},update:function(t,e,i,n,a,r,o,s){var l=this,u=t;if(l.hasType("bubble")&&(u=u.attr("r",l.pointR.bind(l))),r){var d=l.getTransitionName();o&&(u=u.attr("cx",e)),u=u.transition(d).attr("cx",e).attr("cy",i).transition(d),s.transition(l.getTransitionName())}else u=u.attr("cx",e).attr("cy",i);return u.style("opacity",n).style("fill",a)}},rectangle:{create:function(t,e,i,n){var a=function(t){return 2*i(t)};return t.append("rect").attr("class",e).attr("width",a).attr("height",a).style("fill",n).node()},update:function(t,e,i,n,a,r,o,s){var l=this.config.point_r,u=function(t){return e(t)-l},d=function(t){return i(t)-l},c=t;if(r){var f=this.getTransitionName();o&&(c=c.attr("x",u)),c=c.transition(f).attr("x",u).attr("y",d).transition(f),s.transition(this.getTransitionName())}else c=c.attr("x",u).attr("y",d);return c.style("opacity",n).style("fill",a)}}})},function(t,e,i){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}var n=i(5),a=i(6),r=_interopRequireDefault(i(3)),o=_interopRequireDefault(i(14)),s=i(11),l="$radarPoints";(0,s.extend)(r["default"].prototype,{initRadar:function(){var t=this,e=t.config;t.hasType("radar")&&(t.radars=t.main.select("."+o["default"].chart).append("g").attr("class",o["default"].chartRadars),t.radars.levels=t.radars.append("g").attr("class",o["default"].levels),t.radars.axes=t.radars.append("g").attr("class",o["default"].axis),t.radars.shapes=t.radars.append("g").attr("class",o["default"].shapes),t.maxValue=e.radar_axis_max||t.getMinMaxData().max[0].value)},getRadarSize:function(){var t=this.config.axis_x_categories.length<4?-20:10,e=(Math.min(this.arcWidth,this.arcHeight)-t)/2;return[e,e]},updateTargetsForRadar:function(t){var e=this.config;(0,s.isEmpty)(e.axis_x_categories)&&(e.axis_x_categories=(0,a.range)(0,(0,a.max)(t).values.length)),this.generateRadarPoints()},getRadarPosition:function(t,e,i,n){var a=this.config,r=this.getRadarSize(),o=r[0],l=r[1],u=a.axis_x_categories.length,d=a.radar_direction_clockwise,c=(0,s.toArray)(t).map(function(r){return function(t,e,i,n,a,r){var o=t&&n>0?i-n:n,s=2*Math.PI;return a*(1-r*("x"===e?Math.sin:Math.cos)(o*s/i))}(d,r,u,e,(0,s.isDefined)(i)?i:"x"===t?o:l,n||a.radar_size_ratio)});return 1===c.length?c[0]:c},generateRadarPoints:function(){var t=this,e=t.config,i=t.data.targets,n=t.getRadarSize(),a=n[0],r=n[1],o=t.getCache(l)||{},s=o._size;(!s||s.width!==a&&s.height!==r)&&(i.forEach(function(i){o[i.id]=i.values.map(function(i,n){return t.getRadarPosition(["x","y"],n,void 0,function(i){return parseFloat(Math.max(i,0))/t.maxValue*e.radar_size_ratio}(i.value))})}),o._size={width:a,height:r},t.addCache(l,o))},redrawRadar:function(t,e){var i=this,n=i.getTranslate("radar");n&&(i.radars.attr("transform",n),i.main.selectAll("."+o["default"].circles).attr("transform",n),i.main.select("."+o["default"].chartTexts).attr("transform",n),i.generateRadarPoints(),i.updateRadarLevel(),i.updateRadarAxes(),i.updateRadarShape(t,e))},generateGetRadarPoints:function(){var t=this.getCache(l);return function(e,i){var n=t[e.id][i];return[n,n,n,n]}},updateRadarLevel:function(){var t=this,e=t.config,i=t.getRadarSize(),n=i[0],r=i[1],l=e.radar_level_depth,u=e.axis_x_categories.length,d=e.radar_level_text_show,c=t.radars.levels,f=(0,a.range)(0,l),g=e.radar_size_ratio*Math.min(n,r),h=f.map(function(t){return g*((t+1)/l)}),p=e.radar_level_text_format,x=f.map(function(e){
var i=h[e];return(0,a.range)(0,u).map(function(e){return t.getRadarPosition(["x","y"],e,i,1).join(",")}).join(" ")}),_=c.selectAll("."+o["default"].level).data(f);_.exit().remove();var m=_.enter().append("g").attr("class",function(t,e){return o["default"].level+" "+o["default"].level+"-"+e});m.append("polygon").style("visibility",e.radar_level_show?null:"hidden"),d&&(c.select("text").empty()&&c.append("text").attr("dx","-.5em").attr("dy","-.7em").style("text-anchor","end").text(function(){return p(0)}),m.append("text").attr("dx","-.5em").style("text-anchor","end").text(function(e){return p(t.maxValue/f.length*(e+1))})),m.merge(_).attr("transform",function(t){return"translate("+(n-h[t])+", "+(r-h[t])+")"}).selectAll("polygon").attr("points",function(t){return x[t]}),d&&c.selectAll("text").attr("x",function(t){return(0,s.isUndefined)(t)?n:x[t].split(",")[0]}).attr("y",function(t){return(0,s.isUndefined)(t)?r:0})},updateRadarAxes:function(){var t=this,e=t.config,i=t.getRadarSize(),n=i[0],a=i[1],r=e.axis_x_categories,s=t.radars.axes.selectAll("g").data(r);s.exit().remove();var l=s.enter().append("g").attr("class",function(t,e){return o["default"].axis+"-"+e});e.radar_axis_line_show&&l.append("line"),e.radar_axis_text_show&&l.append("text"),s=l.merge(s),e.radar_axis_line_show&&s.select("line").attr("x1",n).attr("y1",a).attr("x2",function(e,i){return t.getRadarPosition("x",i)}).attr("y2",function(e,i){return t.getRadarPosition("y",i)}),e.radar_axis_text_show&&s.select("text").style("text-anchor","middle").attr("dy",".5em").text(function(t){return t}).datum(function(t,e){return{index:e}}).attr("x",function(e,i){return t.getRadarPosition("x",i,void 0,1)}).attr("y",function(e,i){return t.getRadarPosition("y",i,void 0,1)}),t.bindEvent()},bindEvent:function(){var t=this,e=this;if(e.config.interaction_enabled){var i="mouse"===e.inputType;e.radars.select("."+o["default"].axis).on((i?"mouseover ":"")+"click",function(){if(!e.transiting){var t=(0,n.select)(n.event.target).datum().index;e.selectRectForSingle(e.svg.node(),null,t),e.setOver(t)}}).on("mouseout",i?function(){t.hideTooltip(),t.unexpandCircles()}:null)}},updateRadarShape:function(t,e){var i=this,n=i.data.targets,a=i.getCache(l),r=i.radars.shapes.selectAll("polygon").data(n),o=r.enter().append("g").attr("class",i.classChartRadar.bind(i));r.exit().transition().duration(e).remove(),o.append("polygon").merge(r).transition().duration(t).style("fill",function(t){return i.color(t)}).style("stroke",function(t){return i.color(t)}).attr("points",function(t){return a[t.id].join(" ")})},radarCircleX:function(t){return this.getCache(l)[t.id][t.index][0]},radarCircleY:function(t){return this.getCache(l)[t.id][t.index][1]}})},function(t,e,i){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}var n=i(5),a=_interopRequireDefault(i(3)),r=_interopRequireDefault(i(14)),o=i(11);(0,o.extend)(a["default"].prototype,{initText:function(){this.main.select("."+r["default"].chart).append("g").attr("class",r["default"].chartTexts),this.mainText=(0,n.selectAll)([])},updateTargetsForText:function(t){var e=this,i=e.classChartText.bind(e),n=e.classTexts.bind(e),a=e.classFocus.bind(e);e.main.select("."+r["default"].chartTexts).selectAll("."+r["default"].chartText).data(t).attr("class",function(t){return i(t)+a(t)}).enter().append("g").attr("class",i).style("opacity","0").style("pointer-events","none").append("g").attr("class",n)},updateText:function(t){var e=this,i=this,n=i.config,a=i.labelishData.bind(i),o=i.classText.bind(i);i.mainText=i.main.selectAll("."+r["default"].texts).selectAll("."+r["default"].text).data(function(t){return e.isRadarType(t)?t.values:a(t)}),i.mainText.exit().transition().duration(t).style("fill-opacity","0").remove(),i.mainText=i.mainText.enter().append("text").merge(i.mainText).attr("class",o).attr("text-anchor",function(t){return n.axis_rotated?t.value<0?"end":"start":"middle"}).style("stroke","none").style("fill",function(t){return i.color(t)}).style("fill-opacity","0").text(function(t,e,n){return i.dataLabelFormat(t.id)(t.value,t.id,e,n)})},redrawText:function(t,e,i,n){return[(n?this.mainText.transition():this.mainText).attr("x",t).attr("y",e).style("fill",this.color).style("fill-opacity",i?0:this.opacityForText.bind(this))]},getTextRect:function(t,e,i){var a=(t.node?t.node():t).textContent,r=i.node?i.node():i,o=(0,n.select)("body").append("div").classed("bb",!0),s=o.append("svg").style("visibility","hidden").style("position","fixed").style("top","0px").style("left","0px"),l=(0,n.select)(r).style("font"),u=void 0;return s.selectAll(".dummy").data([a]).enter().append("text").classed(e,!!e).style("font",l).text(a).each(function(){u=this.getBoundingClientRect()}),o.remove(),u},generateXYForText:function(t,e,i,n){var a=this,r=a.generateGetAreaPoints(t,!1),o=a.generateGetBarPoints(e,!1),s=a.generateGetLinePoints(i,!1),l=a.generateGetRadarPoints(),u=n?a.getXForText:a.getYForText;return function(t,e){var i=a.isAreaType(t)&&r||a.isBarType(t)&&o||a.isRadarType(t)&&l||s;return u.call(a,i(t,e),t,this)}},getXForText:function(t,e,i){var n=this,a=n.config,r=void 0,o=void 0;return a.axis_rotated?(o=n.isBarType(e)?4:6,r=t[2][1]+o*(e.value<0?-1:1)):r=n.hasType("bar")?(t[2][0]+t[0][0])/2:t[0][0],null===e.value&&(r>n.width?r=n.width-i.getBoundingClientRect().width:r<0&&(r=4)),r+(a.data_labels_position.x||0)},getYForText:function(t,e,i){var n=this,a=n.config,r=a.point_r,s=3,l=void 0;if(a.axis_rotated)l=(t[0][0]+t[2][0]+.6*i.getBoundingClientRect().height)/2;else if(l=t[2][1],(0,o.isNumber)(r)&&r>5&&(n.isLineType(e)||n.isScatterType(e))&&(s+=a.point_r/2.3),e.value<0||0===e.value&&!n.hasPositiveValue)l+=i.getBoundingClientRect().height,n.isBarType(e)&&n.isSafari()?l-=s:!n.isBarType(e)&&n.isChrome()&&(l+=s);else{var u=2*-s;n.isBarType(e)?u=-s:n.isBubbleType(e)&&(u=s),l+=u}if(null===e.value&&!a.axis_rotated){var d=i.getBoundingClientRect().height;l<d?l=d:l>this.height&&(l=this.height-4)}return l+(a.data_labels_position.y||0)}})},function(t,e,i){"use strict";var n=function(t){return t&&t.__esModule?t:{"default":t}}(i(3)),a=i(11);(0,a.extend)(n["default"].prototype,{setTargetType:function(t,e){var i=this,n=i.config;i.mapToTargetIds(t).forEach(function(t){i.withoutFadeIn[t]=e===n.data_types[t],n.data_types[t]=e}),t||(n.data_type=e)},hasType:function(t,e){var i=this.config.data_types,n=e||this.data.targets,a=!1;return n&&n.length?n.forEach(function(e){var n=i[e.id];(n&&n.indexOf(t)>=0||!n&&"line"===t)&&(a=!0)}):Object.keys(i).length?Object.keys(i).forEach(function(e){i[e]===t&&(a=!0)}):a=this.config.data_type===t,a},hasArcType:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return!["pie","donut","gauge","radar"].filter(function(t){return-1===i.indexOf(t)}).every(function(i){return!e.hasType(i,t)})},isLineType:function(t){var e=(0,a.isString)(t)?t:t.id;return!this.config.data_types[e]||this.isTypeOf(e,["line","spline","area","area-spline","area-spline-range","area-line-range","step","area-step"])},isTypeOf:function(t,e){var i=(0,a.isString)(t)?t:t.id,n=this.config.data_types[i];return(0,a.isArray)(e)?e.indexOf(n)>=0:n===e},isStepType:function(t){return this.isTypeOf(t,["step","area-step"])},isSplineType:function(t){return this.isTypeOf(t,["spline","area-spline","area-spline-range"])},isAreaType:function(t){return this.isTypeOf(t,["area","area-spline","area-spline-range","area-line-range","area-step"])},isAreaRangeType:function(t){return this.isTypeOf(t,["area-spline-range","area-line-range"])},isBarType:function(t){return this.isTypeOf(t,"bar")},isBubbleType:function(t){return this.isTypeOf(t,"bubble")},isScatterType:function(t){return this.isTypeOf(t,"scatter")},isPieType:function(t){return this.isTypeOf(t,"pie")},isGaugeType:function(t){return this.isTypeOf(t,"gauge")},isDonutType:function(t){return this.isTypeOf(t,"donut")},isRadarType:function(t){return this.isTypeOf(t,"radar")},isArcType:function(t){return this.isPieType(t)||this.isDonutType(t)||this.isGaugeType(t)||this.isRadarType(t)},isCirclePoint:function(){var t=this.config,e=t.point_pattern;return"circle"===t.point_type&&(!e||(0,a.isArray)(e)&&0===e.length)},lineData:function(t){return this.isLineType(t)?[t]:[]},arcData:function(t){return this.isArcType(t.data)?[t]:[]},barData:function(t){return this.isBarType(t)?t.values:[]},labelishData:function(t){return this.isBarType(t)||this.isLineType(t)||this.isScatterType(t)||this.isBubbleType(t)||this.isRadarType(t)?t.values:[]},barLineBubbleData:function(t){return this.isBarType(t)||this.isLineType(t)||this.isBubbleType(t)?t.values:[]},isInterpolationType:function(t){return["basis","basis-closed","basis-open","bundle","cardinal","cardinal-closed","cardinal-open","catmull-rom","catmull-rom-closed","catmull-rom-open","linear","linear-closed","monotone-x","monotone-y","natural"].indexOf(t)>=0}})},function(t,e,i){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}var n=i(5),a=_interopRequireDefault(i(3)),r=_interopRequireDefault(i(14)),o=i(11),s=function(t){return(0,o.isValue)(t.position)||"end"},l=function(t){return"start"===t.position?4:"middle"===t.position?0:-4},u=function(t,e,i){return function(n){var a=t?0:e;return"start"===n.position?a=t?-i:0:"middle"===n.position&&(a=(t?-i:e)/2),a}};(0,o.extend)(a["default"].prototype,{initGrid:function(){var t=this.config;this.xgrid=(0,n.selectAll)([]),t.grid_lines_front||this.initGridLines(),t.grid_front||this.initXYFocusGrid()},initGridLines:function(){var t=this;t.gridLines=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",r["default"].grid+" "+r["default"].gridLines),t.gridLines.append("g").attr("class",r["default"].xgridLines),t.gridLines.append("g").attr("class",r["default"].ygridLines),t.xgridLines=(0,n.selectAll)([])},updateXGrid:function(t){var e=this,i=e.config,a=i.axis_rotated,o=e.generateGridData(i.grid_x_type,e.x),s=e.isCategorized()?e.xAxis.tickOffset():0;e.xgridAttr=a?{x1:0,x2:e.width,y1:function(t){return e.x(t)-s},y2:function(t){return e.x(t)-s}}:{x1:function(t){return e.x(t)+s},x2:function(t){return e.x(t)+s},y1:0,y2:e.height},e.xgrid=e.main.select("."+r["default"].xgrids).selectAll("."+r["default"].xgrid).data(o),e.xgrid.exit().remove(),e.xgrid=e.xgrid.enter().append("line").attr("class",r["default"].xgrid).merge(e.xgrid),t||e.xgrid.each(function(){var t=(0,n.select)(this);Object.keys(e.xgridAttr).forEach(function(i){t.attr(i,e.xgridAttr[i]).style("opacity",function(){return t.attr(a?"y1":"x1")===(a?e.height:0)?"0":"1"})})})},updateYGrid:function(){var t=this,e=t.config,i=e.axis_rotated,n=t.yAxis.tickValues()||t.y.ticks(e.grid_y_ticks);t.ygrid=t.main.select("."+r["default"].ygrids).selectAll("."+r["default"].ygrid).data(n),t.ygrid.exit().remove(),t.ygrid=t.ygrid.enter().append("line").attr("class",r["default"].ygrid).merge(t.ygrid),t.ygrid.attr("x1",i?t.y:0).attr("x2",i?t.y:t.width).attr("y1",i?0:t.y).attr("y2",i?t.height:t.y),t.smoothLines(t.ygrid,"grid")},updateGrid:function(t){var e=this;e.grid.style("visibility",e.hasArcType()?"hidden":"visible"),e.main.select("line."+r["default"].xgridFocus).style("visibility","hidden"),e.updateXGridLines(t),e.updateYGridLines(t)},updateXGridLines:function(t){var e=this,i=e.main,n=e.config,a=n.axis_rotated;n.grid_x_show&&e.updateXGrid(),e.xgridLines=i.select("."+r["default"].xgridLines).selectAll("."+r["default"].xgridLine).data(n.grid_x_lines),e.xgridLines.exit().transition().duration(t).style("opacity","0").remove();var o=e.xgridLines.enter().append("g");o.append("line").style("opacity","0"),o.append("text").attr("transform",a?"":"rotate(-90)").attr("dy",-5).style("opacity","0"),e.xgridLines=o.merge(e.xgridLines),e.xgridLines.attr("class",function(t){return(r["default"].xgridLine+" "+(t["class"]||"")).trim()}).select("text").attr("text-anchor",s).attr("dx",l).transition().duration(t).text(function(t){return t.text}).transition().style("opacity","1")},updateYGridLines:function(t){var e=this,i=e.main,n=e.config,a=n.axis_rotated;n.grid_y_show&&e.updateYGrid(),e.ygridLines=i.select("."+r["default"].ygridLines).selectAll("."+r["default"].ygridLine).data(n.grid_y_lines),e.ygridLines.exit().transition().duration(t).style("opacity","0").remove();var o=e.ygridLines.enter().append("g");o.append("line").style("opacity","0"),o.append("text").attr("transform",a?"rotate(-90)":"").style("opacity","0"),e.ygridLines=o.merge(e.ygridLines);var d=e.yv.bind(e);e.ygridLines.attr("class",function(t){return(r["default"].ygridLine+" "+(t["class"]||"")).trim()}).select("line").transition().duration(t).attr("x1",a?d:0).attr("x2",a?d:e.width).attr("y1",a?0:d).attr("y2",a?e.height:d).transition().style("opacity","1"),e.ygridLines.select("text").attr("text-anchor",s).attr("dx",l).transition().duration(t).attr("dy",-5).attr("x",u(a,e.width,e.height)).attr("y",d).text(function(t){return t.text}).transition().style("opacity","1")},redrawGrid:function(t){var e=this,i=e.config.axis_rotated,n=e.xv.bind(e),a=e.xgridLines.select("line"),r=e.xgridLines.select("text");return a=(t?a.transition():a).attr("x1",i?0:n).attr("x2",i?e.width:n).attr("y1",i?n:0).attr("y2",i?n:e.height),r=(t?r.transition():r).attr("x",u(!i,e.width,e.height)).attr("y",n).text(function(t){return t.text}),[(t?a.transition():a).style("opacity","1"),(t?r.transition():r).style("opacity","1")]},initXYFocusGrid:function(){var t=this,e=t.config;t.grid=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",r["default"].grid),e.grid_x_show&&t.grid.append("g").attr("class",r["default"].xgrids),e.grid_y_show&&t.grid.append("g").attr("class",r["default"].ygrids),e.grid_focus_show&&t.grid.append("g").attr("class",r["default"].xgridFocus).append("line").attr("class",r["default"].xgridFocus)},showXGridFocus:function(t){var e=this,i=e.config,n=i.axis_rotated,a=t.filter(function(t){return t&&(0,o.isValue)(e.getBaseValue(t))}),s=e.main.selectAll("line."+r["default"].xgridFocus),l=e.xx.bind(e);!i.tooltip_show||e.hasType("bubble")||e.hasType("scatter")||e.hasArcType()||(s.style("visibility","visible").data([a[0]]).attr(n?"y1":"x1",l).attr(n?"y2":"x2",l),e.smoothLines(s,"grid"))},hideXGridFocus:function(){this.main.select("line."+r["default"].xgridFocus).style("visibility","hidden")},updateXgridFocus:function(){var t=this.config.axis_rotated;this.main.select("line."+r["default"].xgridFocus).attr("x1",t?0:-10).attr("x2",t?this.width:-10).attr("y1",t?-10:0).attr("y2",t?-10:this.height)},generateGridData:function(t,e){var i=this.main.select("."+r["default"].axisX).selectAll(".tick").size(),n=[];if("year"===t)for(var a=this.getXDomain(),o=a[0].getFullYear(),s=a[1].getFullYear(),l=o;l<=s;l++)n.push(new Date(l+"-01-01 00:00:00"));else(n=e.ticks(10)).length>i&&(n=n.filter(function(t){return(t+"").indexOf(".")<0}));return n},getGridFilterToRemove:function(t){return t?function(e){var i=!1;return((0,o.isArray)(t)?t.concat():[t]).forEach(function(t){("value"in t&&e.value===t.value||"class"in t&&e["class"]===t["class"])&&(i=!0)}),i}:function(){return!0}},removeGridLines:function(t,e){var i=this.config,n=this.getGridFilterToRemove(t),a=e?r["default"].xgridLines:r["default"].ygridLines,o=e?r["default"].xgridLine:r["default"].ygridLine;this.main.select("."+a).selectAll("."+o).filter(n).transition().duration(i.transition_duration).style("opacity","0").remove();var s="grid_"+(e?"x":"y")+"_lines";i[s]=i[s].filter(function(t){return!n(t)})}})},function(t,e,i){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}var n=i(5),a=_interopRequireDefault(i(3)),r=_interopRequireDefault(i(14)),o=i(11);(0,o.extend)(a["default"].prototype,{initTooltip:function(){var t=this,e=t.config;if(t.tooltip=t.selectChart.style("position","relative").append("div").attr("class",r["default"].tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),e.tooltip_init_show){if(t.isTimeSeries()&&(0,o.isString)(e.tooltip_init_x)){var i=t.data.targets[0],n=void 0,a=void 0;for(e.tooltip_init_x=t.parseDate(e.tooltip_init_x),n=0;(a=i.values[n])&&a.x-e.tooltip_init_x!=0;n++);e.tooltip_init_x=n}t.tooltip.html(e.tooltip_contents.call(t,t.data.targets.map(function(i){return t.addName(i.values[e.tooltip_init_x])}),t.axis.getXAxisTickFormat(),t.getYFormat(t.hasArcType(null,["radar"])),t.color)),t.tooltip.style("top",e.tooltip_init_position.top).style("left",e.tooltip_init_position.left).style("display","block")}},getTooltipContent:function(t,e,i,n){var a=this,r=a.config,s=r.tooltip_format_title||e,l=r.tooltip_format_name||function(t){return t},u=r.tooltip_format_value||i,d=r.tooltip_order,c=function(t){return a.getBaseValue(t)},f=a.levelColor?function(t){return a.levelColor(t.value)}:function(t){return n(t.id)};if(null===d&&r.data_groups.length){var g=a.orderTargets(a.data.targets).map(function(t){return t.id}).reverse();t.sort(function(t,e){var i=t?t.value:null,n=e?e.value:null;return i>0&&n>0&&(i=t.id?g.indexOf(t.id):null,n=e.id?g.indexOf(e.id):null),i-n})}else/^(asc|desc)$/.test(d)?t.sort(function(t,e){var i=t?c(t):null,n=e?c(e):null;return"asc"===d?i-n:n-i}):(0,o.isFunction)(d)&&t.sort(d);for(var h=void 0,p=void 0,x=void 0,_=void 0,m=0,v=t.length;m<v;m++)if((p=t[m])&&(c(p)||0===c(p))){if(!h){var y=(0,o.sanitise)(s?s(p.x):p.x);h='<table class="'+a.CLASS.tooltip+'">'+((0,o.isValue)(y)?'<tr><th colspan="2">'+y+"</th></tr>":"")}if(x=[p.ratio,p.id,p.index,t],_=a.isAreaRangeType(p)?"<b>Mid:</b> "+(_=["high","low"].map(function(t){return(0,o.sanitise)(u.apply(void 0,[a.getAreaRangeData(p,t)].concat(x)))}))+" <b>High:</b> "+_[0]+" <b>Low:</b> "+_[1]:(0,o.sanitise)(u.apply(void 0,[c(p)].concat(x))),void 0!==_){if(null===p.name)continue;var b=(0,o.sanitise)(l.apply(void 0,[p.name].concat(x))),T=f(p);h+='<tr class="'+a.CLASS.tooltipName+a.getTargetSelectorSuffix(p.id)+'"><td class="name">',h+=a.patterns?'<svg><rect style="fill:'+T+'" width="10" height="10"></rect></svg>':'<span style="background-color:'+T+'"></span>',h+=b+'</td><td class="value">'+_+"</td></tr>"}}return h+"</table>"},tooltipPosition:function(t,e,i,a){var r=this,o=r.config,s=(0,n.mouse)(a),l=s[0],u=s[1],d=r.getSvgLeft(!0),c=d+r.currentWidth-r.getCurrentPaddingRight();if(u+=20,r.hasArcType())"touch"===r.inputType||r.hasType("radar")||(u+=r.height/2,l+=(r.width-(r.isLegendRight?r.getLegendWidth():0))/2);else{var f=r.x(t[0].x);o.axis_rotated?(u=f+20,l+=d+100,c-=d):(u-=5,l=d+r.getCurrentPaddingLeft(!0)+20+(r.zoomScale?l:f))}var g=l+e;return g>c&&(l-=g-c+20),u+i>r.currentHeight&&(u-=i+30),u<0&&(u=0),{top:u,left:l}},showTooltip:function(t,e){var i=this,n=i.config,a=i.hasArcType(null,["radar"]),r=t.filter(function(t){return t&&(0,o.isValue)(i.getBaseValue(t))}),s=n.tooltip_position||i.tooltipPosition;if(0!==r.length&&n.tooltip_show){var l=i.tooltip.datum(),u=l&&l.width||0,d=l&&l.height||0;if(!l||l.current!==JSON.stringify(t)){var c=n.tooltip_contents.call(i,t,i.axis.getXAxisTickFormat(),i.getYFormat(a),i.color);(0,o.callFn)(n.tooltip_onshow,i),i.tooltip.html(c).style("display","block").datum({current:JSON.stringify(t),width:u=i.tooltip.property("offsetWidth"),height:d=i.tooltip.property("offsetHeight")}),(0,o.callFn)(n.tooltip_onshown,i),i._handleLinkedCharts(!0,t[0].index)}var f=s.call(this,r,u,d,e);i.tooltip.style("top",f.top+"px").style("left",f.left+"px")}},hideTooltip:function(){var t=this.config;(0,o.callFn)(t.tooltip_onhide,this),this.tooltip.style("display","none").datum(null),(0,o.callFn)(t.tooltip_onhidden,this),this._handleLinkedCharts(!1)},_handleLinkedCharts:function(t,e){var i=this;if(i.config.tooltip_linked){var n=i.config.tooltip_linked_name;i.api.internal.charts.forEach(function(a){if(a!==i.api){var r=a.internal,o=r.config.tooltip_linked,s=r.config.tooltip_linked_name,l=document.body.contains(a.element);if(o&&n===s&&l){var u="block"===r.tooltip.style("display");try{u^t&&a.tooltip[u?"hide":"show"]({index:e})}catch(d){}}}})}}})},function(t,e,i){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}var n=i(5),a=_interopRequireDefault(i(3)),r=_interopRequireDefault(i(14)),o=i(11);(0,o.extend)(a["default"].prototype,{initLegend:function(){var t=this,e=t.config;t.legendItemTextBox={},t.legendHasRendered=!1,t.legend=t.svg.append("g"),e.legend_show?e.legend_contents_bindto&&e.legend_contents_template?t.updateLegendTemplate():(t.legend.attr("transform",t.getTranslate("legend")),t.updateLegendWithDefaults()):(t.legend.style("visibility","hidden"),t.hiddenLegendIds=t.mapToIds(t.data.targets))},updateLegendTemplate:function(){var t=this,e=t.config,i=(0,n.select)(e.legend_contents_bindto),a=e.legend_contents_template;if(!i.empty()){var r=t.data.targets,s=[],l="";t.mapToIds(r).forEach(function(e){var i=(0,o.isFunction)(a)?a.call(t,e,t.color(e),t.api.data(e)[0].values):a.replace(/{=COLOR}/g,t.color(e)).replace(/{=TITLE}/g,e);i&&(s.push(e),l+=i)});var u=i.html(l).selectAll(function(){return this.childNodes}).data(s);t.setLegendItem(u)}},updateLegendWithDefaults:function(){this.updateLegend(this.mapToIds(this.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},updateSizeForLegend:function(t,e){var i=this,n=i.config,a={top:i.isLegendTop?i.getCurrentPaddingTop()+n.legend_inset_y+5.5:i.currentHeight-t-i.getCurrentPaddingBottom()-n.legend_inset_y,left:i.isLegendLeft?i.getCurrentPaddingLeft()+n.legend_inset_x+.5:i.currentWidth-e-i.getCurrentPaddingRight()-n.legend_inset_x+.5};i.margin3={top:i.isLegendRight?0:i.isLegendInset?a.top:i.currentHeight-t,right:NaN,bottom:0,left:i.isLegendRight?i.currentWidth-e:i.isLegendInset?a.left:0}},transformLegend:function(t){(t?this.legend.transition():this.legend).attr("transform",this.getTranslate("legend"))},updateLegendStep:function(t){this.legendStep=t},updateLegendItemWidth:function(t){this.legendItemWidth=t},updateLegendItemHeight:function(t){this.legendItemHeight=t},getLegendWidth:function(){var t=this;return t.config.legend_show?t.isLegendRight||t.isLegendInset?t.legendItemWidth*(t.legendStep+1):t.currentWidth:0},getLegendHeight:function(){var t=this,e=0;return t.config.legend_show&&(e=t.isLegendRight?t.currentHeight:Math.max(20,t.legendItemHeight)*(t.legendStep+1)),e},opacityForLegend:function(t){return t.classed(r["default"].legendItemHidden)?null:"1"},opacityForUnfocusedLegend:function(t){return t.classed(r["default"].legendItemHidden)?null:"0.3"},toggleFocusLegend:function(t,e){var i=this,a=i.mapToTargetIds(t);i.legend.selectAll("."+r["default"].legendItem).filter(function(t){return a.indexOf(t)>=0}).classed(r["default"].legendItemFocused,e).transition().duration(100).style("opacity",function(){return(e?i.opacityForLegend:i.opacityForUnfocusedLegend).call(i,(0,n.select)(this))})},revertLegend:function(){var t=this;t.legend.selectAll("."+r["default"].legendItem).classed(r["default"].legendItemFocused,!1).transition().duration(100).style("opacity",function(){return t.opacityForLegend((0,n.select)(this))})},showLegend:function(t){var e=this,i=e.config;i.legend_show||(i.legend_show=!0,e.legend.style("visibility","visible"),!e.legendHasRendered&&e.updateLegendWithDefaults()),e.removeHiddenLegendIds(t),e.legend.selectAll(e.selectorLegends(t)).style("visibility","visible").transition().style("opacity",function(){return e.opacityForLegend((0,n.select)(this))})},hideLegend:function(t){var e=this,i=e.config;i.legend_show&&(0,o.isEmpty)(t)&&(i.legend_show=!1,e.legend.style("visibility","hidden")),e.addHiddenLegendIds(t),e.legend.selectAll(e.selectorLegends(t)).style("opacity","0").style("visibility","hidden")},clearLegendItemTextBoxCache:function(){this.legendItemTextBox={}},setLegendItem:function(t){var e=this,i=e.config,a="touch"===e.inputType;t.attr("class",function(t){var i=(0,n.select)(this);return(!i.empty()&&i.attr("class")||"")+e.generateClass(r["default"].legendItem,t)}).style("visibility",function(t){return e.isLegendToShow(t)?"visible":"hidden"}).style("cursor","pointer").on("click",function(t){(0,o.callFn)(i.legend_item_onclick,e,t)||(n.event.altKey?(e.api.hide(),e.api.show(t)):(e.api.toggle(t),!a&&e.isTargetToShow(t)?e.api.focus(t):e.api.revert())),a&&e.hideTooltip()}),a||t.on("mouseout",function(t){(0,o.callFn)(i.legend_item_onout,e,t)||((0,n.select)(this).classed(r["default"].legendItemFocused,!1),e.api.revert())}).on("mouseover",function(t){(0,o.callFn)(i.legend_item_onover,e,t)||((0,n.select)(this).classed(r["default"].legendItemFocused,!0),!e.transiting&&e.isTargetToShow(t)&&e.api.focus(t))})},updateLegend:function(t,e,i){var a=this,s=a.config,l=s.legend_item_tile_width+5,u=0,d=0,c=void 0,f=void 0,g=0,h={},p={},x={},_=[0],m={},v=0,y=void 0,b=a.isLegendRight||a.isLegendInset,T=t.filter(function(t){return!(0,o.isDefined)(s.data_names[t])||null!==s.data_names[t]}),A=e||{},w=(0,o.getOption)(A,"withTransition",!0),D=(0,o.getOption)(A,"withTransitionForTransform",!0),L=function(t,e,i){var n=i===T.length-1,o=function(t,e){return a.legendItemTextBox[e]||(a.legendItemTextBox[e]=a.getTextRect(t,r["default"].legendItem,t)),a.legendItemTextBox[e]}(t,e),c=o.width+l+(n&&!b?0:10)+s.legend_padding,f=o.height+4,y=b?f:c,A=b?a.getLegendHeight():a.getLegendWidth(),w=void 0,D=function(t,e){e||(w=(A-g-y)/2)<10&&(w=(A-y)/2,g=0,v++),m[t]=v,_[v]=a.isLegendInset?10:w,h[t]=g,g+=y};if(0===i&&(g=0,v=0,u=0,d=0),s.legend_show&&!a.isLegendToShow(e))return p[e]=0,x[e]=0,m[e]=0,void(h[e]=0);p[e]=c,x[e]=f,(!u||c>=u)&&(u=c),(!d||f>=d)&&(d=f);var L=b?d:u;s.legend_equally?(Object.keys(p).forEach(function(t){return p[t]=u}),Object.keys(x).forEach(function(t){return x[t]=d}),(w=(A-L*T.length)/2)<10?(g=0,v=0,T.forEach(function(t){return D(t)})):D(e,!0)):D(e)};a.isLegendInset&&(v=s.legend_inset_step?s.legend_inset_step:T.length,a.updateLegendStep(v)),a.isLegendRight?(c=function(t){return u*m[t]},f=function(t){return _[m[t]]+h[t]}):a.isLegendInset?(c=function(t){return u*m[t]+10},f=function(t){return _[m[t]]+h[t]}):(c=function(t){return _[m[t]]+h[t]},f=function(t){return d*m[t]});var S=function(t,e){return c(t,e)+4+s.legend_item_tile_width},C=function(t,e){return c(t,e)},R=function(t,e){return c(t,e)-2},F=function(t,e){return c(t,e)-2+s.legend_item_tile_width},X=function(t,e){return f(t,e)+9},I=function(t,e){return f(t,e)-5},M=function(t,e){return f(t,e)+4},k=a.legend.selectAll("."+r["default"].legendItem).data(T).enter().append("g");a.setLegendItem(k),k.append("text").text(function(t){return(0,o.isDefined)(s.data_names[t])?s.data_names[t]:t}).each(function(t,e){L(this,t,e)}).style("pointer-events","none").attr("x",b?S:-200).attr("y",b?-200:X),k.append("rect").attr("class",r["default"].legendItemEvent).style("fill-opacity","0").attr("x",b?C:-200).attr("y",b?-200:I);var E=a.config.legend_usePoint;if(E){var B=[];k.append(function(t){var e=(0,o.notEmpty)(s.point_pattern)?s.point_pattern:[s.point_type];-1===B.indexOf(t)&&B.push(t);var i=e[B.indexOf(t)%e.length];return"rectangle"===i&&(i="rect"),document.createElementNS(n.namespaces.svg,a.hasValidPointType(i)?i:"use")}).attr("class",r["default"].legendItemPoint).style("fill",function(t){return a.color(t)}).style("pointer-events","none").attr("href",function(t,e,i){return"use"===i[e].nodeName.toLowerCase()?"#"+a.datetimeId+"-point-"+t:void 0})}else k.append("line").attr("class",r["default"].legendItemTile).style("stroke",a.color).style("pointer-events","none").attr("x1",b?R:-200).attr("y1",b?-200:M).attr("x2",b?F:-200).attr("y2",b?-200:M).attr("stroke-width",s.legend_item_tile_height);y=a.legend.select("."+r["default"].legendBackground+" rect"),a.isLegendInset&&u>0&&0===y.size()&&(y=a.legend.insert("g","."+r["default"].legendItem).attr("class",r["default"].legendBackground).append("rect"));var O=a.legend.selectAll("text").data(T).text(function(t){return(0,o.isDefined)(s.data_names[t])?s.data_names[t]:t}).each(function(t,e){L(this,t,e)});(w?O.transition():O).attr("x",S).attr("y",X);var P=a.legend.selectAll("rect."+r["default"].legendItemEvent).data(T);if((w?P.transition():P).attr("width",function(t){return p[t]}).attr("height",function(t){return x[t]}).attr("x",C).attr("y",I),E){var z=a.legend.selectAll("."+r["default"].legendItemPoint).data(T);(w?z.transition():z).each(function(){var t=this.nodeName.toLowerCase(),e=a.config.point_r,i="x",r="y",o=2,s=2.5,l=void 0,u=void 0,d=void 0;if("circle"===t){var c=.2*e;i="cx",r="cy",l=e+c,o=2*e,s=-c}else if("rect"===t){var f=2.5*e;u=f,d=f,s=3}(0,n.select)(this).attr(i,function(t){return R(t)+o}).attr(r,function(t){return M(t)-s}).attr("r",l).attr("width",u).attr("height",d)})}else{var Y=a.legend.selectAll("line."+r["default"].legendItemTile).data(T);(w?Y.transition():Y).style("stroke",a.color).attr("x1",R).attr("y1",M).attr("x2",F).attr("y2",M)}y&&(w?y.transition():y).attr("height",a.getLegendHeight()-12).attr("width",u*(v+1)+10),a.legend.selectAll("."+r["default"].legendItem).classed(r["default"].legendItemHidden,function(t){return!a.isTargetToShow(t)}),a.updateLegendItemWidth(u),a.updateLegendItemHeight(d),a.updateLegendStep(v),a.updateSizes(),a.updateScales(!w),a.updateSvgSize(),a.transformAll(D,i),a.legendHasRendered=!0}})},function(t,e,i){"use strict";var n=function(t){return t&&t.__esModule?t:{"default":t}}(i(3));(0,i(11).extend)(n["default"].prototype,{initTitle:function(){this.title=this.svg.append("text").text(this.config.title_text).attr("class",this.CLASS.title)},redrawTitle:function(){var t=this;t.title.attr("x",t.xForTitle.bind(t)).attr("y",t.yForTitle.bind(t))},xForTitle:function(){var t=this,e=t.config,i=e.title_position||"left";return i.indexOf("right")>=0?t.currentWidth-t.getTextRect(t.title,t.CLASS.title,t.title).width-e.title_padding.right:i.indexOf("center")>=0?(t.currentWidth-t.getTextRect(t.title,t.CLASS.title,t.title).width)/2:e.title_padding.left},yForTitle:function(){var t=this;return t.config.title_padding.top+t.getTextRect(t.title,t.CLASS.title,t.title).height},getTitlePadding:function(){return this.yForTitle()+this.config.title_padding.bottom}})},function(t,e,i){"use strict";var n=function(t){return t&&t.__esModule?t:{"default":t}}(i(3));(0,i(11).extend)(n["default"].prototype,{getClipPath:function(t){var e=this.config;return!e.clipPath&&/-clip$/.test(t)||!e.axis_x_clipPath&&/-clip-xaxis$/.test(t)||!e.axis_y_clipPath&&/-clip-yaxis$/.test(t)?null:"url("+(window.navigator.appVersion.toLowerCase().indexOf("msie 9.")>=0?"":document.URL.split("#")[0])+"#"+t+")"},appendClip:function(t,e){return t.append("clipPath").attr("id",e).append("rect")},getAxisClipX:function(t){var e=Math.max(30,this.margin.left);return t?-(1+e):-(e-1)},getAxisClipY:function(t){return t?-20:-this.margin.top},getXAxisClipX:function(){return this.getAxisClipX(!this.config.axis_rotated)},getXAxisClipY:function(){return this.getAxisClipY(!this.config.axis_rotated)},getYAxisClipX:function(){return this.config.axis_y_inner?-1:this.getAxisClipX(this.config.axis_rotated)},getYAxisClipY:function(){return this.getAxisClipY(this.config.axis_rotated)},getAxisClipWidth:function(t){var e=Math.max(30,this.margin.left),i=Math.max(30,this.margin.right);return t?this.width+2+e+i:this.margin.left+20},getAxisClipHeight:function(t){return(t?this.margin.bottom:this.margin.top+this.height)+20},getXAxisClipWidth:function(){return this.getAxisClipWidth(!this.config.axis_rotated)},getXAxisClipHeight:function(){return this.getAxisClipHeight(!this.config.axis_rotated)},getYAxisClipWidth:function(){return this.getAxisClipWidth(this.config.axis_rotated)+(this.config.axis_y_inner?20:0)},getYAxisClipHeight:function(){return this.getAxisClipHeight(this.config.axis_rotated)}})},function(t,e,i){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}var n=i(5),a=_interopRequireDefault(i(3)),r=_interopRequireDefault(i(14)),o=i(11);(0,o.extend)(a["default"].prototype,{initRegion:function(){this.region=this.main.append("g").attr("clip-path",this.clipPath).attr("class",r["default"].regions)},updateRegion:function(t){var e=this,i=e.config;e.region.style("visibility",e.hasArcType()?"hidden":"visible"),e.mainRegion=e.main.select("."+r["default"].regions).selectAll("."+r["default"].region).data(i.regions),e.mainRegion.exit().transition().duration(t).style("opacity","0").remove(),
e.mainRegion=e.mainRegion.enter().append("g").merge(e.mainRegion).attr("class",e.classRegion.bind(e)),e.mainRegion.append("rect").style("fill-opacity","0")},redrawRegion:function(t){var e=this,i=e.mainRegion.select("rect");return i=(t?i.transition():i).attr("x",e.regionX.bind(e)).attr("y",e.regionY.bind(e)).attr("width",e.regionWidth.bind(e)).attr("height",e.regionHeight.bind(e)),[(t?i.transition():i).style("fill-opacity",function(t){return(0,o.isValue)(t.opacity)?t.opacity:"0.1"}).on("end",function(){(0,n.select)(this.parentNode).selectAll("rect:not([x])").remove()})]},getRegionXY:function(t,e){var i=this,n=i.config.axis_rotated,a="x"===t,r="start",o=0;return"y"===e.axis||"y2"===e.axis?(!a&&(r="end"),(a?n:!n)&&r in e&&(o=(0,i[e.axis])(e[r]))):(a?!n:n)&&r in e&&(o=(i.zoomScale||i.x)(i.isTimeSeries()?i.parseDate(e[r]):e[r])),o},regionX:function(t){return this.getRegionXY("x",t)},regionY:function(t){return this.getRegionXY("y",t)},getRegionSize:function(t,e){var i=this,n=i.config.axis_rotated,a="width"===t,r=i[a?"regionX":"regionY"](e),o="end",s=i[t];return"y"===e.axis||"y2"===e.axis?(!a&&(o="start"),(a?n:!n)&&o in e&&(s=(0,i[e.axis])(e[o]))):(a?!n:n)&&o in e&&(s=(i.zoomScale||i.x)(i.isTimeSeries()?i.parseDate(e[o]):e[o])),s<r?0:s-r},regionWidth:function(t){return this.getRegionSize("width",t)},regionHeight:function(t){return this.getRegionSize("height",t)},isRegionOnX:function(t){return!t.axis||"x"===t.axis}})},function(t,e,i){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}var n=i(5),a=_interopRequireDefault(i(3)),r=_interopRequireDefault(i(14)),o=i(11);(0,o.extend)(a["default"].prototype,{drag:function(t){var e=this,i=e.config,a=e.main;if(!e.hasArcType()&&i.data_selection_enabled&&(!i.zoom_enabled||e.zoom.altDomain)&&i.data_selection_multiple){var s=e.dragStart,l=s[0],u=s[1],d=t[0],c=t[1],f=Math.min(l,d),g=Math.max(l,d),h=i.data_selection_grouped?e.margin.top:Math.min(u,c),p=i.data_selection_grouped?e.height:Math.max(u,c);a.select("."+r["default"].dragarea).attr("x",f).attr("y",h).attr("width",g-f).attr("height",p-h),a.selectAll("."+r["default"].shapes).selectAll("."+r["default"].shape).filter(function(t){return i.data_selection_isselectable(t)}).each(function(t,i){var a=(0,n.select)(this),s=a.classed(r["default"].SELECTED),l=a.classed(r["default"].INCLUDED),u=void 0,d=void 0,c=void 0,x=void 0,_=void 0,m=!1,v=void 0;if(a.classed(r["default"].circle))u=1*a.attr("cx"),d=1*a.attr("cy"),_=e.togglePoint,m=f<u&&u<g&&h<d&&d<p;else{if(!a.classed(r["default"].bar))return;u=(v=(0,o.getPathBox)(this)).x,d=v.y,c=v.width,x=v.height,_=e.togglePath,m=!(g<u||u+c<f||p<d||d+x<h)}m^l&&(a.classed(r["default"].INCLUDED,!l),a.classed(r["default"].SELECTED,!s),_.call(e,!s,a,t,i))})}},dragstart:function(t){var e=this,i=e.config;e.hasArcType()||!i.data_selection_enabled||(e.dragStart=t,e.main.select("."+r["default"].chart).append("rect").attr("class",r["default"].dragarea).style("opacity","0.1"),e.setDragStatus(!0))},dragend:function(){var t=this,e=t.config;t.hasArcType()||!e.data_selection_enabled||(t.main.select("."+r["default"].dragarea).transition().duration(100).style("opacity","0").remove(),t.main.selectAll("."+r["default"].shape).classed(r["default"].INCLUDED,!1),t.setDragStatus(!1))},setDragStatus:function(t){this.dragging=t}})},function(t,e,i){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}var n=i(5),a=i(49),r=_interopRequireDefault(i(3)),o=_interopRequireDefault(i(14)),s=i(11);(0,s.extend)(r["default"].prototype,{selectPoint:function(t,e,i){var n=this,a=n.config,r=a.axis_rotated,l=(r?n.circleY:n.circleX).bind(n),u=(r?n.circleX:n.circleY).bind(n),d=n.pointSelectR.bind(n);(0,s.callFn)(a.data_onselected,n.api,e,t.node()),n.main.select("."+o["default"].selectedCircles+n.getTargetSelectorSuffix(e.id)).selectAll("."+o["default"].selectedCircle+"-"+i).data([e]).enter().append("circle").attr("class",function(){return n.generateClass(o["default"].selectedCircle,i)}).attr("cx",l).attr("cy",u).attr("stroke",function(){return n.color(e)}).attr("r",function(t){return 1.4*n.pointSelectR(t)}).transition().duration(100).attr("r",d)},unselectPoint:function(t,e,i){(0,s.callFn)(this.config.data_onunselected,this.api,e,t.node()),this.main.select("."+o["default"].selectedCircles+this.getTargetSelectorSuffix(e.id)).selectAll("."+o["default"].selectedCircle+"-"+i).transition().duration(100).attr("r",0).remove()},togglePoint:function(t,e,i,n){this[(t?"":"un")+"selectPoint"](e,i,n)},selectPath:function(t,e){var i=this,n=i.config;(0,s.callFn)(n.data_onselected,i,e,t.node()),n.interaction_brighten&&t.transition().duration(100).style("fill",function(){return(0,a.rgb)(i.color(e)).brighter(.75)})},unselectPath:function(t,e){var i=this,n=i.config;(0,s.callFn)(n.data_onunselected,i,e,t.node()),n.interaction_brighten&&t.transition().duration(100).style("fill",function(){return i.color(e)})},togglePath:function(t,e,i,n){this[(t?"":"un")+"selectPath"](e,i,n)},getToggle:function(t,e){return"path"===t.nodeName?this.togglePath:this.isStepType(e)?function(){}:this.togglePoint},toggleShape:function(t,e,i){var a=this,r=a.config,s=(0,n.select)(t),l=s.classed(o["default"].SELECTED),u=a.getToggle(t,e).bind(a),d=void 0;if(r.data_selection_enabled&&r.data_selection_isselectable(e)){if(!r.data_selection_multiple){var c="."+o["default"].shapes;r.data_selection_grouped&&(c+=a.getTargetSelectorSuffix(e.id)),a.main.selectAll(c).selectAll("."+o["default"].shape).each(function(t,e){var i=(0,n.select)(this);i.classed(o["default"].SELECTED)&&(d=i,u(!1,i.classed(o["default"].SELECTED,!1),t,e))})}d&&d.node()===s.node()||(s.classed(o["default"].SELECTED,!l),u(!l,s,e,i))}}})},function(t,e){t.exports=c},function(t,e,i){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}var n=i(5),a=i(13),r=_interopRequireDefault(i(3)),o=_interopRequireDefault(i(14)),s=i(11);(0,s.extend)(r["default"].prototype,{initBrush:function(){var t=this;t.brush=t.config.axis_rotated?(0,a.brushY)():(0,a.brushX)();var e=function(){t.redrawForBrush()};t.brush.on("start",function(){"touch"===t.inputType&&t.hideTooltip(),e()}).on("brush",e),t.brush.update=function(){return 0===this.extent()()[1].filter(function(t){return isNaN(t)}).length&&t.context&&t.context.select("."+o["default"].brush).call(this),this},t.brush.scale=function(e,i){var n=t.svg.select(".bb-brush .overlay"),a=[[0,0]];e.range?a.push([e.range()[1],(i||!n.empty())&&~~n.attr("height")||60]):e.constructor===Array&&a.push(e),t.config.axis_rotated&&a.reverse(),this.extent(t.config.axis_x_extent||a),this.update()},t.brush.getSelection=function(){return t.context?t.context.select("."+o["default"].brush):(0,n.select)([])}},initSubchart:function(){var t=this,e=t.config,i=e.subchart_show?"visible":"hidden";t.context=t.svg.append("g").attr("transform",t.getTranslate("context"));var n=t.context;n.style("visibility",i),n.append("g").attr("clip-path",t.clipPathForSubchart).attr("class",o["default"].chart),n.select("."+o["default"].chart).append("g").attr("class",o["default"].chartBars),n.select("."+o["default"].chart).append("g").attr("class",o["default"].chartLines),n.append("g").attr("clip-path",t.clipPath).attr("class",o["default"].brush).call(t.brush),t.axes.subx=n.append("g").attr("class",o["default"].axisX).attr("transform",t.getTranslate("subx")).attr("clip-path",e.axis_rotated?"":t.clipPathForXAxis).style("visibility",e.subchart_axis_x_show?i:"hidden")},updateTargetsForSubchart:function(t){var e=this,i=e.context,n=e.config,a=e.classChartBar.bind(e),r=e.classBars.bind(e),s=e.classChartLine.bind(e),l=e.classLines.bind(e),u=e.classAreas.bind(e);if(n.subchart_show){var d=i.select("."+o["default"].chartBars).selectAll("."+o["default"].chartBar).data(t).attr("class",a);d.enter().append("g").style("opacity","0").attr("class",a).merge(d).append("g").attr("class",r);var c=i.select("."+o["default"].chartLines).selectAll("."+o["default"].chartLine).data(t).attr("class",s),f=c.enter().append("g").style("opacity","0").attr("class",s).merge(c);f.append("g").attr("class",l),f.append("g").attr("class",u),i.selectAll("."+o["default"].brush+" rect").attr(n.axis_rotated?"width":"height",n.axis_rotated?e.width2:e.height2)}},updateBarForSubchart:function(t){var e=this;e.contextBar=e.context.selectAll("."+o["default"].bars).selectAll("."+o["default"].bar).data(e.barData.bind(e)),e.contextBar.exit().transition().duration(t).style("opacity","0").remove(),e.contextBar=e.contextBar.enter().append("path").attr("class",e.classBar.bind(e)).style("stroke","none").style("fill",e.color).merge(e.contextBar).style("opacity",e.initialOpacity.bind(e))},redrawBarForSubchart:function(t,e,i){(e?this.contextBar.transition(Math.random().toString()).duration(i):this.contextBar).attr("d",t).style("opacity","1")},updateLineForSubchart:function(t){var e=this;e.contextLine=e.context.selectAll("."+o["default"].lines).selectAll("."+o["default"].line).data(e.lineData.bind(e)),e.contextLine.exit().transition().duration(t).style("opacity","0").remove(),e.contextLine=e.contextLine.enter().append("path").attr("class",e.classLine.bind(e)).style("stroke",e.color).merge(e.contextLine).style("opacity",e.initialOpacity.bind(e))},redrawLineForSubchart:function(t,e,i){(e?this.contextLine.transition(Math.random().toString()).duration(i):this.contextLine).attr("d",t).style("opacity","1")},updateAreaForSubchart:function(t){var e=this;e.contextArea=e.context.selectAll("."+o["default"].areas).selectAll("."+o["default"].area).data(e.lineData.bind(e)),e.contextArea.exit().transition().duration(t).style("opacity","0").remove(),e.contextArea=e.contextArea.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",function(){return e.orgAreaOpacity=(0,n.select)(this).style("opacity"),"0"}).merge(e.contextArea).style("opacity","0")},redrawAreaForSubchart:function(t,e,i){(e?this.contextArea.transition(Math.random().toString()).duration(i):this.contextArea).attr("d",t).style("fill",this.color).style("opacity",this.orgAreaOpacity)},redrawSubchart:function(t,e,i,a,r,o,l){var u=this,d=u.config;if(u.context.style("visibility",d.subchart_show?"visible":"hidden"),d.subchart_show&&(n.event&&"zoom"===n.event.type&&u.brush.update(),t)){(0,s.brushEmpty)(u)||u.brush.update();var c=u.generateDrawArea(r,!0),f=u.generateDrawBar(o,!0),g=u.generateDrawLine(l,!0);u.updateBarForSubchart(i),u.updateLineForSubchart(i),u.updateAreaForSubchart(i),u.redrawBarForSubchart(f,i,i),u.redrawLineForSubchart(g,i,i),u.redrawAreaForSubchart(c,i,i)}},redrawForBrush:function(){var t=this,e=t.x;t.redraw({withTransition:!1,withY:t.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withDimension:!1}),t.config.subchart_onbrush.call(t.api,e.orgDomain())},transformContext:function(t,e){var i=void 0;e&&e.axisSubX?i=e.axisSubX:(i=this.context.select("."+o["default"].axisX),t&&(i=i.transition())),this.context.attr("transform",this.getTranslate("context")),i.attr("transform",this.getTranslate("subx"))},getDefaultExtent:function(){var t=this,e=t.config,i=(0,s.isFunction)(e.axis_x_extent)?e.axis_x_extent(t.getXDomain(t.data.targets)):e.axis_x_extent;return t.isTimeSeries()&&(i=[t.parseDate(i[0]),t.parseDate(i[1])]),i}})},function(t,e,i){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}var n=i(6),a=i(5),r=i(28),o=i(52),s=_interopRequireDefault(i(3)),l=_interopRequireDefault(i(14)),u=i(11);(0,u.extend)(s["default"].prototype,{initZoom:function(){this.zoomScale=null,this.generateZoom()},bindZoomEvent:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this,i=e.config.zoom_enabled;e.redrawEventRect(),i&&t?e.bindZoomOnEventRect(i.type):!1===t&&(e.api.unzoom(),e.main.select("."+l["default"].eventRects).on(".zoom",null).on(".drag",null))},generateZoom:function(){var t=this,e=t.config,i=(0,o.zoom)().duration(0).on("start",t.onZoomStart.bind(t)).on("zoom",t.onZoom.bind(t)).on("end",t.onZoomEnd.bind(t));i.orgScaleExtent=function(){var i=e.zoom_extent||[1,10];return[i[0],Math.max(t.getMaxDataCount()/i[1],i[1])]},i.updateScaleExtent=function(){var e=(0,u.diffDomain)(t.x.orgDomain())/(0,u.diffDomain)(t.getZoomDomain()),i=this.orgScaleExtent();return this.scaleExtent([i[0]*e,i[1]*e]),this},i.updateTransformScale=function(i){var n=i.rescaleX(t.subX.orgScale()),a=t.trimXDomain(n.domain()),r=e.zoom_rescale;n.domain(a,t.orgXDomain),t.zoomScale=t.getCustomizedScale(n),t.xAxis.scale(t.zoomScale),r&&t.x.domain(t.zoomScale.orgDomain())},t.zoom=i},onZoomStart:function(){var t=this,e=a.event.sourceEvent;t.zoom.altDomain=e.altKey?t.x.orgDomain():null,t.zoom.startEvent=e,(0,u.callFn)(t.config.zoom_onzoomstart,t.api,e)},onZoom:function(){var t=this,e=t.config,i=a.event;if(e.zoom_enabled){var n="mousemove"===i.sourceEvent.type,r=i.transform;return t.zoom.updateTransformScale(r),0===t.filterTargetsToShow(t.data.targets).length?void 0:n&&t.zoom.altDomain?(t.x.domain(t.zoom.altDomain),void r.scale(t.zoomScale).updateScaleExtent()):(t.isCategorized()&&t.x.orgDomain()[0]===t.orgXDomain[0]&&t.x.domain([t.orgXDomain[0]-1e-10,t.x.orgDomain()[1]]),t.redraw({withTransition:!1,withY:e.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),t.cancelClick=n,void(0,u.callFn)(e.zoom_onzoom,t.api,t.subX.domain()))}},onZoomEnd:function(){var t=this,e=t.zoom.startEvent;event&&e.clientX===event.clientX&&e.clientY===event.clientY||(t.redrawEventRect(),t.updateZoom(),(0,u.callFn)(t.config.zoom_onzoomend,t.api,t.subX.domain()))},getZoomDomain:function(){var t=this.config;return[(0,n.min)([this.orgXDomain[0],t.zoom_x_min]),(0,n.max)([this.orgXDomain[1],t.zoom_x_max])]},updateZoom:function(){var t=this;if(t.zoomScale){var e=t.zoomScale.domain(),i=t.subX.domain();(e[0]<=i[0]||e[0]-.015<=i[0])&&(i[1]<=e[1]||i[1]<=e[1]-.015)&&(t.xAxis.scale(t.subX),t.x.domain(t.subX.orgDomain()),t.zoomScale=null)}},bindZoomOnEventRect:function(t){var e="drag"===t?this.zoomBehaviour:this.zoom;this.main.select("."+l["default"].eventRects).call(e).on("dblclick.zoom",null)},initZoomBehaviour:function(){var t=this,e=t.config.axis_rotated,i=0,n=0,o=null;t.zoomBehaviour=(0,r.drag)().clickDistance(4).on("start",function(){t.setDragStatus(!0),o||(o=t.main.append("rect").attr("clip-path",t.clipPath).attr("class",l["default"].zoomBrush).attr("width",e?t.width:0).attr("height",e?0:t.height)),i=(0,a.mouse)(this)[0],n=i,o.attr("x",i).attr("width",0),t.onZoomStart()}).on("drag",function(){n=(0,a.mouse)(this)[0],o.attr("x",Math.min(i,n)).attr("width",Math.abs(n-i))}).on("end",function(){var e,r=t.zoomScale||t.x;if(t.setDragStatus(!1),o.attr("x",0).attr("width",0),i>n&&(i=(e=[n,i])[0],n=e[1]),i<0&&(n+=Math.abs(i),i=0),i!==n)t.api.zoom([i,n].map(function(t){return r.invert(t)})),t.onZoomEnd();else if(t.isMultipleX())t.clickHandlerForMultipleXS.bind(this)(t);else{var s=a.event.sourceEvent||a.event,l="clientX"in s?[s.clientX,s.clientY]:[s.x,s.y],u=l[0],d=l[1],c=document.elementFromPoint(u,d);t.clickHandlerForSingleX.bind(c)((0,a.select)(c).datum(),t)}})},setZoomResetButton:function(){var t=this,e=t.config,i=e.zoom_resetButton;i&&"drag"===e.zoom_enabled.type&&(t.zoom.resetBtn?t.zoom.resetBtn.style("display",null):t.zoom.resetBtn=t.selectChart.append("div").classed(l["default"].button,!0).append("span").on("click",t.api.unzoom.bind(t)).classed(l["default"].buttonZoomReset,!0).text(i.text||"Reset Zoom"))}})},function(t,e){t.exports=f},function(t,e,i){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}var n=i(5),a=i(10),r=_interopRequireDefault(i(3)),o=_interopRequireDefault(i(14)),s=i(11),l=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"];(0,s.extend)(r["default"].prototype,{getColorFromCss:function(){var t=document.body,e=t.__colorPattern__;if(!e){var i=document.createElement("span");i.className=o["default"].colorPattern,i.style.display="none",t.appendChild(i);var n=window.getComputedStyle(i).backgroundImage;i.parentNode.removeChild(i),n.indexOf(";")>-1&&(e=n.replace(/url[^#]*|["'()]|(\s|%20)/g,"").split(";").map(function(t){return t.trim().replace(/[\"'\s]/g,"")}).filter(Boolean),t.__colorPattern__=e)}return e},generateColor:function(){var t=this,e=t.config,i=e.data_colors,r=e.data_color,o=[],u=(0,s.notEmpty)(e.color_pattern)?e.color_pattern:(0,a.scaleOrdinal)(t.getColorFromCss()||l).range(),d=u;if((0,s.isFunction)(e.color_tiles)){var c=e.color_tiles(),f=u.map(function(e,i){var a=e.replace(/[#\(\)\s,]/g,""),r=t.datetimeId+"-pattern-"+a+"-"+i;return function(t,e,i){var a=(0,n.select)(t.cloneNode(!0));return a.attr("id",i).insert("rect",":first-child").attr("width",a.attr("width")).attr("height",a.attr("height")).style("fill",e),{id:i,node:a.node()}}(c[i%c.length],e,r)});u=f.map(function(t){return"url(#"+t.id+")"}),t.patterns=f}return function(e){var n=e.id||e.data&&e.data.id||e,a=t.isTypeOf(n,["line","spline","step"])||!t.config.data_types[n],l=void 0;return(0,s.isFunction)(i[n])?l=i[n](e):i[n]?l=i[n]:(o.indexOf(n)<0&&o.push(n),l=a?d[o.indexOf(n)%d.length]:u[o.indexOf(n)%u.length],i[n]=l),(0,s.isFunction)(r)?r(l,e):l}},generateLevelColor:function(){var t=this.config,e=t.color_pattern,i=t.color_threshold,n="value"===i.unit,a=i.max||100,r=i.values&&i.values.length?i.values:[];return(0,s.notEmpty)(i)?function(t){for(var i=e[e.length-1],o=0;o<r.length;o++)if((n?t:100*t/a)<r[o]){i=e[o];break}return i}:null}})},function(t,e,i){"use strict";var n=function(t){return t&&t.__esModule?t:{"default":t}}(i(3)),a=i(11),r=function(t,e,i){var n=t.config,a="axis_"+e+"_tick_format";return(n[a]?n[a]:t.defaultValueFormat)(i)};(0,a.extend)(n["default"].prototype,{getYFormat:function(t){var e=this,i=e.yFormat,n=e.y2Format;return t&&!e.hasType("gauge")&&(i=e.defaultArcValueFormat,n=e.defaultArcValueFormat),function(t,a,r){return("y2"===e.axis.getId(r)?n:i).call(e,t,a)}},yFormat:function(t){return r(this,"y",t)},y2Format:function(t){return r(this,"y2",t)},defaultValueFormat:function(t){return(0,a.isValue)(t)?+t:""},defaultArcValueFormat:function(t,e){return(100*e).toFixed(1)+"%"},dataLabelFormat:function(t){var e=this.config.data_labels,i=function(t){return(0,a.isValue)(t)?+t:""},n=i;return(0,a.isFunction)(e.format)?n=e.format:(0,a.isObjectType)(e.format)&&(n=e.format[t]?!0===e.format[t]?i:e.format[t]:function(){return""}),n}})},function(t,e,i){"use strict";var n=function(t){return t&&t.__esModule?t:{"default":t}}(i(3));(0,i(11).extend)(n["default"].prototype,{hasCaches:function(t){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){for(var e=0,i=t.length;e<i;e++)if(!(t[e]in this.cache))return!1;return!0}return t in this.cache},addCache:function(t,e){var i=!!(arguments.length>2&&void 0!==arguments[2])&&arguments[2];this.cache[t]=i?this.cloneTarget(e):e},getCache:function(t){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){for(var e,i=[],n=0;e=t[n];n++)e in this.cache&&i.push(this.cloneTarget(this.cache[e]));return i}return this.cache[t]||null},resetCache:function(t){for(var e in this.cache)(t||/^\$/.test(e))&&(this.cache[e]=null)}})},function(t,e,i){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}var n=_interopRequireDefault(i(3)),a=_interopRequireDefault(i(14));(0,i(11).extend)(n["default"].prototype,{CLASS:a["default"],generateClass:function(t,e){return" "+t+" "+(t+this.getTargetSelectorSuffix(e))},classText:function(t){return this.generateClass(a["default"].text,t.index)},classTexts:function(t){return this.generateClass(a["default"].texts,t.id)},classShape:function(t){return this.generateClass(a["default"].shape,t.index)},classShapes:function(t){return this.generateClass(a["default"].shapes,t.id)},generateExtraLineClass:function(){var t=this.config.line_classes||[],e=[];return function(i){var n=i.id||i.data&&i.data.id||i;return e.indexOf(n)<0&&e.push(n),t[e.indexOf(n)%t.length]}},classLine:function(t){return this.classShape(t)+this.generateClass(a["default"].line,t.id)},classLines:function(t){return this.classShapes(t)+this.generateClass(a["default"].lines,t.id)},classCircle:function(t){return this.classShape(t)+this.generateClass(a["default"].circle,t.index)},classCircles:function(t){return this.classShapes(t)+this.generateClass(a["default"].circles,t.id)},classBar:function(t){return this.classShape(t)+this.generateClass(a["default"].bar,t.index)},classBars:function(t){return this.classShapes(t)+this.generateClass(a["default"].bars,t.id)},classArc:function(t){return this.classShape(t.data)+this.generateClass(a["default"].arc,t.data.id)},classArcs:function(t){return this.classShapes(t.data)+this.generateClass(a["default"].arcs,t.data.id)},classArea:function(t){return this.classShape(t)+this.generateClass(a["default"].area,t.id)},classAreas:function(t){return this.classShapes(t)+this.generateClass(a["default"].areas,t.id)},classRegion:function(t,e){return this.generateClass(a["default"].region,e)+" "+("class"in t?t["class"]:"")},classEvent:function(t){return this.generateClass(a["default"].eventRect,t.index)},classTarget:function(t){var e=this.config.data_classes[t],i="";return e&&(i=" "+a["default"].target+"-"+e),this.generateClass(a["default"].target,t)+i},classFocus:function(t){return this.classFocused(t)+this.classDefocused(t)},classFocused:function(t){return" "+(this.focusedTargetIds.indexOf(t.id)>=0?a["default"].focused:"")},classDefocused:function(t){return" "+(this.defocusedTargetIds.indexOf(t.id)>=0?a["default"].defocused:"")},classChartText:function(t){return a["default"].chartText+this.classTarget(t.id)},classChartLine:function(t){return a["default"].chartLine+this.classTarget(t.id)},classChartBar:function(t){return a["default"].chartBar+this.classTarget(t.id)},classChartArc:function(t){return a["default"].chartArc+this.classTarget(t.data.id)},classChartRadar:function(t){return a["default"].chartRadar+this.classTarget(t.id)},getTargetSelectorSuffix:function(t){return t||0===t?("-"+t).replace(/[\s?!@#$%^&*()_=+,.<>'":;\[\]\/|~`{}\\]/g,"-"):""},selectorTarget:function(t,e){return(e||"")+"."+(a["default"].target+this.getTargetSelectorSuffix(t))},selectorTargets:function(t,e){var i=this,n=t||[];return n.length?n.map(function(t){return i.selectorTarget(t,e)}):null},selectorLegend:function(t){return"."+(a["default"].legendItem+this.getTargetSelectorSuffix(t))},selectorLegends:function(t){var e=this;return t&&t.length?t.map(function(t){return e.selectorLegend(t)}):null}})},function(t,e,i){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}var n=i(5),a=_interopRequireDefault(i(1)),r=_interopRequireDefault(i(14));(0,i(11).extend)(a["default"].prototype,{focus:function(t){var e=this.internal,i=e.mapToTargetIds(t),n=e.svg.selectAll(e.selectorTargets(i.filter(e.isTargetToShow,e)));this.revert(),this.defocus(),n.classed(r["default"].focused,!0).classed(r["default"].defocused,!1),e.hasArcType()&&e.expandArc(i),e.toggleFocusLegend(i,!0),e.focusedTargetIds=i,e.defocusedTargetIds=e.defocusedTargetIds.filter(function(t){return i.indexOf(t)<0})},defocus:function(t){var e=this.internal,i=e.mapToTargetIds(t);e.svg.selectAll(e.selectorTargets(i.filter(e.isTargetToShow,e))).classed(r["default"].focused,!1).classed(r["default"].defocused,!0),e.hasArcType()&&e.unexpandArc(i),e.toggleFocusLegend(i,!1),e.focusedTargetIds=e.focusedTargetIds.filter(function(t){return i.indexOf(t)<0}),e.defocusedTargetIds=i},revert:function(t){var e=this.internal,i=e.mapToTargetIds(t);e.svg.selectAll(e.selectorTargets(i)).classed(r["default"].focused,!1).classed(r["default"].defocused,!1),e.hasArcType()&&e.unexpandArc(i),e.config.legend_show&&(e.showLegend(i.filter(e.isLegendToShow.bind(e))),e.legend.selectAll(e.selectorLegends(i)).filter(function(){return(0,n.select)(this).classed(r["default"].legendItemFocused)}).classed(r["default"].legendItemFocused,!1)),e.focusedTargetIds=[],e.defocusedTargetIds=[]}})},function(t,e,i){"use strict";var n=function(t){return t&&t.__esModule?t:{"default":t}}(i(1));(0,i(11).extend)(n["default"].prototype,{show:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.internal,n=i.mapToTargetIds(t);i.removeHiddenTargetIds(n);var a=i.svg.selectAll(i.selectorTargets(n));a.transition().style("opacity","1","important").call(i.endall,function(){a.style("opacity",null).style("opacity","1")}),e.withLegend&&i.showLegend(n),i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},hide:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.internal,n=i.mapToTargetIds(t);i.addHiddenTargetIds(n);var a=i.svg.selectAll(i.selectorTargets(n));a.transition().style("opacity","0","important").call(i.endall,function(){a.style("opacity",null).style("opacity","0")}),e.withLegend&&i.hideLegend(n),i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},toggle:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.internal,a={show:[],hide:[]};n.mapToTargetIds(t).forEach(function(t){return a[n.isTargetToShow(t)?"hide":"show"].push(t)}),a.show.length&&this.show(a.show,i),a.hide.length&&setTimeout(function(){return e.hide(a.hide,i)},0)}})},function(t,e,i){"use strict";var n=i(6),a=i(52),r=function(t){return t&&t.__esModule?t:{"default":t}}(i(1)),o=i(11),s=function(t){var e=this.internal,i=t,n=void 0;if(e.config.zoom_enabled&&i){if(e.isTimeSeries()&&(i=i.map(function(t){return e.parseDate(t)})),e.config.subchart_show){var a=e.zoomScale||e.x;e.brush.getSelection().call(e.brush.move,[a(i[0]),a(i[1])]),n=i}else e.x.domain(i),e.zoomScale=e.x,e.xAxis.scale(e.zoomScale),n=e.zoomScale.orgDomain();e.redraw({withTransition:!0,withY:e.config.zoom_rescale,withDimension:!1}),e.setZoomResetButton(),(0,o.callFn)(e.config.zoom_onzoom,this,e.x.orgDomain())}else n=e.zoomScale?e.zoomScale.domain():e.x.orgDomain();return n};(0,o.extend)(s,{enable:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"wheel",e=this.internal,i=e.config,n=t;t&&(n=(0,o.isString)(t)&&/^(drag|wheel)$/.test(t)?{type:t}:t),i.zoom_enabled=n,e.zoom?!1===t&&e.bindZoomEvent(!1):(e.initZoom(),e.initZoomBehaviour(),e.bindZoomEvent()),e.updateAndRedraw()},max:function(t){var e=this.internal,i=e.config;return(0===t||t)&&(i.zoom_x_max=(0,n.max)([e.orgXDomain[1],t])),i.zoom_x_max},min:function(t){var e=this.internal,i=e.config;return(0===t||t)&&(i.zoom_x_min=(0,n.min)([e.orgXDomain[0],t])),i.zoom_x_min},range:function(t){var e=this.zoom;return(0,o.isObject)(t)&&((0,o.isDefined)(t.min)&&e.min(t.min),(0,o.isDefined)(t.max)&&e.max(t.max)),{min:e.min(),max:e.max()}}}),(0,o.extend)(r["default"].prototype,{zoom:s,unzoom:function(){var t=this.internal,e=t.config;t.zoomScale&&(e.subchart_show?t.brush.getSelection().call(t.brush.move,null):t.zoom.updateTransformScale(a.zoomIdentity),t.updateZoom(),t.zoom.resetBtn&&t.zoom.resetBtn.style("display","none"),t.redraw({withTransition:!0,withY:e.zoom_rescale}))}})},function(t,e,i){"use strict";var n=function(t){return t&&t.__esModule?t:{"default":t}}(i(1)),a=i(11);(0,a.extend)(n["default"].prototype,{load:function(t){var e=this.internal,i=e.config;return t.xs&&e.addXs(t.xs),"names"in t&&this.data.names(t.names),"classes"in t&&Object.keys(t.classes).forEach(function(e){i.data_classes[e]=t.classes[e]}),"categories"in t&&e.isCategorized()&&(i.axis_x_categories=t.categories),"axes"in t&&Object.keys(t.axes).forEach(function(e){i.data_axes[e]=t.axes[e]}),"colors"in t&&Object.keys(t.colors).forEach(function(e){i.data_colors[e]=t.colors[e]}),"cacheIds"in t&&e.hasCaches(t.cacheIds,!0)?void e.load(e.getCache(t.cacheIds,!0),t.done):void("unload"in t&&!1!==t.unload?e.unload(e.mapToTargetIds(!0===t.unload?null:t.unload),function(){return e.loadFromArgs(t)}):e.loadFromArgs(t))},unload:function(t){var e=this.internal,i=t||{};(0,a.isArray)(i)?i={ids:i}:(0,a.isString)(i)&&(i={ids:[i]}),e.unload(e.mapToTargetIds(i.ids),function(){e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),i.done&&i.done()})}})},function(t,e,i){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}var n=i(5),a=i(62),r=i(7),o=_interopRequireDefault(i(1)),s=_interopRequireDefault(i(3)),l=i(11),u=_interopRequireDefault(i(14));(0,l.extend)(o["default"].prototype,{flow:function(t){var e=this.internal,i=[],n=e.getMaxDataCount(),a=void 0,r=void 0,o=0,s=0,u=void 0,d=void 0;if(t.json)a=e.convertJsonToData(t.json,t.keys);else if(t.rows)a=e.convertRowsToData(t.rows);else{if(!t.columns)return;a=e.convertColumnsToData(t.columns)}var c=e.convertDataToTargets(a,!0);e.data.targets.forEach(function(t){for(var n=!1,a=0;a<c.length;a++)if(t.id===c[a].id){n=!0,t.values[t.values.length-1]&&(s=t.values[t.values.length-1].index+1),o=c[a].values.length;for(var r=0;r<o;r++)c[a].values[r].index=s+r,e.isTimeSeries()||(c[a].values[r].x=s+r);t.values=t.values.concat(c[a].values),c.splice(a,1);break}n||i.push(t.id)}),e.data.targets.forEach(function(t){for(var n=0;n<i.length;n++)if(t.id===i[n]){s=t.values[t.values.length-1].index+1;for(var a=0;a<o;a++)t.values.push({id:t.id,index:s+a,x:e.isTimeSeries()?e.getOtherTargetX(s+a):s+a,value:null})}}),e.data.targets.length&&c.forEach(function(t){for(var i=[],n=e.data.targets[0].values[0].index;n<s;n++)i.push({id:t.id,index:n,x:e.isTimeSeries()?e.getOtherTargetX(n):n,value:null});t.values.forEach(function(t){t.index+=s,e.isTimeSeries()||(t.x+=s)}),t.values=i.concat(t.values)}),e.data.targets=e.data.targets.concat(c);var f=e.data.targets[0],g=f.values[0];(0,l.isDefined)(t.to)?(o=0,d=e.isTimeSeries()?e.parseDate(t.to):t.to,f.values.forEach(function(t){t.x<d&&o++})):(0,l.isDefined)(t.length)&&(o=t.length),n?1===n&&e.isTimeSeries()&&(u=(f.values[f.values.length-1].x-g.x)/2,r=[new Date(+g.x-u),new Date(+g.x+u)],e.updateXDomain(null,!0,!0,!1,r)):(u=e.isTimeSeries()?f.values.length>1?f.values[f.values.length-1].x-g.x:g.x-e.getXDomain(e.data.targets)[0]:1,r=[g.x-u,g.x],e.updateXDomain(null,!0,!0,!1,r)),e.updateTargets(e.data.targets),e.redraw({flow:{index:g.index,length:o,duration:(0,l.isValue)(t.duration)?t.duration:e.config.transition_duration,done:t.done,orgDataCount:n},withLegend:!0,withTransition:n>1,withTrimXDomain:!1,withUpdateXAxis:!0})}}),(0,l.extend)(s["default"].prototype,{generateFlow:function(t){var e=this,i=e.config;return function(){var o=t.targets,s=t.flow,d=t.drawBar,c=t.drawLine,f=t.drawArea,g=t.cx,h=t.cy,p=t.xv,x=t.xForText,_=t.yForText,m=t.duration,v=void 0,y=s.index,b=s.length,T=e.getValueOnIndex(e.data.targets[0].values,y),A=e.getValueOnIndex(e.data.targets[0].values,y+b),w=e.x.domain(),D=s.duration||m,L=s.done||function(){},S=e.generateWait(),C=e.xgrid||(0,n.selectAll)([]),R=e.xgridLines||(0,n.selectAll)([]),F=e.mainRegion||(0,n.selectAll)([]),X=e.mainText||(0,n.selectAll)([]),I=e.mainBar||(0,n.selectAll)([]),M=e.mainLine||(0,n.selectAll)([]),k=e.mainArea||(0,n.selectAll)([]),E=e.mainCircle||(0,n.selectAll)([]);e.flowing=!0,e.data.targets.forEach(function(t){t.values.splice(0,b)});var B=e.updateXDomain(o,!0,!0);e.updateXGrid&&e.updateXGrid(!0),s.orgDataCount?v=1===s.orgDataCount||(T&&T.x)===(A&&A.x)?e.x(w[0])-e.x(B[0]):e.isTimeSeries()?e.x(w[0])-e.x(B[0]):e.x(T.x)-e.x(A.x):1===e.data.targets[0].values.length?e.isTimeSeries()?(T=e.getValueOnIndex(e.data.targets[0].values,0),A=e.getValueOnIndex(e.data.targets[0].values,e.data.targets[0].values.length-1),v=e.x(T.x)-e.x(A.x)):v=(0,l.diffDomain)(B)/2:v=e.x(w[0])-e.x(B[0]);var O="translate("+v+",0) scale("+(0,l.diffDomain)(w)/(0,l.diffDomain)(B)+",1)";e.hideXGridFocus();var P=(0,r.transition)().ease(a.easeLinear).duration(D);S.add([e.axes.x.transition(P).call(e.xAxis.setTransition(P)),I.transition(P).attr("transform",O),M.transition(P).attr("transform",O),k.transition(P).attr("transform",O),E.transition(P).attr("transform",O),X.transition(P).attr("transform",O),F.filter(e.isRegionOnX).transition(P).attr("transform",O),C.transition(P).attr("transform",O),R.transition(P).attr("transform",O)]),P.call(S,function(){var t=[],n=[],a=[];if(b){for(var r,o=0;o<b;o++)r=y+o,t.push("."+u["default"].shape+"-"+r),
n.push("."+u["default"].text+"-"+r),a.push("."+u["default"].eventRect+"-"+r);e.svg.selectAll("."+u["default"].shapes).selectAll(t).remove(),e.svg.selectAll("."+u["default"].texts).selectAll(n).remove(),e.svg.selectAll("."+u["default"].eventRects).selectAll(a).remove(),e.svg.select("."+u["default"].xgrid).remove()}C.size()&&C.attr("transform",null).attr(e.xgridAttr),R.attr("transform",null),R.select("line").attr("x1",i.axis_rotated?0:p).attr("x2",i.axis_rotated?e.width:p),R.select("text").attr("x",i.axis_rotated?e.width:0).attr("y",p),I.attr("transform",null).attr("d",d),M.attr("transform",null).attr("d",c),k.attr("transform",null).attr("d",f),E.attr("transform",null),e.isCirclePoint()?E.attr("cx",g).attr("cy",h):E.attr("x",function(t){return g(t)-i.point_r}).attr("y",function(t){return h(t)-i.point_r}).attr("cx",g).attr("cy",h),X.attr("transform",null).attr("x",x).attr("y",_).style("fill-opacity",e.opacityForText.bind(e)),F.attr("transform",null),F.select("rect").filter(e.isRegionOnX).attr("x",e.regionX.bind(e)).attr("width",e.regionWidth.bind(e)),i.interaction_enabled&&e.redrawEventRect(),L(),e.flowing=!1})}}})},function(t,e){t.exports=g},function(t,e,i){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}var n=i(5),a=_interopRequireDefault(i(1)),r=i(11),o=_interopRequireDefault(i(14));(0,r.extend)(a["default"].prototype,{selected:function(t){var e=this.internal,i=[];return e.main.selectAll("."+(o["default"].shapes+e.getTargetSelectorSuffix(t))).selectAll("."+o["default"].shape).filter(function(){return(0,n.select)(this).classed(o["default"].SELECTED)}).each(function(t){return i.push(t)}),i},select:function(t,e,i){var a=this.internal,s=a.config;s.data_selection_enabled&&a.main.selectAll("."+o["default"].shapes).selectAll("."+o["default"].shape).each(function(l,u){var d=(0,n.select)(this),c=l.data?l.data.id:l.id,f=a.getToggle(this,l).bind(a),g=s.data_selection_grouped||!t||t.indexOf(c)>=0,h=!e||e.indexOf(u)>=0,p=d.classed(o["default"].SELECTED);d.classed(o["default"].line)||d.classed(o["default"].area)||(g&&h?s.data_selection_isselectable(l)&&!p&&f(!0,d.classed(o["default"].SELECTED,!0),l,u):(0,r.isDefined)(i)&&i&&p&&f(!1,d.classed(o["default"].SELECTED,!1),l,u))})},unselect:function(t,e){var i=this.internal,a=i.config;a.data_selection_enabled&&i.main.selectAll("."+o["default"].shapes).selectAll("."+o["default"].shape).each(function(r,s){var l=(0,n.select)(this),u=r.data?r.data.id:r.id,d=i.getToggle(this,r).bind(i),c=a.data_selection_grouped||!t||t.indexOf(u)>=0,f=!e||e.indexOf(s)>=0,g=l.classed(o["default"].SELECTED);l.classed(o["default"].line)||l.classed(o["default"].area)||c&&f&&a.data_selection_isselectable(r)&&g&&d(!1,l.classed(o["default"].SELECTED,!1),r,s)})}})},function(t,e,i){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}var n=_interopRequireDefault(i(1)),a=_interopRequireDefault(i(3)),r=i(11);(0,r.extend)(n["default"].prototype,{transform:function(t,e){var i=this.internal,n=["pie","donut"].indexOf(t)>=0?{withTransform:!0}:null;i.transformTo(e,t,n)}}),(0,r.extend)(a["default"].prototype,{transformTo:function(t,e,i){var n=this,a=!n.hasArcType(),r=i||{withTransitionForAxis:a};r.withTransitionForTransform=!1,n.transiting=!1,n.setTargetType(t,e),n.updateTargets(n.data.targets),n.updateAndRedraw(r)}})},function(t,e,i){"use strict";var n=function(t){return t&&t.__esModule?t:{"default":t}}(i(1)),a=i(11);(0,a.extend)(n["default"].prototype,{groups:function(t){var e=this.internal,i=e.config;return(0,a.isUndefined)(t)?i.data_groups:(i.data_groups=t,e.redraw(),i.data_groups)}})},function(t,e,i){"use strict";var n=function(t){return t&&t.__esModule?t:{"default":t}}(i(1)),a=i(11),r=function(t){var e=this.internal,i=e.config;return t?(i.grid_x_lines=t,e.redrawWithoutRescale(),i.grid_x_lines):i.grid_x_lines};(0,a.extend)(r,{add:function(t){return this.xgrids(this.internal.config.grid_x_lines.concat(t||[]))},remove:function(t){this.internal.removeGridLines(t,!0)}});var o=function(t){var e=this.internal,i=e.config;return t?(i.grid_y_lines=t,e.redrawWithoutRescale(),i.grid_y_lines):i.grid_y_lines};(0,a.extend)(o,{add:function(t){return this.ygrids(this.internal.config.grid_y_lines.concat(t||[]))},remove:function(t){this.internal.removeGridLines(t,!1)}}),(0,a.extend)(n["default"].prototype,{xgrids:r,ygrids:o})},function(t,e,i){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}var n=_interopRequireDefault(i(1)),a=_interopRequireDefault(i(14)),r=i(11),o=function(t){var e=this.internal,i=e.config;return t?(i.regions=t,e.redrawWithoutRescale(),t):i.regions};(0,r.extend)(o,{add:function(t){var e=this.internal,i=e.config;return t?(i.regions=i.regions.concat(t),e.redrawWithoutRescale(),i.regions):i.regions},remove:function(t){var e=this.internal,i=e.config,n=t||{},o=(0,r.getOption)(n,"duration",i.transition_duration),s=(0,r.getOption)(n,"classes",[a["default"].region]),l=e.main.select("."+a["default"].regions).selectAll(s.map(function(t){return"."+t}));return(o?l.transition().duration(o):l).style("opacity","0").remove(),l=i.regions,Object.keys(n).length?(l=l.filter(function(t){var e=!1;return!t["class"]||(t["class"].split(" ").forEach(function(t){s.indexOf(t)>=0&&(e=!0)}),!e)}),i.regions=l):i.regions=[],l}}),(0,r.extend)(n["default"].prototype,{regions:o})},function(t,e,i){"use strict";var n=function(t){return t&&t.__esModule?t:{"default":t}}(i(1)),a=i(11),r=function(t){var e=this.internal.data.targets;return(0,a.isUndefined)(t)?e:e.filter(function(e){return t.indexOf(e.id)>=0})};(0,a.extend)(r,{shown:function(t){return this.internal.filterTargetsToShow(this.data(t))},values:function(t){var e=null;if(t){var i=this.data(t);i&&(0,a.isArray)(i)&&(e=[],i.forEach(function(t){e=e.concat(t.values.map(function(t){return t.value}))}))}return e},names:function(t){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",t)},colors:function(t){return this.internal.updateDataAttributes("colors",t)},axes:function(t){return this.internal.updateDataAttributes("axes",t)}}),(0,a.extend)(n["default"].prototype,{data:r})},function(t,e,i){"use strict";var n=function(t){return t&&t.__esModule?t:{"default":t}}(i(1));(0,i(11).extend)(n["default"].prototype,{category:function(t,e){var i=this.internal,n=i.config;return arguments.length>1&&(n.axis_x_categories[t]=e,i.redraw()),n.axis_x_categories[t]},categories:function(t){var e=this.internal,i=e.config;return arguments.length?(i.axis_x_categories=t,e.redraw(),i.axis_x_categories):i.axis_x_categories}})},function(t,e,i){"use strict";var n=function(t){return t&&t.__esModule?t:{"default":t}}(i(1));(0,i(11).extend)(n["default"].prototype,{color:function(t){return this.internal.color(t)}})},function(t,e,i){"use strict";var n=function(t){return t&&t.__esModule?t:{"default":t}}(i(1));(0,i(11).extend)(n["default"].prototype,{x:function(t){var e=this.internal;return arguments.length&&(e.updateTargetX(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs},xs:function(t){var e=this.internal;return arguments.length&&(e.updateTargetXs(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs}})},function(t,e,i){"use strict";var n=function(t){return t&&t.__esModule?t:{"default":t}}(i(1)),a=i(11),r=function(t,e,i){var n=t.config,r="axis_y_"+e,o="axis_y2_"+e;return void((0,a.isDefined)(i)&&((0,a.isObjectType)(i)?((0,a.isValue)(i.x)&&(n["axis_x_"+e]=i.x),(0,a.isValue)(i.y)&&(n[r]=i.y),(0,a.isValue)(i.y2)&&(n[o]=i.y2)):(n[r]=i,n[o]=i),t.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})))},o=function(t,e){var i=t.config;return{x:i["axis_x_"+e],y:i["axis_y_"+e],y2:i["axis_y2_"+e]}},s=(0,a.extend)(function(){},{labels:function(t){var e=this.internal;arguments.length&&(Object.keys(t).forEach(function(i){e.axis.setLabelText(i,t[i])}),e.axis.updateLabels())},min:function(t){var e=this.internal;return arguments.length?r(e,"min",t):o(e,"min")},max:function(t){var e=this.internal;return arguments.length?r(e,"max",t):o(e,"max")},range:function(t){var e=this.axis;return arguments.length?((0,a.isDefined)(t.max)&&e.max(t.max),void((0,a.isDefined)(t.min)&&e.min(t.min))):{max:e.max(),min:e.min()}}});(0,a.extend)(n["default"].prototype,{axis:s})},function(t,e,i){"use strict";var n=function(t){return t&&t.__esModule?t:{"default":t}}(i(1)),a=i(11),r=(0,a.extend)(function(){},{show:function(t){var e=this.internal;e.showLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!0})},hide:function(t){var e=this.internal;e.hideLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!0})}});(0,a.extend)(n["default"].prototype,{legend:r})},function(t,e,i){"use strict";var n=function(t){return t&&t.__esModule?t:{"default":t}}(i(1)),a=i(75),r=i(11);(0,r.extend)(n["default"].prototype,{resize:function(t){var e=this.internal.config;e.size_width=t?t.width:null,e.size_height=t?t.height:null,this.flush()},flush:function(t){var e=this.internal;e.zoomScale=null,t?e.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withLegend:!0}):e.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},destroy:function(){var t=this,e=this.internal;return(0,r.notEmpty)(e)&&(e.charts.splice(e.charts.indexOf(this),1),(0,r.isDefined)(e.resizeTimeout)&&a.window.clearTimeout(e.resizeTimeout),a.window.removeEventListener("resize",e.resizeFunction),e.selectChart.classed("bb",!1).html(""),Object.keys(this).forEach(function(i){"internal"===i&&Object.keys(e).forEach(function(t){e[t]=null}),t[i]=null,delete t[i]})),null},config:function(t,e,i){var n=this.internal,a=t&&t.replace(/\./g,"_"),o=void 0;return a in n.config&&((0,r.isDefined)(e)?(n.config[a]=e,o=e,i&&this.flush(!0)):o=n.config[a]),o}})},function(t,e,i){"use strict";e.__esModule=!0,e.document=e.window=void 0;var n=i(11),a=(0,n.isDefined)(window)&&window.Math===Math?window:(0,n.isDefined)(self)&&(self.Math===Math?self:Function("return this")()),r=a.document;e.window=a,e.document=r},function(t,e,i){"use strict";var n=function(t){return t&&t.__esModule?t:{"default":t}}(i(1)),a=i(11),r=(0,a.extend)(function(){},{show:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.internal,i=void 0,n=void 0;t.mouse&&(n=t.mouse),t.data?e.isMultipleX()?(n=[e.x(t.data.x),e.getYScale(t.data.id)(t.data.value)],i=null):i=(0,a.isValue)(t.data.index)?t.data.index:e.getIndexByX(t.data.x):(0,a.isDefined)(t.x)?i=e.getIndexByX(t.x):(0,a.isDefined)(t.index)&&(i=t.index),("mouse"===e.inputType?["mouseover","mousemove"]:["touchstart"]).forEach(function(t){e.dispatchEvent(t,i,n)})},hide:function(){var t=this.internal;t.hideTooltip(),t.hideXGridFocus(),t.unexpandCircles(),t.unexpandBars()}});(0,a.extend)(n["default"].prototype,{tooltip:r})},function(t,e,i){"use strict";var n=function(t){return t&&t.__esModule?t:{"default":t}}(i(3)),a=i(11),r=window.navigator.userAgent;(0,a.extend)(n["default"].prototype,{isSafari:function(){return r.indexOf("Safari")>-1&&!this.isChrome()},isChrome:function(){return r.indexOf("Chrome")>-1},isMobile:function(){return r.indexOf("Mobi")>-1}})},function(t,e,i){"use strict";var n=i(5),a=function(t){return t&&t.__esModule?t:{"default":t}}(i(1)),r=i(11),o=function(t){var e=t.getBoundingClientRect(),i=t.cloneNode(!0),a=(0,r.toArray)(document.styleSheets),o=(0,r.getCssRules)(a).filter(function(t){return t.cssText}).map(function(t){return t.cssText});i.setAttribute("xmlns",n.namespaces.xhtml);var s=(new XMLSerializer).serializeToString(i);return"data:image/svg+xml;base64,"+function(t){return btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,function(t,e){return String.fromCharCode("0x"+e)}))}(('<svg xmlns="'+n.namespaces.svg+'" width="'+e.width+'" height="'+e.height+'">\n\t\t\t<foreignObject width="100%" height="100%">\n\t\t\t\t<style>'+o.join("\n")+"</style>\n\t\t\t\t"+s+"\n\t\t\t</foreignObject></svg>").replace(/#/g,"%23").replace("/\n/g","%0A"))};(0,r.extend)(a["default"].prototype,{"export":function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"image/png",e=arguments[1],i=o(this.element);if((0,r.isFunction)(e)){var n=new Image;n.crosssOrigin="Anonymous",n.onload=function(){var i=document.createElement("canvas"),a=i.getContext("2d");i.width=n.width,i.height=n.height,a.drawImage(n,0,0),i.toBlob(function(t){e(window.URL.createObjectURL(t))},t)},n.src=i}return i}})}])});